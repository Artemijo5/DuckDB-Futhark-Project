// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_1d;
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0);
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data);
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_i16_1d;
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0);
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data);
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
struct futhark_i32_1d;
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0);
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data);
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
struct futhark_i8_1d;
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0);
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data);
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);

// Opaque values
struct futhark_opaque_mergeInfo_double;
struct futhark_opaque_mergeInfo_float;
struct futhark_opaque_mergeInfo_int;
struct futhark_opaque_mergeInfo_long;
struct futhark_opaque_mergeInfo_short;
struct futhark_opaque_sortInfo_double;
struct futhark_opaque_sortInfo_float;
struct futhark_opaque_sortInfo_int;
struct futhark_opaque_sortInfo_long;
struct futhark_opaque_sortInfo_short;
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj);
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs);
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj);
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs);
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj);
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs);
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj);
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs);
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj);
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs);
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj);
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs);
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj);
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs);
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj);
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs);
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj);
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs);
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj);
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs);

// Entry points
int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0);
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0);
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0);
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0);
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0);
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1);
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1);
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1);
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1);
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1);
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4);
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3);
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3);
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3);
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3);
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2);
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2);
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2);
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2);
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
};
struct tuning_params {
    int dummy;
};
static const int num_tuning_params = 0;
static const char *tuning_param_names[] = {NULL};
static const char *tuning_param_vars[] = {NULL};
static const char *tuning_param_classes[] = {NULL};
static int64_t tuning_param_defaults[] = {0};
// Start of backends/c.h

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char *cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
};

static void backend_context_config_setup(struct futhark_context_config* cfg) {
  (void)cfg;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  (void)cfg;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config* cfg, const char *param_name, size_t param_value) {
  (void)cfg; (void)param_name; (void)param_value;
  return 1;
}

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
};

int backend_context_setup(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  (void)ctx;
}

int futhark_context_sync(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

// End of backends/c.h

struct program {
    int dummy;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_181958, struct memblock ks_mem_180280, int64_t n_109885);
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_181959, struct memblock ks_mem_180280, int64_t n_109716);
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_181960, struct memblock ks_mem_180280, int64_t n_109381);
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_181961, struct memblock ks_mem_180280, int64_t n_109547);
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_181962, struct memblock ks_mem_180280, int64_t n_109215);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_181963, struct memblock *mem_out_p_181964, struct memblock xs_mem_180280, int64_t n_107737, int64_t incr_107738);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_181975, struct memblock *mem_out_p_181976, struct memblock xs_mem_180280, int64_t n_105393, int64_t incr_105394);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_181987, struct memblock *mem_out_p_181988, struct memblock xs_mem_180280, int64_t n_100706, int64_t incr_100707);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_181999, struct memblock *mem_out_p_182000, struct memblock xs_mem_180280, int64_t n_103049, int64_t incr_103050);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182011, struct memblock *mem_out_p_182012, struct memblock xs_mem_180280, int64_t n_98362, int64_t incr_98363);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182023, struct memblock *mem_out_p_182024, struct memblock *mem_out_p_182025, int64_t *out_prim_out_182026, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_162524, int64_t nb_162525, int64_t window_sizze_162526, int64_t threads_162527, bool inParallel_162530);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182077, struct memblock *mem_out_p_182078, struct memblock *mem_out_p_182079, int64_t *out_prim_out_182080, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_152001, int64_t nb_152002, int64_t window_sizze_152003, int64_t threads_152004, bool inParallel_152007);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182131, struct memblock *mem_out_p_182132, struct memblock *mem_out_p_182133, int64_t *out_prim_out_182134, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_130955, int64_t nb_130956, int64_t window_sizze_130957, int64_t threads_130958, bool inParallel_130961);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_182185, struct memblock *mem_out_p_182186, struct memblock *mem_out_p_182187, int64_t *out_prim_out_182188, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_141478, int64_t nb_141479, int64_t window_sizze_141480, int64_t threads_141481, bool inParallel_141484);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_182239, struct memblock *mem_out_p_182240, struct memblock *mem_out_p_182241, int64_t *out_prim_out_182242, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_120432, int64_t nb_120433, int64_t window_sizze_120434, int64_t threads_120435, bool inParallel_120438);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_182293, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_109046, int64_t incr_109047, int64_t block_sizze_109048);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_182295, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_108784, int64_t incr_108785, int64_t block_sizze_108786);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_182297, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_108263, int64_t incr_108264, int64_t block_sizze_108265);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_182299, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_108522, int64_t incr_108523, int64_t block_sizze_108524);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_182301, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_108001, int64_t incr_108002, int64_t block_sizze_108003);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182303, struct memblock *mem_out_p_182304, struct memblock xs_mem_180280, int64_t n_95906, int64_t incr_95907, int16_t block_sizze_95908);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182330, struct memblock *mem_out_p_182331, struct memblock xs_mem_180280, int64_t n_93151, int64_t incr_93152, int16_t block_sizze_93153);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182357, struct memblock *mem_out_p_182358, struct memblock xs_mem_180280, int64_t n_87800, int64_t incr_87801, int16_t block_sizze_87802);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182384, struct memblock *mem_out_p_182385, struct memblock xs_mem_180280, int64_t n_90400, int64_t incr_90401, int16_t block_sizze_90402);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182411, struct memblock *mem_out_p_182412, struct memblock xs_mem_180280, int64_t n_85183, int64_t incr_85184, int16_t block_sizze_85185);
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_182438, int32_t bit_83031, int16_t x_83032);
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_182439, int32_t bit_88248, int64_t x_88249);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_182440, int64_t upper_bound_95930, int64_t n_95931);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9101(struct futhark_context *ctx, struct memblock *mem_out_p_182441, struct memblock xs_mem_180280, int64_t n_82328, int64_t incr_82329);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9256(struct futhark_context *ctx, struct memblock *mem_out_p_182442, struct memblock xs_mem_180280, int64_t n_85208, int64_t incr_85209);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9366(struct futhark_context *ctx, struct memblock *mem_out_p_182443, struct memblock xs_mem_180280, int64_t n_87825, int64_t incr_87826);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9466(struct futhark_context *ctx, struct memblock *mem_out_p_182444, struct memblock xs_mem_180280, int64_t n_90425, int64_t incr_90426);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9575(struct futhark_context *ctx, struct memblock *mem_out_p_182445, struct memblock xs_mem_180280, int64_t n_93176, int64_t incr_93177);
FUTHARK_FUN_ATTR int futrts_lifted_f_9065(struct futhark_context *ctx, int64_t *out_prim_out_182446, int16_t na_82555, int16_t nb_82556, int16_t nc_82557, int16_t bin_82558, int16_t a_82559, int16_t b_82560, int16_t c_82561, int16_t d_82562);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9064(struct futhark_context *ctx, int16_t *out_prim_out_182447, int16_t *out_prim_out_182448, int16_t *out_prim_out_182449, int16_t *out_prim_out_182450, int16_t x_82498);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9041(struct futhark_context *ctx, int64_t *out_prim_out_182451, int64_t *out_prim_out_182452, int64_t *out_prim_out_182453, int64_t *out_prim_out_182454, int64_t *out_prim_out_182455, int64_t slo_96149, int64_t shi_96150, int64_t tlo_96151, int64_t thi_96152, int64_t count_96153);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_i8_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 1 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 1);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 1 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 1);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (1 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 1 * (i0 * 1), 1);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i16_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 2, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 2 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 2);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 2 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 2);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (2 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 2 * (i0 * 1), 2);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_sortInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i16_1d *v1;
};
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs)
{
    struct futhark_opaque_sortInfo_short *v = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i16_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_short *obj = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i16_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i32_1d *v1;
};
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_int *v = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_int *obj = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_long *v = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_long *obj = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_float *v = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_float *obj = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_f64_1d *v1;
};
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_double *v = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_double *obj = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i16_1d *v2;
};
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_short *v = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i16_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_short *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i16_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i32_1d *v2;
};
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_int *v = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_int *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i64_1d *v2;
};
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_long *v = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_long *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f32_1d *v2;
};
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_float *v = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_float *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f64_1d *v2;
};
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_double *v = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_double *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_181958, struct memblock ks_mem_180280, int64_t n_109885)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181699;
    int64_t defunc_0_reduce_comm_res_177792;
    double defunc_0_reduce_comm_res_177793;
    int64_t redout_179940;
    double redout_179941;
    
    redout_179940 = n_109885;
    redout_179941 = INFINITY;
    for (int64_t i_179942 = 0; i_179942 < n_109885; i_179942++) {
        double x_163787 = ((double *) ks_mem_180280.mem)[i_179942];
        bool defunc_0_lt_res_163792 = redout_179941 < x_163787;
        bool defunc_0_eq_res_163794 = redout_179941 == x_163787;
        bool cond_f_res_t_res_163795 = slt64(redout_179940, i_179942);
        bool x_163796 = defunc_0_eq_res_163794 && cond_f_res_t_res_163795;
        bool x_177525 = !defunc_0_lt_res_163792;
        bool y_177526 = x_163796 && x_177525;
        bool cond_163793 = defunc_0_lt_res_163792 || y_177526;
        int64_t defunc_0_op_res_163797;
        
        if (cond_163793) {
            defunc_0_op_res_163797 = redout_179940;
        } else {
            defunc_0_op_res_163797 = i_179942;
        }
        
        double defunc_0_op_res_163798;
        
        if (cond_163793) {
            defunc_0_op_res_163798 = redout_179941;
        } else {
            defunc_0_op_res_163798 = x_163787;
        }
        
        int64_t redout_tmp_181700 = defunc_0_op_res_163797;
        double redout_tmp_181701 = defunc_0_op_res_163798;
        
        redout_179940 = redout_tmp_181700;
        redout_179941 = redout_tmp_181701;
    }
    defunc_0_reduce_comm_res_177792 = redout_179940;
    defunc_0_reduce_comm_res_177793 = redout_179941;
    prim_out_181699 = defunc_0_reduce_comm_res_177792;
    *out_prim_out_181958 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_181959, struct memblock ks_mem_180280, int64_t n_109716)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181699;
    int64_t defunc_0_reduce_comm_res_177792;
    float defunc_0_reduce_comm_res_177793;
    int64_t redout_179940;
    float redout_179941;
    
    redout_179940 = n_109716;
    redout_179941 = INFINITY;
    for (int64_t i_179942 = 0; i_179942 < n_109716; i_179942++) {
        float x_163787 = ((float *) ks_mem_180280.mem)[i_179942];
        bool defunc_0_lt_res_163792 = redout_179941 < x_163787;
        bool defunc_0_eq_res_163794 = redout_179941 == x_163787;
        bool cond_f_res_t_res_163795 = slt64(redout_179940, i_179942);
        bool x_163796 = defunc_0_eq_res_163794 && cond_f_res_t_res_163795;
        bool x_177525 = !defunc_0_lt_res_163792;
        bool y_177526 = x_163796 && x_177525;
        bool cond_163793 = defunc_0_lt_res_163792 || y_177526;
        int64_t defunc_0_op_res_163797;
        
        if (cond_163793) {
            defunc_0_op_res_163797 = redout_179940;
        } else {
            defunc_0_op_res_163797 = i_179942;
        }
        
        float defunc_0_op_res_163798;
        
        if (cond_163793) {
            defunc_0_op_res_163798 = redout_179941;
        } else {
            defunc_0_op_res_163798 = x_163787;
        }
        
        int64_t redout_tmp_181700 = defunc_0_op_res_163797;
        float redout_tmp_181701 = defunc_0_op_res_163798;
        
        redout_179940 = redout_tmp_181700;
        redout_179941 = redout_tmp_181701;
    }
    defunc_0_reduce_comm_res_177792 = redout_179940;
    defunc_0_reduce_comm_res_177793 = redout_179941;
    prim_out_181699 = defunc_0_reduce_comm_res_177792;
    *out_prim_out_181959 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_181960, struct memblock ks_mem_180280, int64_t n_109381)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181699;
    int64_t defunc_0_reduce_comm_res_177792;
    int32_t defunc_0_reduce_comm_res_177793;
    int64_t redout_179940;
    int32_t redout_179941;
    
    redout_179940 = n_109381;
    redout_179941 = 2147483647;
    for (int64_t i_179942 = 0; i_179942 < n_109381; i_179942++) {
        int32_t x_163787 = ((int32_t *) ks_mem_180280.mem)[i_179942];
        bool defunc_0_lt_res_163792 = slt32(redout_179941, x_163787);
        bool defunc_0_eq_res_163794 = redout_179941 == x_163787;
        bool cond_f_res_t_res_163795 = slt64(redout_179940, i_179942);
        bool x_163796 = defunc_0_eq_res_163794 && cond_f_res_t_res_163795;
        bool x_177525 = !defunc_0_lt_res_163792;
        bool y_177526 = x_163796 && x_177525;
        bool cond_163793 = defunc_0_lt_res_163792 || y_177526;
        int64_t defunc_0_op_res_163797;
        
        if (cond_163793) {
            defunc_0_op_res_163797 = redout_179940;
        } else {
            defunc_0_op_res_163797 = i_179942;
        }
        
        int32_t defunc_0_op_res_163798;
        
        if (cond_163793) {
            defunc_0_op_res_163798 = redout_179941;
        } else {
            defunc_0_op_res_163798 = x_163787;
        }
        
        int64_t redout_tmp_181700 = defunc_0_op_res_163797;
        int32_t redout_tmp_181701 = defunc_0_op_res_163798;
        
        redout_179940 = redout_tmp_181700;
        redout_179941 = redout_tmp_181701;
    }
    defunc_0_reduce_comm_res_177792 = redout_179940;
    defunc_0_reduce_comm_res_177793 = redout_179941;
    prim_out_181699 = defunc_0_reduce_comm_res_177792;
    *out_prim_out_181960 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_181961, struct memblock ks_mem_180280, int64_t n_109547)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181699;
    int64_t defunc_0_reduce_comm_res_177792;
    int64_t defunc_0_reduce_comm_res_177793;
    int64_t redout_179940;
    int64_t redout_179941;
    
    redout_179940 = n_109547;
    redout_179941 = (int64_t) 9223372036854775807;
    for (int64_t i_179942 = 0; i_179942 < n_109547; i_179942++) {
        int64_t x_163787 = ((int64_t *) ks_mem_180280.mem)[i_179942];
        bool defunc_0_lt_res_163792 = slt64(redout_179941, x_163787);
        bool defunc_0_eq_res_163794 = redout_179941 == x_163787;
        bool cond_f_res_t_res_163795 = slt64(redout_179940, i_179942);
        bool x_163796 = defunc_0_eq_res_163794 && cond_f_res_t_res_163795;
        bool x_177525 = !defunc_0_lt_res_163792;
        bool y_177526 = x_163796 && x_177525;
        bool cond_163793 = defunc_0_lt_res_163792 || y_177526;
        int64_t defunc_0_op_res_163797;
        
        if (cond_163793) {
            defunc_0_op_res_163797 = redout_179940;
        } else {
            defunc_0_op_res_163797 = i_179942;
        }
        
        int64_t defunc_0_op_res_163798;
        
        if (cond_163793) {
            defunc_0_op_res_163798 = redout_179941;
        } else {
            defunc_0_op_res_163798 = x_163787;
        }
        
        int64_t redout_tmp_181700 = defunc_0_op_res_163797;
        int64_t redout_tmp_181701 = defunc_0_op_res_163798;
        
        redout_179940 = redout_tmp_181700;
        redout_179941 = redout_tmp_181701;
    }
    defunc_0_reduce_comm_res_177792 = redout_179940;
    defunc_0_reduce_comm_res_177793 = redout_179941;
    prim_out_181699 = defunc_0_reduce_comm_res_177792;
    *out_prim_out_181961 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_181962, struct memblock ks_mem_180280, int64_t n_109215)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181699;
    int64_t defunc_0_reduce_comm_res_177792;
    int16_t defunc_0_reduce_comm_res_177793;
    int64_t redout_179940;
    int16_t redout_179941;
    
    redout_179940 = n_109215;
    redout_179941 = (int16_t) 32767;
    for (int64_t i_179942 = 0; i_179942 < n_109215; i_179942++) {
        int16_t x_163787 = ((int16_t *) ks_mem_180280.mem)[i_179942];
        bool defunc_0_lt_res_163792 = slt16(redout_179941, x_163787);
        bool defunc_0_eq_res_163794 = redout_179941 == x_163787;
        bool cond_f_res_t_res_163795 = slt64(redout_179940, i_179942);
        bool x_163796 = defunc_0_eq_res_163794 && cond_f_res_t_res_163795;
        bool x_177525 = !defunc_0_lt_res_163792;
        bool y_177526 = x_163796 && x_177525;
        bool cond_163793 = defunc_0_lt_res_163792 || y_177526;
        int64_t defunc_0_op_res_163797;
        
        if (cond_163793) {
            defunc_0_op_res_163797 = redout_179940;
        } else {
            defunc_0_op_res_163797 = i_179942;
        }
        
        int16_t defunc_0_op_res_163798;
        
        if (cond_163793) {
            defunc_0_op_res_163798 = redout_179941;
        } else {
            defunc_0_op_res_163798 = x_163787;
        }
        
        int64_t redout_tmp_181700 = defunc_0_op_res_163797;
        int16_t redout_tmp_181701 = defunc_0_op_res_163798;
        
        redout_179940 = redout_tmp_181700;
        redout_179941 = redout_tmp_181701;
    }
    defunc_0_reduce_comm_res_177792 = redout_179940;
    defunc_0_reduce_comm_res_177793 = redout_179941;
    prim_out_181699 = defunc_0_reduce_comm_res_177792;
    *out_prim_out_181962 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_181963, struct memblock *mem_out_p_181964, struct memblock xs_mem_180280, int64_t n_107737, int64_t incr_107738)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180286_cached_sizze_181965 = 0;
    unsigned char *mem_180286 = NULL;
    int64_t mem_180289_cached_sizze_181966 = 0;
    unsigned char *mem_180289 = NULL;
    int64_t mem_180299_cached_sizze_181967 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_181968 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180368_cached_sizze_181969 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180371_cached_sizze_181970 = 0;
    unsigned char *mem_180371 = NULL;
    int64_t mem_180381_cached_sizze_181971 = 0;
    unsigned char *mem_180381 = NULL;
    int64_t mem_180383_cached_sizze_181972 = 0;
    unsigned char *mem_180383 = NULL;
    int64_t mem_180398_cached_sizze_181973 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180401_cached_sizze_181974 = 0;
    unsigned char *mem_180401 = NULL;
    struct memblock mem_180492;
    
    mem_180492.references = NULL;
    
    struct memblock mem_180490;
    
    mem_180490.references = NULL;
    
    struct memblock mem_param_tmp_181718;
    
    mem_param_tmp_181718.references = NULL;
    
    struct memblock mem_param_tmp_181717;
    
    mem_param_tmp_181717.references = NULL;
    
    struct memblock mem_180478;
    
    mem_180478.references = NULL;
    
    struct memblock mem_180474;
    
    mem_180474.references = NULL;
    
    struct memblock mem_180440;
    
    mem_180440.references = NULL;
    
    struct memblock mem_180436;
    
    mem_180436.references = NULL;
    
    struct memblock mem_180445;
    
    mem_180445.references = NULL;
    
    struct memblock mem_180443;
    
    mem_180443.references = NULL;
    
    struct memblock ext_mem_180460;
    
    ext_mem_180460.references = NULL;
    
    struct memblock ext_mem_180463;
    
    ext_mem_180463.references = NULL;
    
    struct memblock mem_param_180365;
    
    mem_param_180365.references = NULL;
    
    struct memblock mem_param_180362;
    
    mem_param_180362.references = NULL;
    
    struct memblock ext_mem_180484;
    
    ext_mem_180484.references = NULL;
    
    struct memblock ext_mem_180485;
    
    ext_mem_180485.references = NULL;
    
    struct memblock mem_180358;
    
    mem_180358.references = NULL;
    
    struct memblock mem_180354;
    
    mem_180354.references = NULL;
    
    struct memblock ext_mem_180488;
    
    ext_mem_180488.references = NULL;
    
    struct memblock mem_180283;
    
    mem_180283.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_107737;
    bool cond_171014 = sle64(n_107737, (int64_t) 1);
    int64_t zs_lhs_171015 = sub64(n_107737, (int64_t) 1);
    int64_t zp_rhs_171016 = sdiv_safe64(zs_lhs_171015, (int64_t) 20);
    int64_t min_num_blocks_171017 = add64((int64_t) 1, zp_rhs_171016);
    bool loop_cond_171018 = slt64((int64_t) 1, min_num_blocks_171017);
    bool smallest_pow_2_geq_than_res_171019;
    int64_t smallest_pow_2_geq_than_res_171020;
    bool loop_while_171021;
    int64_t x_171022;
    
    loop_while_171021 = loop_cond_171018;
    x_171022 = (int64_t) 1;
    while (loop_while_171021) {
        int64_t loopres_171023 = mul64((int64_t) 2, x_171022);
        bool loop_cond_171024 = slt64(loopres_171023, min_num_blocks_171017);
        bool loop_while_tmp_181701 = loop_cond_171024;
        int64_t x_tmp_181702 = loopres_171023;
        
        loop_while_171021 = loop_while_tmp_181701;
        x_171022 = x_tmp_181702;
    }
    smallest_pow_2_geq_than_res_171019 = loop_while_171021;
    smallest_pow_2_geq_than_res_171020 = x_171022;
    
    bool zzero_171025 = smallest_pow_2_geq_than_res_171020 == (int64_t) 0;
    bool nonzzero_171026 = !zzero_171025;
    bool protect_assert_disj_171027 = cond_171014 || nonzzero_171026;
    bool nonzzero_cert_171028;
    
    if (!protect_assert_disj_171027) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171029 = sdiv_safe64(zs_lhs_171015, smallest_pow_2_geq_than_res_171020);
    int64_t block_sizze_171030 = add64((int64_t) 1, zp_rhs_171029);
    bool y_171035 = slt64((int64_t) 0, n_107737);
    bool protect_assert_disj_181393 = cond_171014 || y_171035;
    bool index_certs_171036;
    
    if (!protect_assert_disj_181393) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_107737, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171049 = slt64(smallest_pow_2_geq_than_res_171020, (int64_t) 0);
    bool valid_171050 = !bounds_invalid_upwards_171049;
    bool protect_assert_disj_181401 = cond_171014 || valid_171050;
    bool range_valid_c_171051;
    
    if (!protect_assert_disj_181401) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:209:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171053 = slt64(block_sizze_171030, (int64_t) 0);
    bool valid_171054 = !bounds_invalid_upwards_171053;
    bool protect_assert_disj_181403 = cond_171014 || valid_171054;
    bool range_valid_c_171055;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171030, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171057 = sle64(block_sizze_171030, (int64_t) 1);
    int64_t tmp_171058 = sub64(block_sizze_171030, (int64_t) 2);
    bool bounds_invalid_upwards_171059 = slt64(tmp_171058, (int64_t) 0);
    bool valid_171061 = !bounds_invalid_upwards_171059;
    bool protect_assert_disj_171062 = cond_171057 || valid_171061;
    bool protect_assert_disj_181405 = cond_171014 || protect_assert_disj_171062;
    bool range_valid_c_171063;
    
    if (!protect_assert_disj_181405) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171058, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9575(ctx, &ext_mem_180281, xs_mem_180280, n_107737, incr_107738) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180283, bytes_180282, "mem_180283")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181703 = 0; i_181703 < n_107737; i_181703++) {
        int64_t x_181704 = (int64_t) 0 + i_181703 * (int64_t) 1;
        
        ((int64_t *) mem_180283.mem)[i_181703] = x_181704;
    }
    
    int64_t flat_dim_171031 = smallest_pow_2_geq_than_res_171020 * block_sizze_171030;
    bool x_181388 = !cond_171014;
    int64_t greatest_divisor_leq_than_arg1_171033 = mul64((int64_t) 2, block_sizze_171030);
    int64_t merge_block_sizze_171034;
    
    if (x_181388) {
        int64_t x_181390;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181390, (int64_t) 8, greatest_divisor_leq_than_arg1_171033) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171034 = x_181390;
    } else {
        merge_block_sizze_171034 = (int64_t) 0;
    }
    
    double reduce_arg1_171037;
    
    if (x_181388) {
        double x_181394 = ((double *) xs_mem_180280.mem)[(int64_t) 0];
        
        reduce_arg1_171037 = x_181394;
    } else {
        reduce_arg1_171037 = 0.0;
    }
    
    double defunc_0_reduce_res_177939;
    int64_t defunc_0_reduce_res_177940;
    
    if (x_181388) {
        double x_181396;
        int64_t x_181397;
        double redout_179940;
        int64_t redout_179941;
        
        redout_179940 = reduce_arg1_171037;
        redout_179941 = (int64_t) 0;
        for (int64_t i_179942 = 0; i_179942 < n_107737; i_179942++) {
            double x_171040 = ((double *) xs_mem_180280.mem)[i_179942];
            bool zlze_res_171046 = redout_179940 <= x_171040;
            double defunc_0_op_res_171047;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171047 = x_171040;
            } else {
                defunc_0_op_res_171047 = redout_179940;
            }
            
            int64_t defunc_0_op_res_171048;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171048 = i_179942;
            } else {
                defunc_0_op_res_171048 = redout_179941;
            }
            
            double redout_tmp_181705 = defunc_0_op_res_171047;
            int64_t redout_tmp_181706 = defunc_0_op_res_171048;
            
            redout_179940 = redout_tmp_181705;
            redout_179941 = redout_tmp_181706;
        }
        x_181396 = redout_179940;
        x_181397 = redout_179941;
        defunc_0_reduce_res_177939 = x_181396;
        defunc_0_reduce_res_177940 = x_181397;
    } else {
        defunc_0_reduce_res_177939 = 0.0;
        defunc_0_reduce_res_177940 = (int64_t) 0;
    }
    
    int64_t distance_171060 = add64((int64_t) 1, tmp_171058);
    int64_t binop_x_180284 = (int64_t) 8 * smallest_pow_2_geq_than_res_171020;
    int64_t bytes_180285 = block_sizze_171030 * binop_x_180284;
    int64_t bytes_180298 = (int64_t) 8 * block_sizze_171030;
    bool loop_cond_171134 = slt64(block_sizze_171030, flat_dim_171031);
    bool zzero_171135 = merge_block_sizze_171034 == (int64_t) 0;
    bool nonzzero_171136 = !zzero_171135;
    
    if (cond_171014) {
        if (memblock_set(ctx, &ext_mem_180488, &mem_180283, "mem_180283") != 0)
            return 1;
    } else {
        if (mem_180286_cached_sizze_181965 < bytes_180285) {
            err = lexical_realloc(ctx, &mem_180286, &mem_180286_cached_sizze_181965, bytes_180285);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180289_cached_sizze_181966 < bytes_180285) {
            err = lexical_realloc(ctx, &mem_180289, &mem_180289_cached_sizze_181966, bytes_180285);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180299_cached_sizze_181967 < bytes_180298) {
            err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_181967, bytes_180298);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180301_cached_sizze_181968 < bytes_180298) {
            err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_181968, bytes_180298);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179954 = 0; i_179954 < smallest_pow_2_geq_than_res_171020; i_179954++) {
            int64_t zp_lhs_171067 = mul64(block_sizze_171030, i_179954);
            
            for (int64_t i_179947 = 0; i_179947 < block_sizze_171030; i_179947++) {
                int64_t k_171071 = add64(zp_lhs_171067, i_179947);
                bool cond_171072 = slt64(k_171071, n_107737);
                double lifted_lambda_res_171073;
                int64_t lifted_lambda_res_171074;
                
                if (cond_171072) {
                    bool x_177792 = sle64((int64_t) 0, k_171071);
                    bool bounds_check_177793 = cond_171072 && x_177792;
                    bool index_certs_177794;
                    
                    if (!bounds_check_177793) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171071, "] out of bounds for array of shape [", (long long) n_107737, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double lifted_lambda_res_t_res_177795 = ((double *) xs_mem_180280.mem)[k_171071];
                    
                    lifted_lambda_res_171073 = lifted_lambda_res_t_res_177795;
                    lifted_lambda_res_171074 = k_171071;
                } else {
                    lifted_lambda_res_171073 = defunc_0_reduce_res_177939;
                    lifted_lambda_res_171074 = defunc_0_reduce_res_177940;
                }
                ((double *) mem_180299)[i_179947] = lifted_lambda_res_171073;
                ((int64_t *) mem_180301)[i_179947] = lifted_lambda_res_171074;
            }
            if (!cond_171057) {
                for (int64_t i_171083 = 0; i_171083 < distance_171060; i_171083++) {
                    int64_t gt_arg1_171086 = add64((int64_t) 1, i_171083);
                    bool x_171087 = sle64((int64_t) 0, gt_arg1_171086);
                    bool y_171088 = slt64(gt_arg1_171086, block_sizze_171030);
                    bool bounds_check_171089 = x_171087 && y_171088;
                    bool index_certs_171090;
                    
                    if (!bounds_check_171089) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171086, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171092 = slt64(i_171083, block_sizze_171030);
                    bool index_certs_171093;
                    
                    if (!y_171092) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171083, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double gt_arg1_171091 = ((double *) mem_180299)[gt_arg1_171086];
                    double gt_arg0_171094 = ((double *) mem_180299)[i_171083];
                    bool zlze_res_171095 = gt_arg0_171094 <= gt_arg1_171091;
                    bool defunc_0_lifted_gt_res_171096 = !zlze_res_171095;
                    bool s_171097;
                    int64_t s_171100;
                    bool loop_while_171101;
                    int64_t j_171104;
                    
                    loop_while_171101 = defunc_0_lifted_gt_res_171096;
                    j_171104 = i_171083;
                    while (loop_while_171101) {
                        bool x_171105 = sle64((int64_t) 0, j_171104);
                        bool y_171106 = slt64(j_171104, block_sizze_171030);
                        bool bounds_check_171107 = x_171105 && y_171106;
                        bool index_certs_171108;
                        
                        if (!bounds_check_171107) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171104, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171111 = add64((int64_t) 1, j_171104);
                        bool x_171112 = sle64((int64_t) 0, copy_arg0_171111);
                        bool y_171113 = slt64(copy_arg0_171111, block_sizze_171030);
                        bool bounds_check_171114 = x_171112 && y_171113;
                        bool index_certs_171115;
                        
                        if (!bounds_check_171114) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171111, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        double copy_arg0_171109 = ((double *) mem_180299)[j_171104];
                        int64_t copy_arg0_171110 = ((int64_t *) mem_180301)[j_171104];
                        double copy_arg0_171116 = ((double *) mem_180299)[copy_arg0_171111];
                        int64_t copy_arg0_171117 = ((int64_t *) mem_180301)[copy_arg0_171111];
                        
                        ((double *) mem_180299)[j_171104] = copy_arg0_171116;
                        ((int64_t *) mem_180301)[j_171104] = copy_arg0_171117;
                        ((double *) mem_180299)[copy_arg0_171111] = copy_arg0_171109;
                        ((int64_t *) mem_180301)[copy_arg0_171111] = copy_arg0_171110;
                        
                        int64_t tmp_171122 = sub64(j_171104, (int64_t) 1);
                        bool cond_171123 = sle64((int64_t) 0, tmp_171122);
                        bool loop_cond_171124;
                        
                        if (cond_171123) {
                            bool y_177797 = slt64(tmp_171122, block_sizze_171030);
                            bool bounds_check_177798 = cond_171123 && y_177797;
                            bool index_certs_177799;
                            
                            if (!bounds_check_177798) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171122, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double gt_arg1_177796 = ((double *) mem_180299)[j_171104];
                            double gt_arg0_177800 = ((double *) mem_180299)[tmp_171122];
                            bool zlze_res_177801 = gt_arg0_177800 <= gt_arg1_177796;
                            bool defunc_0_lifted_gt_res_177802 = !zlze_res_177801;
                            
                            loop_cond_171124 = defunc_0_lifted_gt_res_177802;
                        } else {
                            loop_cond_171124 = 0;
                        }
                        
                        bool loop_while_tmp_181713 = loop_cond_171124;
                        int64_t j_tmp_181716 = tmp_171122;
                        
                        loop_while_171101 = loop_while_tmp_181713;
                        j_171104 = j_tmp_181716;
                    }
                    s_171097 = loop_while_171101;
                    s_171100 = j_171104;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180286, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180299, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180289, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180301, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
        }
        if (memblock_alloc(ctx, &mem_180354, bytes_180285, "mem_180354")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180354.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint64_t *) mem_180286, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        if (memblock_alloc(ctx, &mem_180358, bytes_180285, "mem_180358")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180358.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint64_t *) mem_180289, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        
        int64_t data_171137;
        bool data_171138;
        int64_t data_171141;
        int64_t loop_dz2084Uz2082U_171142;
        bool loop_while_171143;
        int64_t stride_171146;
        
        if (memblock_set(ctx, &mem_param_180362, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180365, &mem_180358, "mem_180358") != 0)
            return 1;
        loop_dz2084Uz2082U_171142 = flat_dim_171031;
        loop_while_171143 = loop_cond_171134;
        stride_171146 = block_sizze_171030;
        while (loop_while_171143) {
            int64_t next_stride_171147 = mul64((int64_t) 2, stride_171146);
            bool zzero_171148 = next_stride_171147 == (int64_t) 0;
            bool nonzzero_171149 = !zzero_171148;
            bool nonzzero_cert_171150;
            
            if (!nonzzero_171149) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171151 = sdiv64(flat_dim_171031, next_stride_171147);
            bool bounds_invalid_upwards_171152 = slt64(num_merges_171151, (int64_t) 0);
            bool valid_171153 = !bounds_invalid_upwards_171152;
            bool range_valid_c_171154;
            
            if (!valid_171153) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171151, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:209:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171156 = sub64(next_stride_171147, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171157 = sle64((int64_t) 0, m_171156);
            bool cond_171159 = slt64(next_stride_171147, (int64_t) 10);
            bool protect_assert_disj_171160 = nonzzero_171136 || cond_171159;
            bool nonzzero_cert_171161;
            
            if (!protect_assert_disj_171160) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171162 = smod_safe64(next_stride_171147, merge_block_sizze_171034);
            bool num_blocks_171163 = zeze_lhs_171162 == (int64_t) 0;
            bool protect_assert_disj_171164 = cond_171159 || num_blocks_171163;
            bool assert_c_171165;
            
            if (!protect_assert_disj_171164) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171167 = sdiv_safe64(next_stride_171147, merge_block_sizze_171034);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168 = add64((int64_t) 1, num_blocks_171167);
            int64_t j_m_i_171169 = sub64(next_stride_171147, stride_171146);
            int64_t flat_dim_171170 = merge_block_sizze_171034 * num_blocks_171167;
            bool bounds_invalid_upwards_171171 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, (int64_t) 0);
            bool zzero_lte_i_171172 = sle64((int64_t) 0, stride_171146);
            bool i_lte_j_171173 = sle64(stride_171146, next_stride_171147);
            bool empty_slice_171174 = stride_171146 == (int64_t) 0;
            int64_t m_171175 = sub64(stride_171146, (int64_t) 1);
            bool bounds_invalid_upwards_171176 = slt64(num_blocks_171167, (int64_t) 0);
            bool empty_slice_171177 = j_m_i_171169 == (int64_t) 0;
            int64_t m_171178 = sub64(j_m_i_171169, (int64_t) 1);
            bool cond_171179 = slt64((int64_t) 0, stride_171146);
            bool valid_171180 = !bounds_invalid_upwards_171171;
            bool zzero_leq_i_p_m_t_s_171181 = sle64((int64_t) 0, m_171175);
            bool i_p_m_t_s_leq_w_171182 = slt64(m_171175, next_stride_171147);
            bool valid_171183 = !bounds_invalid_upwards_171176;
            bool i_p_m_t_s_leq_w_171184 = slt64(m_171156, flat_dim_171170);
            int64_t i_p_m_t_s_171185 = add64(stride_171146, m_171178);
            bool y_171186 = slt64((int64_t) 0, j_m_i_171169);
            bool protect_assert_disj_171187 = cond_171159 || valid_171180;
            bool range_valid_c_171188;
            
            if (!protect_assert_disj_171187) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171189 = zzero_leq_i_p_m_t_s_171181 && i_p_m_t_s_leq_w_171182;
            bool protect_assert_disj_171190 = cond_171159 || valid_171183;
            bool range_valid_c_171191;
            
            if (!protect_assert_disj_171190) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171192 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171184;
            bool zzero_leq_i_p_m_t_s_171193 = sle64((int64_t) 0, i_p_m_t_s_171185);
            bool i_p_m_t_s_leq_w_171194 = slt64(i_p_m_t_s_171185, next_stride_171147);
            bool forwards_ok_171195 = zzero_lte_i_171172 && y_171189;
            bool ok_or_empty_171196 = zzero_171148 || y_171192;
            bool y_171197 = zzero_lte_i_171172 && i_p_m_t_s_leq_w_171194;
            bool protect_assert_disj_171198 = cond_171179 || y_171186;
            bool ok_or_empty_171199 = empty_slice_171174 || forwards_ok_171195;
            bool protect_assert_disj_171200 = cond_171159 || ok_or_empty_171196;
            bool index_certs_171201;
            
            if (!protect_assert_disj_171200) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) flat_dim_171170, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171202 = zzero_leq_i_p_m_t_s_171193 && y_171197;
            bool loop_not_taken_171203 = !cond_171159;
            bool protect_assert_disj_171204 = protect_assert_disj_171198 || loop_not_taken_171203;
            bool index_certs_171205;
            
            if (!protect_assert_disj_171204) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171206 = cond_171159 || ok_or_empty_171199;
            bool index_certs_171207;
            
            if (!protect_assert_disj_171206) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171208 = i_lte_j_171173 && y_171202;
            bool protect_assert_disj_171209 = ok_or_empty_171199 || loop_not_taken_171203;
            bool index_certs_171210;
            
            if (!protect_assert_disj_171209) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171211 = empty_slice_171177 || forwards_ok_171208;
            bool protect_assert_disj_171212 = loop_not_taken_171203 || ok_or_empty_171211;
            bool index_certs_171213;
            
            if (!protect_assert_disj_171212) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171214 = cond_171159 || ok_or_empty_171211;
            bool index_certs_171215;
            
            if (!protect_assert_disj_171214) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180366 = (int64_t) 8 * num_merges_171151;
            int64_t bytes_180367 = next_stride_171147 * binop_x_180366;
            bool i_lte_j_171158 = sle64((int64_t) 0, next_stride_171147);
            
            if (mem_180368_cached_sizze_181969 < bytes_180367) {
                err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_181969, bytes_180367);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180371_cached_sizze_181970 < bytes_180367) {
                err = lexical_realloc(ctx, &mem_180371, &mem_180371_cached_sizze_181970, bytes_180367);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180380 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168;
            int64_t binop_x_180396 = (int64_t) 8 * num_blocks_171167;
            int64_t bytes_180397 = merge_block_sizze_171034 * binop_x_180396;
            int64_t bytes_180442 = (int64_t) 16 * stride_171146;
            
            for (int64_t i_179975 = 0; i_179975 < num_merges_171151; i_179975++) {
                int64_t start_171219 = mul64(next_stride_171147, i_179975);
                int64_t j_m_i_171220 = sub64(loop_dz2084Uz2082U_171142, start_171219);
                bool empty_slice_171221 = j_m_i_171220 == (int64_t) 0;
                int64_t m_171222 = sub64(j_m_i_171220, (int64_t) 1);
                int64_t i_p_m_t_s_171223 = add64(start_171219, m_171222);
                bool zzero_leq_i_p_m_t_s_171224 = sle64((int64_t) 0, i_p_m_t_s_171223);
                bool i_p_m_t_s_leq_w_171225 = slt64(i_p_m_t_s_171223, loop_dz2084Uz2082U_171142);
                bool zzero_lte_i_171226 = sle64((int64_t) 0, start_171219);
                bool i_lte_j_171227 = sle64(start_171219, loop_dz2084Uz2082U_171142);
                bool y_171228 = i_p_m_t_s_leq_w_171225 && zzero_lte_i_171226;
                bool y_171229 = zzero_leq_i_p_m_t_s_171224 && y_171228;
                bool forwards_ok_171230 = i_lte_j_171227 && y_171229;
                bool ok_or_empty_171231 = empty_slice_171221 || forwards_ok_171230;
                bool index_certs_171232;
                
                if (!ok_or_empty_171231) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171219, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171142, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171233 = slt64(m_171156, j_m_i_171220);
                bool y_171234 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171233;
                bool forwards_ok_171235 = i_lte_j_171158 && y_171234;
                bool ok_or_empty_171236 = zzero_171148 || forwards_ok_171235;
                bool index_certs_171237;
                
                if (!ok_or_empty_171236) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) j_m_i_171220, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171159) {
                    double dummy_177828;
                    int64_t dummy_177829;
                    
                    if (cond_171179) {
                        double head_res_177830 = ((double *) mem_param_180362.mem)[start_171219];
                        int64_t head_res_177831 = ((int64_t *) mem_param_180365.mem)[start_171219];
                        
                        dummy_177828 = head_res_177830;
                        dummy_177829 = head_res_177831;
                    } else {
                        int64_t slice_177832 = stride_171146 + start_171219;
                        double head_res_177833 = ((double *) mem_param_180362.mem)[slice_177832];
                        int64_t head_res_177834 = ((int64_t *) mem_param_180365.mem)[slice_177832];
                        
                        dummy_177828 = head_res_177833;
                        dummy_177829 = head_res_177834;
                    }
                    if (memblock_alloc(ctx, &mem_180443, bytes_180442, "mem_180443")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181726 = 0; nest_i_181726 < next_stride_171147; nest_i_181726++) {
                        ((double *) mem_180443.mem)[nest_i_181726] = dummy_177828;
                    }
                    if (memblock_alloc(ctx, &mem_180445, bytes_180442, "mem_180445")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181727 = 0; nest_i_181727 < next_stride_171147; nest_i_181727++) {
                        ((int64_t *) mem_180445.mem)[nest_i_181727] = dummy_177829;
                    }
                    
                    int64_t data_177837;
                    int64_t i_177841 = (int64_t) 0;
                    
                    for (int64_t k_177840 = 0; k_177840 < next_stride_171147; k_177840++) {
                        int64_t j_177844 = sub64(k_177840, i_177841);
                        bool cond_177845 = j_177844 == j_m_i_171169;
                        bool cond_177846;
                        
                        if (cond_177845) {
                            cond_177846 = 1;
                        } else {
                            bool cond_177847 = slt64(i_177841, stride_171146);
                            bool cond_f_res_177848;
                            
                            if (cond_177847) {
                                bool x_177849 = sle64((int64_t) 0, j_177844);
                                bool y_177850 = slt64(j_177844, j_m_i_171169);
                                bool bounds_check_177851 = x_177849 && y_177850;
                                bool index_certs_177852;
                                
                                if (!bounds_check_177851) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177856 = sle64((int64_t) 0, i_177841);
                                bool bounds_check_177857 = cond_177847 && x_177856;
                                bool index_certs_177858;
                                
                                if (!bounds_check_177857) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177853 = stride_171146 + j_177844;
                                int64_t slice_177854 = start_171219 + slice_177853;
                                double leq_arg1_177855 = ((double *) mem_param_180362.mem)[slice_177854];
                                int64_t slice_177859 = start_171219 + i_177841;
                                double leq_arg0_177860 = ((double *) mem_param_180362.mem)[slice_177859];
                                bool zlze_res_177861 = leq_arg0_177860 <= leq_arg1_177855;
                                
                                cond_f_res_177848 = zlze_res_177861;
                            } else {
                                cond_f_res_177848 = 0;
                            }
                            cond_177846 = cond_f_res_177848;
                        }
                        
                        int64_t loopres_177862;
                        double loopres_177863;
                        int64_t loopres_177864;
                        
                        if (cond_177846) {
                            bool x_177866 = sle64((int64_t) 0, i_177841);
                            bool y_177867 = slt64(i_177841, stride_171146);
                            bool bounds_check_177868 = x_177866 && y_177867;
                            bool index_certs_177869;
                            
                            if (!bounds_check_177868) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177865 = add64((int64_t) 1, i_177841);
                            int64_t slice_177870 = start_171219 + i_177841;
                            double tmp_177871 = ((double *) mem_param_180362.mem)[slice_177870];
                            int64_t tmp_177872 = ((int64_t *) mem_param_180365.mem)[slice_177870];
                            
                            loopres_177862 = tmp_177865;
                            loopres_177863 = tmp_177871;
                            loopres_177864 = tmp_177872;
                        } else {
                            bool x_177873 = sle64((int64_t) 0, j_177844);
                            bool y_177874 = slt64(j_177844, j_m_i_171169);
                            bool bounds_check_177875 = x_177873 && y_177874;
                            bool index_certs_177876;
                            
                            if (!bounds_check_177875) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177877 = stride_171146 + j_177844;
                            int64_t slice_177878 = start_171219 + slice_177877;
                            double tmp_177879 = ((double *) mem_param_180362.mem)[slice_177878];
                            int64_t tmp_177880 = ((int64_t *) mem_param_180365.mem)[slice_177878];
                            
                            loopres_177862 = i_177841;
                            loopres_177863 = tmp_177879;
                            loopres_177864 = tmp_177880;
                        }
                        ((double *) mem_180443.mem)[k_177840] = loopres_177863;
                        ((int64_t *) mem_180445.mem)[k_177840] = loopres_177864;
                        
                        int64_t i_tmp_181728 = loopres_177862;
                        
                        i_177841 = i_tmp_181728;
                    }
                    data_177837 = i_177841;
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180443, "mem_180443") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180445, "mem_180445") != 0)
                        return 1;
                } else {
                    if (mem_180381_cached_sizze_181971 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180381, &mem_180381_cached_sizze_181971, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180383_cached_sizze_181972 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180383, &mem_180383_cached_sizze_181972, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179961 = 0; i_179961 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168; i_179961++) {
                        int64_t split_count_arg3_171299 = mul64(merge_block_sizze_171034, i_179961);
                        int64_t defunc_0_split_count_res_171300;
                        int64_t defunc_0_split_count_res_171301;
                        int64_t defunc_0_split_count_res_171302;
                        int64_t defunc_0_split_count_res_171303;
                        int64_t defunc_0_split_count_res_171304;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_171300, &defunc_0_split_count_res_171301, &defunc_0_split_count_res_171302, &defunc_0_split_count_res_171303, &defunc_0_split_count_res_171304, (int64_t) 0, stride_171146, (int64_t) 0, j_m_i_171169, split_count_arg3_171299) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171305 = slt64((int64_t) 0, defunc_0_split_count_res_171304);
                        bool defunc_0_split_count_res_171306;
                        int64_t defunc_0_split_count_res_171307;
                        int64_t defunc_0_split_count_res_171308;
                        int64_t defunc_0_split_count_res_171309;
                        int64_t defunc_0_split_count_res_171310;
                        int64_t defunc_0_split_count_res_171311;
                        bool loop_while_171312;
                        int64_t ss_171313;
                        int64_t ss_171314;
                        int64_t tt_171315;
                        int64_t tt_171316;
                        int64_t count_171317;
                        
                        loop_while_171312 = loop_cond_171305;
                        ss_171313 = defunc_0_split_count_res_171300;
                        ss_171314 = defunc_0_split_count_res_171301;
                        tt_171315 = defunc_0_split_count_res_171302;
                        tt_171316 = defunc_0_split_count_res_171303;
                        count_171317 = defunc_0_split_count_res_171304;
                        while (loop_while_171312) {
                            int64_t zlze_lhs_171318 = sub64(ss_171314, ss_171313);
                            bool cond_171319 = sle64(zlze_lhs_171318, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171320;
                            int64_t defunc_0_lifted_step_res_171321;
                            int64_t defunc_0_lifted_step_res_171322;
                            int64_t defunc_0_lifted_step_res_171323;
                            
                            if (cond_171319) {
                                int64_t tmp_177883 = add64(tt_171315, count_171317);
                                
                                defunc_0_lifted_step_res_171320 = ss_171313;
                                defunc_0_lifted_step_res_171321 = tmp_177883;
                                defunc_0_lifted_step_res_171322 = tt_171316;
                                defunc_0_lifted_step_res_171323 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171325 = sub64(tt_171316, tt_171315);
                                bool cond_171326 = sle64(zlze_lhs_171325, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171327;
                                int64_t defunc_0_lifted_step_res_f_res_171328;
                                int64_t defunc_0_lifted_step_res_f_res_171329;
                                int64_t defunc_0_lifted_step_res_f_res_171330;
                                
                                if (cond_171326) {
                                    int64_t tmp_177884 = add64(ss_171313, count_171317);
                                    
                                    defunc_0_lifted_step_res_f_res_171327 = tmp_177884;
                                    defunc_0_lifted_step_res_f_res_171328 = tt_171315;
                                    defunc_0_lifted_step_res_f_res_171329 = tt_171316;
                                    defunc_0_lifted_step_res_f_res_171330 = (int64_t) 0;
                                } else {
                                    bool cond_171332 = count_171317 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171333;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171334;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171335;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171336;
                                    
                                    if (cond_171332) {
                                        bool x_177886 = sle64((int64_t) 0, ss_171313);
                                        bool y_177887 = slt64(ss_171313, stride_171146);
                                        bool bounds_check_177888 = x_177886 && y_177887;
                                        bool index_certs_177889;
                                        
                                        if (!bounds_check_177888) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171313, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177892 = sle64((int64_t) 0, tt_171315);
                                        bool y_177893 = slt64(tt_171315, j_m_i_171169);
                                        bool bounds_check_177894 = x_177892 && y_177893;
                                        bool index_certs_177895;
                                        
                                        if (!bounds_check_177894) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171315, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177890 = start_171219 + ss_171313;
                                        double leq_arg1_177891 = ((double *) mem_param_180362.mem)[slice_177890];
                                        int64_t slice_177896 = stride_171146 + tt_171315;
                                        int64_t slice_177897 = start_171219 + slice_177896;
                                        double leq_arg0_177898 = ((double *) mem_param_180362.mem)[slice_177897];
                                        bool zlze_res_177899 = leq_arg0_177898 <= leq_arg1_177891;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        
                                        if (zlze_res_177899) {
                                            int64_t tmp_177902 = add64((int64_t) 1, tt_171315);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = ss_171313;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tmp_177902;
                                        } else {
                                            int64_t tmp_177903 = add64((int64_t) 1, ss_171313);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = tmp_177903;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tt_171315;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = tt_171316;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = (int64_t) 0;
                                    } else {
                                        int64_t m_171355 = sdiv64(count_171317, (int64_t) 2);
                                        int64_t n_171356 = sub64(count_171317, m_171355);
                                        bool cond_171357 = n_171356 == (int64_t) 0;
                                        int64_t zgze_lhs_171358 = add64(ss_171313, m_171355);
                                        bool cond_f_res_171359 = sle64(ss_171314, zgze_lhs_171358);
                                        bool x_171360 = !cond_171357;
                                        bool y_171361 = cond_f_res_171359 && x_171360;
                                        bool cond_171362 = cond_171357 || y_171361;
                                        bool leq_y_x_171363;
                                        
                                        if (cond_171362) {
                                            leq_y_x_171363 = 1;
                                        } else {
                                            bool x_171364 = sle64((int64_t) 0, zgze_lhs_171358);
                                            bool y_171365 = slt64(zgze_lhs_171358, stride_171146);
                                            bool bounds_check_171366 = x_171364 && y_171365;
                                            bool index_certs_171367;
                                            
                                            if (!bounds_check_171366) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171358, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171370 = add64(tt_171315, n_171356);
                                            int64_t leq_arg0_171371 = sub64(zm_lhs_171370, (int64_t) 1);
                                            bool x_171372 = sle64((int64_t) 0, leq_arg0_171371);
                                            bool y_171373 = slt64(leq_arg0_171371, j_m_i_171169);
                                            bool bounds_check_171374 = x_171372 && y_171373;
                                            bool index_certs_171375;
                                            
                                            if (!bounds_check_171374) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171371, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171368 = start_171219 + zgze_lhs_171358;
                                            double leq_arg1_171369 = ((double *) mem_param_180362.mem)[slice_171368];
                                            int64_t slice_171376 = stride_171146 + leq_arg0_171371;
                                            int64_t slice_171377 = start_171219 + slice_171376;
                                            double leq_arg0_171378 = ((double *) mem_param_180362.mem)[slice_171377];
                                            bool zlze_res_171379 = leq_arg0_171378 <= leq_arg1_171369;
                                            
                                            leq_y_x_171363 = zlze_res_171379;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                        
                                        if (leq_y_x_171363) {
                                            int64_t tmp_177904 = add64(tt_171315, n_171356);
                                            int64_t tmp_177905 = sub64(count_171317, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tmp_177904;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tt_171316;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = tmp_177905;
                                        } else {
                                            int64_t tmp_171385 = add64(tt_171315, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tt_171315;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tmp_171385;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = count_171317;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = ss_171313;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                    }
                                    defunc_0_lifted_step_res_f_res_171327 = defunc_0_lifted_step_res_f_res_f_res_171333;
                                    defunc_0_lifted_step_res_f_res_171328 = defunc_0_lifted_step_res_f_res_f_res_171334;
                                    defunc_0_lifted_step_res_f_res_171329 = defunc_0_lifted_step_res_f_res_f_res_171335;
                                    defunc_0_lifted_step_res_f_res_171330 = defunc_0_lifted_step_res_f_res_f_res_171336;
                                }
                                defunc_0_lifted_step_res_171320 = defunc_0_lifted_step_res_f_res_171327;
                                defunc_0_lifted_step_res_171321 = defunc_0_lifted_step_res_f_res_171328;
                                defunc_0_lifted_step_res_171322 = defunc_0_lifted_step_res_f_res_171329;
                                defunc_0_lifted_step_res_171323 = defunc_0_lifted_step_res_f_res_171330;
                            }
                            
                            int64_t loopres_171386;
                            int64_t loopres_171387;
                            int64_t loopres_171388;
                            int64_t loopres_171389;
                            int64_t loopres_171390;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_171386, &loopres_171387, &loopres_171388, &loopres_171389, &loopres_171390, defunc_0_lifted_step_res_171320, ss_171314, defunc_0_lifted_step_res_171321, defunc_0_lifted_step_res_171322, defunc_0_lifted_step_res_171323) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171391 = slt64((int64_t) 0, loopres_171390);
                            bool loop_while_tmp_181733 = loop_cond_171391;
                            int64_t ss_tmp_181734 = loopres_171386;
                            int64_t ss_tmp_181735 = loopres_171387;
                            int64_t tt_tmp_181736 = loopres_171388;
                            int64_t tt_tmp_181737 = loopres_171389;
                            int64_t count_tmp_181738 = loopres_171390;
                            
                            loop_while_171312 = loop_while_tmp_181733;
                            ss_171313 = ss_tmp_181734;
                            ss_171314 = ss_tmp_181735;
                            tt_171315 = tt_tmp_181736;
                            tt_171316 = tt_tmp_181737;
                            count_171317 = count_tmp_181738;
                        }
                        defunc_0_split_count_res_171306 = loop_while_171312;
                        defunc_0_split_count_res_171307 = ss_171313;
                        defunc_0_split_count_res_171308 = ss_171314;
                        defunc_0_split_count_res_171309 = tt_171315;
                        defunc_0_split_count_res_171310 = tt_171316;
                        defunc_0_split_count_res_171311 = count_171317;
                        ((int64_t *) mem_180381)[i_179961] = defunc_0_split_count_res_171307;
                        ((int64_t *) mem_180383)[i_179961] = defunc_0_split_count_res_171309;
                    }
                    if (mem_180398_cached_sizze_181973 < bytes_180397) {
                        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_181973, bytes_180397);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180401_cached_sizze_181974 < bytes_180397) {
                        err = lexical_realloc(ctx, &mem_180401, &mem_180401_cached_sizze_181974, bytes_180397);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179968 = 0; i_179968 < num_blocks_171167; i_179968++) {
                        bool y_171397 = slt64(i_179968, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool index_certs_171399;
                        
                        if (!y_171397) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179968, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171400 = ((int64_t *) mem_180381)[i_179968];
                        int64_t defunc_0_f_res_171401 = ((int64_t *) mem_180383)[i_179968];
                        int64_t tmp_171402 = add64((int64_t) 1, i_179968);
                        bool x_171403 = sle64((int64_t) 0, tmp_171402);
                        bool y_171404 = slt64(tmp_171402, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool bounds_check_171405 = x_171403 && y_171404;
                        bool index_certs_171406;
                        
                        if (!bounds_check_171405) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171402, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171407 = ((int64_t *) mem_180381)[tmp_171402];
                        int64_t defunc_0_f_res_171408 = ((int64_t *) mem_180383)[tmp_171402];
                        int64_t merge_sequential_arg2_171409 = add64(stride_171146, defunc_0_f_res_171401);
                        int64_t merge_sequential_arg2_171410 = add64(stride_171146, defunc_0_f_res_171408);
                        int64_t j_m_i_171411 = sub64(merge_sequential_arg2_171410, merge_sequential_arg2_171409);
                        bool empty_slice_171412 = j_m_i_171411 == (int64_t) 0;
                        int64_t m_171413 = sub64(j_m_i_171411, (int64_t) 1);
                        int64_t i_p_m_t_s_171414 = add64(merge_sequential_arg2_171409, m_171413);
                        bool zzero_leq_i_p_m_t_s_171415 = sle64((int64_t) 0, i_p_m_t_s_171414);
                        bool i_p_m_t_s_leq_w_171416 = slt64(i_p_m_t_s_171414, next_stride_171147);
                        bool zzero_lte_i_171417 = sle64((int64_t) 0, merge_sequential_arg2_171409);
                        bool i_lte_j_171418 = sle64(merge_sequential_arg2_171409, merge_sequential_arg2_171410);
                        bool y_171419 = i_p_m_t_s_leq_w_171416 && zzero_lte_i_171417;
                        bool y_171420 = zzero_leq_i_p_m_t_s_171415 && y_171419;
                        bool forwards_ok_171421 = i_lte_j_171418 && y_171420;
                        bool ok_or_empty_171422 = empty_slice_171412 || forwards_ok_171421;
                        bool index_certs_171423;
                        
                        if (!ok_or_empty_171422) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171409, ":", (long long) merge_sequential_arg2_171410, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171424 = sub64(defunc_0_f_res_171407, defunc_0_f_res_171400);
                        bool empty_slice_171425 = j_m_i_171424 == (int64_t) 0;
                        int64_t m_171426 = sub64(j_m_i_171424, (int64_t) 1);
                        int64_t i_p_m_t_s_171427 = add64(defunc_0_f_res_171400, m_171426);
                        bool zzero_leq_i_p_m_t_s_171428 = sle64((int64_t) 0, i_p_m_t_s_171427);
                        bool i_p_m_t_s_leq_w_171429 = slt64(i_p_m_t_s_171427, next_stride_171147);
                        bool zzero_lte_i_171430 = sle64((int64_t) 0, defunc_0_f_res_171400);
                        bool i_lte_j_171431 = sle64(defunc_0_f_res_171400, defunc_0_f_res_171407);
                        bool y_171432 = i_p_m_t_s_leq_w_171429 && zzero_lte_i_171430;
                        bool y_171433 = zzero_leq_i_p_m_t_s_171428 && y_171432;
                        bool forwards_ok_171434 = i_lte_j_171431 && y_171433;
                        bool ok_or_empty_171435 = empty_slice_171425 || forwards_ok_171434;
                        bool index_certs_171436;
                        
                        if (!ok_or_empty_171435) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171400, ":", (long long) defunc_0_f_res_171407, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171437 = slt64((int64_t) 0, j_m_i_171424);
                        double dummy_171438;
                        int64_t dummy_171439;
                        
                        if (cond_171437) {
                            bool index_certs_177906;
                            
                            if (!cond_171437) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:209:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177907 = start_171219 + defunc_0_f_res_171400;
                            double head_res_177908 = ((double *) mem_param_180362.mem)[slice_177907];
                            int64_t head_res_177909 = ((int64_t *) mem_param_180365.mem)[slice_177907];
                            
                            dummy_171438 = head_res_177908;
                            dummy_171439 = head_res_177909;
                        } else {
                            bool y_171444 = slt64((int64_t) 0, j_m_i_171411);
                            bool index_certs_171445;
                            
                            if (!y_171444) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:209:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171446 = start_171219 + merge_sequential_arg2_171409;
                            double head_res_171447 = ((double *) mem_param_180362.mem)[slice_171446];
                            int64_t head_res_171448 = ((int64_t *) mem_param_180365.mem)[slice_171446];
                            
                            dummy_171438 = head_res_171447;
                            dummy_171439 = head_res_171448;
                        }
                        for (int64_t nest_i_181741 = 0; nest_i_181741 < merge_block_sizze_171034; nest_i_181741++) {
                            ((double *) mem_180398)[i_179968 * merge_block_sizze_171034 + nest_i_181741] = dummy_171438;
                        }
                        for (int64_t nest_i_181742 = 0; nest_i_181742 < merge_block_sizze_171034; nest_i_181742++) {
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + nest_i_181742] = dummy_171439;
                        }
                        
                        int64_t data_171451;
                        int64_t i_171455 = (int64_t) 0;
                        
                        for (int64_t k_171454 = 0; k_171454 < merge_block_sizze_171034; k_171454++) {
                            int64_t j_171458 = sub64(k_171454, i_171455);
                            bool cond_171459 = j_171458 == j_m_i_171411;
                            bool cond_171460;
                            
                            if (cond_171459) {
                                cond_171460 = 1;
                            } else {
                                bool cond_171461 = slt64(i_171455, j_m_i_171424);
                                bool cond_f_res_171462;
                                
                                if (cond_171461) {
                                    bool x_177910 = sle64((int64_t) 0, j_171458);
                                    bool y_177911 = slt64(j_171458, j_m_i_171411);
                                    bool bounds_check_177912 = x_177910 && y_177911;
                                    bool index_certs_177913;
                                    
                                    if (!bounds_check_177912) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177917 = sle64((int64_t) 0, i_171455);
                                    bool bounds_check_177918 = cond_171461 && x_177917;
                                    bool index_certs_177919;
                                    
                                    if (!bounds_check_177918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177914 = merge_sequential_arg2_171409 + j_171458;
                                    int64_t slice_177915 = start_171219 + slice_177914;
                                    double leq_arg1_177916 = ((double *) mem_param_180362.mem)[slice_177915];
                                    int64_t slice_177920 = defunc_0_f_res_171400 + i_171455;
                                    int64_t slice_177921 = start_171219 + slice_177920;
                                    double leq_arg0_177922 = ((double *) mem_param_180362.mem)[slice_177921];
                                    bool zlze_res_177923 = leq_arg0_177922 <= leq_arg1_177916;
                                    
                                    cond_f_res_171462 = zlze_res_177923;
                                } else {
                                    cond_f_res_171462 = 0;
                                }
                                cond_171460 = cond_f_res_171462;
                            }
                            
                            int64_t loopres_171477;
                            double loopres_171478;
                            int64_t loopres_171479;
                            
                            if (cond_171460) {
                                bool x_177925 = sle64((int64_t) 0, i_171455);
                                bool y_177926 = slt64(i_171455, j_m_i_171424);
                                bool bounds_check_177927 = x_177925 && y_177926;
                                bool index_certs_177928;
                                
                                if (!bounds_check_177927) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177924 = add64((int64_t) 1, i_171455);
                                int64_t slice_177929 = defunc_0_f_res_171400 + i_171455;
                                int64_t slice_177930 = start_171219 + slice_177929;
                                double tmp_177931 = ((double *) mem_param_180362.mem)[slice_177930];
                                int64_t tmp_177932 = ((int64_t *) mem_param_180365.mem)[slice_177930];
                                
                                loopres_171477 = tmp_177924;
                                loopres_171478 = tmp_177931;
                                loopres_171479 = tmp_177932;
                            } else {
                                bool x_171489 = sle64((int64_t) 0, j_171458);
                                bool y_171490 = slt64(j_171458, j_m_i_171411);
                                bool bounds_check_171491 = x_171489 && y_171490;
                                bool index_certs_171492;
                                
                                if (!bounds_check_171491) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171493 = merge_sequential_arg2_171409 + j_171458;
                                int64_t slice_171494 = start_171219 + slice_171493;
                                double tmp_171495 = ((double *) mem_param_180362.mem)[slice_171494];
                                int64_t tmp_171496 = ((int64_t *) mem_param_180365.mem)[slice_171494];
                                
                                loopres_171477 = i_171455;
                                loopres_171478 = tmp_171495;
                                loopres_171479 = tmp_171496;
                            }
                            ((double *) mem_180398)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171478;
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171479;
                            
                            int64_t i_tmp_181743 = loopres_171477;
                            
                            i_171455 = i_tmp_181743;
                        }
                        data_171451 = i_171455;
                    }
                    if (memblock_alloc(ctx, &mem_180436, bytes_180397, "mem_180436")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180436.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint64_t *) mem_180398, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_alloc(ctx, &mem_180440, bytes_180397, "mem_180440")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180440.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint64_t *) mem_180401, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180436, "mem_180436") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180440, "mem_180440") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180368, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180463.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180371, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171503 = next_stride_171147 * num_merges_171151;
            
            if (memblock_alloc(ctx, &mem_180474, bytes_180367, "mem_180474")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180474.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint64_t *) mem_180368, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            if (memblock_alloc(ctx, &mem_180478, bytes_180367, "mem_180478")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180478.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint64_t *) mem_180371, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            
            bool loop_cond_171506 = slt64(next_stride_171147, flat_dim_171031);
            
            if (memblock_set(ctx, &mem_param_tmp_181717, &mem_180474, "mem_180474") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181718, &mem_180478, "mem_180478") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181719 = flat_dim_171503;
            bool loop_while_tmp_181720 = loop_cond_171506;
            int64_t stride_tmp_181723 = next_stride_171147;
            
            if (memblock_set(ctx, &mem_param_180362, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180365, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
                return 1;
            loop_dz2084Uz2082U_171142 = loop_dz2084Uz2082U_tmp_181719;
            loop_while_171143 = loop_while_tmp_181720;
            stride_171146 = stride_tmp_181723;
        }
        if (memblock_set(ctx, &ext_mem_180485, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180484, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        data_171137 = loop_dz2084Uz2082U_171142;
        data_171138 = loop_while_171143;
        data_171141 = stride_171146;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        
        bool empty_slice_171507 = n_107737 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171508 = sle64((int64_t) 0, zs_lhs_171015);
        bool i_p_m_t_s_leq_w_171509 = slt64(zs_lhs_171015, data_171137);
        bool y_171510 = zzero_leq_i_p_m_t_s_171508 && i_p_m_t_s_leq_w_171509;
        bool ok_or_empty_171511 = empty_slice_171507 || y_171510;
        bool index_certs_171512;
        
        if (!ok_or_empty_171511) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_107737, "] out of bounds for array of shape [", (long long) data_171137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:209:54-57\n   #5  ftsort.fut:44:3-28\n   #6  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180488, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180490, bytes_180282, "mem_180490")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180492, bytes_180282, "mem_180492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179982 = 0; i_179982 < n_107737; i_179982++) {
        int64_t eta_p_171516 = ((int64_t *) ext_mem_180488.mem)[i_179982];
        bool x_171517 = sle64((int64_t) 0, eta_p_171516);
        bool y_171518 = slt64(eta_p_171516, n_107737);
        bool bounds_check_171519 = x_171517 && y_171518;
        bool index_certs_171520;
        
        if (!bounds_check_171519) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171516, "] out of bounds for array of shape [", (long long) n_107737, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171521 = ((int64_t *) ext_mem_180281.mem)[eta_p_171516];
        double lifted_lambda_res_171522 = ((double *) xs_mem_180280.mem)[eta_p_171516];
        
        ((int64_t *) mem_180490.mem)[i_179982] = lifted_lambda_res_171521;
        ((double *) mem_180492.mem)[i_179982] = lifted_lambda_res_171522;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180490, "mem_180490") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180492, "mem_180492") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181963, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181964, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180286);
        free(mem_180289);
        free(mem_180299);
        free(mem_180301);
        free(mem_180368);
        free(mem_180371);
        free(mem_180381);
        free(mem_180383);
        free(mem_180398);
        free(mem_180401);
        if (memblock_unref(ctx, &mem_180492, "mem_180492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180490, "mem_180490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180478, "mem_180478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180474, "mem_180474") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180440, "mem_180440") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180436, "mem_180436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180445, "mem_180445") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180443, "mem_180443") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180485, "ext_mem_180485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_181975, struct memblock *mem_out_p_181976, struct memblock xs_mem_180280, int64_t n_105393, int64_t incr_105394)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180286_cached_sizze_181977 = 0;
    unsigned char *mem_180286 = NULL;
    int64_t mem_180289_cached_sizze_181978 = 0;
    unsigned char *mem_180289 = NULL;
    int64_t mem_180299_cached_sizze_181979 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_181980 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180368_cached_sizze_181981 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180371_cached_sizze_181982 = 0;
    unsigned char *mem_180371 = NULL;
    int64_t mem_180381_cached_sizze_181983 = 0;
    unsigned char *mem_180381 = NULL;
    int64_t mem_180383_cached_sizze_181984 = 0;
    unsigned char *mem_180383 = NULL;
    int64_t mem_180398_cached_sizze_181985 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180401_cached_sizze_181986 = 0;
    unsigned char *mem_180401 = NULL;
    struct memblock mem_180492;
    
    mem_180492.references = NULL;
    
    struct memblock mem_180490;
    
    mem_180490.references = NULL;
    
    struct memblock mem_param_tmp_181718;
    
    mem_param_tmp_181718.references = NULL;
    
    struct memblock mem_param_tmp_181717;
    
    mem_param_tmp_181717.references = NULL;
    
    struct memblock mem_180478;
    
    mem_180478.references = NULL;
    
    struct memblock mem_180474;
    
    mem_180474.references = NULL;
    
    struct memblock mem_180440;
    
    mem_180440.references = NULL;
    
    struct memblock mem_180436;
    
    mem_180436.references = NULL;
    
    struct memblock mem_180445;
    
    mem_180445.references = NULL;
    
    struct memblock mem_180443;
    
    mem_180443.references = NULL;
    
    struct memblock ext_mem_180460;
    
    ext_mem_180460.references = NULL;
    
    struct memblock ext_mem_180463;
    
    ext_mem_180463.references = NULL;
    
    struct memblock mem_param_180365;
    
    mem_param_180365.references = NULL;
    
    struct memblock mem_param_180362;
    
    mem_param_180362.references = NULL;
    
    struct memblock ext_mem_180484;
    
    ext_mem_180484.references = NULL;
    
    struct memblock ext_mem_180485;
    
    ext_mem_180485.references = NULL;
    
    struct memblock mem_180358;
    
    mem_180358.references = NULL;
    
    struct memblock mem_180354;
    
    mem_180354.references = NULL;
    
    struct memblock ext_mem_180488;
    
    ext_mem_180488.references = NULL;
    
    struct memblock mem_180283;
    
    mem_180283.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_105393;
    bool cond_171014 = sle64(n_105393, (int64_t) 1);
    int64_t zs_lhs_171015 = sub64(n_105393, (int64_t) 1);
    int64_t zp_rhs_171016 = sdiv_safe64(zs_lhs_171015, (int64_t) 20);
    int64_t min_num_blocks_171017 = add64((int64_t) 1, zp_rhs_171016);
    bool loop_cond_171018 = slt64((int64_t) 1, min_num_blocks_171017);
    bool smallest_pow_2_geq_than_res_171019;
    int64_t smallest_pow_2_geq_than_res_171020;
    bool loop_while_171021;
    int64_t x_171022;
    
    loop_while_171021 = loop_cond_171018;
    x_171022 = (int64_t) 1;
    while (loop_while_171021) {
        int64_t loopres_171023 = mul64((int64_t) 2, x_171022);
        bool loop_cond_171024 = slt64(loopres_171023, min_num_blocks_171017);
        bool loop_while_tmp_181701 = loop_cond_171024;
        int64_t x_tmp_181702 = loopres_171023;
        
        loop_while_171021 = loop_while_tmp_181701;
        x_171022 = x_tmp_181702;
    }
    smallest_pow_2_geq_than_res_171019 = loop_while_171021;
    smallest_pow_2_geq_than_res_171020 = x_171022;
    
    bool zzero_171025 = smallest_pow_2_geq_than_res_171020 == (int64_t) 0;
    bool nonzzero_171026 = !zzero_171025;
    bool protect_assert_disj_171027 = cond_171014 || nonzzero_171026;
    bool nonzzero_cert_171028;
    
    if (!protect_assert_disj_171027) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171029 = sdiv_safe64(zs_lhs_171015, smallest_pow_2_geq_than_res_171020);
    int64_t block_sizze_171030 = add64((int64_t) 1, zp_rhs_171029);
    bool y_171035 = slt64((int64_t) 0, n_105393);
    bool protect_assert_disj_181393 = cond_171014 || y_171035;
    bool index_certs_171036;
    
    if (!protect_assert_disj_181393) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_105393, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171049 = slt64(smallest_pow_2_geq_than_res_171020, (int64_t) 0);
    bool valid_171050 = !bounds_invalid_upwards_171049;
    bool protect_assert_disj_181401 = cond_171014 || valid_171050;
    bool range_valid_c_171051;
    
    if (!protect_assert_disj_181401) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:209:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171053 = slt64(block_sizze_171030, (int64_t) 0);
    bool valid_171054 = !bounds_invalid_upwards_171053;
    bool protect_assert_disj_181403 = cond_171014 || valid_171054;
    bool range_valid_c_171055;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171030, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171057 = sle64(block_sizze_171030, (int64_t) 1);
    int64_t tmp_171058 = sub64(block_sizze_171030, (int64_t) 2);
    bool bounds_invalid_upwards_171059 = slt64(tmp_171058, (int64_t) 0);
    bool valid_171061 = !bounds_invalid_upwards_171059;
    bool protect_assert_disj_171062 = cond_171057 || valid_171061;
    bool protect_assert_disj_181405 = cond_171014 || protect_assert_disj_171062;
    bool range_valid_c_171063;
    
    if (!protect_assert_disj_181405) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171058, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180491 = (int64_t) 4 * n_105393;
    
    if (futrts_indicesWithIncrement_9466(ctx, &ext_mem_180281, xs_mem_180280, n_105393, incr_105394) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180283, bytes_180282, "mem_180283")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181703 = 0; i_181703 < n_105393; i_181703++) {
        int64_t x_181704 = (int64_t) 0 + i_181703 * (int64_t) 1;
        
        ((int64_t *) mem_180283.mem)[i_181703] = x_181704;
    }
    
    int64_t flat_dim_171031 = smallest_pow_2_geq_than_res_171020 * block_sizze_171030;
    bool x_181388 = !cond_171014;
    int64_t greatest_divisor_leq_than_arg1_171033 = mul64((int64_t) 2, block_sizze_171030);
    int64_t merge_block_sizze_171034;
    
    if (x_181388) {
        int64_t x_181390;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181390, (int64_t) 8, greatest_divisor_leq_than_arg1_171033) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171034 = x_181390;
    } else {
        merge_block_sizze_171034 = (int64_t) 0;
    }
    
    float reduce_arg1_171037;
    
    if (x_181388) {
        float x_181394 = ((float *) xs_mem_180280.mem)[(int64_t) 0];
        
        reduce_arg1_171037 = x_181394;
    } else {
        reduce_arg1_171037 = 0.0F;
    }
    
    float defunc_0_reduce_res_177939;
    int64_t defunc_0_reduce_res_177940;
    
    if (x_181388) {
        float x_181396;
        int64_t x_181397;
        float redout_179940;
        int64_t redout_179941;
        
        redout_179940 = reduce_arg1_171037;
        redout_179941 = (int64_t) 0;
        for (int64_t i_179942 = 0; i_179942 < n_105393; i_179942++) {
            float x_171040 = ((float *) xs_mem_180280.mem)[i_179942];
            bool zlze_res_171046 = redout_179940 <= x_171040;
            float defunc_0_op_res_171047;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171047 = x_171040;
            } else {
                defunc_0_op_res_171047 = redout_179940;
            }
            
            int64_t defunc_0_op_res_171048;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171048 = i_179942;
            } else {
                defunc_0_op_res_171048 = redout_179941;
            }
            
            float redout_tmp_181705 = defunc_0_op_res_171047;
            int64_t redout_tmp_181706 = defunc_0_op_res_171048;
            
            redout_179940 = redout_tmp_181705;
            redout_179941 = redout_tmp_181706;
        }
        x_181396 = redout_179940;
        x_181397 = redout_179941;
        defunc_0_reduce_res_177939 = x_181396;
        defunc_0_reduce_res_177940 = x_181397;
    } else {
        defunc_0_reduce_res_177939 = 0.0F;
        defunc_0_reduce_res_177940 = (int64_t) 0;
    }
    
    int64_t distance_171060 = add64((int64_t) 1, tmp_171058);
    int64_t binop_x_180284 = (int64_t) 4 * smallest_pow_2_geq_than_res_171020;
    int64_t bytes_180285 = block_sizze_171030 * binop_x_180284;
    int64_t binop_x_180287 = (int64_t) 8 * smallest_pow_2_geq_than_res_171020;
    int64_t bytes_180288 = block_sizze_171030 * binop_x_180287;
    int64_t bytes_180298 = (int64_t) 4 * block_sizze_171030;
    int64_t bytes_180300 = (int64_t) 8 * block_sizze_171030;
    bool loop_cond_171134 = slt64(block_sizze_171030, flat_dim_171031);
    bool zzero_171135 = merge_block_sizze_171034 == (int64_t) 0;
    bool nonzzero_171136 = !zzero_171135;
    
    if (cond_171014) {
        if (memblock_set(ctx, &ext_mem_180488, &mem_180283, "mem_180283") != 0)
            return 1;
    } else {
        if (mem_180286_cached_sizze_181977 < bytes_180285) {
            err = lexical_realloc(ctx, &mem_180286, &mem_180286_cached_sizze_181977, bytes_180285);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180289_cached_sizze_181978 < bytes_180288) {
            err = lexical_realloc(ctx, &mem_180289, &mem_180289_cached_sizze_181978, bytes_180288);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180299_cached_sizze_181979 < bytes_180298) {
            err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_181979, bytes_180298);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180301_cached_sizze_181980 < bytes_180300) {
            err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_181980, bytes_180300);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179954 = 0; i_179954 < smallest_pow_2_geq_than_res_171020; i_179954++) {
            int64_t zp_lhs_171067 = mul64(block_sizze_171030, i_179954);
            
            for (int64_t i_179947 = 0; i_179947 < block_sizze_171030; i_179947++) {
                int64_t k_171071 = add64(zp_lhs_171067, i_179947);
                bool cond_171072 = slt64(k_171071, n_105393);
                float lifted_lambda_res_171073;
                int64_t lifted_lambda_res_171074;
                
                if (cond_171072) {
                    bool x_177792 = sle64((int64_t) 0, k_171071);
                    bool bounds_check_177793 = cond_171072 && x_177792;
                    bool index_certs_177794;
                    
                    if (!bounds_check_177793) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171071, "] out of bounds for array of shape [", (long long) n_105393, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float lifted_lambda_res_t_res_177795 = ((float *) xs_mem_180280.mem)[k_171071];
                    
                    lifted_lambda_res_171073 = lifted_lambda_res_t_res_177795;
                    lifted_lambda_res_171074 = k_171071;
                } else {
                    lifted_lambda_res_171073 = defunc_0_reduce_res_177939;
                    lifted_lambda_res_171074 = defunc_0_reduce_res_177940;
                }
                ((float *) mem_180299)[i_179947] = lifted_lambda_res_171073;
                ((int64_t *) mem_180301)[i_179947] = lifted_lambda_res_171074;
            }
            if (!cond_171057) {
                for (int64_t i_171083 = 0; i_171083 < distance_171060; i_171083++) {
                    int64_t gt_arg1_171086 = add64((int64_t) 1, i_171083);
                    bool x_171087 = sle64((int64_t) 0, gt_arg1_171086);
                    bool y_171088 = slt64(gt_arg1_171086, block_sizze_171030);
                    bool bounds_check_171089 = x_171087 && y_171088;
                    bool index_certs_171090;
                    
                    if (!bounds_check_171089) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171086, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171092 = slt64(i_171083, block_sizze_171030);
                    bool index_certs_171093;
                    
                    if (!y_171092) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171083, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float gt_arg1_171091 = ((float *) mem_180299)[gt_arg1_171086];
                    float gt_arg0_171094 = ((float *) mem_180299)[i_171083];
                    bool zlze_res_171095 = gt_arg0_171094 <= gt_arg1_171091;
                    bool defunc_0_lifted_gt_res_171096 = !zlze_res_171095;
                    bool s_171097;
                    int64_t s_171100;
                    bool loop_while_171101;
                    int64_t j_171104;
                    
                    loop_while_171101 = defunc_0_lifted_gt_res_171096;
                    j_171104 = i_171083;
                    while (loop_while_171101) {
                        bool x_171105 = sle64((int64_t) 0, j_171104);
                        bool y_171106 = slt64(j_171104, block_sizze_171030);
                        bool bounds_check_171107 = x_171105 && y_171106;
                        bool index_certs_171108;
                        
                        if (!bounds_check_171107) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171104, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171111 = add64((int64_t) 1, j_171104);
                        bool x_171112 = sle64((int64_t) 0, copy_arg0_171111);
                        bool y_171113 = slt64(copy_arg0_171111, block_sizze_171030);
                        bool bounds_check_171114 = x_171112 && y_171113;
                        bool index_certs_171115;
                        
                        if (!bounds_check_171114) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171111, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        float copy_arg0_171109 = ((float *) mem_180299)[j_171104];
                        int64_t copy_arg0_171110 = ((int64_t *) mem_180301)[j_171104];
                        float copy_arg0_171116 = ((float *) mem_180299)[copy_arg0_171111];
                        int64_t copy_arg0_171117 = ((int64_t *) mem_180301)[copy_arg0_171111];
                        
                        ((float *) mem_180299)[j_171104] = copy_arg0_171116;
                        ((int64_t *) mem_180301)[j_171104] = copy_arg0_171117;
                        ((float *) mem_180299)[copy_arg0_171111] = copy_arg0_171109;
                        ((int64_t *) mem_180301)[copy_arg0_171111] = copy_arg0_171110;
                        
                        int64_t tmp_171122 = sub64(j_171104, (int64_t) 1);
                        bool cond_171123 = sle64((int64_t) 0, tmp_171122);
                        bool loop_cond_171124;
                        
                        if (cond_171123) {
                            bool y_177797 = slt64(tmp_171122, block_sizze_171030);
                            bool bounds_check_177798 = cond_171123 && y_177797;
                            bool index_certs_177799;
                            
                            if (!bounds_check_177798) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171122, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float gt_arg1_177796 = ((float *) mem_180299)[j_171104];
                            float gt_arg0_177800 = ((float *) mem_180299)[tmp_171122];
                            bool zlze_res_177801 = gt_arg0_177800 <= gt_arg1_177796;
                            bool defunc_0_lifted_gt_res_177802 = !zlze_res_177801;
                            
                            loop_cond_171124 = defunc_0_lifted_gt_res_177802;
                        } else {
                            loop_cond_171124 = 0;
                        }
                        
                        bool loop_while_tmp_181713 = loop_cond_171124;
                        int64_t j_tmp_181716 = tmp_171122;
                        
                        loop_while_171101 = loop_while_tmp_181713;
                        j_171104 = j_tmp_181716;
                    }
                    s_171097 = loop_while_171101;
                    s_171100 = j_171104;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180286, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180299, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180289, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180301, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
        }
        if (memblock_alloc(ctx, &mem_180354, bytes_180285, "mem_180354")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180354.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint32_t *) mem_180286, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        if (memblock_alloc(ctx, &mem_180358, bytes_180288, "mem_180358")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180358.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint64_t *) mem_180289, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        
        int64_t data_171137;
        bool data_171138;
        int64_t data_171141;
        int64_t loop_dz2084Uz2082U_171142;
        bool loop_while_171143;
        int64_t stride_171146;
        
        if (memblock_set(ctx, &mem_param_180362, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180365, &mem_180358, "mem_180358") != 0)
            return 1;
        loop_dz2084Uz2082U_171142 = flat_dim_171031;
        loop_while_171143 = loop_cond_171134;
        stride_171146 = block_sizze_171030;
        while (loop_while_171143) {
            int64_t next_stride_171147 = mul64((int64_t) 2, stride_171146);
            bool zzero_171148 = next_stride_171147 == (int64_t) 0;
            bool nonzzero_171149 = !zzero_171148;
            bool nonzzero_cert_171150;
            
            if (!nonzzero_171149) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171151 = sdiv64(flat_dim_171031, next_stride_171147);
            bool bounds_invalid_upwards_171152 = slt64(num_merges_171151, (int64_t) 0);
            bool valid_171153 = !bounds_invalid_upwards_171152;
            bool range_valid_c_171154;
            
            if (!valid_171153) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171151, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:209:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171156 = sub64(next_stride_171147, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171157 = sle64((int64_t) 0, m_171156);
            bool cond_171159 = slt64(next_stride_171147, (int64_t) 10);
            bool protect_assert_disj_171160 = nonzzero_171136 || cond_171159;
            bool nonzzero_cert_171161;
            
            if (!protect_assert_disj_171160) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171162 = smod_safe64(next_stride_171147, merge_block_sizze_171034);
            bool num_blocks_171163 = zeze_lhs_171162 == (int64_t) 0;
            bool protect_assert_disj_171164 = cond_171159 || num_blocks_171163;
            bool assert_c_171165;
            
            if (!protect_assert_disj_171164) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171167 = sdiv_safe64(next_stride_171147, merge_block_sizze_171034);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168 = add64((int64_t) 1, num_blocks_171167);
            int64_t j_m_i_171169 = sub64(next_stride_171147, stride_171146);
            int64_t flat_dim_171170 = merge_block_sizze_171034 * num_blocks_171167;
            bool bounds_invalid_upwards_171171 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, (int64_t) 0);
            bool zzero_lte_i_171172 = sle64((int64_t) 0, stride_171146);
            bool i_lte_j_171173 = sle64(stride_171146, next_stride_171147);
            bool empty_slice_171174 = stride_171146 == (int64_t) 0;
            int64_t m_171175 = sub64(stride_171146, (int64_t) 1);
            bool bounds_invalid_upwards_171176 = slt64(num_blocks_171167, (int64_t) 0);
            bool empty_slice_171177 = j_m_i_171169 == (int64_t) 0;
            int64_t m_171178 = sub64(j_m_i_171169, (int64_t) 1);
            bool cond_171179 = slt64((int64_t) 0, stride_171146);
            bool valid_171180 = !bounds_invalid_upwards_171171;
            bool zzero_leq_i_p_m_t_s_171181 = sle64((int64_t) 0, m_171175);
            bool i_p_m_t_s_leq_w_171182 = slt64(m_171175, next_stride_171147);
            bool valid_171183 = !bounds_invalid_upwards_171176;
            bool i_p_m_t_s_leq_w_171184 = slt64(m_171156, flat_dim_171170);
            int64_t i_p_m_t_s_171185 = add64(stride_171146, m_171178);
            bool y_171186 = slt64((int64_t) 0, j_m_i_171169);
            bool protect_assert_disj_171187 = cond_171159 || valid_171180;
            bool range_valid_c_171188;
            
            if (!protect_assert_disj_171187) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171189 = zzero_leq_i_p_m_t_s_171181 && i_p_m_t_s_leq_w_171182;
            bool protect_assert_disj_171190 = cond_171159 || valid_171183;
            bool range_valid_c_171191;
            
            if (!protect_assert_disj_171190) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171192 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171184;
            bool zzero_leq_i_p_m_t_s_171193 = sle64((int64_t) 0, i_p_m_t_s_171185);
            bool i_p_m_t_s_leq_w_171194 = slt64(i_p_m_t_s_171185, next_stride_171147);
            bool forwards_ok_171195 = zzero_lte_i_171172 && y_171189;
            bool ok_or_empty_171196 = zzero_171148 || y_171192;
            bool y_171197 = zzero_lte_i_171172 && i_p_m_t_s_leq_w_171194;
            bool protect_assert_disj_171198 = cond_171179 || y_171186;
            bool ok_or_empty_171199 = empty_slice_171174 || forwards_ok_171195;
            bool protect_assert_disj_171200 = cond_171159 || ok_or_empty_171196;
            bool index_certs_171201;
            
            if (!protect_assert_disj_171200) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) flat_dim_171170, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171202 = zzero_leq_i_p_m_t_s_171193 && y_171197;
            bool loop_not_taken_171203 = !cond_171159;
            bool protect_assert_disj_171204 = protect_assert_disj_171198 || loop_not_taken_171203;
            bool index_certs_171205;
            
            if (!protect_assert_disj_171204) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171206 = cond_171159 || ok_or_empty_171199;
            bool index_certs_171207;
            
            if (!protect_assert_disj_171206) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171208 = i_lte_j_171173 && y_171202;
            bool protect_assert_disj_171209 = ok_or_empty_171199 || loop_not_taken_171203;
            bool index_certs_171210;
            
            if (!protect_assert_disj_171209) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171211 = empty_slice_171177 || forwards_ok_171208;
            bool protect_assert_disj_171212 = loop_not_taken_171203 || ok_or_empty_171211;
            bool index_certs_171213;
            
            if (!protect_assert_disj_171212) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171214 = cond_171159 || ok_or_empty_171211;
            bool index_certs_171215;
            
            if (!protect_assert_disj_171214) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180366 = (int64_t) 4 * num_merges_171151;
            int64_t bytes_180367 = next_stride_171147 * binop_x_180366;
            int64_t binop_x_180369 = (int64_t) 8 * num_merges_171151;
            int64_t bytes_180370 = next_stride_171147 * binop_x_180369;
            bool i_lte_j_171158 = sle64((int64_t) 0, next_stride_171147);
            
            if (mem_180368_cached_sizze_181981 < bytes_180367) {
                err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_181981, bytes_180367);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180371_cached_sizze_181982 < bytes_180370) {
                err = lexical_realloc(ctx, &mem_180371, &mem_180371_cached_sizze_181982, bytes_180370);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180380 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168;
            int64_t binop_x_180396 = (int64_t) 4 * num_blocks_171167;
            int64_t bytes_180397 = merge_block_sizze_171034 * binop_x_180396;
            int64_t binop_x_180399 = (int64_t) 8 * num_blocks_171167;
            int64_t bytes_180400 = merge_block_sizze_171034 * binop_x_180399;
            int64_t bytes_180442 = (int64_t) 8 * stride_171146;
            int64_t bytes_180444 = (int64_t) 16 * stride_171146;
            
            for (int64_t i_179975 = 0; i_179975 < num_merges_171151; i_179975++) {
                int64_t start_171219 = mul64(next_stride_171147, i_179975);
                int64_t j_m_i_171220 = sub64(loop_dz2084Uz2082U_171142, start_171219);
                bool empty_slice_171221 = j_m_i_171220 == (int64_t) 0;
                int64_t m_171222 = sub64(j_m_i_171220, (int64_t) 1);
                int64_t i_p_m_t_s_171223 = add64(start_171219, m_171222);
                bool zzero_leq_i_p_m_t_s_171224 = sle64((int64_t) 0, i_p_m_t_s_171223);
                bool i_p_m_t_s_leq_w_171225 = slt64(i_p_m_t_s_171223, loop_dz2084Uz2082U_171142);
                bool zzero_lte_i_171226 = sle64((int64_t) 0, start_171219);
                bool i_lte_j_171227 = sle64(start_171219, loop_dz2084Uz2082U_171142);
                bool y_171228 = i_p_m_t_s_leq_w_171225 && zzero_lte_i_171226;
                bool y_171229 = zzero_leq_i_p_m_t_s_171224 && y_171228;
                bool forwards_ok_171230 = i_lte_j_171227 && y_171229;
                bool ok_or_empty_171231 = empty_slice_171221 || forwards_ok_171230;
                bool index_certs_171232;
                
                if (!ok_or_empty_171231) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171219, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171142, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171233 = slt64(m_171156, j_m_i_171220);
                bool y_171234 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171233;
                bool forwards_ok_171235 = i_lte_j_171158 && y_171234;
                bool ok_or_empty_171236 = zzero_171148 || forwards_ok_171235;
                bool index_certs_171237;
                
                if (!ok_or_empty_171236) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) j_m_i_171220, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:209:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171159) {
                    float dummy_177828;
                    int64_t dummy_177829;
                    
                    if (cond_171179) {
                        float head_res_177830 = ((float *) mem_param_180362.mem)[start_171219];
                        int64_t head_res_177831 = ((int64_t *) mem_param_180365.mem)[start_171219];
                        
                        dummy_177828 = head_res_177830;
                        dummy_177829 = head_res_177831;
                    } else {
                        int64_t slice_177832 = stride_171146 + start_171219;
                        float head_res_177833 = ((float *) mem_param_180362.mem)[slice_177832];
                        int64_t head_res_177834 = ((int64_t *) mem_param_180365.mem)[slice_177832];
                        
                        dummy_177828 = head_res_177833;
                        dummy_177829 = head_res_177834;
                    }
                    if (memblock_alloc(ctx, &mem_180443, bytes_180442, "mem_180443")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181726 = 0; nest_i_181726 < next_stride_171147; nest_i_181726++) {
                        ((float *) mem_180443.mem)[nest_i_181726] = dummy_177828;
                    }
                    if (memblock_alloc(ctx, &mem_180445, bytes_180444, "mem_180445")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181727 = 0; nest_i_181727 < next_stride_171147; nest_i_181727++) {
                        ((int64_t *) mem_180445.mem)[nest_i_181727] = dummy_177829;
                    }
                    
                    int64_t data_177837;
                    int64_t i_177841 = (int64_t) 0;
                    
                    for (int64_t k_177840 = 0; k_177840 < next_stride_171147; k_177840++) {
                        int64_t j_177844 = sub64(k_177840, i_177841);
                        bool cond_177845 = j_177844 == j_m_i_171169;
                        bool cond_177846;
                        
                        if (cond_177845) {
                            cond_177846 = 1;
                        } else {
                            bool cond_177847 = slt64(i_177841, stride_171146);
                            bool cond_f_res_177848;
                            
                            if (cond_177847) {
                                bool x_177849 = sle64((int64_t) 0, j_177844);
                                bool y_177850 = slt64(j_177844, j_m_i_171169);
                                bool bounds_check_177851 = x_177849 && y_177850;
                                bool index_certs_177852;
                                
                                if (!bounds_check_177851) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177856 = sle64((int64_t) 0, i_177841);
                                bool bounds_check_177857 = cond_177847 && x_177856;
                                bool index_certs_177858;
                                
                                if (!bounds_check_177857) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177853 = stride_171146 + j_177844;
                                int64_t slice_177854 = start_171219 + slice_177853;
                                float leq_arg1_177855 = ((float *) mem_param_180362.mem)[slice_177854];
                                int64_t slice_177859 = start_171219 + i_177841;
                                float leq_arg0_177860 = ((float *) mem_param_180362.mem)[slice_177859];
                                bool zlze_res_177861 = leq_arg0_177860 <= leq_arg1_177855;
                                
                                cond_f_res_177848 = zlze_res_177861;
                            } else {
                                cond_f_res_177848 = 0;
                            }
                            cond_177846 = cond_f_res_177848;
                        }
                        
                        int64_t loopres_177862;
                        float loopres_177863;
                        int64_t loopres_177864;
                        
                        if (cond_177846) {
                            bool x_177866 = sle64((int64_t) 0, i_177841);
                            bool y_177867 = slt64(i_177841, stride_171146);
                            bool bounds_check_177868 = x_177866 && y_177867;
                            bool index_certs_177869;
                            
                            if (!bounds_check_177868) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177865 = add64((int64_t) 1, i_177841);
                            int64_t slice_177870 = start_171219 + i_177841;
                            float tmp_177871 = ((float *) mem_param_180362.mem)[slice_177870];
                            int64_t tmp_177872 = ((int64_t *) mem_param_180365.mem)[slice_177870];
                            
                            loopres_177862 = tmp_177865;
                            loopres_177863 = tmp_177871;
                            loopres_177864 = tmp_177872;
                        } else {
                            bool x_177873 = sle64((int64_t) 0, j_177844);
                            bool y_177874 = slt64(j_177844, j_m_i_171169);
                            bool bounds_check_177875 = x_177873 && y_177874;
                            bool index_certs_177876;
                            
                            if (!bounds_check_177875) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:209:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177877 = stride_171146 + j_177844;
                            int64_t slice_177878 = start_171219 + slice_177877;
                            float tmp_177879 = ((float *) mem_param_180362.mem)[slice_177878];
                            int64_t tmp_177880 = ((int64_t *) mem_param_180365.mem)[slice_177878];
                            
                            loopres_177862 = i_177841;
                            loopres_177863 = tmp_177879;
                            loopres_177864 = tmp_177880;
                        }
                        ((float *) mem_180443.mem)[k_177840] = loopres_177863;
                        ((int64_t *) mem_180445.mem)[k_177840] = loopres_177864;
                        
                        int64_t i_tmp_181728 = loopres_177862;
                        
                        i_177841 = i_tmp_181728;
                    }
                    data_177837 = i_177841;
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180443, "mem_180443") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180445, "mem_180445") != 0)
                        return 1;
                } else {
                    if (mem_180381_cached_sizze_181983 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180381, &mem_180381_cached_sizze_181983, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180383_cached_sizze_181984 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180383, &mem_180383_cached_sizze_181984, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179961 = 0; i_179961 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168; i_179961++) {
                        int64_t split_count_arg3_171299 = mul64(merge_block_sizze_171034, i_179961);
                        int64_t defunc_0_split_count_res_171300;
                        int64_t defunc_0_split_count_res_171301;
                        int64_t defunc_0_split_count_res_171302;
                        int64_t defunc_0_split_count_res_171303;
                        int64_t defunc_0_split_count_res_171304;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_171300, &defunc_0_split_count_res_171301, &defunc_0_split_count_res_171302, &defunc_0_split_count_res_171303, &defunc_0_split_count_res_171304, (int64_t) 0, stride_171146, (int64_t) 0, j_m_i_171169, split_count_arg3_171299) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171305 = slt64((int64_t) 0, defunc_0_split_count_res_171304);
                        bool defunc_0_split_count_res_171306;
                        int64_t defunc_0_split_count_res_171307;
                        int64_t defunc_0_split_count_res_171308;
                        int64_t defunc_0_split_count_res_171309;
                        int64_t defunc_0_split_count_res_171310;
                        int64_t defunc_0_split_count_res_171311;
                        bool loop_while_171312;
                        int64_t ss_171313;
                        int64_t ss_171314;
                        int64_t tt_171315;
                        int64_t tt_171316;
                        int64_t count_171317;
                        
                        loop_while_171312 = loop_cond_171305;
                        ss_171313 = defunc_0_split_count_res_171300;
                        ss_171314 = defunc_0_split_count_res_171301;
                        tt_171315 = defunc_0_split_count_res_171302;
                        tt_171316 = defunc_0_split_count_res_171303;
                        count_171317 = defunc_0_split_count_res_171304;
                        while (loop_while_171312) {
                            int64_t zlze_lhs_171318 = sub64(ss_171314, ss_171313);
                            bool cond_171319 = sle64(zlze_lhs_171318, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171320;
                            int64_t defunc_0_lifted_step_res_171321;
                            int64_t defunc_0_lifted_step_res_171322;
                            int64_t defunc_0_lifted_step_res_171323;
                            
                            if (cond_171319) {
                                int64_t tmp_177883 = add64(tt_171315, count_171317);
                                
                                defunc_0_lifted_step_res_171320 = ss_171313;
                                defunc_0_lifted_step_res_171321 = tmp_177883;
                                defunc_0_lifted_step_res_171322 = tt_171316;
                                defunc_0_lifted_step_res_171323 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171325 = sub64(tt_171316, tt_171315);
                                bool cond_171326 = sle64(zlze_lhs_171325, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171327;
                                int64_t defunc_0_lifted_step_res_f_res_171328;
                                int64_t defunc_0_lifted_step_res_f_res_171329;
                                int64_t defunc_0_lifted_step_res_f_res_171330;
                                
                                if (cond_171326) {
                                    int64_t tmp_177884 = add64(ss_171313, count_171317);
                                    
                                    defunc_0_lifted_step_res_f_res_171327 = tmp_177884;
                                    defunc_0_lifted_step_res_f_res_171328 = tt_171315;
                                    defunc_0_lifted_step_res_f_res_171329 = tt_171316;
                                    defunc_0_lifted_step_res_f_res_171330 = (int64_t) 0;
                                } else {
                                    bool cond_171332 = count_171317 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171333;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171334;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171335;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171336;
                                    
                                    if (cond_171332) {
                                        bool x_177886 = sle64((int64_t) 0, ss_171313);
                                        bool y_177887 = slt64(ss_171313, stride_171146);
                                        bool bounds_check_177888 = x_177886 && y_177887;
                                        bool index_certs_177889;
                                        
                                        if (!bounds_check_177888) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171313, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177892 = sle64((int64_t) 0, tt_171315);
                                        bool y_177893 = slt64(tt_171315, j_m_i_171169);
                                        bool bounds_check_177894 = x_177892 && y_177893;
                                        bool index_certs_177895;
                                        
                                        if (!bounds_check_177894) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171315, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177890 = start_171219 + ss_171313;
                                        float leq_arg1_177891 = ((float *) mem_param_180362.mem)[slice_177890];
                                        int64_t slice_177896 = stride_171146 + tt_171315;
                                        int64_t slice_177897 = start_171219 + slice_177896;
                                        float leq_arg0_177898 = ((float *) mem_param_180362.mem)[slice_177897];
                                        bool zlze_res_177899 = leq_arg0_177898 <= leq_arg1_177891;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        
                                        if (zlze_res_177899) {
                                            int64_t tmp_177902 = add64((int64_t) 1, tt_171315);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = ss_171313;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tmp_177902;
                                        } else {
                                            int64_t tmp_177903 = add64((int64_t) 1, ss_171313);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = tmp_177903;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tt_171315;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = tt_171316;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = (int64_t) 0;
                                    } else {
                                        int64_t m_171355 = sdiv64(count_171317, (int64_t) 2);
                                        int64_t n_171356 = sub64(count_171317, m_171355);
                                        bool cond_171357 = n_171356 == (int64_t) 0;
                                        int64_t zgze_lhs_171358 = add64(ss_171313, m_171355);
                                        bool cond_f_res_171359 = sle64(ss_171314, zgze_lhs_171358);
                                        bool x_171360 = !cond_171357;
                                        bool y_171361 = cond_f_res_171359 && x_171360;
                                        bool cond_171362 = cond_171357 || y_171361;
                                        bool leq_y_x_171363;
                                        
                                        if (cond_171362) {
                                            leq_y_x_171363 = 1;
                                        } else {
                                            bool x_171364 = sle64((int64_t) 0, zgze_lhs_171358);
                                            bool y_171365 = slt64(zgze_lhs_171358, stride_171146);
                                            bool bounds_check_171366 = x_171364 && y_171365;
                                            bool index_certs_171367;
                                            
                                            if (!bounds_check_171366) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171358, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171370 = add64(tt_171315, n_171356);
                                            int64_t leq_arg0_171371 = sub64(zm_lhs_171370, (int64_t) 1);
                                            bool x_171372 = sle64((int64_t) 0, leq_arg0_171371);
                                            bool y_171373 = slt64(leq_arg0_171371, j_m_i_171169);
                                            bool bounds_check_171374 = x_171372 && y_171373;
                                            bool index_certs_171375;
                                            
                                            if (!bounds_check_171374) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171371, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:209:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171368 = start_171219 + zgze_lhs_171358;
                                            float leq_arg1_171369 = ((float *) mem_param_180362.mem)[slice_171368];
                                            int64_t slice_171376 = stride_171146 + leq_arg0_171371;
                                            int64_t slice_171377 = start_171219 + slice_171376;
                                            float leq_arg0_171378 = ((float *) mem_param_180362.mem)[slice_171377];
                                            bool zlze_res_171379 = leq_arg0_171378 <= leq_arg1_171369;
                                            
                                            leq_y_x_171363 = zlze_res_171379;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                        
                                        if (leq_y_x_171363) {
                                            int64_t tmp_177904 = add64(tt_171315, n_171356);
                                            int64_t tmp_177905 = sub64(count_171317, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tmp_177904;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tt_171316;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = tmp_177905;
                                        } else {
                                            int64_t tmp_171385 = add64(tt_171315, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tt_171315;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tmp_171385;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = count_171317;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = ss_171313;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                    }
                                    defunc_0_lifted_step_res_f_res_171327 = defunc_0_lifted_step_res_f_res_f_res_171333;
                                    defunc_0_lifted_step_res_f_res_171328 = defunc_0_lifted_step_res_f_res_f_res_171334;
                                    defunc_0_lifted_step_res_f_res_171329 = defunc_0_lifted_step_res_f_res_f_res_171335;
                                    defunc_0_lifted_step_res_f_res_171330 = defunc_0_lifted_step_res_f_res_f_res_171336;
                                }
                                defunc_0_lifted_step_res_171320 = defunc_0_lifted_step_res_f_res_171327;
                                defunc_0_lifted_step_res_171321 = defunc_0_lifted_step_res_f_res_171328;
                                defunc_0_lifted_step_res_171322 = defunc_0_lifted_step_res_f_res_171329;
                                defunc_0_lifted_step_res_171323 = defunc_0_lifted_step_res_f_res_171330;
                            }
                            
                            int64_t loopres_171386;
                            int64_t loopres_171387;
                            int64_t loopres_171388;
                            int64_t loopres_171389;
                            int64_t loopres_171390;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_171386, &loopres_171387, &loopres_171388, &loopres_171389, &loopres_171390, defunc_0_lifted_step_res_171320, ss_171314, defunc_0_lifted_step_res_171321, defunc_0_lifted_step_res_171322, defunc_0_lifted_step_res_171323) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171391 = slt64((int64_t) 0, loopres_171390);
                            bool loop_while_tmp_181733 = loop_cond_171391;
                            int64_t ss_tmp_181734 = loopres_171386;
                            int64_t ss_tmp_181735 = loopres_171387;
                            int64_t tt_tmp_181736 = loopres_171388;
                            int64_t tt_tmp_181737 = loopres_171389;
                            int64_t count_tmp_181738 = loopres_171390;
                            
                            loop_while_171312 = loop_while_tmp_181733;
                            ss_171313 = ss_tmp_181734;
                            ss_171314 = ss_tmp_181735;
                            tt_171315 = tt_tmp_181736;
                            tt_171316 = tt_tmp_181737;
                            count_171317 = count_tmp_181738;
                        }
                        defunc_0_split_count_res_171306 = loop_while_171312;
                        defunc_0_split_count_res_171307 = ss_171313;
                        defunc_0_split_count_res_171308 = ss_171314;
                        defunc_0_split_count_res_171309 = tt_171315;
                        defunc_0_split_count_res_171310 = tt_171316;
                        defunc_0_split_count_res_171311 = count_171317;
                        ((int64_t *) mem_180381)[i_179961] = defunc_0_split_count_res_171307;
                        ((int64_t *) mem_180383)[i_179961] = defunc_0_split_count_res_171309;
                    }
                    if (mem_180398_cached_sizze_181985 < bytes_180397) {
                        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_181985, bytes_180397);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180401_cached_sizze_181986 < bytes_180400) {
                        err = lexical_realloc(ctx, &mem_180401, &mem_180401_cached_sizze_181986, bytes_180400);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179968 = 0; i_179968 < num_blocks_171167; i_179968++) {
                        bool y_171397 = slt64(i_179968, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool index_certs_171399;
                        
                        if (!y_171397) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179968, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171400 = ((int64_t *) mem_180381)[i_179968];
                        int64_t defunc_0_f_res_171401 = ((int64_t *) mem_180383)[i_179968];
                        int64_t tmp_171402 = add64((int64_t) 1, i_179968);
                        bool x_171403 = sle64((int64_t) 0, tmp_171402);
                        bool y_171404 = slt64(tmp_171402, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool bounds_check_171405 = x_171403 && y_171404;
                        bool index_certs_171406;
                        
                        if (!bounds_check_171405) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171402, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171407 = ((int64_t *) mem_180381)[tmp_171402];
                        int64_t defunc_0_f_res_171408 = ((int64_t *) mem_180383)[tmp_171402];
                        int64_t merge_sequential_arg2_171409 = add64(stride_171146, defunc_0_f_res_171401);
                        int64_t merge_sequential_arg2_171410 = add64(stride_171146, defunc_0_f_res_171408);
                        int64_t j_m_i_171411 = sub64(merge_sequential_arg2_171410, merge_sequential_arg2_171409);
                        bool empty_slice_171412 = j_m_i_171411 == (int64_t) 0;
                        int64_t m_171413 = sub64(j_m_i_171411, (int64_t) 1);
                        int64_t i_p_m_t_s_171414 = add64(merge_sequential_arg2_171409, m_171413);
                        bool zzero_leq_i_p_m_t_s_171415 = sle64((int64_t) 0, i_p_m_t_s_171414);
                        bool i_p_m_t_s_leq_w_171416 = slt64(i_p_m_t_s_171414, next_stride_171147);
                        bool zzero_lte_i_171417 = sle64((int64_t) 0, merge_sequential_arg2_171409);
                        bool i_lte_j_171418 = sle64(merge_sequential_arg2_171409, merge_sequential_arg2_171410);
                        bool y_171419 = i_p_m_t_s_leq_w_171416 && zzero_lte_i_171417;
                        bool y_171420 = zzero_leq_i_p_m_t_s_171415 && y_171419;
                        bool forwards_ok_171421 = i_lte_j_171418 && y_171420;
                        bool ok_or_empty_171422 = empty_slice_171412 || forwards_ok_171421;
                        bool index_certs_171423;
                        
                        if (!ok_or_empty_171422) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171409, ":", (long long) merge_sequential_arg2_171410, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171424 = sub64(defunc_0_f_res_171407, defunc_0_f_res_171400);
                        bool empty_slice_171425 = j_m_i_171424 == (int64_t) 0;
                        int64_t m_171426 = sub64(j_m_i_171424, (int64_t) 1);
                        int64_t i_p_m_t_s_171427 = add64(defunc_0_f_res_171400, m_171426);
                        bool zzero_leq_i_p_m_t_s_171428 = sle64((int64_t) 0, i_p_m_t_s_171427);
                        bool i_p_m_t_s_leq_w_171429 = slt64(i_p_m_t_s_171427, next_stride_171147);
                        bool zzero_lte_i_171430 = sle64((int64_t) 0, defunc_0_f_res_171400);
                        bool i_lte_j_171431 = sle64(defunc_0_f_res_171400, defunc_0_f_res_171407);
                        bool y_171432 = i_p_m_t_s_leq_w_171429 && zzero_lte_i_171430;
                        bool y_171433 = zzero_leq_i_p_m_t_s_171428 && y_171432;
                        bool forwards_ok_171434 = i_lte_j_171431 && y_171433;
                        bool ok_or_empty_171435 = empty_slice_171425 || forwards_ok_171434;
                        bool index_certs_171436;
                        
                        if (!ok_or_empty_171435) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171400, ":", (long long) defunc_0_f_res_171407, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:209:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171437 = slt64((int64_t) 0, j_m_i_171424);
                        float dummy_171438;
                        int64_t dummy_171439;
                        
                        if (cond_171437) {
                            bool index_certs_177906;
                            
                            if (!cond_171437) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:209:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177907 = start_171219 + defunc_0_f_res_171400;
                            float head_res_177908 = ((float *) mem_param_180362.mem)[slice_177907];
                            int64_t head_res_177909 = ((int64_t *) mem_param_180365.mem)[slice_177907];
                            
                            dummy_171438 = head_res_177908;
                            dummy_171439 = head_res_177909;
                        } else {
                            bool y_171444 = slt64((int64_t) 0, j_m_i_171411);
                            bool index_certs_171445;
                            
                            if (!y_171444) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:209:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171446 = start_171219 + merge_sequential_arg2_171409;
                            float head_res_171447 = ((float *) mem_param_180362.mem)[slice_171446];
                            int64_t head_res_171448 = ((int64_t *) mem_param_180365.mem)[slice_171446];
                            
                            dummy_171438 = head_res_171447;
                            dummy_171439 = head_res_171448;
                        }
                        for (int64_t nest_i_181741 = 0; nest_i_181741 < merge_block_sizze_171034; nest_i_181741++) {
                            ((float *) mem_180398)[i_179968 * merge_block_sizze_171034 + nest_i_181741] = dummy_171438;
                        }
                        for (int64_t nest_i_181742 = 0; nest_i_181742 < merge_block_sizze_171034; nest_i_181742++) {
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + nest_i_181742] = dummy_171439;
                        }
                        
                        int64_t data_171451;
                        int64_t i_171455 = (int64_t) 0;
                        
                        for (int64_t k_171454 = 0; k_171454 < merge_block_sizze_171034; k_171454++) {
                            int64_t j_171458 = sub64(k_171454, i_171455);
                            bool cond_171459 = j_171458 == j_m_i_171411;
                            bool cond_171460;
                            
                            if (cond_171459) {
                                cond_171460 = 1;
                            } else {
                                bool cond_171461 = slt64(i_171455, j_m_i_171424);
                                bool cond_f_res_171462;
                                
                                if (cond_171461) {
                                    bool x_177910 = sle64((int64_t) 0, j_171458);
                                    bool y_177911 = slt64(j_171458, j_m_i_171411);
                                    bool bounds_check_177912 = x_177910 && y_177911;
                                    bool index_certs_177913;
                                    
                                    if (!bounds_check_177912) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177917 = sle64((int64_t) 0, i_171455);
                                    bool bounds_check_177918 = cond_171461 && x_177917;
                                    bool index_certs_177919;
                                    
                                    if (!bounds_check_177918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177914 = merge_sequential_arg2_171409 + j_171458;
                                    int64_t slice_177915 = start_171219 + slice_177914;
                                    float leq_arg1_177916 = ((float *) mem_param_180362.mem)[slice_177915];
                                    int64_t slice_177920 = defunc_0_f_res_171400 + i_171455;
                                    int64_t slice_177921 = start_171219 + slice_177920;
                                    float leq_arg0_177922 = ((float *) mem_param_180362.mem)[slice_177921];
                                    bool zlze_res_177923 = leq_arg0_177922 <= leq_arg1_177916;
                                    
                                    cond_f_res_171462 = zlze_res_177923;
                                } else {
                                    cond_f_res_171462 = 0;
                                }
                                cond_171460 = cond_f_res_171462;
                            }
                            
                            int64_t loopres_171477;
                            float loopres_171478;
                            int64_t loopres_171479;
                            
                            if (cond_171460) {
                                bool x_177925 = sle64((int64_t) 0, i_171455);
                                bool y_177926 = slt64(i_171455, j_m_i_171424);
                                bool bounds_check_177927 = x_177925 && y_177926;
                                bool index_certs_177928;
                                
                                if (!bounds_check_177927) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177924 = add64((int64_t) 1, i_171455);
                                int64_t slice_177929 = defunc_0_f_res_171400 + i_171455;
                                int64_t slice_177930 = start_171219 + slice_177929;
                                float tmp_177931 = ((float *) mem_param_180362.mem)[slice_177930];
                                int64_t tmp_177932 = ((int64_t *) mem_param_180365.mem)[slice_177930];
                                
                                loopres_171477 = tmp_177924;
                                loopres_171478 = tmp_177931;
                                loopres_171479 = tmp_177932;
                            } else {
                                bool x_171489 = sle64((int64_t) 0, j_171458);
                                bool y_171490 = slt64(j_171458, j_m_i_171411);
                                bool bounds_check_171491 = x_171489 && y_171490;
                                bool index_certs_171492;
                                
                                if (!bounds_check_171491) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:209:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171493 = merge_sequential_arg2_171409 + j_171458;
                                int64_t slice_171494 = start_171219 + slice_171493;
                                float tmp_171495 = ((float *) mem_param_180362.mem)[slice_171494];
                                int64_t tmp_171496 = ((int64_t *) mem_param_180365.mem)[slice_171494];
                                
                                loopres_171477 = i_171455;
                                loopres_171478 = tmp_171495;
                                loopres_171479 = tmp_171496;
                            }
                            ((float *) mem_180398)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171478;
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171479;
                            
                            int64_t i_tmp_181743 = loopres_171477;
                            
                            i_171455 = i_tmp_181743;
                        }
                        data_171451 = i_171455;
                    }
                    if (memblock_alloc(ctx, &mem_180436, bytes_180397, "mem_180436")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180436.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint32_t *) mem_180398, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_alloc(ctx, &mem_180440, bytes_180400, "mem_180440")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180440.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint64_t *) mem_180401, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180436, "mem_180436") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180440, "mem_180440") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180368, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180463.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180371, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171503 = next_stride_171147 * num_merges_171151;
            
            if (memblock_alloc(ctx, &mem_180474, bytes_180367, "mem_180474")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_180474.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint32_t *) mem_180368, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            if (memblock_alloc(ctx, &mem_180478, bytes_180370, "mem_180478")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180478.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint64_t *) mem_180371, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            
            bool loop_cond_171506 = slt64(next_stride_171147, flat_dim_171031);
            
            if (memblock_set(ctx, &mem_param_tmp_181717, &mem_180474, "mem_180474") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181718, &mem_180478, "mem_180478") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181719 = flat_dim_171503;
            bool loop_while_tmp_181720 = loop_cond_171506;
            int64_t stride_tmp_181723 = next_stride_171147;
            
            if (memblock_set(ctx, &mem_param_180362, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180365, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
                return 1;
            loop_dz2084Uz2082U_171142 = loop_dz2084Uz2082U_tmp_181719;
            loop_while_171143 = loop_while_tmp_181720;
            stride_171146 = stride_tmp_181723;
        }
        if (memblock_set(ctx, &ext_mem_180485, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180484, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        data_171137 = loop_dz2084Uz2082U_171142;
        data_171138 = loop_while_171143;
        data_171141 = stride_171146;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        
        bool empty_slice_171507 = n_105393 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171508 = sle64((int64_t) 0, zs_lhs_171015);
        bool i_p_m_t_s_leq_w_171509 = slt64(zs_lhs_171015, data_171137);
        bool y_171510 = zzero_leq_i_p_m_t_s_171508 && i_p_m_t_s_leq_w_171509;
        bool ok_or_empty_171511 = empty_slice_171507 || y_171510;
        bool index_certs_171512;
        
        if (!ok_or_empty_171511) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_105393, "] out of bounds for array of shape [", (long long) data_171137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:209:54-57\n   #5  ftsort.fut:41:3-27\n   #6  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180488, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180490, bytes_180282, "mem_180490")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180492, bytes_180491, "mem_180492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179982 = 0; i_179982 < n_105393; i_179982++) {
        int64_t eta_p_171516 = ((int64_t *) ext_mem_180488.mem)[i_179982];
        bool x_171517 = sle64((int64_t) 0, eta_p_171516);
        bool y_171518 = slt64(eta_p_171516, n_105393);
        bool bounds_check_171519 = x_171517 && y_171518;
        bool index_certs_171520;
        
        if (!bounds_check_171519) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171516, "] out of bounds for array of shape [", (long long) n_105393, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:209:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171521 = ((int64_t *) ext_mem_180281.mem)[eta_p_171516];
        float lifted_lambda_res_171522 = ((float *) xs_mem_180280.mem)[eta_p_171516];
        
        ((int64_t *) mem_180490.mem)[i_179982] = lifted_lambda_res_171521;
        ((float *) mem_180492.mem)[i_179982] = lifted_lambda_res_171522;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180490, "mem_180490") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180492, "mem_180492") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181975, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181976, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180286);
        free(mem_180289);
        free(mem_180299);
        free(mem_180301);
        free(mem_180368);
        free(mem_180371);
        free(mem_180381);
        free(mem_180383);
        free(mem_180398);
        free(mem_180401);
        if (memblock_unref(ctx, &mem_180492, "mem_180492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180490, "mem_180490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180478, "mem_180478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180474, "mem_180474") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180440, "mem_180440") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180436, "mem_180436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180445, "mem_180445") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180443, "mem_180443") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180485, "ext_mem_180485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_181987, struct memblock *mem_out_p_181988, struct memblock xs_mem_180280, int64_t n_100706, int64_t incr_100707)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180286_cached_sizze_181989 = 0;
    unsigned char *mem_180286 = NULL;
    int64_t mem_180289_cached_sizze_181990 = 0;
    unsigned char *mem_180289 = NULL;
    int64_t mem_180299_cached_sizze_181991 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_181992 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180368_cached_sizze_181993 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180371_cached_sizze_181994 = 0;
    unsigned char *mem_180371 = NULL;
    int64_t mem_180381_cached_sizze_181995 = 0;
    unsigned char *mem_180381 = NULL;
    int64_t mem_180383_cached_sizze_181996 = 0;
    unsigned char *mem_180383 = NULL;
    int64_t mem_180398_cached_sizze_181997 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180401_cached_sizze_181998 = 0;
    unsigned char *mem_180401 = NULL;
    struct memblock mem_180492;
    
    mem_180492.references = NULL;
    
    struct memblock mem_180490;
    
    mem_180490.references = NULL;
    
    struct memblock mem_param_tmp_181718;
    
    mem_param_tmp_181718.references = NULL;
    
    struct memblock mem_param_tmp_181717;
    
    mem_param_tmp_181717.references = NULL;
    
    struct memblock mem_180478;
    
    mem_180478.references = NULL;
    
    struct memblock mem_180474;
    
    mem_180474.references = NULL;
    
    struct memblock mem_180440;
    
    mem_180440.references = NULL;
    
    struct memblock mem_180436;
    
    mem_180436.references = NULL;
    
    struct memblock mem_180445;
    
    mem_180445.references = NULL;
    
    struct memblock mem_180443;
    
    mem_180443.references = NULL;
    
    struct memblock ext_mem_180460;
    
    ext_mem_180460.references = NULL;
    
    struct memblock ext_mem_180463;
    
    ext_mem_180463.references = NULL;
    
    struct memblock mem_param_180365;
    
    mem_param_180365.references = NULL;
    
    struct memblock mem_param_180362;
    
    mem_param_180362.references = NULL;
    
    struct memblock ext_mem_180484;
    
    ext_mem_180484.references = NULL;
    
    struct memblock ext_mem_180485;
    
    ext_mem_180485.references = NULL;
    
    struct memblock mem_180358;
    
    mem_180358.references = NULL;
    
    struct memblock mem_180354;
    
    mem_180354.references = NULL;
    
    struct memblock ext_mem_180488;
    
    ext_mem_180488.references = NULL;
    
    struct memblock mem_180283;
    
    mem_180283.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_100706;
    bool cond_171014 = sle64(n_100706, (int64_t) 1);
    int64_t zs_lhs_171015 = sub64(n_100706, (int64_t) 1);
    int64_t zp_rhs_171016 = sdiv_safe64(zs_lhs_171015, (int64_t) 20);
    int64_t min_num_blocks_171017 = add64((int64_t) 1, zp_rhs_171016);
    bool loop_cond_171018 = slt64((int64_t) 1, min_num_blocks_171017);
    bool smallest_pow_2_geq_than_res_171019;
    int64_t smallest_pow_2_geq_than_res_171020;
    bool loop_while_171021;
    int64_t x_171022;
    
    loop_while_171021 = loop_cond_171018;
    x_171022 = (int64_t) 1;
    while (loop_while_171021) {
        int64_t loopres_171023 = mul64((int64_t) 2, x_171022);
        bool loop_cond_171024 = slt64(loopres_171023, min_num_blocks_171017);
        bool loop_while_tmp_181701 = loop_cond_171024;
        int64_t x_tmp_181702 = loopres_171023;
        
        loop_while_171021 = loop_while_tmp_181701;
        x_171022 = x_tmp_181702;
    }
    smallest_pow_2_geq_than_res_171019 = loop_while_171021;
    smallest_pow_2_geq_than_res_171020 = x_171022;
    
    bool zzero_171025 = smallest_pow_2_geq_than_res_171020 == (int64_t) 0;
    bool nonzzero_171026 = !zzero_171025;
    bool protect_assert_disj_171027 = cond_171014 || nonzzero_171026;
    bool nonzzero_cert_171028;
    
    if (!protect_assert_disj_171027) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171029 = sdiv_safe64(zs_lhs_171015, smallest_pow_2_geq_than_res_171020);
    int64_t block_sizze_171030 = add64((int64_t) 1, zp_rhs_171029);
    bool y_171035 = slt64((int64_t) 0, n_100706);
    bool protect_assert_disj_181393 = cond_171014 || y_171035;
    bool index_certs_171036;
    
    if (!protect_assert_disj_181393) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_100706, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171049 = slt64(smallest_pow_2_geq_than_res_171020, (int64_t) 0);
    bool valid_171050 = !bounds_invalid_upwards_171049;
    bool protect_assert_disj_181401 = cond_171014 || valid_171050;
    bool range_valid_c_171051;
    
    if (!protect_assert_disj_181401) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171053 = slt64(block_sizze_171030, (int64_t) 0);
    bool valid_171054 = !bounds_invalid_upwards_171053;
    bool protect_assert_disj_181403 = cond_171014 || valid_171054;
    bool range_valid_c_171055;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171030, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171057 = sle64(block_sizze_171030, (int64_t) 1);
    int64_t tmp_171058 = sub64(block_sizze_171030, (int64_t) 2);
    bool bounds_invalid_upwards_171059 = slt64(tmp_171058, (int64_t) 0);
    bool valid_171061 = !bounds_invalid_upwards_171059;
    bool protect_assert_disj_171062 = cond_171057 || valid_171061;
    bool protect_assert_disj_181405 = cond_171014 || protect_assert_disj_171062;
    bool range_valid_c_171063;
    
    if (!protect_assert_disj_181405) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171058, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180491 = (int64_t) 4 * n_100706;
    
    if (futrts_indicesWithIncrement_9256(ctx, &ext_mem_180281, xs_mem_180280, n_100706, incr_100707) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180283, bytes_180282, "mem_180283")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181703 = 0; i_181703 < n_100706; i_181703++) {
        int64_t x_181704 = (int64_t) 0 + i_181703 * (int64_t) 1;
        
        ((int64_t *) mem_180283.mem)[i_181703] = x_181704;
    }
    
    int64_t flat_dim_171031 = smallest_pow_2_geq_than_res_171020 * block_sizze_171030;
    bool x_181388 = !cond_171014;
    int64_t greatest_divisor_leq_than_arg1_171033 = mul64((int64_t) 2, block_sizze_171030);
    int64_t merge_block_sizze_171034;
    
    if (x_181388) {
        int64_t x_181390;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181390, (int64_t) 8, greatest_divisor_leq_than_arg1_171033) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171034 = x_181390;
    } else {
        merge_block_sizze_171034 = (int64_t) 0;
    }
    
    int32_t reduce_arg1_171037;
    
    if (x_181388) {
        int32_t x_181394 = ((int32_t *) xs_mem_180280.mem)[(int64_t) 0];
        
        reduce_arg1_171037 = x_181394;
    } else {
        reduce_arg1_171037 = 0;
    }
    
    int32_t defunc_0_reduce_res_177939;
    int64_t defunc_0_reduce_res_177940;
    
    if (x_181388) {
        int32_t x_181396;
        int64_t x_181397;
        int32_t redout_179940;
        int64_t redout_179941;
        
        redout_179940 = reduce_arg1_171037;
        redout_179941 = (int64_t) 0;
        for (int64_t i_179942 = 0; i_179942 < n_100706; i_179942++) {
            int32_t x_171040 = ((int32_t *) xs_mem_180280.mem)[i_179942];
            bool zlze_res_171046 = sle32(redout_179940, x_171040);
            int32_t defunc_0_op_res_171047;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171047 = x_171040;
            } else {
                defunc_0_op_res_171047 = redout_179940;
            }
            
            int64_t defunc_0_op_res_171048;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171048 = i_179942;
            } else {
                defunc_0_op_res_171048 = redout_179941;
            }
            
            int32_t redout_tmp_181705 = defunc_0_op_res_171047;
            int64_t redout_tmp_181706 = defunc_0_op_res_171048;
            
            redout_179940 = redout_tmp_181705;
            redout_179941 = redout_tmp_181706;
        }
        x_181396 = redout_179940;
        x_181397 = redout_179941;
        defunc_0_reduce_res_177939 = x_181396;
        defunc_0_reduce_res_177940 = x_181397;
    } else {
        defunc_0_reduce_res_177939 = 0;
        defunc_0_reduce_res_177940 = (int64_t) 0;
    }
    
    int64_t distance_171060 = add64((int64_t) 1, tmp_171058);
    int64_t binop_x_180284 = (int64_t) 4 * smallest_pow_2_geq_than_res_171020;
    int64_t bytes_180285 = block_sizze_171030 * binop_x_180284;
    int64_t binop_x_180287 = (int64_t) 8 * smallest_pow_2_geq_than_res_171020;
    int64_t bytes_180288 = block_sizze_171030 * binop_x_180287;
    int64_t bytes_180298 = (int64_t) 4 * block_sizze_171030;
    int64_t bytes_180300 = (int64_t) 8 * block_sizze_171030;
    bool loop_cond_171134 = slt64(block_sizze_171030, flat_dim_171031);
    bool zzero_171135 = merge_block_sizze_171034 == (int64_t) 0;
    bool nonzzero_171136 = !zzero_171135;
    
    if (cond_171014) {
        if (memblock_set(ctx, &ext_mem_180488, &mem_180283, "mem_180283") != 0)
            return 1;
    } else {
        if (mem_180286_cached_sizze_181989 < bytes_180285) {
            err = lexical_realloc(ctx, &mem_180286, &mem_180286_cached_sizze_181989, bytes_180285);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180289_cached_sizze_181990 < bytes_180288) {
            err = lexical_realloc(ctx, &mem_180289, &mem_180289_cached_sizze_181990, bytes_180288);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180299_cached_sizze_181991 < bytes_180298) {
            err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_181991, bytes_180298);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180301_cached_sizze_181992 < bytes_180300) {
            err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_181992, bytes_180300);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179954 = 0; i_179954 < smallest_pow_2_geq_than_res_171020; i_179954++) {
            int64_t zp_lhs_171067 = mul64(block_sizze_171030, i_179954);
            
            for (int64_t i_179947 = 0; i_179947 < block_sizze_171030; i_179947++) {
                int64_t k_171071 = add64(zp_lhs_171067, i_179947);
                bool cond_171072 = slt64(k_171071, n_100706);
                int32_t lifted_lambda_res_171073;
                int64_t lifted_lambda_res_171074;
                
                if (cond_171072) {
                    bool x_177792 = sle64((int64_t) 0, k_171071);
                    bool bounds_check_177793 = cond_171072 && x_177792;
                    bool index_certs_177794;
                    
                    if (!bounds_check_177793) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171071, "] out of bounds for array of shape [", (long long) n_100706, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t lifted_lambda_res_t_res_177795 = ((int32_t *) xs_mem_180280.mem)[k_171071];
                    
                    lifted_lambda_res_171073 = lifted_lambda_res_t_res_177795;
                    lifted_lambda_res_171074 = k_171071;
                } else {
                    lifted_lambda_res_171073 = defunc_0_reduce_res_177939;
                    lifted_lambda_res_171074 = defunc_0_reduce_res_177940;
                }
                ((int32_t *) mem_180299)[i_179947] = lifted_lambda_res_171073;
                ((int64_t *) mem_180301)[i_179947] = lifted_lambda_res_171074;
            }
            if (!cond_171057) {
                for (int64_t i_171083 = 0; i_171083 < distance_171060; i_171083++) {
                    int64_t gt_arg1_171086 = add64((int64_t) 1, i_171083);
                    bool x_171087 = sle64((int64_t) 0, gt_arg1_171086);
                    bool y_171088 = slt64(gt_arg1_171086, block_sizze_171030);
                    bool bounds_check_171089 = x_171087 && y_171088;
                    bool index_certs_171090;
                    
                    if (!bounds_check_171089) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171086, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171092 = slt64(i_171083, block_sizze_171030);
                    bool index_certs_171093;
                    
                    if (!y_171092) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171083, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t gt_arg1_171091 = ((int32_t *) mem_180299)[gt_arg1_171086];
                    int32_t gt_arg0_171094 = ((int32_t *) mem_180299)[i_171083];
                    bool zlze_res_171095 = sle32(gt_arg0_171094, gt_arg1_171091);
                    bool defunc_0_lifted_gt_res_171096 = !zlze_res_171095;
                    bool s_171097;
                    int64_t s_171100;
                    bool loop_while_171101;
                    int64_t j_171104;
                    
                    loop_while_171101 = defunc_0_lifted_gt_res_171096;
                    j_171104 = i_171083;
                    while (loop_while_171101) {
                        bool x_171105 = sle64((int64_t) 0, j_171104);
                        bool y_171106 = slt64(j_171104, block_sizze_171030);
                        bool bounds_check_171107 = x_171105 && y_171106;
                        bool index_certs_171108;
                        
                        if (!bounds_check_171107) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171104, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171111 = add64((int64_t) 1, j_171104);
                        bool x_171112 = sle64((int64_t) 0, copy_arg0_171111);
                        bool y_171113 = slt64(copy_arg0_171111, block_sizze_171030);
                        bool bounds_check_171114 = x_171112 && y_171113;
                        bool index_certs_171115;
                        
                        if (!bounds_check_171114) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171111, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int32_t copy_arg0_171109 = ((int32_t *) mem_180299)[j_171104];
                        int64_t copy_arg0_171110 = ((int64_t *) mem_180301)[j_171104];
                        int32_t copy_arg0_171116 = ((int32_t *) mem_180299)[copy_arg0_171111];
                        int64_t copy_arg0_171117 = ((int64_t *) mem_180301)[copy_arg0_171111];
                        
                        ((int32_t *) mem_180299)[j_171104] = copy_arg0_171116;
                        ((int64_t *) mem_180301)[j_171104] = copy_arg0_171117;
                        ((int32_t *) mem_180299)[copy_arg0_171111] = copy_arg0_171109;
                        ((int64_t *) mem_180301)[copy_arg0_171111] = copy_arg0_171110;
                        
                        int64_t tmp_171122 = sub64(j_171104, (int64_t) 1);
                        bool cond_171123 = sle64((int64_t) 0, tmp_171122);
                        bool loop_cond_171124;
                        
                        if (cond_171123) {
                            bool y_177797 = slt64(tmp_171122, block_sizze_171030);
                            bool bounds_check_177798 = cond_171123 && y_177797;
                            bool index_certs_177799;
                            
                            if (!bounds_check_177798) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171122, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t gt_arg1_177796 = ((int32_t *) mem_180299)[j_171104];
                            int32_t gt_arg0_177800 = ((int32_t *) mem_180299)[tmp_171122];
                            bool zlze_res_177801 = sle32(gt_arg0_177800, gt_arg1_177796);
                            bool defunc_0_lifted_gt_res_177802 = !zlze_res_177801;
                            
                            loop_cond_171124 = defunc_0_lifted_gt_res_177802;
                        } else {
                            loop_cond_171124 = 0;
                        }
                        
                        bool loop_while_tmp_181713 = loop_cond_171124;
                        int64_t j_tmp_181716 = tmp_171122;
                        
                        loop_while_171101 = loop_while_tmp_181713;
                        j_171104 = j_tmp_181716;
                    }
                    s_171097 = loop_while_171101;
                    s_171100 = j_171104;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180286, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180299, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180289, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180301, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
        }
        if (memblock_alloc(ctx, &mem_180354, bytes_180285, "mem_180354")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180354.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint32_t *) mem_180286, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        if (memblock_alloc(ctx, &mem_180358, bytes_180288, "mem_180358")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180358.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint64_t *) mem_180289, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        
        int64_t data_171137;
        bool data_171138;
        int64_t data_171141;
        int64_t loop_dz2084Uz2082U_171142;
        bool loop_while_171143;
        int64_t stride_171146;
        
        if (memblock_set(ctx, &mem_param_180362, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180365, &mem_180358, "mem_180358") != 0)
            return 1;
        loop_dz2084Uz2082U_171142 = flat_dim_171031;
        loop_while_171143 = loop_cond_171134;
        stride_171146 = block_sizze_171030;
        while (loop_while_171143) {
            int64_t next_stride_171147 = mul64((int64_t) 2, stride_171146);
            bool zzero_171148 = next_stride_171147 == (int64_t) 0;
            bool nonzzero_171149 = !zzero_171148;
            bool nonzzero_cert_171150;
            
            if (!nonzzero_171149) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171151 = sdiv64(flat_dim_171031, next_stride_171147);
            bool bounds_invalid_upwards_171152 = slt64(num_merges_171151, (int64_t) 0);
            bool valid_171153 = !bounds_invalid_upwards_171152;
            bool range_valid_c_171154;
            
            if (!valid_171153) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171151, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171156 = sub64(next_stride_171147, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171157 = sle64((int64_t) 0, m_171156);
            bool cond_171159 = slt64(next_stride_171147, (int64_t) 10);
            bool protect_assert_disj_171160 = nonzzero_171136 || cond_171159;
            bool nonzzero_cert_171161;
            
            if (!protect_assert_disj_171160) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171162 = smod_safe64(next_stride_171147, merge_block_sizze_171034);
            bool num_blocks_171163 = zeze_lhs_171162 == (int64_t) 0;
            bool protect_assert_disj_171164 = cond_171159 || num_blocks_171163;
            bool assert_c_171165;
            
            if (!protect_assert_disj_171164) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171167 = sdiv_safe64(next_stride_171147, merge_block_sizze_171034);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168 = add64((int64_t) 1, num_blocks_171167);
            int64_t j_m_i_171169 = sub64(next_stride_171147, stride_171146);
            int64_t flat_dim_171170 = merge_block_sizze_171034 * num_blocks_171167;
            bool bounds_invalid_upwards_171171 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, (int64_t) 0);
            bool zzero_lte_i_171172 = sle64((int64_t) 0, stride_171146);
            bool i_lte_j_171173 = sle64(stride_171146, next_stride_171147);
            bool empty_slice_171174 = stride_171146 == (int64_t) 0;
            int64_t m_171175 = sub64(stride_171146, (int64_t) 1);
            bool bounds_invalid_upwards_171176 = slt64(num_blocks_171167, (int64_t) 0);
            bool empty_slice_171177 = j_m_i_171169 == (int64_t) 0;
            int64_t m_171178 = sub64(j_m_i_171169, (int64_t) 1);
            bool cond_171179 = slt64((int64_t) 0, stride_171146);
            bool valid_171180 = !bounds_invalid_upwards_171171;
            bool zzero_leq_i_p_m_t_s_171181 = sle64((int64_t) 0, m_171175);
            bool i_p_m_t_s_leq_w_171182 = slt64(m_171175, next_stride_171147);
            bool valid_171183 = !bounds_invalid_upwards_171176;
            bool i_p_m_t_s_leq_w_171184 = slt64(m_171156, flat_dim_171170);
            int64_t i_p_m_t_s_171185 = add64(stride_171146, m_171178);
            bool y_171186 = slt64((int64_t) 0, j_m_i_171169);
            bool protect_assert_disj_171187 = cond_171159 || valid_171180;
            bool range_valid_c_171188;
            
            if (!protect_assert_disj_171187) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171189 = zzero_leq_i_p_m_t_s_171181 && i_p_m_t_s_leq_w_171182;
            bool protect_assert_disj_171190 = cond_171159 || valid_171183;
            bool range_valid_c_171191;
            
            if (!protect_assert_disj_171190) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171192 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171184;
            bool zzero_leq_i_p_m_t_s_171193 = sle64((int64_t) 0, i_p_m_t_s_171185);
            bool i_p_m_t_s_leq_w_171194 = slt64(i_p_m_t_s_171185, next_stride_171147);
            bool forwards_ok_171195 = zzero_lte_i_171172 && y_171189;
            bool ok_or_empty_171196 = zzero_171148 || y_171192;
            bool y_171197 = zzero_lte_i_171172 && i_p_m_t_s_leq_w_171194;
            bool protect_assert_disj_171198 = cond_171179 || y_171186;
            bool ok_or_empty_171199 = empty_slice_171174 || forwards_ok_171195;
            bool protect_assert_disj_171200 = cond_171159 || ok_or_empty_171196;
            bool index_certs_171201;
            
            if (!protect_assert_disj_171200) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) flat_dim_171170, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171202 = zzero_leq_i_p_m_t_s_171193 && y_171197;
            bool loop_not_taken_171203 = !cond_171159;
            bool protect_assert_disj_171204 = protect_assert_disj_171198 || loop_not_taken_171203;
            bool index_certs_171205;
            
            if (!protect_assert_disj_171204) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171206 = cond_171159 || ok_or_empty_171199;
            bool index_certs_171207;
            
            if (!protect_assert_disj_171206) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171208 = i_lte_j_171173 && y_171202;
            bool protect_assert_disj_171209 = ok_or_empty_171199 || loop_not_taken_171203;
            bool index_certs_171210;
            
            if (!protect_assert_disj_171209) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171211 = empty_slice_171177 || forwards_ok_171208;
            bool protect_assert_disj_171212 = loop_not_taken_171203 || ok_or_empty_171211;
            bool index_certs_171213;
            
            if (!protect_assert_disj_171212) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171214 = cond_171159 || ok_or_empty_171211;
            bool index_certs_171215;
            
            if (!protect_assert_disj_171214) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180366 = (int64_t) 4 * num_merges_171151;
            int64_t bytes_180367 = next_stride_171147 * binop_x_180366;
            int64_t binop_x_180369 = (int64_t) 8 * num_merges_171151;
            int64_t bytes_180370 = next_stride_171147 * binop_x_180369;
            bool i_lte_j_171158 = sle64((int64_t) 0, next_stride_171147);
            
            if (mem_180368_cached_sizze_181993 < bytes_180367) {
                err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_181993, bytes_180367);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180371_cached_sizze_181994 < bytes_180370) {
                err = lexical_realloc(ctx, &mem_180371, &mem_180371_cached_sizze_181994, bytes_180370);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180380 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168;
            int64_t binop_x_180396 = (int64_t) 4 * num_blocks_171167;
            int64_t bytes_180397 = merge_block_sizze_171034 * binop_x_180396;
            int64_t binop_x_180399 = (int64_t) 8 * num_blocks_171167;
            int64_t bytes_180400 = merge_block_sizze_171034 * binop_x_180399;
            int64_t bytes_180442 = (int64_t) 8 * stride_171146;
            int64_t bytes_180444 = (int64_t) 16 * stride_171146;
            
            for (int64_t i_179975 = 0; i_179975 < num_merges_171151; i_179975++) {
                int64_t start_171219 = mul64(next_stride_171147, i_179975);
                int64_t j_m_i_171220 = sub64(loop_dz2084Uz2082U_171142, start_171219);
                bool empty_slice_171221 = j_m_i_171220 == (int64_t) 0;
                int64_t m_171222 = sub64(j_m_i_171220, (int64_t) 1);
                int64_t i_p_m_t_s_171223 = add64(start_171219, m_171222);
                bool zzero_leq_i_p_m_t_s_171224 = sle64((int64_t) 0, i_p_m_t_s_171223);
                bool i_p_m_t_s_leq_w_171225 = slt64(i_p_m_t_s_171223, loop_dz2084Uz2082U_171142);
                bool zzero_lte_i_171226 = sle64((int64_t) 0, start_171219);
                bool i_lte_j_171227 = sle64(start_171219, loop_dz2084Uz2082U_171142);
                bool y_171228 = i_p_m_t_s_leq_w_171225 && zzero_lte_i_171226;
                bool y_171229 = zzero_leq_i_p_m_t_s_171224 && y_171228;
                bool forwards_ok_171230 = i_lte_j_171227 && y_171229;
                bool ok_or_empty_171231 = empty_slice_171221 || forwards_ok_171230;
                bool index_certs_171232;
                
                if (!ok_or_empty_171231) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171219, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171142, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171233 = slt64(m_171156, j_m_i_171220);
                bool y_171234 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171233;
                bool forwards_ok_171235 = i_lte_j_171158 && y_171234;
                bool ok_or_empty_171236 = zzero_171148 || forwards_ok_171235;
                bool index_certs_171237;
                
                if (!ok_or_empty_171236) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) j_m_i_171220, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171159) {
                    int32_t dummy_177828;
                    int64_t dummy_177829;
                    
                    if (cond_171179) {
                        int32_t head_res_177830 = ((int32_t *) mem_param_180362.mem)[start_171219];
                        int64_t head_res_177831 = ((int64_t *) mem_param_180365.mem)[start_171219];
                        
                        dummy_177828 = head_res_177830;
                        dummy_177829 = head_res_177831;
                    } else {
                        int64_t slice_177832 = stride_171146 + start_171219;
                        int32_t head_res_177833 = ((int32_t *) mem_param_180362.mem)[slice_177832];
                        int64_t head_res_177834 = ((int64_t *) mem_param_180365.mem)[slice_177832];
                        
                        dummy_177828 = head_res_177833;
                        dummy_177829 = head_res_177834;
                    }
                    if (memblock_alloc(ctx, &mem_180443, bytes_180442, "mem_180443")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181726 = 0; nest_i_181726 < next_stride_171147; nest_i_181726++) {
                        ((int32_t *) mem_180443.mem)[nest_i_181726] = dummy_177828;
                    }
                    if (memblock_alloc(ctx, &mem_180445, bytes_180444, "mem_180445")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181727 = 0; nest_i_181727 < next_stride_171147; nest_i_181727++) {
                        ((int64_t *) mem_180445.mem)[nest_i_181727] = dummy_177829;
                    }
                    
                    int64_t data_177837;
                    int64_t i_177841 = (int64_t) 0;
                    
                    for (int64_t k_177840 = 0; k_177840 < next_stride_171147; k_177840++) {
                        int64_t j_177844 = sub64(k_177840, i_177841);
                        bool cond_177845 = j_177844 == j_m_i_171169;
                        bool cond_177846;
                        
                        if (cond_177845) {
                            cond_177846 = 1;
                        } else {
                            bool cond_177847 = slt64(i_177841, stride_171146);
                            bool cond_f_res_177848;
                            
                            if (cond_177847) {
                                bool x_177849 = sle64((int64_t) 0, j_177844);
                                bool y_177850 = slt64(j_177844, j_m_i_171169);
                                bool bounds_check_177851 = x_177849 && y_177850;
                                bool index_certs_177852;
                                
                                if (!bounds_check_177851) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177856 = sle64((int64_t) 0, i_177841);
                                bool bounds_check_177857 = cond_177847 && x_177856;
                                bool index_certs_177858;
                                
                                if (!bounds_check_177857) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177853 = stride_171146 + j_177844;
                                int64_t slice_177854 = start_171219 + slice_177853;
                                int32_t leq_arg1_177855 = ((int32_t *) mem_param_180362.mem)[slice_177854];
                                int64_t slice_177859 = start_171219 + i_177841;
                                int32_t leq_arg0_177860 = ((int32_t *) mem_param_180362.mem)[slice_177859];
                                bool zlze_res_177861 = sle32(leq_arg0_177860, leq_arg1_177855);
                                
                                cond_f_res_177848 = zlze_res_177861;
                            } else {
                                cond_f_res_177848 = 0;
                            }
                            cond_177846 = cond_f_res_177848;
                        }
                        
                        int64_t loopres_177862;
                        int32_t loopres_177863;
                        int64_t loopres_177864;
                        
                        if (cond_177846) {
                            bool x_177866 = sle64((int64_t) 0, i_177841);
                            bool y_177867 = slt64(i_177841, stride_171146);
                            bool bounds_check_177868 = x_177866 && y_177867;
                            bool index_certs_177869;
                            
                            if (!bounds_check_177868) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177865 = add64((int64_t) 1, i_177841);
                            int64_t slice_177870 = start_171219 + i_177841;
                            int32_t tmp_177871 = ((int32_t *) mem_param_180362.mem)[slice_177870];
                            int64_t tmp_177872 = ((int64_t *) mem_param_180365.mem)[slice_177870];
                            
                            loopres_177862 = tmp_177865;
                            loopres_177863 = tmp_177871;
                            loopres_177864 = tmp_177872;
                        } else {
                            bool x_177873 = sle64((int64_t) 0, j_177844);
                            bool y_177874 = slt64(j_177844, j_m_i_171169);
                            bool bounds_check_177875 = x_177873 && y_177874;
                            bool index_certs_177876;
                            
                            if (!bounds_check_177875) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177877 = stride_171146 + j_177844;
                            int64_t slice_177878 = start_171219 + slice_177877;
                            int32_t tmp_177879 = ((int32_t *) mem_param_180362.mem)[slice_177878];
                            int64_t tmp_177880 = ((int64_t *) mem_param_180365.mem)[slice_177878];
                            
                            loopres_177862 = i_177841;
                            loopres_177863 = tmp_177879;
                            loopres_177864 = tmp_177880;
                        }
                        ((int32_t *) mem_180443.mem)[k_177840] = loopres_177863;
                        ((int64_t *) mem_180445.mem)[k_177840] = loopres_177864;
                        
                        int64_t i_tmp_181728 = loopres_177862;
                        
                        i_177841 = i_tmp_181728;
                    }
                    data_177837 = i_177841;
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180443, "mem_180443") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180445, "mem_180445") != 0)
                        return 1;
                } else {
                    if (mem_180381_cached_sizze_181995 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180381, &mem_180381_cached_sizze_181995, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180383_cached_sizze_181996 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180383, &mem_180383_cached_sizze_181996, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179961 = 0; i_179961 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168; i_179961++) {
                        int64_t split_count_arg3_171299 = mul64(merge_block_sizze_171034, i_179961);
                        int64_t defunc_0_split_count_res_171300;
                        int64_t defunc_0_split_count_res_171301;
                        int64_t defunc_0_split_count_res_171302;
                        int64_t defunc_0_split_count_res_171303;
                        int64_t defunc_0_split_count_res_171304;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_171300, &defunc_0_split_count_res_171301, &defunc_0_split_count_res_171302, &defunc_0_split_count_res_171303, &defunc_0_split_count_res_171304, (int64_t) 0, stride_171146, (int64_t) 0, j_m_i_171169, split_count_arg3_171299) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171305 = slt64((int64_t) 0, defunc_0_split_count_res_171304);
                        bool defunc_0_split_count_res_171306;
                        int64_t defunc_0_split_count_res_171307;
                        int64_t defunc_0_split_count_res_171308;
                        int64_t defunc_0_split_count_res_171309;
                        int64_t defunc_0_split_count_res_171310;
                        int64_t defunc_0_split_count_res_171311;
                        bool loop_while_171312;
                        int64_t ss_171313;
                        int64_t ss_171314;
                        int64_t tt_171315;
                        int64_t tt_171316;
                        int64_t count_171317;
                        
                        loop_while_171312 = loop_cond_171305;
                        ss_171313 = defunc_0_split_count_res_171300;
                        ss_171314 = defunc_0_split_count_res_171301;
                        tt_171315 = defunc_0_split_count_res_171302;
                        tt_171316 = defunc_0_split_count_res_171303;
                        count_171317 = defunc_0_split_count_res_171304;
                        while (loop_while_171312) {
                            int64_t zlze_lhs_171318 = sub64(ss_171314, ss_171313);
                            bool cond_171319 = sle64(zlze_lhs_171318, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171320;
                            int64_t defunc_0_lifted_step_res_171321;
                            int64_t defunc_0_lifted_step_res_171322;
                            int64_t defunc_0_lifted_step_res_171323;
                            
                            if (cond_171319) {
                                int64_t tmp_177883 = add64(tt_171315, count_171317);
                                
                                defunc_0_lifted_step_res_171320 = ss_171313;
                                defunc_0_lifted_step_res_171321 = tmp_177883;
                                defunc_0_lifted_step_res_171322 = tt_171316;
                                defunc_0_lifted_step_res_171323 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171325 = sub64(tt_171316, tt_171315);
                                bool cond_171326 = sle64(zlze_lhs_171325, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171327;
                                int64_t defunc_0_lifted_step_res_f_res_171328;
                                int64_t defunc_0_lifted_step_res_f_res_171329;
                                int64_t defunc_0_lifted_step_res_f_res_171330;
                                
                                if (cond_171326) {
                                    int64_t tmp_177884 = add64(ss_171313, count_171317);
                                    
                                    defunc_0_lifted_step_res_f_res_171327 = tmp_177884;
                                    defunc_0_lifted_step_res_f_res_171328 = tt_171315;
                                    defunc_0_lifted_step_res_f_res_171329 = tt_171316;
                                    defunc_0_lifted_step_res_f_res_171330 = (int64_t) 0;
                                } else {
                                    bool cond_171332 = count_171317 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171333;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171334;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171335;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171336;
                                    
                                    if (cond_171332) {
                                        bool x_177886 = sle64((int64_t) 0, ss_171313);
                                        bool y_177887 = slt64(ss_171313, stride_171146);
                                        bool bounds_check_177888 = x_177886 && y_177887;
                                        bool index_certs_177889;
                                        
                                        if (!bounds_check_177888) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171313, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177892 = sle64((int64_t) 0, tt_171315);
                                        bool y_177893 = slt64(tt_171315, j_m_i_171169);
                                        bool bounds_check_177894 = x_177892 && y_177893;
                                        bool index_certs_177895;
                                        
                                        if (!bounds_check_177894) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171315, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177890 = start_171219 + ss_171313;
                                        int32_t leq_arg1_177891 = ((int32_t *) mem_param_180362.mem)[slice_177890];
                                        int64_t slice_177896 = stride_171146 + tt_171315;
                                        int64_t slice_177897 = start_171219 + slice_177896;
                                        int32_t leq_arg0_177898 = ((int32_t *) mem_param_180362.mem)[slice_177897];
                                        bool zlze_res_177899 = sle32(leq_arg0_177898, leq_arg1_177891);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        
                                        if (zlze_res_177899) {
                                            int64_t tmp_177902 = add64((int64_t) 1, tt_171315);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = ss_171313;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tmp_177902;
                                        } else {
                                            int64_t tmp_177903 = add64((int64_t) 1, ss_171313);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = tmp_177903;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tt_171315;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = tt_171316;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = (int64_t) 0;
                                    } else {
                                        int64_t m_171355 = sdiv64(count_171317, (int64_t) 2);
                                        int64_t n_171356 = sub64(count_171317, m_171355);
                                        bool cond_171357 = n_171356 == (int64_t) 0;
                                        int64_t zgze_lhs_171358 = add64(ss_171313, m_171355);
                                        bool cond_f_res_171359 = sle64(ss_171314, zgze_lhs_171358);
                                        bool x_171360 = !cond_171357;
                                        bool y_171361 = cond_f_res_171359 && x_171360;
                                        bool cond_171362 = cond_171357 || y_171361;
                                        bool leq_y_x_171363;
                                        
                                        if (cond_171362) {
                                            leq_y_x_171363 = 1;
                                        } else {
                                            bool x_171364 = sle64((int64_t) 0, zgze_lhs_171358);
                                            bool y_171365 = slt64(zgze_lhs_171358, stride_171146);
                                            bool bounds_check_171366 = x_171364 && y_171365;
                                            bool index_certs_171367;
                                            
                                            if (!bounds_check_171366) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171358, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171370 = add64(tt_171315, n_171356);
                                            int64_t leq_arg0_171371 = sub64(zm_lhs_171370, (int64_t) 1);
                                            bool x_171372 = sle64((int64_t) 0, leq_arg0_171371);
                                            bool y_171373 = slt64(leq_arg0_171371, j_m_i_171169);
                                            bool bounds_check_171374 = x_171372 && y_171373;
                                            bool index_certs_171375;
                                            
                                            if (!bounds_check_171374) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171371, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171368 = start_171219 + zgze_lhs_171358;
                                            int32_t leq_arg1_171369 = ((int32_t *) mem_param_180362.mem)[slice_171368];
                                            int64_t slice_171376 = stride_171146 + leq_arg0_171371;
                                            int64_t slice_171377 = start_171219 + slice_171376;
                                            int32_t leq_arg0_171378 = ((int32_t *) mem_param_180362.mem)[slice_171377];
                                            bool zlze_res_171379 = sle32(leq_arg0_171378, leq_arg1_171369);
                                            
                                            leq_y_x_171363 = zlze_res_171379;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                        
                                        if (leq_y_x_171363) {
                                            int64_t tmp_177904 = add64(tt_171315, n_171356);
                                            int64_t tmp_177905 = sub64(count_171317, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tmp_177904;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tt_171316;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = tmp_177905;
                                        } else {
                                            int64_t tmp_171385 = add64(tt_171315, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tt_171315;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tmp_171385;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = count_171317;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = ss_171313;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                    }
                                    defunc_0_lifted_step_res_f_res_171327 = defunc_0_lifted_step_res_f_res_f_res_171333;
                                    defunc_0_lifted_step_res_f_res_171328 = defunc_0_lifted_step_res_f_res_f_res_171334;
                                    defunc_0_lifted_step_res_f_res_171329 = defunc_0_lifted_step_res_f_res_f_res_171335;
                                    defunc_0_lifted_step_res_f_res_171330 = defunc_0_lifted_step_res_f_res_f_res_171336;
                                }
                                defunc_0_lifted_step_res_171320 = defunc_0_lifted_step_res_f_res_171327;
                                defunc_0_lifted_step_res_171321 = defunc_0_lifted_step_res_f_res_171328;
                                defunc_0_lifted_step_res_171322 = defunc_0_lifted_step_res_f_res_171329;
                                defunc_0_lifted_step_res_171323 = defunc_0_lifted_step_res_f_res_171330;
                            }
                            
                            int64_t loopres_171386;
                            int64_t loopres_171387;
                            int64_t loopres_171388;
                            int64_t loopres_171389;
                            int64_t loopres_171390;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_171386, &loopres_171387, &loopres_171388, &loopres_171389, &loopres_171390, defunc_0_lifted_step_res_171320, ss_171314, defunc_0_lifted_step_res_171321, defunc_0_lifted_step_res_171322, defunc_0_lifted_step_res_171323) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171391 = slt64((int64_t) 0, loopres_171390);
                            bool loop_while_tmp_181733 = loop_cond_171391;
                            int64_t ss_tmp_181734 = loopres_171386;
                            int64_t ss_tmp_181735 = loopres_171387;
                            int64_t tt_tmp_181736 = loopres_171388;
                            int64_t tt_tmp_181737 = loopres_171389;
                            int64_t count_tmp_181738 = loopres_171390;
                            
                            loop_while_171312 = loop_while_tmp_181733;
                            ss_171313 = ss_tmp_181734;
                            ss_171314 = ss_tmp_181735;
                            tt_171315 = tt_tmp_181736;
                            tt_171316 = tt_tmp_181737;
                            count_171317 = count_tmp_181738;
                        }
                        defunc_0_split_count_res_171306 = loop_while_171312;
                        defunc_0_split_count_res_171307 = ss_171313;
                        defunc_0_split_count_res_171308 = ss_171314;
                        defunc_0_split_count_res_171309 = tt_171315;
                        defunc_0_split_count_res_171310 = tt_171316;
                        defunc_0_split_count_res_171311 = count_171317;
                        ((int64_t *) mem_180381)[i_179961] = defunc_0_split_count_res_171307;
                        ((int64_t *) mem_180383)[i_179961] = defunc_0_split_count_res_171309;
                    }
                    if (mem_180398_cached_sizze_181997 < bytes_180397) {
                        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_181997, bytes_180397);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180401_cached_sizze_181998 < bytes_180400) {
                        err = lexical_realloc(ctx, &mem_180401, &mem_180401_cached_sizze_181998, bytes_180400);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179968 = 0; i_179968 < num_blocks_171167; i_179968++) {
                        bool y_171397 = slt64(i_179968, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool index_certs_171399;
                        
                        if (!y_171397) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179968, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171400 = ((int64_t *) mem_180381)[i_179968];
                        int64_t defunc_0_f_res_171401 = ((int64_t *) mem_180383)[i_179968];
                        int64_t tmp_171402 = add64((int64_t) 1, i_179968);
                        bool x_171403 = sle64((int64_t) 0, tmp_171402);
                        bool y_171404 = slt64(tmp_171402, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool bounds_check_171405 = x_171403 && y_171404;
                        bool index_certs_171406;
                        
                        if (!bounds_check_171405) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171402, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171407 = ((int64_t *) mem_180381)[tmp_171402];
                        int64_t defunc_0_f_res_171408 = ((int64_t *) mem_180383)[tmp_171402];
                        int64_t merge_sequential_arg2_171409 = add64(stride_171146, defunc_0_f_res_171401);
                        int64_t merge_sequential_arg2_171410 = add64(stride_171146, defunc_0_f_res_171408);
                        int64_t j_m_i_171411 = sub64(merge_sequential_arg2_171410, merge_sequential_arg2_171409);
                        bool empty_slice_171412 = j_m_i_171411 == (int64_t) 0;
                        int64_t m_171413 = sub64(j_m_i_171411, (int64_t) 1);
                        int64_t i_p_m_t_s_171414 = add64(merge_sequential_arg2_171409, m_171413);
                        bool zzero_leq_i_p_m_t_s_171415 = sle64((int64_t) 0, i_p_m_t_s_171414);
                        bool i_p_m_t_s_leq_w_171416 = slt64(i_p_m_t_s_171414, next_stride_171147);
                        bool zzero_lte_i_171417 = sle64((int64_t) 0, merge_sequential_arg2_171409);
                        bool i_lte_j_171418 = sle64(merge_sequential_arg2_171409, merge_sequential_arg2_171410);
                        bool y_171419 = i_p_m_t_s_leq_w_171416 && zzero_lte_i_171417;
                        bool y_171420 = zzero_leq_i_p_m_t_s_171415 && y_171419;
                        bool forwards_ok_171421 = i_lte_j_171418 && y_171420;
                        bool ok_or_empty_171422 = empty_slice_171412 || forwards_ok_171421;
                        bool index_certs_171423;
                        
                        if (!ok_or_empty_171422) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171409, ":", (long long) merge_sequential_arg2_171410, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171424 = sub64(defunc_0_f_res_171407, defunc_0_f_res_171400);
                        bool empty_slice_171425 = j_m_i_171424 == (int64_t) 0;
                        int64_t m_171426 = sub64(j_m_i_171424, (int64_t) 1);
                        int64_t i_p_m_t_s_171427 = add64(defunc_0_f_res_171400, m_171426);
                        bool zzero_leq_i_p_m_t_s_171428 = sle64((int64_t) 0, i_p_m_t_s_171427);
                        bool i_p_m_t_s_leq_w_171429 = slt64(i_p_m_t_s_171427, next_stride_171147);
                        bool zzero_lte_i_171430 = sle64((int64_t) 0, defunc_0_f_res_171400);
                        bool i_lte_j_171431 = sle64(defunc_0_f_res_171400, defunc_0_f_res_171407);
                        bool y_171432 = i_p_m_t_s_leq_w_171429 && zzero_lte_i_171430;
                        bool y_171433 = zzero_leq_i_p_m_t_s_171428 && y_171432;
                        bool forwards_ok_171434 = i_lte_j_171431 && y_171433;
                        bool ok_or_empty_171435 = empty_slice_171425 || forwards_ok_171434;
                        bool index_certs_171436;
                        
                        if (!ok_or_empty_171435) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171400, ":", (long long) defunc_0_f_res_171407, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171437 = slt64((int64_t) 0, j_m_i_171424);
                        int32_t dummy_171438;
                        int64_t dummy_171439;
                        
                        if (cond_171437) {
                            bool index_certs_177906;
                            
                            if (!cond_171437) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177907 = start_171219 + defunc_0_f_res_171400;
                            int32_t head_res_177908 = ((int32_t *) mem_param_180362.mem)[slice_177907];
                            int64_t head_res_177909 = ((int64_t *) mem_param_180365.mem)[slice_177907];
                            
                            dummy_171438 = head_res_177908;
                            dummy_171439 = head_res_177909;
                        } else {
                            bool y_171444 = slt64((int64_t) 0, j_m_i_171411);
                            bool index_certs_171445;
                            
                            if (!y_171444) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171446 = start_171219 + merge_sequential_arg2_171409;
                            int32_t head_res_171447 = ((int32_t *) mem_param_180362.mem)[slice_171446];
                            int64_t head_res_171448 = ((int64_t *) mem_param_180365.mem)[slice_171446];
                            
                            dummy_171438 = head_res_171447;
                            dummy_171439 = head_res_171448;
                        }
                        for (int64_t nest_i_181741 = 0; nest_i_181741 < merge_block_sizze_171034; nest_i_181741++) {
                            ((int32_t *) mem_180398)[i_179968 * merge_block_sizze_171034 + nest_i_181741] = dummy_171438;
                        }
                        for (int64_t nest_i_181742 = 0; nest_i_181742 < merge_block_sizze_171034; nest_i_181742++) {
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + nest_i_181742] = dummy_171439;
                        }
                        
                        int64_t data_171451;
                        int64_t i_171455 = (int64_t) 0;
                        
                        for (int64_t k_171454 = 0; k_171454 < merge_block_sizze_171034; k_171454++) {
                            int64_t j_171458 = sub64(k_171454, i_171455);
                            bool cond_171459 = j_171458 == j_m_i_171411;
                            bool cond_171460;
                            
                            if (cond_171459) {
                                cond_171460 = 1;
                            } else {
                                bool cond_171461 = slt64(i_171455, j_m_i_171424);
                                bool cond_f_res_171462;
                                
                                if (cond_171461) {
                                    bool x_177910 = sle64((int64_t) 0, j_171458);
                                    bool y_177911 = slt64(j_171458, j_m_i_171411);
                                    bool bounds_check_177912 = x_177910 && y_177911;
                                    bool index_certs_177913;
                                    
                                    if (!bounds_check_177912) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177917 = sle64((int64_t) 0, i_171455);
                                    bool bounds_check_177918 = cond_171461 && x_177917;
                                    bool index_certs_177919;
                                    
                                    if (!bounds_check_177918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177914 = merge_sequential_arg2_171409 + j_171458;
                                    int64_t slice_177915 = start_171219 + slice_177914;
                                    int32_t leq_arg1_177916 = ((int32_t *) mem_param_180362.mem)[slice_177915];
                                    int64_t slice_177920 = defunc_0_f_res_171400 + i_171455;
                                    int64_t slice_177921 = start_171219 + slice_177920;
                                    int32_t leq_arg0_177922 = ((int32_t *) mem_param_180362.mem)[slice_177921];
                                    bool zlze_res_177923 = sle32(leq_arg0_177922, leq_arg1_177916);
                                    
                                    cond_f_res_171462 = zlze_res_177923;
                                } else {
                                    cond_f_res_171462 = 0;
                                }
                                cond_171460 = cond_f_res_171462;
                            }
                            
                            int64_t loopres_171477;
                            int32_t loopres_171478;
                            int64_t loopres_171479;
                            
                            if (cond_171460) {
                                bool x_177925 = sle64((int64_t) 0, i_171455);
                                bool y_177926 = slt64(i_171455, j_m_i_171424);
                                bool bounds_check_177927 = x_177925 && y_177926;
                                bool index_certs_177928;
                                
                                if (!bounds_check_177927) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177924 = add64((int64_t) 1, i_171455);
                                int64_t slice_177929 = defunc_0_f_res_171400 + i_171455;
                                int64_t slice_177930 = start_171219 + slice_177929;
                                int32_t tmp_177931 = ((int32_t *) mem_param_180362.mem)[slice_177930];
                                int64_t tmp_177932 = ((int64_t *) mem_param_180365.mem)[slice_177930];
                                
                                loopres_171477 = tmp_177924;
                                loopres_171478 = tmp_177931;
                                loopres_171479 = tmp_177932;
                            } else {
                                bool x_171489 = sle64((int64_t) 0, j_171458);
                                bool y_171490 = slt64(j_171458, j_m_i_171411);
                                bool bounds_check_171491 = x_171489 && y_171490;
                                bool index_certs_171492;
                                
                                if (!bounds_check_171491) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171493 = merge_sequential_arg2_171409 + j_171458;
                                int64_t slice_171494 = start_171219 + slice_171493;
                                int32_t tmp_171495 = ((int32_t *) mem_param_180362.mem)[slice_171494];
                                int64_t tmp_171496 = ((int64_t *) mem_param_180365.mem)[slice_171494];
                                
                                loopres_171477 = i_171455;
                                loopres_171478 = tmp_171495;
                                loopres_171479 = tmp_171496;
                            }
                            ((int32_t *) mem_180398)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171478;
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171479;
                            
                            int64_t i_tmp_181743 = loopres_171477;
                            
                            i_171455 = i_tmp_181743;
                        }
                        data_171451 = i_171455;
                    }
                    if (memblock_alloc(ctx, &mem_180436, bytes_180397, "mem_180436")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180436.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint32_t *) mem_180398, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_alloc(ctx, &mem_180440, bytes_180400, "mem_180440")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180440.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint64_t *) mem_180401, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180436, "mem_180436") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180440, "mem_180440") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180368, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180463.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180371, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171503 = next_stride_171147 * num_merges_171151;
            
            if (memblock_alloc(ctx, &mem_180474, bytes_180367, "mem_180474")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_180474.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint32_t *) mem_180368, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            if (memblock_alloc(ctx, &mem_180478, bytes_180370, "mem_180478")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180478.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint64_t *) mem_180371, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            
            bool loop_cond_171506 = slt64(next_stride_171147, flat_dim_171031);
            
            if (memblock_set(ctx, &mem_param_tmp_181717, &mem_180474, "mem_180474") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181718, &mem_180478, "mem_180478") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181719 = flat_dim_171503;
            bool loop_while_tmp_181720 = loop_cond_171506;
            int64_t stride_tmp_181723 = next_stride_171147;
            
            if (memblock_set(ctx, &mem_param_180362, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180365, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
                return 1;
            loop_dz2084Uz2082U_171142 = loop_dz2084Uz2082U_tmp_181719;
            loop_while_171143 = loop_while_tmp_181720;
            stride_171146 = stride_tmp_181723;
        }
        if (memblock_set(ctx, &ext_mem_180485, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180484, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        data_171137 = loop_dz2084Uz2082U_171142;
        data_171138 = loop_while_171143;
        data_171141 = stride_171146;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        
        bool empty_slice_171507 = n_100706 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171508 = sle64((int64_t) 0, zs_lhs_171015);
        bool i_p_m_t_s_leq_w_171509 = slt64(zs_lhs_171015, data_171137);
        bool y_171510 = zzero_leq_i_p_m_t_s_171508 && i_p_m_t_s_leq_w_171509;
        bool ok_or_empty_171511 = empty_slice_171507 || y_171510;
        bool index_certs_171512;
        
        if (!ok_or_empty_171511) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_100706, "] out of bounds for array of shape [", (long long) data_171137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:156:54-57\n   #5  ftsort.fut:35:3-25\n   #6  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180488, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180490, bytes_180282, "mem_180490")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180492, bytes_180491, "mem_180492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179982 = 0; i_179982 < n_100706; i_179982++) {
        int64_t eta_p_171516 = ((int64_t *) ext_mem_180488.mem)[i_179982];
        bool x_171517 = sle64((int64_t) 0, eta_p_171516);
        bool y_171518 = slt64(eta_p_171516, n_100706);
        bool bounds_check_171519 = x_171517 && y_171518;
        bool index_certs_171520;
        
        if (!bounds_check_171519) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171516, "] out of bounds for array of shape [", (long long) n_100706, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171521 = ((int64_t *) ext_mem_180281.mem)[eta_p_171516];
        int32_t lifted_lambda_res_171522 = ((int32_t *) xs_mem_180280.mem)[eta_p_171516];
        
        ((int64_t *) mem_180490.mem)[i_179982] = lifted_lambda_res_171521;
        ((int32_t *) mem_180492.mem)[i_179982] = lifted_lambda_res_171522;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180490, "mem_180490") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180492, "mem_180492") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181987, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181988, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180286);
        free(mem_180289);
        free(mem_180299);
        free(mem_180301);
        free(mem_180368);
        free(mem_180371);
        free(mem_180381);
        free(mem_180383);
        free(mem_180398);
        free(mem_180401);
        if (memblock_unref(ctx, &mem_180492, "mem_180492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180490, "mem_180490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180478, "mem_180478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180474, "mem_180474") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180440, "mem_180440") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180436, "mem_180436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180445, "mem_180445") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180443, "mem_180443") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180485, "ext_mem_180485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_181999, struct memblock *mem_out_p_182000, struct memblock xs_mem_180280, int64_t n_103049, int64_t incr_103050)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180286_cached_sizze_182001 = 0;
    unsigned char *mem_180286 = NULL;
    int64_t mem_180289_cached_sizze_182002 = 0;
    unsigned char *mem_180289 = NULL;
    int64_t mem_180299_cached_sizze_182003 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_182004 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180368_cached_sizze_182005 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180371_cached_sizze_182006 = 0;
    unsigned char *mem_180371 = NULL;
    int64_t mem_180381_cached_sizze_182007 = 0;
    unsigned char *mem_180381 = NULL;
    int64_t mem_180383_cached_sizze_182008 = 0;
    unsigned char *mem_180383 = NULL;
    int64_t mem_180398_cached_sizze_182009 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180401_cached_sizze_182010 = 0;
    unsigned char *mem_180401 = NULL;
    struct memblock mem_180492;
    
    mem_180492.references = NULL;
    
    struct memblock mem_180490;
    
    mem_180490.references = NULL;
    
    struct memblock mem_param_tmp_181718;
    
    mem_param_tmp_181718.references = NULL;
    
    struct memblock mem_param_tmp_181717;
    
    mem_param_tmp_181717.references = NULL;
    
    struct memblock mem_180478;
    
    mem_180478.references = NULL;
    
    struct memblock mem_180474;
    
    mem_180474.references = NULL;
    
    struct memblock mem_180440;
    
    mem_180440.references = NULL;
    
    struct memblock mem_180436;
    
    mem_180436.references = NULL;
    
    struct memblock mem_180445;
    
    mem_180445.references = NULL;
    
    struct memblock mem_180443;
    
    mem_180443.references = NULL;
    
    struct memblock ext_mem_180460;
    
    ext_mem_180460.references = NULL;
    
    struct memblock ext_mem_180463;
    
    ext_mem_180463.references = NULL;
    
    struct memblock mem_param_180365;
    
    mem_param_180365.references = NULL;
    
    struct memblock mem_param_180362;
    
    mem_param_180362.references = NULL;
    
    struct memblock ext_mem_180484;
    
    ext_mem_180484.references = NULL;
    
    struct memblock ext_mem_180485;
    
    ext_mem_180485.references = NULL;
    
    struct memblock mem_180358;
    
    mem_180358.references = NULL;
    
    struct memblock mem_180354;
    
    mem_180354.references = NULL;
    
    struct memblock ext_mem_180488;
    
    ext_mem_180488.references = NULL;
    
    struct memblock mem_180283;
    
    mem_180283.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_103049;
    bool cond_171014 = sle64(n_103049, (int64_t) 1);
    int64_t zs_lhs_171015 = sub64(n_103049, (int64_t) 1);
    int64_t zp_rhs_171016 = sdiv_safe64(zs_lhs_171015, (int64_t) 20);
    int64_t min_num_blocks_171017 = add64((int64_t) 1, zp_rhs_171016);
    bool loop_cond_171018 = slt64((int64_t) 1, min_num_blocks_171017);
    bool smallest_pow_2_geq_than_res_171019;
    int64_t smallest_pow_2_geq_than_res_171020;
    bool loop_while_171021;
    int64_t x_171022;
    
    loop_while_171021 = loop_cond_171018;
    x_171022 = (int64_t) 1;
    while (loop_while_171021) {
        int64_t loopres_171023 = mul64((int64_t) 2, x_171022);
        bool loop_cond_171024 = slt64(loopres_171023, min_num_blocks_171017);
        bool loop_while_tmp_181701 = loop_cond_171024;
        int64_t x_tmp_181702 = loopres_171023;
        
        loop_while_171021 = loop_while_tmp_181701;
        x_171022 = x_tmp_181702;
    }
    smallest_pow_2_geq_than_res_171019 = loop_while_171021;
    smallest_pow_2_geq_than_res_171020 = x_171022;
    
    bool zzero_171025 = smallest_pow_2_geq_than_res_171020 == (int64_t) 0;
    bool nonzzero_171026 = !zzero_171025;
    bool protect_assert_disj_171027 = cond_171014 || nonzzero_171026;
    bool nonzzero_cert_171028;
    
    if (!protect_assert_disj_171027) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171029 = sdiv_safe64(zs_lhs_171015, smallest_pow_2_geq_than_res_171020);
    int64_t block_sizze_171030 = add64((int64_t) 1, zp_rhs_171029);
    bool y_171035 = slt64((int64_t) 0, n_103049);
    bool protect_assert_disj_181393 = cond_171014 || y_171035;
    bool index_certs_171036;
    
    if (!protect_assert_disj_181393) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_103049, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171049 = slt64(smallest_pow_2_geq_than_res_171020, (int64_t) 0);
    bool valid_171050 = !bounds_invalid_upwards_171049;
    bool protect_assert_disj_181401 = cond_171014 || valid_171050;
    bool range_valid_c_171051;
    
    if (!protect_assert_disj_181401) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171053 = slt64(block_sizze_171030, (int64_t) 0);
    bool valid_171054 = !bounds_invalid_upwards_171053;
    bool protect_assert_disj_181403 = cond_171014 || valid_171054;
    bool range_valid_c_171055;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171030, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171057 = sle64(block_sizze_171030, (int64_t) 1);
    int64_t tmp_171058 = sub64(block_sizze_171030, (int64_t) 2);
    bool bounds_invalid_upwards_171059 = slt64(tmp_171058, (int64_t) 0);
    bool valid_171061 = !bounds_invalid_upwards_171059;
    bool protect_assert_disj_171062 = cond_171057 || valid_171061;
    bool protect_assert_disj_181405 = cond_171014 || protect_assert_disj_171062;
    bool range_valid_c_171063;
    
    if (!protect_assert_disj_181405) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171058, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9366(ctx, &ext_mem_180281, xs_mem_180280, n_103049, incr_103050) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180283, bytes_180282, "mem_180283")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181703 = 0; i_181703 < n_103049; i_181703++) {
        int64_t x_181704 = (int64_t) 0 + i_181703 * (int64_t) 1;
        
        ((int64_t *) mem_180283.mem)[i_181703] = x_181704;
    }
    
    int64_t flat_dim_171031 = smallest_pow_2_geq_than_res_171020 * block_sizze_171030;
    bool x_181388 = !cond_171014;
    int64_t greatest_divisor_leq_than_arg1_171033 = mul64((int64_t) 2, block_sizze_171030);
    int64_t merge_block_sizze_171034;
    
    if (x_181388) {
        int64_t x_181390;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181390, (int64_t) 8, greatest_divisor_leq_than_arg1_171033) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171034 = x_181390;
    } else {
        merge_block_sizze_171034 = (int64_t) 0;
    }
    
    int64_t reduce_arg1_171037;
    
    if (x_181388) {
        int64_t x_181394 = ((int64_t *) xs_mem_180280.mem)[(int64_t) 0];
        
        reduce_arg1_171037 = x_181394;
    } else {
        reduce_arg1_171037 = (int64_t) 0;
    }
    
    int64_t defunc_0_reduce_res_177939;
    int64_t defunc_0_reduce_res_177940;
    
    if (x_181388) {
        int64_t x_181396;
        int64_t x_181397;
        int64_t redout_179940;
        int64_t redout_179941;
        
        redout_179940 = reduce_arg1_171037;
        redout_179941 = (int64_t) 0;
        for (int64_t i_179942 = 0; i_179942 < n_103049; i_179942++) {
            int64_t x_171040 = ((int64_t *) xs_mem_180280.mem)[i_179942];
            bool zlze_res_171046 = sle64(redout_179940, x_171040);
            int64_t defunc_0_op_res_171047;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171047 = x_171040;
            } else {
                defunc_0_op_res_171047 = redout_179940;
            }
            
            int64_t defunc_0_op_res_171048;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171048 = i_179942;
            } else {
                defunc_0_op_res_171048 = redout_179941;
            }
            
            int64_t redout_tmp_181705 = defunc_0_op_res_171047;
            int64_t redout_tmp_181706 = defunc_0_op_res_171048;
            
            redout_179940 = redout_tmp_181705;
            redout_179941 = redout_tmp_181706;
        }
        x_181396 = redout_179940;
        x_181397 = redout_179941;
        defunc_0_reduce_res_177939 = x_181396;
        defunc_0_reduce_res_177940 = x_181397;
    } else {
        defunc_0_reduce_res_177939 = (int64_t) 0;
        defunc_0_reduce_res_177940 = (int64_t) 0;
    }
    
    int64_t distance_171060 = add64((int64_t) 1, tmp_171058);
    int64_t binop_x_180284 = (int64_t) 8 * smallest_pow_2_geq_than_res_171020;
    int64_t bytes_180285 = block_sizze_171030 * binop_x_180284;
    int64_t bytes_180298 = (int64_t) 8 * block_sizze_171030;
    bool loop_cond_171134 = slt64(block_sizze_171030, flat_dim_171031);
    bool zzero_171135 = merge_block_sizze_171034 == (int64_t) 0;
    bool nonzzero_171136 = !zzero_171135;
    
    if (cond_171014) {
        if (memblock_set(ctx, &ext_mem_180488, &mem_180283, "mem_180283") != 0)
            return 1;
    } else {
        if (mem_180286_cached_sizze_182001 < bytes_180285) {
            err = lexical_realloc(ctx, &mem_180286, &mem_180286_cached_sizze_182001, bytes_180285);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180289_cached_sizze_182002 < bytes_180285) {
            err = lexical_realloc(ctx, &mem_180289, &mem_180289_cached_sizze_182002, bytes_180285);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180299_cached_sizze_182003 < bytes_180298) {
            err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182003, bytes_180298);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180301_cached_sizze_182004 < bytes_180298) {
            err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_182004, bytes_180298);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179954 = 0; i_179954 < smallest_pow_2_geq_than_res_171020; i_179954++) {
            int64_t zp_lhs_171067 = mul64(block_sizze_171030, i_179954);
            
            for (int64_t i_179947 = 0; i_179947 < block_sizze_171030; i_179947++) {
                int64_t k_171071 = add64(zp_lhs_171067, i_179947);
                bool cond_171072 = slt64(k_171071, n_103049);
                int64_t lifted_lambda_res_171073;
                int64_t lifted_lambda_res_171074;
                
                if (cond_171072) {
                    bool x_177792 = sle64((int64_t) 0, k_171071);
                    bool bounds_check_177793 = cond_171072 && x_177792;
                    bool index_certs_177794;
                    
                    if (!bounds_check_177793) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171071, "] out of bounds for array of shape [", (long long) n_103049, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t lifted_lambda_res_t_res_177795 = ((int64_t *) xs_mem_180280.mem)[k_171071];
                    
                    lifted_lambda_res_171073 = lifted_lambda_res_t_res_177795;
                    lifted_lambda_res_171074 = k_171071;
                } else {
                    lifted_lambda_res_171073 = defunc_0_reduce_res_177939;
                    lifted_lambda_res_171074 = defunc_0_reduce_res_177940;
                }
                ((int64_t *) mem_180299)[i_179947] = lifted_lambda_res_171073;
                ((int64_t *) mem_180301)[i_179947] = lifted_lambda_res_171074;
            }
            if (!cond_171057) {
                for (int64_t i_171083 = 0; i_171083 < distance_171060; i_171083++) {
                    int64_t gt_arg1_171086 = add64((int64_t) 1, i_171083);
                    bool x_171087 = sle64((int64_t) 0, gt_arg1_171086);
                    bool y_171088 = slt64(gt_arg1_171086, block_sizze_171030);
                    bool bounds_check_171089 = x_171087 && y_171088;
                    bool index_certs_171090;
                    
                    if (!bounds_check_171089) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171086, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171092 = slt64(i_171083, block_sizze_171030);
                    bool index_certs_171093;
                    
                    if (!y_171092) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171083, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t gt_arg1_171091 = ((int64_t *) mem_180299)[gt_arg1_171086];
                    int64_t gt_arg0_171094 = ((int64_t *) mem_180299)[i_171083];
                    bool zlze_res_171095 = sle64(gt_arg0_171094, gt_arg1_171091);
                    bool defunc_0_lifted_gt_res_171096 = !zlze_res_171095;
                    bool s_171097;
                    int64_t s_171100;
                    bool loop_while_171101;
                    int64_t j_171104;
                    
                    loop_while_171101 = defunc_0_lifted_gt_res_171096;
                    j_171104 = i_171083;
                    while (loop_while_171101) {
                        bool x_171105 = sle64((int64_t) 0, j_171104);
                        bool y_171106 = slt64(j_171104, block_sizze_171030);
                        bool bounds_check_171107 = x_171105 && y_171106;
                        bool index_certs_171108;
                        
                        if (!bounds_check_171107) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171104, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171111 = add64((int64_t) 1, j_171104);
                        bool x_171112 = sle64((int64_t) 0, copy_arg0_171111);
                        bool y_171113 = slt64(copy_arg0_171111, block_sizze_171030);
                        bool bounds_check_171114 = x_171112 && y_171113;
                        bool index_certs_171115;
                        
                        if (!bounds_check_171114) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171111, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171109 = ((int64_t *) mem_180299)[j_171104];
                        int64_t copy_arg0_171110 = ((int64_t *) mem_180301)[j_171104];
                        int64_t copy_arg0_171116 = ((int64_t *) mem_180299)[copy_arg0_171111];
                        int64_t copy_arg0_171117 = ((int64_t *) mem_180301)[copy_arg0_171111];
                        
                        ((int64_t *) mem_180299)[j_171104] = copy_arg0_171116;
                        ((int64_t *) mem_180301)[j_171104] = copy_arg0_171117;
                        ((int64_t *) mem_180299)[copy_arg0_171111] = copy_arg0_171109;
                        ((int64_t *) mem_180301)[copy_arg0_171111] = copy_arg0_171110;
                        
                        int64_t tmp_171122 = sub64(j_171104, (int64_t) 1);
                        bool cond_171123 = sle64((int64_t) 0, tmp_171122);
                        bool loop_cond_171124;
                        
                        if (cond_171123) {
                            bool y_177797 = slt64(tmp_171122, block_sizze_171030);
                            bool bounds_check_177798 = cond_171123 && y_177797;
                            bool index_certs_177799;
                            
                            if (!bounds_check_177798) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171122, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t gt_arg1_177796 = ((int64_t *) mem_180299)[j_171104];
                            int64_t gt_arg0_177800 = ((int64_t *) mem_180299)[tmp_171122];
                            bool zlze_res_177801 = sle64(gt_arg0_177800, gt_arg1_177796);
                            bool defunc_0_lifted_gt_res_177802 = !zlze_res_177801;
                            
                            loop_cond_171124 = defunc_0_lifted_gt_res_177802;
                        } else {
                            loop_cond_171124 = 0;
                        }
                        
                        bool loop_while_tmp_181713 = loop_cond_171124;
                        int64_t j_tmp_181716 = tmp_171122;
                        
                        loop_while_171101 = loop_while_tmp_181713;
                        j_171104 = j_tmp_181716;
                    }
                    s_171097 = loop_while_171101;
                    s_171100 = j_171104;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180286, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180299, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180289, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180301, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
        }
        if (memblock_alloc(ctx, &mem_180354, bytes_180285, "mem_180354")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180354.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint64_t *) mem_180286, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        if (memblock_alloc(ctx, &mem_180358, bytes_180285, "mem_180358")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180358.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint64_t *) mem_180289, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        
        int64_t data_171137;
        bool data_171138;
        int64_t data_171141;
        int64_t loop_dz2084Uz2082U_171142;
        bool loop_while_171143;
        int64_t stride_171146;
        
        if (memblock_set(ctx, &mem_param_180362, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180365, &mem_180358, "mem_180358") != 0)
            return 1;
        loop_dz2084Uz2082U_171142 = flat_dim_171031;
        loop_while_171143 = loop_cond_171134;
        stride_171146 = block_sizze_171030;
        while (loop_while_171143) {
            int64_t next_stride_171147 = mul64((int64_t) 2, stride_171146);
            bool zzero_171148 = next_stride_171147 == (int64_t) 0;
            bool nonzzero_171149 = !zzero_171148;
            bool nonzzero_cert_171150;
            
            if (!nonzzero_171149) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171151 = sdiv64(flat_dim_171031, next_stride_171147);
            bool bounds_invalid_upwards_171152 = slt64(num_merges_171151, (int64_t) 0);
            bool valid_171153 = !bounds_invalid_upwards_171152;
            bool range_valid_c_171154;
            
            if (!valid_171153) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171151, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171156 = sub64(next_stride_171147, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171157 = sle64((int64_t) 0, m_171156);
            bool cond_171159 = slt64(next_stride_171147, (int64_t) 10);
            bool protect_assert_disj_171160 = nonzzero_171136 || cond_171159;
            bool nonzzero_cert_171161;
            
            if (!protect_assert_disj_171160) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171162 = smod_safe64(next_stride_171147, merge_block_sizze_171034);
            bool num_blocks_171163 = zeze_lhs_171162 == (int64_t) 0;
            bool protect_assert_disj_171164 = cond_171159 || num_blocks_171163;
            bool assert_c_171165;
            
            if (!protect_assert_disj_171164) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171167 = sdiv_safe64(next_stride_171147, merge_block_sizze_171034);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168 = add64((int64_t) 1, num_blocks_171167);
            int64_t j_m_i_171169 = sub64(next_stride_171147, stride_171146);
            int64_t flat_dim_171170 = merge_block_sizze_171034 * num_blocks_171167;
            bool bounds_invalid_upwards_171171 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, (int64_t) 0);
            bool zzero_lte_i_171172 = sle64((int64_t) 0, stride_171146);
            bool i_lte_j_171173 = sle64(stride_171146, next_stride_171147);
            bool empty_slice_171174 = stride_171146 == (int64_t) 0;
            int64_t m_171175 = sub64(stride_171146, (int64_t) 1);
            bool bounds_invalid_upwards_171176 = slt64(num_blocks_171167, (int64_t) 0);
            bool empty_slice_171177 = j_m_i_171169 == (int64_t) 0;
            int64_t m_171178 = sub64(j_m_i_171169, (int64_t) 1);
            bool cond_171179 = slt64((int64_t) 0, stride_171146);
            bool valid_171180 = !bounds_invalid_upwards_171171;
            bool zzero_leq_i_p_m_t_s_171181 = sle64((int64_t) 0, m_171175);
            bool i_p_m_t_s_leq_w_171182 = slt64(m_171175, next_stride_171147);
            bool valid_171183 = !bounds_invalid_upwards_171176;
            bool i_p_m_t_s_leq_w_171184 = slt64(m_171156, flat_dim_171170);
            int64_t i_p_m_t_s_171185 = add64(stride_171146, m_171178);
            bool y_171186 = slt64((int64_t) 0, j_m_i_171169);
            bool protect_assert_disj_171187 = cond_171159 || valid_171180;
            bool range_valid_c_171188;
            
            if (!protect_assert_disj_171187) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171189 = zzero_leq_i_p_m_t_s_171181 && i_p_m_t_s_leq_w_171182;
            bool protect_assert_disj_171190 = cond_171159 || valid_171183;
            bool range_valid_c_171191;
            
            if (!protect_assert_disj_171190) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171192 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171184;
            bool zzero_leq_i_p_m_t_s_171193 = sle64((int64_t) 0, i_p_m_t_s_171185);
            bool i_p_m_t_s_leq_w_171194 = slt64(i_p_m_t_s_171185, next_stride_171147);
            bool forwards_ok_171195 = zzero_lte_i_171172 && y_171189;
            bool ok_or_empty_171196 = zzero_171148 || y_171192;
            bool y_171197 = zzero_lte_i_171172 && i_p_m_t_s_leq_w_171194;
            bool protect_assert_disj_171198 = cond_171179 || y_171186;
            bool ok_or_empty_171199 = empty_slice_171174 || forwards_ok_171195;
            bool protect_assert_disj_171200 = cond_171159 || ok_or_empty_171196;
            bool index_certs_171201;
            
            if (!protect_assert_disj_171200) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) flat_dim_171170, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171202 = zzero_leq_i_p_m_t_s_171193 && y_171197;
            bool loop_not_taken_171203 = !cond_171159;
            bool protect_assert_disj_171204 = protect_assert_disj_171198 || loop_not_taken_171203;
            bool index_certs_171205;
            
            if (!protect_assert_disj_171204) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171206 = cond_171159 || ok_or_empty_171199;
            bool index_certs_171207;
            
            if (!protect_assert_disj_171206) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171208 = i_lte_j_171173 && y_171202;
            bool protect_assert_disj_171209 = ok_or_empty_171199 || loop_not_taken_171203;
            bool index_certs_171210;
            
            if (!protect_assert_disj_171209) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171211 = empty_slice_171177 || forwards_ok_171208;
            bool protect_assert_disj_171212 = loop_not_taken_171203 || ok_or_empty_171211;
            bool index_certs_171213;
            
            if (!protect_assert_disj_171212) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171214 = cond_171159 || ok_or_empty_171211;
            bool index_certs_171215;
            
            if (!protect_assert_disj_171214) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180366 = (int64_t) 8 * num_merges_171151;
            int64_t bytes_180367 = next_stride_171147 * binop_x_180366;
            bool i_lte_j_171158 = sle64((int64_t) 0, next_stride_171147);
            
            if (mem_180368_cached_sizze_182005 < bytes_180367) {
                err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_182005, bytes_180367);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180371_cached_sizze_182006 < bytes_180367) {
                err = lexical_realloc(ctx, &mem_180371, &mem_180371_cached_sizze_182006, bytes_180367);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180380 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168;
            int64_t binop_x_180396 = (int64_t) 8 * num_blocks_171167;
            int64_t bytes_180397 = merge_block_sizze_171034 * binop_x_180396;
            int64_t bytes_180442 = (int64_t) 16 * stride_171146;
            
            for (int64_t i_179975 = 0; i_179975 < num_merges_171151; i_179975++) {
                int64_t start_171219 = mul64(next_stride_171147, i_179975);
                int64_t j_m_i_171220 = sub64(loop_dz2084Uz2082U_171142, start_171219);
                bool empty_slice_171221 = j_m_i_171220 == (int64_t) 0;
                int64_t m_171222 = sub64(j_m_i_171220, (int64_t) 1);
                int64_t i_p_m_t_s_171223 = add64(start_171219, m_171222);
                bool zzero_leq_i_p_m_t_s_171224 = sle64((int64_t) 0, i_p_m_t_s_171223);
                bool i_p_m_t_s_leq_w_171225 = slt64(i_p_m_t_s_171223, loop_dz2084Uz2082U_171142);
                bool zzero_lte_i_171226 = sle64((int64_t) 0, start_171219);
                bool i_lte_j_171227 = sle64(start_171219, loop_dz2084Uz2082U_171142);
                bool y_171228 = i_p_m_t_s_leq_w_171225 && zzero_lte_i_171226;
                bool y_171229 = zzero_leq_i_p_m_t_s_171224 && y_171228;
                bool forwards_ok_171230 = i_lte_j_171227 && y_171229;
                bool ok_or_empty_171231 = empty_slice_171221 || forwards_ok_171230;
                bool index_certs_171232;
                
                if (!ok_or_empty_171231) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171219, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171142, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171233 = slt64(m_171156, j_m_i_171220);
                bool y_171234 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171233;
                bool forwards_ok_171235 = i_lte_j_171158 && y_171234;
                bool ok_or_empty_171236 = zzero_171148 || forwards_ok_171235;
                bool index_certs_171237;
                
                if (!ok_or_empty_171236) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) j_m_i_171220, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171159) {
                    int64_t dummy_177828;
                    int64_t dummy_177829;
                    
                    if (cond_171179) {
                        int64_t head_res_177830 = ((int64_t *) mem_param_180362.mem)[start_171219];
                        int64_t head_res_177831 = ((int64_t *) mem_param_180365.mem)[start_171219];
                        
                        dummy_177828 = head_res_177830;
                        dummy_177829 = head_res_177831;
                    } else {
                        int64_t slice_177832 = stride_171146 + start_171219;
                        int64_t head_res_177833 = ((int64_t *) mem_param_180362.mem)[slice_177832];
                        int64_t head_res_177834 = ((int64_t *) mem_param_180365.mem)[slice_177832];
                        
                        dummy_177828 = head_res_177833;
                        dummy_177829 = head_res_177834;
                    }
                    if (memblock_alloc(ctx, &mem_180443, bytes_180442, "mem_180443")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181726 = 0; nest_i_181726 < next_stride_171147; nest_i_181726++) {
                        ((int64_t *) mem_180443.mem)[nest_i_181726] = dummy_177828;
                    }
                    if (memblock_alloc(ctx, &mem_180445, bytes_180442, "mem_180445")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181727 = 0; nest_i_181727 < next_stride_171147; nest_i_181727++) {
                        ((int64_t *) mem_180445.mem)[nest_i_181727] = dummy_177829;
                    }
                    
                    int64_t data_177837;
                    int64_t i_177841 = (int64_t) 0;
                    
                    for (int64_t k_177840 = 0; k_177840 < next_stride_171147; k_177840++) {
                        int64_t j_177844 = sub64(k_177840, i_177841);
                        bool cond_177845 = j_177844 == j_m_i_171169;
                        bool cond_177846;
                        
                        if (cond_177845) {
                            cond_177846 = 1;
                        } else {
                            bool cond_177847 = slt64(i_177841, stride_171146);
                            bool cond_f_res_177848;
                            
                            if (cond_177847) {
                                bool x_177849 = sle64((int64_t) 0, j_177844);
                                bool y_177850 = slt64(j_177844, j_m_i_171169);
                                bool bounds_check_177851 = x_177849 && y_177850;
                                bool index_certs_177852;
                                
                                if (!bounds_check_177851) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177856 = sle64((int64_t) 0, i_177841);
                                bool bounds_check_177857 = cond_177847 && x_177856;
                                bool index_certs_177858;
                                
                                if (!bounds_check_177857) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177853 = stride_171146 + j_177844;
                                int64_t slice_177854 = start_171219 + slice_177853;
                                int64_t leq_arg1_177855 = ((int64_t *) mem_param_180362.mem)[slice_177854];
                                int64_t slice_177859 = start_171219 + i_177841;
                                int64_t leq_arg0_177860 = ((int64_t *) mem_param_180362.mem)[slice_177859];
                                bool zlze_res_177861 = sle64(leq_arg0_177860, leq_arg1_177855);
                                
                                cond_f_res_177848 = zlze_res_177861;
                            } else {
                                cond_f_res_177848 = 0;
                            }
                            cond_177846 = cond_f_res_177848;
                        }
                        
                        int64_t loopres_177862;
                        int64_t loopres_177863;
                        int64_t loopres_177864;
                        
                        if (cond_177846) {
                            bool x_177866 = sle64((int64_t) 0, i_177841);
                            bool y_177867 = slt64(i_177841, stride_171146);
                            bool bounds_check_177868 = x_177866 && y_177867;
                            bool index_certs_177869;
                            
                            if (!bounds_check_177868) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177865 = add64((int64_t) 1, i_177841);
                            int64_t slice_177870 = start_171219 + i_177841;
                            int64_t tmp_177871 = ((int64_t *) mem_param_180362.mem)[slice_177870];
                            int64_t tmp_177872 = ((int64_t *) mem_param_180365.mem)[slice_177870];
                            
                            loopres_177862 = tmp_177865;
                            loopres_177863 = tmp_177871;
                            loopres_177864 = tmp_177872;
                        } else {
                            bool x_177873 = sle64((int64_t) 0, j_177844);
                            bool y_177874 = slt64(j_177844, j_m_i_171169);
                            bool bounds_check_177875 = x_177873 && y_177874;
                            bool index_certs_177876;
                            
                            if (!bounds_check_177875) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177877 = stride_171146 + j_177844;
                            int64_t slice_177878 = start_171219 + slice_177877;
                            int64_t tmp_177879 = ((int64_t *) mem_param_180362.mem)[slice_177878];
                            int64_t tmp_177880 = ((int64_t *) mem_param_180365.mem)[slice_177878];
                            
                            loopres_177862 = i_177841;
                            loopres_177863 = tmp_177879;
                            loopres_177864 = tmp_177880;
                        }
                        ((int64_t *) mem_180443.mem)[k_177840] = loopres_177863;
                        ((int64_t *) mem_180445.mem)[k_177840] = loopres_177864;
                        
                        int64_t i_tmp_181728 = loopres_177862;
                        
                        i_177841 = i_tmp_181728;
                    }
                    data_177837 = i_177841;
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180443, "mem_180443") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180445, "mem_180445") != 0)
                        return 1;
                } else {
                    if (mem_180381_cached_sizze_182007 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180381, &mem_180381_cached_sizze_182007, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180383_cached_sizze_182008 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180383, &mem_180383_cached_sizze_182008, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179961 = 0; i_179961 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168; i_179961++) {
                        int64_t split_count_arg3_171299 = mul64(merge_block_sizze_171034, i_179961);
                        int64_t defunc_0_split_count_res_171300;
                        int64_t defunc_0_split_count_res_171301;
                        int64_t defunc_0_split_count_res_171302;
                        int64_t defunc_0_split_count_res_171303;
                        int64_t defunc_0_split_count_res_171304;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_171300, &defunc_0_split_count_res_171301, &defunc_0_split_count_res_171302, &defunc_0_split_count_res_171303, &defunc_0_split_count_res_171304, (int64_t) 0, stride_171146, (int64_t) 0, j_m_i_171169, split_count_arg3_171299) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171305 = slt64((int64_t) 0, defunc_0_split_count_res_171304);
                        bool defunc_0_split_count_res_171306;
                        int64_t defunc_0_split_count_res_171307;
                        int64_t defunc_0_split_count_res_171308;
                        int64_t defunc_0_split_count_res_171309;
                        int64_t defunc_0_split_count_res_171310;
                        int64_t defunc_0_split_count_res_171311;
                        bool loop_while_171312;
                        int64_t ss_171313;
                        int64_t ss_171314;
                        int64_t tt_171315;
                        int64_t tt_171316;
                        int64_t count_171317;
                        
                        loop_while_171312 = loop_cond_171305;
                        ss_171313 = defunc_0_split_count_res_171300;
                        ss_171314 = defunc_0_split_count_res_171301;
                        tt_171315 = defunc_0_split_count_res_171302;
                        tt_171316 = defunc_0_split_count_res_171303;
                        count_171317 = defunc_0_split_count_res_171304;
                        while (loop_while_171312) {
                            int64_t zlze_lhs_171318 = sub64(ss_171314, ss_171313);
                            bool cond_171319 = sle64(zlze_lhs_171318, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171320;
                            int64_t defunc_0_lifted_step_res_171321;
                            int64_t defunc_0_lifted_step_res_171322;
                            int64_t defunc_0_lifted_step_res_171323;
                            
                            if (cond_171319) {
                                int64_t tmp_177883 = add64(tt_171315, count_171317);
                                
                                defunc_0_lifted_step_res_171320 = ss_171313;
                                defunc_0_lifted_step_res_171321 = tmp_177883;
                                defunc_0_lifted_step_res_171322 = tt_171316;
                                defunc_0_lifted_step_res_171323 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171325 = sub64(tt_171316, tt_171315);
                                bool cond_171326 = sle64(zlze_lhs_171325, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171327;
                                int64_t defunc_0_lifted_step_res_f_res_171328;
                                int64_t defunc_0_lifted_step_res_f_res_171329;
                                int64_t defunc_0_lifted_step_res_f_res_171330;
                                
                                if (cond_171326) {
                                    int64_t tmp_177884 = add64(ss_171313, count_171317);
                                    
                                    defunc_0_lifted_step_res_f_res_171327 = tmp_177884;
                                    defunc_0_lifted_step_res_f_res_171328 = tt_171315;
                                    defunc_0_lifted_step_res_f_res_171329 = tt_171316;
                                    defunc_0_lifted_step_res_f_res_171330 = (int64_t) 0;
                                } else {
                                    bool cond_171332 = count_171317 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171333;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171334;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171335;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171336;
                                    
                                    if (cond_171332) {
                                        bool x_177886 = sle64((int64_t) 0, ss_171313);
                                        bool y_177887 = slt64(ss_171313, stride_171146);
                                        bool bounds_check_177888 = x_177886 && y_177887;
                                        bool index_certs_177889;
                                        
                                        if (!bounds_check_177888) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171313, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177892 = sle64((int64_t) 0, tt_171315);
                                        bool y_177893 = slt64(tt_171315, j_m_i_171169);
                                        bool bounds_check_177894 = x_177892 && y_177893;
                                        bool index_certs_177895;
                                        
                                        if (!bounds_check_177894) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171315, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177890 = start_171219 + ss_171313;
                                        int64_t leq_arg1_177891 = ((int64_t *) mem_param_180362.mem)[slice_177890];
                                        int64_t slice_177896 = stride_171146 + tt_171315;
                                        int64_t slice_177897 = start_171219 + slice_177896;
                                        int64_t leq_arg0_177898 = ((int64_t *) mem_param_180362.mem)[slice_177897];
                                        bool zlze_res_177899 = sle64(leq_arg0_177898, leq_arg1_177891);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        
                                        if (zlze_res_177899) {
                                            int64_t tmp_177902 = add64((int64_t) 1, tt_171315);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = ss_171313;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tmp_177902;
                                        } else {
                                            int64_t tmp_177903 = add64((int64_t) 1, ss_171313);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = tmp_177903;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tt_171315;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = tt_171316;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = (int64_t) 0;
                                    } else {
                                        int64_t m_171355 = sdiv64(count_171317, (int64_t) 2);
                                        int64_t n_171356 = sub64(count_171317, m_171355);
                                        bool cond_171357 = n_171356 == (int64_t) 0;
                                        int64_t zgze_lhs_171358 = add64(ss_171313, m_171355);
                                        bool cond_f_res_171359 = sle64(ss_171314, zgze_lhs_171358);
                                        bool x_171360 = !cond_171357;
                                        bool y_171361 = cond_f_res_171359 && x_171360;
                                        bool cond_171362 = cond_171357 || y_171361;
                                        bool leq_y_x_171363;
                                        
                                        if (cond_171362) {
                                            leq_y_x_171363 = 1;
                                        } else {
                                            bool x_171364 = sle64((int64_t) 0, zgze_lhs_171358);
                                            bool y_171365 = slt64(zgze_lhs_171358, stride_171146);
                                            bool bounds_check_171366 = x_171364 && y_171365;
                                            bool index_certs_171367;
                                            
                                            if (!bounds_check_171366) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171358, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171370 = add64(tt_171315, n_171356);
                                            int64_t leq_arg0_171371 = sub64(zm_lhs_171370, (int64_t) 1);
                                            bool x_171372 = sle64((int64_t) 0, leq_arg0_171371);
                                            bool y_171373 = slt64(leq_arg0_171371, j_m_i_171169);
                                            bool bounds_check_171374 = x_171372 && y_171373;
                                            bool index_certs_171375;
                                            
                                            if (!bounds_check_171374) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171371, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171368 = start_171219 + zgze_lhs_171358;
                                            int64_t leq_arg1_171369 = ((int64_t *) mem_param_180362.mem)[slice_171368];
                                            int64_t slice_171376 = stride_171146 + leq_arg0_171371;
                                            int64_t slice_171377 = start_171219 + slice_171376;
                                            int64_t leq_arg0_171378 = ((int64_t *) mem_param_180362.mem)[slice_171377];
                                            bool zlze_res_171379 = sle64(leq_arg0_171378, leq_arg1_171369);
                                            
                                            leq_y_x_171363 = zlze_res_171379;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                        
                                        if (leq_y_x_171363) {
                                            int64_t tmp_177904 = add64(tt_171315, n_171356);
                                            int64_t tmp_177905 = sub64(count_171317, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tmp_177904;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tt_171316;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = tmp_177905;
                                        } else {
                                            int64_t tmp_171385 = add64(tt_171315, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tt_171315;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tmp_171385;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = count_171317;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = ss_171313;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                    }
                                    defunc_0_lifted_step_res_f_res_171327 = defunc_0_lifted_step_res_f_res_f_res_171333;
                                    defunc_0_lifted_step_res_f_res_171328 = defunc_0_lifted_step_res_f_res_f_res_171334;
                                    defunc_0_lifted_step_res_f_res_171329 = defunc_0_lifted_step_res_f_res_f_res_171335;
                                    defunc_0_lifted_step_res_f_res_171330 = defunc_0_lifted_step_res_f_res_f_res_171336;
                                }
                                defunc_0_lifted_step_res_171320 = defunc_0_lifted_step_res_f_res_171327;
                                defunc_0_lifted_step_res_171321 = defunc_0_lifted_step_res_f_res_171328;
                                defunc_0_lifted_step_res_171322 = defunc_0_lifted_step_res_f_res_171329;
                                defunc_0_lifted_step_res_171323 = defunc_0_lifted_step_res_f_res_171330;
                            }
                            
                            int64_t loopres_171386;
                            int64_t loopres_171387;
                            int64_t loopres_171388;
                            int64_t loopres_171389;
                            int64_t loopres_171390;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_171386, &loopres_171387, &loopres_171388, &loopres_171389, &loopres_171390, defunc_0_lifted_step_res_171320, ss_171314, defunc_0_lifted_step_res_171321, defunc_0_lifted_step_res_171322, defunc_0_lifted_step_res_171323) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171391 = slt64((int64_t) 0, loopres_171390);
                            bool loop_while_tmp_181733 = loop_cond_171391;
                            int64_t ss_tmp_181734 = loopres_171386;
                            int64_t ss_tmp_181735 = loopres_171387;
                            int64_t tt_tmp_181736 = loopres_171388;
                            int64_t tt_tmp_181737 = loopres_171389;
                            int64_t count_tmp_181738 = loopres_171390;
                            
                            loop_while_171312 = loop_while_tmp_181733;
                            ss_171313 = ss_tmp_181734;
                            ss_171314 = ss_tmp_181735;
                            tt_171315 = tt_tmp_181736;
                            tt_171316 = tt_tmp_181737;
                            count_171317 = count_tmp_181738;
                        }
                        defunc_0_split_count_res_171306 = loop_while_171312;
                        defunc_0_split_count_res_171307 = ss_171313;
                        defunc_0_split_count_res_171308 = ss_171314;
                        defunc_0_split_count_res_171309 = tt_171315;
                        defunc_0_split_count_res_171310 = tt_171316;
                        defunc_0_split_count_res_171311 = count_171317;
                        ((int64_t *) mem_180381)[i_179961] = defunc_0_split_count_res_171307;
                        ((int64_t *) mem_180383)[i_179961] = defunc_0_split_count_res_171309;
                    }
                    if (mem_180398_cached_sizze_182009 < bytes_180397) {
                        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_182009, bytes_180397);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180401_cached_sizze_182010 < bytes_180397) {
                        err = lexical_realloc(ctx, &mem_180401, &mem_180401_cached_sizze_182010, bytes_180397);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179968 = 0; i_179968 < num_blocks_171167; i_179968++) {
                        bool y_171397 = slt64(i_179968, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool index_certs_171399;
                        
                        if (!y_171397) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179968, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171400 = ((int64_t *) mem_180381)[i_179968];
                        int64_t defunc_0_f_res_171401 = ((int64_t *) mem_180383)[i_179968];
                        int64_t tmp_171402 = add64((int64_t) 1, i_179968);
                        bool x_171403 = sle64((int64_t) 0, tmp_171402);
                        bool y_171404 = slt64(tmp_171402, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool bounds_check_171405 = x_171403 && y_171404;
                        bool index_certs_171406;
                        
                        if (!bounds_check_171405) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171402, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171407 = ((int64_t *) mem_180381)[tmp_171402];
                        int64_t defunc_0_f_res_171408 = ((int64_t *) mem_180383)[tmp_171402];
                        int64_t merge_sequential_arg2_171409 = add64(stride_171146, defunc_0_f_res_171401);
                        int64_t merge_sequential_arg2_171410 = add64(stride_171146, defunc_0_f_res_171408);
                        int64_t j_m_i_171411 = sub64(merge_sequential_arg2_171410, merge_sequential_arg2_171409);
                        bool empty_slice_171412 = j_m_i_171411 == (int64_t) 0;
                        int64_t m_171413 = sub64(j_m_i_171411, (int64_t) 1);
                        int64_t i_p_m_t_s_171414 = add64(merge_sequential_arg2_171409, m_171413);
                        bool zzero_leq_i_p_m_t_s_171415 = sle64((int64_t) 0, i_p_m_t_s_171414);
                        bool i_p_m_t_s_leq_w_171416 = slt64(i_p_m_t_s_171414, next_stride_171147);
                        bool zzero_lte_i_171417 = sle64((int64_t) 0, merge_sequential_arg2_171409);
                        bool i_lte_j_171418 = sle64(merge_sequential_arg2_171409, merge_sequential_arg2_171410);
                        bool y_171419 = i_p_m_t_s_leq_w_171416 && zzero_lte_i_171417;
                        bool y_171420 = zzero_leq_i_p_m_t_s_171415 && y_171419;
                        bool forwards_ok_171421 = i_lte_j_171418 && y_171420;
                        bool ok_or_empty_171422 = empty_slice_171412 || forwards_ok_171421;
                        bool index_certs_171423;
                        
                        if (!ok_or_empty_171422) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171409, ":", (long long) merge_sequential_arg2_171410, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171424 = sub64(defunc_0_f_res_171407, defunc_0_f_res_171400);
                        bool empty_slice_171425 = j_m_i_171424 == (int64_t) 0;
                        int64_t m_171426 = sub64(j_m_i_171424, (int64_t) 1);
                        int64_t i_p_m_t_s_171427 = add64(defunc_0_f_res_171400, m_171426);
                        bool zzero_leq_i_p_m_t_s_171428 = sle64((int64_t) 0, i_p_m_t_s_171427);
                        bool i_p_m_t_s_leq_w_171429 = slt64(i_p_m_t_s_171427, next_stride_171147);
                        bool zzero_lte_i_171430 = sle64((int64_t) 0, defunc_0_f_res_171400);
                        bool i_lte_j_171431 = sle64(defunc_0_f_res_171400, defunc_0_f_res_171407);
                        bool y_171432 = i_p_m_t_s_leq_w_171429 && zzero_lte_i_171430;
                        bool y_171433 = zzero_leq_i_p_m_t_s_171428 && y_171432;
                        bool forwards_ok_171434 = i_lte_j_171431 && y_171433;
                        bool ok_or_empty_171435 = empty_slice_171425 || forwards_ok_171434;
                        bool index_certs_171436;
                        
                        if (!ok_or_empty_171435) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171400, ":", (long long) defunc_0_f_res_171407, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171437 = slt64((int64_t) 0, j_m_i_171424);
                        int64_t dummy_171438;
                        int64_t dummy_171439;
                        
                        if (cond_171437) {
                            bool index_certs_177906;
                            
                            if (!cond_171437) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177907 = start_171219 + defunc_0_f_res_171400;
                            int64_t head_res_177908 = ((int64_t *) mem_param_180362.mem)[slice_177907];
                            int64_t head_res_177909 = ((int64_t *) mem_param_180365.mem)[slice_177907];
                            
                            dummy_171438 = head_res_177908;
                            dummy_171439 = head_res_177909;
                        } else {
                            bool y_171444 = slt64((int64_t) 0, j_m_i_171411);
                            bool index_certs_171445;
                            
                            if (!y_171444) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171446 = start_171219 + merge_sequential_arg2_171409;
                            int64_t head_res_171447 = ((int64_t *) mem_param_180362.mem)[slice_171446];
                            int64_t head_res_171448 = ((int64_t *) mem_param_180365.mem)[slice_171446];
                            
                            dummy_171438 = head_res_171447;
                            dummy_171439 = head_res_171448;
                        }
                        for (int64_t nest_i_181741 = 0; nest_i_181741 < merge_block_sizze_171034; nest_i_181741++) {
                            ((int64_t *) mem_180398)[i_179968 * merge_block_sizze_171034 + nest_i_181741] = dummy_171438;
                        }
                        for (int64_t nest_i_181742 = 0; nest_i_181742 < merge_block_sizze_171034; nest_i_181742++) {
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + nest_i_181742] = dummy_171439;
                        }
                        
                        int64_t data_171451;
                        int64_t i_171455 = (int64_t) 0;
                        
                        for (int64_t k_171454 = 0; k_171454 < merge_block_sizze_171034; k_171454++) {
                            int64_t j_171458 = sub64(k_171454, i_171455);
                            bool cond_171459 = j_171458 == j_m_i_171411;
                            bool cond_171460;
                            
                            if (cond_171459) {
                                cond_171460 = 1;
                            } else {
                                bool cond_171461 = slt64(i_171455, j_m_i_171424);
                                bool cond_f_res_171462;
                                
                                if (cond_171461) {
                                    bool x_177910 = sle64((int64_t) 0, j_171458);
                                    bool y_177911 = slt64(j_171458, j_m_i_171411);
                                    bool bounds_check_177912 = x_177910 && y_177911;
                                    bool index_certs_177913;
                                    
                                    if (!bounds_check_177912) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177917 = sle64((int64_t) 0, i_171455);
                                    bool bounds_check_177918 = cond_171461 && x_177917;
                                    bool index_certs_177919;
                                    
                                    if (!bounds_check_177918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177914 = merge_sequential_arg2_171409 + j_171458;
                                    int64_t slice_177915 = start_171219 + slice_177914;
                                    int64_t leq_arg1_177916 = ((int64_t *) mem_param_180362.mem)[slice_177915];
                                    int64_t slice_177920 = defunc_0_f_res_171400 + i_171455;
                                    int64_t slice_177921 = start_171219 + slice_177920;
                                    int64_t leq_arg0_177922 = ((int64_t *) mem_param_180362.mem)[slice_177921];
                                    bool zlze_res_177923 = sle64(leq_arg0_177922, leq_arg1_177916);
                                    
                                    cond_f_res_171462 = zlze_res_177923;
                                } else {
                                    cond_f_res_171462 = 0;
                                }
                                cond_171460 = cond_f_res_171462;
                            }
                            
                            int64_t loopres_171477;
                            int64_t loopres_171478;
                            int64_t loopres_171479;
                            
                            if (cond_171460) {
                                bool x_177925 = sle64((int64_t) 0, i_171455);
                                bool y_177926 = slt64(i_171455, j_m_i_171424);
                                bool bounds_check_177927 = x_177925 && y_177926;
                                bool index_certs_177928;
                                
                                if (!bounds_check_177927) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177924 = add64((int64_t) 1, i_171455);
                                int64_t slice_177929 = defunc_0_f_res_171400 + i_171455;
                                int64_t slice_177930 = start_171219 + slice_177929;
                                int64_t tmp_177931 = ((int64_t *) mem_param_180362.mem)[slice_177930];
                                int64_t tmp_177932 = ((int64_t *) mem_param_180365.mem)[slice_177930];
                                
                                loopres_171477 = tmp_177924;
                                loopres_171478 = tmp_177931;
                                loopres_171479 = tmp_177932;
                            } else {
                                bool x_171489 = sle64((int64_t) 0, j_171458);
                                bool y_171490 = slt64(j_171458, j_m_i_171411);
                                bool bounds_check_171491 = x_171489 && y_171490;
                                bool index_certs_171492;
                                
                                if (!bounds_check_171491) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171493 = merge_sequential_arg2_171409 + j_171458;
                                int64_t slice_171494 = start_171219 + slice_171493;
                                int64_t tmp_171495 = ((int64_t *) mem_param_180362.mem)[slice_171494];
                                int64_t tmp_171496 = ((int64_t *) mem_param_180365.mem)[slice_171494];
                                
                                loopres_171477 = i_171455;
                                loopres_171478 = tmp_171495;
                                loopres_171479 = tmp_171496;
                            }
                            ((int64_t *) mem_180398)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171478;
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171479;
                            
                            int64_t i_tmp_181743 = loopres_171477;
                            
                            i_171455 = i_tmp_181743;
                        }
                        data_171451 = i_171455;
                    }
                    if (memblock_alloc(ctx, &mem_180436, bytes_180397, "mem_180436")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180436.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint64_t *) mem_180398, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_alloc(ctx, &mem_180440, bytes_180397, "mem_180440")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180440.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint64_t *) mem_180401, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180436, "mem_180436") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180440, "mem_180440") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180368, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180463.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180371, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171503 = next_stride_171147 * num_merges_171151;
            
            if (memblock_alloc(ctx, &mem_180474, bytes_180367, "mem_180474")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180474.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint64_t *) mem_180368, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            if (memblock_alloc(ctx, &mem_180478, bytes_180367, "mem_180478")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180478.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint64_t *) mem_180371, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            
            bool loop_cond_171506 = slt64(next_stride_171147, flat_dim_171031);
            
            if (memblock_set(ctx, &mem_param_tmp_181717, &mem_180474, "mem_180474") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181718, &mem_180478, "mem_180478") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181719 = flat_dim_171503;
            bool loop_while_tmp_181720 = loop_cond_171506;
            int64_t stride_tmp_181723 = next_stride_171147;
            
            if (memblock_set(ctx, &mem_param_180362, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180365, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
                return 1;
            loop_dz2084Uz2082U_171142 = loop_dz2084Uz2082U_tmp_181719;
            loop_while_171143 = loop_while_tmp_181720;
            stride_171146 = stride_tmp_181723;
        }
        if (memblock_set(ctx, &ext_mem_180485, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180484, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        data_171137 = loop_dz2084Uz2082U_171142;
        data_171138 = loop_while_171143;
        data_171141 = stride_171146;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        
        bool empty_slice_171507 = n_103049 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171508 = sle64((int64_t) 0, zs_lhs_171015);
        bool i_p_m_t_s_leq_w_171509 = slt64(zs_lhs_171015, data_171137);
        bool y_171510 = zzero_leq_i_p_m_t_s_171508 && i_p_m_t_s_leq_w_171509;
        bool ok_or_empty_171511 = empty_slice_171507 || y_171510;
        bool index_certs_171512;
        
        if (!ok_or_empty_171511) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_103049, "] out of bounds for array of shape [", (long long) data_171137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:156:54-57\n   #5  ftsort.fut:38:3-26\n   #6  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180488, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180490, bytes_180282, "mem_180490")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180492, bytes_180282, "mem_180492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179982 = 0; i_179982 < n_103049; i_179982++) {
        int64_t eta_p_171516 = ((int64_t *) ext_mem_180488.mem)[i_179982];
        bool x_171517 = sle64((int64_t) 0, eta_p_171516);
        bool y_171518 = slt64(eta_p_171516, n_103049);
        bool bounds_check_171519 = x_171517 && y_171518;
        bool index_certs_171520;
        
        if (!bounds_check_171519) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171516, "] out of bounds for array of shape [", (long long) n_103049, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171521 = ((int64_t *) ext_mem_180281.mem)[eta_p_171516];
        int64_t lifted_lambda_res_171522 = ((int64_t *) xs_mem_180280.mem)[eta_p_171516];
        
        ((int64_t *) mem_180490.mem)[i_179982] = lifted_lambda_res_171521;
        ((int64_t *) mem_180492.mem)[i_179982] = lifted_lambda_res_171522;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180490, "mem_180490") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180492, "mem_180492") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_181999, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182000, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180286);
        free(mem_180289);
        free(mem_180299);
        free(mem_180301);
        free(mem_180368);
        free(mem_180371);
        free(mem_180381);
        free(mem_180383);
        free(mem_180398);
        free(mem_180401);
        if (memblock_unref(ctx, &mem_180492, "mem_180492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180490, "mem_180490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180478, "mem_180478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180474, "mem_180474") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180440, "mem_180440") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180436, "mem_180436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180445, "mem_180445") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180443, "mem_180443") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180485, "ext_mem_180485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182011, struct memblock *mem_out_p_182012, struct memblock xs_mem_180280, int64_t n_98362, int64_t incr_98363)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180286_cached_sizze_182013 = 0;
    unsigned char *mem_180286 = NULL;
    int64_t mem_180289_cached_sizze_182014 = 0;
    unsigned char *mem_180289 = NULL;
    int64_t mem_180299_cached_sizze_182015 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_182016 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180368_cached_sizze_182017 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180371_cached_sizze_182018 = 0;
    unsigned char *mem_180371 = NULL;
    int64_t mem_180381_cached_sizze_182019 = 0;
    unsigned char *mem_180381 = NULL;
    int64_t mem_180383_cached_sizze_182020 = 0;
    unsigned char *mem_180383 = NULL;
    int64_t mem_180398_cached_sizze_182021 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180401_cached_sizze_182022 = 0;
    unsigned char *mem_180401 = NULL;
    struct memblock mem_180492;
    
    mem_180492.references = NULL;
    
    struct memblock mem_180490;
    
    mem_180490.references = NULL;
    
    struct memblock mem_param_tmp_181718;
    
    mem_param_tmp_181718.references = NULL;
    
    struct memblock mem_param_tmp_181717;
    
    mem_param_tmp_181717.references = NULL;
    
    struct memblock mem_180478;
    
    mem_180478.references = NULL;
    
    struct memblock mem_180474;
    
    mem_180474.references = NULL;
    
    struct memblock mem_180440;
    
    mem_180440.references = NULL;
    
    struct memblock mem_180436;
    
    mem_180436.references = NULL;
    
    struct memblock mem_180445;
    
    mem_180445.references = NULL;
    
    struct memblock mem_180443;
    
    mem_180443.references = NULL;
    
    struct memblock ext_mem_180460;
    
    ext_mem_180460.references = NULL;
    
    struct memblock ext_mem_180463;
    
    ext_mem_180463.references = NULL;
    
    struct memblock mem_param_180365;
    
    mem_param_180365.references = NULL;
    
    struct memblock mem_param_180362;
    
    mem_param_180362.references = NULL;
    
    struct memblock ext_mem_180484;
    
    ext_mem_180484.references = NULL;
    
    struct memblock ext_mem_180485;
    
    ext_mem_180485.references = NULL;
    
    struct memblock mem_180358;
    
    mem_180358.references = NULL;
    
    struct memblock mem_180354;
    
    mem_180354.references = NULL;
    
    struct memblock ext_mem_180488;
    
    ext_mem_180488.references = NULL;
    
    struct memblock mem_180283;
    
    mem_180283.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_98362;
    bool cond_171014 = sle64(n_98362, (int64_t) 1);
    int64_t zs_lhs_171015 = sub64(n_98362, (int64_t) 1);
    int64_t zp_rhs_171016 = sdiv_safe64(zs_lhs_171015, (int64_t) 20);
    int64_t min_num_blocks_171017 = add64((int64_t) 1, zp_rhs_171016);
    bool loop_cond_171018 = slt64((int64_t) 1, min_num_blocks_171017);
    bool smallest_pow_2_geq_than_res_171019;
    int64_t smallest_pow_2_geq_than_res_171020;
    bool loop_while_171021;
    int64_t x_171022;
    
    loop_while_171021 = loop_cond_171018;
    x_171022 = (int64_t) 1;
    while (loop_while_171021) {
        int64_t loopres_171023 = mul64((int64_t) 2, x_171022);
        bool loop_cond_171024 = slt64(loopres_171023, min_num_blocks_171017);
        bool loop_while_tmp_181701 = loop_cond_171024;
        int64_t x_tmp_181702 = loopres_171023;
        
        loop_while_171021 = loop_while_tmp_181701;
        x_171022 = x_tmp_181702;
    }
    smallest_pow_2_geq_than_res_171019 = loop_while_171021;
    smallest_pow_2_geq_than_res_171020 = x_171022;
    
    bool zzero_171025 = smallest_pow_2_geq_than_res_171020 == (int64_t) 0;
    bool nonzzero_171026 = !zzero_171025;
    bool protect_assert_disj_171027 = cond_171014 || nonzzero_171026;
    bool nonzzero_cert_171028;
    
    if (!protect_assert_disj_171027) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171029 = sdiv_safe64(zs_lhs_171015, smallest_pow_2_geq_than_res_171020);
    int64_t block_sizze_171030 = add64((int64_t) 1, zp_rhs_171029);
    bool y_171035 = slt64((int64_t) 0, n_98362);
    bool protect_assert_disj_181393 = cond_171014 || y_171035;
    bool index_certs_171036;
    
    if (!protect_assert_disj_181393) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_98362, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171049 = slt64(smallest_pow_2_geq_than_res_171020, (int64_t) 0);
    bool valid_171050 = !bounds_invalid_upwards_171049;
    bool protect_assert_disj_181401 = cond_171014 || valid_171050;
    bool range_valid_c_171051;
    
    if (!protect_assert_disj_181401) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171020, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171053 = slt64(block_sizze_171030, (int64_t) 0);
    bool valid_171054 = !bounds_invalid_upwards_171053;
    bool protect_assert_disj_181403 = cond_171014 || valid_171054;
    bool range_valid_c_171055;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171030, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171057 = sle64(block_sizze_171030, (int64_t) 1);
    int64_t tmp_171058 = sub64(block_sizze_171030, (int64_t) 2);
    bool bounds_invalid_upwards_171059 = slt64(tmp_171058, (int64_t) 0);
    bool valid_171061 = !bounds_invalid_upwards_171059;
    bool protect_assert_disj_171062 = cond_171057 || valid_171061;
    bool protect_assert_disj_181405 = cond_171014 || protect_assert_disj_171062;
    bool range_valid_c_171063;
    
    if (!protect_assert_disj_181405) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171058, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180491 = (int64_t) 2 * n_98362;
    
    if (futrts_indicesWithIncrement_9101(ctx, &ext_mem_180281, xs_mem_180280, n_98362, incr_98363) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180283, bytes_180282, "mem_180283")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181703 = 0; i_181703 < n_98362; i_181703++) {
        int64_t x_181704 = (int64_t) 0 + i_181703 * (int64_t) 1;
        
        ((int64_t *) mem_180283.mem)[i_181703] = x_181704;
    }
    
    int64_t flat_dim_171031 = smallest_pow_2_geq_than_res_171020 * block_sizze_171030;
    bool x_181388 = !cond_171014;
    int64_t greatest_divisor_leq_than_arg1_171033 = mul64((int64_t) 2, block_sizze_171030);
    int64_t merge_block_sizze_171034;
    
    if (x_181388) {
        int64_t x_181390;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181390, (int64_t) 8, greatest_divisor_leq_than_arg1_171033) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171034 = x_181390;
    } else {
        merge_block_sizze_171034 = (int64_t) 0;
    }
    
    int16_t reduce_arg1_171037;
    
    if (x_181388) {
        int16_t x_181394 = ((int16_t *) xs_mem_180280.mem)[(int64_t) 0];
        
        reduce_arg1_171037 = x_181394;
    } else {
        reduce_arg1_171037 = (int16_t) 0;
    }
    
    int16_t defunc_0_reduce_res_177939;
    int64_t defunc_0_reduce_res_177940;
    
    if (x_181388) {
        int16_t x_181396;
        int64_t x_181397;
        int16_t redout_179940;
        int64_t redout_179941;
        
        redout_179940 = reduce_arg1_171037;
        redout_179941 = (int64_t) 0;
        for (int64_t i_179942 = 0; i_179942 < n_98362; i_179942++) {
            int16_t x_171040 = ((int16_t *) xs_mem_180280.mem)[i_179942];
            bool zlze_res_171046 = sle16(redout_179940, x_171040);
            int16_t defunc_0_op_res_171047;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171047 = x_171040;
            } else {
                defunc_0_op_res_171047 = redout_179940;
            }
            
            int64_t defunc_0_op_res_171048;
            
            if (zlze_res_171046) {
                defunc_0_op_res_171048 = i_179942;
            } else {
                defunc_0_op_res_171048 = redout_179941;
            }
            
            int16_t redout_tmp_181705 = defunc_0_op_res_171047;
            int64_t redout_tmp_181706 = defunc_0_op_res_171048;
            
            redout_179940 = redout_tmp_181705;
            redout_179941 = redout_tmp_181706;
        }
        x_181396 = redout_179940;
        x_181397 = redout_179941;
        defunc_0_reduce_res_177939 = x_181396;
        defunc_0_reduce_res_177940 = x_181397;
    } else {
        defunc_0_reduce_res_177939 = (int16_t) 0;
        defunc_0_reduce_res_177940 = (int64_t) 0;
    }
    
    int64_t distance_171060 = add64((int64_t) 1, tmp_171058);
    int64_t binop_x_180284 = (int64_t) 2 * smallest_pow_2_geq_than_res_171020;
    int64_t bytes_180285 = block_sizze_171030 * binop_x_180284;
    int64_t binop_x_180287 = (int64_t) 8 * smallest_pow_2_geq_than_res_171020;
    int64_t bytes_180288 = block_sizze_171030 * binop_x_180287;
    int64_t bytes_180300 = (int64_t) 8 * block_sizze_171030;
    bool loop_cond_171134 = slt64(block_sizze_171030, flat_dim_171031);
    bool zzero_171135 = merge_block_sizze_171034 == (int64_t) 0;
    bool nonzzero_171136 = !zzero_171135;
    
    if (cond_171014) {
        if (memblock_set(ctx, &ext_mem_180488, &mem_180283, "mem_180283") != 0)
            return 1;
    } else {
        if (mem_180286_cached_sizze_182013 < bytes_180285) {
            err = lexical_realloc(ctx, &mem_180286, &mem_180286_cached_sizze_182013, bytes_180285);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180289_cached_sizze_182014 < bytes_180288) {
            err = lexical_realloc(ctx, &mem_180289, &mem_180289_cached_sizze_182014, bytes_180288);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180299_cached_sizze_182015 < greatest_divisor_leq_than_arg1_171033) {
            err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182015, greatest_divisor_leq_than_arg1_171033);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_180301_cached_sizze_182016 < bytes_180300) {
            err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_182016, bytes_180300);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_179954 = 0; i_179954 < smallest_pow_2_geq_than_res_171020; i_179954++) {
            int64_t zp_lhs_171067 = mul64(block_sizze_171030, i_179954);
            
            for (int64_t i_179947 = 0; i_179947 < block_sizze_171030; i_179947++) {
                int64_t k_171071 = add64(zp_lhs_171067, i_179947);
                bool cond_171072 = slt64(k_171071, n_98362);
                int16_t lifted_lambda_res_171073;
                int64_t lifted_lambda_res_171074;
                
                if (cond_171072) {
                    bool x_177792 = sle64((int64_t) 0, k_171071);
                    bool bounds_check_177793 = cond_171072 && x_177792;
                    bool index_certs_177794;
                    
                    if (!bounds_check_177793) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171071, "] out of bounds for array of shape [", (long long) n_98362, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t lifted_lambda_res_t_res_177795 = ((int16_t *) xs_mem_180280.mem)[k_171071];
                    
                    lifted_lambda_res_171073 = lifted_lambda_res_t_res_177795;
                    lifted_lambda_res_171074 = k_171071;
                } else {
                    lifted_lambda_res_171073 = defunc_0_reduce_res_177939;
                    lifted_lambda_res_171074 = defunc_0_reduce_res_177940;
                }
                ((int16_t *) mem_180299)[i_179947] = lifted_lambda_res_171073;
                ((int64_t *) mem_180301)[i_179947] = lifted_lambda_res_171074;
            }
            if (!cond_171057) {
                for (int64_t i_171083 = 0; i_171083 < distance_171060; i_171083++) {
                    int64_t gt_arg1_171086 = add64((int64_t) 1, i_171083);
                    bool x_171087 = sle64((int64_t) 0, gt_arg1_171086);
                    bool y_171088 = slt64(gt_arg1_171086, block_sizze_171030);
                    bool bounds_check_171089 = x_171087 && y_171088;
                    bool index_certs_171090;
                    
                    if (!bounds_check_171089) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171086, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171092 = slt64(i_171083, block_sizze_171030);
                    bool index_certs_171093;
                    
                    if (!y_171092) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171083, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t gt_arg1_171091 = ((int16_t *) mem_180299)[gt_arg1_171086];
                    int16_t gt_arg0_171094 = ((int16_t *) mem_180299)[i_171083];
                    bool zlze_res_171095 = sle16(gt_arg0_171094, gt_arg1_171091);
                    bool defunc_0_lifted_gt_res_171096 = !zlze_res_171095;
                    bool s_171097;
                    int64_t s_171100;
                    bool loop_while_171101;
                    int64_t j_171104;
                    
                    loop_while_171101 = defunc_0_lifted_gt_res_171096;
                    j_171104 = i_171083;
                    while (loop_while_171101) {
                        bool x_171105 = sle64((int64_t) 0, j_171104);
                        bool y_171106 = slt64(j_171104, block_sizze_171030);
                        bool bounds_check_171107 = x_171105 && y_171106;
                        bool index_certs_171108;
                        
                        if (!bounds_check_171107) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171104, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171111 = add64((int64_t) 1, j_171104);
                        bool x_171112 = sle64((int64_t) 0, copy_arg0_171111);
                        bool y_171113 = slt64(copy_arg0_171111, block_sizze_171030);
                        bool bounds_check_171114 = x_171112 && y_171113;
                        bool index_certs_171115;
                        
                        if (!bounds_check_171114) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171111, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int16_t copy_arg0_171109 = ((int16_t *) mem_180299)[j_171104];
                        int64_t copy_arg0_171110 = ((int64_t *) mem_180301)[j_171104];
                        int16_t copy_arg0_171116 = ((int16_t *) mem_180299)[copy_arg0_171111];
                        int64_t copy_arg0_171117 = ((int64_t *) mem_180301)[copy_arg0_171111];
                        
                        ((int16_t *) mem_180299)[j_171104] = copy_arg0_171116;
                        ((int64_t *) mem_180301)[j_171104] = copy_arg0_171117;
                        ((int16_t *) mem_180299)[copy_arg0_171111] = copy_arg0_171109;
                        ((int64_t *) mem_180301)[copy_arg0_171111] = copy_arg0_171110;
                        
                        int64_t tmp_171122 = sub64(j_171104, (int64_t) 1);
                        bool cond_171123 = sle64((int64_t) 0, tmp_171122);
                        bool loop_cond_171124;
                        
                        if (cond_171123) {
                            bool y_177797 = slt64(tmp_171122, block_sizze_171030);
                            bool bounds_check_177798 = cond_171123 && y_177797;
                            bool index_certs_177799;
                            
                            if (!bounds_check_177798) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171122, "] out of bounds for array of shape [", (long long) block_sizze_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t gt_arg1_177796 = ((int16_t *) mem_180299)[j_171104];
                            int16_t gt_arg0_177800 = ((int16_t *) mem_180299)[tmp_171122];
                            bool zlze_res_177801 = sle16(gt_arg0_177800, gt_arg1_177796);
                            bool defunc_0_lifted_gt_res_177802 = !zlze_res_177801;
                            
                            loop_cond_171124 = defunc_0_lifted_gt_res_177802;
                        } else {
                            loop_cond_171124 = 0;
                        }
                        
                        bool loop_while_tmp_181713 = loop_cond_171124;
                        int64_t j_tmp_181716 = tmp_171122;
                        
                        loop_while_171101 = loop_while_tmp_181713;
                        j_171104 = j_tmp_181716;
                    }
                    s_171097 = loop_while_171101;
                    s_171100 = j_171104;
                }
            }
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180286, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180299, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180289, i_179954 * block_sizze_171030, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180301, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171030});
        }
        if (memblock_alloc(ctx, &mem_180354, bytes_180285, "mem_180354")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_180354.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint16_t *) mem_180286, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        if (memblock_alloc(ctx, &mem_180358, bytes_180288, "mem_180358")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180358.mem, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (uint64_t *) mem_180289, (int64_t) 0, (int64_t []) {block_sizze_171030, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171020, block_sizze_171030});
        
        int64_t data_171137;
        bool data_171138;
        int64_t data_171141;
        int64_t loop_dz2084Uz2082U_171142;
        bool loop_while_171143;
        int64_t stride_171146;
        
        if (memblock_set(ctx, &mem_param_180362, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_180365, &mem_180358, "mem_180358") != 0)
            return 1;
        loop_dz2084Uz2082U_171142 = flat_dim_171031;
        loop_while_171143 = loop_cond_171134;
        stride_171146 = block_sizze_171030;
        while (loop_while_171143) {
            int64_t next_stride_171147 = mul64((int64_t) 2, stride_171146);
            bool zzero_171148 = next_stride_171147 == (int64_t) 0;
            bool nonzzero_171149 = !zzero_171148;
            bool nonzzero_cert_171150;
            
            if (!nonzzero_171149) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171151 = sdiv64(flat_dim_171031, next_stride_171147);
            bool bounds_invalid_upwards_171152 = slt64(num_merges_171151, (int64_t) 0);
            bool valid_171153 = !bounds_invalid_upwards_171152;
            bool range_valid_c_171154;
            
            if (!valid_171153) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171151, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:156:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171156 = sub64(next_stride_171147, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171157 = sle64((int64_t) 0, m_171156);
            bool cond_171159 = slt64(next_stride_171147, (int64_t) 10);
            bool protect_assert_disj_171160 = nonzzero_171136 || cond_171159;
            bool nonzzero_cert_171161;
            
            if (!protect_assert_disj_171160) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171162 = smod_safe64(next_stride_171147, merge_block_sizze_171034);
            bool num_blocks_171163 = zeze_lhs_171162 == (int64_t) 0;
            bool protect_assert_disj_171164 = cond_171159 || num_blocks_171163;
            bool assert_c_171165;
            
            if (!protect_assert_disj_171164) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171167 = sdiv_safe64(next_stride_171147, merge_block_sizze_171034);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168 = add64((int64_t) 1, num_blocks_171167);
            int64_t j_m_i_171169 = sub64(next_stride_171147, stride_171146);
            int64_t flat_dim_171170 = merge_block_sizze_171034 * num_blocks_171167;
            bool bounds_invalid_upwards_171171 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, (int64_t) 0);
            bool zzero_lte_i_171172 = sle64((int64_t) 0, stride_171146);
            bool i_lte_j_171173 = sle64(stride_171146, next_stride_171147);
            bool empty_slice_171174 = stride_171146 == (int64_t) 0;
            int64_t m_171175 = sub64(stride_171146, (int64_t) 1);
            bool bounds_invalid_upwards_171176 = slt64(num_blocks_171167, (int64_t) 0);
            bool empty_slice_171177 = j_m_i_171169 == (int64_t) 0;
            int64_t m_171178 = sub64(j_m_i_171169, (int64_t) 1);
            bool cond_171179 = slt64((int64_t) 0, stride_171146);
            bool valid_171180 = !bounds_invalid_upwards_171171;
            bool zzero_leq_i_p_m_t_s_171181 = sle64((int64_t) 0, m_171175);
            bool i_p_m_t_s_leq_w_171182 = slt64(m_171175, next_stride_171147);
            bool valid_171183 = !bounds_invalid_upwards_171176;
            bool i_p_m_t_s_leq_w_171184 = slt64(m_171156, flat_dim_171170);
            int64_t i_p_m_t_s_171185 = add64(stride_171146, m_171178);
            bool y_171186 = slt64((int64_t) 0, j_m_i_171169);
            bool protect_assert_disj_171187 = cond_171159 || valid_171180;
            bool range_valid_c_171188;
            
            if (!protect_assert_disj_171187) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171189 = zzero_leq_i_p_m_t_s_171181 && i_p_m_t_s_leq_w_171182;
            bool protect_assert_disj_171190 = cond_171159 || valid_171183;
            bool range_valid_c_171191;
            
            if (!protect_assert_disj_171190) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171167, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171192 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171184;
            bool zzero_leq_i_p_m_t_s_171193 = sle64((int64_t) 0, i_p_m_t_s_171185);
            bool i_p_m_t_s_leq_w_171194 = slt64(i_p_m_t_s_171185, next_stride_171147);
            bool forwards_ok_171195 = zzero_lte_i_171172 && y_171189;
            bool ok_or_empty_171196 = zzero_171148 || y_171192;
            bool y_171197 = zzero_lte_i_171172 && i_p_m_t_s_leq_w_171194;
            bool protect_assert_disj_171198 = cond_171179 || y_171186;
            bool ok_or_empty_171199 = empty_slice_171174 || forwards_ok_171195;
            bool protect_assert_disj_171200 = cond_171159 || ok_or_empty_171196;
            bool index_certs_171201;
            
            if (!protect_assert_disj_171200) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) flat_dim_171170, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171202 = zzero_leq_i_p_m_t_s_171193 && y_171197;
            bool loop_not_taken_171203 = !cond_171159;
            bool protect_assert_disj_171204 = protect_assert_disj_171198 || loop_not_taken_171203;
            bool index_certs_171205;
            
            if (!protect_assert_disj_171204) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171206 = cond_171159 || ok_or_empty_171199;
            bool index_certs_171207;
            
            if (!protect_assert_disj_171206) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171208 = i_lte_j_171173 && y_171202;
            bool protect_assert_disj_171209 = ok_or_empty_171199 || loop_not_taken_171203;
            bool index_certs_171210;
            
            if (!protect_assert_disj_171209) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171146, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171211 = empty_slice_171177 || forwards_ok_171208;
            bool protect_assert_disj_171212 = loop_not_taken_171203 || ok_or_empty_171211;
            bool index_certs_171213;
            
            if (!protect_assert_disj_171212) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171214 = cond_171159 || ok_or_empty_171211;
            bool index_certs_171215;
            
            if (!protect_assert_disj_171214) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171146, ":] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_180366 = (int64_t) 2 * num_merges_171151;
            int64_t bytes_180367 = next_stride_171147 * binop_x_180366;
            int64_t binop_x_180369 = (int64_t) 8 * num_merges_171151;
            int64_t bytes_180370 = next_stride_171147 * binop_x_180369;
            bool i_lte_j_171158 = sle64((int64_t) 0, next_stride_171147);
            
            if (mem_180368_cached_sizze_182017 < bytes_180367) {
                err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_182017, bytes_180367);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180371_cached_sizze_182018 < bytes_180370) {
                err = lexical_realloc(ctx, &mem_180371, &mem_180371_cached_sizze_182018, bytes_180370);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_180380 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168;
            int64_t binop_x_180396 = (int64_t) 2 * num_blocks_171167;
            int64_t bytes_180397 = merge_block_sizze_171034 * binop_x_180396;
            int64_t binop_x_180399 = (int64_t) 8 * num_blocks_171167;
            int64_t bytes_180400 = merge_block_sizze_171034 * binop_x_180399;
            int64_t bytes_180442 = (int64_t) 4 * stride_171146;
            int64_t bytes_180444 = (int64_t) 16 * stride_171146;
            
            for (int64_t i_179975 = 0; i_179975 < num_merges_171151; i_179975++) {
                int64_t start_171219 = mul64(next_stride_171147, i_179975);
                int64_t j_m_i_171220 = sub64(loop_dz2084Uz2082U_171142, start_171219);
                bool empty_slice_171221 = j_m_i_171220 == (int64_t) 0;
                int64_t m_171222 = sub64(j_m_i_171220, (int64_t) 1);
                int64_t i_p_m_t_s_171223 = add64(start_171219, m_171222);
                bool zzero_leq_i_p_m_t_s_171224 = sle64((int64_t) 0, i_p_m_t_s_171223);
                bool i_p_m_t_s_leq_w_171225 = slt64(i_p_m_t_s_171223, loop_dz2084Uz2082U_171142);
                bool zzero_lte_i_171226 = sle64((int64_t) 0, start_171219);
                bool i_lte_j_171227 = sle64(start_171219, loop_dz2084Uz2082U_171142);
                bool y_171228 = i_p_m_t_s_leq_w_171225 && zzero_lte_i_171226;
                bool y_171229 = zzero_leq_i_p_m_t_s_171224 && y_171228;
                bool forwards_ok_171230 = i_lte_j_171227 && y_171229;
                bool ok_or_empty_171231 = empty_slice_171221 || forwards_ok_171230;
                bool index_certs_171232;
                
                if (!ok_or_empty_171231) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171219, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171142, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171233 = slt64(m_171156, j_m_i_171220);
                bool y_171234 = zzero_leq_i_p_m_t_s_171157 && i_p_m_t_s_leq_w_171233;
                bool forwards_ok_171235 = i_lte_j_171158 && y_171234;
                bool ok_or_empty_171236 = zzero_171148 || forwards_ok_171235;
                bool index_certs_171237;
                
                if (!ok_or_empty_171236) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171147, "] out of bounds for array of shape [", (long long) j_m_i_171220, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:156:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171159) {
                    int16_t dummy_177828;
                    int64_t dummy_177829;
                    
                    if (cond_171179) {
                        int16_t head_res_177830 = ((int16_t *) mem_param_180362.mem)[start_171219];
                        int64_t head_res_177831 = ((int64_t *) mem_param_180365.mem)[start_171219];
                        
                        dummy_177828 = head_res_177830;
                        dummy_177829 = head_res_177831;
                    } else {
                        int64_t slice_177832 = stride_171146 + start_171219;
                        int16_t head_res_177833 = ((int16_t *) mem_param_180362.mem)[slice_177832];
                        int64_t head_res_177834 = ((int64_t *) mem_param_180365.mem)[slice_177832];
                        
                        dummy_177828 = head_res_177833;
                        dummy_177829 = head_res_177834;
                    }
                    if (memblock_alloc(ctx, &mem_180443, bytes_180442, "mem_180443")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181726 = 0; nest_i_181726 < next_stride_171147; nest_i_181726++) {
                        ((int16_t *) mem_180443.mem)[nest_i_181726] = dummy_177828;
                    }
                    if (memblock_alloc(ctx, &mem_180445, bytes_180444, "mem_180445")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181727 = 0; nest_i_181727 < next_stride_171147; nest_i_181727++) {
                        ((int64_t *) mem_180445.mem)[nest_i_181727] = dummy_177829;
                    }
                    
                    int64_t data_177837;
                    int64_t i_177841 = (int64_t) 0;
                    
                    for (int64_t k_177840 = 0; k_177840 < next_stride_171147; k_177840++) {
                        int64_t j_177844 = sub64(k_177840, i_177841);
                        bool cond_177845 = j_177844 == j_m_i_171169;
                        bool cond_177846;
                        
                        if (cond_177845) {
                            cond_177846 = 1;
                        } else {
                            bool cond_177847 = slt64(i_177841, stride_171146);
                            bool cond_f_res_177848;
                            
                            if (cond_177847) {
                                bool x_177849 = sle64((int64_t) 0, j_177844);
                                bool y_177850 = slt64(j_177844, j_m_i_171169);
                                bool bounds_check_177851 = x_177849 && y_177850;
                                bool index_certs_177852;
                                
                                if (!bounds_check_177851) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_177856 = sle64((int64_t) 0, i_177841);
                                bool bounds_check_177857 = cond_177847 && x_177856;
                                bool index_certs_177858;
                                
                                if (!bounds_check_177857) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177853 = stride_171146 + j_177844;
                                int64_t slice_177854 = start_171219 + slice_177853;
                                int16_t leq_arg1_177855 = ((int16_t *) mem_param_180362.mem)[slice_177854];
                                int64_t slice_177859 = start_171219 + i_177841;
                                int16_t leq_arg0_177860 = ((int16_t *) mem_param_180362.mem)[slice_177859];
                                bool zlze_res_177861 = sle16(leq_arg0_177860, leq_arg1_177855);
                                
                                cond_f_res_177848 = zlze_res_177861;
                            } else {
                                cond_f_res_177848 = 0;
                            }
                            cond_177846 = cond_f_res_177848;
                        }
                        
                        int64_t loopres_177862;
                        int16_t loopres_177863;
                        int64_t loopres_177864;
                        
                        if (cond_177846) {
                            bool x_177866 = sle64((int64_t) 0, i_177841);
                            bool y_177867 = slt64(i_177841, stride_171146);
                            bool bounds_check_177868 = x_177866 && y_177867;
                            bool index_certs_177869;
                            
                            if (!bounds_check_177868) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177841, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_177865 = add64((int64_t) 1, i_177841);
                            int64_t slice_177870 = start_171219 + i_177841;
                            int16_t tmp_177871 = ((int16_t *) mem_param_180362.mem)[slice_177870];
                            int64_t tmp_177872 = ((int64_t *) mem_param_180365.mem)[slice_177870];
                            
                            loopres_177862 = tmp_177865;
                            loopres_177863 = tmp_177871;
                            loopres_177864 = tmp_177872;
                        } else {
                            bool x_177873 = sle64((int64_t) 0, j_177844);
                            bool y_177874 = slt64(j_177844, j_m_i_171169);
                            bool bounds_check_177875 = x_177873 && y_177874;
                            bool index_certs_177876;
                            
                            if (!bounds_check_177875) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177844, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:156:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177877 = stride_171146 + j_177844;
                            int64_t slice_177878 = start_171219 + slice_177877;
                            int16_t tmp_177879 = ((int16_t *) mem_param_180362.mem)[slice_177878];
                            int64_t tmp_177880 = ((int64_t *) mem_param_180365.mem)[slice_177878];
                            
                            loopres_177862 = i_177841;
                            loopres_177863 = tmp_177879;
                            loopres_177864 = tmp_177880;
                        }
                        ((int16_t *) mem_180443.mem)[k_177840] = loopres_177863;
                        ((int64_t *) mem_180445.mem)[k_177840] = loopres_177864;
                        
                        int64_t i_tmp_181728 = loopres_177862;
                        
                        i_177841 = i_tmp_181728;
                    }
                    data_177837 = i_177841;
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180443, "mem_180443") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180445, "mem_180445") != 0)
                        return 1;
                } else {
                    if (mem_180381_cached_sizze_182019 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180381, &mem_180381_cached_sizze_182019, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180383_cached_sizze_182020 < bytes_180380) {
                        err = lexical_realloc(ctx, &mem_180383, &mem_180383_cached_sizze_182020, bytes_180380);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179961 = 0; i_179961 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168; i_179961++) {
                        int64_t split_count_arg3_171299 = mul64(merge_block_sizze_171034, i_179961);
                        int64_t defunc_0_split_count_res_171300;
                        int64_t defunc_0_split_count_res_171301;
                        int64_t defunc_0_split_count_res_171302;
                        int64_t defunc_0_split_count_res_171303;
                        int64_t defunc_0_split_count_res_171304;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_171300, &defunc_0_split_count_res_171301, &defunc_0_split_count_res_171302, &defunc_0_split_count_res_171303, &defunc_0_split_count_res_171304, (int64_t) 0, stride_171146, (int64_t) 0, j_m_i_171169, split_count_arg3_171299) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_171305 = slt64((int64_t) 0, defunc_0_split_count_res_171304);
                        bool defunc_0_split_count_res_171306;
                        int64_t defunc_0_split_count_res_171307;
                        int64_t defunc_0_split_count_res_171308;
                        int64_t defunc_0_split_count_res_171309;
                        int64_t defunc_0_split_count_res_171310;
                        int64_t defunc_0_split_count_res_171311;
                        bool loop_while_171312;
                        int64_t ss_171313;
                        int64_t ss_171314;
                        int64_t tt_171315;
                        int64_t tt_171316;
                        int64_t count_171317;
                        
                        loop_while_171312 = loop_cond_171305;
                        ss_171313 = defunc_0_split_count_res_171300;
                        ss_171314 = defunc_0_split_count_res_171301;
                        tt_171315 = defunc_0_split_count_res_171302;
                        tt_171316 = defunc_0_split_count_res_171303;
                        count_171317 = defunc_0_split_count_res_171304;
                        while (loop_while_171312) {
                            int64_t zlze_lhs_171318 = sub64(ss_171314, ss_171313);
                            bool cond_171319 = sle64(zlze_lhs_171318, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_171320;
                            int64_t defunc_0_lifted_step_res_171321;
                            int64_t defunc_0_lifted_step_res_171322;
                            int64_t defunc_0_lifted_step_res_171323;
                            
                            if (cond_171319) {
                                int64_t tmp_177883 = add64(tt_171315, count_171317);
                                
                                defunc_0_lifted_step_res_171320 = ss_171313;
                                defunc_0_lifted_step_res_171321 = tmp_177883;
                                defunc_0_lifted_step_res_171322 = tt_171316;
                                defunc_0_lifted_step_res_171323 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_171325 = sub64(tt_171316, tt_171315);
                                bool cond_171326 = sle64(zlze_lhs_171325, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_171327;
                                int64_t defunc_0_lifted_step_res_f_res_171328;
                                int64_t defunc_0_lifted_step_res_f_res_171329;
                                int64_t defunc_0_lifted_step_res_f_res_171330;
                                
                                if (cond_171326) {
                                    int64_t tmp_177884 = add64(ss_171313, count_171317);
                                    
                                    defunc_0_lifted_step_res_f_res_171327 = tmp_177884;
                                    defunc_0_lifted_step_res_f_res_171328 = tt_171315;
                                    defunc_0_lifted_step_res_f_res_171329 = tt_171316;
                                    defunc_0_lifted_step_res_f_res_171330 = (int64_t) 0;
                                } else {
                                    bool cond_171332 = count_171317 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171333;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171334;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171335;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_171336;
                                    
                                    if (cond_171332) {
                                        bool x_177886 = sle64((int64_t) 0, ss_171313);
                                        bool y_177887 = slt64(ss_171313, stride_171146);
                                        bool bounds_check_177888 = x_177886 && y_177887;
                                        bool index_certs_177889;
                                        
                                        if (!bounds_check_177888) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_171313, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_177892 = sle64((int64_t) 0, tt_171315);
                                        bool y_177893 = slt64(tt_171315, j_m_i_171169);
                                        bool bounds_check_177894 = x_177892 && y_177893;
                                        bool index_certs_177895;
                                        
                                        if (!bounds_check_177894) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_171315, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177890 = start_171219 + ss_171313;
                                        int16_t leq_arg1_177891 = ((int16_t *) mem_param_180362.mem)[slice_177890];
                                        int64_t slice_177896 = stride_171146 + tt_171315;
                                        int64_t slice_177897 = start_171219 + slice_177896;
                                        int16_t leq_arg0_177898 = ((int16_t *) mem_param_180362.mem)[slice_177897];
                                        bool zlze_res_177899 = sle16(leq_arg0_177898, leq_arg1_177891);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        
                                        if (zlze_res_177899) {
                                            int64_t tmp_177902 = add64((int64_t) 1, tt_171315);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = ss_171313;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tmp_177902;
                                        } else {
                                            int64_t tmp_177903 = add64((int64_t) 1, ss_171313);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177900 = tmp_177903;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_177901 = tt_171315;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = defunc_0_lifted_step_res_f_res_f_res_t_res_177900;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_t_res_177901;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = tt_171316;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = (int64_t) 0;
                                    } else {
                                        int64_t m_171355 = sdiv64(count_171317, (int64_t) 2);
                                        int64_t n_171356 = sub64(count_171317, m_171355);
                                        bool cond_171357 = n_171356 == (int64_t) 0;
                                        int64_t zgze_lhs_171358 = add64(ss_171313, m_171355);
                                        bool cond_f_res_171359 = sle64(ss_171314, zgze_lhs_171358);
                                        bool x_171360 = !cond_171357;
                                        bool y_171361 = cond_f_res_171359 && x_171360;
                                        bool cond_171362 = cond_171357 || y_171361;
                                        bool leq_y_x_171363;
                                        
                                        if (cond_171362) {
                                            leq_y_x_171363 = 1;
                                        } else {
                                            bool x_171364 = sle64((int64_t) 0, zgze_lhs_171358);
                                            bool y_171365 = slt64(zgze_lhs_171358, stride_171146);
                                            bool bounds_check_171366 = x_171364 && y_171365;
                                            bool index_certs_171367;
                                            
                                            if (!bounds_check_171366) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_171358, "] out of bounds for array of shape [", (long long) stride_171146, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_171370 = add64(tt_171315, n_171356);
                                            int64_t leq_arg0_171371 = sub64(zm_lhs_171370, (int64_t) 1);
                                            bool x_171372 = sle64((int64_t) 0, leq_arg0_171371);
                                            bool y_171373 = slt64(leq_arg0_171371, j_m_i_171169);
                                            bool bounds_check_171374 = x_171372 && y_171373;
                                            bool index_certs_171375;
                                            
                                            if (!bounds_check_171374) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_171371, "] out of bounds for array of shape [", (long long) j_m_i_171169, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:156:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_171368 = start_171219 + zgze_lhs_171358;
                                            int16_t leq_arg1_171369 = ((int16_t *) mem_param_180362.mem)[slice_171368];
                                            int64_t slice_171376 = stride_171146 + leq_arg0_171371;
                                            int64_t slice_171377 = start_171219 + slice_171376;
                                            int16_t leq_arg0_171378 = ((int16_t *) mem_param_180362.mem)[slice_171377];
                                            bool zlze_res_171379 = sle16(leq_arg0_171378, leq_arg1_171369);
                                            
                                            leq_y_x_171363 = zlze_res_171379;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                        
                                        if (leq_y_x_171363) {
                                            int64_t tmp_177904 = add64(tt_171315, n_171356);
                                            int64_t tmp_177905 = sub64(count_171317, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tmp_177904;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tt_171316;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = tmp_177905;
                                        } else {
                                            int64_t tmp_171385 = add64(tt_171315, n_171356);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171380 = tt_171315;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171381 = tmp_171385;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_171382 = count_171317;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_171333 = ss_171313;
                                        defunc_0_lifted_step_res_f_res_f_res_171334 = defunc_0_lifted_step_res_f_res_f_res_f_res_171380;
                                        defunc_0_lifted_step_res_f_res_f_res_171335 = defunc_0_lifted_step_res_f_res_f_res_f_res_171381;
                                        defunc_0_lifted_step_res_f_res_f_res_171336 = defunc_0_lifted_step_res_f_res_f_res_f_res_171382;
                                    }
                                    defunc_0_lifted_step_res_f_res_171327 = defunc_0_lifted_step_res_f_res_f_res_171333;
                                    defunc_0_lifted_step_res_f_res_171328 = defunc_0_lifted_step_res_f_res_f_res_171334;
                                    defunc_0_lifted_step_res_f_res_171329 = defunc_0_lifted_step_res_f_res_f_res_171335;
                                    defunc_0_lifted_step_res_f_res_171330 = defunc_0_lifted_step_res_f_res_f_res_171336;
                                }
                                defunc_0_lifted_step_res_171320 = defunc_0_lifted_step_res_f_res_171327;
                                defunc_0_lifted_step_res_171321 = defunc_0_lifted_step_res_f_res_171328;
                                defunc_0_lifted_step_res_171322 = defunc_0_lifted_step_res_f_res_171329;
                                defunc_0_lifted_step_res_171323 = defunc_0_lifted_step_res_f_res_171330;
                            }
                            
                            int64_t loopres_171386;
                            int64_t loopres_171387;
                            int64_t loopres_171388;
                            int64_t loopres_171389;
                            int64_t loopres_171390;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_171386, &loopres_171387, &loopres_171388, &loopres_171389, &loopres_171390, defunc_0_lifted_step_res_171320, ss_171314, defunc_0_lifted_step_res_171321, defunc_0_lifted_step_res_171322, defunc_0_lifted_step_res_171323) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_171391 = slt64((int64_t) 0, loopres_171390);
                            bool loop_while_tmp_181733 = loop_cond_171391;
                            int64_t ss_tmp_181734 = loopres_171386;
                            int64_t ss_tmp_181735 = loopres_171387;
                            int64_t tt_tmp_181736 = loopres_171388;
                            int64_t tt_tmp_181737 = loopres_171389;
                            int64_t count_tmp_181738 = loopres_171390;
                            
                            loop_while_171312 = loop_while_tmp_181733;
                            ss_171313 = ss_tmp_181734;
                            ss_171314 = ss_tmp_181735;
                            tt_171315 = tt_tmp_181736;
                            tt_171316 = tt_tmp_181737;
                            count_171317 = count_tmp_181738;
                        }
                        defunc_0_split_count_res_171306 = loop_while_171312;
                        defunc_0_split_count_res_171307 = ss_171313;
                        defunc_0_split_count_res_171308 = ss_171314;
                        defunc_0_split_count_res_171309 = tt_171315;
                        defunc_0_split_count_res_171310 = tt_171316;
                        defunc_0_split_count_res_171311 = count_171317;
                        ((int64_t *) mem_180381)[i_179961] = defunc_0_split_count_res_171307;
                        ((int64_t *) mem_180383)[i_179961] = defunc_0_split_count_res_171309;
                    }
                    if (mem_180398_cached_sizze_182021 < bytes_180397) {
                        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_182021, bytes_180397);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180401_cached_sizze_182022 < bytes_180400) {
                        err = lexical_realloc(ctx, &mem_180401, &mem_180401_cached_sizze_182022, bytes_180400);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179968 = 0; i_179968 < num_blocks_171167; i_179968++) {
                        bool y_171397 = slt64(i_179968, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool index_certs_171399;
                        
                        if (!y_171397) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179968, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171400 = ((int64_t *) mem_180381)[i_179968];
                        int64_t defunc_0_f_res_171401 = ((int64_t *) mem_180383)[i_179968];
                        int64_t tmp_171402 = add64((int64_t) 1, i_179968);
                        bool x_171403 = sle64((int64_t) 0, tmp_171402);
                        bool y_171404 = slt64(tmp_171402, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168);
                        bool bounds_check_171405 = x_171403 && y_171404;
                        bool index_certs_171406;
                        
                        if (!bounds_check_171405) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171402, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171168, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_171407 = ((int64_t *) mem_180381)[tmp_171402];
                        int64_t defunc_0_f_res_171408 = ((int64_t *) mem_180383)[tmp_171402];
                        int64_t merge_sequential_arg2_171409 = add64(stride_171146, defunc_0_f_res_171401);
                        int64_t merge_sequential_arg2_171410 = add64(stride_171146, defunc_0_f_res_171408);
                        int64_t j_m_i_171411 = sub64(merge_sequential_arg2_171410, merge_sequential_arg2_171409);
                        bool empty_slice_171412 = j_m_i_171411 == (int64_t) 0;
                        int64_t m_171413 = sub64(j_m_i_171411, (int64_t) 1);
                        int64_t i_p_m_t_s_171414 = add64(merge_sequential_arg2_171409, m_171413);
                        bool zzero_leq_i_p_m_t_s_171415 = sle64((int64_t) 0, i_p_m_t_s_171414);
                        bool i_p_m_t_s_leq_w_171416 = slt64(i_p_m_t_s_171414, next_stride_171147);
                        bool zzero_lte_i_171417 = sle64((int64_t) 0, merge_sequential_arg2_171409);
                        bool i_lte_j_171418 = sle64(merge_sequential_arg2_171409, merge_sequential_arg2_171410);
                        bool y_171419 = i_p_m_t_s_leq_w_171416 && zzero_lte_i_171417;
                        bool y_171420 = zzero_leq_i_p_m_t_s_171415 && y_171419;
                        bool forwards_ok_171421 = i_lte_j_171418 && y_171420;
                        bool ok_or_empty_171422 = empty_slice_171412 || forwards_ok_171421;
                        bool index_certs_171423;
                        
                        if (!ok_or_empty_171422) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_171409, ":", (long long) merge_sequential_arg2_171410, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_171424 = sub64(defunc_0_f_res_171407, defunc_0_f_res_171400);
                        bool empty_slice_171425 = j_m_i_171424 == (int64_t) 0;
                        int64_t m_171426 = sub64(j_m_i_171424, (int64_t) 1);
                        int64_t i_p_m_t_s_171427 = add64(defunc_0_f_res_171400, m_171426);
                        bool zzero_leq_i_p_m_t_s_171428 = sle64((int64_t) 0, i_p_m_t_s_171427);
                        bool i_p_m_t_s_leq_w_171429 = slt64(i_p_m_t_s_171427, next_stride_171147);
                        bool zzero_lte_i_171430 = sle64((int64_t) 0, defunc_0_f_res_171400);
                        bool i_lte_j_171431 = sle64(defunc_0_f_res_171400, defunc_0_f_res_171407);
                        bool y_171432 = i_p_m_t_s_leq_w_171429 && zzero_lte_i_171430;
                        bool y_171433 = zzero_leq_i_p_m_t_s_171428 && y_171432;
                        bool forwards_ok_171434 = i_lte_j_171431 && y_171433;
                        bool ok_or_empty_171435 = empty_slice_171425 || forwards_ok_171434;
                        bool index_certs_171436;
                        
                        if (!ok_or_empty_171435) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_171400, ":", (long long) defunc_0_f_res_171407, "] out of bounds for array of shape [", (long long) next_stride_171147, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:156:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_171437 = slt64((int64_t) 0, j_m_i_171424);
                        int16_t dummy_171438;
                        int64_t dummy_171439;
                        
                        if (cond_171437) {
                            bool index_certs_177906;
                            
                            if (!cond_171437) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177907 = start_171219 + defunc_0_f_res_171400;
                            int16_t head_res_177908 = ((int16_t *) mem_param_180362.mem)[slice_177907];
                            int64_t head_res_177909 = ((int64_t *) mem_param_180365.mem)[slice_177907];
                            
                            dummy_171438 = head_res_177908;
                            dummy_171439 = head_res_177909;
                        } else {
                            bool y_171444 = slt64((int64_t) 0, j_m_i_171411);
                            bool index_certs_171445;
                            
                            if (!y_171444) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:156:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_171446 = start_171219 + merge_sequential_arg2_171409;
                            int16_t head_res_171447 = ((int16_t *) mem_param_180362.mem)[slice_171446];
                            int64_t head_res_171448 = ((int64_t *) mem_param_180365.mem)[slice_171446];
                            
                            dummy_171438 = head_res_171447;
                            dummy_171439 = head_res_171448;
                        }
                        for (int64_t nest_i_181741 = 0; nest_i_181741 < merge_block_sizze_171034; nest_i_181741++) {
                            ((int16_t *) mem_180398)[i_179968 * merge_block_sizze_171034 + nest_i_181741] = dummy_171438;
                        }
                        for (int64_t nest_i_181742 = 0; nest_i_181742 < merge_block_sizze_171034; nest_i_181742++) {
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + nest_i_181742] = dummy_171439;
                        }
                        
                        int64_t data_171451;
                        int64_t i_171455 = (int64_t) 0;
                        
                        for (int64_t k_171454 = 0; k_171454 < merge_block_sizze_171034; k_171454++) {
                            int64_t j_171458 = sub64(k_171454, i_171455);
                            bool cond_171459 = j_171458 == j_m_i_171411;
                            bool cond_171460;
                            
                            if (cond_171459) {
                                cond_171460 = 1;
                            } else {
                                bool cond_171461 = slt64(i_171455, j_m_i_171424);
                                bool cond_f_res_171462;
                                
                                if (cond_171461) {
                                    bool x_177910 = sle64((int64_t) 0, j_171458);
                                    bool y_177911 = slt64(j_171458, j_m_i_171411);
                                    bool bounds_check_177912 = x_177910 && y_177911;
                                    bool index_certs_177913;
                                    
                                    if (!bounds_check_177912) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_177917 = sle64((int64_t) 0, i_171455);
                                    bool bounds_check_177918 = cond_171461 && x_177917;
                                    bool index_certs_177919;
                                    
                                    if (!bounds_check_177918) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177914 = merge_sequential_arg2_171409 + j_171458;
                                    int64_t slice_177915 = start_171219 + slice_177914;
                                    int16_t leq_arg1_177916 = ((int16_t *) mem_param_180362.mem)[slice_177915];
                                    int64_t slice_177920 = defunc_0_f_res_171400 + i_171455;
                                    int64_t slice_177921 = start_171219 + slice_177920;
                                    int16_t leq_arg0_177922 = ((int16_t *) mem_param_180362.mem)[slice_177921];
                                    bool zlze_res_177923 = sle16(leq_arg0_177922, leq_arg1_177916);
                                    
                                    cond_f_res_171462 = zlze_res_177923;
                                } else {
                                    cond_f_res_171462 = 0;
                                }
                                cond_171460 = cond_f_res_171462;
                            }
                            
                            int64_t loopres_171477;
                            int16_t loopres_171478;
                            int64_t loopres_171479;
                            
                            if (cond_171460) {
                                bool x_177925 = sle64((int64_t) 0, i_171455);
                                bool y_177926 = slt64(i_171455, j_m_i_171424);
                                bool bounds_check_177927 = x_177925 && y_177926;
                                bool index_certs_177928;
                                
                                if (!bounds_check_177927) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171455, "] out of bounds for array of shape [", (long long) j_m_i_171424, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_177924 = add64((int64_t) 1, i_171455);
                                int64_t slice_177929 = defunc_0_f_res_171400 + i_171455;
                                int64_t slice_177930 = start_171219 + slice_177929;
                                int16_t tmp_177931 = ((int16_t *) mem_param_180362.mem)[slice_177930];
                                int64_t tmp_177932 = ((int64_t *) mem_param_180365.mem)[slice_177930];
                                
                                loopres_171477 = tmp_177924;
                                loopres_171478 = tmp_177931;
                                loopres_171479 = tmp_177932;
                            } else {
                                bool x_171489 = sle64((int64_t) 0, j_171458);
                                bool y_171490 = slt64(j_171458, j_m_i_171411);
                                bool bounds_check_171491 = x_171489 && y_171490;
                                bool index_certs_171492;
                                
                                if (!bounds_check_171491) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171458, "] out of bounds for array of shape [", (long long) j_m_i_171411, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:156:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_171493 = merge_sequential_arg2_171409 + j_171458;
                                int64_t slice_171494 = start_171219 + slice_171493;
                                int16_t tmp_171495 = ((int16_t *) mem_param_180362.mem)[slice_171494];
                                int64_t tmp_171496 = ((int64_t *) mem_param_180365.mem)[slice_171494];
                                
                                loopres_171477 = i_171455;
                                loopres_171478 = tmp_171495;
                                loopres_171479 = tmp_171496;
                            }
                            ((int16_t *) mem_180398)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171478;
                            ((int64_t *) mem_180401)[i_179968 * merge_block_sizze_171034 + k_171454] = loopres_171479;
                            
                            int64_t i_tmp_181743 = loopres_171477;
                            
                            i_171455 = i_tmp_181743;
                        }
                        data_171451 = i_171455;
                    }
                    if (memblock_alloc(ctx, &mem_180436, bytes_180397, "mem_180436")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_180436.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint16_t *) mem_180398, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_alloc(ctx, &mem_180440, bytes_180400, "mem_180440")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180440.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (uint64_t *) mem_180401, (int64_t) 0, (int64_t []) {merge_block_sizze_171034, (int64_t) 1}, (int64_t []) {num_blocks_171167, merge_block_sizze_171034});
                    if (memblock_set(ctx, &ext_mem_180463, &mem_180436, "mem_180436") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180460, &mem_180440, "mem_180440") != 0)
                        return 1;
                }
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180368, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180463.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180371, i_179975 * next_stride_171147, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180460.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171147});
                if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
                    return 1;
            }
            
            int64_t flat_dim_171503 = next_stride_171147 * num_merges_171151;
            
            if (memblock_alloc(ctx, &mem_180474, bytes_180367, "mem_180474")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_180474.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint16_t *) mem_180368, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            if (memblock_alloc(ctx, &mem_180478, bytes_180370, "mem_180478")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_180478.mem, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (uint64_t *) mem_180371, (int64_t) 0, (int64_t []) {next_stride_171147, (int64_t) 1}, (int64_t []) {num_merges_171151, next_stride_171147});
            
            bool loop_cond_171506 = slt64(next_stride_171147, flat_dim_171031);
            
            if (memblock_set(ctx, &mem_param_tmp_181717, &mem_180474, "mem_180474") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181718, &mem_180478, "mem_180478") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181719 = flat_dim_171503;
            bool loop_while_tmp_181720 = loop_cond_171506;
            int64_t stride_tmp_181723 = next_stride_171147;
            
            if (memblock_set(ctx, &mem_param_180362, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_180365, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
                return 1;
            loop_dz2084Uz2082U_171142 = loop_dz2084Uz2082U_tmp_181719;
            loop_while_171143 = loop_while_tmp_181720;
            stride_171146 = stride_tmp_181723;
        }
        if (memblock_set(ctx, &ext_mem_180485, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_180484, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        data_171137 = loop_dz2084Uz2082U_171142;
        data_171138 = loop_while_171143;
        data_171141 = stride_171146;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        
        bool empty_slice_171507 = n_98362 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_171508 = sle64((int64_t) 0, zs_lhs_171015);
        bool i_p_m_t_s_leq_w_171509 = slt64(zs_lhs_171015, data_171137);
        bool y_171510 = zzero_leq_i_p_m_t_s_171508 && i_p_m_t_s_leq_w_171509;
        bool ok_or_empty_171511 = empty_slice_171507 || y_171510;
        bool index_certs_171512;
        
        if (!ok_or_empty_171511) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_98362, "] out of bounds for array of shape [", (long long) data_171137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:156:54-57\n   #5  ftsort.fut:32:3-27\n   #6  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_180488, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_180490, bytes_180282, "mem_180490")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180492, bytes_180491, "mem_180492")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_179982 = 0; i_179982 < n_98362; i_179982++) {
        int64_t eta_p_171516 = ((int64_t *) ext_mem_180488.mem)[i_179982];
        bool x_171517 = sle64((int64_t) 0, eta_p_171516);
        bool y_171518 = slt64(eta_p_171516, n_98362);
        bool bounds_check_171519 = x_171517 && y_171518;
        bool index_certs_171520;
        
        if (!bounds_check_171519) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171516, "] out of bounds for array of shape [", (long long) n_98362, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:156:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171521 = ((int64_t *) ext_mem_180281.mem)[eta_p_171516];
        int16_t lifted_lambda_res_171522 = ((int16_t *) xs_mem_180280.mem)[eta_p_171516];
        
        ((int64_t *) mem_180490.mem)[i_179982] = lifted_lambda_res_171521;
        ((int16_t *) mem_180492.mem)[i_179982] = lifted_lambda_res_171522;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180490, "mem_180490") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180492, "mem_180492") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182011, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182012, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180286);
        free(mem_180289);
        free(mem_180299);
        free(mem_180301);
        free(mem_180368);
        free(mem_180371);
        free(mem_180381);
        free(mem_180383);
        free(mem_180398);
        free(mem_180401);
        if (memblock_unref(ctx, &mem_180492, "mem_180492") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180490, "mem_180490") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181718, "mem_param_tmp_181718") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181717, "mem_param_tmp_181717") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180478, "mem_180478") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180474, "mem_180474") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180440, "mem_180440") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180436, "mem_180436") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180445, "mem_180445") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180443, "mem_180443") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180460, "ext_mem_180460") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180463, "ext_mem_180463") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180365, "mem_param_180365") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180362, "mem_param_180362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180484, "ext_mem_180484") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180485, "ext_mem_180485") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180358, "mem_180358") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180354, "mem_180354") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180488, "ext_mem_180488") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180283, "mem_180283") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182023, struct memblock *mem_out_p_182024, struct memblock *mem_out_p_182025, int64_t *out_prim_out_182026, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_162524, int64_t nb_162525, int64_t window_sizze_162526, int64_t threads_162527, bool inParallel_162530)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180297_cached_sizze_182027 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182028 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180338_cached_sizze_182029 = 0;
    unsigned char *mem_180338 = NULL;
    int64_t mem_180341_cached_sizze_182030 = 0;
    unsigned char *mem_180341 = NULL;
    int64_t mem_180344_cached_sizze_182031 = 0;
    unsigned char *mem_180344 = NULL;
    int64_t mem_180357_cached_sizze_182032 = 0;
    unsigned char *mem_180357 = NULL;
    int64_t mem_180359_cached_sizze_182033 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180361_cached_sizze_182034 = 0;
    unsigned char *mem_180361 = NULL;
    int64_t mem_180458_cached_sizze_182035 = 0;
    unsigned char *mem_180458 = NULL;
    int64_t mem_180461_cached_sizze_182036 = 0;
    unsigned char *mem_180461 = NULL;
    int64_t mem_180464_cached_sizze_182037 = 0;
    unsigned char *mem_180464 = NULL;
    int64_t mem_180478_cached_sizze_182038 = 0;
    unsigned char *mem_180478 = NULL;
    int64_t mem_180480_cached_sizze_182039 = 0;
    unsigned char *mem_180480 = NULL;
    int64_t mem_180494_cached_sizze_182040 = 0;
    unsigned char *mem_180494 = NULL;
    int64_t mem_180497_cached_sizze_182041 = 0;
    unsigned char *mem_180497 = NULL;
    int64_t mem_180500_cached_sizze_182042 = 0;
    unsigned char *mem_180500 = NULL;
    int64_t mem_180642_cached_sizze_182043 = 0;
    unsigned char *mem_180642 = NULL;
    int64_t mem_180644_cached_sizze_182044 = 0;
    unsigned char *mem_180644 = NULL;
    int64_t mem_180659_cached_sizze_182045 = 0;
    unsigned char *mem_180659 = NULL;
    int64_t mem_180661_cached_sizze_182046 = 0;
    unsigned char *mem_180661 = NULL;
    int64_t mem_180664_cached_sizze_182047 = 0;
    unsigned char *mem_180664 = NULL;
    int64_t mem_180667_cached_sizze_182048 = 0;
    unsigned char *mem_180667 = NULL;
    int64_t mem_180701_cached_sizze_182049 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180704_cached_sizze_182050 = 0;
    unsigned char *mem_180704 = NULL;
    int64_t mem_180707_cached_sizze_182051 = 0;
    unsigned char *mem_180707 = NULL;
    int64_t mem_180720_cached_sizze_182052 = 0;
    unsigned char *mem_180720 = NULL;
    int64_t mem_180722_cached_sizze_182053 = 0;
    unsigned char *mem_180722 = NULL;
    int64_t mem_180724_cached_sizze_182054 = 0;
    unsigned char *mem_180724 = NULL;
    int64_t mem_180821_cached_sizze_182055 = 0;
    unsigned char *mem_180821 = NULL;
    int64_t mem_180824_cached_sizze_182056 = 0;
    unsigned char *mem_180824 = NULL;
    int64_t mem_180827_cached_sizze_182057 = 0;
    unsigned char *mem_180827 = NULL;
    int64_t mem_180841_cached_sizze_182058 = 0;
    unsigned char *mem_180841 = NULL;
    int64_t mem_180843_cached_sizze_182059 = 0;
    unsigned char *mem_180843 = NULL;
    int64_t mem_180857_cached_sizze_182060 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180860_cached_sizze_182061 = 0;
    unsigned char *mem_180860 = NULL;
    int64_t mem_180863_cached_sizze_182062 = 0;
    unsigned char *mem_180863 = NULL;
    int64_t mem_181080_cached_sizze_182063 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182064 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181086_cached_sizze_182065 = 0;
    unsigned char *mem_181086 = NULL;
    int64_t mem_181099_cached_sizze_182066 = 0;
    unsigned char *mem_181099 = NULL;
    int64_t mem_181101_cached_sizze_182067 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181103_cached_sizze_182068 = 0;
    unsigned char *mem_181103 = NULL;
    int64_t mem_181200_cached_sizze_182069 = 0;
    unsigned char *mem_181200 = NULL;
    int64_t mem_181203_cached_sizze_182070 = 0;
    unsigned char *mem_181203 = NULL;
    int64_t mem_181206_cached_sizze_182071 = 0;
    unsigned char *mem_181206 = NULL;
    int64_t mem_181220_cached_sizze_182072 = 0;
    unsigned char *mem_181220 = NULL;
    int64_t mem_181222_cached_sizze_182073 = 0;
    unsigned char *mem_181222 = NULL;
    int64_t mem_181236_cached_sizze_182074 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181239_cached_sizze_182075 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181242_cached_sizze_182076 = 0;
    unsigned char *mem_181242 = NULL;
    struct memblock mem_param_tmp_181923;
    
    mem_param_tmp_181923.references = NULL;
    
    struct memblock mem_param_tmp_181922;
    
    mem_param_tmp_181922.references = NULL;
    
    struct memblock mem_param_tmp_181921;
    
    mem_param_tmp_181921.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock mem_181350;
    
    mem_181350.references = NULL;
    
    struct memblock mem_181346;
    
    mem_181346.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181303;
    
    mem_181303.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock ext_mem_181326;
    
    ext_mem_181326.references = NULL;
    
    struct memblock ext_mem_181329;
    
    ext_mem_181329.references = NULL;
    
    struct memblock ext_mem_181332;
    
    ext_mem_181332.references = NULL;
    
    struct memblock mem_param_181198;
    
    mem_param_181198.references = NULL;
    
    struct memblock mem_param_181195;
    
    mem_param_181195.references = NULL;
    
    struct memblock mem_param_181192;
    
    mem_param_181192.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181364;
    
    ext_mem_181364.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181184;
    
    mem_181184.references = NULL;
    
    struct memblock mem_181180;
    
    mem_181180.references = NULL;
    
    struct memblock ext_mem_181367;
    
    ext_mem_181367.references = NULL;
    
    struct memblock ext_mem_181370;
    
    ext_mem_181370.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock mem_181078;
    
    mem_181078.references = NULL;
    
    struct memblock mem_181076;
    
    mem_181076.references = NULL;
    
    struct memblock mem_181074;
    
    mem_181074.references = NULL;
    
    struct memblock mem_param_tmp_181857;
    
    mem_param_tmp_181857.references = NULL;
    
    struct memblock mem_param_tmp_181856;
    
    mem_param_tmp_181856.references = NULL;
    
    struct memblock mem_param_tmp_181855;
    
    mem_param_tmp_181855.references = NULL;
    
    struct memblock mem_180612;
    
    mem_180612.references = NULL;
    
    struct memblock mem_180608;
    
    mem_180608.references = NULL;
    
    struct memblock mem_180604;
    
    mem_180604.references = NULL;
    
    struct memblock mem_180557;
    
    mem_180557.references = NULL;
    
    struct memblock mem_180553;
    
    mem_180553.references = NULL;
    
    struct memblock mem_180549;
    
    mem_180549.references = NULL;
    
    struct memblock mem_180563;
    
    mem_180563.references = NULL;
    
    struct memblock mem_180561;
    
    mem_180561.references = NULL;
    
    struct memblock mem_180559;
    
    mem_180559.references = NULL;
    
    struct memblock ext_mem_180584;
    
    ext_mem_180584.references = NULL;
    
    struct memblock ext_mem_180587;
    
    ext_mem_180587.references = NULL;
    
    struct memblock ext_mem_180590;
    
    ext_mem_180590.references = NULL;
    
    struct memblock mem_param_180456;
    
    mem_param_180456.references = NULL;
    
    struct memblock mem_param_180453;
    
    mem_param_180453.references = NULL;
    
    struct memblock mem_param_180450;
    
    mem_param_180450.references = NULL;
    
    struct memblock ext_mem_180620;
    
    ext_mem_180620.references = NULL;
    
    struct memblock ext_mem_180621;
    
    ext_mem_180621.references = NULL;
    
    struct memblock ext_mem_180622;
    
    ext_mem_180622.references = NULL;
    
    struct memblock mem_180446;
    
    mem_180446.references = NULL;
    
    struct memblock mem_180442;
    
    mem_180442.references = NULL;
    
    struct memblock mem_180438;
    
    mem_180438.references = NULL;
    
    struct memblock ext_mem_180625;
    
    ext_mem_180625.references = NULL;
    
    struct memblock ext_mem_180628;
    
    ext_mem_180628.references = NULL;
    
    struct memblock ext_mem_180631;
    
    ext_mem_180631.references = NULL;
    
    struct memblock mem_180336;
    
    mem_180336.references = NULL;
    
    struct memblock mem_180334;
    
    mem_180334.references = NULL;
    
    struct memblock mem_180332;
    
    mem_180332.references = NULL;
    
    struct memblock mem_180316;
    
    mem_180316.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180312;
    
    mem_180312.references = NULL;
    
    struct memblock mem_181023;
    
    mem_181023.references = NULL;
    
    struct memblock mem_181022;
    
    mem_181022.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_param_tmp_181763;
    
    mem_param_tmp_181763.references = NULL;
    
    struct memblock mem_param_tmp_181762;
    
    mem_param_tmp_181762.references = NULL;
    
    struct memblock mem_param_tmp_181761;
    
    mem_param_tmp_181761.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock mem_180971;
    
    mem_180971.references = NULL;
    
    struct memblock mem_180967;
    
    mem_180967.references = NULL;
    
    struct memblock mem_180920;
    
    mem_180920.references = NULL;
    
    struct memblock mem_180916;
    
    mem_180916.references = NULL;
    
    struct memblock mem_180912;
    
    mem_180912.references = NULL;
    
    struct memblock mem_180926;
    
    mem_180926.references = NULL;
    
    struct memblock mem_180924;
    
    mem_180924.references = NULL;
    
    struct memblock mem_180922;
    
    mem_180922.references = NULL;
    
    struct memblock ext_mem_180947;
    
    ext_mem_180947.references = NULL;
    
    struct memblock ext_mem_180950;
    
    ext_mem_180950.references = NULL;
    
    struct memblock ext_mem_180953;
    
    ext_mem_180953.references = NULL;
    
    struct memblock mem_param_180819;
    
    mem_param_180819.references = NULL;
    
    struct memblock mem_param_180816;
    
    mem_param_180816.references = NULL;
    
    struct memblock mem_param_180813;
    
    mem_param_180813.references = NULL;
    
    struct memblock ext_mem_180983;
    
    ext_mem_180983.references = NULL;
    
    struct memblock ext_mem_180984;
    
    ext_mem_180984.references = NULL;
    
    struct memblock ext_mem_180985;
    
    ext_mem_180985.references = NULL;
    
    struct memblock mem_180809;
    
    mem_180809.references = NULL;
    
    struct memblock mem_180805;
    
    mem_180805.references = NULL;
    
    struct memblock mem_180801;
    
    mem_180801.references = NULL;
    
    struct memblock ext_mem_180988;
    
    ext_mem_180988.references = NULL;
    
    struct memblock ext_mem_180991;
    
    ext_mem_180991.references = NULL;
    
    struct memblock ext_mem_180994;
    
    ext_mem_180994.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_180697;
    
    mem_180697.references = NULL;
    
    struct memblock mem_180695;
    
    mem_180695.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock ext_mem_181050;
    
    ext_mem_181050.references = NULL;
    
    struct memblock mem_180286;
    
    mem_180286.references = NULL;
    
    struct memblock mem_180284;
    
    mem_180284.references = NULL;
    
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t prim_out_181702;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769 = add64(na_162524, nb_162525);
    
    if (memblock_alloc(ctx, &mem_180282, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181703 = 0; nest_i_181703 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181703++) {
        ((int8_t *) mem_180282.mem)[nest_i_181703] = (int8_t) -1;
    }
    
    int64_t bytes_180283 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    
    if (memblock_alloc(ctx, &mem_180284, bytes_180283, "mem_180284")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181704 = 0; nest_i_181704 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181704++) {
        ((int64_t *) mem_180284.mem)[nest_i_181704] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_180286, bytes_180283, "mem_180286")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181705 = 0; nest_i_181705 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181705++) {
        ((double *) mem_180286.mem)[nest_i_181705] = 0.0;
    }
    
    int64_t zl_rhs_174773 = sub64(na_162524, window_sizze_162526);
    bool cond_174774 = slt64((int64_t) 0, zl_rhs_174773);
    int64_t zl_rhs_174775 = sub64(nb_162525, window_sizze_162526);
    bool loop_cond_t_res_174776 = slt64((int64_t) 0, zl_rhs_174775);
    bool x_174777 = cond_174774 && loop_cond_t_res_174776;
    bool empty_slice_174778 = window_sizze_162526 == (int64_t) 0;
    int64_t m_174779 = sub64(window_sizze_162526, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804 = add64((int64_t) 1, threads_162527);
    int64_t partitionFunc_arg0_175805 = mul64((int64_t) 2, threads_162527);
    bool y_175807 = slt64((int64_t) 0, window_sizze_162526);
    bool loop_cond_176053 = slt64((int64_t) 0, threads_162527);
    bool zzero_174824 = threads_162527 == (int64_t) 0;
    bool nonzzero_174825 = !zzero_174824;
    bool loop_not_taken_177582 = !inParallel_162530;
    bool protect_assert_disj_177583 = nonzzero_174825 || loop_not_taken_177582;
    bool loop_not_taken_177672 = !x_174777;
    bool protect_assert_disj_177673 = protect_assert_disj_177583 || loop_not_taken_177672;
    bool nonzzero_cert_174826;
    
    if (!protect_assert_disj_177673) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174827 = sdiv_safe64(window_sizze_162526, threads_162527);
    int64_t perThread_174828 = add64((int64_t) 1, zp_rhs_174827);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829 = mul64(threads_162527, perThread_174828);
    bool protect_assert_disj_177719 = inParallel_162530 || y_175807;
    bool protect_assert_disj_177723 = loop_not_taken_177672 || protect_assert_disj_177719;
    bool index_certs_175808;
    
    if (!protect_assert_disj_177723) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175823 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, (int64_t) 1);
    bool y_176780 = slt64(threads_162527, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
    bool protect_assert_disj_177688 = y_175807 || loop_not_taken_177582;
    bool protect_assert_disj_177727 = loop_not_taken_177672 || protect_assert_disj_177688;
    bool index_certs_174832;
    
    if (!protect_assert_disj_177727) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175825 = !bounds_invalid_upwards_175823;
    bool protect_assert_disj_177735 = inParallel_162530 || y_176780;
    bool protect_assert_disj_177737 = loop_not_taken_177672 || protect_assert_disj_177735;
    bool index_certs_176782;
    
    if (!protect_assert_disj_177737) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_162527, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177731 = y_176780 || loop_not_taken_177582;
    bool protect_assert_disj_177739 = loop_not_taken_177672 || protect_assert_disj_177731;
    bool index_certs_175786;
    
    if (!protect_assert_disj_177739) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_162527, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177747 = inParallel_162530 || valid_175825;
    bool protect_assert_disj_177749 = loop_not_taken_177672 || protect_assert_disj_177747;
    bool range_valid_c_175826;
    
    if (!protect_assert_disj_177749) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177591 = sle64((int64_t) 1, threads_162527);
    bool protect_assert_disj_177743 = valid_175825 || loop_not_taken_177582;
    bool protect_assert_disj_177751 = loop_not_taken_177672 || protect_assert_disj_177743;
    bool range_valid_c_174839;
    
    if (!protect_assert_disj_177751) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175828 = add64(window_sizze_162526, window_sizze_162526);
    bool zzero_175829 = partitionFunc_arg0_175805 == (int64_t) 0;
    int64_t index_concat_i_177592 = sub64(threads_162527, (int64_t) 1);
    bool nonzzero_175830 = !zzero_175829;
    bool protect_assert_disj_177759 = inParallel_162530 || nonzzero_175830;
    bool protect_assert_disj_177765 = loop_not_taken_177672 || protect_assert_disj_177759;
    bool nonzzero_cert_175831;
    
    if (!protect_assert_disj_177765) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177755 = nonzzero_175830 || loop_not_taken_177582;
    bool protect_assert_disj_177771 = loop_not_taken_177672 || protect_assert_disj_177755;
    bool nonzzero_cert_174844;
    
    if (!protect_assert_disj_177771) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180296 = (int64_t) 8 * threads_162527;
    int64_t bytes_180313 = (int64_t) 8 * window_sizze_162526;
    int64_t bytes_180658 = perThread_174828 * bytes_180296;
    bool defunc_0_merge_pipeline_res_174780;
    int64_t defunc_0_merge_pipeline_res_174784;
    int64_t defunc_0_merge_pipeline_res_174785;
    bool loop_while_174786;
    int64_t p_174790;
    int64_t p_174791;
    
    loop_while_174786 = x_174777;
    p_174790 = (int64_t) 0;
    p_174791 = (int64_t) 0;
    while (loop_while_174786) {
        int64_t ubs_174792 = add64(window_sizze_162526, p_174790);
        int64_t ubs_174793 = add64(window_sizze_162526, p_174791);
        int64_t ind_bottom_174794 = add64(p_174790, p_174791);
        int64_t ind_top_174795 = add64(window_sizze_162526, ind_bottom_174794);
        int64_t i_p_m_t_s_174796 = add64(m_174779, p_174790);
        bool zzero_leq_i_p_m_t_s_174797 = sle64((int64_t) 0, i_p_m_t_s_174796);
        bool i_p_m_t_s_leq_w_174798 = slt64(i_p_m_t_s_174796, na_162524);
        bool zzero_lte_i_174799 = sle64((int64_t) 0, p_174790);
        bool i_lte_j_174800 = sle64(p_174790, ubs_174792);
        bool y_174801 = i_p_m_t_s_leq_w_174798 && zzero_lte_i_174799;
        bool y_174802 = zzero_leq_i_p_m_t_s_174797 && y_174801;
        bool forwards_ok_174803 = i_lte_j_174800 && y_174802;
        bool ok_or_empty_174804 = empty_slice_174778 || forwards_ok_174803;
        bool index_certs_174805;
        
        if (!ok_or_empty_174804) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174790, ":", (long long) ubs_174792, "] out of bounds for array of shape [", (long long) na_162524, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174807 = add64(m_174779, p_174791);
        bool zzero_leq_i_p_m_t_s_174808 = sle64((int64_t) 0, i_p_m_t_s_174807);
        bool i_p_m_t_s_leq_w_174809 = slt64(i_p_m_t_s_174807, nb_162525);
        bool zzero_lte_i_174810 = sle64((int64_t) 0, p_174791);
        bool i_lte_j_174811 = sle64(p_174791, ubs_174793);
        bool y_174812 = i_p_m_t_s_leq_w_174809 && zzero_lte_i_174810;
        bool y_174813 = zzero_leq_i_p_m_t_s_174808 && y_174812;
        bool forwards_ok_174814 = i_lte_j_174811 && y_174813;
        bool ok_or_empty_174815 = empty_slice_174778 || forwards_ok_174814;
        bool index_certs_174816;
        
        if (!ok_or_empty_174815) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174791, ":", (long long) ubs_174793, "] out of bounds for array of shape [", (long long) nb_162525, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176794 = add64(m_174779, ind_bottom_174794);
        bool zzero_leq_i_p_m_t_s_176795 = sle64((int64_t) 0, i_p_m_t_s_176794);
        bool i_p_m_t_s_leq_w_176796 = slt64(i_p_m_t_s_176794, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
        bool zzero_lte_i_176797 = sle64((int64_t) 0, ind_bottom_174794);
        bool i_lte_j_176798 = sle64(ind_bottom_174794, ind_top_174795);
        bool y_176799 = i_p_m_t_s_leq_w_176796 && zzero_lte_i_176797;
        bool y_176800 = zzero_leq_i_p_m_t_s_176795 && y_176799;
        bool forwards_ok_176801 = i_lte_j_176798 && y_176800;
        bool ok_or_empty_176802 = empty_slice_174778 || forwards_ok_176801;
        bool index_certs_176803;
        
        if (!ok_or_empty_176802) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174794, ":", (long long) ind_top_174795, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174818;
        int64_t loopres_174819;
        
        if (inParallel_162530) {
            double leq_lhs_178252 = ((double *) a_list_mem_180280.mem)[p_174790];
            double leq_rhs_178253 = ((double *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_178254 = leq_lhs_178252 <= leq_rhs_178253;
            double lowest_178255;
            
            if (defunc_0_leq_res_178254) {
                lowest_178255 = leq_lhs_178252;
            } else {
                lowest_178255 = leq_rhs_178253;
            }
            if (mem_180642_cached_sizze_182043 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180642, &mem_180642_cached_sizze_182043, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180644_cached_sizze_182044 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180644, &mem_180644_cached_sizze_182044, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179944 = 0; i_179944 < threads_162527; i_179944++) {
                int64_t index_primexp_180216 = add64((int64_t) 1, i_179944);
                int64_t zs_lhs_178260 = mul64(zt_rhs_175828, index_primexp_180216);
                int64_t index_178261 = sdiv64(zs_lhs_178260, partitionFunc_arg0_175805);
                bool cond_178262 = slt64(window_sizze_162526, index_178261);
                int64_t loop_over_178263;
                
                if (cond_178262) {
                    loop_over_178263 = window_sizze_162526;
                } else {
                    loop_over_178263 = index_178261;
                }
                
                int64_t loop_over_178264;
                
                if (cond_178262) {
                    int64_t loop_over_t_res_178265 = sub64(index_178261, window_sizze_162526);
                    
                    loop_over_178264 = loop_over_t_res_178265;
                } else {
                    loop_over_178264 = (int64_t) 0;
                }
                
                int64_t loop_over_178266;
                
                if (cond_178262) {
                    int64_t zm_lhs_178267 = sub64(index_178261, window_sizze_162526);
                    int64_t loop_over_t_res_178268 = sub64(zm_lhs_178267, (int64_t) 1);
                    
                    loop_over_178266 = loop_over_t_res_178268;
                } else {
                    loop_over_178266 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178269;
                int64_t defunc_0_f_res_178270;
                int64_t defunc_0_f_res_178271;
                int64_t defunc_0_f_res_178272;
                bool loop_while_178273;
                int64_t p_178274;
                int64_t p_178275;
                int64_t p_178276;
                
                loop_while_178273 = 1;
                p_178274 = loop_over_178266;
                p_178275 = loop_over_178263;
                p_178276 = loop_over_178264;
                while (loop_while_178273) {
                    int64_t zs_lhs_178277 = sub64(p_178275, p_178274);
                    int64_t offset_178278 = sdiv64(zs_lhs_178277, (int64_t) 2);
                    int64_t ai_178279 = sub64(p_178275, offset_178278);
                    int64_t max_arg1_178280 = add64(p_178276, offset_178278);
                    int64_t max_res_178281 = smax64((int64_t) 0, max_arg1_178280);
                    bool cond_178282 = slt64((int64_t) 0, max_res_178281);
                    double b_prev_178283;
                    
                    if (cond_178282) {
                        int64_t tmp_178284 = sub64(max_res_178281, (int64_t) 1);
                        bool x_178285 = sle64((int64_t) 0, tmp_178284);
                        bool y_178286 = slt64(tmp_178284, window_sizze_162526);
                        bool bounds_check_178287 = x_178285 && y_178286;
                        bool index_certs_178288;
                        
                        if (!bounds_check_178287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178284, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178289 = p_174791 + tmp_178284;
                        double b_prev_t_res_178290 = ((double *) b_list_mem_180281.mem)[slice_178289];
                        
                        b_prev_178283 = b_prev_t_res_178290;
                    } else {
                        b_prev_178283 = lowest_178255;
                    }
                    
                    bool cond_178291 = sle64(ai_178279, (int64_t) 0);
                    int64_t loopres_178292;
                    int64_t loopres_178293;
                    int64_t loopres_178294;
                    bool loopres_178295;
                    
                    if (cond_178291) {
                        loopres_178292 = p_178274;
                        loopres_178293 = (int64_t) 0;
                        loopres_178294 = max_res_178281;
                        loopres_178295 = 0;
                    } else {
                        bool cond_178296 = sle64(window_sizze_162526, max_res_178281);
                        int64_t loopres_f_res_178297;
                        int64_t loopres_f_res_178298;
                        int64_t loopres_f_res_178299;
                        bool loopres_f_res_178300;
                        
                        if (cond_178296) {
                            int64_t min_res_178302 = smin64(m_174779, ai_178279);
                            bool x_178303 = sle64((int64_t) 0, m_174779);
                            bool y_178304 = slt64(m_174779, window_sizze_162526);
                            bool bounds_check_178305 = x_178303 && y_178304;
                            bool index_certs_178306;
                            
                            if (!bounds_check_178305) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178309 = sle64((int64_t) 0, min_res_178302);
                            bool y_178310 = slt64(min_res_178302, window_sizze_162526);
                            bool bounds_check_178311 = x_178309 && y_178310;
                            bool index_certs_178312;
                            
                            if (!bounds_check_178311) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178302, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_178308 = ((double *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_178313 = p_174790 + min_res_178302;
                            double leq_rhs_178314 = ((double *) a_list_mem_180280.mem)[slice_178313];
                            bool defunc_0_leq_res_178315 = leq_lhs_178308 <= leq_rhs_178314;
                            int64_t loopres_f_res_t_res_178316;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178316 = ai_178279;
                            } else {
                                loopres_f_res_t_res_178316 = p_178275;
                            }
                            
                            bool x_178317 = !defunc_0_leq_res_178315;
                            int64_t loopres_f_res_t_res_178318;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178318 = window_sizze_162526;
                            } else {
                                int64_t tmp_178319 = sub64(m_174779, offset_178278);
                                
                                loopres_f_res_t_res_178318 = tmp_178319;
                            }
                            loopres_f_res_178297 = p_178274;
                            loopres_f_res_178298 = loopres_f_res_t_res_178316;
                            loopres_f_res_178299 = loopres_f_res_t_res_178318;
                            loopres_f_res_178300 = x_178317;
                        } else {
                            bool cond_178320 = sle64(window_sizze_162526, ai_178279);
                            int64_t loopres_f_res_f_res_178321;
                            int64_t loopres_f_res_f_res_178322;
                            int64_t loopres_f_res_f_res_178323;
                            bool loopres_f_res_f_res_178324;
                            
                            if (cond_178320) {
                                int64_t min_res_178326 = smin64(m_174779, max_res_178281);
                                bool x_178327 = sle64((int64_t) 0, m_174779);
                                bool y_178328 = slt64(m_174779, window_sizze_162526);
                                bool bounds_check_178329 = x_178327 && y_178328;
                                bool index_certs_178330;
                                
                                if (!bounds_check_178329) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178333 = sle64((int64_t) 0, min_res_178326);
                                bool y_178334 = slt64(min_res_178326, window_sizze_162526);
                                bool bounds_check_178335 = x_178333 && y_178334;
                                bool index_certs_178336;
                                
                                if (!bounds_check_178335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178326, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_178332 = ((double *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_178337 = p_174791 + min_res_178326;
                                double leq_rhs_178338 = ((double *) b_list_mem_180281.mem)[slice_178337];
                                bool defunc_0_leq_res_178339 = leq_lhs_178332 <= leq_rhs_178338;
                                int64_t loopres_f_res_f_res_t_res_178340;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178340 = max_res_178281;
                                } else {
                                    loopres_f_res_f_res_t_res_178340 = p_178276;
                                }
                                
                                bool x_178341 = !defunc_0_leq_res_178339;
                                int64_t loopres_f_res_f_res_t_res_178342;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178342 = window_sizze_162526;
                                } else {
                                    loopres_f_res_f_res_t_res_178342 = m_174779;
                                }
                                loopres_f_res_f_res_178321 = p_178274;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_t_res_178342;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_t_res_178340;
                                loopres_f_res_f_res_178324 = x_178341;
                            } else {
                                bool cond_178343 = sle64(p_178275, p_178274);
                                int64_t loopres_f_res_f_res_f_res_178344;
                                int64_t loopres_f_res_f_res_f_res_178345;
                                int64_t loopres_f_res_f_res_f_res_178346;
                                bool loopres_f_res_f_res_f_res_178347;
                                
                                if (cond_178343) {
                                    bool cond_178348 = slt64(ai_178279, window_sizze_162526);
                                    int64_t ai_178349;
                                    
                                    if (cond_178348) {
                                        ai_178349 = ai_178279;
                                    } else {
                                        ai_178349 = m_174779;
                                    }
                                    
                                    bool x_178362 = sle64((int64_t) 0, ai_178349);
                                    bool y_178363 = slt64(ai_178349, window_sizze_162526);
                                    bool bounds_check_178364 = x_178362 && y_178363;
                                    bool index_certs_178365;
                                    
                                    if (!bounds_check_178364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178349, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_178351;
                                    
                                    if (cond_178282) {
                                        int64_t tmp_178352 = sub64(max_res_178281, (int64_t) 1);
                                        bool x_178353 = sle64((int64_t) 0, tmp_178352);
                                        bool y_178354 = slt64(tmp_178352, window_sizze_162526);
                                        bool bounds_check_178355 = x_178353 && y_178354;
                                        bool index_certs_178356;
                                        
                                        if (!bounds_check_178355) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178352, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178357 = p_174791 + tmp_178352;
                                        double b_prev_t_res_178358 = ((double *) b_list_mem_180281.mem)[slice_178357];
                                        
                                        b_prev_178351 = b_prev_t_res_178358;
                                    } else {
                                        bool index_certs_178360;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178351 = leq_rhs_178253;
                                    }
                                    
                                    int64_t slice_178366 = p_174790 + ai_178349;
                                    double gt_lhs_178367 = ((double *) a_list_mem_180280.mem)[slice_178366];
                                    bool defunc_0_gt_res_178368 = b_prev_178351 < gt_lhs_178367;
                                    int64_t defunc_0_partFunc_sequential_search_res_178369;
                                    int64_t defunc_0_partFunc_sequential_search_res_178370;
                                    
                                    if (defunc_0_gt_res_178368) {
                                        int64_t zl_rhs_178371 = sub64(window_sizze_162526, max_res_178281);
                                        bool loop_cond_178372 = slt64((int64_t) 0, zl_rhs_178371);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178373;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178375;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178376;
                                        bool loop_while_178377;
                                        int64_t p_178378;
                                        int64_t p_178379;
                                        int64_t p_178380;
                                        
                                        loop_while_178377 = loop_cond_178372;
                                        p_178378 = ai_178349;
                                        p_178379 = max_res_178281;
                                        p_178380 = (int64_t) 0;
                                        while (loop_while_178377) {
                                            int64_t i_a_178381 = sub64(ai_178349, p_178380);
                                            int64_t i_b_178382 = add64(max_res_178281, p_178380);
                                            int64_t leq_lhs_178383 = sub64(i_a_178381, (int64_t) 1);
                                            bool x_178384 = sle64((int64_t) 0, leq_lhs_178383);
                                            bool y_178385 = slt64(leq_lhs_178383, window_sizze_162526);
                                            bool bounds_check_178386 = x_178384 && y_178385;
                                            bool index_certs_178387;
                                            
                                            if (!bounds_check_178386) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178383, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178390 = sle64((int64_t) 0, i_b_178382);
                                            bool y_178391 = slt64(i_b_178382, window_sizze_162526);
                                            bool bounds_check_178392 = x_178390 && y_178391;
                                            bool index_certs_178393;
                                            
                                            if (!bounds_check_178392) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178382, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178388 = p_174790 + leq_lhs_178383;
                                            double leq_lhs_178389 = ((double *) a_list_mem_180280.mem)[slice_178388];
                                            int64_t slice_178394 = p_174791 + i_b_178382;
                                            double leq_rhs_178395 = ((double *) b_list_mem_180281.mem)[slice_178394];
                                            bool defunc_0_leq_res_178396 = leq_lhs_178389 <= leq_rhs_178395;
                                            int64_t loopres_178397;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178397 = i_a_178381;
                                            } else {
                                                loopres_178397 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178398;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178398 = i_b_178382;
                                            } else {
                                                loopres_178398 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178399;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178399 = zl_rhs_178371;
                                            } else {
                                                int64_t tmp_178400 = add64((int64_t) 1, p_178380);
                                                
                                                loopres_178399 = tmp_178400;
                                            }
                                            
                                            bool loop_cond_178401 = slt64(loopres_178399, zl_rhs_178371);
                                            bool loop_while_tmp_181718 = loop_cond_178401;
                                            int64_t p_tmp_181719 = loopres_178397;
                                            int64_t p_tmp_181720 = loopres_178398;
                                            int64_t p_tmp_181721 = loopres_178399;
                                            
                                            loop_while_178377 = loop_while_tmp_181718;
                                            p_178378 = p_tmp_181719;
                                            p_178379 = p_tmp_181720;
                                            p_178380 = p_tmp_181721;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178373 = loop_while_178377;
                                        defunc_0_partFunc_sequential_search_res_t_res_178374 = p_178378;
                                        defunc_0_partFunc_sequential_search_res_t_res_178375 = p_178379;
                                        defunc_0_partFunc_sequential_search_res_t_res_178376 = p_178380;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_t_res_178375;
                                    } else {
                                        int64_t zl_rhs_178402 = sub64(max_res_178281, (int64_t) 1);
                                        bool loop_cond_178403 = slt64((int64_t) 0, zl_rhs_178402);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178404;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178406;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178407;
                                        bool loop_while_178408;
                                        int64_t p_178409;
                                        int64_t p_178410;
                                        int64_t p_178411;
                                        
                                        loop_while_178408 = loop_cond_178403;
                                        p_178409 = ai_178349;
                                        p_178410 = max_res_178281;
                                        p_178411 = (int64_t) 0;
                                        while (loop_while_178408) {
                                            int64_t zp_lhs_178412 = add64(ai_178349, p_178411);
                                            int64_t hi_a_178413 = add64((int64_t) 1, zp_lhs_178412);
                                            bool cond_178414 = slt64(hi_a_178413, window_sizze_162526);
                                            int64_t i_a_178415;
                                            
                                            if (cond_178414) {
                                                i_a_178415 = hi_a_178413;
                                            } else {
                                                i_a_178415 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_178417 = sub64(max_res_178281, p_178411);
                                            int64_t i_b_178418 = sub64(zm_lhs_178417, (int64_t) 1);
                                            bool x_178419 = sle64((int64_t) 0, i_a_178415);
                                            bool y_178420 = slt64(i_a_178415, window_sizze_162526);
                                            bool bounds_check_178421 = x_178419 && y_178420;
                                            bool index_certs_178422;
                                            
                                            if (!bounds_check_178421) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178415, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178425 = sle64((int64_t) 0, i_b_178418);
                                            bool y_178426 = slt64(i_b_178418, window_sizze_162526);
                                            bool bounds_check_178427 = x_178425 && y_178426;
                                            bool index_certs_178428;
                                            
                                            if (!bounds_check_178427) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178418, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178423 = p_174790 + i_a_178415;
                                            double gt_lhs_178424 = ((double *) a_list_mem_180280.mem)[slice_178423];
                                            int64_t slice_178429 = p_174791 + i_b_178418;
                                            double gt_rhs_178430 = ((double *) b_list_mem_180281.mem)[slice_178429];
                                            bool defunc_0_gt_res_178431 = gt_rhs_178430 < gt_lhs_178424;
                                            int64_t loopres_178432;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178432 = i_a_178415;
                                            } else {
                                                loopres_178432 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178433;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178433 = zm_lhs_178417;
                                            } else {
                                                loopres_178433 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178434;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178434 = zl_rhs_178402;
                                            } else {
                                                int64_t tmp_178435 = add64((int64_t) 1, p_178411);
                                                
                                                loopres_178434 = tmp_178435;
                                            }
                                            
                                            bool loop_cond_178436 = slt64(loopres_178434, zl_rhs_178402);
                                            bool loop_while_tmp_181722 = loop_cond_178436;
                                            int64_t p_tmp_181723 = loopres_178432;
                                            int64_t p_tmp_181724 = loopres_178433;
                                            int64_t p_tmp_181725 = loopres_178434;
                                            
                                            loop_while_178408 = loop_while_tmp_181722;
                                            p_178409 = p_tmp_181723;
                                            p_178410 = p_tmp_181724;
                                            p_178411 = p_tmp_181725;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178404 = loop_while_178408;
                                        defunc_0_partFunc_sequential_search_res_f_res_178405 = p_178409;
                                        defunc_0_partFunc_sequential_search_res_f_res_178406 = p_178410;
                                        defunc_0_partFunc_sequential_search_res_f_res_178407 = p_178411;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_f_res_178406;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = p_178274;
                                    loopres_f_res_f_res_f_res_178345 = defunc_0_partFunc_sequential_search_res_178369;
                                    loopres_f_res_f_res_f_res_178346 = defunc_0_partFunc_sequential_search_res_178370;
                                    loopres_f_res_f_res_f_res_178347 = 0;
                                } else {
                                    bool x_178437 = sle64((int64_t) 0, ai_178279);
                                    bool y_178438 = slt64(ai_178279, window_sizze_162526);
                                    bool bounds_check_178439 = x_178437 && y_178438;
                                    bool index_certs_178440;
                                    
                                    if (!bounds_check_178439) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178279, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178441 = p_174790 + ai_178279;
                                    double gt_lhs_178442 = ((double *) a_list_mem_180280.mem)[slice_178441];
                                    bool defunc_0_gt_res_178443 = b_prev_178283 < gt_lhs_178442;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178444;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178445;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178446;
                                    bool loopres_f_res_f_res_f_res_f_res_178447;
                                    
                                    if (defunc_0_gt_res_178443) {
                                        int64_t leq_lhs_178448 = sub64(ai_178279, (int64_t) 1);
                                        bool x_178449 = sle64((int64_t) 0, leq_lhs_178448);
                                        bool y_178450 = slt64(leq_lhs_178448, window_sizze_162526);
                                        bool bounds_check_178451 = x_178449 && y_178450;
                                        bool index_certs_178452;
                                        
                                        if (!bounds_check_178451) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178448, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178455 = sle64((int64_t) 0, max_res_178281);
                                        bool y_178456 = slt64(max_res_178281, window_sizze_162526);
                                        bool bounds_check_178457 = x_178455 && y_178456;
                                        bool index_certs_178458;
                                        
                                        if (!bounds_check_178457) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178281, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178453 = p_174790 + leq_lhs_178448;
                                        double leq_lhs_178454 = ((double *) a_list_mem_180280.mem)[slice_178453];
                                        int64_t slice_178459 = p_174791 + max_res_178281;
                                        double leq_rhs_178460 = ((double *) b_list_mem_180281.mem)[slice_178459];
                                        bool defunc_0_leq_res_178461 = leq_lhs_178454 <= leq_rhs_178460;
                                        bool x_178462 = !defunc_0_leq_res_178461;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = ai_178279;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = leq_lhs_178448;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = max_res_178281;
                                        } else {
                                            int64_t tmp_178465 = add64((int64_t) 1, max_res_178281);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = tmp_178465;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178444 = p_178274;
                                        loopres_f_res_f_res_f_res_f_res_178445 = loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        loopres_f_res_f_res_f_res_f_res_178446 = loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        loopres_f_res_f_res_f_res_f_res_178447 = x_178462;
                                    } else {
                                        int64_t tmp_178466 = add64((int64_t) 1, ai_178279);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178444 = tmp_178466;
                                        loopres_f_res_f_res_f_res_f_res_178445 = p_178275;
                                        loopres_f_res_f_res_f_res_f_res_178446 = p_178276;
                                        loopres_f_res_f_res_f_res_f_res_178447 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = loopres_f_res_f_res_f_res_f_res_178444;
                                    loopres_f_res_f_res_f_res_178345 = loopres_f_res_f_res_f_res_f_res_178445;
                                    loopres_f_res_f_res_f_res_178346 = loopres_f_res_f_res_f_res_f_res_178446;
                                    loopres_f_res_f_res_f_res_178347 = loopres_f_res_f_res_f_res_f_res_178447;
                                }
                                loopres_f_res_f_res_178321 = loopres_f_res_f_res_f_res_178344;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_f_res_178345;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_f_res_178346;
                                loopres_f_res_f_res_178324 = loopres_f_res_f_res_f_res_178347;
                            }
                            loopres_f_res_178297 = loopres_f_res_f_res_178321;
                            loopres_f_res_178298 = loopres_f_res_f_res_178322;
                            loopres_f_res_178299 = loopres_f_res_f_res_178323;
                            loopres_f_res_178300 = loopres_f_res_f_res_178324;
                        }
                        loopres_178292 = loopres_f_res_178297;
                        loopres_178293 = loopres_f_res_178298;
                        loopres_178294 = loopres_f_res_178299;
                        loopres_178295 = loopres_f_res_178300;
                    }
                    
                    bool loop_while_tmp_181714 = loopres_178295;
                    int64_t p_tmp_181715 = loopres_178292;
                    int64_t p_tmp_181716 = loopres_178293;
                    int64_t p_tmp_181717 = loopres_178294;
                    
                    loop_while_178273 = loop_while_tmp_181714;
                    p_178274 = p_tmp_181715;
                    p_178275 = p_tmp_181716;
                    p_178276 = p_tmp_181717;
                }
                defunc_0_f_res_178269 = loop_while_178273;
                defunc_0_f_res_178270 = p_178274;
                defunc_0_f_res_178271 = p_178275;
                defunc_0_f_res_178272 = p_178276;
                ((int64_t *) mem_180642)[i_179944] = defunc_0_f_res_178271;
                ((int64_t *) mem_180644)[i_179944] = defunc_0_f_res_178272;
            }
            if (mem_180659_cached_sizze_182045 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180659, &mem_180659_cached_sizze_182045, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180661_cached_sizze_182046 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829) {
                err = lexical_realloc(ctx, &mem_180661, &mem_180661_cached_sizze_182046, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180664_cached_sizze_182047 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180664, &mem_180664_cached_sizze_182047, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180667_cached_sizze_182048 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180667, &mem_180667_cached_sizze_182048, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180010 = 0; i_180010 < threads_162527; i_180010++) {
                bool y_178480 = slt64(i_180010, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool index_certs_178482;
                
                if (!y_178480) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180010, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178483 = sle64((int64_t) 1, i_180010);
                int64_t index_concat_i_178484 = sub64(i_180010, (int64_t) 1);
                int64_t index_concat_178485;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178486 = ((int64_t *) mem_180642)[index_concat_i_178484];
                    
                    index_concat_178485 = x_178486;
                } else {
                    index_concat_178485 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178487;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178487 = index_concat_178485;
                } else {
                    index_concat_branch_178487 = (int64_t) 0;
                }
                
                int64_t index_concat_178488;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178489 = ((int64_t *) mem_180644)[index_concat_i_178484];
                    
                    index_concat_178488 = x_178489;
                } else {
                    index_concat_178488 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178490;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178490 = index_concat_178488;
                } else {
                    index_concat_branch_178490 = (int64_t) 0;
                }
                
                int64_t ubs_178491 = add64((int64_t) 1, i_180010);
                bool x_178492 = sle64((int64_t) 0, ubs_178491);
                bool y_178493 = slt64(ubs_178491, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_178494 = x_178492 && y_178493;
                bool index_certs_178495;
                
                if (!bounds_check_178494) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178491, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178496 = sle64((int64_t) 1, ubs_178491);
                int64_t index_concat_178497;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178498 = ((int64_t *) mem_180642)[i_180010];
                    
                    index_concat_178497 = x_178498;
                } else {
                    index_concat_178497 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178499;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178499 = index_concat_178497;
                } else {
                    index_concat_branch_178499 = (int64_t) 0;
                }
                
                int64_t index_concat_178500;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178501 = ((int64_t *) mem_180644)[i_180010];
                    
                    index_concat_178500 = x_178501;
                } else {
                    index_concat_178500 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178502;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178502 = index_concat_178500;
                } else {
                    index_concat_branch_178502 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 = sub64(index_concat_branch_178502, index_concat_branch_178490);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 = sub64(index_concat_branch_178499, index_concat_branch_178487);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t zm_lhs_178506 = add64(index_concat_branch_178499, index_concat_branch_178502);
                int64_t zm_rhs_178507 = add64(index_concat_branch_178487, index_concat_branch_178490);
                int64_t card_178508 = sub64(zm_lhs_178506, zm_rhs_178507);
                bool empty_slice_178509 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 == (int64_t) 0;
                int64_t m_178510 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 1);
                int64_t i_p_m_t_s_178511 = add64(index_concat_branch_178487, m_178510);
                bool zzero_leq_i_p_m_t_s_178512 = sle64((int64_t) 0, i_p_m_t_s_178511);
                bool i_p_m_t_s_leq_w_178513 = slt64(i_p_m_t_s_178511, window_sizze_162526);
                bool zzero_lte_i_178514 = sle64((int64_t) 0, index_concat_branch_178487);
                bool i_lte_j_178515 = sle64(index_concat_branch_178487, index_concat_branch_178499);
                bool y_178516 = i_p_m_t_s_leq_w_178513 && zzero_lte_i_178514;
                bool y_178517 = zzero_leq_i_p_m_t_s_178512 && y_178516;
                bool forwards_ok_178518 = i_lte_j_178515 && y_178517;
                bool ok_or_empty_178519 = empty_slice_178509 || forwards_ok_178518;
                bool index_certs_178520;
                
                if (!ok_or_empty_178519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178487, ":", (long long) index_concat_branch_178499, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178521 = slt64(index_concat_branch_178499, index_concat_branch_178487);
                bool valid_178522 = !bounds_invalid_upwards_178521;
                bool range_valid_c_178523;
                
                if (!valid_178522) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178487, "..<", (long long) index_concat_branch_178499, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178528 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 == (int64_t) 0;
                int64_t m_178529 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, (int64_t) 1);
                int64_t i_p_m_t_s_178530 = add64(index_concat_branch_178490, m_178529);
                bool zzero_leq_i_p_m_t_s_178531 = sle64((int64_t) 0, i_p_m_t_s_178530);
                bool i_p_m_t_s_leq_w_178532 = slt64(i_p_m_t_s_178530, window_sizze_162526);
                bool zzero_lte_i_178533 = sle64((int64_t) 0, index_concat_branch_178490);
                bool i_lte_j_178534 = sle64(index_concat_branch_178490, index_concat_branch_178502);
                bool y_178535 = i_p_m_t_s_leq_w_178532 && zzero_lte_i_178533;
                bool y_178536 = zzero_leq_i_p_m_t_s_178531 && y_178535;
                bool forwards_ok_178537 = i_lte_j_178534 && y_178536;
                bool ok_or_empty_178538 = empty_slice_178528 || forwards_ok_178537;
                bool index_certs_178539;
                
                if (!ok_or_empty_178538) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178490, ":", (long long) index_concat_branch_178502, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178540 = slt64(index_concat_branch_178502, index_concat_branch_178490);
                bool valid_178541 = !bounds_invalid_upwards_178540;
                bool range_valid_c_178542;
                
                if (!valid_178541) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178490, "..<", (long long) index_concat_branch_178502, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180696 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool cond_178550 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zs_lhs_178551 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zp_rhs_178552 = sdiv_safe64(zs_lhs_178551, (int64_t) 20);
                int64_t min_num_blocks_178553 = add64((int64_t) 1, zp_rhs_178552);
                bool loop_cond_178554 = slt64((int64_t) 1, min_num_blocks_178553);
                bool smallest_pow_2_geq_than_res_178555;
                int64_t smallest_pow_2_geq_than_res_178556;
                bool loop_while_178557;
                int64_t x_178558;
                
                loop_while_178557 = loop_cond_178554;
                x_178558 = (int64_t) 1;
                while (loop_while_178557) {
                    int64_t loopres_178559 = mul64((int64_t) 2, x_178558);
                    bool loop_cond_178560 = slt64(loopres_178559, min_num_blocks_178553);
                    bool loop_while_tmp_181730 = loop_cond_178560;
                    int64_t x_tmp_181731 = loopres_178559;
                    
                    loop_while_178557 = loop_while_tmp_181730;
                    x_178558 = x_tmp_181731;
                }
                smallest_pow_2_geq_than_res_178555 = loop_while_178557;
                smallest_pow_2_geq_than_res_178556 = x_178558;
                
                bool zzero_178561 = smallest_pow_2_geq_than_res_178556 == (int64_t) 0;
                bool nonzzero_178562 = !zzero_178561;
                bool protect_assert_disj_178563 = cond_178550 || nonzzero_178562;
                bool nonzzero_cert_178564;
                
                if (!protect_assert_disj_178563) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178565 = sdiv_safe64(zs_lhs_178551, smallest_pow_2_geq_than_res_178556);
                int64_t block_sizze_178566 = add64((int64_t) 1, zp_rhs_178565);
                bool y_178573 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                bool protect_assert_disj_181442 = cond_178550 || y_178573;
                bool index_certs_178574;
                
                if (!protect_assert_disj_181442) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178611 = slt64(smallest_pow_2_geq_than_res_178556, (int64_t) 0);
                bool valid_178612 = !bounds_invalid_upwards_178611;
                bool protect_assert_disj_181452 = cond_178550 || valid_178612;
                bool range_valid_c_178613;
                
                if (!protect_assert_disj_181452) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178556, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178615 = slt64(block_sizze_178566, (int64_t) 0);
                bool valid_178616 = !bounds_invalid_upwards_178615;
                bool protect_assert_disj_181454 = cond_178550 || valid_178616;
                bool range_valid_c_178617;
                
                if (!protect_assert_disj_181454) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178566, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178619 = sle64(block_sizze_178566, (int64_t) 1);
                int64_t tmp_178620 = sub64(block_sizze_178566, (int64_t) 2);
                bool bounds_invalid_upwards_178621 = slt64(tmp_178620, (int64_t) 0);
                bool valid_178623 = !bounds_invalid_upwards_178621;
                bool protect_assert_disj_178624 = cond_178619 || valid_178623;
                bool protect_assert_disj_181456 = cond_178550 || protect_assert_disj_178624;
                bool range_valid_c_178625;
                
                if (!protect_assert_disj_181456) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178620, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179205 = card_178508 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool empty_or_match_cert_179206;
                
                if (!dim_match_179205) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] cannot match shape of type `[", (long long) card_178508, "](i8, i64, f64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179207 = card_178508 == (int64_t) 0;
                int64_t m_179208 = sub64(card_178508, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179209 = sle64((int64_t) 0, m_179208);
                bool i_p_m_t_s_leq_w_179210 = slt64(m_179208, card_178508);
                bool y_179211 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179210;
                bool ok_or_empty_179212 = empty_slice_179207 || y_179211;
                bool index_certs_179213;
                
                if (!ok_or_empty_179212) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) card_178508, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, perThread_174828);
                bool y_179215 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179214;
                bool ok_or_empty_179216 = empty_slice_179207 || y_179215;
                bool index_certs_179217;
                
                if (!ok_or_empty_179216) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181732 = 0; nest_i_181732 < perThread_174828; nest_i_181732++) {
                    ((int8_t *) mem_180661)[i_180010 * perThread_174828 + nest_i_181732] = (int8_t) -1;
                }
                for (int64_t nest_i_181733 = 0; nest_i_181733 < perThread_174828; nest_i_181733++) {
                    ((int64_t *) mem_180664)[i_180010 * perThread_174828 + nest_i_181733] = (int64_t) -1;
                }
                for (int64_t nest_i_181734 = 0; nest_i_181734 < perThread_174828; nest_i_181734++) {
                    ((double *) mem_180667)[i_180010 * perThread_174828 + nest_i_181734] = 0.0;
                }
                
                int64_t slice_178524 = p_174790 + index_concat_branch_178487;
                
                if (memblock_alloc(ctx, &mem_180695, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "mem_180695")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181735 = 0; nest_i_181735 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; nest_i_181735++) {
                    ((int8_t *) mem_180695.mem)[nest_i_181735] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180697, bytes_180696, "mem_180697")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181736 = 0; i_181736 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; i_181736++) {
                    int64_t x_181737 = index_concat_branch_178487 + i_181736 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[i_181736] = x_181737;
                }
                
                int64_t slice_178543 = p_174791 + index_concat_branch_178490;
                
                for (int64_t nest_i_181738 = 0; nest_i_181738 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; nest_i_181738++) {
                    ((int8_t *) mem_180695.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + nest_i_181738] = (int8_t) 1;
                }
                for (int64_t i_181739 = 0; i_181739 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; i_181739++) {
                    int64_t x_181740 = index_concat_branch_178490 + i_181739 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + i_181739] = x_181740;
                }
                
                int64_t tmp_offs_181741 = (int64_t) 0;
                
                if (!(tmp_offs_181741 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181741 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t tmp_offs_181742 = (int64_t) 0;
                
                if (!(tmp_offs_181742 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181742 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                if (memblock_alloc(ctx, &mem_180699, bytes_180696, "mem_180699")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181743 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180280.mem, slice_178524, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180281.mem, slice_178543, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t flat_dim_178567 = smallest_pow_2_geq_than_res_178556 * block_sizze_178566;
                bool x_181437 = !cond_178550;
                int64_t greatest_divisor_leq_than_arg1_178571 = mul64((int64_t) 2, block_sizze_178566);
                int64_t merge_block_sizze_178572;
                
                if (x_181437) {
                    int64_t x_181439;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181439, (int64_t) 8, greatest_divisor_leq_than_arg1_178571) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178572 = x_181439;
                } else {
                    merge_block_sizze_178572 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178575 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 0);
                int8_t index_concat_branch_178576 = btoi_bool_i8(index_concat_cmp_178575);
                int64_t index_concat_i_178578 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t index_primexp_178579 = add64(index_concat_branch_178490, index_concat_i_178578);
                int64_t index_concat_branch_178577;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178577 = index_primexp_178579;
                } else {
                    index_concat_branch_178577 = index_concat_branch_178487;
                }
                
                bool x_181433 = !index_concat_cmp_178575;
                bool protect_cond_conj_181443 = x_181433 && x_181437;
                double index_concat_178585;
                
                if (protect_cond_conj_181443) {
                    double x_181435 = ((double *) a_list_mem_180280.mem)[slice_178524];
                    
                    index_concat_178585 = x_181435;
                } else {
                    index_concat_178585 = 0.0;
                }
                
                int64_t slice_178583 = p_174791 + index_primexp_178579;
                bool protect_cond_conj_181444 = index_concat_cmp_178575 && x_181437;
                double index_concat_178584;
                
                if (protect_cond_conj_181444) {
                    double x_181431 = ((double *) b_list_mem_180281.mem)[slice_178583];
                    
                    index_concat_178584 = x_181431;
                } else {
                    index_concat_178584 = 0.0;
                }
                
                double index_concat_branch_178580;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178580 = index_concat_178584;
                } else {
                    index_concat_branch_178580 = index_concat_178585;
                }
                
                int8_t defunc_0_reduce_res_178586;
                int64_t defunc_0_reduce_res_178587;
                double defunc_0_reduce_res_178588;
                
                if (x_181437) {
                    int8_t x_181445;
                    int64_t x_181446;
                    double x_181447;
                    int8_t redout_179947;
                    int64_t redout_179948;
                    double redout_179949;
                    
                    redout_179947 = index_concat_branch_178576;
                    redout_179948 = index_concat_branch_178577;
                    redout_179949 = index_concat_branch_178580;
                    for (int64_t i_179950 = 0; i_179950 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505; i_179950++) {
                        bool index_concat_cmp_180208 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, i_179950);
                        int8_t index_concat_branch_180212 = btoi_bool_i8(index_concat_cmp_180208);
                        int64_t index_concat_branch_180206;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180203 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t index_primexp_180256 = add64(index_concat_branch_178490, index_concat_i_180203);
                            
                            index_concat_branch_180206 = index_primexp_180256;
                        } else {
                            int64_t index_primexp_180258 = add64(index_concat_branch_178487, i_179950);
                            
                            index_concat_branch_180206 = index_primexp_180258;
                        }
                        
                        double index_concat_branch_180200;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180197 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t slice_180253 = slice_178543 + index_concat_i_180197;
                            double index_concat_180198 = ((double *) b_list_mem_180281.mem)[slice_180253];
                            
                            index_concat_branch_180200 = index_concat_180198;
                        } else {
                            int64_t slice_180254 = slice_178524 + i_179950;
                            double index_concat_180199 = ((double *) a_list_mem_180280.mem)[slice_180254];
                            
                            index_concat_branch_180200 = index_concat_180199;
                        }
                        
                        bool eq_x_y_180270 = redout_179947 == (int8_t) 1;
                        bool eq_x_zz_180271 = redout_179947 == (int8_t) 0;
                        bool p_and_eq_x_y_180272 = index_concat_cmp_180208 && eq_x_y_180270;
                        bool not_p_180273 = !index_concat_cmp_180208;
                        bool p_and_eq_x_y_180274 = eq_x_zz_180271 && not_p_180273;
                        bool cond_178598 = p_and_eq_x_y_180272 || p_and_eq_x_y_180274;
                        bool defunc_0_leq_res_t_res_178599 = sle64(redout_179948, index_concat_branch_180206);
                        bool defunc_0_leq_res_178600 = redout_179949 <= index_concat_branch_180200;
                        bool x_178601 = cond_178598 && defunc_0_leq_res_t_res_178599;
                        bool x_178602 = !cond_178598;
                        bool y_178603 = defunc_0_leq_res_178600 && x_178602;
                        bool defunc_0_leq_res_178604 = x_178601 || y_178603;
                        int8_t defunc_0_op_res_178605;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178605 = index_concat_branch_180212;
                        } else {
                            defunc_0_op_res_178605 = redout_179947;
                        }
                        
                        int64_t defunc_0_op_res_178606;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178606 = index_concat_branch_180206;
                        } else {
                            defunc_0_op_res_178606 = redout_179948;
                        }
                        
                        double defunc_0_op_res_178607;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178607 = index_concat_branch_180200;
                        } else {
                            defunc_0_op_res_178607 = redout_179949;
                        }
                        
                        int8_t redout_tmp_181744 = defunc_0_op_res_178605;
                        int64_t redout_tmp_181745 = defunc_0_op_res_178606;
                        double redout_tmp_181746 = defunc_0_op_res_178607;
                        
                        redout_179947 = redout_tmp_181744;
                        redout_179948 = redout_tmp_181745;
                        redout_179949 = redout_tmp_181746;
                    }
                    x_181445 = redout_179947;
                    x_181446 = redout_179948;
                    x_181447 = redout_179949;
                    defunc_0_reduce_res_178586 = x_181445;
                    defunc_0_reduce_res_178587 = x_181446;
                    defunc_0_reduce_res_178588 = x_181447;
                } else {
                    defunc_0_reduce_res_178586 = (int8_t) 0;
                    defunc_0_reduce_res_178587 = (int64_t) 0;
                    defunc_0_reduce_res_178588 = 0.0;
                }
                
                int64_t distance_178622 = add64((int64_t) 1, tmp_178620);
                int64_t binop_x_180702 = (int64_t) 8 * smallest_pow_2_geq_than_res_178556;
                int64_t bytes_180703 = block_sizze_178566 * binop_x_180702;
                int64_t bytes_180721 = (int64_t) 8 * block_sizze_178566;
                bool loop_cond_178748 = slt64(block_sizze_178566, flat_dim_178567);
                bool zzero_178749 = merge_block_sizze_178572 == (int64_t) 0;
                bool nonzzero_178750 = !zzero_178749;
                
                if (cond_178550) {
                    if (memblock_set(ctx, &ext_mem_180994, &mem_180695, "mem_180695") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &mem_180697, "mem_180697") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &mem_180699, "mem_180699") != 0)
                        return 1;
                } else {
                    if (mem_180701_cached_sizze_182049 < flat_dim_178567) {
                        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182049, flat_dim_178567);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180704_cached_sizze_182050 < bytes_180703) {
                        err = lexical_realloc(ctx, &mem_180704, &mem_180704_cached_sizze_182050, bytes_180703);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180707_cached_sizze_182051 < bytes_180703) {
                        err = lexical_realloc(ctx, &mem_180707, &mem_180707_cached_sizze_182051, bytes_180703);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180720_cached_sizze_182052 < block_sizze_178566) {
                        err = lexical_realloc(ctx, &mem_180720, &mem_180720_cached_sizze_182052, block_sizze_178566);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180722_cached_sizze_182053 < bytes_180721) {
                        err = lexical_realloc(ctx, &mem_180722, &mem_180722_cached_sizze_182053, bytes_180721);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180724_cached_sizze_182054 < bytes_180721) {
                        err = lexical_realloc(ctx, &mem_180724, &mem_180724_cached_sizze_182054, bytes_180721);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179967 = 0; i_179967 < smallest_pow_2_geq_than_res_178556; i_179967++) {
                        int64_t zp_lhs_178630 = mul64(block_sizze_178566, i_179967);
                        
                        for (int64_t i_179957 = 0; i_179957 < block_sizze_178566; i_179957++) {
                            int64_t k_178635 = add64(zp_lhs_178630, i_179957);
                            bool cond_178636 = slt64(k_178635, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                            int8_t lifted_lambda_res_178637;
                            int64_t lifted_lambda_res_178638;
                            double lifted_lambda_res_178639;
                            
                            if (cond_178636) {
                                bool x_178640 = sle64((int64_t) 0, k_178635);
                                bool bounds_check_178641 = cond_178636 && x_178640;
                                bool index_certs_178642;
                                
                                if (!bounds_check_178641) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178635, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178643 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, k_178635);
                                int8_t index_concat_branch_178644 = btoi_bool_i8(index_concat_cmp_178643);
                                int64_t index_concat_branch_178645;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178646 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t index_primexp_178647 = add64(index_concat_branch_178490, index_concat_i_178646);
                                    
                                    index_concat_branch_178645 = index_primexp_178647;
                                } else {
                                    int64_t index_primexp_178648 = add64(index_concat_branch_178487, k_178635);
                                    
                                    index_concat_branch_178645 = index_primexp_178648;
                                }
                                
                                double index_concat_branch_178649;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178650 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t slice_178651 = index_concat_branch_178490 + index_concat_i_178650;
                                    int64_t slice_178652 = p_174791 + slice_178651;
                                    double index_concat_178653 = ((double *) b_list_mem_180281.mem)[slice_178652];
                                    
                                    index_concat_branch_178649 = index_concat_178653;
                                } else {
                                    int64_t slice_178654 = index_concat_branch_178487 + k_178635;
                                    int64_t slice_178655 = p_174790 + slice_178654;
                                    double index_concat_178656 = ((double *) a_list_mem_180280.mem)[slice_178655];
                                    
                                    index_concat_branch_178649 = index_concat_178656;
                                }
                                lifted_lambda_res_178637 = index_concat_branch_178644;
                                lifted_lambda_res_178638 = index_concat_branch_178645;
                                lifted_lambda_res_178639 = index_concat_branch_178649;
                            } else {
                                lifted_lambda_res_178637 = defunc_0_reduce_res_178586;
                                lifted_lambda_res_178638 = defunc_0_reduce_res_178587;
                                lifted_lambda_res_178639 = defunc_0_reduce_res_178588;
                            }
                            ((int8_t *) mem_180720)[i_179957] = lifted_lambda_res_178637;
                            ((int64_t *) mem_180722)[i_179957] = lifted_lambda_res_178638;
                            ((double *) mem_180724)[i_179957] = lifted_lambda_res_178639;
                        }
                        if (!cond_178619) {
                            for (int64_t i_178666 = 0; i_178666 < distance_178622; i_178666++) {
                                int64_t gt_arg1_178670 = add64((int64_t) 1, i_178666);
                                bool x_178671 = sle64((int64_t) 0, gt_arg1_178670);
                                bool y_178672 = slt64(gt_arg1_178670, block_sizze_178566);
                                bool bounds_check_178673 = x_178671 && y_178672;
                                bool index_certs_178674;
                                
                                if (!bounds_check_178673) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178670, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178678 = slt64(i_178666, block_sizze_178566);
                                bool index_certs_178679;
                                
                                if (!y_178678) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178666, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178675 = ((int8_t *) mem_180720)[gt_arg1_178670];
                                int64_t gt_arg1_178676 = ((int64_t *) mem_180722)[gt_arg1_178670];
                                double gt_arg1_178677 = ((double *) mem_180724)[gt_arg1_178670];
                                int8_t gt_arg0_178680 = ((int8_t *) mem_180720)[i_178666];
                                int64_t gt_arg0_178681 = ((int64_t *) mem_180722)[i_178666];
                                double gt_arg0_178682 = ((double *) mem_180724)[i_178666];
                                bool cond_178683 = gt_arg0_178680 == gt_arg1_178675;
                                bool defunc_0_leq_res_t_res_178684 = sle64(gt_arg0_178681, gt_arg1_178676);
                                bool defunc_0_leq_res_178685 = gt_arg0_178682 <= gt_arg1_178677;
                                bool x_178686 = cond_178683 && defunc_0_leq_res_t_res_178684;
                                bool x_178687 = !cond_178683;
                                bool y_178688 = defunc_0_leq_res_178685 && x_178687;
                                bool defunc_0_leq_res_178689 = x_178686 || y_178688;
                                bool defunc_0_lifted_gt_res_178690 = !defunc_0_leq_res_178689;
                                bool s_178691;
                                int64_t s_178695;
                                bool loop_while_178696;
                                int64_t j_178700;
                                
                                loop_while_178696 = defunc_0_lifted_gt_res_178690;
                                j_178700 = i_178666;
                                while (loop_while_178696) {
                                    bool x_178701 = sle64((int64_t) 0, j_178700);
                                    bool y_178702 = slt64(j_178700, block_sizze_178566);
                                    bool bounds_check_178703 = x_178701 && y_178702;
                                    bool index_certs_178704;
                                    
                                    if (!bounds_check_178703) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178700, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178708 = add64((int64_t) 1, j_178700);
                                    bool x_178709 = sle64((int64_t) 0, copy_arg0_178708);
                                    bool y_178710 = slt64(copy_arg0_178708, block_sizze_178566);
                                    bool bounds_check_178711 = x_178709 && y_178710;
                                    bool index_certs_178712;
                                    
                                    if (!bounds_check_178711) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178708, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178705 = ((int8_t *) mem_180720)[j_178700];
                                    int64_t copy_arg0_178706 = ((int64_t *) mem_180722)[j_178700];
                                    double copy_arg0_178707 = ((double *) mem_180724)[j_178700];
                                    int8_t copy_arg0_178713 = ((int8_t *) mem_180720)[copy_arg0_178708];
                                    int64_t copy_arg0_178714 = ((int64_t *) mem_180722)[copy_arg0_178708];
                                    double copy_arg0_178715 = ((double *) mem_180724)[copy_arg0_178708];
                                    
                                    ((int8_t *) mem_180720)[j_178700] = copy_arg0_178713;
                                    ((int64_t *) mem_180722)[j_178700] = copy_arg0_178714;
                                    ((double *) mem_180724)[j_178700] = copy_arg0_178715;
                                    ((int8_t *) mem_180720)[copy_arg0_178708] = copy_arg0_178705;
                                    ((int64_t *) mem_180722)[copy_arg0_178708] = copy_arg0_178706;
                                    ((double *) mem_180724)[copy_arg0_178708] = copy_arg0_178707;
                                    
                                    int64_t tmp_178722 = sub64(j_178700, (int64_t) 1);
                                    bool cond_178723 = sle64((int64_t) 0, tmp_178722);
                                    bool loop_cond_178724;
                                    
                                    if (cond_178723) {
                                        bool y_178728 = slt64(tmp_178722, block_sizze_178566);
                                        bool bounds_check_178729 = cond_178723 && y_178728;
                                        bool index_certs_178730;
                                        
                                        if (!bounds_check_178729) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178722, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178725 = ((int8_t *) mem_180720)[j_178700];
                                        int64_t gt_arg1_178726 = ((int64_t *) mem_180722)[j_178700];
                                        double gt_arg1_178727 = ((double *) mem_180724)[j_178700];
                                        int8_t gt_arg0_178731 = ((int8_t *) mem_180720)[tmp_178722];
                                        int64_t gt_arg0_178732 = ((int64_t *) mem_180722)[tmp_178722];
                                        double gt_arg0_178733 = ((double *) mem_180724)[tmp_178722];
                                        bool cond_178734 = gt_arg0_178731 == gt_arg1_178725;
                                        bool defunc_0_leq_res_t_res_178735 = sle64(gt_arg0_178732, gt_arg1_178726);
                                        bool defunc_0_leq_res_178736 = gt_arg0_178733 <= gt_arg1_178727;
                                        bool x_178737 = cond_178734 && defunc_0_leq_res_t_res_178735;
                                        bool x_178738 = !cond_178734;
                                        bool y_178739 = defunc_0_leq_res_178736 && x_178738;
                                        bool defunc_0_leq_res_178740 = x_178737 || y_178739;
                                        bool defunc_0_lifted_gt_res_178741 = !defunc_0_leq_res_178740;
                                        
                                        loop_cond_178724 = defunc_0_lifted_gt_res_178741;
                                    } else {
                                        loop_cond_178724 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181756 = loop_cond_178724;
                                    int64_t j_tmp_181760 = tmp_178722;
                                    
                                    loop_while_178696 = loop_while_tmp_181756;
                                    j_178700 = j_tmp_181760;
                                }
                                s_178691 = loop_while_178696;
                                s_178695 = j_178700;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180701, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180720, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180704, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180722, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180707, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180724, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                    }
                    if (memblock_alloc(ctx, &mem_180801, flat_dim_178567, "mem_180801")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180801.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint8_t *) mem_180701, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180805, bytes_180703, "mem_180805")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180805.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint64_t *) mem_180704, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180809, bytes_180703, "mem_180809")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180809.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint64_t *) mem_180707, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    
                    int64_t data_178751;
                    bool data_178752;
                    int64_t data_178756;
                    int64_t loop_dz2084Uz2082U_178757;
                    bool loop_while_178758;
                    int64_t stride_178762;
                    
                    if (memblock_set(ctx, &mem_param_180813, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180816, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180819, &mem_180809, "mem_180809") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178757 = flat_dim_178567;
                    loop_while_178758 = loop_cond_178748;
                    stride_178762 = block_sizze_178566;
                    while (loop_while_178758) {
                        int64_t next_stride_178763 = mul64((int64_t) 2, stride_178762);
                        bool zzero_178764 = next_stride_178763 == (int64_t) 0;
                        bool nonzzero_178765 = !zzero_178764;
                        bool nonzzero_cert_178766;
                        
                        if (!nonzzero_178765) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178767 = sdiv64(flat_dim_178567, next_stride_178763);
                        bool bounds_invalid_upwards_178768 = slt64(num_merges_178767, (int64_t) 0);
                        bool valid_178769 = !bounds_invalid_upwards_178768;
                        bool range_valid_c_178770;
                        
                        if (!valid_178769) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178767, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178772 = sub64(next_stride_178763, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178773 = sle64((int64_t) 0, m_178772);
                        bool cond_178775 = slt64(next_stride_178763, (int64_t) 10);
                        bool protect_assert_disj_178776 = nonzzero_178750 || cond_178775;
                        bool nonzzero_cert_178777;
                        
                        if (!protect_assert_disj_178776) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178778 = smod_safe64(next_stride_178763, merge_block_sizze_178572);
                        bool num_blocks_178779 = zeze_lhs_178778 == (int64_t) 0;
                        bool protect_assert_disj_178780 = cond_178775 || num_blocks_178779;
                        bool assert_c_178781;
                        
                        if (!protect_assert_disj_178780) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178782 = sdiv_safe64(next_stride_178763, merge_block_sizze_178572);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783 = add64((int64_t) 1, num_blocks_178782);
                        int64_t j_m_i_178784 = sub64(next_stride_178763, stride_178762);
                        int64_t flat_dim_178785 = merge_block_sizze_178572 * num_blocks_178782;
                        bool bounds_invalid_upwards_178786 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, (int64_t) 0);
                        bool empty_slice_178787 = j_m_i_178784 == (int64_t) 0;
                        int64_t m_178788 = sub64(j_m_i_178784, (int64_t) 1);
                        bool zzero_lte_i_178789 = sle64((int64_t) 0, stride_178762);
                        bool i_lte_j_178790 = sle64(stride_178762, next_stride_178763);
                        bool empty_slice_178791 = stride_178762 == (int64_t) 0;
                        int64_t m_178792 = sub64(stride_178762, (int64_t) 1);
                        bool bounds_invalid_upwards_178793 = slt64(num_blocks_178782, (int64_t) 0);
                        bool cond_178794 = slt64((int64_t) 0, stride_178762);
                        bool valid_178795 = !bounds_invalid_upwards_178786;
                        int64_t i_p_m_t_s_178796 = add64(stride_178762, m_178788);
                        bool zzero_leq_i_p_m_t_s_178797 = sle64((int64_t) 0, m_178792);
                        bool i_p_m_t_s_leq_w_178798 = slt64(m_178792, next_stride_178763);
                        bool valid_178799 = !bounds_invalid_upwards_178793;
                        bool i_p_m_t_s_leq_w_178800 = slt64(m_178772, flat_dim_178785);
                        bool y_178801 = slt64((int64_t) 0, j_m_i_178784);
                        bool protect_assert_disj_178802 = cond_178775 || valid_178795;
                        bool range_valid_c_178803;
                        
                        if (!protect_assert_disj_178802) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178804 = sle64((int64_t) 0, i_p_m_t_s_178796);
                        bool i_p_m_t_s_leq_w_178805 = slt64(i_p_m_t_s_178796, next_stride_178763);
                        bool y_178806 = zzero_leq_i_p_m_t_s_178797 && i_p_m_t_s_leq_w_178798;
                        bool protect_assert_disj_178807 = cond_178775 || valid_178799;
                        bool range_valid_c_178808;
                        
                        if (!protect_assert_disj_178807) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178809 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178800;
                        bool y_178810 = zzero_lte_i_178789 && i_p_m_t_s_leq_w_178805;
                        bool forwards_ok_178811 = zzero_lte_i_178789 && y_178806;
                        bool ok_or_empty_178812 = zzero_178764 || y_178809;
                        bool protect_assert_disj_178813 = cond_178794 || y_178801;
                        bool y_178814 = zzero_leq_i_p_m_t_s_178804 && y_178810;
                        bool ok_or_empty_178815 = empty_slice_178791 || forwards_ok_178811;
                        bool protect_assert_disj_178816 = cond_178775 || ok_or_empty_178812;
                        bool index_certs_178817;
                        
                        if (!protect_assert_disj_178816) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) flat_dim_178785, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178818 = !cond_178775;
                        bool protect_assert_disj_178819 = protect_assert_disj_178813 || loop_not_taken_178818;
                        bool index_certs_178820;
                        
                        if (!protect_assert_disj_178819) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178821 = i_lte_j_178790 && y_178814;
                        bool protect_assert_disj_178822 = cond_178775 || ok_or_empty_178815;
                        bool index_certs_178823;
                        
                        if (!protect_assert_disj_178822) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178824 = ok_or_empty_178815 || loop_not_taken_178818;
                        bool index_certs_178825;
                        
                        if (!protect_assert_disj_178824) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178826 = empty_slice_178787 || forwards_ok_178821;
                        bool protect_assert_disj_178827 = cond_178775 || ok_or_empty_178826;
                        bool index_certs_178828;
                        
                        if (!protect_assert_disj_178827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178829 = loop_not_taken_178818 || ok_or_empty_178826;
                        bool index_certs_178830;
                        
                        if (!protect_assert_disj_178829) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180820 = next_stride_178763 * num_merges_178767;
                        int64_t binop_x_180822 = (int64_t) 8 * num_merges_178767;
                        int64_t bytes_180823 = next_stride_178763 * binop_x_180822;
                        bool i_lte_j_178774 = sle64((int64_t) 0, next_stride_178763);
                        
                        if (mem_180821_cached_sizze_182055 < bytes_180820) {
                            err = lexical_realloc(ctx, &mem_180821, &mem_180821_cached_sizze_182055, bytes_180820);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180824_cached_sizze_182056 < bytes_180823) {
                            err = lexical_realloc(ctx, &mem_180824, &mem_180824_cached_sizze_182056, bytes_180823);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180827_cached_sizze_182057 < bytes_180823) {
                            err = lexical_realloc(ctx, &mem_180827, &mem_180827_cached_sizze_182057, bytes_180823);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180840 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783;
                        int64_t binop_x_180858 = (int64_t) 8 * num_blocks_178782;
                        int64_t bytes_180859 = merge_block_sizze_178572 * binop_x_180858;
                        int64_t bytes_180923 = (int64_t) 16 * stride_178762;
                        
                        for (int64_t i_179994 = 0; i_179994 < num_merges_178767; i_179994++) {
                            int64_t start_178835 = mul64(next_stride_178763, i_179994);
                            int64_t j_m_i_178836 = sub64(loop_dz2084Uz2082U_178757, start_178835);
                            bool empty_slice_178837 = j_m_i_178836 == (int64_t) 0;
                            int64_t m_178838 = sub64(j_m_i_178836, (int64_t) 1);
                            int64_t i_p_m_t_s_178839 = add64(start_178835, m_178838);
                            bool zzero_leq_i_p_m_t_s_178840 = sle64((int64_t) 0, i_p_m_t_s_178839);
                            bool i_p_m_t_s_leq_w_178841 = slt64(i_p_m_t_s_178839, loop_dz2084Uz2082U_178757);
                            bool zzero_lte_i_178842 = sle64((int64_t) 0, start_178835);
                            bool i_lte_j_178843 = sle64(start_178835, loop_dz2084Uz2082U_178757);
                            bool y_178844 = i_p_m_t_s_leq_w_178841 && zzero_lte_i_178842;
                            bool y_178845 = zzero_leq_i_p_m_t_s_178840 && y_178844;
                            bool forwards_ok_178846 = i_lte_j_178843 && y_178845;
                            bool ok_or_empty_178847 = empty_slice_178837 || forwards_ok_178846;
                            bool index_certs_178848;
                            
                            if (!ok_or_empty_178847) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178835, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178757, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178849 = slt64(m_178772, j_m_i_178836);
                            bool y_178850 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178849;
                            bool forwards_ok_178851 = i_lte_j_178774 && y_178850;
                            bool ok_or_empty_178852 = zzero_178764 || forwards_ok_178851;
                            bool index_certs_178853;
                            
                            if (!ok_or_empty_178852) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) j_m_i_178836, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178775) {
                                int8_t dummy_178857;
                                int64_t dummy_178858;
                                double dummy_178859;
                                
                                if (cond_178794) {
                                    int8_t head_res_178860 = ((int8_t *) mem_param_180813.mem)[start_178835];
                                    int64_t head_res_178861 = ((int64_t *) mem_param_180816.mem)[start_178835];
                                    double head_res_178862 = ((double *) mem_param_180819.mem)[start_178835];
                                    
                                    dummy_178857 = head_res_178860;
                                    dummy_178858 = head_res_178861;
                                    dummy_178859 = head_res_178862;
                                } else {
                                    int64_t slice_178863 = stride_178762 + start_178835;
                                    int8_t head_res_178864 = ((int8_t *) mem_param_180813.mem)[slice_178863];
                                    int64_t head_res_178865 = ((int64_t *) mem_param_180816.mem)[slice_178863];
                                    double head_res_178866 = ((double *) mem_param_180819.mem)[slice_178863];
                                    
                                    dummy_178857 = head_res_178864;
                                    dummy_178858 = head_res_178865;
                                    dummy_178859 = head_res_178866;
                                }
                                if (memblock_alloc(ctx, &mem_180922, next_stride_178763, "mem_180922")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181773 = 0; nest_i_181773 < next_stride_178763; nest_i_181773++) {
                                    ((int8_t *) mem_180922.mem)[nest_i_181773] = dummy_178857;
                                }
                                if (memblock_alloc(ctx, &mem_180924, bytes_180923, "mem_180924")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181774 = 0; nest_i_181774 < next_stride_178763; nest_i_181774++) {
                                    ((int64_t *) mem_180924.mem)[nest_i_181774] = dummy_178858;
                                }
                                if (memblock_alloc(ctx, &mem_180926, bytes_180923, "mem_180926")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181775 = 0; nest_i_181775 < next_stride_178763; nest_i_181775++) {
                                    ((double *) mem_180926.mem)[nest_i_181775] = dummy_178859;
                                }
                                
                                int64_t data_178870;
                                int64_t i_178875 = (int64_t) 0;
                                
                                for (int64_t k_178874 = 0; k_178874 < next_stride_178763; k_178874++) {
                                    int64_t j_178879 = sub64(k_178874, i_178875);
                                    bool cond_178880 = j_178879 == j_m_i_178784;
                                    bool cond_178881;
                                    
                                    if (cond_178880) {
                                        cond_178881 = 1;
                                    } else {
                                        bool cond_178882 = slt64(i_178875, stride_178762);
                                        bool cond_f_res_178883;
                                        
                                        if (cond_178882) {
                                            bool x_178884 = sle64((int64_t) 0, j_178879);
                                            bool y_178885 = slt64(j_178879, j_m_i_178784);
                                            bool bounds_check_178886 = x_178884 && y_178885;
                                            bool index_certs_178887;
                                            
                                            if (!bounds_check_178886) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178893 = sle64((int64_t) 0, i_178875);
                                            bool bounds_check_178894 = cond_178882 && x_178893;
                                            bool index_certs_178895;
                                            
                                            if (!bounds_check_178894) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178888 = stride_178762 + j_178879;
                                            int64_t slice_178889 = start_178835 + slice_178888;
                                            int8_t leq_arg1_178890 = ((int8_t *) mem_param_180813.mem)[slice_178889];
                                            int64_t leq_arg1_178891 = ((int64_t *) mem_param_180816.mem)[slice_178889];
                                            double leq_arg1_178892 = ((double *) mem_param_180819.mem)[slice_178889];
                                            int64_t slice_178896 = start_178835 + i_178875;
                                            int8_t leq_arg0_178897 = ((int8_t *) mem_param_180813.mem)[slice_178896];
                                            int64_t leq_arg0_178898 = ((int64_t *) mem_param_180816.mem)[slice_178896];
                                            double leq_arg0_178899 = ((double *) mem_param_180819.mem)[slice_178896];
                                            bool cond_178900 = leq_arg0_178897 == leq_arg1_178890;
                                            bool defunc_0_leq_res_t_res_178901 = sle64(leq_arg0_178898, leq_arg1_178891);
                                            bool defunc_0_leq_res_178902 = leq_arg0_178899 <= leq_arg1_178892;
                                            bool x_178903 = cond_178900 && defunc_0_leq_res_t_res_178901;
                                            bool x_178904 = !cond_178900;
                                            bool y_178905 = defunc_0_leq_res_178902 && x_178904;
                                            bool defunc_0_leq_res_178906 = x_178903 || y_178905;
                                            
                                            cond_f_res_178883 = defunc_0_leq_res_178906;
                                        } else {
                                            cond_f_res_178883 = 0;
                                        }
                                        cond_178881 = cond_f_res_178883;
                                    }
                                    
                                    int64_t loopres_178907;
                                    int8_t loopres_178908;
                                    int64_t loopres_178909;
                                    double loopres_178910;
                                    
                                    if (cond_178881) {
                                        bool x_178912 = sle64((int64_t) 0, i_178875);
                                        bool y_178913 = slt64(i_178875, stride_178762);
                                        bool bounds_check_178914 = x_178912 && y_178913;
                                        bool index_certs_178915;
                                        
                                        if (!bounds_check_178914) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178911 = add64((int64_t) 1, i_178875);
                                        int64_t slice_178916 = start_178835 + i_178875;
                                        int8_t tmp_178917 = ((int8_t *) mem_param_180813.mem)[slice_178916];
                                        int64_t tmp_178918 = ((int64_t *) mem_param_180816.mem)[slice_178916];
                                        double tmp_178919 = ((double *) mem_param_180819.mem)[slice_178916];
                                        
                                        loopres_178907 = tmp_178911;
                                        loopres_178908 = tmp_178917;
                                        loopres_178909 = tmp_178918;
                                        loopres_178910 = tmp_178919;
                                    } else {
                                        bool x_178920 = sle64((int64_t) 0, j_178879);
                                        bool y_178921 = slt64(j_178879, j_m_i_178784);
                                        bool bounds_check_178922 = x_178920 && y_178921;
                                        bool index_certs_178923;
                                        
                                        if (!bounds_check_178922) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178924 = stride_178762 + j_178879;
                                        int64_t slice_178925 = start_178835 + slice_178924;
                                        int8_t tmp_178926 = ((int8_t *) mem_param_180813.mem)[slice_178925];
                                        int64_t tmp_178927 = ((int64_t *) mem_param_180816.mem)[slice_178925];
                                        double tmp_178928 = ((double *) mem_param_180819.mem)[slice_178925];
                                        
                                        loopres_178907 = i_178875;
                                        loopres_178908 = tmp_178926;
                                        loopres_178909 = tmp_178927;
                                        loopres_178910 = tmp_178928;
                                    }
                                    ((int8_t *) mem_180922.mem)[k_178874] = loopres_178908;
                                    ((int64_t *) mem_180924.mem)[k_178874] = loopres_178909;
                                    ((double *) mem_180926.mem)[k_178874] = loopres_178910;
                                    
                                    int64_t i_tmp_181776 = loopres_178907;
                                    
                                    i_178875 = i_tmp_181776;
                                }
                                data_178870 = i_178875;
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180922, "mem_180922") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180924, "mem_180924") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180926, "mem_180926") != 0)
                                    return 1;
                            } else {
                                if (mem_180841_cached_sizze_182058 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180841, &mem_180841_cached_sizze_182058, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180843_cached_sizze_182059 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180843, &mem_180843_cached_sizze_182059, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179975 = 0; i_179975 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783; i_179975++) {
                                    int64_t split_count_arg3_178936 = mul64(merge_block_sizze_178572, i_179975);
                                    int64_t defunc_0_split_count_res_178937;
                                    int64_t defunc_0_split_count_res_178938;
                                    int64_t defunc_0_split_count_res_178939;
                                    int64_t defunc_0_split_count_res_178940;
                                    int64_t defunc_0_split_count_res_178941;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_178937, &defunc_0_split_count_res_178938, &defunc_0_split_count_res_178939, &defunc_0_split_count_res_178940, &defunc_0_split_count_res_178941, (int64_t) 0, stride_178762, (int64_t) 0, j_m_i_178784, split_count_arg3_178936) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178942 = slt64((int64_t) 0, defunc_0_split_count_res_178941);
                                    bool defunc_0_split_count_res_178943;
                                    int64_t defunc_0_split_count_res_178944;
                                    int64_t defunc_0_split_count_res_178945;
                                    int64_t defunc_0_split_count_res_178946;
                                    int64_t defunc_0_split_count_res_178947;
                                    int64_t defunc_0_split_count_res_178948;
                                    bool loop_while_178949;
                                    int64_t ss_178950;
                                    int64_t ss_178951;
                                    int64_t tt_178952;
                                    int64_t tt_178953;
                                    int64_t count_178954;
                                    
                                    loop_while_178949 = loop_cond_178942;
                                    ss_178950 = defunc_0_split_count_res_178937;
                                    ss_178951 = defunc_0_split_count_res_178938;
                                    tt_178952 = defunc_0_split_count_res_178939;
                                    tt_178953 = defunc_0_split_count_res_178940;
                                    count_178954 = defunc_0_split_count_res_178941;
                                    while (loop_while_178949) {
                                        int64_t zlze_lhs_178955 = sub64(ss_178951, ss_178950);
                                        bool cond_178956 = sle64(zlze_lhs_178955, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178957;
                                        int64_t defunc_0_lifted_step_res_178958;
                                        int64_t defunc_0_lifted_step_res_178959;
                                        int64_t defunc_0_lifted_step_res_178960;
                                        
                                        if (cond_178956) {
                                            int64_t tmp_178961 = add64(tt_178952, count_178954);
                                            
                                            defunc_0_lifted_step_res_178957 = ss_178950;
                                            defunc_0_lifted_step_res_178958 = tmp_178961;
                                            defunc_0_lifted_step_res_178959 = tt_178953;
                                            defunc_0_lifted_step_res_178960 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178962 = sub64(tt_178953, tt_178952);
                                            bool cond_178963 = sle64(zlze_lhs_178962, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178964;
                                            int64_t defunc_0_lifted_step_res_f_res_178965;
                                            int64_t defunc_0_lifted_step_res_f_res_178966;
                                            int64_t defunc_0_lifted_step_res_f_res_178967;
                                            
                                            if (cond_178963) {
                                                int64_t tmp_178968 = add64(ss_178950, count_178954);
                                                
                                                defunc_0_lifted_step_res_f_res_178964 = tmp_178968;
                                                defunc_0_lifted_step_res_f_res_178965 = tt_178952;
                                                defunc_0_lifted_step_res_f_res_178966 = tt_178953;
                                                defunc_0_lifted_step_res_f_res_178967 = (int64_t) 0;
                                            } else {
                                                bool cond_178969 = count_178954 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178970;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178971;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178972;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178973;
                                                
                                                if (cond_178969) {
                                                    bool x_178974 = sle64((int64_t) 0, ss_178950);
                                                    bool y_178975 = slt64(ss_178950, stride_178762);
                                                    bool bounds_check_178976 = x_178974 && y_178975;
                                                    bool index_certs_178977;
                                                    
                                                    if (!bounds_check_178976) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178950, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178982 = sle64((int64_t) 0, tt_178952);
                                                    bool y_178983 = slt64(tt_178952, j_m_i_178784);
                                                    bool bounds_check_178984 = x_178982 && y_178983;
                                                    bool index_certs_178985;
                                                    
                                                    if (!bounds_check_178984) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178952, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178978 = start_178835 + ss_178950;
                                                    int8_t leq_arg1_178979 = ((int8_t *) mem_param_180813.mem)[slice_178978];
                                                    int64_t leq_arg1_178980 = ((int64_t *) mem_param_180816.mem)[slice_178978];
                                                    double leq_arg1_178981 = ((double *) mem_param_180819.mem)[slice_178978];
                                                    int64_t slice_178986 = stride_178762 + tt_178952;
                                                    int64_t slice_178987 = start_178835 + slice_178986;
                                                    int8_t leq_arg0_178988 = ((int8_t *) mem_param_180813.mem)[slice_178987];
                                                    int64_t leq_arg0_178989 = ((int64_t *) mem_param_180816.mem)[slice_178987];
                                                    double leq_arg0_178990 = ((double *) mem_param_180819.mem)[slice_178987];
                                                    bool cond_178991 = leq_arg0_178988 == leq_arg1_178979;
                                                    bool defunc_0_leq_res_t_res_178992 = sle64(leq_arg0_178989, leq_arg1_178980);
                                                    bool defunc_0_leq_res_178993 = leq_arg0_178990 <= leq_arg1_178981;
                                                    bool x_178994 = cond_178991 && defunc_0_leq_res_t_res_178992;
                                                    bool x_178995 = !cond_178991;
                                                    bool y_178996 = defunc_0_leq_res_178993 && x_178995;
                                                    bool defunc_0_leq_res_178997 = x_178994 || y_178996;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    
                                                    if (defunc_0_leq_res_178997) {
                                                        int64_t tmp_179000 = add64((int64_t) 1, tt_178952);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = ss_178950;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tmp_179000;
                                                    } else {
                                                        int64_t tmp_179001 = add64((int64_t) 1, ss_178950);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = tmp_179001;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tt_178952;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = tt_178953;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179002 = sdiv64(count_178954, (int64_t) 2);
                                                    int64_t n_179003 = sub64(count_178954, m_179002);
                                                    bool cond_179004 = n_179003 == (int64_t) 0;
                                                    int64_t zgze_lhs_179005 = add64(ss_178950, m_179002);
                                                    bool cond_f_res_179006 = sle64(ss_178951, zgze_lhs_179005);
                                                    bool x_179007 = !cond_179004;
                                                    bool y_179008 = cond_f_res_179006 && x_179007;
                                                    bool cond_179009 = cond_179004 || y_179008;
                                                    bool leq_y_x_179010;
                                                    
                                                    if (cond_179009) {
                                                        leq_y_x_179010 = 1;
                                                    } else {
                                                        bool x_179011 = sle64((int64_t) 0, zgze_lhs_179005);
                                                        bool y_179012 = slt64(zgze_lhs_179005, stride_178762);
                                                        bool bounds_check_179013 = x_179011 && y_179012;
                                                        bool index_certs_179014;
                                                        
                                                        if (!bounds_check_179013) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179005, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179019 = add64(tt_178952, n_179003);
                                                        int64_t leq_arg0_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                                                        bool x_179021 = sle64((int64_t) 0, leq_arg0_179020);
                                                        bool y_179022 = slt64(leq_arg0_179020, j_m_i_178784);
                                                        bool bounds_check_179023 = x_179021 && y_179022;
                                                        bool index_certs_179024;
                                                        
                                                        if (!bounds_check_179023) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179020, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179015 = start_178835 + zgze_lhs_179005;
                                                        int8_t leq_arg1_179016 = ((int8_t *) mem_param_180813.mem)[slice_179015];
                                                        int64_t leq_arg1_179017 = ((int64_t *) mem_param_180816.mem)[slice_179015];
                                                        double leq_arg1_179018 = ((double *) mem_param_180819.mem)[slice_179015];
                                                        int64_t slice_179025 = stride_178762 + leq_arg0_179020;
                                                        int64_t slice_179026 = start_178835 + slice_179025;
                                                        int8_t leq_arg0_179027 = ((int8_t *) mem_param_180813.mem)[slice_179026];
                                                        int64_t leq_arg0_179028 = ((int64_t *) mem_param_180816.mem)[slice_179026];
                                                        double leq_arg0_179029 = ((double *) mem_param_180819.mem)[slice_179026];
                                                        bool cond_179030 = leq_arg0_179027 == leq_arg1_179016;
                                                        bool defunc_0_leq_res_t_res_179031 = sle64(leq_arg0_179028, leq_arg1_179017);
                                                        bool defunc_0_leq_res_179032 = leq_arg0_179029 <= leq_arg1_179018;
                                                        bool x_179033 = cond_179030 && defunc_0_leq_res_t_res_179031;
                                                        bool x_179034 = !cond_179030;
                                                        bool y_179035 = defunc_0_leq_res_179032 && x_179034;
                                                        bool defunc_0_leq_res_179036 = x_179033 || y_179035;
                                                        
                                                        leq_y_x_179010 = defunc_0_leq_res_179036;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                    
                                                    if (leq_y_x_179010) {
                                                        int64_t tmp_179040 = add64(tt_178952, n_179003);
                                                        int64_t tmp_179041 = sub64(count_178954, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tmp_179040;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tt_178953;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = tmp_179041;
                                                    } else {
                                                        int64_t tmp_179042 = add64(tt_178952, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tt_178952;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tmp_179042;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = count_178954;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = ss_178950;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                }
                                                defunc_0_lifted_step_res_f_res_178964 = defunc_0_lifted_step_res_f_res_f_res_178970;
                                                defunc_0_lifted_step_res_f_res_178965 = defunc_0_lifted_step_res_f_res_f_res_178971;
                                                defunc_0_lifted_step_res_f_res_178966 = defunc_0_lifted_step_res_f_res_f_res_178972;
                                                defunc_0_lifted_step_res_f_res_178967 = defunc_0_lifted_step_res_f_res_f_res_178973;
                                            }
                                            defunc_0_lifted_step_res_178957 = defunc_0_lifted_step_res_f_res_178964;
                                            defunc_0_lifted_step_res_178958 = defunc_0_lifted_step_res_f_res_178965;
                                            defunc_0_lifted_step_res_178959 = defunc_0_lifted_step_res_f_res_178966;
                                            defunc_0_lifted_step_res_178960 = defunc_0_lifted_step_res_f_res_178967;
                                        }
                                        
                                        int64_t loopres_179043;
                                        int64_t loopres_179044;
                                        int64_t loopres_179045;
                                        int64_t loopres_179046;
                                        int64_t loopres_179047;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_179043, &loopres_179044, &loopres_179045, &loopres_179046, &loopres_179047, defunc_0_lifted_step_res_178957, ss_178951, defunc_0_lifted_step_res_178958, defunc_0_lifted_step_res_178959, defunc_0_lifted_step_res_178960) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179048 = slt64((int64_t) 0, loopres_179047);
                                        bool loop_while_tmp_181782 = loop_cond_179048;
                                        int64_t ss_tmp_181783 = loopres_179043;
                                        int64_t ss_tmp_181784 = loopres_179044;
                                        int64_t tt_tmp_181785 = loopres_179045;
                                        int64_t tt_tmp_181786 = loopres_179046;
                                        int64_t count_tmp_181787 = loopres_179047;
                                        
                                        loop_while_178949 = loop_while_tmp_181782;
                                        ss_178950 = ss_tmp_181783;
                                        ss_178951 = ss_tmp_181784;
                                        tt_178952 = tt_tmp_181785;
                                        tt_178953 = tt_tmp_181786;
                                        count_178954 = count_tmp_181787;
                                    }
                                    defunc_0_split_count_res_178943 = loop_while_178949;
                                    defunc_0_split_count_res_178944 = ss_178950;
                                    defunc_0_split_count_res_178945 = ss_178951;
                                    defunc_0_split_count_res_178946 = tt_178952;
                                    defunc_0_split_count_res_178947 = tt_178953;
                                    defunc_0_split_count_res_178948 = count_178954;
                                    ((int64_t *) mem_180841)[i_179975] = defunc_0_split_count_res_178944;
                                    ((int64_t *) mem_180843)[i_179975] = defunc_0_split_count_res_178946;
                                }
                                if (mem_180857_cached_sizze_182060 < flat_dim_178785) {
                                    err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182060, flat_dim_178785);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180860_cached_sizze_182061 < bytes_180859) {
                                    err = lexical_realloc(ctx, &mem_180860, &mem_180860_cached_sizze_182061, bytes_180859);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180863_cached_sizze_182062 < bytes_180859) {
                                    err = lexical_realloc(ctx, &mem_180863, &mem_180863_cached_sizze_182062, bytes_180859);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179984 = 0; i_179984 < num_blocks_178782; i_179984++) {
                                    bool y_179057 = slt64(i_179984, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool index_certs_179059;
                                    
                                    if (!y_179057) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179984, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179060 = ((int64_t *) mem_180841)[i_179984];
                                    int64_t defunc_0_f_res_179061 = ((int64_t *) mem_180843)[i_179984];
                                    int64_t tmp_179062 = add64((int64_t) 1, i_179984);
                                    bool x_179063 = sle64((int64_t) 0, tmp_179062);
                                    bool y_179064 = slt64(tmp_179062, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool bounds_check_179065 = x_179063 && y_179064;
                                    bool index_certs_179066;
                                    
                                    if (!bounds_check_179065) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179062, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179067 = ((int64_t *) mem_180841)[tmp_179062];
                                    int64_t defunc_0_f_res_179068 = ((int64_t *) mem_180843)[tmp_179062];
                                    int64_t merge_sequential_arg2_179069 = add64(stride_178762, defunc_0_f_res_179061);
                                    int64_t merge_sequential_arg2_179070 = add64(stride_178762, defunc_0_f_res_179068);
                                    int64_t j_m_i_179071 = sub64(merge_sequential_arg2_179070, merge_sequential_arg2_179069);
                                    bool empty_slice_179072 = j_m_i_179071 == (int64_t) 0;
                                    int64_t m_179073 = sub64(j_m_i_179071, (int64_t) 1);
                                    int64_t i_p_m_t_s_179074 = add64(merge_sequential_arg2_179069, m_179073);
                                    bool zzero_leq_i_p_m_t_s_179075 = sle64((int64_t) 0, i_p_m_t_s_179074);
                                    bool i_p_m_t_s_leq_w_179076 = slt64(i_p_m_t_s_179074, next_stride_178763);
                                    bool zzero_lte_i_179077 = sle64((int64_t) 0, merge_sequential_arg2_179069);
                                    bool i_lte_j_179078 = sle64(merge_sequential_arg2_179069, merge_sequential_arg2_179070);
                                    bool y_179079 = i_p_m_t_s_leq_w_179076 && zzero_lte_i_179077;
                                    bool y_179080 = zzero_leq_i_p_m_t_s_179075 && y_179079;
                                    bool forwards_ok_179081 = i_lte_j_179078 && y_179080;
                                    bool ok_or_empty_179082 = empty_slice_179072 || forwards_ok_179081;
                                    bool index_certs_179083;
                                    
                                    if (!ok_or_empty_179082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179069, ":", (long long) merge_sequential_arg2_179070, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179084 = sub64(defunc_0_f_res_179067, defunc_0_f_res_179060);
                                    bool empty_slice_179085 = j_m_i_179084 == (int64_t) 0;
                                    int64_t m_179086 = sub64(j_m_i_179084, (int64_t) 1);
                                    int64_t i_p_m_t_s_179087 = add64(defunc_0_f_res_179060, m_179086);
                                    bool zzero_leq_i_p_m_t_s_179088 = sle64((int64_t) 0, i_p_m_t_s_179087);
                                    bool i_p_m_t_s_leq_w_179089 = slt64(i_p_m_t_s_179087, next_stride_178763);
                                    bool zzero_lte_i_179090 = sle64((int64_t) 0, defunc_0_f_res_179060);
                                    bool i_lte_j_179091 = sle64(defunc_0_f_res_179060, defunc_0_f_res_179067);
                                    bool y_179092 = i_p_m_t_s_leq_w_179089 && zzero_lte_i_179090;
                                    bool y_179093 = zzero_leq_i_p_m_t_s_179088 && y_179092;
                                    bool forwards_ok_179094 = i_lte_j_179091 && y_179093;
                                    bool ok_or_empty_179095 = empty_slice_179085 || forwards_ok_179094;
                                    bool index_certs_179096;
                                    
                                    if (!ok_or_empty_179095) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179060, ":", (long long) defunc_0_f_res_179067, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179097 = slt64((int64_t) 0, j_m_i_179084);
                                    int8_t dummy_179098;
                                    int64_t dummy_179099;
                                    double dummy_179100;
                                    
                                    if (cond_179097) {
                                        bool index_certs_179101;
                                        
                                        if (!cond_179097) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179102 = start_178835 + defunc_0_f_res_179060;
                                        int8_t head_res_179103 = ((int8_t *) mem_param_180813.mem)[slice_179102];
                                        int64_t head_res_179104 = ((int64_t *) mem_param_180816.mem)[slice_179102];
                                        double head_res_179105 = ((double *) mem_param_180819.mem)[slice_179102];
                                        
                                        dummy_179098 = head_res_179103;
                                        dummy_179099 = head_res_179104;
                                        dummy_179100 = head_res_179105;
                                    } else {
                                        bool y_179106 = slt64((int64_t) 0, j_m_i_179071);
                                        bool index_certs_179107;
                                        
                                        if (!y_179106) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179108 = start_178835 + merge_sequential_arg2_179069;
                                        int8_t head_res_179109 = ((int8_t *) mem_param_180813.mem)[slice_179108];
                                        int64_t head_res_179110 = ((int64_t *) mem_param_180816.mem)[slice_179108];
                                        double head_res_179111 = ((double *) mem_param_180819.mem)[slice_179108];
                                        
                                        dummy_179098 = head_res_179109;
                                        dummy_179099 = head_res_179110;
                                        dummy_179100 = head_res_179111;
                                    }
                                    for (int64_t nest_i_181791 = 0; nest_i_181791 < merge_block_sizze_178572; nest_i_181791++) {
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + nest_i_181791] = dummy_179098;
                                    }
                                    for (int64_t nest_i_181792 = 0; nest_i_181792 < merge_block_sizze_178572; nest_i_181792++) {
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + nest_i_181792] = dummy_179099;
                                    }
                                    for (int64_t nest_i_181793 = 0; nest_i_181793 < merge_block_sizze_178572; nest_i_181793++) {
                                        ((double *) mem_180863)[i_179984 * merge_block_sizze_178572 + nest_i_181793] = dummy_179100;
                                    }
                                    
                                    int64_t data_179115;
                                    int64_t i_179120 = (int64_t) 0;
                                    
                                    for (int64_t k_179119 = 0; k_179119 < merge_block_sizze_178572; k_179119++) {
                                        int64_t j_179124 = sub64(k_179119, i_179120);
                                        bool cond_179125 = j_179124 == j_m_i_179071;
                                        bool cond_179126;
                                        
                                        if (cond_179125) {
                                            cond_179126 = 1;
                                        } else {
                                            bool cond_179127 = slt64(i_179120, j_m_i_179084);
                                            bool cond_f_res_179128;
                                            
                                            if (cond_179127) {
                                                bool x_179129 = sle64((int64_t) 0, j_179124);
                                                bool y_179130 = slt64(j_179124, j_m_i_179071);
                                                bool bounds_check_179131 = x_179129 && y_179130;
                                                bool index_certs_179132;
                                                
                                                if (!bounds_check_179131) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179138 = sle64((int64_t) 0, i_179120);
                                                bool bounds_check_179139 = cond_179127 && x_179138;
                                                bool index_certs_179140;
                                                
                                                if (!bounds_check_179139) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179133 = merge_sequential_arg2_179069 + j_179124;
                                                int64_t slice_179134 = start_178835 + slice_179133;
                                                int8_t leq_arg1_179135 = ((int8_t *) mem_param_180813.mem)[slice_179134];
                                                int64_t leq_arg1_179136 = ((int64_t *) mem_param_180816.mem)[slice_179134];
                                                double leq_arg1_179137 = ((double *) mem_param_180819.mem)[slice_179134];
                                                int64_t slice_179141 = defunc_0_f_res_179060 + i_179120;
                                                int64_t slice_179142 = start_178835 + slice_179141;
                                                int8_t leq_arg0_179143 = ((int8_t *) mem_param_180813.mem)[slice_179142];
                                                int64_t leq_arg0_179144 = ((int64_t *) mem_param_180816.mem)[slice_179142];
                                                double leq_arg0_179145 = ((double *) mem_param_180819.mem)[slice_179142];
                                                bool cond_179146 = leq_arg0_179143 == leq_arg1_179135;
                                                bool defunc_0_leq_res_t_res_179147 = sle64(leq_arg0_179144, leq_arg1_179136);
                                                bool defunc_0_leq_res_179148 = leq_arg0_179145 <= leq_arg1_179137;
                                                bool x_179149 = cond_179146 && defunc_0_leq_res_t_res_179147;
                                                bool x_179150 = !cond_179146;
                                                bool y_179151 = defunc_0_leq_res_179148 && x_179150;
                                                bool defunc_0_leq_res_179152 = x_179149 || y_179151;
                                                
                                                cond_f_res_179128 = defunc_0_leq_res_179152;
                                            } else {
                                                cond_f_res_179128 = 0;
                                            }
                                            cond_179126 = cond_f_res_179128;
                                        }
                                        
                                        int64_t loopres_179153;
                                        int8_t loopres_179154;
                                        int64_t loopres_179155;
                                        double loopres_179156;
                                        
                                        if (cond_179126) {
                                            bool x_179158 = sle64((int64_t) 0, i_179120);
                                            bool y_179159 = slt64(i_179120, j_m_i_179084);
                                            bool bounds_check_179160 = x_179158 && y_179159;
                                            bool index_certs_179161;
                                            
                                            if (!bounds_check_179160) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179157 = add64((int64_t) 1, i_179120);
                                            int64_t slice_179162 = defunc_0_f_res_179060 + i_179120;
                                            int64_t slice_179163 = start_178835 + slice_179162;
                                            int8_t tmp_179164 = ((int8_t *) mem_param_180813.mem)[slice_179163];
                                            int64_t tmp_179165 = ((int64_t *) mem_param_180816.mem)[slice_179163];
                                            double tmp_179166 = ((double *) mem_param_180819.mem)[slice_179163];
                                            
                                            loopres_179153 = tmp_179157;
                                            loopres_179154 = tmp_179164;
                                            loopres_179155 = tmp_179165;
                                            loopres_179156 = tmp_179166;
                                        } else {
                                            bool x_179167 = sle64((int64_t) 0, j_179124);
                                            bool y_179168 = slt64(j_179124, j_m_i_179071);
                                            bool bounds_check_179169 = x_179167 && y_179168;
                                            bool index_certs_179170;
                                            
                                            if (!bounds_check_179169) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179171 = merge_sequential_arg2_179069 + j_179124;
                                            int64_t slice_179172 = start_178835 + slice_179171;
                                            int8_t tmp_179173 = ((int8_t *) mem_param_180813.mem)[slice_179172];
                                            int64_t tmp_179174 = ((int64_t *) mem_param_180816.mem)[slice_179172];
                                            double tmp_179175 = ((double *) mem_param_180819.mem)[slice_179172];
                                            
                                            loopres_179153 = i_179120;
                                            loopres_179154 = tmp_179173;
                                            loopres_179155 = tmp_179174;
                                            loopres_179156 = tmp_179175;
                                        }
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179154;
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179155;
                                        ((double *) mem_180863)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179156;
                                        
                                        int64_t i_tmp_181794 = loopres_179153;
                                        
                                        i_179120 = i_tmp_181794;
                                    }
                                    data_179115 = i_179120;
                                }
                                if (memblock_alloc(ctx, &mem_180912, flat_dim_178785, "mem_180912")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180912.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint8_t *) mem_180857, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180916, bytes_180859, "mem_180916")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180916.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint64_t *) mem_180860, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180920, bytes_180859, "mem_180920")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180920.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint64_t *) mem_180863, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180912, "mem_180912") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180916, "mem_180916") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180920, "mem_180920") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180821, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180953.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180824, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180950.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180827, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180947.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180967, bytes_180820, "mem_180967")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180967.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint8_t *) mem_180821, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180971, bytes_180823, "mem_180971")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180971.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint64_t *) mem_180824, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180975, bytes_180823, "mem_180975")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180975.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint64_t *) mem_180827, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        
                        bool loop_cond_179195 = slt64(next_stride_178763, flat_dim_178567);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181761, &mem_180967, "mem_180967") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181762, &mem_180971, "mem_180971") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181763, &mem_180975, "mem_180975") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181764 = bytes_180820;
                        bool loop_while_tmp_181765 = loop_cond_179195;
                        int64_t stride_tmp_181769 = next_stride_178763;
                        
                        if (memblock_set(ctx, &mem_param_180813, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180816, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180819, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178757 = loop_dz2084Uz2082U_tmp_181764;
                        loop_while_178758 = loop_while_tmp_181765;
                        stride_178762 = stride_tmp_181769;
                    }
                    if (memblock_set(ctx, &ext_mem_180985, &mem_param_180813, "mem_param_180813") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180984, &mem_param_180816, "mem_param_180816") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180983, &mem_param_180819, "mem_param_180819") != 0)
                        return 1;
                    data_178751 = loop_dz2084Uz2082U_178757;
                    data_178752 = loop_while_178758;
                    data_178756 = stride_178762;
                    if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
                        return 1;
                    
                    bool empty_slice_179196 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179197 = sle64((int64_t) 0, zs_lhs_178551);
                    bool i_p_m_t_s_leq_w_179198 = slt64(zs_lhs_178551, data_178751);
                    bool y_179199 = zzero_leq_i_p_m_t_s_179197 && i_p_m_t_s_leq_w_179198;
                    bool ok_or_empty_179200 = empty_slice_179196 || y_179199;
                    bool index_certs_179201;
                    
                    if (!ok_or_empty_179200) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] out of bounds for array of shape [", (long long) data_178751, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180994, &ext_mem_180985, "ext_mem_180985") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &ext_mem_180984, "ext_mem_180984") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &ext_mem_180983, "ext_mem_180983") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180661, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180994.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180664, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180991.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180667, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180988.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
                    return 1;
                for (int64_t i_180000 = 0; i_180000 < perThread_174828; i_180000++) {
                    int64_t lifted_lambda_res_179223 = add64(zm_rhs_178507, i_180000);
                    
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + i_180000] = lifted_lambda_res_179223;
                }
                
                bool cond_179225 = card_178508 == zp_rhs_174827;
                
                if (cond_179225) {
                    bool y_179227 = slt64(card_178508, perThread_174828);
                    bool index_certs_179228;
                    
                    if (!y_179227) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + card_178508] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181020, bytes_180313, "mem_181020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181799 = 0; nest_i_181799 < window_sizze_162526; nest_i_181799++) {
                ((double *) mem_181020.mem)[nest_i_181799] = 0.0;
            }
            if (memblock_alloc(ctx, &mem_181022, bytes_180313, "mem_181022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181800 = 0; nest_i_181800 < window_sizze_162526; nest_i_181800++) {
                ((int64_t *) mem_181022.mem)[nest_i_181800] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181023, window_sizze_162526, "mem_181023")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181801 = 0; nest_i_181801 < window_sizze_162526; nest_i_181801++) {
                ((int8_t *) mem_181023.mem)[nest_i_181801] = (int8_t) -1;
            }
            for (int64_t write_iter_180015 = 0; write_iter_180015 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829; write_iter_180015++) {
                int64_t new_index_180167 = squot64(write_iter_180015, perThread_174828);
                int64_t binop_y_180169 = perThread_174828 * new_index_180167;
                int64_t new_index_180170 = write_iter_180015 - binop_y_180169;
                int64_t write_iv_180019 = ((int64_t *) mem_180659)[new_index_180167 * perThread_174828 + new_index_180170];
                int8_t write_iv_180020 = ((int8_t *) mem_180661)[new_index_180167 * perThread_174828 + new_index_180170];
                int64_t write_iv_180021 = ((int64_t *) mem_180664)[new_index_180167 * perThread_174828 + new_index_180170];
                double write_iv_180022 = ((double *) mem_180667)[new_index_180167 * perThread_174828 + new_index_180170];
                
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_162526)) {
                    ((int8_t *) mem_181023.mem)[write_iv_180019] = write_iv_180020;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_162526)) {
                    ((int64_t *) mem_181022.mem)[write_iv_180019] = write_iv_180021;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_162526)) {
                    ((double *) mem_181020.mem)[write_iv_180019] = write_iv_180022;
                }
            }
            
            int64_t index_concat_branch_179251;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179252 = ((int64_t *) mem_180642)[index_concat_i_177592];
                
                index_concat_branch_179251 = index_concat_179252;
            } else {
                index_concat_branch_179251 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179253;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179254 = ((int64_t *) mem_180644)[index_concat_i_177592];
                
                index_concat_branch_179253 = index_concat_179254;
            } else {
                index_concat_branch_179253 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_181023, "mem_181023") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_181022, "mem_181022") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_181020, "mem_181020") != 0)
                return 1;
            loopres_174818 = index_concat_branch_179251;
            loopres_174819 = index_concat_branch_179253;
        } else {
            double leq_lhs_175809 = ((double *) a_list_mem_180280.mem)[p_174790];
            double leq_rhs_175812 = ((double *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_175813 = leq_lhs_175809 <= leq_rhs_175812;
            double lowest_175814;
            
            if (defunc_0_leq_res_175813) {
                bool index_certs_179255;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_lhs_175809;
            } else {
                bool index_certs_175819;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_rhs_175812;
            }
            if (mem_180297_cached_sizze_182027 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182027, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180299_cached_sizze_182028 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182028, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180030 = 0; i_180030 < threads_162527; i_180030++) {
                int64_t index_primexp_180246 = add64((int64_t) 1, i_180030);
                int64_t zs_lhs_175835 = mul64(zt_rhs_175828, index_primexp_180246);
                int64_t index_175836 = sdiv64(zs_lhs_175835, partitionFunc_arg0_175805);
                bool cond_175837 = slt64(window_sizze_162526, index_175836);
                int64_t loop_over_175838;
                
                if (cond_175837) {
                    loop_over_175838 = window_sizze_162526;
                } else {
                    loop_over_175838 = index_175836;
                }
                
                int64_t loop_over_175839;
                
                if (cond_175837) {
                    int64_t loop_over_t_res_179256 = sub64(index_175836, window_sizze_162526);
                    
                    loop_over_175839 = loop_over_t_res_179256;
                } else {
                    loop_over_175839 = (int64_t) 0;
                }
                
                int64_t loop_over_175841;
                
                if (cond_175837) {
                    int64_t zm_lhs_179257 = sub64(index_175836, window_sizze_162526);
                    int64_t loop_over_t_res_179258 = sub64(zm_lhs_179257, (int64_t) 1);
                    
                    loop_over_175841 = loop_over_t_res_179258;
                } else {
                    loop_over_175841 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175844;
                int64_t defunc_0_f_res_175845;
                int64_t defunc_0_f_res_175846;
                int64_t defunc_0_f_res_175847;
                bool loop_while_175848;
                int64_t p_175849;
                int64_t p_175850;
                int64_t p_175851;
                
                loop_while_175848 = 1;
                p_175849 = loop_over_175841;
                p_175850 = loop_over_175838;
                p_175851 = loop_over_175839;
                while (loop_while_175848) {
                    int64_t zs_lhs_175852 = sub64(p_175850, p_175849);
                    int64_t offset_175853 = sdiv64(zs_lhs_175852, (int64_t) 2);
                    int64_t ai_175854 = sub64(p_175850, offset_175853);
                    int64_t max_arg1_175855 = add64(p_175851, offset_175853);
                    int64_t max_res_175856 = smax64((int64_t) 0, max_arg1_175855);
                    bool cond_175857 = slt64((int64_t) 0, max_res_175856);
                    double b_prev_175858;
                    
                    if (cond_175857) {
                        int64_t tmp_179259 = sub64(max_res_175856, (int64_t) 1);
                        bool x_179260 = sle64((int64_t) 0, tmp_179259);
                        bool y_179261 = slt64(tmp_179259, window_sizze_162526);
                        bool bounds_check_179262 = x_179260 && y_179261;
                        bool index_certs_179263;
                        
                        if (!bounds_check_179262) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179259, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179264 = p_174791 + tmp_179259;
                        double b_prev_t_res_179265 = ((double *) b_list_mem_180281.mem)[slice_179264];
                        
                        b_prev_175858 = b_prev_t_res_179265;
                    } else {
                        b_prev_175858 = lowest_175814;
                    }
                    
                    bool cond_175865 = sle64(ai_175854, (int64_t) 0);
                    int64_t loopres_175866;
                    int64_t loopres_175867;
                    int64_t loopres_175868;
                    bool loopres_175869;
                    
                    if (cond_175865) {
                        loopres_175866 = p_175849;
                        loopres_175867 = (int64_t) 0;
                        loopres_175868 = max_res_175856;
                        loopres_175869 = 0;
                    } else {
                        bool cond_175870 = sle64(window_sizze_162526, max_res_175856);
                        int64_t loopres_f_res_175871;
                        int64_t loopres_f_res_175872;
                        int64_t loopres_f_res_175873;
                        bool loopres_f_res_175874;
                        
                        if (cond_175870) {
                            int64_t min_res_179267 = smin64(m_174779, ai_175854);
                            bool x_179268 = sle64((int64_t) 0, m_174779);
                            bool y_179269 = slt64(m_174779, window_sizze_162526);
                            bool bounds_check_179270 = x_179268 && y_179269;
                            bool index_certs_179271;
                            
                            if (!bounds_check_179270) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179274 = sle64((int64_t) 0, min_res_179267);
                            bool y_179275 = slt64(min_res_179267, window_sizze_162526);
                            bool bounds_check_179276 = x_179274 && y_179275;
                            bool index_certs_179277;
                            
                            if (!bounds_check_179276) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179267, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_179273 = ((double *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_179278 = p_174790 + min_res_179267;
                            double leq_rhs_179279 = ((double *) a_list_mem_180280.mem)[slice_179278];
                            bool defunc_0_leq_res_179280 = leq_lhs_179273 <= leq_rhs_179279;
                            int64_t loopres_f_res_t_res_179281;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179281 = ai_175854;
                            } else {
                                loopres_f_res_t_res_179281 = p_175850;
                            }
                            
                            bool x_179282 = !defunc_0_leq_res_179280;
                            int64_t loopres_f_res_t_res_179283;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179283 = window_sizze_162526;
                            } else {
                                int64_t tmp_179284 = sub64(m_174779, offset_175853);
                                
                                loopres_f_res_t_res_179283 = tmp_179284;
                            }
                            loopres_f_res_175871 = p_175849;
                            loopres_f_res_175872 = loopres_f_res_t_res_179281;
                            loopres_f_res_175873 = loopres_f_res_t_res_179283;
                            loopres_f_res_175874 = x_179282;
                        } else {
                            bool cond_175892 = sle64(window_sizze_162526, ai_175854);
                            int64_t loopres_f_res_f_res_175893;
                            int64_t loopres_f_res_f_res_175894;
                            int64_t loopres_f_res_f_res_175895;
                            bool loopres_f_res_f_res_175896;
                            
                            if (cond_175892) {
                                int64_t min_res_179286 = smin64(m_174779, max_res_175856);
                                bool x_179287 = sle64((int64_t) 0, m_174779);
                                bool y_179288 = slt64(m_174779, window_sizze_162526);
                                bool bounds_check_179289 = x_179287 && y_179288;
                                bool index_certs_179290;
                                
                                if (!bounds_check_179289) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179293 = sle64((int64_t) 0, min_res_179286);
                                bool y_179294 = slt64(min_res_179286, window_sizze_162526);
                                bool bounds_check_179295 = x_179293 && y_179294;
                                bool index_certs_179296;
                                
                                if (!bounds_check_179295) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179286, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_179292 = ((double *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_179297 = p_174791 + min_res_179286;
                                double leq_rhs_179298 = ((double *) b_list_mem_180281.mem)[slice_179297];
                                bool defunc_0_leq_res_179299 = leq_lhs_179292 <= leq_rhs_179298;
                                int64_t loopres_f_res_f_res_t_res_179300;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179300 = max_res_175856;
                                } else {
                                    loopres_f_res_f_res_t_res_179300 = p_175851;
                                }
                                
                                bool x_179301 = !defunc_0_leq_res_179299;
                                int64_t loopres_f_res_f_res_t_res_179302;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179302 = window_sizze_162526;
                                } else {
                                    loopres_f_res_f_res_t_res_179302 = m_174779;
                                }
                                loopres_f_res_f_res_175893 = p_175849;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_t_res_179302;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_t_res_179300;
                                loopres_f_res_f_res_175896 = x_179301;
                            } else {
                                bool cond_175913 = sle64(p_175850, p_175849);
                                int64_t loopres_f_res_f_res_f_res_175914;
                                int64_t loopres_f_res_f_res_f_res_175915;
                                int64_t loopres_f_res_f_res_f_res_175916;
                                bool loopres_f_res_f_res_f_res_175917;
                                
                                if (cond_175913) {
                                    bool cond_179341 = slt64(ai_175854, window_sizze_162526);
                                    int64_t ai_179342;
                                    
                                    if (cond_179341) {
                                        ai_179342 = ai_175854;
                                    } else {
                                        ai_179342 = m_174779;
                                    }
                                    
                                    bool x_179355 = sle64((int64_t) 0, ai_179342);
                                    bool y_179356 = slt64(ai_179342, window_sizze_162526);
                                    bool bounds_check_179357 = x_179355 && y_179356;
                                    bool index_certs_179358;
                                    
                                    if (!bounds_check_179357) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179342, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_179344;
                                    
                                    if (cond_175857) {
                                        int64_t tmp_179345 = sub64(max_res_175856, (int64_t) 1);
                                        bool x_179346 = sle64((int64_t) 0, tmp_179345);
                                        bool y_179347 = slt64(tmp_179345, window_sizze_162526);
                                        bool bounds_check_179348 = x_179346 && y_179347;
                                        bool index_certs_179349;
                                        
                                        if (!bounds_check_179348) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179345, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179350 = p_174791 + tmp_179345;
                                        double b_prev_t_res_179351 = ((double *) b_list_mem_180281.mem)[slice_179350];
                                        
                                        b_prev_179344 = b_prev_t_res_179351;
                                    } else {
                                        bool index_certs_179353;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179344 = leq_rhs_175812;
                                    }
                                    
                                    int64_t slice_179359 = p_174790 + ai_179342;
                                    double gt_lhs_179360 = ((double *) a_list_mem_180280.mem)[slice_179359];
                                    bool defunc_0_gt_res_179361 = b_prev_179344 < gt_lhs_179360;
                                    int64_t defunc_0_partFunc_sequential_search_res_179362;
                                    int64_t defunc_0_partFunc_sequential_search_res_179363;
                                    
                                    if (defunc_0_gt_res_179361) {
                                        int64_t zl_rhs_179364 = sub64(window_sizze_162526, max_res_175856);
                                        bool loop_cond_179365 = slt64((int64_t) 0, zl_rhs_179364);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179366;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179368;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179369;
                                        bool loop_while_179370;
                                        int64_t p_179371;
                                        int64_t p_179372;
                                        int64_t p_179373;
                                        
                                        loop_while_179370 = loop_cond_179365;
                                        p_179371 = ai_179342;
                                        p_179372 = max_res_175856;
                                        p_179373 = (int64_t) 0;
                                        while (loop_while_179370) {
                                            int64_t i_a_179374 = sub64(ai_179342, p_179373);
                                            int64_t i_b_179375 = add64(max_res_175856, p_179373);
                                            int64_t leq_lhs_179376 = sub64(i_a_179374, (int64_t) 1);
                                            bool x_179377 = sle64((int64_t) 0, leq_lhs_179376);
                                            bool y_179378 = slt64(leq_lhs_179376, window_sizze_162526);
                                            bool bounds_check_179379 = x_179377 && y_179378;
                                            bool index_certs_179380;
                                            
                                            if (!bounds_check_179379) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179376, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179383 = sle64((int64_t) 0, i_b_179375);
                                            bool y_179384 = slt64(i_b_179375, window_sizze_162526);
                                            bool bounds_check_179385 = x_179383 && y_179384;
                                            bool index_certs_179386;
                                            
                                            if (!bounds_check_179385) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179375, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179381 = p_174790 + leq_lhs_179376;
                                            double leq_lhs_179382 = ((double *) a_list_mem_180280.mem)[slice_179381];
                                            int64_t slice_179387 = p_174791 + i_b_179375;
                                            double leq_rhs_179388 = ((double *) b_list_mem_180281.mem)[slice_179387];
                                            bool defunc_0_leq_res_179389 = leq_lhs_179382 <= leq_rhs_179388;
                                            int64_t loopres_179390;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179390 = i_a_179374;
                                            } else {
                                                loopres_179390 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179391;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179391 = i_b_179375;
                                            } else {
                                                loopres_179391 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179392;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179392 = zl_rhs_179364;
                                            } else {
                                                int64_t tmp_179393 = add64((int64_t) 1, p_179373);
                                                
                                                loopres_179392 = tmp_179393;
                                            }
                                            
                                            bool loop_cond_179394 = slt64(loopres_179392, zl_rhs_179364);
                                            bool loop_while_tmp_181811 = loop_cond_179394;
                                            int64_t p_tmp_181812 = loopres_179390;
                                            int64_t p_tmp_181813 = loopres_179391;
                                            int64_t p_tmp_181814 = loopres_179392;
                                            
                                            loop_while_179370 = loop_while_tmp_181811;
                                            p_179371 = p_tmp_181812;
                                            p_179372 = p_tmp_181813;
                                            p_179373 = p_tmp_181814;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179366 = loop_while_179370;
                                        defunc_0_partFunc_sequential_search_res_t_res_179367 = p_179371;
                                        defunc_0_partFunc_sequential_search_res_t_res_179368 = p_179372;
                                        defunc_0_partFunc_sequential_search_res_t_res_179369 = p_179373;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_t_res_179368;
                                    } else {
                                        int64_t zl_rhs_179395 = sub64(max_res_175856, (int64_t) 1);
                                        bool loop_cond_179396 = slt64((int64_t) 0, zl_rhs_179395);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179397;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179399;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179400;
                                        bool loop_while_179401;
                                        int64_t p_179402;
                                        int64_t p_179403;
                                        int64_t p_179404;
                                        
                                        loop_while_179401 = loop_cond_179396;
                                        p_179402 = ai_179342;
                                        p_179403 = max_res_175856;
                                        p_179404 = (int64_t) 0;
                                        while (loop_while_179401) {
                                            int64_t zp_lhs_179405 = add64(ai_179342, p_179404);
                                            int64_t hi_a_179406 = add64((int64_t) 1, zp_lhs_179405);
                                            bool cond_179407 = slt64(hi_a_179406, window_sizze_162526);
                                            int64_t i_a_179408;
                                            
                                            if (cond_179407) {
                                                i_a_179408 = hi_a_179406;
                                            } else {
                                                i_a_179408 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_179410 = sub64(max_res_175856, p_179404);
                                            int64_t i_b_179411 = sub64(zm_lhs_179410, (int64_t) 1);
                                            bool x_179412 = sle64((int64_t) 0, i_a_179408);
                                            bool y_179413 = slt64(i_a_179408, window_sizze_162526);
                                            bool bounds_check_179414 = x_179412 && y_179413;
                                            bool index_certs_179415;
                                            
                                            if (!bounds_check_179414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179408, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179418 = sle64((int64_t) 0, i_b_179411);
                                            bool y_179419 = slt64(i_b_179411, window_sizze_162526);
                                            bool bounds_check_179420 = x_179418 && y_179419;
                                            bool index_certs_179421;
                                            
                                            if (!bounds_check_179420) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179411, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179416 = p_174790 + i_a_179408;
                                            double gt_lhs_179417 = ((double *) a_list_mem_180280.mem)[slice_179416];
                                            int64_t slice_179422 = p_174791 + i_b_179411;
                                            double gt_rhs_179423 = ((double *) b_list_mem_180281.mem)[slice_179422];
                                            bool defunc_0_gt_res_179424 = gt_rhs_179423 < gt_lhs_179417;
                                            int64_t loopres_179425;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179425 = i_a_179408;
                                            } else {
                                                loopres_179425 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179426;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179426 = zm_lhs_179410;
                                            } else {
                                                loopres_179426 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179427;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179427 = zl_rhs_179395;
                                            } else {
                                                int64_t tmp_179428 = add64((int64_t) 1, p_179404);
                                                
                                                loopres_179427 = tmp_179428;
                                            }
                                            
                                            bool loop_cond_179429 = slt64(loopres_179427, zl_rhs_179395);
                                            bool loop_while_tmp_181815 = loop_cond_179429;
                                            int64_t p_tmp_181816 = loopres_179425;
                                            int64_t p_tmp_181817 = loopres_179426;
                                            int64_t p_tmp_181818 = loopres_179427;
                                            
                                            loop_while_179401 = loop_while_tmp_181815;
                                            p_179402 = p_tmp_181816;
                                            p_179403 = p_tmp_181817;
                                            p_179404 = p_tmp_181818;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179397 = loop_while_179401;
                                        defunc_0_partFunc_sequential_search_res_f_res_179398 = p_179402;
                                        defunc_0_partFunc_sequential_search_res_f_res_179399 = p_179403;
                                        defunc_0_partFunc_sequential_search_res_f_res_179400 = p_179404;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_f_res_179399;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = p_175849;
                                    loopres_f_res_f_res_f_res_175915 = defunc_0_partFunc_sequential_search_res_179362;
                                    loopres_f_res_f_res_f_res_175916 = defunc_0_partFunc_sequential_search_res_179363;
                                    loopres_f_res_f_res_f_res_175917 = 0;
                                } else {
                                    bool x_176001 = sle64((int64_t) 0, ai_175854);
                                    bool y_176002 = slt64(ai_175854, window_sizze_162526);
                                    bool bounds_check_176003 = x_176001 && y_176002;
                                    bool index_certs_176004;
                                    
                                    if (!bounds_check_176003) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175854, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177670 = p_174790 + ai_175854;
                                    double gt_lhs_176005 = ((double *) a_list_mem_180280.mem)[slice_177670];
                                    bool defunc_0_gt_res_176006 = b_prev_175858 < gt_lhs_176005;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176007;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176008;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176009;
                                    bool loopres_f_res_f_res_f_res_f_res_176010;
                                    
                                    if (defunc_0_gt_res_176006) {
                                        int64_t leq_lhs_179430 = sub64(ai_175854, (int64_t) 1);
                                        bool x_179431 = sle64((int64_t) 0, leq_lhs_179430);
                                        bool y_179432 = slt64(leq_lhs_179430, window_sizze_162526);
                                        bool bounds_check_179433 = x_179431 && y_179432;
                                        bool index_certs_179434;
                                        
                                        if (!bounds_check_179433) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179430, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179437 = sle64((int64_t) 0, max_res_175856);
                                        bool y_179438 = slt64(max_res_175856, window_sizze_162526);
                                        bool bounds_check_179439 = x_179437 && y_179438;
                                        bool index_certs_179440;
                                        
                                        if (!bounds_check_179439) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175856, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179435 = p_174790 + leq_lhs_179430;
                                        double leq_lhs_179436 = ((double *) a_list_mem_180280.mem)[slice_179435];
                                        int64_t slice_179441 = p_174791 + max_res_175856;
                                        double leq_rhs_179442 = ((double *) b_list_mem_180281.mem)[slice_179441];
                                        bool defunc_0_leq_res_179443 = leq_lhs_179436 <= leq_rhs_179442;
                                        bool x_179444 = !defunc_0_leq_res_179443;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = ai_175854;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = leq_lhs_179430;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = max_res_175856;
                                        } else {
                                            int64_t tmp_179447 = add64((int64_t) 1, max_res_175856);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = tmp_179447;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176007 = p_175849;
                                        loopres_f_res_f_res_f_res_f_res_176008 = loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        loopres_f_res_f_res_f_res_f_res_176009 = loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        loopres_f_res_f_res_f_res_f_res_176010 = x_179444;
                                    } else {
                                        int64_t tmp_176027 = add64((int64_t) 1, ai_175854);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176007 = tmp_176027;
                                        loopres_f_res_f_res_f_res_f_res_176008 = p_175850;
                                        loopres_f_res_f_res_f_res_f_res_176009 = p_175851;
                                        loopres_f_res_f_res_f_res_f_res_176010 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = loopres_f_res_f_res_f_res_f_res_176007;
                                    loopres_f_res_f_res_f_res_175915 = loopres_f_res_f_res_f_res_f_res_176008;
                                    loopres_f_res_f_res_f_res_175916 = loopres_f_res_f_res_f_res_f_res_176009;
                                    loopres_f_res_f_res_f_res_175917 = loopres_f_res_f_res_f_res_f_res_176010;
                                }
                                loopres_f_res_f_res_175893 = loopres_f_res_f_res_f_res_175914;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_f_res_175915;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_f_res_175916;
                                loopres_f_res_f_res_175896 = loopres_f_res_f_res_f_res_175917;
                            }
                            loopres_f_res_175871 = loopres_f_res_f_res_175893;
                            loopres_f_res_175872 = loopres_f_res_f_res_175894;
                            loopres_f_res_175873 = loopres_f_res_f_res_175895;
                            loopres_f_res_175874 = loopres_f_res_f_res_175896;
                        }
                        loopres_175866 = loopres_f_res_175871;
                        loopres_175867 = loopres_f_res_175872;
                        loopres_175868 = loopres_f_res_175873;
                        loopres_175869 = loopres_f_res_175874;
                    }
                    
                    bool loop_while_tmp_181807 = loopres_175869;
                    int64_t p_tmp_181808 = loopres_175866;
                    int64_t p_tmp_181809 = loopres_175867;
                    int64_t p_tmp_181810 = loopres_175868;
                    
                    loop_while_175848 = loop_while_tmp_181807;
                    p_175849 = p_tmp_181808;
                    p_175850 = p_tmp_181809;
                    p_175851 = p_tmp_181810;
                }
                defunc_0_f_res_175844 = loop_while_175848;
                defunc_0_f_res_175845 = p_175849;
                defunc_0_f_res_175846 = p_175850;
                defunc_0_f_res_175847 = p_175851;
                ((int64_t *) mem_180297)[i_180030] = defunc_0_f_res_175846;
                ((int64_t *) mem_180299)[i_180030] = defunc_0_f_res_175847;
            }
            if (memblock_alloc(ctx, &mem_180312, window_sizze_162526, "mem_180312")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181819 = 0; nest_i_181819 < window_sizze_162526; nest_i_181819++) {
                ((int8_t *) mem_180312.mem)[nest_i_181819] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180314, bytes_180313, "mem_180314")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181820 = 0; nest_i_181820 < window_sizze_162526; nest_i_181820++) {
                ((int64_t *) mem_180314.mem)[nest_i_181820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180316, bytes_180313, "mem_180316")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181821 = 0; nest_i_181821 < window_sizze_162526; nest_i_181821++) {
                ((double *) mem_180316.mem)[nest_i_181821] = 0.0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176054;
            int64_t defunc_0_mergeFunc_seq_res_176055;
            bool loop_while_176059;
            int64_t p_176060;
            
            loop_while_176059 = loop_cond_176053;
            p_176060 = (int64_t) 0;
            while (loop_while_176059) {
                bool x_176064 = sle64((int64_t) 0, p_176060);
                bool y_176065 = slt64(p_176060, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176066 = x_176064 && y_176065;
                bool index_certs_176067;
                
                if (!bounds_check_176066) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176060, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177653 = sle64((int64_t) 1, p_176060);
                int64_t index_concat_i_177654 = sub64(p_176060, (int64_t) 1);
                int64_t index_concat_177655;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179448 = ((int64_t *) mem_180297)[index_concat_i_177654];
                    
                    index_concat_177655 = x_179448;
                } else {
                    index_concat_177655 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177657;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177657 = index_concat_177655;
                } else {
                    index_concat_branch_177657 = (int64_t) 0;
                }
                
                int64_t index_concat_177649;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179449 = ((int64_t *) mem_180299)[index_concat_i_177654];
                    
                    index_concat_177649 = x_179449;
                } else {
                    index_concat_177649 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177651;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177651 = index_concat_177649;
                } else {
                    index_concat_branch_177651 = (int64_t) 0;
                }
                
                int64_t ubs_176070 = add64((int64_t) 1, p_176060);
                bool x_176071 = sle64((int64_t) 0, ubs_176070);
                bool y_176072 = slt64(ubs_176070, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176073 = x_176071 && y_176072;
                bool index_certs_176074;
                
                if (!bounds_check_176073) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177641 = sle64((int64_t) 1, ubs_176070);
                int64_t index_concat_177643;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179450 = ((int64_t *) mem_180297)[p_176060];
                    
                    index_concat_177643 = x_179450;
                } else {
                    index_concat_177643 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177645;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177645 = index_concat_177643;
                } else {
                    index_concat_branch_177645 = (int64_t) 0;
                }
                
                int64_t index_concat_177637;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179451 = ((int64_t *) mem_180299)[p_176060];
                    
                    index_concat_177637 = x_179451;
                } else {
                    index_concat_177637 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177639;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177639 = index_concat_177637;
                } else {
                    index_concat_branch_177639 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 = sub64(index_concat_branch_177639, index_concat_branch_177651);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 = sub64(index_concat_branch_177645, index_concat_branch_177657);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t ind_bottom_176080 = add64(index_concat_branch_177651, index_concat_branch_177657);
                int64_t ind_top_176081 = add64(index_concat_branch_177639, index_concat_branch_177645);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 = sub64(ind_top_176081, ind_bottom_176080);
                bool empty_slice_176083 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 == (int64_t) 0;
                int64_t m_176084 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 1);
                int64_t i_p_m_t_s_176085 = add64(m_176084, index_concat_branch_177657);
                bool zzero_leq_i_p_m_t_s_176086 = sle64((int64_t) 0, i_p_m_t_s_176085);
                bool i_p_m_t_s_leq_w_176087 = slt64(i_p_m_t_s_176085, window_sizze_162526);
                bool zzero_lte_i_176088 = sle64((int64_t) 0, index_concat_branch_177657);
                bool i_lte_j_176089 = sle64(index_concat_branch_177657, index_concat_branch_177645);
                bool y_176090 = i_p_m_t_s_leq_w_176087 && zzero_lte_i_176088;
                bool y_176091 = zzero_leq_i_p_m_t_s_176086 && y_176090;
                bool forwards_ok_176092 = i_lte_j_176089 && y_176091;
                bool ok_or_empty_176093 = empty_slice_176083 || forwards_ok_176092;
                bool index_certs_176094;
                
                if (!ok_or_empty_176093) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177657, ":", (long long) index_concat_branch_177645, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176095 = slt64(index_concat_branch_177645, index_concat_branch_177657);
                bool valid_176096 = !bounds_invalid_upwards_176095;
                bool range_valid_c_176097;
                
                if (!valid_176096) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177657, "..<", (long long) index_concat_branch_177645, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176103 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 == (int64_t) 0;
                int64_t m_176104 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, (int64_t) 1);
                int64_t i_p_m_t_s_176105 = add64(m_176104, index_concat_branch_177651);
                bool zzero_leq_i_p_m_t_s_176106 = sle64((int64_t) 0, i_p_m_t_s_176105);
                bool i_p_m_t_s_leq_w_176107 = slt64(i_p_m_t_s_176105, window_sizze_162526);
                bool zzero_lte_i_176108 = sle64((int64_t) 0, index_concat_branch_177651);
                bool i_lte_j_176109 = sle64(index_concat_branch_177651, index_concat_branch_177639);
                bool y_176110 = i_p_m_t_s_leq_w_176107 && zzero_lte_i_176108;
                bool y_176111 = zzero_leq_i_p_m_t_s_176106 && y_176110;
                bool forwards_ok_176112 = i_lte_j_176109 && y_176111;
                bool ok_or_empty_176113 = empty_slice_176103 || forwards_ok_176112;
                bool index_certs_176114;
                
                if (!ok_or_empty_176113) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177651, ":", (long long) index_concat_branch_177639, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176115 = slt64(index_concat_branch_177639, index_concat_branch_177651);
                bool valid_176116 = !bounds_invalid_upwards_176115;
                bool range_valid_c_176117;
                
                if (!valid_176116) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177651, "..<", (long long) index_concat_branch_177639, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180333 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool cond_176126 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zs_lhs_176127 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zp_rhs_176128 = sdiv_safe64(zs_lhs_176127, (int64_t) 20);
                int64_t min_num_blocks_176129 = add64((int64_t) 1, zp_rhs_176128);
                bool loop_cond_176130 = slt64((int64_t) 1, min_num_blocks_176129);
                bool smallest_pow_2_geq_than_res_176131;
                int64_t smallest_pow_2_geq_than_res_176132;
                bool loop_while_176133;
                int64_t x_176134;
                
                loop_while_176133 = loop_cond_176130;
                x_176134 = (int64_t) 1;
                while (loop_while_176133) {
                    int64_t loopres_176135 = mul64((int64_t) 2, x_176134);
                    bool loop_cond_176136 = slt64(loopres_176135, min_num_blocks_176129);
                    bool loop_while_tmp_181827 = loop_cond_176136;
                    int64_t x_tmp_181828 = loopres_176135;
                    
                    loop_while_176133 = loop_while_tmp_181827;
                    x_176134 = x_tmp_181828;
                }
                smallest_pow_2_geq_than_res_176131 = loop_while_176133;
                smallest_pow_2_geq_than_res_176132 = x_176134;
                
                bool zzero_176137 = smallest_pow_2_geq_than_res_176132 == (int64_t) 0;
                bool nonzzero_176138 = !zzero_176137;
                bool protect_assert_disj_176139 = cond_176126 || nonzzero_176138;
                bool nonzzero_cert_176140;
                
                if (!protect_assert_disj_176139) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176141 = sdiv_safe64(zs_lhs_176127, smallest_pow_2_geq_than_res_176132);
                int64_t block_sizze_176142 = add64((int64_t) 1, zp_rhs_176141);
                bool y_176149 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                bool protect_assert_disj_181486 = cond_176126 || y_176149;
                bool index_certs_176150;
                
                if (!protect_assert_disj_181486) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176176 = slt64(smallest_pow_2_geq_than_res_176132, (int64_t) 0);
                bool valid_176177 = !bounds_invalid_upwards_176176;
                bool protect_assert_disj_181496 = cond_176126 || valid_176177;
                bool range_valid_c_176178;
                
                if (!protect_assert_disj_181496) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176132, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176180 = slt64(block_sizze_176142, (int64_t) 0);
                bool valid_176181 = !bounds_invalid_upwards_176180;
                bool protect_assert_disj_181498 = cond_176126 || valid_176181;
                bool range_valid_c_176182;
                
                if (!protect_assert_disj_181498) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176142, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176184 = sle64(block_sizze_176142, (int64_t) 1);
                int64_t tmp_176185 = sub64(block_sizze_176142, (int64_t) 2);
                bool bounds_invalid_upwards_176186 = slt64(tmp_176185, (int64_t) 0);
                bool valid_176188 = !bounds_invalid_upwards_176186;
                bool protect_assert_disj_176189 = cond_176184 || valid_176188;
                bool protect_assert_disj_181500 = cond_176126 || protect_assert_disj_176189;
                bool range_valid_c_176190;
                
                if (!protect_assert_disj_181500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176185, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176751 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool empty_or_match_cert_176752;
                
                if (!dim_match_176751) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "](i8, i64, f64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176753 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == (int64_t) 0;
                int64_t m_176754 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176755 = sle64((int64_t) 0, m_176754);
                bool i_p_m_t_s_leq_w_176756 = slt64(m_176754, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082);
                bool y_176757 = zzero_leq_i_p_m_t_s_176755 && i_p_m_t_s_leq_w_176756;
                bool ok_or_empty_176758 = empty_slice_176753 || y_176757;
                bool index_certs_176759;
                
                if (!ok_or_empty_176758) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176760 = add64(ind_bottom_176080, m_176754);
                bool zzero_leq_i_p_m_t_s_176761 = sle64((int64_t) 0, i_p_m_t_s_176760);
                bool i_p_m_t_s_leq_w_176762 = slt64(i_p_m_t_s_176760, window_sizze_162526);
                bool zzero_lte_i_176763 = sle64((int64_t) 0, ind_bottom_176080);
                bool i_lte_j_176764 = sle64(ind_bottom_176080, ind_top_176081);
                bool y_176765 = i_p_m_t_s_leq_w_176762 && zzero_lte_i_176763;
                bool y_176766 = zzero_leq_i_p_m_t_s_176761 && y_176765;
                bool forwards_ok_176767 = i_lte_j_176764 && y_176766;
                bool ok_or_empty_176768 = empty_slice_176753 || forwards_ok_176767;
                bool index_certs_176769;
                
                if (!ok_or_empty_176768) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176080, ":", (long long) ind_top_176081, "] out of bounds for array of shape [", (long long) window_sizze_162526, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177633 = p_174790 + index_concat_branch_177657;
                
                if (memblock_alloc(ctx, &mem_180332, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "mem_180332")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181829 = 0; nest_i_181829 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; nest_i_181829++) {
                    ((int8_t *) mem_180332.mem)[nest_i_181829] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180334, bytes_180333, "mem_180334")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181830 = 0; i_181830 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; i_181830++) {
                    int64_t x_181831 = index_concat_branch_177657 + i_181830 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[i_181830] = x_181831;
                }
                
                int64_t slice_177632 = p_174791 + index_concat_branch_177651;
                
                for (int64_t nest_i_181832 = 0; nest_i_181832 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; nest_i_181832++) {
                    ((int8_t *) mem_180332.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + nest_i_181832] = (int8_t) 1;
                }
                for (int64_t i_181833 = 0; i_181833 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; i_181833++) {
                    int64_t x_181834 = index_concat_branch_177651 + i_181833 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + i_181833] = x_181834;
                }
                
                int64_t tmp_offs_181835 = (int64_t) 0;
                
                if (!(tmp_offs_181835 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181835 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t tmp_offs_181836 = (int64_t) 0;
                
                if (!(tmp_offs_181836 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181836 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                if (memblock_alloc(ctx, &mem_180336, bytes_180333, "mem_180336")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181837 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180280.mem, slice_177633, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180281.mem, slice_177632, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t flat_dim_176143 = smallest_pow_2_geq_than_res_176132 * block_sizze_176142;
                bool x_181481 = !cond_176126;
                int64_t greatest_divisor_leq_than_arg1_176147 = mul64((int64_t) 2, block_sizze_176142);
                int64_t merge_block_sizze_176148;
                
                if (x_181481) {
                    int64_t x_181483;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181483, (int64_t) 8, greatest_divisor_leq_than_arg1_176147) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176148 = x_181483;
                } else {
                    merge_block_sizze_176148 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177627 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 0);
                int8_t index_concat_branch_177631 = btoi_bool_i8(index_concat_cmp_177627);
                int64_t index_concat_i_179452 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t index_primexp_179453 = add64(index_concat_branch_177651, index_concat_i_179452);
                int64_t index_concat_branch_177625;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177625 = index_primexp_179453;
                } else {
                    index_concat_branch_177625 = index_concat_branch_177657;
                }
                
                bool x_181477 = !index_concat_cmp_177627;
                bool protect_cond_conj_181487 = x_181477 && x_181481;
                double index_concat_177618;
                
                if (protect_cond_conj_181487) {
                    double x_181479 = ((double *) a_list_mem_180280.mem)[slice_177633];
                    
                    index_concat_177618 = x_181479;
                } else {
                    index_concat_177618 = 0.0;
                }
                
                int64_t slice_179455 = slice_177632 + index_concat_i_179452;
                bool protect_cond_conj_181488 = index_concat_cmp_177627 && x_181481;
                double index_concat_179456;
                
                if (protect_cond_conj_181488) {
                    double x_181475 = ((double *) b_list_mem_180281.mem)[slice_179455];
                    
                    index_concat_179456 = x_181475;
                } else {
                    index_concat_179456 = 0.0;
                }
                
                double index_concat_branch_177619;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177619 = index_concat_179456;
                } else {
                    index_concat_branch_177619 = index_concat_177618;
                }
                
                int8_t defunc_0_reduce_res_179687;
                int64_t defunc_0_reduce_res_179688;
                double defunc_0_reduce_res_179689;
                
                if (x_181481) {
                    int8_t x_181489;
                    int64_t x_181490;
                    double x_181491;
                    int8_t redout_180033;
                    int64_t redout_180034;
                    double redout_180035;
                    
                    redout_180033 = index_concat_branch_177631;
                    redout_180034 = index_concat_branch_177625;
                    redout_180035 = index_concat_branch_177619;
                    for (int64_t i_180036 = 0; i_180036 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079; i_180036++) {
                        bool index_concat_cmp_180240 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, i_180036);
                        int8_t index_concat_branch_180244 = btoi_bool_i8(index_concat_cmp_180240);
                        int64_t index_concat_branch_180238;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180235 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t index_primexp_180262 = add64(index_concat_branch_177651, index_concat_i_180235);
                            
                            index_concat_branch_180238 = index_primexp_180262;
                        } else {
                            int64_t index_primexp_180264 = add64(index_concat_branch_177657, i_180036);
                            
                            index_concat_branch_180238 = index_primexp_180264;
                        }
                        
                        double index_concat_branch_180232;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180229 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t slice_180259 = slice_177632 + index_concat_i_180229;
                            double index_concat_180230 = ((double *) b_list_mem_180281.mem)[slice_180259];
                            
                            index_concat_branch_180232 = index_concat_180230;
                        } else {
                            int64_t slice_180260 = slice_177633 + i_180036;
                            double index_concat_180231 = ((double *) a_list_mem_180280.mem)[slice_180260];
                            
                            index_concat_branch_180232 = index_concat_180231;
                        }
                        
                        bool eq_x_y_180275 = redout_180033 == (int8_t) 1;
                        bool eq_x_zz_180276 = redout_180033 == (int8_t) 0;
                        bool p_and_eq_x_y_180277 = index_concat_cmp_180240 && eq_x_y_180275;
                        bool not_p_180278 = !index_concat_cmp_180240;
                        bool p_and_eq_x_y_180279 = eq_x_zz_180276 && not_p_180278;
                        bool cond_176166 = p_and_eq_x_y_180277 || p_and_eq_x_y_180279;
                        bool defunc_0_leq_res_t_res_176167 = sle64(redout_180034, index_concat_branch_180238);
                        bool defunc_0_leq_res_176168 = redout_180035 <= index_concat_branch_180232;
                        bool x_176169 = cond_176166 && defunc_0_leq_res_t_res_176167;
                        bool x_176170 = !cond_176166;
                        bool y_176171 = defunc_0_leq_res_176168 && x_176170;
                        bool defunc_0_leq_res_176172 = x_176169 || y_176171;
                        int8_t defunc_0_op_res_176173;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176173 = index_concat_branch_180244;
                        } else {
                            defunc_0_op_res_176173 = redout_180033;
                        }
                        
                        int64_t defunc_0_op_res_176174;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176174 = index_concat_branch_180238;
                        } else {
                            defunc_0_op_res_176174 = redout_180034;
                        }
                        
                        double defunc_0_op_res_176175;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176175 = index_concat_branch_180232;
                        } else {
                            defunc_0_op_res_176175 = redout_180035;
                        }
                        
                        int8_t redout_tmp_181838 = defunc_0_op_res_176173;
                        int64_t redout_tmp_181839 = defunc_0_op_res_176174;
                        double redout_tmp_181840 = defunc_0_op_res_176175;
                        
                        redout_180033 = redout_tmp_181838;
                        redout_180034 = redout_tmp_181839;
                        redout_180035 = redout_tmp_181840;
                    }
                    x_181489 = redout_180033;
                    x_181490 = redout_180034;
                    x_181491 = redout_180035;
                    defunc_0_reduce_res_179687 = x_181489;
                    defunc_0_reduce_res_179688 = x_181490;
                    defunc_0_reduce_res_179689 = x_181491;
                } else {
                    defunc_0_reduce_res_179687 = (int8_t) 0;
                    defunc_0_reduce_res_179688 = (int64_t) 0;
                    defunc_0_reduce_res_179689 = 0.0;
                }
                
                int64_t distance_176187 = add64((int64_t) 1, tmp_176185);
                int64_t binop_x_180339 = (int64_t) 8 * smallest_pow_2_geq_than_res_176132;
                int64_t bytes_180340 = block_sizze_176142 * binop_x_180339;
                int64_t bytes_180358 = (int64_t) 8 * block_sizze_176142;
                bool loop_cond_176296 = slt64(block_sizze_176142, flat_dim_176143);
                bool zzero_176297 = merge_block_sizze_176148 == (int64_t) 0;
                bool nonzzero_176298 = !zzero_176297;
                
                if (cond_176126) {
                    if (memblock_set(ctx, &ext_mem_180631, &mem_180332, "mem_180332") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &mem_180334, "mem_180334") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &mem_180336, "mem_180336") != 0)
                        return 1;
                } else {
                    if (mem_180338_cached_sizze_182029 < flat_dim_176143) {
                        err = lexical_realloc(ctx, &mem_180338, &mem_180338_cached_sizze_182029, flat_dim_176143);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180341_cached_sizze_182030 < bytes_180340) {
                        err = lexical_realloc(ctx, &mem_180341, &mem_180341_cached_sizze_182030, bytes_180340);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180344_cached_sizze_182031 < bytes_180340) {
                        err = lexical_realloc(ctx, &mem_180344, &mem_180344_cached_sizze_182031, bytes_180340);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180357_cached_sizze_182032 < block_sizze_176142) {
                        err = lexical_realloc(ctx, &mem_180357, &mem_180357_cached_sizze_182032, block_sizze_176142);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180359_cached_sizze_182033 < bytes_180358) {
                        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182033, bytes_180358);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180361_cached_sizze_182034 < bytes_180358) {
                        err = lexical_realloc(ctx, &mem_180361, &mem_180361_cached_sizze_182034, bytes_180358);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180053 = 0; i_180053 < smallest_pow_2_geq_than_res_176132; i_180053++) {
                        int64_t zp_lhs_176195 = mul64(block_sizze_176142, i_180053);
                        
                        for (int64_t i_180043 = 0; i_180043 < block_sizze_176142; i_180043++) {
                            int64_t k_176200 = add64(zp_lhs_176195, i_180043);
                            bool cond_176201 = slt64(k_176200, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                            int8_t lifted_lambda_res_176202;
                            int64_t lifted_lambda_res_176203;
                            double lifted_lambda_res_176204;
                            
                            if (cond_176201) {
                                bool x_179462 = sle64((int64_t) 0, k_176200);
                                bool bounds_check_179463 = cond_176201 && x_179462;
                                bool index_certs_179464;
                                
                                if (!bounds_check_179463) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176200, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179465 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, k_176200);
                                int8_t index_concat_branch_179466 = btoi_bool_i8(index_concat_cmp_179465);
                                int64_t index_concat_branch_179467;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179468 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t index_primexp_179469 = add64(index_concat_branch_177651, index_concat_i_179468);
                                    
                                    index_concat_branch_179467 = index_primexp_179469;
                                } else {
                                    int64_t index_primexp_179470 = add64(k_176200, index_concat_branch_177657);
                                    
                                    index_concat_branch_179467 = index_primexp_179470;
                                }
                                
                                double index_concat_branch_179471;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179472 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t slice_179473 = slice_177632 + index_concat_i_179472;
                                    double index_concat_179474 = ((double *) b_list_mem_180281.mem)[slice_179473];
                                    
                                    index_concat_branch_179471 = index_concat_179474;
                                } else {
                                    int64_t slice_179475 = k_176200 + slice_177633;
                                    double index_concat_179476 = ((double *) a_list_mem_180280.mem)[slice_179475];
                                    
                                    index_concat_branch_179471 = index_concat_179476;
                                }
                                lifted_lambda_res_176202 = index_concat_branch_179466;
                                lifted_lambda_res_176203 = index_concat_branch_179467;
                                lifted_lambda_res_176204 = index_concat_branch_179471;
                            } else {
                                lifted_lambda_res_176202 = defunc_0_reduce_res_179687;
                                lifted_lambda_res_176203 = defunc_0_reduce_res_179688;
                                lifted_lambda_res_176204 = defunc_0_reduce_res_179689;
                            }
                            ((int8_t *) mem_180357)[i_180043] = lifted_lambda_res_176202;
                            ((int64_t *) mem_180359)[i_180043] = lifted_lambda_res_176203;
                            ((double *) mem_180361)[i_180043] = lifted_lambda_res_176204;
                        }
                        if (!cond_176184) {
                            for (int64_t i_176217 = 0; i_176217 < distance_176187; i_176217++) {
                                int64_t gt_arg1_176221 = add64((int64_t) 1, i_176217);
                                bool x_176222 = sle64((int64_t) 0, gt_arg1_176221);
                                bool y_176223 = slt64(gt_arg1_176221, block_sizze_176142);
                                bool bounds_check_176224 = x_176222 && y_176223;
                                bool index_certs_176225;
                                
                                if (!bounds_check_176224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176221, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176229 = slt64(i_176217, block_sizze_176142);
                                bool index_certs_176230;
                                
                                if (!y_176229) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176217, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176226 = ((int8_t *) mem_180357)[gt_arg1_176221];
                                int64_t gt_arg1_176227 = ((int64_t *) mem_180359)[gt_arg1_176221];
                                double gt_arg1_176228 = ((double *) mem_180361)[gt_arg1_176221];
                                int8_t gt_arg0_176231 = ((int8_t *) mem_180357)[i_176217];
                                int64_t gt_arg0_176232 = ((int64_t *) mem_180359)[i_176217];
                                double gt_arg0_176233 = ((double *) mem_180361)[i_176217];
                                bool cond_176234 = gt_arg0_176231 == gt_arg1_176226;
                                bool defunc_0_leq_res_t_res_176235 = sle64(gt_arg0_176232, gt_arg1_176227);
                                bool defunc_0_leq_res_176236 = gt_arg0_176233 <= gt_arg1_176228;
                                bool x_176237 = cond_176234 && defunc_0_leq_res_t_res_176235;
                                bool x_176238 = !cond_176234;
                                bool y_176239 = defunc_0_leq_res_176236 && x_176238;
                                bool defunc_0_leq_res_176240 = x_176237 || y_176239;
                                bool defunc_0_lifted_gt_res_176241 = !defunc_0_leq_res_176240;
                                bool s_176242;
                                int64_t s_176246;
                                bool loop_while_176247;
                                int64_t j_176251;
                                
                                loop_while_176247 = defunc_0_lifted_gt_res_176241;
                                j_176251 = i_176217;
                                while (loop_while_176247) {
                                    bool x_176252 = sle64((int64_t) 0, j_176251);
                                    bool y_176253 = slt64(j_176251, block_sizze_176142);
                                    bool bounds_check_176254 = x_176252 && y_176253;
                                    bool index_certs_176255;
                                    
                                    if (!bounds_check_176254) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176251, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176259 = add64((int64_t) 1, j_176251);
                                    bool x_176260 = sle64((int64_t) 0, copy_arg0_176259);
                                    bool y_176261 = slt64(copy_arg0_176259, block_sizze_176142);
                                    bool bounds_check_176262 = x_176260 && y_176261;
                                    bool index_certs_176263;
                                    
                                    if (!bounds_check_176262) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176259, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176256 = ((int8_t *) mem_180357)[j_176251];
                                    int64_t copy_arg0_176257 = ((int64_t *) mem_180359)[j_176251];
                                    double copy_arg0_176258 = ((double *) mem_180361)[j_176251];
                                    int8_t copy_arg0_176264 = ((int8_t *) mem_180357)[copy_arg0_176259];
                                    int64_t copy_arg0_176265 = ((int64_t *) mem_180359)[copy_arg0_176259];
                                    double copy_arg0_176266 = ((double *) mem_180361)[copy_arg0_176259];
                                    
                                    ((int8_t *) mem_180357)[j_176251] = copy_arg0_176264;
                                    ((int64_t *) mem_180359)[j_176251] = copy_arg0_176265;
                                    ((double *) mem_180361)[j_176251] = copy_arg0_176266;
                                    ((int8_t *) mem_180357)[copy_arg0_176259] = copy_arg0_176256;
                                    ((int64_t *) mem_180359)[copy_arg0_176259] = copy_arg0_176257;
                                    ((double *) mem_180361)[copy_arg0_176259] = copy_arg0_176258;
                                    
                                    int64_t tmp_176273 = sub64(j_176251, (int64_t) 1);
                                    bool cond_176274 = sle64((int64_t) 0, tmp_176273);
                                    bool loop_cond_176275;
                                    
                                    if (cond_176274) {
                                        bool y_179480 = slt64(tmp_176273, block_sizze_176142);
                                        bool bounds_check_179481 = cond_176274 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176273, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_180357)[j_176251];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_180359)[j_176251];
                                        double gt_arg1_179479 = ((double *) mem_180361)[j_176251];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_180357)[tmp_176273];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_180359)[tmp_176273];
                                        double gt_arg0_179485 = ((double *) mem_180361)[tmp_176273];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = gt_arg0_179485 <= gt_arg1_179479;
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_176275 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_176275 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181850 = loop_cond_176275;
                                    int64_t j_tmp_181854 = tmp_176273;
                                    
                                    loop_while_176247 = loop_while_tmp_181850;
                                    j_176251 = j_tmp_181854;
                                }
                                s_176242 = loop_while_176247;
                                s_176246 = j_176251;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180338, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180357, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180341, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180359, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180344, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180361, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                    }
                    if (memblock_alloc(ctx, &mem_180438, flat_dim_176143, "mem_180438")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180438.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint8_t *) mem_180338, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180442, bytes_180340, "mem_180442")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180442.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint64_t *) mem_180341, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180446, bytes_180340, "mem_180446")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180446.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint64_t *) mem_180344, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    
                    int64_t data_176299;
                    bool data_176300;
                    int64_t data_176304;
                    int64_t loop_dz2084Uz2082U_176305;
                    bool loop_while_176306;
                    int64_t stride_176310;
                    
                    if (memblock_set(ctx, &mem_param_180450, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180453, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180456, &mem_180446, "mem_180446") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176305 = flat_dim_176143;
                    loop_while_176306 = loop_cond_176296;
                    stride_176310 = block_sizze_176142;
                    while (loop_while_176306) {
                        int64_t next_stride_176311 = mul64((int64_t) 2, stride_176310);
                        bool zzero_176312 = next_stride_176311 == (int64_t) 0;
                        bool nonzzero_176313 = !zzero_176312;
                        bool nonzzero_cert_176314;
                        
                        if (!nonzzero_176313) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176315 = sdiv64(flat_dim_176143, next_stride_176311);
                        bool bounds_invalid_upwards_176316 = slt64(num_merges_176315, (int64_t) 0);
                        bool valid_176317 = !bounds_invalid_upwards_176316;
                        bool range_valid_c_176318;
                        
                        if (!valid_176317) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176315, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176320 = sub64(next_stride_176311, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176321 = sle64((int64_t) 0, m_176320);
                        bool cond_176323 = slt64(next_stride_176311, (int64_t) 10);
                        bool protect_assert_disj_176324 = nonzzero_176298 || cond_176323;
                        bool nonzzero_cert_176325;
                        
                        if (!protect_assert_disj_176324) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176326 = smod_safe64(next_stride_176311, merge_block_sizze_176148);
                        bool num_blocks_176327 = zeze_lhs_176326 == (int64_t) 0;
                        bool protect_assert_disj_176328 = cond_176323 || num_blocks_176327;
                        bool assert_c_176329;
                        
                        if (!protect_assert_disj_176328) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176331 = sdiv_safe64(next_stride_176311, merge_block_sizze_176148);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332 = add64((int64_t) 1, num_blocks_176331);
                        int64_t j_m_i_176333 = sub64(next_stride_176311, stride_176310);
                        int64_t flat_dim_176334 = merge_block_sizze_176148 * num_blocks_176331;
                        bool bounds_invalid_upwards_176335 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, (int64_t) 0);
                        bool empty_slice_176336 = j_m_i_176333 == (int64_t) 0;
                        int64_t m_176337 = sub64(j_m_i_176333, (int64_t) 1);
                        bool zzero_lte_i_176338 = sle64((int64_t) 0, stride_176310);
                        bool i_lte_j_176339 = sle64(stride_176310, next_stride_176311);
                        bool empty_slice_176340 = stride_176310 == (int64_t) 0;
                        int64_t m_176341 = sub64(stride_176310, (int64_t) 1);
                        bool bounds_invalid_upwards_176342 = slt64(num_blocks_176331, (int64_t) 0);
                        bool cond_176343 = slt64((int64_t) 0, stride_176310);
                        bool valid_176344 = !bounds_invalid_upwards_176335;
                        int64_t i_p_m_t_s_176345 = add64(stride_176310, m_176337);
                        bool zzero_leq_i_p_m_t_s_176346 = sle64((int64_t) 0, m_176341);
                        bool i_p_m_t_s_leq_w_176347 = slt64(m_176341, next_stride_176311);
                        bool valid_176348 = !bounds_invalid_upwards_176342;
                        bool i_p_m_t_s_leq_w_176349 = slt64(m_176320, flat_dim_176334);
                        bool y_176350 = slt64((int64_t) 0, j_m_i_176333);
                        bool protect_assert_disj_176351 = cond_176323 || valid_176344;
                        bool range_valid_c_176352;
                        
                        if (!protect_assert_disj_176351) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176353 = sle64((int64_t) 0, i_p_m_t_s_176345);
                        bool i_p_m_t_s_leq_w_176354 = slt64(i_p_m_t_s_176345, next_stride_176311);
                        bool y_176355 = zzero_leq_i_p_m_t_s_176346 && i_p_m_t_s_leq_w_176347;
                        bool protect_assert_disj_176356 = cond_176323 || valid_176348;
                        bool range_valid_c_176357;
                        
                        if (!protect_assert_disj_176356) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176331, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176358 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176349;
                        bool y_176359 = zzero_lte_i_176338 && i_p_m_t_s_leq_w_176354;
                        bool forwards_ok_176360 = zzero_lte_i_176338 && y_176355;
                        bool ok_or_empty_176361 = zzero_176312 || y_176358;
                        bool protect_assert_disj_176362 = cond_176343 || y_176350;
                        bool y_176363 = zzero_leq_i_p_m_t_s_176353 && y_176359;
                        bool ok_or_empty_176364 = empty_slice_176340 || forwards_ok_176360;
                        bool protect_assert_disj_176365 = cond_176323 || ok_or_empty_176361;
                        bool index_certs_176366;
                        
                        if (!protect_assert_disj_176365) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) flat_dim_176334, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176367 = !cond_176323;
                        bool protect_assert_disj_176368 = protect_assert_disj_176362 || loop_not_taken_176367;
                        bool index_certs_176369;
                        
                        if (!protect_assert_disj_176368) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176370 = i_lte_j_176339 && y_176363;
                        bool protect_assert_disj_176371 = cond_176323 || ok_or_empty_176364;
                        bool index_certs_176372;
                        
                        if (!protect_assert_disj_176371) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176373 = ok_or_empty_176364 || loop_not_taken_176367;
                        bool index_certs_176374;
                        
                        if (!protect_assert_disj_176373) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176375 = empty_slice_176336 || forwards_ok_176370;
                        bool protect_assert_disj_176376 = cond_176323 || ok_or_empty_176375;
                        bool index_certs_176377;
                        
                        if (!protect_assert_disj_176376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176378 = loop_not_taken_176367 || ok_or_empty_176375;
                        bool index_certs_176379;
                        
                        if (!protect_assert_disj_176378) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180457 = next_stride_176311 * num_merges_176315;
                        int64_t binop_x_180459 = (int64_t) 8 * num_merges_176315;
                        int64_t bytes_180460 = next_stride_176311 * binop_x_180459;
                        bool i_lte_j_176322 = sle64((int64_t) 0, next_stride_176311);
                        
                        if (mem_180458_cached_sizze_182035 < bytes_180457) {
                            err = lexical_realloc(ctx, &mem_180458, &mem_180458_cached_sizze_182035, bytes_180457);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180461_cached_sizze_182036 < bytes_180460) {
                            err = lexical_realloc(ctx, &mem_180461, &mem_180461_cached_sizze_182036, bytes_180460);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180464_cached_sizze_182037 < bytes_180460) {
                            err = lexical_realloc(ctx, &mem_180464, &mem_180464_cached_sizze_182037, bytes_180460);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180477 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332;
                        int64_t binop_x_180495 = (int64_t) 8 * num_blocks_176331;
                        int64_t bytes_180496 = merge_block_sizze_176148 * binop_x_180495;
                        int64_t bytes_180560 = (int64_t) 16 * stride_176310;
                        
                        for (int64_t i_180080 = 0; i_180080 < num_merges_176315; i_180080++) {
                            int64_t start_176384 = mul64(next_stride_176311, i_180080);
                            int64_t j_m_i_176385 = sub64(loop_dz2084Uz2082U_176305, start_176384);
                            bool empty_slice_176386 = j_m_i_176385 == (int64_t) 0;
                            int64_t m_176387 = sub64(j_m_i_176385, (int64_t) 1);
                            int64_t i_p_m_t_s_176388 = add64(start_176384, m_176387);
                            bool zzero_leq_i_p_m_t_s_176389 = sle64((int64_t) 0, i_p_m_t_s_176388);
                            bool i_p_m_t_s_leq_w_176390 = slt64(i_p_m_t_s_176388, loop_dz2084Uz2082U_176305);
                            bool zzero_lte_i_176391 = sle64((int64_t) 0, start_176384);
                            bool i_lte_j_176392 = sle64(start_176384, loop_dz2084Uz2082U_176305);
                            bool y_176393 = i_p_m_t_s_leq_w_176390 && zzero_lte_i_176391;
                            bool y_176394 = zzero_leq_i_p_m_t_s_176389 && y_176393;
                            bool forwards_ok_176395 = i_lte_j_176392 && y_176394;
                            bool ok_or_empty_176396 = empty_slice_176386 || forwards_ok_176395;
                            bool index_certs_176397;
                            
                            if (!ok_or_empty_176396) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176384, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176305, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176398 = slt64(m_176320, j_m_i_176385);
                            bool y_176399 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176398;
                            bool forwards_ok_176400 = i_lte_j_176322 && y_176399;
                            bool ok_or_empty_176401 = zzero_176312 || forwards_ok_176400;
                            bool index_certs_176402;
                            
                            if (!ok_or_empty_176401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) j_m_i_176385, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176323) {
                                int8_t dummy_179532;
                                int64_t dummy_179533;
                                double dummy_179534;
                                
                                if (cond_176343) {
                                    int8_t head_res_179535 = ((int8_t *) mem_param_180450.mem)[start_176384];
                                    int64_t head_res_179536 = ((int64_t *) mem_param_180453.mem)[start_176384];
                                    double head_res_179537 = ((double *) mem_param_180456.mem)[start_176384];
                                    
                                    dummy_179532 = head_res_179535;
                                    dummy_179533 = head_res_179536;
                                    dummy_179534 = head_res_179537;
                                } else {
                                    int64_t slice_179538 = stride_176310 + start_176384;
                                    int8_t head_res_179539 = ((int8_t *) mem_param_180450.mem)[slice_179538];
                                    int64_t head_res_179540 = ((int64_t *) mem_param_180453.mem)[slice_179538];
                                    double head_res_179541 = ((double *) mem_param_180456.mem)[slice_179538];
                                    
                                    dummy_179532 = head_res_179539;
                                    dummy_179533 = head_res_179540;
                                    dummy_179534 = head_res_179541;
                                }
                                if (memblock_alloc(ctx, &mem_180559, next_stride_176311, "mem_180559")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181867 = 0; nest_i_181867 < next_stride_176311; nest_i_181867++) {
                                    ((int8_t *) mem_180559.mem)[nest_i_181867] = dummy_179532;
                                }
                                if (memblock_alloc(ctx, &mem_180561, bytes_180560, "mem_180561")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181868 = 0; nest_i_181868 < next_stride_176311; nest_i_181868++) {
                                    ((int64_t *) mem_180561.mem)[nest_i_181868] = dummy_179533;
                                }
                                if (memblock_alloc(ctx, &mem_180563, bytes_180560, "mem_180563")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181869 = 0; nest_i_181869 < next_stride_176311; nest_i_181869++) {
                                    ((double *) mem_180563.mem)[nest_i_181869] = dummy_179534;
                                }
                                
                                int64_t data_179545;
                                int64_t i_179550 = (int64_t) 0;
                                
                                for (int64_t k_179549 = 0; k_179549 < next_stride_176311; k_179549++) {
                                    int64_t j_179554 = sub64(k_179549, i_179550);
                                    bool cond_179555 = j_179554 == j_m_i_176333;
                                    bool cond_179556;
                                    
                                    if (cond_179555) {
                                        cond_179556 = 1;
                                    } else {
                                        bool cond_179557 = slt64(i_179550, stride_176310);
                                        bool cond_f_res_179558;
                                        
                                        if (cond_179557) {
                                            bool x_179559 = sle64((int64_t) 0, j_179554);
                                            bool y_179560 = slt64(j_179554, j_m_i_176333);
                                            bool bounds_check_179561 = x_179559 && y_179560;
                                            bool index_certs_179562;
                                            
                                            if (!bounds_check_179561) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179568 = sle64((int64_t) 0, i_179550);
                                            bool bounds_check_179569 = cond_179557 && x_179568;
                                            bool index_certs_179570;
                                            
                                            if (!bounds_check_179569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179563 = stride_176310 + j_179554;
                                            int64_t slice_179564 = start_176384 + slice_179563;
                                            int8_t leq_arg1_179565 = ((int8_t *) mem_param_180450.mem)[slice_179564];
                                            int64_t leq_arg1_179566 = ((int64_t *) mem_param_180453.mem)[slice_179564];
                                            double leq_arg1_179567 = ((double *) mem_param_180456.mem)[slice_179564];
                                            int64_t slice_179571 = start_176384 + i_179550;
                                            int8_t leq_arg0_179572 = ((int8_t *) mem_param_180450.mem)[slice_179571];
                                            int64_t leq_arg0_179573 = ((int64_t *) mem_param_180453.mem)[slice_179571];
                                            double leq_arg0_179574 = ((double *) mem_param_180456.mem)[slice_179571];
                                            bool cond_179575 = leq_arg0_179572 == leq_arg1_179565;
                                            bool defunc_0_leq_res_t_res_179576 = sle64(leq_arg0_179573, leq_arg1_179566);
                                            bool defunc_0_leq_res_179577 = leq_arg0_179574 <= leq_arg1_179567;
                                            bool x_179578 = cond_179575 && defunc_0_leq_res_t_res_179576;
                                            bool x_179579 = !cond_179575;
                                            bool y_179580 = defunc_0_leq_res_179577 && x_179579;
                                            bool defunc_0_leq_res_179581 = x_179578 || y_179580;
                                            
                                            cond_f_res_179558 = defunc_0_leq_res_179581;
                                        } else {
                                            cond_f_res_179558 = 0;
                                        }
                                        cond_179556 = cond_f_res_179558;
                                    }
                                    
                                    int64_t loopres_179582;
                                    int8_t loopres_179583;
                                    int64_t loopres_179584;
                                    double loopres_179585;
                                    
                                    if (cond_179556) {
                                        bool x_179587 = sle64((int64_t) 0, i_179550);
                                        bool y_179588 = slt64(i_179550, stride_176310);
                                        bool bounds_check_179589 = x_179587 && y_179588;
                                        bool index_certs_179590;
                                        
                                        if (!bounds_check_179589) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179586 = add64((int64_t) 1, i_179550);
                                        int64_t slice_179591 = start_176384 + i_179550;
                                        int8_t tmp_179592 = ((int8_t *) mem_param_180450.mem)[slice_179591];
                                        int64_t tmp_179593 = ((int64_t *) mem_param_180453.mem)[slice_179591];
                                        double tmp_179594 = ((double *) mem_param_180456.mem)[slice_179591];
                                        
                                        loopres_179582 = tmp_179586;
                                        loopres_179583 = tmp_179592;
                                        loopres_179584 = tmp_179593;
                                        loopres_179585 = tmp_179594;
                                    } else {
                                        bool x_179595 = sle64((int64_t) 0, j_179554);
                                        bool y_179596 = slt64(j_179554, j_m_i_176333);
                                        bool bounds_check_179597 = x_179595 && y_179596;
                                        bool index_certs_179598;
                                        
                                        if (!bounds_check_179597) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179599 = stride_176310 + j_179554;
                                        int64_t slice_179600 = start_176384 + slice_179599;
                                        int8_t tmp_179601 = ((int8_t *) mem_param_180450.mem)[slice_179600];
                                        int64_t tmp_179602 = ((int64_t *) mem_param_180453.mem)[slice_179600];
                                        double tmp_179603 = ((double *) mem_param_180456.mem)[slice_179600];
                                        
                                        loopres_179582 = i_179550;
                                        loopres_179583 = tmp_179601;
                                        loopres_179584 = tmp_179602;
                                        loopres_179585 = tmp_179603;
                                    }
                                    ((int8_t *) mem_180559.mem)[k_179549] = loopres_179583;
                                    ((int64_t *) mem_180561.mem)[k_179549] = loopres_179584;
                                    ((double *) mem_180563.mem)[k_179549] = loopres_179585;
                                    
                                    int64_t i_tmp_181870 = loopres_179582;
                                    
                                    i_179550 = i_tmp_181870;
                                }
                                data_179545 = i_179550;
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180559, "mem_180559") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180561, "mem_180561") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180563, "mem_180563") != 0)
                                    return 1;
                            } else {
                                if (mem_180478_cached_sizze_182038 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180478, &mem_180478_cached_sizze_182038, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180480_cached_sizze_182039 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180480, &mem_180480_cached_sizze_182039, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180061 = 0; i_180061 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332; i_180061++) {
                                    int64_t split_count_arg3_176485 = mul64(merge_block_sizze_176148, i_180061);
                                    int64_t defunc_0_split_count_res_176486;
                                    int64_t defunc_0_split_count_res_176487;
                                    int64_t defunc_0_split_count_res_176488;
                                    int64_t defunc_0_split_count_res_176489;
                                    int64_t defunc_0_split_count_res_176490;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_176486, &defunc_0_split_count_res_176487, &defunc_0_split_count_res_176488, &defunc_0_split_count_res_176489, &defunc_0_split_count_res_176490, (int64_t) 0, stride_176310, (int64_t) 0, j_m_i_176333, split_count_arg3_176485) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176491 = slt64((int64_t) 0, defunc_0_split_count_res_176490);
                                    bool defunc_0_split_count_res_176492;
                                    int64_t defunc_0_split_count_res_176493;
                                    int64_t defunc_0_split_count_res_176494;
                                    int64_t defunc_0_split_count_res_176495;
                                    int64_t defunc_0_split_count_res_176496;
                                    int64_t defunc_0_split_count_res_176497;
                                    bool loop_while_176498;
                                    int64_t ss_176499;
                                    int64_t ss_176500;
                                    int64_t tt_176501;
                                    int64_t tt_176502;
                                    int64_t count_176503;
                                    
                                    loop_while_176498 = loop_cond_176491;
                                    ss_176499 = defunc_0_split_count_res_176486;
                                    ss_176500 = defunc_0_split_count_res_176487;
                                    tt_176501 = defunc_0_split_count_res_176488;
                                    tt_176502 = defunc_0_split_count_res_176489;
                                    count_176503 = defunc_0_split_count_res_176490;
                                    while (loop_while_176498) {
                                        int64_t zlze_lhs_176504 = sub64(ss_176500, ss_176499);
                                        bool cond_176505 = sle64(zlze_lhs_176504, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176506;
                                        int64_t defunc_0_lifted_step_res_176507;
                                        int64_t defunc_0_lifted_step_res_176508;
                                        int64_t defunc_0_lifted_step_res_176509;
                                        
                                        if (cond_176505) {
                                            int64_t tmp_179607 = add64(tt_176501, count_176503);
                                            
                                            defunc_0_lifted_step_res_176506 = ss_176499;
                                            defunc_0_lifted_step_res_176507 = tmp_179607;
                                            defunc_0_lifted_step_res_176508 = tt_176502;
                                            defunc_0_lifted_step_res_176509 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176511 = sub64(tt_176502, tt_176501);
                                            bool cond_176512 = sle64(zlze_lhs_176511, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176513;
                                            int64_t defunc_0_lifted_step_res_f_res_176514;
                                            int64_t defunc_0_lifted_step_res_f_res_176515;
                                            int64_t defunc_0_lifted_step_res_f_res_176516;
                                            
                                            if (cond_176512) {
                                                int64_t tmp_179608 = add64(ss_176499, count_176503);
                                                
                                                defunc_0_lifted_step_res_f_res_176513 = tmp_179608;
                                                defunc_0_lifted_step_res_f_res_176514 = tt_176501;
                                                defunc_0_lifted_step_res_f_res_176515 = tt_176502;
                                                defunc_0_lifted_step_res_f_res_176516 = (int64_t) 0;
                                            } else {
                                                bool cond_176518 = count_176503 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176519;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176520;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176521;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176522;
                                                
                                                if (cond_176518) {
                                                    bool x_179610 = sle64((int64_t) 0, ss_176499);
                                                    bool y_179611 = slt64(ss_176499, stride_176310);
                                                    bool bounds_check_179612 = x_179610 && y_179611;
                                                    bool index_certs_179613;
                                                    
                                                    if (!bounds_check_179612) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176499, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179618 = sle64((int64_t) 0, tt_176501);
                                                    bool y_179619 = slt64(tt_176501, j_m_i_176333);
                                                    bool bounds_check_179620 = x_179618 && y_179619;
                                                    bool index_certs_179621;
                                                    
                                                    if (!bounds_check_179620) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176501, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179614 = start_176384 + ss_176499;
                                                    int8_t leq_arg1_179615 = ((int8_t *) mem_param_180450.mem)[slice_179614];
                                                    int64_t leq_arg1_179616 = ((int64_t *) mem_param_180453.mem)[slice_179614];
                                                    double leq_arg1_179617 = ((double *) mem_param_180456.mem)[slice_179614];
                                                    int64_t slice_179622 = stride_176310 + tt_176501;
                                                    int64_t slice_179623 = start_176384 + slice_179622;
                                                    int8_t leq_arg0_179624 = ((int8_t *) mem_param_180450.mem)[slice_179623];
                                                    int64_t leq_arg0_179625 = ((int64_t *) mem_param_180453.mem)[slice_179623];
                                                    double leq_arg0_179626 = ((double *) mem_param_180456.mem)[slice_179623];
                                                    bool cond_179627 = leq_arg0_179624 == leq_arg1_179615;
                                                    bool defunc_0_leq_res_t_res_179628 = sle64(leq_arg0_179625, leq_arg1_179616);
                                                    bool defunc_0_leq_res_179629 = leq_arg0_179626 <= leq_arg1_179617;
                                                    bool x_179630 = cond_179627 && defunc_0_leq_res_t_res_179628;
                                                    bool x_179631 = !cond_179627;
                                                    bool y_179632 = defunc_0_leq_res_179629 && x_179631;
                                                    bool defunc_0_leq_res_179633 = x_179630 || y_179632;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    
                                                    if (defunc_0_leq_res_179633) {
                                                        int64_t tmp_179636 = add64((int64_t) 1, tt_176501);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = ss_176499;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tmp_179636;
                                                    } else {
                                                        int64_t tmp_179637 = add64((int64_t) 1, ss_176499);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = tmp_179637;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tt_176501;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = tt_176502;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176551 = sdiv64(count_176503, (int64_t) 2);
                                                    int64_t n_176552 = sub64(count_176503, m_176551);
                                                    bool cond_176553 = n_176552 == (int64_t) 0;
                                                    int64_t zgze_lhs_176554 = add64(ss_176499, m_176551);
                                                    bool cond_f_res_176555 = sle64(ss_176500, zgze_lhs_176554);
                                                    bool x_176556 = !cond_176553;
                                                    bool y_176557 = cond_f_res_176555 && x_176556;
                                                    bool cond_176558 = cond_176553 || y_176557;
                                                    bool leq_y_x_176559;
                                                    
                                                    if (cond_176558) {
                                                        leq_y_x_176559 = 1;
                                                    } else {
                                                        bool x_176560 = sle64((int64_t) 0, zgze_lhs_176554);
                                                        bool y_176561 = slt64(zgze_lhs_176554, stride_176310);
                                                        bool bounds_check_176562 = x_176560 && y_176561;
                                                        bool index_certs_176563;
                                                        
                                                        if (!bounds_check_176562) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176554, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176568 = add64(tt_176501, n_176552);
                                                        int64_t leq_arg0_176569 = sub64(zm_lhs_176568, (int64_t) 1);
                                                        bool x_176570 = sle64((int64_t) 0, leq_arg0_176569);
                                                        bool y_176571 = slt64(leq_arg0_176569, j_m_i_176333);
                                                        bool bounds_check_176572 = x_176570 && y_176571;
                                                        bool index_certs_176573;
                                                        
                                                        if (!bounds_check_176572) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176569, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176564 = start_176384 + zgze_lhs_176554;
                                                        int8_t leq_arg1_176565 = ((int8_t *) mem_param_180450.mem)[slice_176564];
                                                        int64_t leq_arg1_176566 = ((int64_t *) mem_param_180453.mem)[slice_176564];
                                                        double leq_arg1_176567 = ((double *) mem_param_180456.mem)[slice_176564];
                                                        int64_t slice_176574 = stride_176310 + leq_arg0_176569;
                                                        int64_t slice_176575 = start_176384 + slice_176574;
                                                        int8_t leq_arg0_176576 = ((int8_t *) mem_param_180450.mem)[slice_176575];
                                                        int64_t leq_arg0_176577 = ((int64_t *) mem_param_180453.mem)[slice_176575];
                                                        double leq_arg0_176578 = ((double *) mem_param_180456.mem)[slice_176575];
                                                        bool cond_176579 = leq_arg0_176576 == leq_arg1_176565;
                                                        bool defunc_0_leq_res_t_res_176580 = sle64(leq_arg0_176577, leq_arg1_176566);
                                                        bool defunc_0_leq_res_176581 = leq_arg0_176578 <= leq_arg1_176567;
                                                        bool x_176582 = cond_176579 && defunc_0_leq_res_t_res_176580;
                                                        bool x_176583 = !cond_176579;
                                                        bool y_176584 = defunc_0_leq_res_176581 && x_176583;
                                                        bool defunc_0_leq_res_176585 = x_176582 || y_176584;
                                                        
                                                        leq_y_x_176559 = defunc_0_leq_res_176585;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                    
                                                    if (leq_y_x_176559) {
                                                        int64_t tmp_179638 = add64(tt_176501, n_176552);
                                                        int64_t tmp_179639 = sub64(count_176503, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tmp_179638;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tt_176502;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = tmp_179639;
                                                    } else {
                                                        int64_t tmp_176591 = add64(tt_176501, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tt_176501;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tmp_176591;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = count_176503;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = ss_176499;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                }
                                                defunc_0_lifted_step_res_f_res_176513 = defunc_0_lifted_step_res_f_res_f_res_176519;
                                                defunc_0_lifted_step_res_f_res_176514 = defunc_0_lifted_step_res_f_res_f_res_176520;
                                                defunc_0_lifted_step_res_f_res_176515 = defunc_0_lifted_step_res_f_res_f_res_176521;
                                                defunc_0_lifted_step_res_f_res_176516 = defunc_0_lifted_step_res_f_res_f_res_176522;
                                            }
                                            defunc_0_lifted_step_res_176506 = defunc_0_lifted_step_res_f_res_176513;
                                            defunc_0_lifted_step_res_176507 = defunc_0_lifted_step_res_f_res_176514;
                                            defunc_0_lifted_step_res_176508 = defunc_0_lifted_step_res_f_res_176515;
                                            defunc_0_lifted_step_res_176509 = defunc_0_lifted_step_res_f_res_176516;
                                        }
                                        
                                        int64_t loopres_176592;
                                        int64_t loopres_176593;
                                        int64_t loopres_176594;
                                        int64_t loopres_176595;
                                        int64_t loopres_176596;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_176592, &loopres_176593, &loopres_176594, &loopres_176595, &loopres_176596, defunc_0_lifted_step_res_176506, ss_176500, defunc_0_lifted_step_res_176507, defunc_0_lifted_step_res_176508, defunc_0_lifted_step_res_176509) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176597 = slt64((int64_t) 0, loopres_176596);
                                        bool loop_while_tmp_181876 = loop_cond_176597;
                                        int64_t ss_tmp_181877 = loopres_176592;
                                        int64_t ss_tmp_181878 = loopres_176593;
                                        int64_t tt_tmp_181879 = loopres_176594;
                                        int64_t tt_tmp_181880 = loopres_176595;
                                        int64_t count_tmp_181881 = loopres_176596;
                                        
                                        loop_while_176498 = loop_while_tmp_181876;
                                        ss_176499 = ss_tmp_181877;
                                        ss_176500 = ss_tmp_181878;
                                        tt_176501 = tt_tmp_181879;
                                        tt_176502 = tt_tmp_181880;
                                        count_176503 = count_tmp_181881;
                                    }
                                    defunc_0_split_count_res_176492 = loop_while_176498;
                                    defunc_0_split_count_res_176493 = ss_176499;
                                    defunc_0_split_count_res_176494 = ss_176500;
                                    defunc_0_split_count_res_176495 = tt_176501;
                                    defunc_0_split_count_res_176496 = tt_176502;
                                    defunc_0_split_count_res_176497 = count_176503;
                                    ((int64_t *) mem_180478)[i_180061] = defunc_0_split_count_res_176493;
                                    ((int64_t *) mem_180480)[i_180061] = defunc_0_split_count_res_176495;
                                }
                                if (mem_180494_cached_sizze_182040 < flat_dim_176334) {
                                    err = lexical_realloc(ctx, &mem_180494, &mem_180494_cached_sizze_182040, flat_dim_176334);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180497_cached_sizze_182041 < bytes_180496) {
                                    err = lexical_realloc(ctx, &mem_180497, &mem_180497_cached_sizze_182041, bytes_180496);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180500_cached_sizze_182042 < bytes_180496) {
                                    err = lexical_realloc(ctx, &mem_180500, &mem_180500_cached_sizze_182042, bytes_180496);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180070 = 0; i_180070 < num_blocks_176331; i_180070++) {
                                    bool y_176604 = slt64(i_180070, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool index_certs_176606;
                                    
                                    if (!y_176604) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176607 = ((int64_t *) mem_180478)[i_180070];
                                    int64_t defunc_0_f_res_176608 = ((int64_t *) mem_180480)[i_180070];
                                    int64_t tmp_176609 = add64((int64_t) 1, i_180070);
                                    bool x_176610 = sle64((int64_t) 0, tmp_176609);
                                    bool y_176611 = slt64(tmp_176609, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool bounds_check_176612 = x_176610 && y_176611;
                                    bool index_certs_176613;
                                    
                                    if (!bounds_check_176612) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176609, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176614 = ((int64_t *) mem_180478)[tmp_176609];
                                    int64_t defunc_0_f_res_176615 = ((int64_t *) mem_180480)[tmp_176609];
                                    int64_t merge_sequential_arg2_176616 = add64(stride_176310, defunc_0_f_res_176608);
                                    int64_t merge_sequential_arg2_176617 = add64(stride_176310, defunc_0_f_res_176615);
                                    int64_t j_m_i_176618 = sub64(merge_sequential_arg2_176617, merge_sequential_arg2_176616);
                                    bool empty_slice_176619 = j_m_i_176618 == (int64_t) 0;
                                    int64_t m_176620 = sub64(j_m_i_176618, (int64_t) 1);
                                    int64_t i_p_m_t_s_176621 = add64(merge_sequential_arg2_176616, m_176620);
                                    bool zzero_leq_i_p_m_t_s_176622 = sle64((int64_t) 0, i_p_m_t_s_176621);
                                    bool i_p_m_t_s_leq_w_176623 = slt64(i_p_m_t_s_176621, next_stride_176311);
                                    bool zzero_lte_i_176624 = sle64((int64_t) 0, merge_sequential_arg2_176616);
                                    bool i_lte_j_176625 = sle64(merge_sequential_arg2_176616, merge_sequential_arg2_176617);
                                    bool y_176626 = i_p_m_t_s_leq_w_176623 && zzero_lte_i_176624;
                                    bool y_176627 = zzero_leq_i_p_m_t_s_176622 && y_176626;
                                    bool forwards_ok_176628 = i_lte_j_176625 && y_176627;
                                    bool ok_or_empty_176629 = empty_slice_176619 || forwards_ok_176628;
                                    bool index_certs_176630;
                                    
                                    if (!ok_or_empty_176629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176616, ":", (long long) merge_sequential_arg2_176617, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176631 = sub64(defunc_0_f_res_176614, defunc_0_f_res_176607);
                                    bool empty_slice_176632 = j_m_i_176631 == (int64_t) 0;
                                    int64_t m_176633 = sub64(j_m_i_176631, (int64_t) 1);
                                    int64_t i_p_m_t_s_176634 = add64(defunc_0_f_res_176607, m_176633);
                                    bool zzero_leq_i_p_m_t_s_176635 = sle64((int64_t) 0, i_p_m_t_s_176634);
                                    bool i_p_m_t_s_leq_w_176636 = slt64(i_p_m_t_s_176634, next_stride_176311);
                                    bool zzero_lte_i_176637 = sle64((int64_t) 0, defunc_0_f_res_176607);
                                    bool i_lte_j_176638 = sle64(defunc_0_f_res_176607, defunc_0_f_res_176614);
                                    bool y_176639 = i_p_m_t_s_leq_w_176636 && zzero_lte_i_176637;
                                    bool y_176640 = zzero_leq_i_p_m_t_s_176635 && y_176639;
                                    bool forwards_ok_176641 = i_lte_j_176638 && y_176640;
                                    bool ok_or_empty_176642 = empty_slice_176632 || forwards_ok_176641;
                                    bool index_certs_176643;
                                    
                                    if (!ok_or_empty_176642) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176607, ":", (long long) defunc_0_f_res_176614, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176644 = slt64((int64_t) 0, j_m_i_176631);
                                    int8_t dummy_176645;
                                    int64_t dummy_176646;
                                    double dummy_176647;
                                    
                                    if (cond_176644) {
                                        bool index_certs_179640;
                                        
                                        if (!cond_176644) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179641 = start_176384 + defunc_0_f_res_176607;
                                        int8_t head_res_179642 = ((int8_t *) mem_param_180450.mem)[slice_179641];
                                        int64_t head_res_179643 = ((int64_t *) mem_param_180453.mem)[slice_179641];
                                        double head_res_179644 = ((double *) mem_param_180456.mem)[slice_179641];
                                        
                                        dummy_176645 = head_res_179642;
                                        dummy_176646 = head_res_179643;
                                        dummy_176647 = head_res_179644;
                                    } else {
                                        bool y_176653 = slt64((int64_t) 0, j_m_i_176618);
                                        bool index_certs_176654;
                                        
                                        if (!y_176653) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176655 = start_176384 + merge_sequential_arg2_176616;
                                        int8_t head_res_176656 = ((int8_t *) mem_param_180450.mem)[slice_176655];
                                        int64_t head_res_176657 = ((int64_t *) mem_param_180453.mem)[slice_176655];
                                        double head_res_176658 = ((double *) mem_param_180456.mem)[slice_176655];
                                        
                                        dummy_176645 = head_res_176656;
                                        dummy_176646 = head_res_176657;
                                        dummy_176647 = head_res_176658;
                                    }
                                    for (int64_t nest_i_181885 = 0; nest_i_181885 < merge_block_sizze_176148; nest_i_181885++) {
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + nest_i_181885] = dummy_176645;
                                    }
                                    for (int64_t nest_i_181886 = 0; nest_i_181886 < merge_block_sizze_176148; nest_i_181886++) {
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + nest_i_181886] = dummy_176646;
                                    }
                                    for (int64_t nest_i_181887 = 0; nest_i_181887 < merge_block_sizze_176148; nest_i_181887++) {
                                        ((double *) mem_180500)[i_180070 * merge_block_sizze_176148 + nest_i_181887] = dummy_176647;
                                    }
                                    
                                    int64_t data_176662;
                                    int64_t i_176667 = (int64_t) 0;
                                    
                                    for (int64_t k_176666 = 0; k_176666 < merge_block_sizze_176148; k_176666++) {
                                        int64_t j_176671 = sub64(k_176666, i_176667);
                                        bool cond_176672 = j_176671 == j_m_i_176618;
                                        bool cond_176673;
                                        
                                        if (cond_176672) {
                                            cond_176673 = 1;
                                        } else {
                                            bool cond_176674 = slt64(i_176667, j_m_i_176631);
                                            bool cond_f_res_176675;
                                            
                                            if (cond_176674) {
                                                bool x_179645 = sle64((int64_t) 0, j_176671);
                                                bool y_179646 = slt64(j_176671, j_m_i_176618);
                                                bool bounds_check_179647 = x_179645 && y_179646;
                                                bool index_certs_179648;
                                                
                                                if (!bounds_check_179647) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179654 = sle64((int64_t) 0, i_176667);
                                                bool bounds_check_179655 = cond_176674 && x_179654;
                                                bool index_certs_179656;
                                                
                                                if (!bounds_check_179655) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179649 = merge_sequential_arg2_176616 + j_176671;
                                                int64_t slice_179650 = start_176384 + slice_179649;
                                                int8_t leq_arg1_179651 = ((int8_t *) mem_param_180450.mem)[slice_179650];
                                                int64_t leq_arg1_179652 = ((int64_t *) mem_param_180453.mem)[slice_179650];
                                                double leq_arg1_179653 = ((double *) mem_param_180456.mem)[slice_179650];
                                                int64_t slice_179657 = defunc_0_f_res_176607 + i_176667;
                                                int64_t slice_179658 = start_176384 + slice_179657;
                                                int8_t leq_arg0_179659 = ((int8_t *) mem_param_180450.mem)[slice_179658];
                                                int64_t leq_arg0_179660 = ((int64_t *) mem_param_180453.mem)[slice_179658];
                                                double leq_arg0_179661 = ((double *) mem_param_180456.mem)[slice_179658];
                                                bool cond_179662 = leq_arg0_179659 == leq_arg1_179651;
                                                bool defunc_0_leq_res_t_res_179663 = sle64(leq_arg0_179660, leq_arg1_179652);
                                                bool defunc_0_leq_res_179664 = leq_arg0_179661 <= leq_arg1_179653;
                                                bool x_179665 = cond_179662 && defunc_0_leq_res_t_res_179663;
                                                bool x_179666 = !cond_179662;
                                                bool y_179667 = defunc_0_leq_res_179664 && x_179666;
                                                bool defunc_0_leq_res_179668 = x_179665 || y_179667;
                                                
                                                cond_f_res_176675 = defunc_0_leq_res_179668;
                                            } else {
                                                cond_f_res_176675 = 0;
                                            }
                                            cond_176673 = cond_f_res_176675;
                                        }
                                        
                                        int64_t loopres_176700;
                                        int8_t loopres_176701;
                                        int64_t loopres_176702;
                                        double loopres_176703;
                                        
                                        if (cond_176673) {
                                            bool x_179670 = sle64((int64_t) 0, i_176667);
                                            bool y_179671 = slt64(i_176667, j_m_i_176631);
                                            bool bounds_check_179672 = x_179670 && y_179671;
                                            bool index_certs_179673;
                                            
                                            if (!bounds_check_179672) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179669 = add64((int64_t) 1, i_176667);
                                            int64_t slice_179674 = defunc_0_f_res_176607 + i_176667;
                                            int64_t slice_179675 = start_176384 + slice_179674;
                                            int8_t tmp_179676 = ((int8_t *) mem_param_180450.mem)[slice_179675];
                                            int64_t tmp_179677 = ((int64_t *) mem_param_180453.mem)[slice_179675];
                                            double tmp_179678 = ((double *) mem_param_180456.mem)[slice_179675];
                                            
                                            loopres_176700 = tmp_179669;
                                            loopres_176701 = tmp_179676;
                                            loopres_176702 = tmp_179677;
                                            loopres_176703 = tmp_179678;
                                        } else {
                                            bool x_176714 = sle64((int64_t) 0, j_176671);
                                            bool y_176715 = slt64(j_176671, j_m_i_176618);
                                            bool bounds_check_176716 = x_176714 && y_176715;
                                            bool index_certs_176717;
                                            
                                            if (!bounds_check_176716) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176718 = merge_sequential_arg2_176616 + j_176671;
                                            int64_t slice_176719 = start_176384 + slice_176718;
                                            int8_t tmp_176720 = ((int8_t *) mem_param_180450.mem)[slice_176719];
                                            int64_t tmp_176721 = ((int64_t *) mem_param_180453.mem)[slice_176719];
                                            double tmp_176722 = ((double *) mem_param_180456.mem)[slice_176719];
                                            
                                            loopres_176700 = i_176667;
                                            loopres_176701 = tmp_176720;
                                            loopres_176702 = tmp_176721;
                                            loopres_176703 = tmp_176722;
                                        }
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176701;
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176702;
                                        ((double *) mem_180500)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176703;
                                        
                                        int64_t i_tmp_181888 = loopres_176700;
                                        
                                        i_176667 = i_tmp_181888;
                                    }
                                    data_176662 = i_176667;
                                }
                                if (memblock_alloc(ctx, &mem_180549, flat_dim_176334, "mem_180549")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180549.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint8_t *) mem_180494, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180553, bytes_180496, "mem_180553")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180553.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint64_t *) mem_180497, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180557, bytes_180496, "mem_180557")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180557.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint64_t *) mem_180500, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180549, "mem_180549") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180553, "mem_180553") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180557, "mem_180557") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180458, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180590.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180461, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180587.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180464, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180584.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180604, bytes_180457, "mem_180604")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180604.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint8_t *) mem_180458, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180608, bytes_180460, "mem_180608")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180608.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint64_t *) mem_180461, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180612, bytes_180460, "mem_180612")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180612.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint64_t *) mem_180464, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        
                        bool loop_cond_176736 = slt64(next_stride_176311, flat_dim_176143);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181855, &mem_180604, "mem_180604") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181856, &mem_180608, "mem_180608") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181857, &mem_180612, "mem_180612") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181858 = bytes_180457;
                        bool loop_while_tmp_181859 = loop_cond_176736;
                        int64_t stride_tmp_181863 = next_stride_176311;
                        
                        if (memblock_set(ctx, &mem_param_180450, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180453, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180456, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176305 = loop_dz2084Uz2082U_tmp_181858;
                        loop_while_176306 = loop_while_tmp_181859;
                        stride_176310 = stride_tmp_181863;
                    }
                    if (memblock_set(ctx, &ext_mem_180622, &mem_param_180450, "mem_param_180450") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180621, &mem_param_180453, "mem_param_180453") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180620, &mem_param_180456, "mem_param_180456") != 0)
                        return 1;
                    data_176299 = loop_dz2084Uz2082U_176305;
                    data_176300 = loop_while_176306;
                    data_176304 = stride_176310;
                    if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
                        return 1;
                    
                    bool empty_slice_176737 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176738 = sle64((int64_t) 0, zs_lhs_176127);
                    bool i_p_m_t_s_leq_w_176739 = slt64(zs_lhs_176127, data_176299);
                    bool y_176740 = zzero_leq_i_p_m_t_s_176738 && i_p_m_t_s_leq_w_176739;
                    bool ok_or_empty_176741 = empty_slice_176737 || y_176740;
                    bool index_certs_176742;
                    
                    if (!ok_or_empty_176741) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] out of bounds for array of shape [", (long long) data_176299, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180631, &ext_mem_180622, "ext_mem_180622") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &ext_mem_180621, "ext_mem_180621") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &ext_mem_180620, "ext_mem_180620") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180312.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180631.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180314.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180628.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180316.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180625.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
                    return 1;
                
                bool loop_cond_176778 = slt64(ubs_176070, threads_162527);
                bool loop_while_tmp_181822 = loop_cond_176778;
                int64_t p_tmp_181823 = ubs_176070;
                
                loop_while_176059 = loop_while_tmp_181822;
                p_176060 = p_tmp_181823;
            }
            defunc_0_mergeFunc_seq_res_176054 = loop_while_176059;
            defunc_0_mergeFunc_seq_res_176055 = p_176060;
            
            int64_t index_concat_branch_177595;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179693 = ((int64_t *) mem_180297)[index_concat_i_177592];
                
                index_concat_branch_177595 = index_concat_179693;
            } else {
                index_concat_branch_177595 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177589;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179694 = ((int64_t *) mem_180299)[index_concat_i_177592];
                
                index_concat_branch_177589 = index_concat_179694;
            } else {
                index_concat_branch_177589 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_180312, "mem_180312") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_180314, "mem_180314") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_180316, "mem_180316") != 0)
                return 1;
            loopres_174818 = index_concat_branch_177595;
            loopres_174819 = index_concat_branch_177589;
        }
        for (int64_t i_180086 = 0; i_180086 < window_sizze_162526; i_180086++) {
            int8_t eta_p_176786 = ((int8_t *) ext_mem_181050.mem)[i_180086];
            int64_t eta_p_176787 = ((int64_t *) ext_mem_181047.mem)[i_180086];
            bool cond_176788 = eta_p_176786 == (int8_t) 0;
            int64_t tmp_176789;
            
            if (cond_176788) {
                int64_t tmp_t_res_179697 = add64(p_174790, eta_p_176787);
                
                tmp_176789 = tmp_t_res_179697;
            } else {
                int64_t tmp_f_res_176791 = add64(p_174791, eta_p_176787);
                
                tmp_176789 = tmp_f_res_176791;
            }
            ((int64_t *) mem_180284.mem)[ind_bottom_174794 + i_180086] = tmp_176789;
        }
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        
        int64_t next_lbs_176792 = add64(p_174790, loopres_174818);
        int64_t next_lbs_176793 = add64(p_174791, loopres_174819);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181050.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_162526});
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180286.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_162526});
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        
        bool cond_176807 = slt64(next_lbs_176792, zl_rhs_174773);
        bool loop_cond_t_res_176808 = slt64(next_lbs_176793, zl_rhs_174775);
        bool x_176809 = cond_176807 && loop_cond_t_res_176808;
        bool loop_while_tmp_181706 = x_176809;
        int64_t p_tmp_181710 = next_lbs_176792;
        int64_t p_tmp_181711 = next_lbs_176793;
        
        loop_while_174786 = loop_while_tmp_181706;
        p_174790 = p_tmp_181710;
        p_174791 = p_tmp_181711;
    }
    defunc_0_merge_pipeline_res_174780 = loop_while_174786;
    defunc_0_merge_pipeline_res_174784 = p_174790;
    defunc_0_merge_pipeline_res_174785 = p_174791;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 = sub64(nb_162525, defunc_0_merge_pipeline_res_174785);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 = sub64(na_162524, defunc_0_merge_pipeline_res_174784);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    bool empty_slice_176813 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 == (int64_t) 0;
    int64_t m_176814 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 1);
    int64_t i_p_m_t_s_176815 = add64(defunc_0_merge_pipeline_res_174784, m_176814);
    bool zzero_leq_i_p_m_t_s_176816 = sle64((int64_t) 0, i_p_m_t_s_176815);
    bool i_p_m_t_s_leq_w_176817 = slt64(i_p_m_t_s_176815, na_162524);
    bool zzero_lte_i_176818 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174784);
    bool i_lte_j_176819 = sle64(defunc_0_merge_pipeline_res_174784, na_162524);
    bool y_176820 = i_p_m_t_s_leq_w_176817 && zzero_lte_i_176818;
    bool y_176821 = zzero_leq_i_p_m_t_s_176816 && y_176820;
    bool forwards_ok_176822 = i_lte_j_176819 && y_176821;
    bool ok_or_empty_176823 = empty_slice_176813 || forwards_ok_176822;
    bool index_certs_176824;
    
    if (!ok_or_empty_176823) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174784, ":", (long long) na_162524, "] out of bounds for array of shape [", (long long) na_162524, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176828 = slt64(na_162524, defunc_0_merge_pipeline_res_174784);
    bool valid_176829 = !bounds_invalid_upwards_176828;
    bool range_valid_c_176830;
    
    if (!valid_176829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174784, "..<", (long long) na_162524, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176834 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 == (int64_t) 0;
    int64_t m_176835 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, (int64_t) 1);
    int64_t i_p_m_t_s_176836 = add64(defunc_0_merge_pipeline_res_174785, m_176835);
    bool zzero_leq_i_p_m_t_s_176837 = sle64((int64_t) 0, i_p_m_t_s_176836);
    bool i_p_m_t_s_leq_w_176838 = slt64(i_p_m_t_s_176836, nb_162525);
    bool zzero_lte_i_176839 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174785);
    bool i_lte_j_176840 = sle64(defunc_0_merge_pipeline_res_174785, nb_162525);
    bool y_176841 = i_p_m_t_s_leq_w_176838 && zzero_lte_i_176839;
    bool y_176842 = zzero_leq_i_p_m_t_s_176837 && y_176841;
    bool forwards_ok_176843 = i_lte_j_176840 && y_176842;
    bool ok_or_empty_176844 = empty_slice_176834 || forwards_ok_176843;
    bool index_certs_176845;
    
    if (!ok_or_empty_176844) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174785, ":", (long long) nb_162525, "] out of bounds for array of shape [", (long long) nb_162525, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176849 = slt64(nb_162525, defunc_0_merge_pipeline_res_174785);
    bool valid_176850 = !bounds_invalid_upwards_176849;
    bool range_valid_c_176851;
    
    if (!valid_176850) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174785, "..<", (long long) nb_162525, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181075 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool cond_176858 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zs_lhs_176859 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zp_rhs_176860 = sdiv_safe64(zs_lhs_176859, (int64_t) 20);
    int64_t min_num_blocks_176861 = add64((int64_t) 1, zp_rhs_176860);
    bool loop_cond_176862 = slt64((int64_t) 1, min_num_blocks_176861);
    bool smallest_pow_2_geq_than_res_176863;
    int64_t smallest_pow_2_geq_than_res_176864;
    bool loop_while_176865;
    int64_t x_176866;
    
    loop_while_176865 = loop_cond_176862;
    x_176866 = (int64_t) 1;
    while (loop_while_176865) {
        int64_t loopres_176867 = mul64((int64_t) 2, x_176866);
        bool loop_cond_176868 = slt64(loopres_176867, min_num_blocks_176861);
        bool loop_while_tmp_181893 = loop_cond_176868;
        int64_t x_tmp_181894 = loopres_176867;
        
        loop_while_176865 = loop_while_tmp_181893;
        x_176866 = x_tmp_181894;
    }
    smallest_pow_2_geq_than_res_176863 = loop_while_176865;
    smallest_pow_2_geq_than_res_176864 = x_176866;
    
    bool zzero_176869 = smallest_pow_2_geq_than_res_176864 == (int64_t) 0;
    bool nonzzero_176870 = !zzero_176869;
    bool protect_assert_disj_176871 = cond_176858 || nonzzero_176870;
    bool nonzzero_cert_176872;
    
    if (!protect_assert_disj_176871) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176873 = sdiv_safe64(zs_lhs_176859, smallest_pow_2_geq_than_res_176864);
    int64_t block_sizze_176874 = add64((int64_t) 1, zp_rhs_176873);
    bool y_176881 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool protect_assert_disj_181403 = cond_176858 || y_176881;
    bool index_certs_176882;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176908 = slt64(smallest_pow_2_geq_than_res_176864, (int64_t) 0);
    bool valid_176909 = !bounds_invalid_upwards_176908;
    bool protect_assert_disj_181413 = cond_176858 || valid_176909;
    bool range_valid_c_176910;
    
    if (!protect_assert_disj_181413) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176864, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176912 = slt64(block_sizze_176874, (int64_t) 0);
    bool valid_176913 = !bounds_invalid_upwards_176912;
    bool protect_assert_disj_181415 = cond_176858 || valid_176913;
    bool range_valid_c_176914;
    
    if (!protect_assert_disj_181415) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176916 = sle64(block_sizze_176874, (int64_t) 1);
    int64_t tmp_176917 = sub64(block_sizze_176874, (int64_t) 2);
    bool bounds_invalid_upwards_176918 = slt64(tmp_176917, (int64_t) 0);
    bool valid_176920 = !bounds_invalid_upwards_176918;
    bool protect_assert_disj_176921 = cond_176916 || valid_176920;
    bool protect_assert_disj_181417 = cond_176858 || protect_assert_disj_176921;
    bool range_valid_c_176922;
    
    if (!protect_assert_disj_181417) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176917, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177483 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177485 = sle64((int64_t) 0, zs_lhs_176859);
    bool i_p_m_t_s_leq_w_177486 = slt64(zs_lhs_176859, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool y_177487 = zzero_leq_i_p_m_t_s_177485 && i_p_m_t_s_leq_w_177486;
    bool ok_or_empty_177488 = empty_slice_177483 || y_177487;
    bool index_certs_177489;
    
    if (!ok_or_empty_177488) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177490 = add64(defunc_0_merge_pipeline_res_174784, defunc_0_merge_pipeline_res_174785);
    int64_t j_m_i_177491 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, final_buffer_177490);
    bool empty_slice_177492 = j_m_i_177491 == (int64_t) 0;
    int64_t m_177493 = sub64(j_m_i_177491, (int64_t) 1);
    int64_t i_p_m_t_s_177494 = add64(final_buffer_177490, m_177493);
    bool zzero_leq_i_p_m_t_s_177495 = sle64((int64_t) 0, i_p_m_t_s_177494);
    bool i_p_m_t_s_leq_w_177496 = slt64(i_p_m_t_s_177494, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool zzero_lte_i_177497 = sle64((int64_t) 0, final_buffer_177490);
    bool i_lte_j_177498 = sle64(final_buffer_177490, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool y_177499 = i_p_m_t_s_leq_w_177496 && zzero_lte_i_177497;
    bool y_177500 = zzero_leq_i_p_m_t_s_177495 && y_177499;
    bool forwards_ok_177501 = i_lte_j_177498 && y_177500;
    bool ok_or_empty_177502 = empty_slice_177492 || forwards_ok_177501;
    bool index_certs_177503;
    
    if (!ok_or_empty_177502) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177490, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177504 = j_m_i_177491 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool empty_or_match_cert_177505;
    
    if (!dim_match_177504) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177491, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181074, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "mem_181074")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181895 = 0; nest_i_181895 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; nest_i_181895++) {
        ((int8_t *) mem_181074.mem)[nest_i_181895] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181076, bytes_181075, "mem_181076")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181896 = 0; i_181896 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; i_181896++) {
        int64_t x_181897 = defunc_0_merge_pipeline_res_174784 + i_181896 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[i_181896] = x_181897;
    }
    for (int64_t nest_i_181898 = 0; nest_i_181898 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; nest_i_181898++) {
        ((int8_t *) mem_181074.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + nest_i_181898] = (int8_t) 1;
    }
    for (int64_t i_181899 = 0; i_181899 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; i_181899++) {
        int64_t x_181900 = defunc_0_merge_pipeline_res_174785 + i_181899 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + i_181899] = x_181900;
    }
    
    int64_t tmp_offs_181901 = (int64_t) 0;
    
    if (!(tmp_offs_181901 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181901 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t tmp_offs_181902 = (int64_t) 0;
    
    if (!(tmp_offs_181902 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181902 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    if (memblock_alloc(ctx, &mem_181078, bytes_181075, "mem_181078")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181903 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180280.mem, defunc_0_merge_pipeline_res_174784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180281.mem, defunc_0_merge_pipeline_res_174785, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t flat_dim_176875 = smallest_pow_2_geq_than_res_176864 * block_sizze_176874;
    bool x_181398 = !cond_176858;
    int64_t greatest_divisor_leq_than_arg1_176879 = mul64((int64_t) 2, block_sizze_176874);
    int64_t merge_block_sizze_176880;
    
    if (x_181398) {
        int64_t x_181400;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181400, (int64_t) 8, greatest_divisor_leq_than_arg1_176879) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176880 = x_181400;
    } else {
        merge_block_sizze_176880 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177555 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 0);
    int8_t index_concat_branch_177559 = btoi_bool_i8(index_concat_cmp_177555);
    int64_t index_concat_i_179699 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    int64_t index_primexp_179700 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179699);
    int64_t index_concat_branch_177553;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177553 = index_primexp_179700;
    } else {
        index_concat_branch_177553 = defunc_0_merge_pipeline_res_174784;
    }
    
    bool x_181394 = !index_concat_cmp_177555;
    bool protect_cond_conj_181404 = x_181394 && x_181398;
    double index_concat_177546;
    
    if (protect_cond_conj_181404) {
        double x_181396 = ((double *) a_list_mem_180280.mem)[defunc_0_merge_pipeline_res_174784];
        
        index_concat_177546 = x_181396;
    } else {
        index_concat_177546 = 0.0;
    }
    
    bool protect_cond_conj_181405 = index_concat_cmp_177555 && x_181398;
    double index_concat_179703;
    
    if (protect_cond_conj_181405) {
        double x_181392 = ((double *) b_list_mem_180281.mem)[index_primexp_179700];
        
        index_concat_179703 = x_181392;
    } else {
        index_concat_179703 = 0.0;
    }
    
    double index_concat_branch_177547;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177547 = index_concat_179703;
    } else {
        index_concat_branch_177547 = index_concat_177546;
    }
    
    int8_t defunc_0_reduce_res_179934;
    int64_t defunc_0_reduce_res_179935;
    double defunc_0_reduce_res_179936;
    
    if (x_181398) {
        int8_t x_181406;
        int64_t x_181407;
        double x_181408;
        int8_t redout_180088;
        int64_t redout_180089;
        double redout_180090;
        
        redout_180088 = index_concat_branch_177559;
        redout_180089 = index_concat_branch_177553;
        redout_180090 = index_concat_branch_177547;
        for (int64_t i_180091 = 0; i_180091 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812; i_180091++) {
            bool index_concat_cmp_180162 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, i_180091);
            int8_t index_concat_branch_180166 = btoi_bool_i8(index_concat_cmp_180162);
            int64_t index_concat_branch_180160;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180157 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t index_primexp_180250 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_180157);
                
                index_concat_branch_180160 = index_primexp_180250;
            } else {
                int64_t index_primexp_180252 = add64(defunc_0_merge_pipeline_res_174784, i_180091);
                
                index_concat_branch_180160 = index_primexp_180252;
            }
            
            double index_concat_branch_180154;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180151 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t slice_180247 = defunc_0_merge_pipeline_res_174785 + index_concat_i_180151;
                double index_concat_180152 = ((double *) b_list_mem_180281.mem)[slice_180247];
                
                index_concat_branch_180154 = index_concat_180152;
            } else {
                int64_t slice_180248 = defunc_0_merge_pipeline_res_174784 + i_180091;
                double index_concat_180153 = ((double *) a_list_mem_180280.mem)[slice_180248];
                
                index_concat_branch_180154 = index_concat_180153;
            }
            
            bool eq_x_y_180265 = redout_180088 == (int8_t) 1;
            bool eq_x_zz_180266 = redout_180088 == (int8_t) 0;
            bool p_and_eq_x_y_180267 = index_concat_cmp_180162 && eq_x_y_180265;
            bool not_p_180268 = !index_concat_cmp_180162;
            bool p_and_eq_x_y_180269 = eq_x_zz_180266 && not_p_180268;
            bool cond_176898 = p_and_eq_x_y_180267 || p_and_eq_x_y_180269;
            bool defunc_0_leq_res_t_res_176899 = sle64(redout_180089, index_concat_branch_180160);
            bool defunc_0_leq_res_176900 = redout_180090 <= index_concat_branch_180154;
            bool x_176901 = cond_176898 && defunc_0_leq_res_t_res_176899;
            bool x_176902 = !cond_176898;
            bool y_176903 = defunc_0_leq_res_176900 && x_176902;
            bool defunc_0_leq_res_176904 = x_176901 || y_176903;
            int8_t defunc_0_op_res_176905;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176905 = index_concat_branch_180166;
            } else {
                defunc_0_op_res_176905 = redout_180088;
            }
            
            int64_t defunc_0_op_res_176906;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176906 = index_concat_branch_180160;
            } else {
                defunc_0_op_res_176906 = redout_180089;
            }
            
            double defunc_0_op_res_176907;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176907 = index_concat_branch_180154;
            } else {
                defunc_0_op_res_176907 = redout_180090;
            }
            
            int8_t redout_tmp_181904 = defunc_0_op_res_176905;
            int64_t redout_tmp_181905 = defunc_0_op_res_176906;
            double redout_tmp_181906 = defunc_0_op_res_176907;
            
            redout_180088 = redout_tmp_181904;
            redout_180089 = redout_tmp_181905;
            redout_180090 = redout_tmp_181906;
        }
        x_181406 = redout_180088;
        x_181407 = redout_180089;
        x_181408 = redout_180090;
        defunc_0_reduce_res_179934 = x_181406;
        defunc_0_reduce_res_179935 = x_181407;
        defunc_0_reduce_res_179936 = x_181408;
    } else {
        defunc_0_reduce_res_179934 = (int8_t) 0;
        defunc_0_reduce_res_179935 = (int64_t) 0;
        defunc_0_reduce_res_179936 = 0.0;
    }
    
    int64_t distance_176919 = add64((int64_t) 1, tmp_176917);
    int64_t binop_x_181081 = (int64_t) 8 * smallest_pow_2_geq_than_res_176864;
    int64_t bytes_181082 = block_sizze_176874 * binop_x_181081;
    int64_t bytes_181100 = (int64_t) 8 * block_sizze_176874;
    bool loop_cond_177028 = slt64(block_sizze_176874, flat_dim_176875);
    bool zzero_177029 = merge_block_sizze_176880 == (int64_t) 0;
    bool nonzzero_177030 = !zzero_177029;
    
    if (cond_176858) {
        if (memblock_set(ctx, &ext_mem_181373, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &mem_181078, "mem_181078") != 0)
            return 1;
    } else {
        if (mem_181080_cached_sizze_182063 < flat_dim_176875) {
            err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182063, flat_dim_176875);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181083_cached_sizze_182064 < bytes_181082) {
            err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182064, bytes_181082);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181086_cached_sizze_182065 < bytes_181082) {
            err = lexical_realloc(ctx, &mem_181086, &mem_181086_cached_sizze_182065, bytes_181082);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181099_cached_sizze_182066 < block_sizze_176874) {
            err = lexical_realloc(ctx, &mem_181099, &mem_181099_cached_sizze_182066, block_sizze_176874);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181101_cached_sizze_182067 < bytes_181100) {
            err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_182067, bytes_181100);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181103_cached_sizze_182068 < bytes_181100) {
            err = lexical_realloc(ctx, &mem_181103, &mem_181103_cached_sizze_182068, bytes_181100);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180108 = 0; i_180108 < smallest_pow_2_geq_than_res_176864; i_180108++) {
            int64_t zp_lhs_176927 = mul64(block_sizze_176874, i_180108);
            
            for (int64_t i_180098 = 0; i_180098 < block_sizze_176874; i_180098++) {
                int64_t k_176932 = add64(zp_lhs_176927, i_180098);
                bool cond_176933 = slt64(k_176932, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
                int8_t lifted_lambda_res_176934;
                int64_t lifted_lambda_res_176935;
                double lifted_lambda_res_176936;
                
                if (cond_176933) {
                    bool x_179709 = sle64((int64_t) 0, k_176932);
                    bool bounds_check_179710 = cond_176933 && x_179709;
                    bool index_certs_179711;
                    
                    if (!bounds_check_179710) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176932, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179712 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, k_176932);
                    int8_t index_concat_branch_179713 = btoi_bool_i8(index_concat_cmp_179712);
                    int64_t index_concat_branch_179714;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179715 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t index_primexp_179716 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179715);
                        
                        index_concat_branch_179714 = index_primexp_179716;
                    } else {
                        int64_t index_primexp_179717 = add64(defunc_0_merge_pipeline_res_174784, k_176932);
                        
                        index_concat_branch_179714 = index_primexp_179717;
                    }
                    
                    double index_concat_branch_179718;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179719 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t slice_179720 = defunc_0_merge_pipeline_res_174785 + index_concat_i_179719;
                        double index_concat_179721 = ((double *) b_list_mem_180281.mem)[slice_179720];
                        
                        index_concat_branch_179718 = index_concat_179721;
                    } else {
                        int64_t slice_179722 = defunc_0_merge_pipeline_res_174784 + k_176932;
                        double index_concat_179723 = ((double *) a_list_mem_180280.mem)[slice_179722];
                        
                        index_concat_branch_179718 = index_concat_179723;
                    }
                    lifted_lambda_res_176934 = index_concat_branch_179713;
                    lifted_lambda_res_176935 = index_concat_branch_179714;
                    lifted_lambda_res_176936 = index_concat_branch_179718;
                } else {
                    lifted_lambda_res_176934 = defunc_0_reduce_res_179934;
                    lifted_lambda_res_176935 = defunc_0_reduce_res_179935;
                    lifted_lambda_res_176936 = defunc_0_reduce_res_179936;
                }
                ((int8_t *) mem_181099)[i_180098] = lifted_lambda_res_176934;
                ((int64_t *) mem_181101)[i_180098] = lifted_lambda_res_176935;
                ((double *) mem_181103)[i_180098] = lifted_lambda_res_176936;
            }
            if (!cond_176916) {
                for (int64_t i_176949 = 0; i_176949 < distance_176919; i_176949++) {
                    int64_t gt_arg1_176953 = add64((int64_t) 1, i_176949);
                    bool x_176954 = sle64((int64_t) 0, gt_arg1_176953);
                    bool y_176955 = slt64(gt_arg1_176953, block_sizze_176874);
                    bool bounds_check_176956 = x_176954 && y_176955;
                    bool index_certs_176957;
                    
                    if (!bounds_check_176956) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176953, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176961 = slt64(i_176949, block_sizze_176874);
                    bool index_certs_176962;
                    
                    if (!y_176961) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176949, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176958 = ((int8_t *) mem_181099)[gt_arg1_176953];
                    int64_t gt_arg1_176959 = ((int64_t *) mem_181101)[gt_arg1_176953];
                    double gt_arg1_176960 = ((double *) mem_181103)[gt_arg1_176953];
                    int8_t gt_arg0_176963 = ((int8_t *) mem_181099)[i_176949];
                    int64_t gt_arg0_176964 = ((int64_t *) mem_181101)[i_176949];
                    double gt_arg0_176965 = ((double *) mem_181103)[i_176949];
                    bool cond_176966 = gt_arg0_176963 == gt_arg1_176958;
                    bool defunc_0_leq_res_t_res_176967 = sle64(gt_arg0_176964, gt_arg1_176959);
                    bool defunc_0_leq_res_176968 = gt_arg0_176965 <= gt_arg1_176960;
                    bool x_176969 = cond_176966 && defunc_0_leq_res_t_res_176967;
                    bool x_176970 = !cond_176966;
                    bool y_176971 = defunc_0_leq_res_176968 && x_176970;
                    bool defunc_0_leq_res_176972 = x_176969 || y_176971;
                    bool defunc_0_lifted_gt_res_176973 = !defunc_0_leq_res_176972;
                    bool s_176974;
                    int64_t s_176978;
                    bool loop_while_176979;
                    int64_t j_176983;
                    
                    loop_while_176979 = defunc_0_lifted_gt_res_176973;
                    j_176983 = i_176949;
                    while (loop_while_176979) {
                        bool x_176984 = sle64((int64_t) 0, j_176983);
                        bool y_176985 = slt64(j_176983, block_sizze_176874);
                        bool bounds_check_176986 = x_176984 && y_176985;
                        bool index_certs_176987;
                        
                        if (!bounds_check_176986) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176983, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176991 = add64((int64_t) 1, j_176983);
                        bool x_176992 = sle64((int64_t) 0, copy_arg0_176991);
                        bool y_176993 = slt64(copy_arg0_176991, block_sizze_176874);
                        bool bounds_check_176994 = x_176992 && y_176993;
                        bool index_certs_176995;
                        
                        if (!bounds_check_176994) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176991, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176988 = ((int8_t *) mem_181099)[j_176983];
                        int64_t copy_arg0_176989 = ((int64_t *) mem_181101)[j_176983];
                        double copy_arg0_176990 = ((double *) mem_181103)[j_176983];
                        int8_t copy_arg0_176996 = ((int8_t *) mem_181099)[copy_arg0_176991];
                        int64_t copy_arg0_176997 = ((int64_t *) mem_181101)[copy_arg0_176991];
                        double copy_arg0_176998 = ((double *) mem_181103)[copy_arg0_176991];
                        
                        ((int8_t *) mem_181099)[j_176983] = copy_arg0_176996;
                        ((int64_t *) mem_181101)[j_176983] = copy_arg0_176997;
                        ((double *) mem_181103)[j_176983] = copy_arg0_176998;
                        ((int8_t *) mem_181099)[copy_arg0_176991] = copy_arg0_176988;
                        ((int64_t *) mem_181101)[copy_arg0_176991] = copy_arg0_176989;
                        ((double *) mem_181103)[copy_arg0_176991] = copy_arg0_176990;
                        
                        int64_t tmp_177005 = sub64(j_176983, (int64_t) 1);
                        bool cond_177006 = sle64((int64_t) 0, tmp_177005);
                        bool loop_cond_177007;
                        
                        if (cond_177006) {
                            bool y_179727 = slt64(tmp_177005, block_sizze_176874);
                            bool bounds_check_179728 = cond_177006 && y_179727;
                            bool index_certs_179729;
                            
                            if (!bounds_check_179728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177005, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179724 = ((int8_t *) mem_181099)[j_176983];
                            int64_t gt_arg1_179725 = ((int64_t *) mem_181101)[j_176983];
                            double gt_arg1_179726 = ((double *) mem_181103)[j_176983];
                            int8_t gt_arg0_179730 = ((int8_t *) mem_181099)[tmp_177005];
                            int64_t gt_arg0_179731 = ((int64_t *) mem_181101)[tmp_177005];
                            double gt_arg0_179732 = ((double *) mem_181103)[tmp_177005];
                            bool cond_179733 = gt_arg0_179730 == gt_arg1_179724;
                            bool defunc_0_leq_res_t_res_179734 = sle64(gt_arg0_179731, gt_arg1_179725);
                            bool defunc_0_leq_res_179735 = gt_arg0_179732 <= gt_arg1_179726;
                            bool x_179736 = cond_179733 && defunc_0_leq_res_t_res_179734;
                            bool x_179737 = !cond_179733;
                            bool y_179738 = defunc_0_leq_res_179735 && x_179737;
                            bool defunc_0_leq_res_179739 = x_179736 || y_179738;
                            bool defunc_0_lifted_gt_res_179740 = !defunc_0_leq_res_179739;
                            
                            loop_cond_177007 = defunc_0_lifted_gt_res_179740;
                        } else {
                            loop_cond_177007 = 0;
                        }
                        
                        bool loop_while_tmp_181916 = loop_cond_177007;
                        int64_t j_tmp_181920 = tmp_177005;
                        
                        loop_while_176979 = loop_while_tmp_181916;
                        j_176983 = j_tmp_181920;
                    }
                    s_176974 = loop_while_176979;
                    s_176978 = j_176983;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181080, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181099, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181083, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181101, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181103, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
        }
        if (memblock_alloc(ctx, &mem_181180, flat_dim_176875, "mem_181180")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181180.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint8_t *) mem_181080, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181184, bytes_181082, "mem_181184")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181184.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint64_t *) mem_181083, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181188, bytes_181082, "mem_181188")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint64_t *) mem_181086, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        
        int64_t data_177031;
        bool data_177032;
        int64_t data_177036;
        int64_t loop_dz2084Uz2082U_177037;
        bool loop_while_177038;
        int64_t stride_177042;
        
        if (memblock_set(ctx, &mem_param_181192, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181195, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181198, &mem_181188, "mem_181188") != 0)
            return 1;
        loop_dz2084Uz2082U_177037 = flat_dim_176875;
        loop_while_177038 = loop_cond_177028;
        stride_177042 = block_sizze_176874;
        while (loop_while_177038) {
            int64_t next_stride_177043 = mul64((int64_t) 2, stride_177042);
            bool zzero_177044 = next_stride_177043 == (int64_t) 0;
            bool nonzzero_177045 = !zzero_177044;
            bool nonzzero_cert_177046;
            
            if (!nonzzero_177045) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177047 = sdiv64(flat_dim_176875, next_stride_177043);
            bool bounds_invalid_upwards_177048 = slt64(num_merges_177047, (int64_t) 0);
            bool valid_177049 = !bounds_invalid_upwards_177048;
            bool range_valid_c_177050;
            
            if (!valid_177049) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177047, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177052 = sub64(next_stride_177043, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177053 = sle64((int64_t) 0, m_177052);
            bool cond_177055 = slt64(next_stride_177043, (int64_t) 10);
            bool protect_assert_disj_177056 = nonzzero_177030 || cond_177055;
            bool nonzzero_cert_177057;
            
            if (!protect_assert_disj_177056) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177058 = smod_safe64(next_stride_177043, merge_block_sizze_176880);
            bool num_blocks_177059 = zeze_lhs_177058 == (int64_t) 0;
            bool protect_assert_disj_177060 = cond_177055 || num_blocks_177059;
            bool assert_c_177061;
            
            if (!protect_assert_disj_177060) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177063 = sdiv_safe64(next_stride_177043, merge_block_sizze_176880);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064 = add64((int64_t) 1, num_blocks_177063);
            int64_t j_m_i_177065 = sub64(next_stride_177043, stride_177042);
            int64_t flat_dim_177066 = merge_block_sizze_176880 * num_blocks_177063;
            bool bounds_invalid_upwards_177067 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, (int64_t) 0);
            bool empty_slice_177068 = j_m_i_177065 == (int64_t) 0;
            int64_t m_177069 = sub64(j_m_i_177065, (int64_t) 1);
            bool zzero_lte_i_177070 = sle64((int64_t) 0, stride_177042);
            bool i_lte_j_177071 = sle64(stride_177042, next_stride_177043);
            bool empty_slice_177072 = stride_177042 == (int64_t) 0;
            int64_t m_177073 = sub64(stride_177042, (int64_t) 1);
            bool bounds_invalid_upwards_177074 = slt64(num_blocks_177063, (int64_t) 0);
            bool cond_177075 = slt64((int64_t) 0, stride_177042);
            bool valid_177076 = !bounds_invalid_upwards_177067;
            int64_t i_p_m_t_s_177077 = add64(stride_177042, m_177069);
            bool zzero_leq_i_p_m_t_s_177078 = sle64((int64_t) 0, m_177073);
            bool i_p_m_t_s_leq_w_177079 = slt64(m_177073, next_stride_177043);
            bool valid_177080 = !bounds_invalid_upwards_177074;
            bool i_p_m_t_s_leq_w_177081 = slt64(m_177052, flat_dim_177066);
            bool y_177082 = slt64((int64_t) 0, j_m_i_177065);
            bool protect_assert_disj_177083 = cond_177055 || valid_177076;
            bool range_valid_c_177084;
            
            if (!protect_assert_disj_177083) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177085 = sle64((int64_t) 0, i_p_m_t_s_177077);
            bool i_p_m_t_s_leq_w_177086 = slt64(i_p_m_t_s_177077, next_stride_177043);
            bool y_177087 = zzero_leq_i_p_m_t_s_177078 && i_p_m_t_s_leq_w_177079;
            bool protect_assert_disj_177088 = cond_177055 || valid_177080;
            bool range_valid_c_177089;
            
            if (!protect_assert_disj_177088) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177090 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177081;
            bool y_177091 = zzero_lte_i_177070 && i_p_m_t_s_leq_w_177086;
            bool forwards_ok_177092 = zzero_lte_i_177070 && y_177087;
            bool ok_or_empty_177093 = zzero_177044 || y_177090;
            bool protect_assert_disj_177094 = cond_177075 || y_177082;
            bool y_177095 = zzero_leq_i_p_m_t_s_177085 && y_177091;
            bool ok_or_empty_177096 = empty_slice_177072 || forwards_ok_177092;
            bool protect_assert_disj_177097 = cond_177055 || ok_or_empty_177093;
            bool index_certs_177098;
            
            if (!protect_assert_disj_177097) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) flat_dim_177066, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177099 = !cond_177055;
            bool protect_assert_disj_177100 = protect_assert_disj_177094 || loop_not_taken_177099;
            bool index_certs_177101;
            
            if (!protect_assert_disj_177100) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177102 = i_lte_j_177071 && y_177095;
            bool protect_assert_disj_177103 = cond_177055 || ok_or_empty_177096;
            bool index_certs_177104;
            
            if (!protect_assert_disj_177103) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177105 = ok_or_empty_177096 || loop_not_taken_177099;
            bool index_certs_177106;
            
            if (!protect_assert_disj_177105) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177107 = empty_slice_177068 || forwards_ok_177102;
            bool protect_assert_disj_177108 = cond_177055 || ok_or_empty_177107;
            bool index_certs_177109;
            
            if (!protect_assert_disj_177108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177110 = loop_not_taken_177099 || ok_or_empty_177107;
            bool index_certs_177111;
            
            if (!protect_assert_disj_177110) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181199 = next_stride_177043 * num_merges_177047;
            int64_t binop_x_181201 = (int64_t) 8 * num_merges_177047;
            int64_t bytes_181202 = next_stride_177043 * binop_x_181201;
            bool i_lte_j_177054 = sle64((int64_t) 0, next_stride_177043);
            
            if (mem_181200_cached_sizze_182069 < bytes_181199) {
                err = lexical_realloc(ctx, &mem_181200, &mem_181200_cached_sizze_182069, bytes_181199);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181203_cached_sizze_182070 < bytes_181202) {
                err = lexical_realloc(ctx, &mem_181203, &mem_181203_cached_sizze_182070, bytes_181202);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181206_cached_sizze_182071 < bytes_181202) {
                err = lexical_realloc(ctx, &mem_181206, &mem_181206_cached_sizze_182071, bytes_181202);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181219 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064;
            int64_t binop_x_181237 = (int64_t) 8 * num_blocks_177063;
            int64_t bytes_181238 = merge_block_sizze_176880 * binop_x_181237;
            int64_t bytes_181302 = (int64_t) 16 * stride_177042;
            
            for (int64_t i_180135 = 0; i_180135 < num_merges_177047; i_180135++) {
                int64_t start_177116 = mul64(next_stride_177043, i_180135);
                int64_t j_m_i_177117 = sub64(loop_dz2084Uz2082U_177037, start_177116);
                bool empty_slice_177118 = j_m_i_177117 == (int64_t) 0;
                int64_t m_177119 = sub64(j_m_i_177117, (int64_t) 1);
                int64_t i_p_m_t_s_177120 = add64(start_177116, m_177119);
                bool zzero_leq_i_p_m_t_s_177121 = sle64((int64_t) 0, i_p_m_t_s_177120);
                bool i_p_m_t_s_leq_w_177122 = slt64(i_p_m_t_s_177120, loop_dz2084Uz2082U_177037);
                bool zzero_lte_i_177123 = sle64((int64_t) 0, start_177116);
                bool i_lte_j_177124 = sle64(start_177116, loop_dz2084Uz2082U_177037);
                bool y_177125 = i_p_m_t_s_leq_w_177122 && zzero_lte_i_177123;
                bool y_177126 = zzero_leq_i_p_m_t_s_177121 && y_177125;
                bool forwards_ok_177127 = i_lte_j_177124 && y_177126;
                bool ok_or_empty_177128 = empty_slice_177118 || forwards_ok_177127;
                bool index_certs_177129;
                
                if (!ok_or_empty_177128) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177116, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177037, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177130 = slt64(m_177052, j_m_i_177117);
                bool y_177131 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177130;
                bool forwards_ok_177132 = i_lte_j_177054 && y_177131;
                bool ok_or_empty_177133 = zzero_177044 || forwards_ok_177132;
                bool index_certs_177134;
                
                if (!ok_or_empty_177133) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) j_m_i_177117, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177055) {
                    int8_t dummy_179779;
                    int64_t dummy_179780;
                    double dummy_179781;
                    
                    if (cond_177075) {
                        int8_t head_res_179782 = ((int8_t *) mem_param_181192.mem)[start_177116];
                        int64_t head_res_179783 = ((int64_t *) mem_param_181195.mem)[start_177116];
                        double head_res_179784 = ((double *) mem_param_181198.mem)[start_177116];
                        
                        dummy_179779 = head_res_179782;
                        dummy_179780 = head_res_179783;
                        dummy_179781 = head_res_179784;
                    } else {
                        int64_t slice_179785 = stride_177042 + start_177116;
                        int8_t head_res_179786 = ((int8_t *) mem_param_181192.mem)[slice_179785];
                        int64_t head_res_179787 = ((int64_t *) mem_param_181195.mem)[slice_179785];
                        double head_res_179788 = ((double *) mem_param_181198.mem)[slice_179785];
                        
                        dummy_179779 = head_res_179786;
                        dummy_179780 = head_res_179787;
                        dummy_179781 = head_res_179788;
                    }
                    if (memblock_alloc(ctx, &mem_181301, next_stride_177043, "mem_181301")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181933 = 0; nest_i_181933 < next_stride_177043; nest_i_181933++) {
                        ((int8_t *) mem_181301.mem)[nest_i_181933] = dummy_179779;
                    }
                    if (memblock_alloc(ctx, &mem_181303, bytes_181302, "mem_181303")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181934 = 0; nest_i_181934 < next_stride_177043; nest_i_181934++) {
                        ((int64_t *) mem_181303.mem)[nest_i_181934] = dummy_179780;
                    }
                    if (memblock_alloc(ctx, &mem_181305, bytes_181302, "mem_181305")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181935 = 0; nest_i_181935 < next_stride_177043; nest_i_181935++) {
                        ((double *) mem_181305.mem)[nest_i_181935] = dummy_179781;
                    }
                    
                    int64_t data_179792;
                    int64_t i_179797 = (int64_t) 0;
                    
                    for (int64_t k_179796 = 0; k_179796 < next_stride_177043; k_179796++) {
                        int64_t j_179801 = sub64(k_179796, i_179797);
                        bool cond_179802 = j_179801 == j_m_i_177065;
                        bool cond_179803;
                        
                        if (cond_179802) {
                            cond_179803 = 1;
                        } else {
                            bool cond_179804 = slt64(i_179797, stride_177042);
                            bool cond_f_res_179805;
                            
                            if (cond_179804) {
                                bool x_179806 = sle64((int64_t) 0, j_179801);
                                bool y_179807 = slt64(j_179801, j_m_i_177065);
                                bool bounds_check_179808 = x_179806 && y_179807;
                                bool index_certs_179809;
                                
                                if (!bounds_check_179808) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179815 = sle64((int64_t) 0, i_179797);
                                bool bounds_check_179816 = cond_179804 && x_179815;
                                bool index_certs_179817;
                                
                                if (!bounds_check_179816) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179810 = stride_177042 + j_179801;
                                int64_t slice_179811 = start_177116 + slice_179810;
                                int8_t leq_arg1_179812 = ((int8_t *) mem_param_181192.mem)[slice_179811];
                                int64_t leq_arg1_179813 = ((int64_t *) mem_param_181195.mem)[slice_179811];
                                double leq_arg1_179814 = ((double *) mem_param_181198.mem)[slice_179811];
                                int64_t slice_179818 = start_177116 + i_179797;
                                int8_t leq_arg0_179819 = ((int8_t *) mem_param_181192.mem)[slice_179818];
                                int64_t leq_arg0_179820 = ((int64_t *) mem_param_181195.mem)[slice_179818];
                                double leq_arg0_179821 = ((double *) mem_param_181198.mem)[slice_179818];
                                bool cond_179822 = leq_arg0_179819 == leq_arg1_179812;
                                bool defunc_0_leq_res_t_res_179823 = sle64(leq_arg0_179820, leq_arg1_179813);
                                bool defunc_0_leq_res_179824 = leq_arg0_179821 <= leq_arg1_179814;
                                bool x_179825 = cond_179822 && defunc_0_leq_res_t_res_179823;
                                bool x_179826 = !cond_179822;
                                bool y_179827 = defunc_0_leq_res_179824 && x_179826;
                                bool defunc_0_leq_res_179828 = x_179825 || y_179827;
                                
                                cond_f_res_179805 = defunc_0_leq_res_179828;
                            } else {
                                cond_f_res_179805 = 0;
                            }
                            cond_179803 = cond_f_res_179805;
                        }
                        
                        int64_t loopres_179829;
                        int8_t loopres_179830;
                        int64_t loopres_179831;
                        double loopres_179832;
                        
                        if (cond_179803) {
                            bool x_179834 = sle64((int64_t) 0, i_179797);
                            bool y_179835 = slt64(i_179797, stride_177042);
                            bool bounds_check_179836 = x_179834 && y_179835;
                            bool index_certs_179837;
                            
                            if (!bounds_check_179836) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179833 = add64((int64_t) 1, i_179797);
                            int64_t slice_179838 = start_177116 + i_179797;
                            int8_t tmp_179839 = ((int8_t *) mem_param_181192.mem)[slice_179838];
                            int64_t tmp_179840 = ((int64_t *) mem_param_181195.mem)[slice_179838];
                            double tmp_179841 = ((double *) mem_param_181198.mem)[slice_179838];
                            
                            loopres_179829 = tmp_179833;
                            loopres_179830 = tmp_179839;
                            loopres_179831 = tmp_179840;
                            loopres_179832 = tmp_179841;
                        } else {
                            bool x_179842 = sle64((int64_t) 0, j_179801);
                            bool y_179843 = slt64(j_179801, j_m_i_177065);
                            bool bounds_check_179844 = x_179842 && y_179843;
                            bool index_certs_179845;
                            
                            if (!bounds_check_179844) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179846 = stride_177042 + j_179801;
                            int64_t slice_179847 = start_177116 + slice_179846;
                            int8_t tmp_179848 = ((int8_t *) mem_param_181192.mem)[slice_179847];
                            int64_t tmp_179849 = ((int64_t *) mem_param_181195.mem)[slice_179847];
                            double tmp_179850 = ((double *) mem_param_181198.mem)[slice_179847];
                            
                            loopres_179829 = i_179797;
                            loopres_179830 = tmp_179848;
                            loopres_179831 = tmp_179849;
                            loopres_179832 = tmp_179850;
                        }
                        ((int8_t *) mem_181301.mem)[k_179796] = loopres_179830;
                        ((int64_t *) mem_181303.mem)[k_179796] = loopres_179831;
                        ((double *) mem_181305.mem)[k_179796] = loopres_179832;
                        
                        int64_t i_tmp_181936 = loopres_179829;
                        
                        i_179797 = i_tmp_181936;
                    }
                    data_179792 = i_179797;
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181301, "mem_181301") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181303, "mem_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181305, "mem_181305") != 0)
                        return 1;
                } else {
                    if (mem_181220_cached_sizze_182072 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181220, &mem_181220_cached_sizze_182072, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181222_cached_sizze_182073 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181222, &mem_181222_cached_sizze_182073, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180116 = 0; i_180116 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064; i_180116++) {
                        int64_t split_count_arg3_177217 = mul64(merge_block_sizze_176880, i_180116);
                        int64_t defunc_0_split_count_res_177218;
                        int64_t defunc_0_split_count_res_177219;
                        int64_t defunc_0_split_count_res_177220;
                        int64_t defunc_0_split_count_res_177221;
                        int64_t defunc_0_split_count_res_177222;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_177218, &defunc_0_split_count_res_177219, &defunc_0_split_count_res_177220, &defunc_0_split_count_res_177221, &defunc_0_split_count_res_177222, (int64_t) 0, stride_177042, (int64_t) 0, j_m_i_177065, split_count_arg3_177217) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177223 = slt64((int64_t) 0, defunc_0_split_count_res_177222);
                        bool defunc_0_split_count_res_177224;
                        int64_t defunc_0_split_count_res_177225;
                        int64_t defunc_0_split_count_res_177226;
                        int64_t defunc_0_split_count_res_177227;
                        int64_t defunc_0_split_count_res_177228;
                        int64_t defunc_0_split_count_res_177229;
                        bool loop_while_177230;
                        int64_t ss_177231;
                        int64_t ss_177232;
                        int64_t tt_177233;
                        int64_t tt_177234;
                        int64_t count_177235;
                        
                        loop_while_177230 = loop_cond_177223;
                        ss_177231 = defunc_0_split_count_res_177218;
                        ss_177232 = defunc_0_split_count_res_177219;
                        tt_177233 = defunc_0_split_count_res_177220;
                        tt_177234 = defunc_0_split_count_res_177221;
                        count_177235 = defunc_0_split_count_res_177222;
                        while (loop_while_177230) {
                            int64_t zlze_lhs_177236 = sub64(ss_177232, ss_177231);
                            bool cond_177237 = sle64(zlze_lhs_177236, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177238;
                            int64_t defunc_0_lifted_step_res_177239;
                            int64_t defunc_0_lifted_step_res_177240;
                            int64_t defunc_0_lifted_step_res_177241;
                            
                            if (cond_177237) {
                                int64_t tmp_179854 = add64(tt_177233, count_177235);
                                
                                defunc_0_lifted_step_res_177238 = ss_177231;
                                defunc_0_lifted_step_res_177239 = tmp_179854;
                                defunc_0_lifted_step_res_177240 = tt_177234;
                                defunc_0_lifted_step_res_177241 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177243 = sub64(tt_177234, tt_177233);
                                bool cond_177244 = sle64(zlze_lhs_177243, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177245;
                                int64_t defunc_0_lifted_step_res_f_res_177246;
                                int64_t defunc_0_lifted_step_res_f_res_177247;
                                int64_t defunc_0_lifted_step_res_f_res_177248;
                                
                                if (cond_177244) {
                                    int64_t tmp_179855 = add64(ss_177231, count_177235);
                                    
                                    defunc_0_lifted_step_res_f_res_177245 = tmp_179855;
                                    defunc_0_lifted_step_res_f_res_177246 = tt_177233;
                                    defunc_0_lifted_step_res_f_res_177247 = tt_177234;
                                    defunc_0_lifted_step_res_f_res_177248 = (int64_t) 0;
                                } else {
                                    bool cond_177250 = count_177235 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177251;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177252;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177253;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177254;
                                    
                                    if (cond_177250) {
                                        bool x_179857 = sle64((int64_t) 0, ss_177231);
                                        bool y_179858 = slt64(ss_177231, stride_177042);
                                        bool bounds_check_179859 = x_179857 && y_179858;
                                        bool index_certs_179860;
                                        
                                        if (!bounds_check_179859) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177231, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179865 = sle64((int64_t) 0, tt_177233);
                                        bool y_179866 = slt64(tt_177233, j_m_i_177065);
                                        bool bounds_check_179867 = x_179865 && y_179866;
                                        bool index_certs_179868;
                                        
                                        if (!bounds_check_179867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177233, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179861 = start_177116 + ss_177231;
                                        int8_t leq_arg1_179862 = ((int8_t *) mem_param_181192.mem)[slice_179861];
                                        int64_t leq_arg1_179863 = ((int64_t *) mem_param_181195.mem)[slice_179861];
                                        double leq_arg1_179864 = ((double *) mem_param_181198.mem)[slice_179861];
                                        int64_t slice_179869 = stride_177042 + tt_177233;
                                        int64_t slice_179870 = start_177116 + slice_179869;
                                        int8_t leq_arg0_179871 = ((int8_t *) mem_param_181192.mem)[slice_179870];
                                        int64_t leq_arg0_179872 = ((int64_t *) mem_param_181195.mem)[slice_179870];
                                        double leq_arg0_179873 = ((double *) mem_param_181198.mem)[slice_179870];
                                        bool cond_179874 = leq_arg0_179871 == leq_arg1_179862;
                                        bool defunc_0_leq_res_t_res_179875 = sle64(leq_arg0_179872, leq_arg1_179863);
                                        bool defunc_0_leq_res_179876 = leq_arg0_179873 <= leq_arg1_179864;
                                        bool x_179877 = cond_179874 && defunc_0_leq_res_t_res_179875;
                                        bool x_179878 = !cond_179874;
                                        bool y_179879 = defunc_0_leq_res_179876 && x_179878;
                                        bool defunc_0_leq_res_179880 = x_179877 || y_179879;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        
                                        if (defunc_0_leq_res_179880) {
                                            int64_t tmp_179883 = add64((int64_t) 1, tt_177233);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = ss_177231;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tmp_179883;
                                        } else {
                                            int64_t tmp_179884 = add64((int64_t) 1, ss_177231);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = tmp_179884;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tt_177233;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = tt_177234;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = (int64_t) 0;
                                    } else {
                                        int64_t m_177283 = sdiv64(count_177235, (int64_t) 2);
                                        int64_t n_177284 = sub64(count_177235, m_177283);
                                        bool cond_177285 = n_177284 == (int64_t) 0;
                                        int64_t zgze_lhs_177286 = add64(ss_177231, m_177283);
                                        bool cond_f_res_177287 = sle64(ss_177232, zgze_lhs_177286);
                                        bool x_177288 = !cond_177285;
                                        bool y_177289 = cond_f_res_177287 && x_177288;
                                        bool cond_177290 = cond_177285 || y_177289;
                                        bool leq_y_x_177291;
                                        
                                        if (cond_177290) {
                                            leq_y_x_177291 = 1;
                                        } else {
                                            bool x_177292 = sle64((int64_t) 0, zgze_lhs_177286);
                                            bool y_177293 = slt64(zgze_lhs_177286, stride_177042);
                                            bool bounds_check_177294 = x_177292 && y_177293;
                                            bool index_certs_177295;
                                            
                                            if (!bounds_check_177294) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177286, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177300 = add64(tt_177233, n_177284);
                                            int64_t leq_arg0_177301 = sub64(zm_lhs_177300, (int64_t) 1);
                                            bool x_177302 = sle64((int64_t) 0, leq_arg0_177301);
                                            bool y_177303 = slt64(leq_arg0_177301, j_m_i_177065);
                                            bool bounds_check_177304 = x_177302 && y_177303;
                                            bool index_certs_177305;
                                            
                                            if (!bounds_check_177304) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177301, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177296 = start_177116 + zgze_lhs_177286;
                                            int8_t leq_arg1_177297 = ((int8_t *) mem_param_181192.mem)[slice_177296];
                                            int64_t leq_arg1_177298 = ((int64_t *) mem_param_181195.mem)[slice_177296];
                                            double leq_arg1_177299 = ((double *) mem_param_181198.mem)[slice_177296];
                                            int64_t slice_177306 = stride_177042 + leq_arg0_177301;
                                            int64_t slice_177307 = start_177116 + slice_177306;
                                            int8_t leq_arg0_177308 = ((int8_t *) mem_param_181192.mem)[slice_177307];
                                            int64_t leq_arg0_177309 = ((int64_t *) mem_param_181195.mem)[slice_177307];
                                            double leq_arg0_177310 = ((double *) mem_param_181198.mem)[slice_177307];
                                            bool cond_177311 = leq_arg0_177308 == leq_arg1_177297;
                                            bool defunc_0_leq_res_t_res_177312 = sle64(leq_arg0_177309, leq_arg1_177298);
                                            bool defunc_0_leq_res_177313 = leq_arg0_177310 <= leq_arg1_177299;
                                            bool x_177314 = cond_177311 && defunc_0_leq_res_t_res_177312;
                                            bool x_177315 = !cond_177311;
                                            bool y_177316 = defunc_0_leq_res_177313 && x_177315;
                                            bool defunc_0_leq_res_177317 = x_177314 || y_177316;
                                            
                                            leq_y_x_177291 = defunc_0_leq_res_177317;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                        
                                        if (leq_y_x_177291) {
                                            int64_t tmp_179885 = add64(tt_177233, n_177284);
                                            int64_t tmp_179886 = sub64(count_177235, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tmp_179885;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tt_177234;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = tmp_179886;
                                        } else {
                                            int64_t tmp_177323 = add64(tt_177233, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tt_177233;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tmp_177323;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = count_177235;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = ss_177231;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                    }
                                    defunc_0_lifted_step_res_f_res_177245 = defunc_0_lifted_step_res_f_res_f_res_177251;
                                    defunc_0_lifted_step_res_f_res_177246 = defunc_0_lifted_step_res_f_res_f_res_177252;
                                    defunc_0_lifted_step_res_f_res_177247 = defunc_0_lifted_step_res_f_res_f_res_177253;
                                    defunc_0_lifted_step_res_f_res_177248 = defunc_0_lifted_step_res_f_res_f_res_177254;
                                }
                                defunc_0_lifted_step_res_177238 = defunc_0_lifted_step_res_f_res_177245;
                                defunc_0_lifted_step_res_177239 = defunc_0_lifted_step_res_f_res_177246;
                                defunc_0_lifted_step_res_177240 = defunc_0_lifted_step_res_f_res_177247;
                                defunc_0_lifted_step_res_177241 = defunc_0_lifted_step_res_f_res_177248;
                            }
                            
                            int64_t loopres_177324;
                            int64_t loopres_177325;
                            int64_t loopres_177326;
                            int64_t loopres_177327;
                            int64_t loopres_177328;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_177324, &loopres_177325, &loopres_177326, &loopres_177327, &loopres_177328, defunc_0_lifted_step_res_177238, ss_177232, defunc_0_lifted_step_res_177239, defunc_0_lifted_step_res_177240, defunc_0_lifted_step_res_177241) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177329 = slt64((int64_t) 0, loopres_177328);
                            bool loop_while_tmp_181942 = loop_cond_177329;
                            int64_t ss_tmp_181943 = loopres_177324;
                            int64_t ss_tmp_181944 = loopres_177325;
                            int64_t tt_tmp_181945 = loopres_177326;
                            int64_t tt_tmp_181946 = loopres_177327;
                            int64_t count_tmp_181947 = loopres_177328;
                            
                            loop_while_177230 = loop_while_tmp_181942;
                            ss_177231 = ss_tmp_181943;
                            ss_177232 = ss_tmp_181944;
                            tt_177233 = tt_tmp_181945;
                            tt_177234 = tt_tmp_181946;
                            count_177235 = count_tmp_181947;
                        }
                        defunc_0_split_count_res_177224 = loop_while_177230;
                        defunc_0_split_count_res_177225 = ss_177231;
                        defunc_0_split_count_res_177226 = ss_177232;
                        defunc_0_split_count_res_177227 = tt_177233;
                        defunc_0_split_count_res_177228 = tt_177234;
                        defunc_0_split_count_res_177229 = count_177235;
                        ((int64_t *) mem_181220)[i_180116] = defunc_0_split_count_res_177225;
                        ((int64_t *) mem_181222)[i_180116] = defunc_0_split_count_res_177227;
                    }
                    if (mem_181236_cached_sizze_182074 < flat_dim_177066) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182074, flat_dim_177066);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181239_cached_sizze_182075 < bytes_181238) {
                        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_182075, bytes_181238);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181242_cached_sizze_182076 < bytes_181238) {
                        err = lexical_realloc(ctx, &mem_181242, &mem_181242_cached_sizze_182076, bytes_181238);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180125 = 0; i_180125 < num_blocks_177063; i_180125++) {
                        bool y_177336 = slt64(i_180125, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool index_certs_177338;
                        
                        if (!y_177336) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180125, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177339 = ((int64_t *) mem_181220)[i_180125];
                        int64_t defunc_0_f_res_177340 = ((int64_t *) mem_181222)[i_180125];
                        int64_t tmp_177341 = add64((int64_t) 1, i_180125);
                        bool x_177342 = sle64((int64_t) 0, tmp_177341);
                        bool y_177343 = slt64(tmp_177341, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool bounds_check_177344 = x_177342 && y_177343;
                        bool index_certs_177345;
                        
                        if (!bounds_check_177344) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177346 = ((int64_t *) mem_181220)[tmp_177341];
                        int64_t defunc_0_f_res_177347 = ((int64_t *) mem_181222)[tmp_177341];
                        int64_t merge_sequential_arg2_177348 = add64(stride_177042, defunc_0_f_res_177340);
                        int64_t merge_sequential_arg2_177349 = add64(stride_177042, defunc_0_f_res_177347);
                        int64_t j_m_i_177350 = sub64(merge_sequential_arg2_177349, merge_sequential_arg2_177348);
                        bool empty_slice_177351 = j_m_i_177350 == (int64_t) 0;
                        int64_t m_177352 = sub64(j_m_i_177350, (int64_t) 1);
                        int64_t i_p_m_t_s_177353 = add64(merge_sequential_arg2_177348, m_177352);
                        bool zzero_leq_i_p_m_t_s_177354 = sle64((int64_t) 0, i_p_m_t_s_177353);
                        bool i_p_m_t_s_leq_w_177355 = slt64(i_p_m_t_s_177353, next_stride_177043);
                        bool zzero_lte_i_177356 = sle64((int64_t) 0, merge_sequential_arg2_177348);
                        bool i_lte_j_177357 = sle64(merge_sequential_arg2_177348, merge_sequential_arg2_177349);
                        bool y_177358 = i_p_m_t_s_leq_w_177355 && zzero_lte_i_177356;
                        bool y_177359 = zzero_leq_i_p_m_t_s_177354 && y_177358;
                        bool forwards_ok_177360 = i_lte_j_177357 && y_177359;
                        bool ok_or_empty_177361 = empty_slice_177351 || forwards_ok_177360;
                        bool index_certs_177362;
                        
                        if (!ok_or_empty_177361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177348, ":", (long long) merge_sequential_arg2_177349, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177363 = sub64(defunc_0_f_res_177346, defunc_0_f_res_177339);
                        bool empty_slice_177364 = j_m_i_177363 == (int64_t) 0;
                        int64_t m_177365 = sub64(j_m_i_177363, (int64_t) 1);
                        int64_t i_p_m_t_s_177366 = add64(defunc_0_f_res_177339, m_177365);
                        bool zzero_leq_i_p_m_t_s_177367 = sle64((int64_t) 0, i_p_m_t_s_177366);
                        bool i_p_m_t_s_leq_w_177368 = slt64(i_p_m_t_s_177366, next_stride_177043);
                        bool zzero_lte_i_177369 = sle64((int64_t) 0, defunc_0_f_res_177339);
                        bool i_lte_j_177370 = sle64(defunc_0_f_res_177339, defunc_0_f_res_177346);
                        bool y_177371 = i_p_m_t_s_leq_w_177368 && zzero_lte_i_177369;
                        bool y_177372 = zzero_leq_i_p_m_t_s_177367 && y_177371;
                        bool forwards_ok_177373 = i_lte_j_177370 && y_177372;
                        bool ok_or_empty_177374 = empty_slice_177364 || forwards_ok_177373;
                        bool index_certs_177375;
                        
                        if (!ok_or_empty_177374) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177339, ":", (long long) defunc_0_f_res_177346, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177376 = slt64((int64_t) 0, j_m_i_177363);
                        int8_t dummy_177377;
                        int64_t dummy_177378;
                        double dummy_177379;
                        
                        if (cond_177376) {
                            bool index_certs_179887;
                            
                            if (!cond_177376) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179888 = start_177116 + defunc_0_f_res_177339;
                            int8_t head_res_179889 = ((int8_t *) mem_param_181192.mem)[slice_179888];
                            int64_t head_res_179890 = ((int64_t *) mem_param_181195.mem)[slice_179888];
                            double head_res_179891 = ((double *) mem_param_181198.mem)[slice_179888];
                            
                            dummy_177377 = head_res_179889;
                            dummy_177378 = head_res_179890;
                            dummy_177379 = head_res_179891;
                        } else {
                            bool y_177385 = slt64((int64_t) 0, j_m_i_177350);
                            bool index_certs_177386;
                            
                            if (!y_177385) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177387 = start_177116 + merge_sequential_arg2_177348;
                            int8_t head_res_177388 = ((int8_t *) mem_param_181192.mem)[slice_177387];
                            int64_t head_res_177389 = ((int64_t *) mem_param_181195.mem)[slice_177387];
                            double head_res_177390 = ((double *) mem_param_181198.mem)[slice_177387];
                            
                            dummy_177377 = head_res_177388;
                            dummy_177378 = head_res_177389;
                            dummy_177379 = head_res_177390;
                        }
                        for (int64_t nest_i_181951 = 0; nest_i_181951 < merge_block_sizze_176880; nest_i_181951++) {
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + nest_i_181951] = dummy_177377;
                        }
                        for (int64_t nest_i_181952 = 0; nest_i_181952 < merge_block_sizze_176880; nest_i_181952++) {
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + nest_i_181952] = dummy_177378;
                        }
                        for (int64_t nest_i_181953 = 0; nest_i_181953 < merge_block_sizze_176880; nest_i_181953++) {
                            ((double *) mem_181242)[i_180125 * merge_block_sizze_176880 + nest_i_181953] = dummy_177379;
                        }
                        
                        int64_t data_177394;
                        int64_t i_177399 = (int64_t) 0;
                        
                        for (int64_t k_177398 = 0; k_177398 < merge_block_sizze_176880; k_177398++) {
                            int64_t j_177403 = sub64(k_177398, i_177399);
                            bool cond_177404 = j_177403 == j_m_i_177350;
                            bool cond_177405;
                            
                            if (cond_177404) {
                                cond_177405 = 1;
                            } else {
                                bool cond_177406 = slt64(i_177399, j_m_i_177363);
                                bool cond_f_res_177407;
                                
                                if (cond_177406) {
                                    bool x_179892 = sle64((int64_t) 0, j_177403);
                                    bool y_179893 = slt64(j_177403, j_m_i_177350);
                                    bool bounds_check_179894 = x_179892 && y_179893;
                                    bool index_certs_179895;
                                    
                                    if (!bounds_check_179894) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179901 = sle64((int64_t) 0, i_177399);
                                    bool bounds_check_179902 = cond_177406 && x_179901;
                                    bool index_certs_179903;
                                    
                                    if (!bounds_check_179902) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179896 = merge_sequential_arg2_177348 + j_177403;
                                    int64_t slice_179897 = start_177116 + slice_179896;
                                    int8_t leq_arg1_179898 = ((int8_t *) mem_param_181192.mem)[slice_179897];
                                    int64_t leq_arg1_179899 = ((int64_t *) mem_param_181195.mem)[slice_179897];
                                    double leq_arg1_179900 = ((double *) mem_param_181198.mem)[slice_179897];
                                    int64_t slice_179904 = defunc_0_f_res_177339 + i_177399;
                                    int64_t slice_179905 = start_177116 + slice_179904;
                                    int8_t leq_arg0_179906 = ((int8_t *) mem_param_181192.mem)[slice_179905];
                                    int64_t leq_arg0_179907 = ((int64_t *) mem_param_181195.mem)[slice_179905];
                                    double leq_arg0_179908 = ((double *) mem_param_181198.mem)[slice_179905];
                                    bool cond_179909 = leq_arg0_179906 == leq_arg1_179898;
                                    bool defunc_0_leq_res_t_res_179910 = sle64(leq_arg0_179907, leq_arg1_179899);
                                    bool defunc_0_leq_res_179911 = leq_arg0_179908 <= leq_arg1_179900;
                                    bool x_179912 = cond_179909 && defunc_0_leq_res_t_res_179910;
                                    bool x_179913 = !cond_179909;
                                    bool y_179914 = defunc_0_leq_res_179911 && x_179913;
                                    bool defunc_0_leq_res_179915 = x_179912 || y_179914;
                                    
                                    cond_f_res_177407 = defunc_0_leq_res_179915;
                                } else {
                                    cond_f_res_177407 = 0;
                                }
                                cond_177405 = cond_f_res_177407;
                            }
                            
                            int64_t loopres_177432;
                            int8_t loopres_177433;
                            int64_t loopres_177434;
                            double loopres_177435;
                            
                            if (cond_177405) {
                                bool x_179917 = sle64((int64_t) 0, i_177399);
                                bool y_179918 = slt64(i_177399, j_m_i_177363);
                                bool bounds_check_179919 = x_179917 && y_179918;
                                bool index_certs_179920;
                                
                                if (!bounds_check_179919) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179916 = add64((int64_t) 1, i_177399);
                                int64_t slice_179921 = defunc_0_f_res_177339 + i_177399;
                                int64_t slice_179922 = start_177116 + slice_179921;
                                int8_t tmp_179923 = ((int8_t *) mem_param_181192.mem)[slice_179922];
                                int64_t tmp_179924 = ((int64_t *) mem_param_181195.mem)[slice_179922];
                                double tmp_179925 = ((double *) mem_param_181198.mem)[slice_179922];
                                
                                loopres_177432 = tmp_179916;
                                loopres_177433 = tmp_179923;
                                loopres_177434 = tmp_179924;
                                loopres_177435 = tmp_179925;
                            } else {
                                bool x_177446 = sle64((int64_t) 0, j_177403);
                                bool y_177447 = slt64(j_177403, j_m_i_177350);
                                bool bounds_check_177448 = x_177446 && y_177447;
                                bool index_certs_177449;
                                
                                if (!bounds_check_177448) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177450 = merge_sequential_arg2_177348 + j_177403;
                                int64_t slice_177451 = start_177116 + slice_177450;
                                int8_t tmp_177452 = ((int8_t *) mem_param_181192.mem)[slice_177451];
                                int64_t tmp_177453 = ((int64_t *) mem_param_181195.mem)[slice_177451];
                                double tmp_177454 = ((double *) mem_param_181198.mem)[slice_177451];
                                
                                loopres_177432 = i_177399;
                                loopres_177433 = tmp_177452;
                                loopres_177434 = tmp_177453;
                                loopres_177435 = tmp_177454;
                            }
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177433;
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177434;
                            ((double *) mem_181242)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177435;
                            
                            int64_t i_tmp_181954 = loopres_177432;
                            
                            i_177399 = i_tmp_181954;
                        }
                        data_177394 = i_177399;
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_177066, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint8_t *) mem_181236, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181238, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint64_t *) mem_181239, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181238, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint64_t *) mem_181242, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181299, "mem_181299") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181200, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181203, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181329.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181206, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181326.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181346, bytes_181199, "mem_181346")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181346.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint8_t *) mem_181200, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181350, bytes_181202, "mem_181350")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181350.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint64_t *) mem_181203, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181354, bytes_181202, "mem_181354")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181354.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint64_t *) mem_181206, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            
            bool loop_cond_177468 = slt64(next_stride_177043, flat_dim_176875);
            
            if (memblock_set(ctx, &mem_param_tmp_181921, &mem_181346, "mem_181346") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181922, &mem_181350, "mem_181350") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181923, &mem_181354, "mem_181354") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181924 = bytes_181199;
            bool loop_while_tmp_181925 = loop_cond_177468;
            int64_t stride_tmp_181929 = next_stride_177043;
            
            if (memblock_set(ctx, &mem_param_181192, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181195, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181198, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
                return 1;
            loop_dz2084Uz2082U_177037 = loop_dz2084Uz2082U_tmp_181924;
            loop_while_177038 = loop_while_tmp_181925;
            stride_177042 = stride_tmp_181929;
        }
        if (memblock_set(ctx, &ext_mem_181364, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181363, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181362, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        data_177031 = loop_dz2084Uz2082U_177037;
        data_177032 = loop_while_177038;
        data_177036 = stride_177042;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177471 = slt64(zs_lhs_176859, data_177031);
        bool y_177472 = i_p_m_t_s_leq_w_177471 && zzero_leq_i_p_m_t_s_177485;
        bool ok_or_empty_177473 = y_177472 || empty_slice_177483;
        bool index_certs_177474;
        
        if (!ok_or_empty_177473) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) data_177031, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181373, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181373.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180284.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181370.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180286.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181367.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180284, "mem_180284") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181701, &mem_180286, "mem_180286") != 0)
        return 1;
    prim_out_181702 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    if (memblock_set(ctx, &*mem_out_p_182023, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182024, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182025, &mem_out_181701, "mem_out_181701") != 0)
        return 1;
    *out_prim_out_182026 = prim_out_181702;
    
  cleanup:
    {
        free(mem_180297);
        free(mem_180299);
        free(mem_180338);
        free(mem_180341);
        free(mem_180344);
        free(mem_180357);
        free(mem_180359);
        free(mem_180361);
        free(mem_180458);
        free(mem_180461);
        free(mem_180464);
        free(mem_180478);
        free(mem_180480);
        free(mem_180494);
        free(mem_180497);
        free(mem_180500);
        free(mem_180642);
        free(mem_180644);
        free(mem_180659);
        free(mem_180661);
        free(mem_180664);
        free(mem_180667);
        free(mem_180701);
        free(mem_180704);
        free(mem_180707);
        free(mem_180720);
        free(mem_180722);
        free(mem_180724);
        free(mem_180821);
        free(mem_180824);
        free(mem_180827);
        free(mem_180841);
        free(mem_180843);
        free(mem_180857);
        free(mem_180860);
        free(mem_180863);
        free(mem_181080);
        free(mem_181083);
        free(mem_181086);
        free(mem_181099);
        free(mem_181101);
        free(mem_181103);
        free(mem_181200);
        free(mem_181203);
        free(mem_181206);
        free(mem_181220);
        free(mem_181222);
        free(mem_181236);
        free(mem_181239);
        free(mem_181242);
        if (memblock_unref(ctx, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181350, "mem_181350") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181346, "mem_181346") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181303, "mem_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180612, "mem_180612") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180608, "mem_180608") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180604, "mem_180604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180557, "mem_180557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180553, "mem_180553") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180549, "mem_180549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180563, "mem_180563") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180561, "mem_180561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180559, "mem_180559") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180456, "mem_param_180456") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180453, "mem_param_180453") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180450, "mem_param_180450") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180620, "ext_mem_180620") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180621, "ext_mem_180621") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180622, "ext_mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180316, "mem_180316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180312, "mem_180312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181023, "mem_181023") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181022, "mem_181022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180971, "mem_180971") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180967, "mem_180967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180920, "mem_180920") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180916, "mem_180916") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180912, "mem_180912") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180926, "mem_180926") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180924, "mem_180924") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180922, "mem_180922") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180819, "mem_param_180819") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180816, "mem_param_180816") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180813, "mem_param_180813") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180983, "ext_mem_180983") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180984, "ext_mem_180984") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180985, "ext_mem_180985") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180286, "mem_180286") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180284, "mem_180284") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181701, "mem_out_181701") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182077, struct memblock *mem_out_p_182078, struct memblock *mem_out_p_182079, int64_t *out_prim_out_182080, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_152001, int64_t nb_152002, int64_t window_sizze_152003, int64_t threads_152004, bool inParallel_152007)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180297_cached_sizze_182081 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182082 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180338_cached_sizze_182083 = 0;
    unsigned char *mem_180338 = NULL;
    int64_t mem_180341_cached_sizze_182084 = 0;
    unsigned char *mem_180341 = NULL;
    int64_t mem_180344_cached_sizze_182085 = 0;
    unsigned char *mem_180344 = NULL;
    int64_t mem_180357_cached_sizze_182086 = 0;
    unsigned char *mem_180357 = NULL;
    int64_t mem_180359_cached_sizze_182087 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180361_cached_sizze_182088 = 0;
    unsigned char *mem_180361 = NULL;
    int64_t mem_180458_cached_sizze_182089 = 0;
    unsigned char *mem_180458 = NULL;
    int64_t mem_180461_cached_sizze_182090 = 0;
    unsigned char *mem_180461 = NULL;
    int64_t mem_180464_cached_sizze_182091 = 0;
    unsigned char *mem_180464 = NULL;
    int64_t mem_180478_cached_sizze_182092 = 0;
    unsigned char *mem_180478 = NULL;
    int64_t mem_180480_cached_sizze_182093 = 0;
    unsigned char *mem_180480 = NULL;
    int64_t mem_180494_cached_sizze_182094 = 0;
    unsigned char *mem_180494 = NULL;
    int64_t mem_180497_cached_sizze_182095 = 0;
    unsigned char *mem_180497 = NULL;
    int64_t mem_180500_cached_sizze_182096 = 0;
    unsigned char *mem_180500 = NULL;
    int64_t mem_180642_cached_sizze_182097 = 0;
    unsigned char *mem_180642 = NULL;
    int64_t mem_180644_cached_sizze_182098 = 0;
    unsigned char *mem_180644 = NULL;
    int64_t mem_180659_cached_sizze_182099 = 0;
    unsigned char *mem_180659 = NULL;
    int64_t mem_180661_cached_sizze_182100 = 0;
    unsigned char *mem_180661 = NULL;
    int64_t mem_180664_cached_sizze_182101 = 0;
    unsigned char *mem_180664 = NULL;
    int64_t mem_180667_cached_sizze_182102 = 0;
    unsigned char *mem_180667 = NULL;
    int64_t mem_180701_cached_sizze_182103 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180704_cached_sizze_182104 = 0;
    unsigned char *mem_180704 = NULL;
    int64_t mem_180707_cached_sizze_182105 = 0;
    unsigned char *mem_180707 = NULL;
    int64_t mem_180720_cached_sizze_182106 = 0;
    unsigned char *mem_180720 = NULL;
    int64_t mem_180722_cached_sizze_182107 = 0;
    unsigned char *mem_180722 = NULL;
    int64_t mem_180724_cached_sizze_182108 = 0;
    unsigned char *mem_180724 = NULL;
    int64_t mem_180821_cached_sizze_182109 = 0;
    unsigned char *mem_180821 = NULL;
    int64_t mem_180824_cached_sizze_182110 = 0;
    unsigned char *mem_180824 = NULL;
    int64_t mem_180827_cached_sizze_182111 = 0;
    unsigned char *mem_180827 = NULL;
    int64_t mem_180841_cached_sizze_182112 = 0;
    unsigned char *mem_180841 = NULL;
    int64_t mem_180843_cached_sizze_182113 = 0;
    unsigned char *mem_180843 = NULL;
    int64_t mem_180857_cached_sizze_182114 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180860_cached_sizze_182115 = 0;
    unsigned char *mem_180860 = NULL;
    int64_t mem_180863_cached_sizze_182116 = 0;
    unsigned char *mem_180863 = NULL;
    int64_t mem_181080_cached_sizze_182117 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182118 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181086_cached_sizze_182119 = 0;
    unsigned char *mem_181086 = NULL;
    int64_t mem_181099_cached_sizze_182120 = 0;
    unsigned char *mem_181099 = NULL;
    int64_t mem_181101_cached_sizze_182121 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181103_cached_sizze_182122 = 0;
    unsigned char *mem_181103 = NULL;
    int64_t mem_181200_cached_sizze_182123 = 0;
    unsigned char *mem_181200 = NULL;
    int64_t mem_181203_cached_sizze_182124 = 0;
    unsigned char *mem_181203 = NULL;
    int64_t mem_181206_cached_sizze_182125 = 0;
    unsigned char *mem_181206 = NULL;
    int64_t mem_181220_cached_sizze_182126 = 0;
    unsigned char *mem_181220 = NULL;
    int64_t mem_181222_cached_sizze_182127 = 0;
    unsigned char *mem_181222 = NULL;
    int64_t mem_181236_cached_sizze_182128 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181239_cached_sizze_182129 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181242_cached_sizze_182130 = 0;
    unsigned char *mem_181242 = NULL;
    struct memblock mem_param_tmp_181923;
    
    mem_param_tmp_181923.references = NULL;
    
    struct memblock mem_param_tmp_181922;
    
    mem_param_tmp_181922.references = NULL;
    
    struct memblock mem_param_tmp_181921;
    
    mem_param_tmp_181921.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock mem_181350;
    
    mem_181350.references = NULL;
    
    struct memblock mem_181346;
    
    mem_181346.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181303;
    
    mem_181303.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock ext_mem_181326;
    
    ext_mem_181326.references = NULL;
    
    struct memblock ext_mem_181329;
    
    ext_mem_181329.references = NULL;
    
    struct memblock ext_mem_181332;
    
    ext_mem_181332.references = NULL;
    
    struct memblock mem_param_181198;
    
    mem_param_181198.references = NULL;
    
    struct memblock mem_param_181195;
    
    mem_param_181195.references = NULL;
    
    struct memblock mem_param_181192;
    
    mem_param_181192.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181364;
    
    ext_mem_181364.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181184;
    
    mem_181184.references = NULL;
    
    struct memblock mem_181180;
    
    mem_181180.references = NULL;
    
    struct memblock ext_mem_181367;
    
    ext_mem_181367.references = NULL;
    
    struct memblock ext_mem_181370;
    
    ext_mem_181370.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock mem_181078;
    
    mem_181078.references = NULL;
    
    struct memblock mem_181076;
    
    mem_181076.references = NULL;
    
    struct memblock mem_181074;
    
    mem_181074.references = NULL;
    
    struct memblock mem_param_tmp_181857;
    
    mem_param_tmp_181857.references = NULL;
    
    struct memblock mem_param_tmp_181856;
    
    mem_param_tmp_181856.references = NULL;
    
    struct memblock mem_param_tmp_181855;
    
    mem_param_tmp_181855.references = NULL;
    
    struct memblock mem_180612;
    
    mem_180612.references = NULL;
    
    struct memblock mem_180608;
    
    mem_180608.references = NULL;
    
    struct memblock mem_180604;
    
    mem_180604.references = NULL;
    
    struct memblock mem_180557;
    
    mem_180557.references = NULL;
    
    struct memblock mem_180553;
    
    mem_180553.references = NULL;
    
    struct memblock mem_180549;
    
    mem_180549.references = NULL;
    
    struct memblock mem_180563;
    
    mem_180563.references = NULL;
    
    struct memblock mem_180561;
    
    mem_180561.references = NULL;
    
    struct memblock mem_180559;
    
    mem_180559.references = NULL;
    
    struct memblock ext_mem_180584;
    
    ext_mem_180584.references = NULL;
    
    struct memblock ext_mem_180587;
    
    ext_mem_180587.references = NULL;
    
    struct memblock ext_mem_180590;
    
    ext_mem_180590.references = NULL;
    
    struct memblock mem_param_180456;
    
    mem_param_180456.references = NULL;
    
    struct memblock mem_param_180453;
    
    mem_param_180453.references = NULL;
    
    struct memblock mem_param_180450;
    
    mem_param_180450.references = NULL;
    
    struct memblock ext_mem_180620;
    
    ext_mem_180620.references = NULL;
    
    struct memblock ext_mem_180621;
    
    ext_mem_180621.references = NULL;
    
    struct memblock ext_mem_180622;
    
    ext_mem_180622.references = NULL;
    
    struct memblock mem_180446;
    
    mem_180446.references = NULL;
    
    struct memblock mem_180442;
    
    mem_180442.references = NULL;
    
    struct memblock mem_180438;
    
    mem_180438.references = NULL;
    
    struct memblock ext_mem_180625;
    
    ext_mem_180625.references = NULL;
    
    struct memblock ext_mem_180628;
    
    ext_mem_180628.references = NULL;
    
    struct memblock ext_mem_180631;
    
    ext_mem_180631.references = NULL;
    
    struct memblock mem_180336;
    
    mem_180336.references = NULL;
    
    struct memblock mem_180334;
    
    mem_180334.references = NULL;
    
    struct memblock mem_180332;
    
    mem_180332.references = NULL;
    
    struct memblock mem_180316;
    
    mem_180316.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180312;
    
    mem_180312.references = NULL;
    
    struct memblock mem_181023;
    
    mem_181023.references = NULL;
    
    struct memblock mem_181022;
    
    mem_181022.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_param_tmp_181763;
    
    mem_param_tmp_181763.references = NULL;
    
    struct memblock mem_param_tmp_181762;
    
    mem_param_tmp_181762.references = NULL;
    
    struct memblock mem_param_tmp_181761;
    
    mem_param_tmp_181761.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock mem_180971;
    
    mem_180971.references = NULL;
    
    struct memblock mem_180967;
    
    mem_180967.references = NULL;
    
    struct memblock mem_180920;
    
    mem_180920.references = NULL;
    
    struct memblock mem_180916;
    
    mem_180916.references = NULL;
    
    struct memblock mem_180912;
    
    mem_180912.references = NULL;
    
    struct memblock mem_180926;
    
    mem_180926.references = NULL;
    
    struct memblock mem_180924;
    
    mem_180924.references = NULL;
    
    struct memblock mem_180922;
    
    mem_180922.references = NULL;
    
    struct memblock ext_mem_180947;
    
    ext_mem_180947.references = NULL;
    
    struct memblock ext_mem_180950;
    
    ext_mem_180950.references = NULL;
    
    struct memblock ext_mem_180953;
    
    ext_mem_180953.references = NULL;
    
    struct memblock mem_param_180819;
    
    mem_param_180819.references = NULL;
    
    struct memblock mem_param_180816;
    
    mem_param_180816.references = NULL;
    
    struct memblock mem_param_180813;
    
    mem_param_180813.references = NULL;
    
    struct memblock ext_mem_180983;
    
    ext_mem_180983.references = NULL;
    
    struct memblock ext_mem_180984;
    
    ext_mem_180984.references = NULL;
    
    struct memblock ext_mem_180985;
    
    ext_mem_180985.references = NULL;
    
    struct memblock mem_180809;
    
    mem_180809.references = NULL;
    
    struct memblock mem_180805;
    
    mem_180805.references = NULL;
    
    struct memblock mem_180801;
    
    mem_180801.references = NULL;
    
    struct memblock ext_mem_180988;
    
    ext_mem_180988.references = NULL;
    
    struct memblock ext_mem_180991;
    
    ext_mem_180991.references = NULL;
    
    struct memblock ext_mem_180994;
    
    ext_mem_180994.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_180697;
    
    mem_180697.references = NULL;
    
    struct memblock mem_180695;
    
    mem_180695.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock ext_mem_181050;
    
    ext_mem_181050.references = NULL;
    
    struct memblock mem_180286;
    
    mem_180286.references = NULL;
    
    struct memblock mem_180284;
    
    mem_180284.references = NULL;
    
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t prim_out_181702;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769 = add64(na_152001, nb_152002);
    
    if (memblock_alloc(ctx, &mem_180282, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181703 = 0; nest_i_181703 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181703++) {
        ((int8_t *) mem_180282.mem)[nest_i_181703] = (int8_t) -1;
    }
    
    int64_t bytes_180283 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    
    if (memblock_alloc(ctx, &mem_180284, bytes_180283, "mem_180284")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181704 = 0; nest_i_181704 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181704++) {
        ((int64_t *) mem_180284.mem)[nest_i_181704] = (int64_t) -1;
    }
    
    int64_t bytes_180285 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    
    if (memblock_alloc(ctx, &mem_180286, bytes_180285, "mem_180286")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181705 = 0; nest_i_181705 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181705++) {
        ((float *) mem_180286.mem)[nest_i_181705] = 0.0F;
    }
    
    int64_t zl_rhs_174773 = sub64(na_152001, window_sizze_152003);
    bool cond_174774 = slt64((int64_t) 0, zl_rhs_174773);
    int64_t zl_rhs_174775 = sub64(nb_152002, window_sizze_152003);
    bool loop_cond_t_res_174776 = slt64((int64_t) 0, zl_rhs_174775);
    bool x_174777 = cond_174774 && loop_cond_t_res_174776;
    bool empty_slice_174778 = window_sizze_152003 == (int64_t) 0;
    int64_t m_174779 = sub64(window_sizze_152003, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804 = add64((int64_t) 1, threads_152004);
    int64_t partitionFunc_arg0_175805 = mul64((int64_t) 2, threads_152004);
    bool y_175807 = slt64((int64_t) 0, window_sizze_152003);
    bool loop_cond_176053 = slt64((int64_t) 0, threads_152004);
    bool zzero_174824 = threads_152004 == (int64_t) 0;
    bool nonzzero_174825 = !zzero_174824;
    bool loop_not_taken_177582 = !inParallel_152007;
    bool protect_assert_disj_177583 = nonzzero_174825 || loop_not_taken_177582;
    bool loop_not_taken_177672 = !x_174777;
    bool protect_assert_disj_177673 = protect_assert_disj_177583 || loop_not_taken_177672;
    bool nonzzero_cert_174826;
    
    if (!protect_assert_disj_177673) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174827 = sdiv_safe64(window_sizze_152003, threads_152004);
    int64_t perThread_174828 = add64((int64_t) 1, zp_rhs_174827);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829 = mul64(threads_152004, perThread_174828);
    bool protect_assert_disj_177719 = inParallel_152007 || y_175807;
    bool protect_assert_disj_177723 = loop_not_taken_177672 || protect_assert_disj_177719;
    bool index_certs_175808;
    
    if (!protect_assert_disj_177723) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175823 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, (int64_t) 1);
    bool y_176780 = slt64(threads_152004, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
    bool protect_assert_disj_177688 = y_175807 || loop_not_taken_177582;
    bool protect_assert_disj_177727 = loop_not_taken_177672 || protect_assert_disj_177688;
    bool index_certs_174832;
    
    if (!protect_assert_disj_177727) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175825 = !bounds_invalid_upwards_175823;
    bool protect_assert_disj_177735 = inParallel_152007 || y_176780;
    bool protect_assert_disj_177737 = loop_not_taken_177672 || protect_assert_disj_177735;
    bool index_certs_176782;
    
    if (!protect_assert_disj_177737) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152004, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177731 = y_176780 || loop_not_taken_177582;
    bool protect_assert_disj_177739 = loop_not_taken_177672 || protect_assert_disj_177731;
    bool index_certs_175786;
    
    if (!protect_assert_disj_177739) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152004, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177747 = inParallel_152007 || valid_175825;
    bool protect_assert_disj_177749 = loop_not_taken_177672 || protect_assert_disj_177747;
    bool range_valid_c_175826;
    
    if (!protect_assert_disj_177749) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177591 = sle64((int64_t) 1, threads_152004);
    bool protect_assert_disj_177743 = valid_175825 || loop_not_taken_177582;
    bool protect_assert_disj_177751 = loop_not_taken_177672 || protect_assert_disj_177743;
    bool range_valid_c_174839;
    
    if (!protect_assert_disj_177751) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175828 = add64(window_sizze_152003, window_sizze_152003);
    bool zzero_175829 = partitionFunc_arg0_175805 == (int64_t) 0;
    int64_t index_concat_i_177592 = sub64(threads_152004, (int64_t) 1);
    bool nonzzero_175830 = !zzero_175829;
    bool protect_assert_disj_177759 = inParallel_152007 || nonzzero_175830;
    bool protect_assert_disj_177765 = loop_not_taken_177672 || protect_assert_disj_177759;
    bool nonzzero_cert_175831;
    
    if (!protect_assert_disj_177765) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177755 = nonzzero_175830 || loop_not_taken_177582;
    bool protect_assert_disj_177771 = loop_not_taken_177672 || protect_assert_disj_177755;
    bool nonzzero_cert_174844;
    
    if (!protect_assert_disj_177771) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180296 = (int64_t) 8 * threads_152004;
    int64_t bytes_180313 = (int64_t) 8 * window_sizze_152003;
    int64_t bytes_180315 = (int64_t) 4 * window_sizze_152003;
    int64_t bytes_180658 = perThread_174828 * bytes_180296;
    int64_t binop_x_180665 = (int64_t) 4 * threads_152004;
    int64_t bytes_180666 = perThread_174828 * binop_x_180665;
    bool defunc_0_merge_pipeline_res_174780;
    int64_t defunc_0_merge_pipeline_res_174784;
    int64_t defunc_0_merge_pipeline_res_174785;
    bool loop_while_174786;
    int64_t p_174790;
    int64_t p_174791;
    
    loop_while_174786 = x_174777;
    p_174790 = (int64_t) 0;
    p_174791 = (int64_t) 0;
    while (loop_while_174786) {
        int64_t ubs_174792 = add64(window_sizze_152003, p_174790);
        int64_t ubs_174793 = add64(window_sizze_152003, p_174791);
        int64_t ind_bottom_174794 = add64(p_174790, p_174791);
        int64_t ind_top_174795 = add64(window_sizze_152003, ind_bottom_174794);
        int64_t i_p_m_t_s_174796 = add64(m_174779, p_174790);
        bool zzero_leq_i_p_m_t_s_174797 = sle64((int64_t) 0, i_p_m_t_s_174796);
        bool i_p_m_t_s_leq_w_174798 = slt64(i_p_m_t_s_174796, na_152001);
        bool zzero_lte_i_174799 = sle64((int64_t) 0, p_174790);
        bool i_lte_j_174800 = sle64(p_174790, ubs_174792);
        bool y_174801 = i_p_m_t_s_leq_w_174798 && zzero_lte_i_174799;
        bool y_174802 = zzero_leq_i_p_m_t_s_174797 && y_174801;
        bool forwards_ok_174803 = i_lte_j_174800 && y_174802;
        bool ok_or_empty_174804 = empty_slice_174778 || forwards_ok_174803;
        bool index_certs_174805;
        
        if (!ok_or_empty_174804) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174790, ":", (long long) ubs_174792, "] out of bounds for array of shape [", (long long) na_152001, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174807 = add64(m_174779, p_174791);
        bool zzero_leq_i_p_m_t_s_174808 = sle64((int64_t) 0, i_p_m_t_s_174807);
        bool i_p_m_t_s_leq_w_174809 = slt64(i_p_m_t_s_174807, nb_152002);
        bool zzero_lte_i_174810 = sle64((int64_t) 0, p_174791);
        bool i_lte_j_174811 = sle64(p_174791, ubs_174793);
        bool y_174812 = i_p_m_t_s_leq_w_174809 && zzero_lte_i_174810;
        bool y_174813 = zzero_leq_i_p_m_t_s_174808 && y_174812;
        bool forwards_ok_174814 = i_lte_j_174811 && y_174813;
        bool ok_or_empty_174815 = empty_slice_174778 || forwards_ok_174814;
        bool index_certs_174816;
        
        if (!ok_or_empty_174815) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174791, ":", (long long) ubs_174793, "] out of bounds for array of shape [", (long long) nb_152002, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176794 = add64(m_174779, ind_bottom_174794);
        bool zzero_leq_i_p_m_t_s_176795 = sle64((int64_t) 0, i_p_m_t_s_176794);
        bool i_p_m_t_s_leq_w_176796 = slt64(i_p_m_t_s_176794, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
        bool zzero_lte_i_176797 = sle64((int64_t) 0, ind_bottom_174794);
        bool i_lte_j_176798 = sle64(ind_bottom_174794, ind_top_174795);
        bool y_176799 = i_p_m_t_s_leq_w_176796 && zzero_lte_i_176797;
        bool y_176800 = zzero_leq_i_p_m_t_s_176795 && y_176799;
        bool forwards_ok_176801 = i_lte_j_176798 && y_176800;
        bool ok_or_empty_176802 = empty_slice_174778 || forwards_ok_176801;
        bool index_certs_176803;
        
        if (!ok_or_empty_176802) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174794, ":", (long long) ind_top_174795, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174818;
        int64_t loopres_174819;
        
        if (inParallel_152007) {
            float leq_lhs_178252 = ((float *) a_list_mem_180280.mem)[p_174790];
            float leq_rhs_178253 = ((float *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_178254 = leq_lhs_178252 <= leq_rhs_178253;
            float lowest_178255;
            
            if (defunc_0_leq_res_178254) {
                lowest_178255 = leq_lhs_178252;
            } else {
                lowest_178255 = leq_rhs_178253;
            }
            if (mem_180642_cached_sizze_182097 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180642, &mem_180642_cached_sizze_182097, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180644_cached_sizze_182098 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180644, &mem_180644_cached_sizze_182098, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179944 = 0; i_179944 < threads_152004; i_179944++) {
                int64_t index_primexp_180216 = add64((int64_t) 1, i_179944);
                int64_t zs_lhs_178260 = mul64(zt_rhs_175828, index_primexp_180216);
                int64_t index_178261 = sdiv64(zs_lhs_178260, partitionFunc_arg0_175805);
                bool cond_178262 = slt64(window_sizze_152003, index_178261);
                int64_t loop_over_178263;
                
                if (cond_178262) {
                    loop_over_178263 = window_sizze_152003;
                } else {
                    loop_over_178263 = index_178261;
                }
                
                int64_t loop_over_178264;
                
                if (cond_178262) {
                    int64_t loop_over_t_res_178265 = sub64(index_178261, window_sizze_152003);
                    
                    loop_over_178264 = loop_over_t_res_178265;
                } else {
                    loop_over_178264 = (int64_t) 0;
                }
                
                int64_t loop_over_178266;
                
                if (cond_178262) {
                    int64_t zm_lhs_178267 = sub64(index_178261, window_sizze_152003);
                    int64_t loop_over_t_res_178268 = sub64(zm_lhs_178267, (int64_t) 1);
                    
                    loop_over_178266 = loop_over_t_res_178268;
                } else {
                    loop_over_178266 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178269;
                int64_t defunc_0_f_res_178270;
                int64_t defunc_0_f_res_178271;
                int64_t defunc_0_f_res_178272;
                bool loop_while_178273;
                int64_t p_178274;
                int64_t p_178275;
                int64_t p_178276;
                
                loop_while_178273 = 1;
                p_178274 = loop_over_178266;
                p_178275 = loop_over_178263;
                p_178276 = loop_over_178264;
                while (loop_while_178273) {
                    int64_t zs_lhs_178277 = sub64(p_178275, p_178274);
                    int64_t offset_178278 = sdiv64(zs_lhs_178277, (int64_t) 2);
                    int64_t ai_178279 = sub64(p_178275, offset_178278);
                    int64_t max_arg1_178280 = add64(p_178276, offset_178278);
                    int64_t max_res_178281 = smax64((int64_t) 0, max_arg1_178280);
                    bool cond_178282 = slt64((int64_t) 0, max_res_178281);
                    float b_prev_178283;
                    
                    if (cond_178282) {
                        int64_t tmp_178284 = sub64(max_res_178281, (int64_t) 1);
                        bool x_178285 = sle64((int64_t) 0, tmp_178284);
                        bool y_178286 = slt64(tmp_178284, window_sizze_152003);
                        bool bounds_check_178287 = x_178285 && y_178286;
                        bool index_certs_178288;
                        
                        if (!bounds_check_178287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178284, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178289 = p_174791 + tmp_178284;
                        float b_prev_t_res_178290 = ((float *) b_list_mem_180281.mem)[slice_178289];
                        
                        b_prev_178283 = b_prev_t_res_178290;
                    } else {
                        b_prev_178283 = lowest_178255;
                    }
                    
                    bool cond_178291 = sle64(ai_178279, (int64_t) 0);
                    int64_t loopres_178292;
                    int64_t loopres_178293;
                    int64_t loopres_178294;
                    bool loopres_178295;
                    
                    if (cond_178291) {
                        loopres_178292 = p_178274;
                        loopres_178293 = (int64_t) 0;
                        loopres_178294 = max_res_178281;
                        loopres_178295 = 0;
                    } else {
                        bool cond_178296 = sle64(window_sizze_152003, max_res_178281);
                        int64_t loopres_f_res_178297;
                        int64_t loopres_f_res_178298;
                        int64_t loopres_f_res_178299;
                        bool loopres_f_res_178300;
                        
                        if (cond_178296) {
                            int64_t min_res_178302 = smin64(m_174779, ai_178279);
                            bool x_178303 = sle64((int64_t) 0, m_174779);
                            bool y_178304 = slt64(m_174779, window_sizze_152003);
                            bool bounds_check_178305 = x_178303 && y_178304;
                            bool index_certs_178306;
                            
                            if (!bounds_check_178305) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178309 = sle64((int64_t) 0, min_res_178302);
                            bool y_178310 = slt64(min_res_178302, window_sizze_152003);
                            bool bounds_check_178311 = x_178309 && y_178310;
                            bool index_certs_178312;
                            
                            if (!bounds_check_178311) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178302, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_178308 = ((float *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_178313 = p_174790 + min_res_178302;
                            float leq_rhs_178314 = ((float *) a_list_mem_180280.mem)[slice_178313];
                            bool defunc_0_leq_res_178315 = leq_lhs_178308 <= leq_rhs_178314;
                            int64_t loopres_f_res_t_res_178316;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178316 = ai_178279;
                            } else {
                                loopres_f_res_t_res_178316 = p_178275;
                            }
                            
                            bool x_178317 = !defunc_0_leq_res_178315;
                            int64_t loopres_f_res_t_res_178318;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178318 = window_sizze_152003;
                            } else {
                                int64_t tmp_178319 = sub64(m_174779, offset_178278);
                                
                                loopres_f_res_t_res_178318 = tmp_178319;
                            }
                            loopres_f_res_178297 = p_178274;
                            loopres_f_res_178298 = loopres_f_res_t_res_178316;
                            loopres_f_res_178299 = loopres_f_res_t_res_178318;
                            loopres_f_res_178300 = x_178317;
                        } else {
                            bool cond_178320 = sle64(window_sizze_152003, ai_178279);
                            int64_t loopres_f_res_f_res_178321;
                            int64_t loopres_f_res_f_res_178322;
                            int64_t loopres_f_res_f_res_178323;
                            bool loopres_f_res_f_res_178324;
                            
                            if (cond_178320) {
                                int64_t min_res_178326 = smin64(m_174779, max_res_178281);
                                bool x_178327 = sle64((int64_t) 0, m_174779);
                                bool y_178328 = slt64(m_174779, window_sizze_152003);
                                bool bounds_check_178329 = x_178327 && y_178328;
                                bool index_certs_178330;
                                
                                if (!bounds_check_178329) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178333 = sle64((int64_t) 0, min_res_178326);
                                bool y_178334 = slt64(min_res_178326, window_sizze_152003);
                                bool bounds_check_178335 = x_178333 && y_178334;
                                bool index_certs_178336;
                                
                                if (!bounds_check_178335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178326, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_178332 = ((float *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_178337 = p_174791 + min_res_178326;
                                float leq_rhs_178338 = ((float *) b_list_mem_180281.mem)[slice_178337];
                                bool defunc_0_leq_res_178339 = leq_lhs_178332 <= leq_rhs_178338;
                                int64_t loopres_f_res_f_res_t_res_178340;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178340 = max_res_178281;
                                } else {
                                    loopres_f_res_f_res_t_res_178340 = p_178276;
                                }
                                
                                bool x_178341 = !defunc_0_leq_res_178339;
                                int64_t loopres_f_res_f_res_t_res_178342;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178342 = window_sizze_152003;
                                } else {
                                    loopres_f_res_f_res_t_res_178342 = m_174779;
                                }
                                loopres_f_res_f_res_178321 = p_178274;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_t_res_178342;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_t_res_178340;
                                loopres_f_res_f_res_178324 = x_178341;
                            } else {
                                bool cond_178343 = sle64(p_178275, p_178274);
                                int64_t loopres_f_res_f_res_f_res_178344;
                                int64_t loopres_f_res_f_res_f_res_178345;
                                int64_t loopres_f_res_f_res_f_res_178346;
                                bool loopres_f_res_f_res_f_res_178347;
                                
                                if (cond_178343) {
                                    bool cond_178348 = slt64(ai_178279, window_sizze_152003);
                                    int64_t ai_178349;
                                    
                                    if (cond_178348) {
                                        ai_178349 = ai_178279;
                                    } else {
                                        ai_178349 = m_174779;
                                    }
                                    
                                    bool x_178362 = sle64((int64_t) 0, ai_178349);
                                    bool y_178363 = slt64(ai_178349, window_sizze_152003);
                                    bool bounds_check_178364 = x_178362 && y_178363;
                                    bool index_certs_178365;
                                    
                                    if (!bounds_check_178364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178349, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_178351;
                                    
                                    if (cond_178282) {
                                        int64_t tmp_178352 = sub64(max_res_178281, (int64_t) 1);
                                        bool x_178353 = sle64((int64_t) 0, tmp_178352);
                                        bool y_178354 = slt64(tmp_178352, window_sizze_152003);
                                        bool bounds_check_178355 = x_178353 && y_178354;
                                        bool index_certs_178356;
                                        
                                        if (!bounds_check_178355) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178352, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178357 = p_174791 + tmp_178352;
                                        float b_prev_t_res_178358 = ((float *) b_list_mem_180281.mem)[slice_178357];
                                        
                                        b_prev_178351 = b_prev_t_res_178358;
                                    } else {
                                        bool index_certs_178360;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178351 = leq_rhs_178253;
                                    }
                                    
                                    int64_t slice_178366 = p_174790 + ai_178349;
                                    float gt_lhs_178367 = ((float *) a_list_mem_180280.mem)[slice_178366];
                                    bool defunc_0_gt_res_178368 = b_prev_178351 < gt_lhs_178367;
                                    int64_t defunc_0_partFunc_sequential_search_res_178369;
                                    int64_t defunc_0_partFunc_sequential_search_res_178370;
                                    
                                    if (defunc_0_gt_res_178368) {
                                        int64_t zl_rhs_178371 = sub64(window_sizze_152003, max_res_178281);
                                        bool loop_cond_178372 = slt64((int64_t) 0, zl_rhs_178371);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178373;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178375;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178376;
                                        bool loop_while_178377;
                                        int64_t p_178378;
                                        int64_t p_178379;
                                        int64_t p_178380;
                                        
                                        loop_while_178377 = loop_cond_178372;
                                        p_178378 = ai_178349;
                                        p_178379 = max_res_178281;
                                        p_178380 = (int64_t) 0;
                                        while (loop_while_178377) {
                                            int64_t i_a_178381 = sub64(ai_178349, p_178380);
                                            int64_t i_b_178382 = add64(max_res_178281, p_178380);
                                            int64_t leq_lhs_178383 = sub64(i_a_178381, (int64_t) 1);
                                            bool x_178384 = sle64((int64_t) 0, leq_lhs_178383);
                                            bool y_178385 = slt64(leq_lhs_178383, window_sizze_152003);
                                            bool bounds_check_178386 = x_178384 && y_178385;
                                            bool index_certs_178387;
                                            
                                            if (!bounds_check_178386) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178383, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178390 = sle64((int64_t) 0, i_b_178382);
                                            bool y_178391 = slt64(i_b_178382, window_sizze_152003);
                                            bool bounds_check_178392 = x_178390 && y_178391;
                                            bool index_certs_178393;
                                            
                                            if (!bounds_check_178392) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178382, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178388 = p_174790 + leq_lhs_178383;
                                            float leq_lhs_178389 = ((float *) a_list_mem_180280.mem)[slice_178388];
                                            int64_t slice_178394 = p_174791 + i_b_178382;
                                            float leq_rhs_178395 = ((float *) b_list_mem_180281.mem)[slice_178394];
                                            bool defunc_0_leq_res_178396 = leq_lhs_178389 <= leq_rhs_178395;
                                            int64_t loopres_178397;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178397 = i_a_178381;
                                            } else {
                                                loopres_178397 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178398;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178398 = i_b_178382;
                                            } else {
                                                loopres_178398 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178399;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178399 = zl_rhs_178371;
                                            } else {
                                                int64_t tmp_178400 = add64((int64_t) 1, p_178380);
                                                
                                                loopres_178399 = tmp_178400;
                                            }
                                            
                                            bool loop_cond_178401 = slt64(loopres_178399, zl_rhs_178371);
                                            bool loop_while_tmp_181718 = loop_cond_178401;
                                            int64_t p_tmp_181719 = loopres_178397;
                                            int64_t p_tmp_181720 = loopres_178398;
                                            int64_t p_tmp_181721 = loopres_178399;
                                            
                                            loop_while_178377 = loop_while_tmp_181718;
                                            p_178378 = p_tmp_181719;
                                            p_178379 = p_tmp_181720;
                                            p_178380 = p_tmp_181721;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178373 = loop_while_178377;
                                        defunc_0_partFunc_sequential_search_res_t_res_178374 = p_178378;
                                        defunc_0_partFunc_sequential_search_res_t_res_178375 = p_178379;
                                        defunc_0_partFunc_sequential_search_res_t_res_178376 = p_178380;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_t_res_178375;
                                    } else {
                                        int64_t zl_rhs_178402 = sub64(max_res_178281, (int64_t) 1);
                                        bool loop_cond_178403 = slt64((int64_t) 0, zl_rhs_178402);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178404;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178406;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178407;
                                        bool loop_while_178408;
                                        int64_t p_178409;
                                        int64_t p_178410;
                                        int64_t p_178411;
                                        
                                        loop_while_178408 = loop_cond_178403;
                                        p_178409 = ai_178349;
                                        p_178410 = max_res_178281;
                                        p_178411 = (int64_t) 0;
                                        while (loop_while_178408) {
                                            int64_t zp_lhs_178412 = add64(ai_178349, p_178411);
                                            int64_t hi_a_178413 = add64((int64_t) 1, zp_lhs_178412);
                                            bool cond_178414 = slt64(hi_a_178413, window_sizze_152003);
                                            int64_t i_a_178415;
                                            
                                            if (cond_178414) {
                                                i_a_178415 = hi_a_178413;
                                            } else {
                                                i_a_178415 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_178417 = sub64(max_res_178281, p_178411);
                                            int64_t i_b_178418 = sub64(zm_lhs_178417, (int64_t) 1);
                                            bool x_178419 = sle64((int64_t) 0, i_a_178415);
                                            bool y_178420 = slt64(i_a_178415, window_sizze_152003);
                                            bool bounds_check_178421 = x_178419 && y_178420;
                                            bool index_certs_178422;
                                            
                                            if (!bounds_check_178421) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178415, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178425 = sle64((int64_t) 0, i_b_178418);
                                            bool y_178426 = slt64(i_b_178418, window_sizze_152003);
                                            bool bounds_check_178427 = x_178425 && y_178426;
                                            bool index_certs_178428;
                                            
                                            if (!bounds_check_178427) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178418, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178423 = p_174790 + i_a_178415;
                                            float gt_lhs_178424 = ((float *) a_list_mem_180280.mem)[slice_178423];
                                            int64_t slice_178429 = p_174791 + i_b_178418;
                                            float gt_rhs_178430 = ((float *) b_list_mem_180281.mem)[slice_178429];
                                            bool defunc_0_gt_res_178431 = gt_rhs_178430 < gt_lhs_178424;
                                            int64_t loopres_178432;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178432 = i_a_178415;
                                            } else {
                                                loopres_178432 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178433;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178433 = zm_lhs_178417;
                                            } else {
                                                loopres_178433 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178434;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178434 = zl_rhs_178402;
                                            } else {
                                                int64_t tmp_178435 = add64((int64_t) 1, p_178411);
                                                
                                                loopres_178434 = tmp_178435;
                                            }
                                            
                                            bool loop_cond_178436 = slt64(loopres_178434, zl_rhs_178402);
                                            bool loop_while_tmp_181722 = loop_cond_178436;
                                            int64_t p_tmp_181723 = loopres_178432;
                                            int64_t p_tmp_181724 = loopres_178433;
                                            int64_t p_tmp_181725 = loopres_178434;
                                            
                                            loop_while_178408 = loop_while_tmp_181722;
                                            p_178409 = p_tmp_181723;
                                            p_178410 = p_tmp_181724;
                                            p_178411 = p_tmp_181725;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178404 = loop_while_178408;
                                        defunc_0_partFunc_sequential_search_res_f_res_178405 = p_178409;
                                        defunc_0_partFunc_sequential_search_res_f_res_178406 = p_178410;
                                        defunc_0_partFunc_sequential_search_res_f_res_178407 = p_178411;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_f_res_178406;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = p_178274;
                                    loopres_f_res_f_res_f_res_178345 = defunc_0_partFunc_sequential_search_res_178369;
                                    loopres_f_res_f_res_f_res_178346 = defunc_0_partFunc_sequential_search_res_178370;
                                    loopres_f_res_f_res_f_res_178347 = 0;
                                } else {
                                    bool x_178437 = sle64((int64_t) 0, ai_178279);
                                    bool y_178438 = slt64(ai_178279, window_sizze_152003);
                                    bool bounds_check_178439 = x_178437 && y_178438;
                                    bool index_certs_178440;
                                    
                                    if (!bounds_check_178439) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178279, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178441 = p_174790 + ai_178279;
                                    float gt_lhs_178442 = ((float *) a_list_mem_180280.mem)[slice_178441];
                                    bool defunc_0_gt_res_178443 = b_prev_178283 < gt_lhs_178442;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178444;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178445;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178446;
                                    bool loopres_f_res_f_res_f_res_f_res_178447;
                                    
                                    if (defunc_0_gt_res_178443) {
                                        int64_t leq_lhs_178448 = sub64(ai_178279, (int64_t) 1);
                                        bool x_178449 = sle64((int64_t) 0, leq_lhs_178448);
                                        bool y_178450 = slt64(leq_lhs_178448, window_sizze_152003);
                                        bool bounds_check_178451 = x_178449 && y_178450;
                                        bool index_certs_178452;
                                        
                                        if (!bounds_check_178451) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178448, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178455 = sle64((int64_t) 0, max_res_178281);
                                        bool y_178456 = slt64(max_res_178281, window_sizze_152003);
                                        bool bounds_check_178457 = x_178455 && y_178456;
                                        bool index_certs_178458;
                                        
                                        if (!bounds_check_178457) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178281, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178453 = p_174790 + leq_lhs_178448;
                                        float leq_lhs_178454 = ((float *) a_list_mem_180280.mem)[slice_178453];
                                        int64_t slice_178459 = p_174791 + max_res_178281;
                                        float leq_rhs_178460 = ((float *) b_list_mem_180281.mem)[slice_178459];
                                        bool defunc_0_leq_res_178461 = leq_lhs_178454 <= leq_rhs_178460;
                                        bool x_178462 = !defunc_0_leq_res_178461;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = ai_178279;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = leq_lhs_178448;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = max_res_178281;
                                        } else {
                                            int64_t tmp_178465 = add64((int64_t) 1, max_res_178281);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = tmp_178465;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178444 = p_178274;
                                        loopres_f_res_f_res_f_res_f_res_178445 = loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        loopres_f_res_f_res_f_res_f_res_178446 = loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        loopres_f_res_f_res_f_res_f_res_178447 = x_178462;
                                    } else {
                                        int64_t tmp_178466 = add64((int64_t) 1, ai_178279);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178444 = tmp_178466;
                                        loopres_f_res_f_res_f_res_f_res_178445 = p_178275;
                                        loopres_f_res_f_res_f_res_f_res_178446 = p_178276;
                                        loopres_f_res_f_res_f_res_f_res_178447 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = loopres_f_res_f_res_f_res_f_res_178444;
                                    loopres_f_res_f_res_f_res_178345 = loopres_f_res_f_res_f_res_f_res_178445;
                                    loopres_f_res_f_res_f_res_178346 = loopres_f_res_f_res_f_res_f_res_178446;
                                    loopres_f_res_f_res_f_res_178347 = loopres_f_res_f_res_f_res_f_res_178447;
                                }
                                loopres_f_res_f_res_178321 = loopres_f_res_f_res_f_res_178344;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_f_res_178345;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_f_res_178346;
                                loopres_f_res_f_res_178324 = loopres_f_res_f_res_f_res_178347;
                            }
                            loopres_f_res_178297 = loopres_f_res_f_res_178321;
                            loopres_f_res_178298 = loopres_f_res_f_res_178322;
                            loopres_f_res_178299 = loopres_f_res_f_res_178323;
                            loopres_f_res_178300 = loopres_f_res_f_res_178324;
                        }
                        loopres_178292 = loopres_f_res_178297;
                        loopres_178293 = loopres_f_res_178298;
                        loopres_178294 = loopres_f_res_178299;
                        loopres_178295 = loopres_f_res_178300;
                    }
                    
                    bool loop_while_tmp_181714 = loopres_178295;
                    int64_t p_tmp_181715 = loopres_178292;
                    int64_t p_tmp_181716 = loopres_178293;
                    int64_t p_tmp_181717 = loopres_178294;
                    
                    loop_while_178273 = loop_while_tmp_181714;
                    p_178274 = p_tmp_181715;
                    p_178275 = p_tmp_181716;
                    p_178276 = p_tmp_181717;
                }
                defunc_0_f_res_178269 = loop_while_178273;
                defunc_0_f_res_178270 = p_178274;
                defunc_0_f_res_178271 = p_178275;
                defunc_0_f_res_178272 = p_178276;
                ((int64_t *) mem_180642)[i_179944] = defunc_0_f_res_178271;
                ((int64_t *) mem_180644)[i_179944] = defunc_0_f_res_178272;
            }
            if (mem_180659_cached_sizze_182099 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180659, &mem_180659_cached_sizze_182099, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180661_cached_sizze_182100 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829) {
                err = lexical_realloc(ctx, &mem_180661, &mem_180661_cached_sizze_182100, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180664_cached_sizze_182101 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180664, &mem_180664_cached_sizze_182101, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180667_cached_sizze_182102 < bytes_180666) {
                err = lexical_realloc(ctx, &mem_180667, &mem_180667_cached_sizze_182102, bytes_180666);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180010 = 0; i_180010 < threads_152004; i_180010++) {
                bool y_178480 = slt64(i_180010, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool index_certs_178482;
                
                if (!y_178480) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180010, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178483 = sle64((int64_t) 1, i_180010);
                int64_t index_concat_i_178484 = sub64(i_180010, (int64_t) 1);
                int64_t index_concat_178485;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178486 = ((int64_t *) mem_180642)[index_concat_i_178484];
                    
                    index_concat_178485 = x_178486;
                } else {
                    index_concat_178485 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178487;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178487 = index_concat_178485;
                } else {
                    index_concat_branch_178487 = (int64_t) 0;
                }
                
                int64_t index_concat_178488;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178489 = ((int64_t *) mem_180644)[index_concat_i_178484];
                    
                    index_concat_178488 = x_178489;
                } else {
                    index_concat_178488 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178490;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178490 = index_concat_178488;
                } else {
                    index_concat_branch_178490 = (int64_t) 0;
                }
                
                int64_t ubs_178491 = add64((int64_t) 1, i_180010);
                bool x_178492 = sle64((int64_t) 0, ubs_178491);
                bool y_178493 = slt64(ubs_178491, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_178494 = x_178492 && y_178493;
                bool index_certs_178495;
                
                if (!bounds_check_178494) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178491, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178496 = sle64((int64_t) 1, ubs_178491);
                int64_t index_concat_178497;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178498 = ((int64_t *) mem_180642)[i_180010];
                    
                    index_concat_178497 = x_178498;
                } else {
                    index_concat_178497 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178499;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178499 = index_concat_178497;
                } else {
                    index_concat_branch_178499 = (int64_t) 0;
                }
                
                int64_t index_concat_178500;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178501 = ((int64_t *) mem_180644)[i_180010];
                    
                    index_concat_178500 = x_178501;
                } else {
                    index_concat_178500 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178502;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178502 = index_concat_178500;
                } else {
                    index_concat_branch_178502 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 = sub64(index_concat_branch_178502, index_concat_branch_178490);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 = sub64(index_concat_branch_178499, index_concat_branch_178487);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t zm_lhs_178506 = add64(index_concat_branch_178499, index_concat_branch_178502);
                int64_t zm_rhs_178507 = add64(index_concat_branch_178487, index_concat_branch_178490);
                int64_t card_178508 = sub64(zm_lhs_178506, zm_rhs_178507);
                bool empty_slice_178509 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 == (int64_t) 0;
                int64_t m_178510 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 1);
                int64_t i_p_m_t_s_178511 = add64(index_concat_branch_178487, m_178510);
                bool zzero_leq_i_p_m_t_s_178512 = sle64((int64_t) 0, i_p_m_t_s_178511);
                bool i_p_m_t_s_leq_w_178513 = slt64(i_p_m_t_s_178511, window_sizze_152003);
                bool zzero_lte_i_178514 = sle64((int64_t) 0, index_concat_branch_178487);
                bool i_lte_j_178515 = sle64(index_concat_branch_178487, index_concat_branch_178499);
                bool y_178516 = i_p_m_t_s_leq_w_178513 && zzero_lte_i_178514;
                bool y_178517 = zzero_leq_i_p_m_t_s_178512 && y_178516;
                bool forwards_ok_178518 = i_lte_j_178515 && y_178517;
                bool ok_or_empty_178519 = empty_slice_178509 || forwards_ok_178518;
                bool index_certs_178520;
                
                if (!ok_or_empty_178519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178487, ":", (long long) index_concat_branch_178499, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178521 = slt64(index_concat_branch_178499, index_concat_branch_178487);
                bool valid_178522 = !bounds_invalid_upwards_178521;
                bool range_valid_c_178523;
                
                if (!valid_178522) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178487, "..<", (long long) index_concat_branch_178499, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178528 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 == (int64_t) 0;
                int64_t m_178529 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, (int64_t) 1);
                int64_t i_p_m_t_s_178530 = add64(index_concat_branch_178490, m_178529);
                bool zzero_leq_i_p_m_t_s_178531 = sle64((int64_t) 0, i_p_m_t_s_178530);
                bool i_p_m_t_s_leq_w_178532 = slt64(i_p_m_t_s_178530, window_sizze_152003);
                bool zzero_lte_i_178533 = sle64((int64_t) 0, index_concat_branch_178490);
                bool i_lte_j_178534 = sle64(index_concat_branch_178490, index_concat_branch_178502);
                bool y_178535 = i_p_m_t_s_leq_w_178532 && zzero_lte_i_178533;
                bool y_178536 = zzero_leq_i_p_m_t_s_178531 && y_178535;
                bool forwards_ok_178537 = i_lte_j_178534 && y_178536;
                bool ok_or_empty_178538 = empty_slice_178528 || forwards_ok_178537;
                bool index_certs_178539;
                
                if (!ok_or_empty_178538) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178490, ":", (long long) index_concat_branch_178502, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178540 = slt64(index_concat_branch_178502, index_concat_branch_178490);
                bool valid_178541 = !bounds_invalid_upwards_178540;
                bool range_valid_c_178542;
                
                if (!valid_178541) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178490, "..<", (long long) index_concat_branch_178502, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180696 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                int64_t bytes_180698 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool cond_178550 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zs_lhs_178551 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zp_rhs_178552 = sdiv_safe64(zs_lhs_178551, (int64_t) 20);
                int64_t min_num_blocks_178553 = add64((int64_t) 1, zp_rhs_178552);
                bool loop_cond_178554 = slt64((int64_t) 1, min_num_blocks_178553);
                bool smallest_pow_2_geq_than_res_178555;
                int64_t smallest_pow_2_geq_than_res_178556;
                bool loop_while_178557;
                int64_t x_178558;
                
                loop_while_178557 = loop_cond_178554;
                x_178558 = (int64_t) 1;
                while (loop_while_178557) {
                    int64_t loopres_178559 = mul64((int64_t) 2, x_178558);
                    bool loop_cond_178560 = slt64(loopres_178559, min_num_blocks_178553);
                    bool loop_while_tmp_181730 = loop_cond_178560;
                    int64_t x_tmp_181731 = loopres_178559;
                    
                    loop_while_178557 = loop_while_tmp_181730;
                    x_178558 = x_tmp_181731;
                }
                smallest_pow_2_geq_than_res_178555 = loop_while_178557;
                smallest_pow_2_geq_than_res_178556 = x_178558;
                
                bool zzero_178561 = smallest_pow_2_geq_than_res_178556 == (int64_t) 0;
                bool nonzzero_178562 = !zzero_178561;
                bool protect_assert_disj_178563 = cond_178550 || nonzzero_178562;
                bool nonzzero_cert_178564;
                
                if (!protect_assert_disj_178563) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178565 = sdiv_safe64(zs_lhs_178551, smallest_pow_2_geq_than_res_178556);
                int64_t block_sizze_178566 = add64((int64_t) 1, zp_rhs_178565);
                bool y_178573 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                bool protect_assert_disj_181442 = cond_178550 || y_178573;
                bool index_certs_178574;
                
                if (!protect_assert_disj_181442) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178611 = slt64(smallest_pow_2_geq_than_res_178556, (int64_t) 0);
                bool valid_178612 = !bounds_invalid_upwards_178611;
                bool protect_assert_disj_181452 = cond_178550 || valid_178612;
                bool range_valid_c_178613;
                
                if (!protect_assert_disj_181452) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178556, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178615 = slt64(block_sizze_178566, (int64_t) 0);
                bool valid_178616 = !bounds_invalid_upwards_178615;
                bool protect_assert_disj_181454 = cond_178550 || valid_178616;
                bool range_valid_c_178617;
                
                if (!protect_assert_disj_181454) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178566, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178619 = sle64(block_sizze_178566, (int64_t) 1);
                int64_t tmp_178620 = sub64(block_sizze_178566, (int64_t) 2);
                bool bounds_invalid_upwards_178621 = slt64(tmp_178620, (int64_t) 0);
                bool valid_178623 = !bounds_invalid_upwards_178621;
                bool protect_assert_disj_178624 = cond_178619 || valid_178623;
                bool protect_assert_disj_181456 = cond_178550 || protect_assert_disj_178624;
                bool range_valid_c_178625;
                
                if (!protect_assert_disj_181456) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178620, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179205 = card_178508 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool empty_or_match_cert_179206;
                
                if (!dim_match_179205) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] cannot match shape of type `[", (long long) card_178508, "](i8, i64, f32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179207 = card_178508 == (int64_t) 0;
                int64_t m_179208 = sub64(card_178508, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179209 = sle64((int64_t) 0, m_179208);
                bool i_p_m_t_s_leq_w_179210 = slt64(m_179208, card_178508);
                bool y_179211 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179210;
                bool ok_or_empty_179212 = empty_slice_179207 || y_179211;
                bool index_certs_179213;
                
                if (!ok_or_empty_179212) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) card_178508, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, perThread_174828);
                bool y_179215 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179214;
                bool ok_or_empty_179216 = empty_slice_179207 || y_179215;
                bool index_certs_179217;
                
                if (!ok_or_empty_179216) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181732 = 0; nest_i_181732 < perThread_174828; nest_i_181732++) {
                    ((int8_t *) mem_180661)[i_180010 * perThread_174828 + nest_i_181732] = (int8_t) -1;
                }
                for (int64_t nest_i_181733 = 0; nest_i_181733 < perThread_174828; nest_i_181733++) {
                    ((int64_t *) mem_180664)[i_180010 * perThread_174828 + nest_i_181733] = (int64_t) -1;
                }
                for (int64_t nest_i_181734 = 0; nest_i_181734 < perThread_174828; nest_i_181734++) {
                    ((float *) mem_180667)[i_180010 * perThread_174828 + nest_i_181734] = 0.0F;
                }
                
                int64_t slice_178524 = p_174790 + index_concat_branch_178487;
                
                if (memblock_alloc(ctx, &mem_180695, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "mem_180695")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181735 = 0; nest_i_181735 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; nest_i_181735++) {
                    ((int8_t *) mem_180695.mem)[nest_i_181735] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180697, bytes_180696, "mem_180697")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181736 = 0; i_181736 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; i_181736++) {
                    int64_t x_181737 = index_concat_branch_178487 + i_181736 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[i_181736] = x_181737;
                }
                
                int64_t slice_178543 = p_174791 + index_concat_branch_178490;
                
                for (int64_t nest_i_181738 = 0; nest_i_181738 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; nest_i_181738++) {
                    ((int8_t *) mem_180695.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + nest_i_181738] = (int8_t) 1;
                }
                for (int64_t i_181739 = 0; i_181739 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; i_181739++) {
                    int64_t x_181740 = index_concat_branch_178490 + i_181739 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + i_181739] = x_181740;
                }
                
                int64_t tmp_offs_181741 = (int64_t) 0;
                
                if (!(tmp_offs_181741 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181741 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t tmp_offs_181742 = (int64_t) 0;
                
                if (!(tmp_offs_181742 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181742 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181743 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180280.mem, slice_178524, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180281.mem, slice_178543, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t flat_dim_178567 = smallest_pow_2_geq_than_res_178556 * block_sizze_178566;
                bool x_181437 = !cond_178550;
                int64_t greatest_divisor_leq_than_arg1_178571 = mul64((int64_t) 2, block_sizze_178566);
                int64_t merge_block_sizze_178572;
                
                if (x_181437) {
                    int64_t x_181439;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181439, (int64_t) 8, greatest_divisor_leq_than_arg1_178571) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178572 = x_181439;
                } else {
                    merge_block_sizze_178572 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178575 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 0);
                int8_t index_concat_branch_178576 = btoi_bool_i8(index_concat_cmp_178575);
                int64_t index_concat_i_178578 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t index_primexp_178579 = add64(index_concat_branch_178490, index_concat_i_178578);
                int64_t index_concat_branch_178577;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178577 = index_primexp_178579;
                } else {
                    index_concat_branch_178577 = index_concat_branch_178487;
                }
                
                bool x_181433 = !index_concat_cmp_178575;
                bool protect_cond_conj_181443 = x_181433 && x_181437;
                float index_concat_178585;
                
                if (protect_cond_conj_181443) {
                    float x_181435 = ((float *) a_list_mem_180280.mem)[slice_178524];
                    
                    index_concat_178585 = x_181435;
                } else {
                    index_concat_178585 = 0.0F;
                }
                
                int64_t slice_178583 = p_174791 + index_primexp_178579;
                bool protect_cond_conj_181444 = index_concat_cmp_178575 && x_181437;
                float index_concat_178584;
                
                if (protect_cond_conj_181444) {
                    float x_181431 = ((float *) b_list_mem_180281.mem)[slice_178583];
                    
                    index_concat_178584 = x_181431;
                } else {
                    index_concat_178584 = 0.0F;
                }
                
                float index_concat_branch_178580;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178580 = index_concat_178584;
                } else {
                    index_concat_branch_178580 = index_concat_178585;
                }
                
                int8_t defunc_0_reduce_res_178586;
                int64_t defunc_0_reduce_res_178587;
                float defunc_0_reduce_res_178588;
                
                if (x_181437) {
                    int8_t x_181445;
                    int64_t x_181446;
                    float x_181447;
                    int8_t redout_179947;
                    int64_t redout_179948;
                    float redout_179949;
                    
                    redout_179947 = index_concat_branch_178576;
                    redout_179948 = index_concat_branch_178577;
                    redout_179949 = index_concat_branch_178580;
                    for (int64_t i_179950 = 0; i_179950 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505; i_179950++) {
                        bool index_concat_cmp_180208 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, i_179950);
                        int8_t index_concat_branch_180212 = btoi_bool_i8(index_concat_cmp_180208);
                        int64_t index_concat_branch_180206;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180203 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t index_primexp_180256 = add64(index_concat_branch_178490, index_concat_i_180203);
                            
                            index_concat_branch_180206 = index_primexp_180256;
                        } else {
                            int64_t index_primexp_180258 = add64(index_concat_branch_178487, i_179950);
                            
                            index_concat_branch_180206 = index_primexp_180258;
                        }
                        
                        float index_concat_branch_180200;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180197 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t slice_180253 = slice_178543 + index_concat_i_180197;
                            float index_concat_180198 = ((float *) b_list_mem_180281.mem)[slice_180253];
                            
                            index_concat_branch_180200 = index_concat_180198;
                        } else {
                            int64_t slice_180254 = slice_178524 + i_179950;
                            float index_concat_180199 = ((float *) a_list_mem_180280.mem)[slice_180254];
                            
                            index_concat_branch_180200 = index_concat_180199;
                        }
                        
                        bool eq_x_y_180270 = redout_179947 == (int8_t) 1;
                        bool eq_x_zz_180271 = redout_179947 == (int8_t) 0;
                        bool p_and_eq_x_y_180272 = index_concat_cmp_180208 && eq_x_y_180270;
                        bool not_p_180273 = !index_concat_cmp_180208;
                        bool p_and_eq_x_y_180274 = eq_x_zz_180271 && not_p_180273;
                        bool cond_178598 = p_and_eq_x_y_180272 || p_and_eq_x_y_180274;
                        bool defunc_0_leq_res_t_res_178599 = sle64(redout_179948, index_concat_branch_180206);
                        bool defunc_0_leq_res_178600 = redout_179949 <= index_concat_branch_180200;
                        bool x_178601 = cond_178598 && defunc_0_leq_res_t_res_178599;
                        bool x_178602 = !cond_178598;
                        bool y_178603 = defunc_0_leq_res_178600 && x_178602;
                        bool defunc_0_leq_res_178604 = x_178601 || y_178603;
                        int8_t defunc_0_op_res_178605;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178605 = index_concat_branch_180212;
                        } else {
                            defunc_0_op_res_178605 = redout_179947;
                        }
                        
                        int64_t defunc_0_op_res_178606;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178606 = index_concat_branch_180206;
                        } else {
                            defunc_0_op_res_178606 = redout_179948;
                        }
                        
                        float defunc_0_op_res_178607;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178607 = index_concat_branch_180200;
                        } else {
                            defunc_0_op_res_178607 = redout_179949;
                        }
                        
                        int8_t redout_tmp_181744 = defunc_0_op_res_178605;
                        int64_t redout_tmp_181745 = defunc_0_op_res_178606;
                        float redout_tmp_181746 = defunc_0_op_res_178607;
                        
                        redout_179947 = redout_tmp_181744;
                        redout_179948 = redout_tmp_181745;
                        redout_179949 = redout_tmp_181746;
                    }
                    x_181445 = redout_179947;
                    x_181446 = redout_179948;
                    x_181447 = redout_179949;
                    defunc_0_reduce_res_178586 = x_181445;
                    defunc_0_reduce_res_178587 = x_181446;
                    defunc_0_reduce_res_178588 = x_181447;
                } else {
                    defunc_0_reduce_res_178586 = (int8_t) 0;
                    defunc_0_reduce_res_178587 = (int64_t) 0;
                    defunc_0_reduce_res_178588 = 0.0F;
                }
                
                int64_t distance_178622 = add64((int64_t) 1, tmp_178620);
                int64_t binop_x_180702 = (int64_t) 8 * smallest_pow_2_geq_than_res_178556;
                int64_t bytes_180703 = block_sizze_178566 * binop_x_180702;
                int64_t binop_x_180705 = (int64_t) 4 * smallest_pow_2_geq_than_res_178556;
                int64_t bytes_180706 = block_sizze_178566 * binop_x_180705;
                int64_t bytes_180721 = (int64_t) 8 * block_sizze_178566;
                int64_t bytes_180723 = (int64_t) 4 * block_sizze_178566;
                bool loop_cond_178748 = slt64(block_sizze_178566, flat_dim_178567);
                bool zzero_178749 = merge_block_sizze_178572 == (int64_t) 0;
                bool nonzzero_178750 = !zzero_178749;
                
                if (cond_178550) {
                    if (memblock_set(ctx, &ext_mem_180994, &mem_180695, "mem_180695") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &mem_180697, "mem_180697") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &mem_180699, "mem_180699") != 0)
                        return 1;
                } else {
                    if (mem_180701_cached_sizze_182103 < flat_dim_178567) {
                        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182103, flat_dim_178567);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180704_cached_sizze_182104 < bytes_180703) {
                        err = lexical_realloc(ctx, &mem_180704, &mem_180704_cached_sizze_182104, bytes_180703);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180707_cached_sizze_182105 < bytes_180706) {
                        err = lexical_realloc(ctx, &mem_180707, &mem_180707_cached_sizze_182105, bytes_180706);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180720_cached_sizze_182106 < block_sizze_178566) {
                        err = lexical_realloc(ctx, &mem_180720, &mem_180720_cached_sizze_182106, block_sizze_178566);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180722_cached_sizze_182107 < bytes_180721) {
                        err = lexical_realloc(ctx, &mem_180722, &mem_180722_cached_sizze_182107, bytes_180721);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180724_cached_sizze_182108 < bytes_180723) {
                        err = lexical_realloc(ctx, &mem_180724, &mem_180724_cached_sizze_182108, bytes_180723);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179967 = 0; i_179967 < smallest_pow_2_geq_than_res_178556; i_179967++) {
                        int64_t zp_lhs_178630 = mul64(block_sizze_178566, i_179967);
                        
                        for (int64_t i_179957 = 0; i_179957 < block_sizze_178566; i_179957++) {
                            int64_t k_178635 = add64(zp_lhs_178630, i_179957);
                            bool cond_178636 = slt64(k_178635, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                            int8_t lifted_lambda_res_178637;
                            int64_t lifted_lambda_res_178638;
                            float lifted_lambda_res_178639;
                            
                            if (cond_178636) {
                                bool x_178640 = sle64((int64_t) 0, k_178635);
                                bool bounds_check_178641 = cond_178636 && x_178640;
                                bool index_certs_178642;
                                
                                if (!bounds_check_178641) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178635, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178643 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, k_178635);
                                int8_t index_concat_branch_178644 = btoi_bool_i8(index_concat_cmp_178643);
                                int64_t index_concat_branch_178645;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178646 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t index_primexp_178647 = add64(index_concat_branch_178490, index_concat_i_178646);
                                    
                                    index_concat_branch_178645 = index_primexp_178647;
                                } else {
                                    int64_t index_primexp_178648 = add64(index_concat_branch_178487, k_178635);
                                    
                                    index_concat_branch_178645 = index_primexp_178648;
                                }
                                
                                float index_concat_branch_178649;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178650 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t slice_178651 = index_concat_branch_178490 + index_concat_i_178650;
                                    int64_t slice_178652 = p_174791 + slice_178651;
                                    float index_concat_178653 = ((float *) b_list_mem_180281.mem)[slice_178652];
                                    
                                    index_concat_branch_178649 = index_concat_178653;
                                } else {
                                    int64_t slice_178654 = index_concat_branch_178487 + k_178635;
                                    int64_t slice_178655 = p_174790 + slice_178654;
                                    float index_concat_178656 = ((float *) a_list_mem_180280.mem)[slice_178655];
                                    
                                    index_concat_branch_178649 = index_concat_178656;
                                }
                                lifted_lambda_res_178637 = index_concat_branch_178644;
                                lifted_lambda_res_178638 = index_concat_branch_178645;
                                lifted_lambda_res_178639 = index_concat_branch_178649;
                            } else {
                                lifted_lambda_res_178637 = defunc_0_reduce_res_178586;
                                lifted_lambda_res_178638 = defunc_0_reduce_res_178587;
                                lifted_lambda_res_178639 = defunc_0_reduce_res_178588;
                            }
                            ((int8_t *) mem_180720)[i_179957] = lifted_lambda_res_178637;
                            ((int64_t *) mem_180722)[i_179957] = lifted_lambda_res_178638;
                            ((float *) mem_180724)[i_179957] = lifted_lambda_res_178639;
                        }
                        if (!cond_178619) {
                            for (int64_t i_178666 = 0; i_178666 < distance_178622; i_178666++) {
                                int64_t gt_arg1_178670 = add64((int64_t) 1, i_178666);
                                bool x_178671 = sle64((int64_t) 0, gt_arg1_178670);
                                bool y_178672 = slt64(gt_arg1_178670, block_sizze_178566);
                                bool bounds_check_178673 = x_178671 && y_178672;
                                bool index_certs_178674;
                                
                                if (!bounds_check_178673) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178670, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178678 = slt64(i_178666, block_sizze_178566);
                                bool index_certs_178679;
                                
                                if (!y_178678) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178666, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178675 = ((int8_t *) mem_180720)[gt_arg1_178670];
                                int64_t gt_arg1_178676 = ((int64_t *) mem_180722)[gt_arg1_178670];
                                float gt_arg1_178677 = ((float *) mem_180724)[gt_arg1_178670];
                                int8_t gt_arg0_178680 = ((int8_t *) mem_180720)[i_178666];
                                int64_t gt_arg0_178681 = ((int64_t *) mem_180722)[i_178666];
                                float gt_arg0_178682 = ((float *) mem_180724)[i_178666];
                                bool cond_178683 = gt_arg0_178680 == gt_arg1_178675;
                                bool defunc_0_leq_res_t_res_178684 = sle64(gt_arg0_178681, gt_arg1_178676);
                                bool defunc_0_leq_res_178685 = gt_arg0_178682 <= gt_arg1_178677;
                                bool x_178686 = cond_178683 && defunc_0_leq_res_t_res_178684;
                                bool x_178687 = !cond_178683;
                                bool y_178688 = defunc_0_leq_res_178685 && x_178687;
                                bool defunc_0_leq_res_178689 = x_178686 || y_178688;
                                bool defunc_0_lifted_gt_res_178690 = !defunc_0_leq_res_178689;
                                bool s_178691;
                                int64_t s_178695;
                                bool loop_while_178696;
                                int64_t j_178700;
                                
                                loop_while_178696 = defunc_0_lifted_gt_res_178690;
                                j_178700 = i_178666;
                                while (loop_while_178696) {
                                    bool x_178701 = sle64((int64_t) 0, j_178700);
                                    bool y_178702 = slt64(j_178700, block_sizze_178566);
                                    bool bounds_check_178703 = x_178701 && y_178702;
                                    bool index_certs_178704;
                                    
                                    if (!bounds_check_178703) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178700, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178708 = add64((int64_t) 1, j_178700);
                                    bool x_178709 = sle64((int64_t) 0, copy_arg0_178708);
                                    bool y_178710 = slt64(copy_arg0_178708, block_sizze_178566);
                                    bool bounds_check_178711 = x_178709 && y_178710;
                                    bool index_certs_178712;
                                    
                                    if (!bounds_check_178711) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178708, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178705 = ((int8_t *) mem_180720)[j_178700];
                                    int64_t copy_arg0_178706 = ((int64_t *) mem_180722)[j_178700];
                                    float copy_arg0_178707 = ((float *) mem_180724)[j_178700];
                                    int8_t copy_arg0_178713 = ((int8_t *) mem_180720)[copy_arg0_178708];
                                    int64_t copy_arg0_178714 = ((int64_t *) mem_180722)[copy_arg0_178708];
                                    float copy_arg0_178715 = ((float *) mem_180724)[copy_arg0_178708];
                                    
                                    ((int8_t *) mem_180720)[j_178700] = copy_arg0_178713;
                                    ((int64_t *) mem_180722)[j_178700] = copy_arg0_178714;
                                    ((float *) mem_180724)[j_178700] = copy_arg0_178715;
                                    ((int8_t *) mem_180720)[copy_arg0_178708] = copy_arg0_178705;
                                    ((int64_t *) mem_180722)[copy_arg0_178708] = copy_arg0_178706;
                                    ((float *) mem_180724)[copy_arg0_178708] = copy_arg0_178707;
                                    
                                    int64_t tmp_178722 = sub64(j_178700, (int64_t) 1);
                                    bool cond_178723 = sle64((int64_t) 0, tmp_178722);
                                    bool loop_cond_178724;
                                    
                                    if (cond_178723) {
                                        bool y_178728 = slt64(tmp_178722, block_sizze_178566);
                                        bool bounds_check_178729 = cond_178723 && y_178728;
                                        bool index_certs_178730;
                                        
                                        if (!bounds_check_178729) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178722, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178725 = ((int8_t *) mem_180720)[j_178700];
                                        int64_t gt_arg1_178726 = ((int64_t *) mem_180722)[j_178700];
                                        float gt_arg1_178727 = ((float *) mem_180724)[j_178700];
                                        int8_t gt_arg0_178731 = ((int8_t *) mem_180720)[tmp_178722];
                                        int64_t gt_arg0_178732 = ((int64_t *) mem_180722)[tmp_178722];
                                        float gt_arg0_178733 = ((float *) mem_180724)[tmp_178722];
                                        bool cond_178734 = gt_arg0_178731 == gt_arg1_178725;
                                        bool defunc_0_leq_res_t_res_178735 = sle64(gt_arg0_178732, gt_arg1_178726);
                                        bool defunc_0_leq_res_178736 = gt_arg0_178733 <= gt_arg1_178727;
                                        bool x_178737 = cond_178734 && defunc_0_leq_res_t_res_178735;
                                        bool x_178738 = !cond_178734;
                                        bool y_178739 = defunc_0_leq_res_178736 && x_178738;
                                        bool defunc_0_leq_res_178740 = x_178737 || y_178739;
                                        bool defunc_0_lifted_gt_res_178741 = !defunc_0_leq_res_178740;
                                        
                                        loop_cond_178724 = defunc_0_lifted_gt_res_178741;
                                    } else {
                                        loop_cond_178724 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181756 = loop_cond_178724;
                                    int64_t j_tmp_181760 = tmp_178722;
                                    
                                    loop_while_178696 = loop_while_tmp_181756;
                                    j_178700 = j_tmp_181760;
                                }
                                s_178691 = loop_while_178696;
                                s_178695 = j_178700;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180701, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180720, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180704, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180722, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180707, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180724, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                    }
                    if (memblock_alloc(ctx, &mem_180801, flat_dim_178567, "mem_180801")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180801.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint8_t *) mem_180701, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180805, bytes_180703, "mem_180805")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180805.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint64_t *) mem_180704, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180809, bytes_180706, "mem_180809")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180809.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint32_t *) mem_180707, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    
                    int64_t data_178751;
                    bool data_178752;
                    int64_t data_178756;
                    int64_t loop_dz2084Uz2082U_178757;
                    bool loop_while_178758;
                    int64_t stride_178762;
                    
                    if (memblock_set(ctx, &mem_param_180813, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180816, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180819, &mem_180809, "mem_180809") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178757 = flat_dim_178567;
                    loop_while_178758 = loop_cond_178748;
                    stride_178762 = block_sizze_178566;
                    while (loop_while_178758) {
                        int64_t next_stride_178763 = mul64((int64_t) 2, stride_178762);
                        bool zzero_178764 = next_stride_178763 == (int64_t) 0;
                        bool nonzzero_178765 = !zzero_178764;
                        bool nonzzero_cert_178766;
                        
                        if (!nonzzero_178765) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178767 = sdiv64(flat_dim_178567, next_stride_178763);
                        bool bounds_invalid_upwards_178768 = slt64(num_merges_178767, (int64_t) 0);
                        bool valid_178769 = !bounds_invalid_upwards_178768;
                        bool range_valid_c_178770;
                        
                        if (!valid_178769) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178767, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178772 = sub64(next_stride_178763, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178773 = sle64((int64_t) 0, m_178772);
                        bool cond_178775 = slt64(next_stride_178763, (int64_t) 10);
                        bool protect_assert_disj_178776 = nonzzero_178750 || cond_178775;
                        bool nonzzero_cert_178777;
                        
                        if (!protect_assert_disj_178776) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178778 = smod_safe64(next_stride_178763, merge_block_sizze_178572);
                        bool num_blocks_178779 = zeze_lhs_178778 == (int64_t) 0;
                        bool protect_assert_disj_178780 = cond_178775 || num_blocks_178779;
                        bool assert_c_178781;
                        
                        if (!protect_assert_disj_178780) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178782 = sdiv_safe64(next_stride_178763, merge_block_sizze_178572);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783 = add64((int64_t) 1, num_blocks_178782);
                        int64_t j_m_i_178784 = sub64(next_stride_178763, stride_178762);
                        int64_t flat_dim_178785 = merge_block_sizze_178572 * num_blocks_178782;
                        bool bounds_invalid_upwards_178786 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, (int64_t) 0);
                        bool empty_slice_178787 = j_m_i_178784 == (int64_t) 0;
                        int64_t m_178788 = sub64(j_m_i_178784, (int64_t) 1);
                        bool zzero_lte_i_178789 = sle64((int64_t) 0, stride_178762);
                        bool i_lte_j_178790 = sle64(stride_178762, next_stride_178763);
                        bool empty_slice_178791 = stride_178762 == (int64_t) 0;
                        int64_t m_178792 = sub64(stride_178762, (int64_t) 1);
                        bool bounds_invalid_upwards_178793 = slt64(num_blocks_178782, (int64_t) 0);
                        bool cond_178794 = slt64((int64_t) 0, stride_178762);
                        bool valid_178795 = !bounds_invalid_upwards_178786;
                        int64_t i_p_m_t_s_178796 = add64(stride_178762, m_178788);
                        bool zzero_leq_i_p_m_t_s_178797 = sle64((int64_t) 0, m_178792);
                        bool i_p_m_t_s_leq_w_178798 = slt64(m_178792, next_stride_178763);
                        bool valid_178799 = !bounds_invalid_upwards_178793;
                        bool i_p_m_t_s_leq_w_178800 = slt64(m_178772, flat_dim_178785);
                        bool y_178801 = slt64((int64_t) 0, j_m_i_178784);
                        bool protect_assert_disj_178802 = cond_178775 || valid_178795;
                        bool range_valid_c_178803;
                        
                        if (!protect_assert_disj_178802) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178804 = sle64((int64_t) 0, i_p_m_t_s_178796);
                        bool i_p_m_t_s_leq_w_178805 = slt64(i_p_m_t_s_178796, next_stride_178763);
                        bool y_178806 = zzero_leq_i_p_m_t_s_178797 && i_p_m_t_s_leq_w_178798;
                        bool protect_assert_disj_178807 = cond_178775 || valid_178799;
                        bool range_valid_c_178808;
                        
                        if (!protect_assert_disj_178807) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178809 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178800;
                        bool y_178810 = zzero_lte_i_178789 && i_p_m_t_s_leq_w_178805;
                        bool forwards_ok_178811 = zzero_lte_i_178789 && y_178806;
                        bool ok_or_empty_178812 = zzero_178764 || y_178809;
                        bool protect_assert_disj_178813 = cond_178794 || y_178801;
                        bool y_178814 = zzero_leq_i_p_m_t_s_178804 && y_178810;
                        bool ok_or_empty_178815 = empty_slice_178791 || forwards_ok_178811;
                        bool protect_assert_disj_178816 = cond_178775 || ok_or_empty_178812;
                        bool index_certs_178817;
                        
                        if (!protect_assert_disj_178816) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) flat_dim_178785, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178818 = !cond_178775;
                        bool protect_assert_disj_178819 = protect_assert_disj_178813 || loop_not_taken_178818;
                        bool index_certs_178820;
                        
                        if (!protect_assert_disj_178819) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178821 = i_lte_j_178790 && y_178814;
                        bool protect_assert_disj_178822 = cond_178775 || ok_or_empty_178815;
                        bool index_certs_178823;
                        
                        if (!protect_assert_disj_178822) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178824 = ok_or_empty_178815 || loop_not_taken_178818;
                        bool index_certs_178825;
                        
                        if (!protect_assert_disj_178824) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178826 = empty_slice_178787 || forwards_ok_178821;
                        bool protect_assert_disj_178827 = cond_178775 || ok_or_empty_178826;
                        bool index_certs_178828;
                        
                        if (!protect_assert_disj_178827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178829 = loop_not_taken_178818 || ok_or_empty_178826;
                        bool index_certs_178830;
                        
                        if (!protect_assert_disj_178829) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180820 = next_stride_178763 * num_merges_178767;
                        int64_t binop_x_180822 = (int64_t) 8 * num_merges_178767;
                        int64_t bytes_180823 = next_stride_178763 * binop_x_180822;
                        int64_t binop_x_180825 = (int64_t) 4 * num_merges_178767;
                        int64_t bytes_180826 = next_stride_178763 * binop_x_180825;
                        bool i_lte_j_178774 = sle64((int64_t) 0, next_stride_178763);
                        
                        if (mem_180821_cached_sizze_182109 < bytes_180820) {
                            err = lexical_realloc(ctx, &mem_180821, &mem_180821_cached_sizze_182109, bytes_180820);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180824_cached_sizze_182110 < bytes_180823) {
                            err = lexical_realloc(ctx, &mem_180824, &mem_180824_cached_sizze_182110, bytes_180823);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180827_cached_sizze_182111 < bytes_180826) {
                            err = lexical_realloc(ctx, &mem_180827, &mem_180827_cached_sizze_182111, bytes_180826);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180840 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783;
                        int64_t binop_x_180858 = (int64_t) 8 * num_blocks_178782;
                        int64_t bytes_180859 = merge_block_sizze_178572 * binop_x_180858;
                        int64_t binop_x_180861 = (int64_t) 4 * num_blocks_178782;
                        int64_t bytes_180862 = merge_block_sizze_178572 * binop_x_180861;
                        int64_t bytes_180923 = (int64_t) 16 * stride_178762;
                        int64_t bytes_180925 = (int64_t) 8 * stride_178762;
                        
                        for (int64_t i_179994 = 0; i_179994 < num_merges_178767; i_179994++) {
                            int64_t start_178835 = mul64(next_stride_178763, i_179994);
                            int64_t j_m_i_178836 = sub64(loop_dz2084Uz2082U_178757, start_178835);
                            bool empty_slice_178837 = j_m_i_178836 == (int64_t) 0;
                            int64_t m_178838 = sub64(j_m_i_178836, (int64_t) 1);
                            int64_t i_p_m_t_s_178839 = add64(start_178835, m_178838);
                            bool zzero_leq_i_p_m_t_s_178840 = sle64((int64_t) 0, i_p_m_t_s_178839);
                            bool i_p_m_t_s_leq_w_178841 = slt64(i_p_m_t_s_178839, loop_dz2084Uz2082U_178757);
                            bool zzero_lte_i_178842 = sle64((int64_t) 0, start_178835);
                            bool i_lte_j_178843 = sle64(start_178835, loop_dz2084Uz2082U_178757);
                            bool y_178844 = i_p_m_t_s_leq_w_178841 && zzero_lte_i_178842;
                            bool y_178845 = zzero_leq_i_p_m_t_s_178840 && y_178844;
                            bool forwards_ok_178846 = i_lte_j_178843 && y_178845;
                            bool ok_or_empty_178847 = empty_slice_178837 || forwards_ok_178846;
                            bool index_certs_178848;
                            
                            if (!ok_or_empty_178847) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178835, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178757, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178849 = slt64(m_178772, j_m_i_178836);
                            bool y_178850 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178849;
                            bool forwards_ok_178851 = i_lte_j_178774 && y_178850;
                            bool ok_or_empty_178852 = zzero_178764 || forwards_ok_178851;
                            bool index_certs_178853;
                            
                            if (!ok_or_empty_178852) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) j_m_i_178836, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178775) {
                                int8_t dummy_178857;
                                int64_t dummy_178858;
                                float dummy_178859;
                                
                                if (cond_178794) {
                                    int8_t head_res_178860 = ((int8_t *) mem_param_180813.mem)[start_178835];
                                    int64_t head_res_178861 = ((int64_t *) mem_param_180816.mem)[start_178835];
                                    float head_res_178862 = ((float *) mem_param_180819.mem)[start_178835];
                                    
                                    dummy_178857 = head_res_178860;
                                    dummy_178858 = head_res_178861;
                                    dummy_178859 = head_res_178862;
                                } else {
                                    int64_t slice_178863 = stride_178762 + start_178835;
                                    int8_t head_res_178864 = ((int8_t *) mem_param_180813.mem)[slice_178863];
                                    int64_t head_res_178865 = ((int64_t *) mem_param_180816.mem)[slice_178863];
                                    float head_res_178866 = ((float *) mem_param_180819.mem)[slice_178863];
                                    
                                    dummy_178857 = head_res_178864;
                                    dummy_178858 = head_res_178865;
                                    dummy_178859 = head_res_178866;
                                }
                                if (memblock_alloc(ctx, &mem_180922, next_stride_178763, "mem_180922")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181773 = 0; nest_i_181773 < next_stride_178763; nest_i_181773++) {
                                    ((int8_t *) mem_180922.mem)[nest_i_181773] = dummy_178857;
                                }
                                if (memblock_alloc(ctx, &mem_180924, bytes_180923, "mem_180924")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181774 = 0; nest_i_181774 < next_stride_178763; nest_i_181774++) {
                                    ((int64_t *) mem_180924.mem)[nest_i_181774] = dummy_178858;
                                }
                                if (memblock_alloc(ctx, &mem_180926, bytes_180925, "mem_180926")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181775 = 0; nest_i_181775 < next_stride_178763; nest_i_181775++) {
                                    ((float *) mem_180926.mem)[nest_i_181775] = dummy_178859;
                                }
                                
                                int64_t data_178870;
                                int64_t i_178875 = (int64_t) 0;
                                
                                for (int64_t k_178874 = 0; k_178874 < next_stride_178763; k_178874++) {
                                    int64_t j_178879 = sub64(k_178874, i_178875);
                                    bool cond_178880 = j_178879 == j_m_i_178784;
                                    bool cond_178881;
                                    
                                    if (cond_178880) {
                                        cond_178881 = 1;
                                    } else {
                                        bool cond_178882 = slt64(i_178875, stride_178762);
                                        bool cond_f_res_178883;
                                        
                                        if (cond_178882) {
                                            bool x_178884 = sle64((int64_t) 0, j_178879);
                                            bool y_178885 = slt64(j_178879, j_m_i_178784);
                                            bool bounds_check_178886 = x_178884 && y_178885;
                                            bool index_certs_178887;
                                            
                                            if (!bounds_check_178886) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178893 = sle64((int64_t) 0, i_178875);
                                            bool bounds_check_178894 = cond_178882 && x_178893;
                                            bool index_certs_178895;
                                            
                                            if (!bounds_check_178894) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178888 = stride_178762 + j_178879;
                                            int64_t slice_178889 = start_178835 + slice_178888;
                                            int8_t leq_arg1_178890 = ((int8_t *) mem_param_180813.mem)[slice_178889];
                                            int64_t leq_arg1_178891 = ((int64_t *) mem_param_180816.mem)[slice_178889];
                                            float leq_arg1_178892 = ((float *) mem_param_180819.mem)[slice_178889];
                                            int64_t slice_178896 = start_178835 + i_178875;
                                            int8_t leq_arg0_178897 = ((int8_t *) mem_param_180813.mem)[slice_178896];
                                            int64_t leq_arg0_178898 = ((int64_t *) mem_param_180816.mem)[slice_178896];
                                            float leq_arg0_178899 = ((float *) mem_param_180819.mem)[slice_178896];
                                            bool cond_178900 = leq_arg0_178897 == leq_arg1_178890;
                                            bool defunc_0_leq_res_t_res_178901 = sle64(leq_arg0_178898, leq_arg1_178891);
                                            bool defunc_0_leq_res_178902 = leq_arg0_178899 <= leq_arg1_178892;
                                            bool x_178903 = cond_178900 && defunc_0_leq_res_t_res_178901;
                                            bool x_178904 = !cond_178900;
                                            bool y_178905 = defunc_0_leq_res_178902 && x_178904;
                                            bool defunc_0_leq_res_178906 = x_178903 || y_178905;
                                            
                                            cond_f_res_178883 = defunc_0_leq_res_178906;
                                        } else {
                                            cond_f_res_178883 = 0;
                                        }
                                        cond_178881 = cond_f_res_178883;
                                    }
                                    
                                    int64_t loopres_178907;
                                    int8_t loopres_178908;
                                    int64_t loopres_178909;
                                    float loopres_178910;
                                    
                                    if (cond_178881) {
                                        bool x_178912 = sle64((int64_t) 0, i_178875);
                                        bool y_178913 = slt64(i_178875, stride_178762);
                                        bool bounds_check_178914 = x_178912 && y_178913;
                                        bool index_certs_178915;
                                        
                                        if (!bounds_check_178914) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178911 = add64((int64_t) 1, i_178875);
                                        int64_t slice_178916 = start_178835 + i_178875;
                                        int8_t tmp_178917 = ((int8_t *) mem_param_180813.mem)[slice_178916];
                                        int64_t tmp_178918 = ((int64_t *) mem_param_180816.mem)[slice_178916];
                                        float tmp_178919 = ((float *) mem_param_180819.mem)[slice_178916];
                                        
                                        loopres_178907 = tmp_178911;
                                        loopres_178908 = tmp_178917;
                                        loopres_178909 = tmp_178918;
                                        loopres_178910 = tmp_178919;
                                    } else {
                                        bool x_178920 = sle64((int64_t) 0, j_178879);
                                        bool y_178921 = slt64(j_178879, j_m_i_178784);
                                        bool bounds_check_178922 = x_178920 && y_178921;
                                        bool index_certs_178923;
                                        
                                        if (!bounds_check_178922) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178924 = stride_178762 + j_178879;
                                        int64_t slice_178925 = start_178835 + slice_178924;
                                        int8_t tmp_178926 = ((int8_t *) mem_param_180813.mem)[slice_178925];
                                        int64_t tmp_178927 = ((int64_t *) mem_param_180816.mem)[slice_178925];
                                        float tmp_178928 = ((float *) mem_param_180819.mem)[slice_178925];
                                        
                                        loopres_178907 = i_178875;
                                        loopres_178908 = tmp_178926;
                                        loopres_178909 = tmp_178927;
                                        loopres_178910 = tmp_178928;
                                    }
                                    ((int8_t *) mem_180922.mem)[k_178874] = loopres_178908;
                                    ((int64_t *) mem_180924.mem)[k_178874] = loopres_178909;
                                    ((float *) mem_180926.mem)[k_178874] = loopres_178910;
                                    
                                    int64_t i_tmp_181776 = loopres_178907;
                                    
                                    i_178875 = i_tmp_181776;
                                }
                                data_178870 = i_178875;
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180922, "mem_180922") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180924, "mem_180924") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180926, "mem_180926") != 0)
                                    return 1;
                            } else {
                                if (mem_180841_cached_sizze_182112 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180841, &mem_180841_cached_sizze_182112, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180843_cached_sizze_182113 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180843, &mem_180843_cached_sizze_182113, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179975 = 0; i_179975 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783; i_179975++) {
                                    int64_t split_count_arg3_178936 = mul64(merge_block_sizze_178572, i_179975);
                                    int64_t defunc_0_split_count_res_178937;
                                    int64_t defunc_0_split_count_res_178938;
                                    int64_t defunc_0_split_count_res_178939;
                                    int64_t defunc_0_split_count_res_178940;
                                    int64_t defunc_0_split_count_res_178941;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_178937, &defunc_0_split_count_res_178938, &defunc_0_split_count_res_178939, &defunc_0_split_count_res_178940, &defunc_0_split_count_res_178941, (int64_t) 0, stride_178762, (int64_t) 0, j_m_i_178784, split_count_arg3_178936) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178942 = slt64((int64_t) 0, defunc_0_split_count_res_178941);
                                    bool defunc_0_split_count_res_178943;
                                    int64_t defunc_0_split_count_res_178944;
                                    int64_t defunc_0_split_count_res_178945;
                                    int64_t defunc_0_split_count_res_178946;
                                    int64_t defunc_0_split_count_res_178947;
                                    int64_t defunc_0_split_count_res_178948;
                                    bool loop_while_178949;
                                    int64_t ss_178950;
                                    int64_t ss_178951;
                                    int64_t tt_178952;
                                    int64_t tt_178953;
                                    int64_t count_178954;
                                    
                                    loop_while_178949 = loop_cond_178942;
                                    ss_178950 = defunc_0_split_count_res_178937;
                                    ss_178951 = defunc_0_split_count_res_178938;
                                    tt_178952 = defunc_0_split_count_res_178939;
                                    tt_178953 = defunc_0_split_count_res_178940;
                                    count_178954 = defunc_0_split_count_res_178941;
                                    while (loop_while_178949) {
                                        int64_t zlze_lhs_178955 = sub64(ss_178951, ss_178950);
                                        bool cond_178956 = sle64(zlze_lhs_178955, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178957;
                                        int64_t defunc_0_lifted_step_res_178958;
                                        int64_t defunc_0_lifted_step_res_178959;
                                        int64_t defunc_0_lifted_step_res_178960;
                                        
                                        if (cond_178956) {
                                            int64_t tmp_178961 = add64(tt_178952, count_178954);
                                            
                                            defunc_0_lifted_step_res_178957 = ss_178950;
                                            defunc_0_lifted_step_res_178958 = tmp_178961;
                                            defunc_0_lifted_step_res_178959 = tt_178953;
                                            defunc_0_lifted_step_res_178960 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178962 = sub64(tt_178953, tt_178952);
                                            bool cond_178963 = sle64(zlze_lhs_178962, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178964;
                                            int64_t defunc_0_lifted_step_res_f_res_178965;
                                            int64_t defunc_0_lifted_step_res_f_res_178966;
                                            int64_t defunc_0_lifted_step_res_f_res_178967;
                                            
                                            if (cond_178963) {
                                                int64_t tmp_178968 = add64(ss_178950, count_178954);
                                                
                                                defunc_0_lifted_step_res_f_res_178964 = tmp_178968;
                                                defunc_0_lifted_step_res_f_res_178965 = tt_178952;
                                                defunc_0_lifted_step_res_f_res_178966 = tt_178953;
                                                defunc_0_lifted_step_res_f_res_178967 = (int64_t) 0;
                                            } else {
                                                bool cond_178969 = count_178954 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178970;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178971;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178972;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178973;
                                                
                                                if (cond_178969) {
                                                    bool x_178974 = sle64((int64_t) 0, ss_178950);
                                                    bool y_178975 = slt64(ss_178950, stride_178762);
                                                    bool bounds_check_178976 = x_178974 && y_178975;
                                                    bool index_certs_178977;
                                                    
                                                    if (!bounds_check_178976) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178950, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178982 = sle64((int64_t) 0, tt_178952);
                                                    bool y_178983 = slt64(tt_178952, j_m_i_178784);
                                                    bool bounds_check_178984 = x_178982 && y_178983;
                                                    bool index_certs_178985;
                                                    
                                                    if (!bounds_check_178984) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178952, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178978 = start_178835 + ss_178950;
                                                    int8_t leq_arg1_178979 = ((int8_t *) mem_param_180813.mem)[slice_178978];
                                                    int64_t leq_arg1_178980 = ((int64_t *) mem_param_180816.mem)[slice_178978];
                                                    float leq_arg1_178981 = ((float *) mem_param_180819.mem)[slice_178978];
                                                    int64_t slice_178986 = stride_178762 + tt_178952;
                                                    int64_t slice_178987 = start_178835 + slice_178986;
                                                    int8_t leq_arg0_178988 = ((int8_t *) mem_param_180813.mem)[slice_178987];
                                                    int64_t leq_arg0_178989 = ((int64_t *) mem_param_180816.mem)[slice_178987];
                                                    float leq_arg0_178990 = ((float *) mem_param_180819.mem)[slice_178987];
                                                    bool cond_178991 = leq_arg0_178988 == leq_arg1_178979;
                                                    bool defunc_0_leq_res_t_res_178992 = sle64(leq_arg0_178989, leq_arg1_178980);
                                                    bool defunc_0_leq_res_178993 = leq_arg0_178990 <= leq_arg1_178981;
                                                    bool x_178994 = cond_178991 && defunc_0_leq_res_t_res_178992;
                                                    bool x_178995 = !cond_178991;
                                                    bool y_178996 = defunc_0_leq_res_178993 && x_178995;
                                                    bool defunc_0_leq_res_178997 = x_178994 || y_178996;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    
                                                    if (defunc_0_leq_res_178997) {
                                                        int64_t tmp_179000 = add64((int64_t) 1, tt_178952);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = ss_178950;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tmp_179000;
                                                    } else {
                                                        int64_t tmp_179001 = add64((int64_t) 1, ss_178950);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = tmp_179001;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tt_178952;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = tt_178953;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179002 = sdiv64(count_178954, (int64_t) 2);
                                                    int64_t n_179003 = sub64(count_178954, m_179002);
                                                    bool cond_179004 = n_179003 == (int64_t) 0;
                                                    int64_t zgze_lhs_179005 = add64(ss_178950, m_179002);
                                                    bool cond_f_res_179006 = sle64(ss_178951, zgze_lhs_179005);
                                                    bool x_179007 = !cond_179004;
                                                    bool y_179008 = cond_f_res_179006 && x_179007;
                                                    bool cond_179009 = cond_179004 || y_179008;
                                                    bool leq_y_x_179010;
                                                    
                                                    if (cond_179009) {
                                                        leq_y_x_179010 = 1;
                                                    } else {
                                                        bool x_179011 = sle64((int64_t) 0, zgze_lhs_179005);
                                                        bool y_179012 = slt64(zgze_lhs_179005, stride_178762);
                                                        bool bounds_check_179013 = x_179011 && y_179012;
                                                        bool index_certs_179014;
                                                        
                                                        if (!bounds_check_179013) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179005, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179019 = add64(tt_178952, n_179003);
                                                        int64_t leq_arg0_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                                                        bool x_179021 = sle64((int64_t) 0, leq_arg0_179020);
                                                        bool y_179022 = slt64(leq_arg0_179020, j_m_i_178784);
                                                        bool bounds_check_179023 = x_179021 && y_179022;
                                                        bool index_certs_179024;
                                                        
                                                        if (!bounds_check_179023) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179020, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179015 = start_178835 + zgze_lhs_179005;
                                                        int8_t leq_arg1_179016 = ((int8_t *) mem_param_180813.mem)[slice_179015];
                                                        int64_t leq_arg1_179017 = ((int64_t *) mem_param_180816.mem)[slice_179015];
                                                        float leq_arg1_179018 = ((float *) mem_param_180819.mem)[slice_179015];
                                                        int64_t slice_179025 = stride_178762 + leq_arg0_179020;
                                                        int64_t slice_179026 = start_178835 + slice_179025;
                                                        int8_t leq_arg0_179027 = ((int8_t *) mem_param_180813.mem)[slice_179026];
                                                        int64_t leq_arg0_179028 = ((int64_t *) mem_param_180816.mem)[slice_179026];
                                                        float leq_arg0_179029 = ((float *) mem_param_180819.mem)[slice_179026];
                                                        bool cond_179030 = leq_arg0_179027 == leq_arg1_179016;
                                                        bool defunc_0_leq_res_t_res_179031 = sle64(leq_arg0_179028, leq_arg1_179017);
                                                        bool defunc_0_leq_res_179032 = leq_arg0_179029 <= leq_arg1_179018;
                                                        bool x_179033 = cond_179030 && defunc_0_leq_res_t_res_179031;
                                                        bool x_179034 = !cond_179030;
                                                        bool y_179035 = defunc_0_leq_res_179032 && x_179034;
                                                        bool defunc_0_leq_res_179036 = x_179033 || y_179035;
                                                        
                                                        leq_y_x_179010 = defunc_0_leq_res_179036;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                    
                                                    if (leq_y_x_179010) {
                                                        int64_t tmp_179040 = add64(tt_178952, n_179003);
                                                        int64_t tmp_179041 = sub64(count_178954, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tmp_179040;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tt_178953;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = tmp_179041;
                                                    } else {
                                                        int64_t tmp_179042 = add64(tt_178952, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tt_178952;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tmp_179042;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = count_178954;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = ss_178950;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                }
                                                defunc_0_lifted_step_res_f_res_178964 = defunc_0_lifted_step_res_f_res_f_res_178970;
                                                defunc_0_lifted_step_res_f_res_178965 = defunc_0_lifted_step_res_f_res_f_res_178971;
                                                defunc_0_lifted_step_res_f_res_178966 = defunc_0_lifted_step_res_f_res_f_res_178972;
                                                defunc_0_lifted_step_res_f_res_178967 = defunc_0_lifted_step_res_f_res_f_res_178973;
                                            }
                                            defunc_0_lifted_step_res_178957 = defunc_0_lifted_step_res_f_res_178964;
                                            defunc_0_lifted_step_res_178958 = defunc_0_lifted_step_res_f_res_178965;
                                            defunc_0_lifted_step_res_178959 = defunc_0_lifted_step_res_f_res_178966;
                                            defunc_0_lifted_step_res_178960 = defunc_0_lifted_step_res_f_res_178967;
                                        }
                                        
                                        int64_t loopres_179043;
                                        int64_t loopres_179044;
                                        int64_t loopres_179045;
                                        int64_t loopres_179046;
                                        int64_t loopres_179047;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_179043, &loopres_179044, &loopres_179045, &loopres_179046, &loopres_179047, defunc_0_lifted_step_res_178957, ss_178951, defunc_0_lifted_step_res_178958, defunc_0_lifted_step_res_178959, defunc_0_lifted_step_res_178960) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179048 = slt64((int64_t) 0, loopres_179047);
                                        bool loop_while_tmp_181782 = loop_cond_179048;
                                        int64_t ss_tmp_181783 = loopres_179043;
                                        int64_t ss_tmp_181784 = loopres_179044;
                                        int64_t tt_tmp_181785 = loopres_179045;
                                        int64_t tt_tmp_181786 = loopres_179046;
                                        int64_t count_tmp_181787 = loopres_179047;
                                        
                                        loop_while_178949 = loop_while_tmp_181782;
                                        ss_178950 = ss_tmp_181783;
                                        ss_178951 = ss_tmp_181784;
                                        tt_178952 = tt_tmp_181785;
                                        tt_178953 = tt_tmp_181786;
                                        count_178954 = count_tmp_181787;
                                    }
                                    defunc_0_split_count_res_178943 = loop_while_178949;
                                    defunc_0_split_count_res_178944 = ss_178950;
                                    defunc_0_split_count_res_178945 = ss_178951;
                                    defunc_0_split_count_res_178946 = tt_178952;
                                    defunc_0_split_count_res_178947 = tt_178953;
                                    defunc_0_split_count_res_178948 = count_178954;
                                    ((int64_t *) mem_180841)[i_179975] = defunc_0_split_count_res_178944;
                                    ((int64_t *) mem_180843)[i_179975] = defunc_0_split_count_res_178946;
                                }
                                if (mem_180857_cached_sizze_182114 < flat_dim_178785) {
                                    err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182114, flat_dim_178785);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180860_cached_sizze_182115 < bytes_180859) {
                                    err = lexical_realloc(ctx, &mem_180860, &mem_180860_cached_sizze_182115, bytes_180859);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180863_cached_sizze_182116 < bytes_180862) {
                                    err = lexical_realloc(ctx, &mem_180863, &mem_180863_cached_sizze_182116, bytes_180862);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179984 = 0; i_179984 < num_blocks_178782; i_179984++) {
                                    bool y_179057 = slt64(i_179984, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool index_certs_179059;
                                    
                                    if (!y_179057) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179984, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179060 = ((int64_t *) mem_180841)[i_179984];
                                    int64_t defunc_0_f_res_179061 = ((int64_t *) mem_180843)[i_179984];
                                    int64_t tmp_179062 = add64((int64_t) 1, i_179984);
                                    bool x_179063 = sle64((int64_t) 0, tmp_179062);
                                    bool y_179064 = slt64(tmp_179062, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool bounds_check_179065 = x_179063 && y_179064;
                                    bool index_certs_179066;
                                    
                                    if (!bounds_check_179065) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179062, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179067 = ((int64_t *) mem_180841)[tmp_179062];
                                    int64_t defunc_0_f_res_179068 = ((int64_t *) mem_180843)[tmp_179062];
                                    int64_t merge_sequential_arg2_179069 = add64(stride_178762, defunc_0_f_res_179061);
                                    int64_t merge_sequential_arg2_179070 = add64(stride_178762, defunc_0_f_res_179068);
                                    int64_t j_m_i_179071 = sub64(merge_sequential_arg2_179070, merge_sequential_arg2_179069);
                                    bool empty_slice_179072 = j_m_i_179071 == (int64_t) 0;
                                    int64_t m_179073 = sub64(j_m_i_179071, (int64_t) 1);
                                    int64_t i_p_m_t_s_179074 = add64(merge_sequential_arg2_179069, m_179073);
                                    bool zzero_leq_i_p_m_t_s_179075 = sle64((int64_t) 0, i_p_m_t_s_179074);
                                    bool i_p_m_t_s_leq_w_179076 = slt64(i_p_m_t_s_179074, next_stride_178763);
                                    bool zzero_lte_i_179077 = sle64((int64_t) 0, merge_sequential_arg2_179069);
                                    bool i_lte_j_179078 = sle64(merge_sequential_arg2_179069, merge_sequential_arg2_179070);
                                    bool y_179079 = i_p_m_t_s_leq_w_179076 && zzero_lte_i_179077;
                                    bool y_179080 = zzero_leq_i_p_m_t_s_179075 && y_179079;
                                    bool forwards_ok_179081 = i_lte_j_179078 && y_179080;
                                    bool ok_or_empty_179082 = empty_slice_179072 || forwards_ok_179081;
                                    bool index_certs_179083;
                                    
                                    if (!ok_or_empty_179082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179069, ":", (long long) merge_sequential_arg2_179070, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179084 = sub64(defunc_0_f_res_179067, defunc_0_f_res_179060);
                                    bool empty_slice_179085 = j_m_i_179084 == (int64_t) 0;
                                    int64_t m_179086 = sub64(j_m_i_179084, (int64_t) 1);
                                    int64_t i_p_m_t_s_179087 = add64(defunc_0_f_res_179060, m_179086);
                                    bool zzero_leq_i_p_m_t_s_179088 = sle64((int64_t) 0, i_p_m_t_s_179087);
                                    bool i_p_m_t_s_leq_w_179089 = slt64(i_p_m_t_s_179087, next_stride_178763);
                                    bool zzero_lte_i_179090 = sle64((int64_t) 0, defunc_0_f_res_179060);
                                    bool i_lte_j_179091 = sle64(defunc_0_f_res_179060, defunc_0_f_res_179067);
                                    bool y_179092 = i_p_m_t_s_leq_w_179089 && zzero_lte_i_179090;
                                    bool y_179093 = zzero_leq_i_p_m_t_s_179088 && y_179092;
                                    bool forwards_ok_179094 = i_lte_j_179091 && y_179093;
                                    bool ok_or_empty_179095 = empty_slice_179085 || forwards_ok_179094;
                                    bool index_certs_179096;
                                    
                                    if (!ok_or_empty_179095) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179060, ":", (long long) defunc_0_f_res_179067, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179097 = slt64((int64_t) 0, j_m_i_179084);
                                    int8_t dummy_179098;
                                    int64_t dummy_179099;
                                    float dummy_179100;
                                    
                                    if (cond_179097) {
                                        bool index_certs_179101;
                                        
                                        if (!cond_179097) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179102 = start_178835 + defunc_0_f_res_179060;
                                        int8_t head_res_179103 = ((int8_t *) mem_param_180813.mem)[slice_179102];
                                        int64_t head_res_179104 = ((int64_t *) mem_param_180816.mem)[slice_179102];
                                        float head_res_179105 = ((float *) mem_param_180819.mem)[slice_179102];
                                        
                                        dummy_179098 = head_res_179103;
                                        dummy_179099 = head_res_179104;
                                        dummy_179100 = head_res_179105;
                                    } else {
                                        bool y_179106 = slt64((int64_t) 0, j_m_i_179071);
                                        bool index_certs_179107;
                                        
                                        if (!y_179106) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179108 = start_178835 + merge_sequential_arg2_179069;
                                        int8_t head_res_179109 = ((int8_t *) mem_param_180813.mem)[slice_179108];
                                        int64_t head_res_179110 = ((int64_t *) mem_param_180816.mem)[slice_179108];
                                        float head_res_179111 = ((float *) mem_param_180819.mem)[slice_179108];
                                        
                                        dummy_179098 = head_res_179109;
                                        dummy_179099 = head_res_179110;
                                        dummy_179100 = head_res_179111;
                                    }
                                    for (int64_t nest_i_181791 = 0; nest_i_181791 < merge_block_sizze_178572; nest_i_181791++) {
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + nest_i_181791] = dummy_179098;
                                    }
                                    for (int64_t nest_i_181792 = 0; nest_i_181792 < merge_block_sizze_178572; nest_i_181792++) {
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + nest_i_181792] = dummy_179099;
                                    }
                                    for (int64_t nest_i_181793 = 0; nest_i_181793 < merge_block_sizze_178572; nest_i_181793++) {
                                        ((float *) mem_180863)[i_179984 * merge_block_sizze_178572 + nest_i_181793] = dummy_179100;
                                    }
                                    
                                    int64_t data_179115;
                                    int64_t i_179120 = (int64_t) 0;
                                    
                                    for (int64_t k_179119 = 0; k_179119 < merge_block_sizze_178572; k_179119++) {
                                        int64_t j_179124 = sub64(k_179119, i_179120);
                                        bool cond_179125 = j_179124 == j_m_i_179071;
                                        bool cond_179126;
                                        
                                        if (cond_179125) {
                                            cond_179126 = 1;
                                        } else {
                                            bool cond_179127 = slt64(i_179120, j_m_i_179084);
                                            bool cond_f_res_179128;
                                            
                                            if (cond_179127) {
                                                bool x_179129 = sle64((int64_t) 0, j_179124);
                                                bool y_179130 = slt64(j_179124, j_m_i_179071);
                                                bool bounds_check_179131 = x_179129 && y_179130;
                                                bool index_certs_179132;
                                                
                                                if (!bounds_check_179131) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179138 = sle64((int64_t) 0, i_179120);
                                                bool bounds_check_179139 = cond_179127 && x_179138;
                                                bool index_certs_179140;
                                                
                                                if (!bounds_check_179139) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179133 = merge_sequential_arg2_179069 + j_179124;
                                                int64_t slice_179134 = start_178835 + slice_179133;
                                                int8_t leq_arg1_179135 = ((int8_t *) mem_param_180813.mem)[slice_179134];
                                                int64_t leq_arg1_179136 = ((int64_t *) mem_param_180816.mem)[slice_179134];
                                                float leq_arg1_179137 = ((float *) mem_param_180819.mem)[slice_179134];
                                                int64_t slice_179141 = defunc_0_f_res_179060 + i_179120;
                                                int64_t slice_179142 = start_178835 + slice_179141;
                                                int8_t leq_arg0_179143 = ((int8_t *) mem_param_180813.mem)[slice_179142];
                                                int64_t leq_arg0_179144 = ((int64_t *) mem_param_180816.mem)[slice_179142];
                                                float leq_arg0_179145 = ((float *) mem_param_180819.mem)[slice_179142];
                                                bool cond_179146 = leq_arg0_179143 == leq_arg1_179135;
                                                bool defunc_0_leq_res_t_res_179147 = sle64(leq_arg0_179144, leq_arg1_179136);
                                                bool defunc_0_leq_res_179148 = leq_arg0_179145 <= leq_arg1_179137;
                                                bool x_179149 = cond_179146 && defunc_0_leq_res_t_res_179147;
                                                bool x_179150 = !cond_179146;
                                                bool y_179151 = defunc_0_leq_res_179148 && x_179150;
                                                bool defunc_0_leq_res_179152 = x_179149 || y_179151;
                                                
                                                cond_f_res_179128 = defunc_0_leq_res_179152;
                                            } else {
                                                cond_f_res_179128 = 0;
                                            }
                                            cond_179126 = cond_f_res_179128;
                                        }
                                        
                                        int64_t loopres_179153;
                                        int8_t loopres_179154;
                                        int64_t loopres_179155;
                                        float loopres_179156;
                                        
                                        if (cond_179126) {
                                            bool x_179158 = sle64((int64_t) 0, i_179120);
                                            bool y_179159 = slt64(i_179120, j_m_i_179084);
                                            bool bounds_check_179160 = x_179158 && y_179159;
                                            bool index_certs_179161;
                                            
                                            if (!bounds_check_179160) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179157 = add64((int64_t) 1, i_179120);
                                            int64_t slice_179162 = defunc_0_f_res_179060 + i_179120;
                                            int64_t slice_179163 = start_178835 + slice_179162;
                                            int8_t tmp_179164 = ((int8_t *) mem_param_180813.mem)[slice_179163];
                                            int64_t tmp_179165 = ((int64_t *) mem_param_180816.mem)[slice_179163];
                                            float tmp_179166 = ((float *) mem_param_180819.mem)[slice_179163];
                                            
                                            loopres_179153 = tmp_179157;
                                            loopres_179154 = tmp_179164;
                                            loopres_179155 = tmp_179165;
                                            loopres_179156 = tmp_179166;
                                        } else {
                                            bool x_179167 = sle64((int64_t) 0, j_179124);
                                            bool y_179168 = slt64(j_179124, j_m_i_179071);
                                            bool bounds_check_179169 = x_179167 && y_179168;
                                            bool index_certs_179170;
                                            
                                            if (!bounds_check_179169) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179171 = merge_sequential_arg2_179069 + j_179124;
                                            int64_t slice_179172 = start_178835 + slice_179171;
                                            int8_t tmp_179173 = ((int8_t *) mem_param_180813.mem)[slice_179172];
                                            int64_t tmp_179174 = ((int64_t *) mem_param_180816.mem)[slice_179172];
                                            float tmp_179175 = ((float *) mem_param_180819.mem)[slice_179172];
                                            
                                            loopres_179153 = i_179120;
                                            loopres_179154 = tmp_179173;
                                            loopres_179155 = tmp_179174;
                                            loopres_179156 = tmp_179175;
                                        }
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179154;
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179155;
                                        ((float *) mem_180863)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179156;
                                        
                                        int64_t i_tmp_181794 = loopres_179153;
                                        
                                        i_179120 = i_tmp_181794;
                                    }
                                    data_179115 = i_179120;
                                }
                                if (memblock_alloc(ctx, &mem_180912, flat_dim_178785, "mem_180912")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180912.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint8_t *) mem_180857, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180916, bytes_180859, "mem_180916")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180916.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint64_t *) mem_180860, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180920, bytes_180862, "mem_180920")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180920.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint32_t *) mem_180863, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180912, "mem_180912") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180916, "mem_180916") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180920, "mem_180920") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180821, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180953.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180824, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180950.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180827, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180947.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180967, bytes_180820, "mem_180967")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180967.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint8_t *) mem_180821, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180971, bytes_180823, "mem_180971")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180971.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint64_t *) mem_180824, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180975, bytes_180826, "mem_180975")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180975.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint32_t *) mem_180827, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        
                        bool loop_cond_179195 = slt64(next_stride_178763, flat_dim_178567);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181761, &mem_180967, "mem_180967") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181762, &mem_180971, "mem_180971") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181763, &mem_180975, "mem_180975") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181764 = bytes_180820;
                        bool loop_while_tmp_181765 = loop_cond_179195;
                        int64_t stride_tmp_181769 = next_stride_178763;
                        
                        if (memblock_set(ctx, &mem_param_180813, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180816, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180819, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178757 = loop_dz2084Uz2082U_tmp_181764;
                        loop_while_178758 = loop_while_tmp_181765;
                        stride_178762 = stride_tmp_181769;
                    }
                    if (memblock_set(ctx, &ext_mem_180985, &mem_param_180813, "mem_param_180813") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180984, &mem_param_180816, "mem_param_180816") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180983, &mem_param_180819, "mem_param_180819") != 0)
                        return 1;
                    data_178751 = loop_dz2084Uz2082U_178757;
                    data_178752 = loop_while_178758;
                    data_178756 = stride_178762;
                    if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
                        return 1;
                    
                    bool empty_slice_179196 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179197 = sle64((int64_t) 0, zs_lhs_178551);
                    bool i_p_m_t_s_leq_w_179198 = slt64(zs_lhs_178551, data_178751);
                    bool y_179199 = zzero_leq_i_p_m_t_s_179197 && i_p_m_t_s_leq_w_179198;
                    bool ok_or_empty_179200 = empty_slice_179196 || y_179199;
                    bool index_certs_179201;
                    
                    if (!ok_or_empty_179200) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] out of bounds for array of shape [", (long long) data_178751, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180994, &ext_mem_180985, "ext_mem_180985") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &ext_mem_180984, "ext_mem_180984") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &ext_mem_180983, "ext_mem_180983") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180661, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180994.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180664, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180991.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180667, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180988.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
                    return 1;
                for (int64_t i_180000 = 0; i_180000 < perThread_174828; i_180000++) {
                    int64_t lifted_lambda_res_179223 = add64(zm_rhs_178507, i_180000);
                    
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + i_180000] = lifted_lambda_res_179223;
                }
                
                bool cond_179225 = card_178508 == zp_rhs_174827;
                
                if (cond_179225) {
                    bool y_179227 = slt64(card_178508, perThread_174828);
                    bool index_certs_179228;
                    
                    if (!y_179227) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + card_178508] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181020, bytes_180315, "mem_181020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181799 = 0; nest_i_181799 < window_sizze_152003; nest_i_181799++) {
                ((float *) mem_181020.mem)[nest_i_181799] = 0.0F;
            }
            if (memblock_alloc(ctx, &mem_181022, bytes_180313, "mem_181022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181800 = 0; nest_i_181800 < window_sizze_152003; nest_i_181800++) {
                ((int64_t *) mem_181022.mem)[nest_i_181800] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181023, window_sizze_152003, "mem_181023")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181801 = 0; nest_i_181801 < window_sizze_152003; nest_i_181801++) {
                ((int8_t *) mem_181023.mem)[nest_i_181801] = (int8_t) -1;
            }
            for (int64_t write_iter_180015 = 0; write_iter_180015 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829; write_iter_180015++) {
                int64_t new_index_180167 = squot64(write_iter_180015, perThread_174828);
                int64_t binop_y_180169 = perThread_174828 * new_index_180167;
                int64_t new_index_180170 = write_iter_180015 - binop_y_180169;
                int64_t write_iv_180019 = ((int64_t *) mem_180659)[new_index_180167 * perThread_174828 + new_index_180170];
                int8_t write_iv_180020 = ((int8_t *) mem_180661)[new_index_180167 * perThread_174828 + new_index_180170];
                int64_t write_iv_180021 = ((int64_t *) mem_180664)[new_index_180167 * perThread_174828 + new_index_180170];
                float write_iv_180022 = ((float *) mem_180667)[new_index_180167 * perThread_174828 + new_index_180170];
                
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_152003)) {
                    ((int8_t *) mem_181023.mem)[write_iv_180019] = write_iv_180020;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_152003)) {
                    ((int64_t *) mem_181022.mem)[write_iv_180019] = write_iv_180021;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_152003)) {
                    ((float *) mem_181020.mem)[write_iv_180019] = write_iv_180022;
                }
            }
            
            int64_t index_concat_branch_179251;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179252 = ((int64_t *) mem_180642)[index_concat_i_177592];
                
                index_concat_branch_179251 = index_concat_179252;
            } else {
                index_concat_branch_179251 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179253;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179254 = ((int64_t *) mem_180644)[index_concat_i_177592];
                
                index_concat_branch_179253 = index_concat_179254;
            } else {
                index_concat_branch_179253 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_181023, "mem_181023") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_181022, "mem_181022") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_181020, "mem_181020") != 0)
                return 1;
            loopres_174818 = index_concat_branch_179251;
            loopres_174819 = index_concat_branch_179253;
        } else {
            float leq_lhs_175809 = ((float *) a_list_mem_180280.mem)[p_174790];
            float leq_rhs_175812 = ((float *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_175813 = leq_lhs_175809 <= leq_rhs_175812;
            float lowest_175814;
            
            if (defunc_0_leq_res_175813) {
                bool index_certs_179255;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_lhs_175809;
            } else {
                bool index_certs_175819;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_rhs_175812;
            }
            if (mem_180297_cached_sizze_182081 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182081, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180299_cached_sizze_182082 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182082, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180030 = 0; i_180030 < threads_152004; i_180030++) {
                int64_t index_primexp_180246 = add64((int64_t) 1, i_180030);
                int64_t zs_lhs_175835 = mul64(zt_rhs_175828, index_primexp_180246);
                int64_t index_175836 = sdiv64(zs_lhs_175835, partitionFunc_arg0_175805);
                bool cond_175837 = slt64(window_sizze_152003, index_175836);
                int64_t loop_over_175838;
                
                if (cond_175837) {
                    loop_over_175838 = window_sizze_152003;
                } else {
                    loop_over_175838 = index_175836;
                }
                
                int64_t loop_over_175839;
                
                if (cond_175837) {
                    int64_t loop_over_t_res_179256 = sub64(index_175836, window_sizze_152003);
                    
                    loop_over_175839 = loop_over_t_res_179256;
                } else {
                    loop_over_175839 = (int64_t) 0;
                }
                
                int64_t loop_over_175841;
                
                if (cond_175837) {
                    int64_t zm_lhs_179257 = sub64(index_175836, window_sizze_152003);
                    int64_t loop_over_t_res_179258 = sub64(zm_lhs_179257, (int64_t) 1);
                    
                    loop_over_175841 = loop_over_t_res_179258;
                } else {
                    loop_over_175841 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175844;
                int64_t defunc_0_f_res_175845;
                int64_t defunc_0_f_res_175846;
                int64_t defunc_0_f_res_175847;
                bool loop_while_175848;
                int64_t p_175849;
                int64_t p_175850;
                int64_t p_175851;
                
                loop_while_175848 = 1;
                p_175849 = loop_over_175841;
                p_175850 = loop_over_175838;
                p_175851 = loop_over_175839;
                while (loop_while_175848) {
                    int64_t zs_lhs_175852 = sub64(p_175850, p_175849);
                    int64_t offset_175853 = sdiv64(zs_lhs_175852, (int64_t) 2);
                    int64_t ai_175854 = sub64(p_175850, offset_175853);
                    int64_t max_arg1_175855 = add64(p_175851, offset_175853);
                    int64_t max_res_175856 = smax64((int64_t) 0, max_arg1_175855);
                    bool cond_175857 = slt64((int64_t) 0, max_res_175856);
                    float b_prev_175858;
                    
                    if (cond_175857) {
                        int64_t tmp_179259 = sub64(max_res_175856, (int64_t) 1);
                        bool x_179260 = sle64((int64_t) 0, tmp_179259);
                        bool y_179261 = slt64(tmp_179259, window_sizze_152003);
                        bool bounds_check_179262 = x_179260 && y_179261;
                        bool index_certs_179263;
                        
                        if (!bounds_check_179262) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179259, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179264 = p_174791 + tmp_179259;
                        float b_prev_t_res_179265 = ((float *) b_list_mem_180281.mem)[slice_179264];
                        
                        b_prev_175858 = b_prev_t_res_179265;
                    } else {
                        b_prev_175858 = lowest_175814;
                    }
                    
                    bool cond_175865 = sle64(ai_175854, (int64_t) 0);
                    int64_t loopres_175866;
                    int64_t loopres_175867;
                    int64_t loopres_175868;
                    bool loopres_175869;
                    
                    if (cond_175865) {
                        loopres_175866 = p_175849;
                        loopres_175867 = (int64_t) 0;
                        loopres_175868 = max_res_175856;
                        loopres_175869 = 0;
                    } else {
                        bool cond_175870 = sle64(window_sizze_152003, max_res_175856);
                        int64_t loopres_f_res_175871;
                        int64_t loopres_f_res_175872;
                        int64_t loopres_f_res_175873;
                        bool loopres_f_res_175874;
                        
                        if (cond_175870) {
                            int64_t min_res_179267 = smin64(m_174779, ai_175854);
                            bool x_179268 = sle64((int64_t) 0, m_174779);
                            bool y_179269 = slt64(m_174779, window_sizze_152003);
                            bool bounds_check_179270 = x_179268 && y_179269;
                            bool index_certs_179271;
                            
                            if (!bounds_check_179270) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179274 = sle64((int64_t) 0, min_res_179267);
                            bool y_179275 = slt64(min_res_179267, window_sizze_152003);
                            bool bounds_check_179276 = x_179274 && y_179275;
                            bool index_certs_179277;
                            
                            if (!bounds_check_179276) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179267, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_179273 = ((float *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_179278 = p_174790 + min_res_179267;
                            float leq_rhs_179279 = ((float *) a_list_mem_180280.mem)[slice_179278];
                            bool defunc_0_leq_res_179280 = leq_lhs_179273 <= leq_rhs_179279;
                            int64_t loopres_f_res_t_res_179281;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179281 = ai_175854;
                            } else {
                                loopres_f_res_t_res_179281 = p_175850;
                            }
                            
                            bool x_179282 = !defunc_0_leq_res_179280;
                            int64_t loopres_f_res_t_res_179283;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179283 = window_sizze_152003;
                            } else {
                                int64_t tmp_179284 = sub64(m_174779, offset_175853);
                                
                                loopres_f_res_t_res_179283 = tmp_179284;
                            }
                            loopres_f_res_175871 = p_175849;
                            loopres_f_res_175872 = loopres_f_res_t_res_179281;
                            loopres_f_res_175873 = loopres_f_res_t_res_179283;
                            loopres_f_res_175874 = x_179282;
                        } else {
                            bool cond_175892 = sle64(window_sizze_152003, ai_175854);
                            int64_t loopres_f_res_f_res_175893;
                            int64_t loopres_f_res_f_res_175894;
                            int64_t loopres_f_res_f_res_175895;
                            bool loopres_f_res_f_res_175896;
                            
                            if (cond_175892) {
                                int64_t min_res_179286 = smin64(m_174779, max_res_175856);
                                bool x_179287 = sle64((int64_t) 0, m_174779);
                                bool y_179288 = slt64(m_174779, window_sizze_152003);
                                bool bounds_check_179289 = x_179287 && y_179288;
                                bool index_certs_179290;
                                
                                if (!bounds_check_179289) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179293 = sle64((int64_t) 0, min_res_179286);
                                bool y_179294 = slt64(min_res_179286, window_sizze_152003);
                                bool bounds_check_179295 = x_179293 && y_179294;
                                bool index_certs_179296;
                                
                                if (!bounds_check_179295) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179286, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_179292 = ((float *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_179297 = p_174791 + min_res_179286;
                                float leq_rhs_179298 = ((float *) b_list_mem_180281.mem)[slice_179297];
                                bool defunc_0_leq_res_179299 = leq_lhs_179292 <= leq_rhs_179298;
                                int64_t loopres_f_res_f_res_t_res_179300;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179300 = max_res_175856;
                                } else {
                                    loopres_f_res_f_res_t_res_179300 = p_175851;
                                }
                                
                                bool x_179301 = !defunc_0_leq_res_179299;
                                int64_t loopres_f_res_f_res_t_res_179302;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179302 = window_sizze_152003;
                                } else {
                                    loopres_f_res_f_res_t_res_179302 = m_174779;
                                }
                                loopres_f_res_f_res_175893 = p_175849;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_t_res_179302;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_t_res_179300;
                                loopres_f_res_f_res_175896 = x_179301;
                            } else {
                                bool cond_175913 = sle64(p_175850, p_175849);
                                int64_t loopres_f_res_f_res_f_res_175914;
                                int64_t loopres_f_res_f_res_f_res_175915;
                                int64_t loopres_f_res_f_res_f_res_175916;
                                bool loopres_f_res_f_res_f_res_175917;
                                
                                if (cond_175913) {
                                    bool cond_179341 = slt64(ai_175854, window_sizze_152003);
                                    int64_t ai_179342;
                                    
                                    if (cond_179341) {
                                        ai_179342 = ai_175854;
                                    } else {
                                        ai_179342 = m_174779;
                                    }
                                    
                                    bool x_179355 = sle64((int64_t) 0, ai_179342);
                                    bool y_179356 = slt64(ai_179342, window_sizze_152003);
                                    bool bounds_check_179357 = x_179355 && y_179356;
                                    bool index_certs_179358;
                                    
                                    if (!bounds_check_179357) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179342, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_179344;
                                    
                                    if (cond_175857) {
                                        int64_t tmp_179345 = sub64(max_res_175856, (int64_t) 1);
                                        bool x_179346 = sle64((int64_t) 0, tmp_179345);
                                        bool y_179347 = slt64(tmp_179345, window_sizze_152003);
                                        bool bounds_check_179348 = x_179346 && y_179347;
                                        bool index_certs_179349;
                                        
                                        if (!bounds_check_179348) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179345, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179350 = p_174791 + tmp_179345;
                                        float b_prev_t_res_179351 = ((float *) b_list_mem_180281.mem)[slice_179350];
                                        
                                        b_prev_179344 = b_prev_t_res_179351;
                                    } else {
                                        bool index_certs_179353;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179344 = leq_rhs_175812;
                                    }
                                    
                                    int64_t slice_179359 = p_174790 + ai_179342;
                                    float gt_lhs_179360 = ((float *) a_list_mem_180280.mem)[slice_179359];
                                    bool defunc_0_gt_res_179361 = b_prev_179344 < gt_lhs_179360;
                                    int64_t defunc_0_partFunc_sequential_search_res_179362;
                                    int64_t defunc_0_partFunc_sequential_search_res_179363;
                                    
                                    if (defunc_0_gt_res_179361) {
                                        int64_t zl_rhs_179364 = sub64(window_sizze_152003, max_res_175856);
                                        bool loop_cond_179365 = slt64((int64_t) 0, zl_rhs_179364);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179366;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179368;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179369;
                                        bool loop_while_179370;
                                        int64_t p_179371;
                                        int64_t p_179372;
                                        int64_t p_179373;
                                        
                                        loop_while_179370 = loop_cond_179365;
                                        p_179371 = ai_179342;
                                        p_179372 = max_res_175856;
                                        p_179373 = (int64_t) 0;
                                        while (loop_while_179370) {
                                            int64_t i_a_179374 = sub64(ai_179342, p_179373);
                                            int64_t i_b_179375 = add64(max_res_175856, p_179373);
                                            int64_t leq_lhs_179376 = sub64(i_a_179374, (int64_t) 1);
                                            bool x_179377 = sle64((int64_t) 0, leq_lhs_179376);
                                            bool y_179378 = slt64(leq_lhs_179376, window_sizze_152003);
                                            bool bounds_check_179379 = x_179377 && y_179378;
                                            bool index_certs_179380;
                                            
                                            if (!bounds_check_179379) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179376, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179383 = sle64((int64_t) 0, i_b_179375);
                                            bool y_179384 = slt64(i_b_179375, window_sizze_152003);
                                            bool bounds_check_179385 = x_179383 && y_179384;
                                            bool index_certs_179386;
                                            
                                            if (!bounds_check_179385) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179375, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179381 = p_174790 + leq_lhs_179376;
                                            float leq_lhs_179382 = ((float *) a_list_mem_180280.mem)[slice_179381];
                                            int64_t slice_179387 = p_174791 + i_b_179375;
                                            float leq_rhs_179388 = ((float *) b_list_mem_180281.mem)[slice_179387];
                                            bool defunc_0_leq_res_179389 = leq_lhs_179382 <= leq_rhs_179388;
                                            int64_t loopres_179390;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179390 = i_a_179374;
                                            } else {
                                                loopres_179390 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179391;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179391 = i_b_179375;
                                            } else {
                                                loopres_179391 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179392;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179392 = zl_rhs_179364;
                                            } else {
                                                int64_t tmp_179393 = add64((int64_t) 1, p_179373);
                                                
                                                loopres_179392 = tmp_179393;
                                            }
                                            
                                            bool loop_cond_179394 = slt64(loopres_179392, zl_rhs_179364);
                                            bool loop_while_tmp_181811 = loop_cond_179394;
                                            int64_t p_tmp_181812 = loopres_179390;
                                            int64_t p_tmp_181813 = loopres_179391;
                                            int64_t p_tmp_181814 = loopres_179392;
                                            
                                            loop_while_179370 = loop_while_tmp_181811;
                                            p_179371 = p_tmp_181812;
                                            p_179372 = p_tmp_181813;
                                            p_179373 = p_tmp_181814;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179366 = loop_while_179370;
                                        defunc_0_partFunc_sequential_search_res_t_res_179367 = p_179371;
                                        defunc_0_partFunc_sequential_search_res_t_res_179368 = p_179372;
                                        defunc_0_partFunc_sequential_search_res_t_res_179369 = p_179373;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_t_res_179368;
                                    } else {
                                        int64_t zl_rhs_179395 = sub64(max_res_175856, (int64_t) 1);
                                        bool loop_cond_179396 = slt64((int64_t) 0, zl_rhs_179395);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179397;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179399;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179400;
                                        bool loop_while_179401;
                                        int64_t p_179402;
                                        int64_t p_179403;
                                        int64_t p_179404;
                                        
                                        loop_while_179401 = loop_cond_179396;
                                        p_179402 = ai_179342;
                                        p_179403 = max_res_175856;
                                        p_179404 = (int64_t) 0;
                                        while (loop_while_179401) {
                                            int64_t zp_lhs_179405 = add64(ai_179342, p_179404);
                                            int64_t hi_a_179406 = add64((int64_t) 1, zp_lhs_179405);
                                            bool cond_179407 = slt64(hi_a_179406, window_sizze_152003);
                                            int64_t i_a_179408;
                                            
                                            if (cond_179407) {
                                                i_a_179408 = hi_a_179406;
                                            } else {
                                                i_a_179408 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_179410 = sub64(max_res_175856, p_179404);
                                            int64_t i_b_179411 = sub64(zm_lhs_179410, (int64_t) 1);
                                            bool x_179412 = sle64((int64_t) 0, i_a_179408);
                                            bool y_179413 = slt64(i_a_179408, window_sizze_152003);
                                            bool bounds_check_179414 = x_179412 && y_179413;
                                            bool index_certs_179415;
                                            
                                            if (!bounds_check_179414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179408, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179418 = sle64((int64_t) 0, i_b_179411);
                                            bool y_179419 = slt64(i_b_179411, window_sizze_152003);
                                            bool bounds_check_179420 = x_179418 && y_179419;
                                            bool index_certs_179421;
                                            
                                            if (!bounds_check_179420) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179411, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179416 = p_174790 + i_a_179408;
                                            float gt_lhs_179417 = ((float *) a_list_mem_180280.mem)[slice_179416];
                                            int64_t slice_179422 = p_174791 + i_b_179411;
                                            float gt_rhs_179423 = ((float *) b_list_mem_180281.mem)[slice_179422];
                                            bool defunc_0_gt_res_179424 = gt_rhs_179423 < gt_lhs_179417;
                                            int64_t loopres_179425;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179425 = i_a_179408;
                                            } else {
                                                loopres_179425 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179426;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179426 = zm_lhs_179410;
                                            } else {
                                                loopres_179426 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179427;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179427 = zl_rhs_179395;
                                            } else {
                                                int64_t tmp_179428 = add64((int64_t) 1, p_179404);
                                                
                                                loopres_179427 = tmp_179428;
                                            }
                                            
                                            bool loop_cond_179429 = slt64(loopres_179427, zl_rhs_179395);
                                            bool loop_while_tmp_181815 = loop_cond_179429;
                                            int64_t p_tmp_181816 = loopres_179425;
                                            int64_t p_tmp_181817 = loopres_179426;
                                            int64_t p_tmp_181818 = loopres_179427;
                                            
                                            loop_while_179401 = loop_while_tmp_181815;
                                            p_179402 = p_tmp_181816;
                                            p_179403 = p_tmp_181817;
                                            p_179404 = p_tmp_181818;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179397 = loop_while_179401;
                                        defunc_0_partFunc_sequential_search_res_f_res_179398 = p_179402;
                                        defunc_0_partFunc_sequential_search_res_f_res_179399 = p_179403;
                                        defunc_0_partFunc_sequential_search_res_f_res_179400 = p_179404;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_f_res_179399;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = p_175849;
                                    loopres_f_res_f_res_f_res_175915 = defunc_0_partFunc_sequential_search_res_179362;
                                    loopres_f_res_f_res_f_res_175916 = defunc_0_partFunc_sequential_search_res_179363;
                                    loopres_f_res_f_res_f_res_175917 = 0;
                                } else {
                                    bool x_176001 = sle64((int64_t) 0, ai_175854);
                                    bool y_176002 = slt64(ai_175854, window_sizze_152003);
                                    bool bounds_check_176003 = x_176001 && y_176002;
                                    bool index_certs_176004;
                                    
                                    if (!bounds_check_176003) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175854, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177670 = p_174790 + ai_175854;
                                    float gt_lhs_176005 = ((float *) a_list_mem_180280.mem)[slice_177670];
                                    bool defunc_0_gt_res_176006 = b_prev_175858 < gt_lhs_176005;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176007;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176008;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176009;
                                    bool loopres_f_res_f_res_f_res_f_res_176010;
                                    
                                    if (defunc_0_gt_res_176006) {
                                        int64_t leq_lhs_179430 = sub64(ai_175854, (int64_t) 1);
                                        bool x_179431 = sle64((int64_t) 0, leq_lhs_179430);
                                        bool y_179432 = slt64(leq_lhs_179430, window_sizze_152003);
                                        bool bounds_check_179433 = x_179431 && y_179432;
                                        bool index_certs_179434;
                                        
                                        if (!bounds_check_179433) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179430, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179437 = sle64((int64_t) 0, max_res_175856);
                                        bool y_179438 = slt64(max_res_175856, window_sizze_152003);
                                        bool bounds_check_179439 = x_179437 && y_179438;
                                        bool index_certs_179440;
                                        
                                        if (!bounds_check_179439) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175856, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179435 = p_174790 + leq_lhs_179430;
                                        float leq_lhs_179436 = ((float *) a_list_mem_180280.mem)[slice_179435];
                                        int64_t slice_179441 = p_174791 + max_res_175856;
                                        float leq_rhs_179442 = ((float *) b_list_mem_180281.mem)[slice_179441];
                                        bool defunc_0_leq_res_179443 = leq_lhs_179436 <= leq_rhs_179442;
                                        bool x_179444 = !defunc_0_leq_res_179443;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = ai_175854;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = leq_lhs_179430;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = max_res_175856;
                                        } else {
                                            int64_t tmp_179447 = add64((int64_t) 1, max_res_175856);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = tmp_179447;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176007 = p_175849;
                                        loopres_f_res_f_res_f_res_f_res_176008 = loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        loopres_f_res_f_res_f_res_f_res_176009 = loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        loopres_f_res_f_res_f_res_f_res_176010 = x_179444;
                                    } else {
                                        int64_t tmp_176027 = add64((int64_t) 1, ai_175854);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176007 = tmp_176027;
                                        loopres_f_res_f_res_f_res_f_res_176008 = p_175850;
                                        loopres_f_res_f_res_f_res_f_res_176009 = p_175851;
                                        loopres_f_res_f_res_f_res_f_res_176010 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = loopres_f_res_f_res_f_res_f_res_176007;
                                    loopres_f_res_f_res_f_res_175915 = loopres_f_res_f_res_f_res_f_res_176008;
                                    loopres_f_res_f_res_f_res_175916 = loopres_f_res_f_res_f_res_f_res_176009;
                                    loopres_f_res_f_res_f_res_175917 = loopres_f_res_f_res_f_res_f_res_176010;
                                }
                                loopres_f_res_f_res_175893 = loopres_f_res_f_res_f_res_175914;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_f_res_175915;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_f_res_175916;
                                loopres_f_res_f_res_175896 = loopres_f_res_f_res_f_res_175917;
                            }
                            loopres_f_res_175871 = loopres_f_res_f_res_175893;
                            loopres_f_res_175872 = loopres_f_res_f_res_175894;
                            loopres_f_res_175873 = loopres_f_res_f_res_175895;
                            loopres_f_res_175874 = loopres_f_res_f_res_175896;
                        }
                        loopres_175866 = loopres_f_res_175871;
                        loopres_175867 = loopres_f_res_175872;
                        loopres_175868 = loopres_f_res_175873;
                        loopres_175869 = loopres_f_res_175874;
                    }
                    
                    bool loop_while_tmp_181807 = loopres_175869;
                    int64_t p_tmp_181808 = loopres_175866;
                    int64_t p_tmp_181809 = loopres_175867;
                    int64_t p_tmp_181810 = loopres_175868;
                    
                    loop_while_175848 = loop_while_tmp_181807;
                    p_175849 = p_tmp_181808;
                    p_175850 = p_tmp_181809;
                    p_175851 = p_tmp_181810;
                }
                defunc_0_f_res_175844 = loop_while_175848;
                defunc_0_f_res_175845 = p_175849;
                defunc_0_f_res_175846 = p_175850;
                defunc_0_f_res_175847 = p_175851;
                ((int64_t *) mem_180297)[i_180030] = defunc_0_f_res_175846;
                ((int64_t *) mem_180299)[i_180030] = defunc_0_f_res_175847;
            }
            if (memblock_alloc(ctx, &mem_180312, window_sizze_152003, "mem_180312")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181819 = 0; nest_i_181819 < window_sizze_152003; nest_i_181819++) {
                ((int8_t *) mem_180312.mem)[nest_i_181819] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180314, bytes_180313, "mem_180314")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181820 = 0; nest_i_181820 < window_sizze_152003; nest_i_181820++) {
                ((int64_t *) mem_180314.mem)[nest_i_181820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180316, bytes_180315, "mem_180316")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181821 = 0; nest_i_181821 < window_sizze_152003; nest_i_181821++) {
                ((float *) mem_180316.mem)[nest_i_181821] = 0.0F;
            }
            
            bool defunc_0_mergeFunc_seq_res_176054;
            int64_t defunc_0_mergeFunc_seq_res_176055;
            bool loop_while_176059;
            int64_t p_176060;
            
            loop_while_176059 = loop_cond_176053;
            p_176060 = (int64_t) 0;
            while (loop_while_176059) {
                bool x_176064 = sle64((int64_t) 0, p_176060);
                bool y_176065 = slt64(p_176060, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176066 = x_176064 && y_176065;
                bool index_certs_176067;
                
                if (!bounds_check_176066) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176060, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177653 = sle64((int64_t) 1, p_176060);
                int64_t index_concat_i_177654 = sub64(p_176060, (int64_t) 1);
                int64_t index_concat_177655;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179448 = ((int64_t *) mem_180297)[index_concat_i_177654];
                    
                    index_concat_177655 = x_179448;
                } else {
                    index_concat_177655 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177657;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177657 = index_concat_177655;
                } else {
                    index_concat_branch_177657 = (int64_t) 0;
                }
                
                int64_t index_concat_177649;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179449 = ((int64_t *) mem_180299)[index_concat_i_177654];
                    
                    index_concat_177649 = x_179449;
                } else {
                    index_concat_177649 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177651;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177651 = index_concat_177649;
                } else {
                    index_concat_branch_177651 = (int64_t) 0;
                }
                
                int64_t ubs_176070 = add64((int64_t) 1, p_176060);
                bool x_176071 = sle64((int64_t) 0, ubs_176070);
                bool y_176072 = slt64(ubs_176070, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176073 = x_176071 && y_176072;
                bool index_certs_176074;
                
                if (!bounds_check_176073) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177641 = sle64((int64_t) 1, ubs_176070);
                int64_t index_concat_177643;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179450 = ((int64_t *) mem_180297)[p_176060];
                    
                    index_concat_177643 = x_179450;
                } else {
                    index_concat_177643 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177645;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177645 = index_concat_177643;
                } else {
                    index_concat_branch_177645 = (int64_t) 0;
                }
                
                int64_t index_concat_177637;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179451 = ((int64_t *) mem_180299)[p_176060];
                    
                    index_concat_177637 = x_179451;
                } else {
                    index_concat_177637 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177639;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177639 = index_concat_177637;
                } else {
                    index_concat_branch_177639 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 = sub64(index_concat_branch_177639, index_concat_branch_177651);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 = sub64(index_concat_branch_177645, index_concat_branch_177657);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t ind_bottom_176080 = add64(index_concat_branch_177651, index_concat_branch_177657);
                int64_t ind_top_176081 = add64(index_concat_branch_177639, index_concat_branch_177645);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 = sub64(ind_top_176081, ind_bottom_176080);
                bool empty_slice_176083 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 == (int64_t) 0;
                int64_t m_176084 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 1);
                int64_t i_p_m_t_s_176085 = add64(m_176084, index_concat_branch_177657);
                bool zzero_leq_i_p_m_t_s_176086 = sle64((int64_t) 0, i_p_m_t_s_176085);
                bool i_p_m_t_s_leq_w_176087 = slt64(i_p_m_t_s_176085, window_sizze_152003);
                bool zzero_lte_i_176088 = sle64((int64_t) 0, index_concat_branch_177657);
                bool i_lte_j_176089 = sle64(index_concat_branch_177657, index_concat_branch_177645);
                bool y_176090 = i_p_m_t_s_leq_w_176087 && zzero_lte_i_176088;
                bool y_176091 = zzero_leq_i_p_m_t_s_176086 && y_176090;
                bool forwards_ok_176092 = i_lte_j_176089 && y_176091;
                bool ok_or_empty_176093 = empty_slice_176083 || forwards_ok_176092;
                bool index_certs_176094;
                
                if (!ok_or_empty_176093) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177657, ":", (long long) index_concat_branch_177645, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176095 = slt64(index_concat_branch_177645, index_concat_branch_177657);
                bool valid_176096 = !bounds_invalid_upwards_176095;
                bool range_valid_c_176097;
                
                if (!valid_176096) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177657, "..<", (long long) index_concat_branch_177645, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176103 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 == (int64_t) 0;
                int64_t m_176104 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, (int64_t) 1);
                int64_t i_p_m_t_s_176105 = add64(m_176104, index_concat_branch_177651);
                bool zzero_leq_i_p_m_t_s_176106 = sle64((int64_t) 0, i_p_m_t_s_176105);
                bool i_p_m_t_s_leq_w_176107 = slt64(i_p_m_t_s_176105, window_sizze_152003);
                bool zzero_lte_i_176108 = sle64((int64_t) 0, index_concat_branch_177651);
                bool i_lte_j_176109 = sle64(index_concat_branch_177651, index_concat_branch_177639);
                bool y_176110 = i_p_m_t_s_leq_w_176107 && zzero_lte_i_176108;
                bool y_176111 = zzero_leq_i_p_m_t_s_176106 && y_176110;
                bool forwards_ok_176112 = i_lte_j_176109 && y_176111;
                bool ok_or_empty_176113 = empty_slice_176103 || forwards_ok_176112;
                bool index_certs_176114;
                
                if (!ok_or_empty_176113) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177651, ":", (long long) index_concat_branch_177639, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176115 = slt64(index_concat_branch_177639, index_concat_branch_177651);
                bool valid_176116 = !bounds_invalid_upwards_176115;
                bool range_valid_c_176117;
                
                if (!valid_176116) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177651, "..<", (long long) index_concat_branch_177639, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180333 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                int64_t bytes_180335 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool cond_176126 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zs_lhs_176127 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zp_rhs_176128 = sdiv_safe64(zs_lhs_176127, (int64_t) 20);
                int64_t min_num_blocks_176129 = add64((int64_t) 1, zp_rhs_176128);
                bool loop_cond_176130 = slt64((int64_t) 1, min_num_blocks_176129);
                bool smallest_pow_2_geq_than_res_176131;
                int64_t smallest_pow_2_geq_than_res_176132;
                bool loop_while_176133;
                int64_t x_176134;
                
                loop_while_176133 = loop_cond_176130;
                x_176134 = (int64_t) 1;
                while (loop_while_176133) {
                    int64_t loopres_176135 = mul64((int64_t) 2, x_176134);
                    bool loop_cond_176136 = slt64(loopres_176135, min_num_blocks_176129);
                    bool loop_while_tmp_181827 = loop_cond_176136;
                    int64_t x_tmp_181828 = loopres_176135;
                    
                    loop_while_176133 = loop_while_tmp_181827;
                    x_176134 = x_tmp_181828;
                }
                smallest_pow_2_geq_than_res_176131 = loop_while_176133;
                smallest_pow_2_geq_than_res_176132 = x_176134;
                
                bool zzero_176137 = smallest_pow_2_geq_than_res_176132 == (int64_t) 0;
                bool nonzzero_176138 = !zzero_176137;
                bool protect_assert_disj_176139 = cond_176126 || nonzzero_176138;
                bool nonzzero_cert_176140;
                
                if (!protect_assert_disj_176139) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176141 = sdiv_safe64(zs_lhs_176127, smallest_pow_2_geq_than_res_176132);
                int64_t block_sizze_176142 = add64((int64_t) 1, zp_rhs_176141);
                bool y_176149 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                bool protect_assert_disj_181486 = cond_176126 || y_176149;
                bool index_certs_176150;
                
                if (!protect_assert_disj_181486) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176176 = slt64(smallest_pow_2_geq_than_res_176132, (int64_t) 0);
                bool valid_176177 = !bounds_invalid_upwards_176176;
                bool protect_assert_disj_181496 = cond_176126 || valid_176177;
                bool range_valid_c_176178;
                
                if (!protect_assert_disj_181496) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176132, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176180 = slt64(block_sizze_176142, (int64_t) 0);
                bool valid_176181 = !bounds_invalid_upwards_176180;
                bool protect_assert_disj_181498 = cond_176126 || valid_176181;
                bool range_valid_c_176182;
                
                if (!protect_assert_disj_181498) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176142, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176184 = sle64(block_sizze_176142, (int64_t) 1);
                int64_t tmp_176185 = sub64(block_sizze_176142, (int64_t) 2);
                bool bounds_invalid_upwards_176186 = slt64(tmp_176185, (int64_t) 0);
                bool valid_176188 = !bounds_invalid_upwards_176186;
                bool protect_assert_disj_176189 = cond_176184 || valid_176188;
                bool protect_assert_disj_181500 = cond_176126 || protect_assert_disj_176189;
                bool range_valid_c_176190;
                
                if (!protect_assert_disj_181500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176185, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176751 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool empty_or_match_cert_176752;
                
                if (!dim_match_176751) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "](i8, i64, f32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176753 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == (int64_t) 0;
                int64_t m_176754 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176755 = sle64((int64_t) 0, m_176754);
                bool i_p_m_t_s_leq_w_176756 = slt64(m_176754, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082);
                bool y_176757 = zzero_leq_i_p_m_t_s_176755 && i_p_m_t_s_leq_w_176756;
                bool ok_or_empty_176758 = empty_slice_176753 || y_176757;
                bool index_certs_176759;
                
                if (!ok_or_empty_176758) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176760 = add64(ind_bottom_176080, m_176754);
                bool zzero_leq_i_p_m_t_s_176761 = sle64((int64_t) 0, i_p_m_t_s_176760);
                bool i_p_m_t_s_leq_w_176762 = slt64(i_p_m_t_s_176760, window_sizze_152003);
                bool zzero_lte_i_176763 = sle64((int64_t) 0, ind_bottom_176080);
                bool i_lte_j_176764 = sle64(ind_bottom_176080, ind_top_176081);
                bool y_176765 = i_p_m_t_s_leq_w_176762 && zzero_lte_i_176763;
                bool y_176766 = zzero_leq_i_p_m_t_s_176761 && y_176765;
                bool forwards_ok_176767 = i_lte_j_176764 && y_176766;
                bool ok_or_empty_176768 = empty_slice_176753 || forwards_ok_176767;
                bool index_certs_176769;
                
                if (!ok_or_empty_176768) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176080, ":", (long long) ind_top_176081, "] out of bounds for array of shape [", (long long) window_sizze_152003, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177633 = p_174790 + index_concat_branch_177657;
                
                if (memblock_alloc(ctx, &mem_180332, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "mem_180332")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181829 = 0; nest_i_181829 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; nest_i_181829++) {
                    ((int8_t *) mem_180332.mem)[nest_i_181829] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180334, bytes_180333, "mem_180334")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181830 = 0; i_181830 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; i_181830++) {
                    int64_t x_181831 = index_concat_branch_177657 + i_181830 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[i_181830] = x_181831;
                }
                
                int64_t slice_177632 = p_174791 + index_concat_branch_177651;
                
                for (int64_t nest_i_181832 = 0; nest_i_181832 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; nest_i_181832++) {
                    ((int8_t *) mem_180332.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + nest_i_181832] = (int8_t) 1;
                }
                for (int64_t i_181833 = 0; i_181833 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; i_181833++) {
                    int64_t x_181834 = index_concat_branch_177651 + i_181833 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + i_181833] = x_181834;
                }
                
                int64_t tmp_offs_181835 = (int64_t) 0;
                
                if (!(tmp_offs_181835 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181835 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t tmp_offs_181836 = (int64_t) 0;
                
                if (!(tmp_offs_181836 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181836 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                if (memblock_alloc(ctx, &mem_180336, bytes_180335, "mem_180336")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181837 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180280.mem, slice_177633, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180281.mem, slice_177632, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t flat_dim_176143 = smallest_pow_2_geq_than_res_176132 * block_sizze_176142;
                bool x_181481 = !cond_176126;
                int64_t greatest_divisor_leq_than_arg1_176147 = mul64((int64_t) 2, block_sizze_176142);
                int64_t merge_block_sizze_176148;
                
                if (x_181481) {
                    int64_t x_181483;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181483, (int64_t) 8, greatest_divisor_leq_than_arg1_176147) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176148 = x_181483;
                } else {
                    merge_block_sizze_176148 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177627 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 0);
                int8_t index_concat_branch_177631 = btoi_bool_i8(index_concat_cmp_177627);
                int64_t index_concat_i_179452 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t index_primexp_179453 = add64(index_concat_branch_177651, index_concat_i_179452);
                int64_t index_concat_branch_177625;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177625 = index_primexp_179453;
                } else {
                    index_concat_branch_177625 = index_concat_branch_177657;
                }
                
                bool x_181477 = !index_concat_cmp_177627;
                bool protect_cond_conj_181487 = x_181477 && x_181481;
                float index_concat_177618;
                
                if (protect_cond_conj_181487) {
                    float x_181479 = ((float *) a_list_mem_180280.mem)[slice_177633];
                    
                    index_concat_177618 = x_181479;
                } else {
                    index_concat_177618 = 0.0F;
                }
                
                int64_t slice_179455 = slice_177632 + index_concat_i_179452;
                bool protect_cond_conj_181488 = index_concat_cmp_177627 && x_181481;
                float index_concat_179456;
                
                if (protect_cond_conj_181488) {
                    float x_181475 = ((float *) b_list_mem_180281.mem)[slice_179455];
                    
                    index_concat_179456 = x_181475;
                } else {
                    index_concat_179456 = 0.0F;
                }
                
                float index_concat_branch_177619;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177619 = index_concat_179456;
                } else {
                    index_concat_branch_177619 = index_concat_177618;
                }
                
                int8_t defunc_0_reduce_res_179687;
                int64_t defunc_0_reduce_res_179688;
                float defunc_0_reduce_res_179689;
                
                if (x_181481) {
                    int8_t x_181489;
                    int64_t x_181490;
                    float x_181491;
                    int8_t redout_180033;
                    int64_t redout_180034;
                    float redout_180035;
                    
                    redout_180033 = index_concat_branch_177631;
                    redout_180034 = index_concat_branch_177625;
                    redout_180035 = index_concat_branch_177619;
                    for (int64_t i_180036 = 0; i_180036 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079; i_180036++) {
                        bool index_concat_cmp_180240 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, i_180036);
                        int8_t index_concat_branch_180244 = btoi_bool_i8(index_concat_cmp_180240);
                        int64_t index_concat_branch_180238;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180235 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t index_primexp_180262 = add64(index_concat_branch_177651, index_concat_i_180235);
                            
                            index_concat_branch_180238 = index_primexp_180262;
                        } else {
                            int64_t index_primexp_180264 = add64(index_concat_branch_177657, i_180036);
                            
                            index_concat_branch_180238 = index_primexp_180264;
                        }
                        
                        float index_concat_branch_180232;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180229 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t slice_180259 = slice_177632 + index_concat_i_180229;
                            float index_concat_180230 = ((float *) b_list_mem_180281.mem)[slice_180259];
                            
                            index_concat_branch_180232 = index_concat_180230;
                        } else {
                            int64_t slice_180260 = slice_177633 + i_180036;
                            float index_concat_180231 = ((float *) a_list_mem_180280.mem)[slice_180260];
                            
                            index_concat_branch_180232 = index_concat_180231;
                        }
                        
                        bool eq_x_y_180275 = redout_180033 == (int8_t) 1;
                        bool eq_x_zz_180276 = redout_180033 == (int8_t) 0;
                        bool p_and_eq_x_y_180277 = index_concat_cmp_180240 && eq_x_y_180275;
                        bool not_p_180278 = !index_concat_cmp_180240;
                        bool p_and_eq_x_y_180279 = eq_x_zz_180276 && not_p_180278;
                        bool cond_176166 = p_and_eq_x_y_180277 || p_and_eq_x_y_180279;
                        bool defunc_0_leq_res_t_res_176167 = sle64(redout_180034, index_concat_branch_180238);
                        bool defunc_0_leq_res_176168 = redout_180035 <= index_concat_branch_180232;
                        bool x_176169 = cond_176166 && defunc_0_leq_res_t_res_176167;
                        bool x_176170 = !cond_176166;
                        bool y_176171 = defunc_0_leq_res_176168 && x_176170;
                        bool defunc_0_leq_res_176172 = x_176169 || y_176171;
                        int8_t defunc_0_op_res_176173;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176173 = index_concat_branch_180244;
                        } else {
                            defunc_0_op_res_176173 = redout_180033;
                        }
                        
                        int64_t defunc_0_op_res_176174;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176174 = index_concat_branch_180238;
                        } else {
                            defunc_0_op_res_176174 = redout_180034;
                        }
                        
                        float defunc_0_op_res_176175;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176175 = index_concat_branch_180232;
                        } else {
                            defunc_0_op_res_176175 = redout_180035;
                        }
                        
                        int8_t redout_tmp_181838 = defunc_0_op_res_176173;
                        int64_t redout_tmp_181839 = defunc_0_op_res_176174;
                        float redout_tmp_181840 = defunc_0_op_res_176175;
                        
                        redout_180033 = redout_tmp_181838;
                        redout_180034 = redout_tmp_181839;
                        redout_180035 = redout_tmp_181840;
                    }
                    x_181489 = redout_180033;
                    x_181490 = redout_180034;
                    x_181491 = redout_180035;
                    defunc_0_reduce_res_179687 = x_181489;
                    defunc_0_reduce_res_179688 = x_181490;
                    defunc_0_reduce_res_179689 = x_181491;
                } else {
                    defunc_0_reduce_res_179687 = (int8_t) 0;
                    defunc_0_reduce_res_179688 = (int64_t) 0;
                    defunc_0_reduce_res_179689 = 0.0F;
                }
                
                int64_t distance_176187 = add64((int64_t) 1, tmp_176185);
                int64_t binop_x_180339 = (int64_t) 8 * smallest_pow_2_geq_than_res_176132;
                int64_t bytes_180340 = block_sizze_176142 * binop_x_180339;
                int64_t binop_x_180342 = (int64_t) 4 * smallest_pow_2_geq_than_res_176132;
                int64_t bytes_180343 = block_sizze_176142 * binop_x_180342;
                int64_t bytes_180358 = (int64_t) 8 * block_sizze_176142;
                int64_t bytes_180360 = (int64_t) 4 * block_sizze_176142;
                bool loop_cond_176296 = slt64(block_sizze_176142, flat_dim_176143);
                bool zzero_176297 = merge_block_sizze_176148 == (int64_t) 0;
                bool nonzzero_176298 = !zzero_176297;
                
                if (cond_176126) {
                    if (memblock_set(ctx, &ext_mem_180631, &mem_180332, "mem_180332") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &mem_180334, "mem_180334") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &mem_180336, "mem_180336") != 0)
                        return 1;
                } else {
                    if (mem_180338_cached_sizze_182083 < flat_dim_176143) {
                        err = lexical_realloc(ctx, &mem_180338, &mem_180338_cached_sizze_182083, flat_dim_176143);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180341_cached_sizze_182084 < bytes_180340) {
                        err = lexical_realloc(ctx, &mem_180341, &mem_180341_cached_sizze_182084, bytes_180340);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180344_cached_sizze_182085 < bytes_180343) {
                        err = lexical_realloc(ctx, &mem_180344, &mem_180344_cached_sizze_182085, bytes_180343);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180357_cached_sizze_182086 < block_sizze_176142) {
                        err = lexical_realloc(ctx, &mem_180357, &mem_180357_cached_sizze_182086, block_sizze_176142);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180359_cached_sizze_182087 < bytes_180358) {
                        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182087, bytes_180358);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180361_cached_sizze_182088 < bytes_180360) {
                        err = lexical_realloc(ctx, &mem_180361, &mem_180361_cached_sizze_182088, bytes_180360);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180053 = 0; i_180053 < smallest_pow_2_geq_than_res_176132; i_180053++) {
                        int64_t zp_lhs_176195 = mul64(block_sizze_176142, i_180053);
                        
                        for (int64_t i_180043 = 0; i_180043 < block_sizze_176142; i_180043++) {
                            int64_t k_176200 = add64(zp_lhs_176195, i_180043);
                            bool cond_176201 = slt64(k_176200, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                            int8_t lifted_lambda_res_176202;
                            int64_t lifted_lambda_res_176203;
                            float lifted_lambda_res_176204;
                            
                            if (cond_176201) {
                                bool x_179462 = sle64((int64_t) 0, k_176200);
                                bool bounds_check_179463 = cond_176201 && x_179462;
                                bool index_certs_179464;
                                
                                if (!bounds_check_179463) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176200, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179465 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, k_176200);
                                int8_t index_concat_branch_179466 = btoi_bool_i8(index_concat_cmp_179465);
                                int64_t index_concat_branch_179467;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179468 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t index_primexp_179469 = add64(index_concat_branch_177651, index_concat_i_179468);
                                    
                                    index_concat_branch_179467 = index_primexp_179469;
                                } else {
                                    int64_t index_primexp_179470 = add64(k_176200, index_concat_branch_177657);
                                    
                                    index_concat_branch_179467 = index_primexp_179470;
                                }
                                
                                float index_concat_branch_179471;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179472 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t slice_179473 = slice_177632 + index_concat_i_179472;
                                    float index_concat_179474 = ((float *) b_list_mem_180281.mem)[slice_179473];
                                    
                                    index_concat_branch_179471 = index_concat_179474;
                                } else {
                                    int64_t slice_179475 = k_176200 + slice_177633;
                                    float index_concat_179476 = ((float *) a_list_mem_180280.mem)[slice_179475];
                                    
                                    index_concat_branch_179471 = index_concat_179476;
                                }
                                lifted_lambda_res_176202 = index_concat_branch_179466;
                                lifted_lambda_res_176203 = index_concat_branch_179467;
                                lifted_lambda_res_176204 = index_concat_branch_179471;
                            } else {
                                lifted_lambda_res_176202 = defunc_0_reduce_res_179687;
                                lifted_lambda_res_176203 = defunc_0_reduce_res_179688;
                                lifted_lambda_res_176204 = defunc_0_reduce_res_179689;
                            }
                            ((int8_t *) mem_180357)[i_180043] = lifted_lambda_res_176202;
                            ((int64_t *) mem_180359)[i_180043] = lifted_lambda_res_176203;
                            ((float *) mem_180361)[i_180043] = lifted_lambda_res_176204;
                        }
                        if (!cond_176184) {
                            for (int64_t i_176217 = 0; i_176217 < distance_176187; i_176217++) {
                                int64_t gt_arg1_176221 = add64((int64_t) 1, i_176217);
                                bool x_176222 = sle64((int64_t) 0, gt_arg1_176221);
                                bool y_176223 = slt64(gt_arg1_176221, block_sizze_176142);
                                bool bounds_check_176224 = x_176222 && y_176223;
                                bool index_certs_176225;
                                
                                if (!bounds_check_176224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176221, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176229 = slt64(i_176217, block_sizze_176142);
                                bool index_certs_176230;
                                
                                if (!y_176229) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176217, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176226 = ((int8_t *) mem_180357)[gt_arg1_176221];
                                int64_t gt_arg1_176227 = ((int64_t *) mem_180359)[gt_arg1_176221];
                                float gt_arg1_176228 = ((float *) mem_180361)[gt_arg1_176221];
                                int8_t gt_arg0_176231 = ((int8_t *) mem_180357)[i_176217];
                                int64_t gt_arg0_176232 = ((int64_t *) mem_180359)[i_176217];
                                float gt_arg0_176233 = ((float *) mem_180361)[i_176217];
                                bool cond_176234 = gt_arg0_176231 == gt_arg1_176226;
                                bool defunc_0_leq_res_t_res_176235 = sle64(gt_arg0_176232, gt_arg1_176227);
                                bool defunc_0_leq_res_176236 = gt_arg0_176233 <= gt_arg1_176228;
                                bool x_176237 = cond_176234 && defunc_0_leq_res_t_res_176235;
                                bool x_176238 = !cond_176234;
                                bool y_176239 = defunc_0_leq_res_176236 && x_176238;
                                bool defunc_0_leq_res_176240 = x_176237 || y_176239;
                                bool defunc_0_lifted_gt_res_176241 = !defunc_0_leq_res_176240;
                                bool s_176242;
                                int64_t s_176246;
                                bool loop_while_176247;
                                int64_t j_176251;
                                
                                loop_while_176247 = defunc_0_lifted_gt_res_176241;
                                j_176251 = i_176217;
                                while (loop_while_176247) {
                                    bool x_176252 = sle64((int64_t) 0, j_176251);
                                    bool y_176253 = slt64(j_176251, block_sizze_176142);
                                    bool bounds_check_176254 = x_176252 && y_176253;
                                    bool index_certs_176255;
                                    
                                    if (!bounds_check_176254) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176251, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176259 = add64((int64_t) 1, j_176251);
                                    bool x_176260 = sle64((int64_t) 0, copy_arg0_176259);
                                    bool y_176261 = slt64(copy_arg0_176259, block_sizze_176142);
                                    bool bounds_check_176262 = x_176260 && y_176261;
                                    bool index_certs_176263;
                                    
                                    if (!bounds_check_176262) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176259, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176256 = ((int8_t *) mem_180357)[j_176251];
                                    int64_t copy_arg0_176257 = ((int64_t *) mem_180359)[j_176251];
                                    float copy_arg0_176258 = ((float *) mem_180361)[j_176251];
                                    int8_t copy_arg0_176264 = ((int8_t *) mem_180357)[copy_arg0_176259];
                                    int64_t copy_arg0_176265 = ((int64_t *) mem_180359)[copy_arg0_176259];
                                    float copy_arg0_176266 = ((float *) mem_180361)[copy_arg0_176259];
                                    
                                    ((int8_t *) mem_180357)[j_176251] = copy_arg0_176264;
                                    ((int64_t *) mem_180359)[j_176251] = copy_arg0_176265;
                                    ((float *) mem_180361)[j_176251] = copy_arg0_176266;
                                    ((int8_t *) mem_180357)[copy_arg0_176259] = copy_arg0_176256;
                                    ((int64_t *) mem_180359)[copy_arg0_176259] = copy_arg0_176257;
                                    ((float *) mem_180361)[copy_arg0_176259] = copy_arg0_176258;
                                    
                                    int64_t tmp_176273 = sub64(j_176251, (int64_t) 1);
                                    bool cond_176274 = sle64((int64_t) 0, tmp_176273);
                                    bool loop_cond_176275;
                                    
                                    if (cond_176274) {
                                        bool y_179480 = slt64(tmp_176273, block_sizze_176142);
                                        bool bounds_check_179481 = cond_176274 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176273, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_180357)[j_176251];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_180359)[j_176251];
                                        float gt_arg1_179479 = ((float *) mem_180361)[j_176251];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_180357)[tmp_176273];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_180359)[tmp_176273];
                                        float gt_arg0_179485 = ((float *) mem_180361)[tmp_176273];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = gt_arg0_179485 <= gt_arg1_179479;
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_176275 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_176275 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181850 = loop_cond_176275;
                                    int64_t j_tmp_181854 = tmp_176273;
                                    
                                    loop_while_176247 = loop_while_tmp_181850;
                                    j_176251 = j_tmp_181854;
                                }
                                s_176242 = loop_while_176247;
                                s_176246 = j_176251;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180338, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180357, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180341, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180359, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180344, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180361, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                    }
                    if (memblock_alloc(ctx, &mem_180438, flat_dim_176143, "mem_180438")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180438.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint8_t *) mem_180338, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180442, bytes_180340, "mem_180442")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180442.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint64_t *) mem_180341, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180446, bytes_180343, "mem_180446")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180446.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint32_t *) mem_180344, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    
                    int64_t data_176299;
                    bool data_176300;
                    int64_t data_176304;
                    int64_t loop_dz2084Uz2082U_176305;
                    bool loop_while_176306;
                    int64_t stride_176310;
                    
                    if (memblock_set(ctx, &mem_param_180450, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180453, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180456, &mem_180446, "mem_180446") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176305 = flat_dim_176143;
                    loop_while_176306 = loop_cond_176296;
                    stride_176310 = block_sizze_176142;
                    while (loop_while_176306) {
                        int64_t next_stride_176311 = mul64((int64_t) 2, stride_176310);
                        bool zzero_176312 = next_stride_176311 == (int64_t) 0;
                        bool nonzzero_176313 = !zzero_176312;
                        bool nonzzero_cert_176314;
                        
                        if (!nonzzero_176313) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176315 = sdiv64(flat_dim_176143, next_stride_176311);
                        bool bounds_invalid_upwards_176316 = slt64(num_merges_176315, (int64_t) 0);
                        bool valid_176317 = !bounds_invalid_upwards_176316;
                        bool range_valid_c_176318;
                        
                        if (!valid_176317) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176315, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176320 = sub64(next_stride_176311, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176321 = sle64((int64_t) 0, m_176320);
                        bool cond_176323 = slt64(next_stride_176311, (int64_t) 10);
                        bool protect_assert_disj_176324 = nonzzero_176298 || cond_176323;
                        bool nonzzero_cert_176325;
                        
                        if (!protect_assert_disj_176324) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176326 = smod_safe64(next_stride_176311, merge_block_sizze_176148);
                        bool num_blocks_176327 = zeze_lhs_176326 == (int64_t) 0;
                        bool protect_assert_disj_176328 = cond_176323 || num_blocks_176327;
                        bool assert_c_176329;
                        
                        if (!protect_assert_disj_176328) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176331 = sdiv_safe64(next_stride_176311, merge_block_sizze_176148);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332 = add64((int64_t) 1, num_blocks_176331);
                        int64_t j_m_i_176333 = sub64(next_stride_176311, stride_176310);
                        int64_t flat_dim_176334 = merge_block_sizze_176148 * num_blocks_176331;
                        bool bounds_invalid_upwards_176335 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, (int64_t) 0);
                        bool empty_slice_176336 = j_m_i_176333 == (int64_t) 0;
                        int64_t m_176337 = sub64(j_m_i_176333, (int64_t) 1);
                        bool zzero_lte_i_176338 = sle64((int64_t) 0, stride_176310);
                        bool i_lte_j_176339 = sle64(stride_176310, next_stride_176311);
                        bool empty_slice_176340 = stride_176310 == (int64_t) 0;
                        int64_t m_176341 = sub64(stride_176310, (int64_t) 1);
                        bool bounds_invalid_upwards_176342 = slt64(num_blocks_176331, (int64_t) 0);
                        bool cond_176343 = slt64((int64_t) 0, stride_176310);
                        bool valid_176344 = !bounds_invalid_upwards_176335;
                        int64_t i_p_m_t_s_176345 = add64(stride_176310, m_176337);
                        bool zzero_leq_i_p_m_t_s_176346 = sle64((int64_t) 0, m_176341);
                        bool i_p_m_t_s_leq_w_176347 = slt64(m_176341, next_stride_176311);
                        bool valid_176348 = !bounds_invalid_upwards_176342;
                        bool i_p_m_t_s_leq_w_176349 = slt64(m_176320, flat_dim_176334);
                        bool y_176350 = slt64((int64_t) 0, j_m_i_176333);
                        bool protect_assert_disj_176351 = cond_176323 || valid_176344;
                        bool range_valid_c_176352;
                        
                        if (!protect_assert_disj_176351) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176353 = sle64((int64_t) 0, i_p_m_t_s_176345);
                        bool i_p_m_t_s_leq_w_176354 = slt64(i_p_m_t_s_176345, next_stride_176311);
                        bool y_176355 = zzero_leq_i_p_m_t_s_176346 && i_p_m_t_s_leq_w_176347;
                        bool protect_assert_disj_176356 = cond_176323 || valid_176348;
                        bool range_valid_c_176357;
                        
                        if (!protect_assert_disj_176356) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176331, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176358 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176349;
                        bool y_176359 = zzero_lte_i_176338 && i_p_m_t_s_leq_w_176354;
                        bool forwards_ok_176360 = zzero_lte_i_176338 && y_176355;
                        bool ok_or_empty_176361 = zzero_176312 || y_176358;
                        bool protect_assert_disj_176362 = cond_176343 || y_176350;
                        bool y_176363 = zzero_leq_i_p_m_t_s_176353 && y_176359;
                        bool ok_or_empty_176364 = empty_slice_176340 || forwards_ok_176360;
                        bool protect_assert_disj_176365 = cond_176323 || ok_or_empty_176361;
                        bool index_certs_176366;
                        
                        if (!protect_assert_disj_176365) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) flat_dim_176334, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176367 = !cond_176323;
                        bool protect_assert_disj_176368 = protect_assert_disj_176362 || loop_not_taken_176367;
                        bool index_certs_176369;
                        
                        if (!protect_assert_disj_176368) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176370 = i_lte_j_176339 && y_176363;
                        bool protect_assert_disj_176371 = cond_176323 || ok_or_empty_176364;
                        bool index_certs_176372;
                        
                        if (!protect_assert_disj_176371) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176373 = ok_or_empty_176364 || loop_not_taken_176367;
                        bool index_certs_176374;
                        
                        if (!protect_assert_disj_176373) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176375 = empty_slice_176336 || forwards_ok_176370;
                        bool protect_assert_disj_176376 = cond_176323 || ok_or_empty_176375;
                        bool index_certs_176377;
                        
                        if (!protect_assert_disj_176376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176378 = loop_not_taken_176367 || ok_or_empty_176375;
                        bool index_certs_176379;
                        
                        if (!protect_assert_disj_176378) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180457 = next_stride_176311 * num_merges_176315;
                        int64_t binop_x_180459 = (int64_t) 8 * num_merges_176315;
                        int64_t bytes_180460 = next_stride_176311 * binop_x_180459;
                        int64_t binop_x_180462 = (int64_t) 4 * num_merges_176315;
                        int64_t bytes_180463 = next_stride_176311 * binop_x_180462;
                        bool i_lte_j_176322 = sle64((int64_t) 0, next_stride_176311);
                        
                        if (mem_180458_cached_sizze_182089 < bytes_180457) {
                            err = lexical_realloc(ctx, &mem_180458, &mem_180458_cached_sizze_182089, bytes_180457);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180461_cached_sizze_182090 < bytes_180460) {
                            err = lexical_realloc(ctx, &mem_180461, &mem_180461_cached_sizze_182090, bytes_180460);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180464_cached_sizze_182091 < bytes_180463) {
                            err = lexical_realloc(ctx, &mem_180464, &mem_180464_cached_sizze_182091, bytes_180463);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180477 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332;
                        int64_t binop_x_180495 = (int64_t) 8 * num_blocks_176331;
                        int64_t bytes_180496 = merge_block_sizze_176148 * binop_x_180495;
                        int64_t binop_x_180498 = (int64_t) 4 * num_blocks_176331;
                        int64_t bytes_180499 = merge_block_sizze_176148 * binop_x_180498;
                        int64_t bytes_180560 = (int64_t) 16 * stride_176310;
                        int64_t bytes_180562 = (int64_t) 8 * stride_176310;
                        
                        for (int64_t i_180080 = 0; i_180080 < num_merges_176315; i_180080++) {
                            int64_t start_176384 = mul64(next_stride_176311, i_180080);
                            int64_t j_m_i_176385 = sub64(loop_dz2084Uz2082U_176305, start_176384);
                            bool empty_slice_176386 = j_m_i_176385 == (int64_t) 0;
                            int64_t m_176387 = sub64(j_m_i_176385, (int64_t) 1);
                            int64_t i_p_m_t_s_176388 = add64(start_176384, m_176387);
                            bool zzero_leq_i_p_m_t_s_176389 = sle64((int64_t) 0, i_p_m_t_s_176388);
                            bool i_p_m_t_s_leq_w_176390 = slt64(i_p_m_t_s_176388, loop_dz2084Uz2082U_176305);
                            bool zzero_lte_i_176391 = sle64((int64_t) 0, start_176384);
                            bool i_lte_j_176392 = sle64(start_176384, loop_dz2084Uz2082U_176305);
                            bool y_176393 = i_p_m_t_s_leq_w_176390 && zzero_lte_i_176391;
                            bool y_176394 = zzero_leq_i_p_m_t_s_176389 && y_176393;
                            bool forwards_ok_176395 = i_lte_j_176392 && y_176394;
                            bool ok_or_empty_176396 = empty_slice_176386 || forwards_ok_176395;
                            bool index_certs_176397;
                            
                            if (!ok_or_empty_176396) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176384, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176305, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176398 = slt64(m_176320, j_m_i_176385);
                            bool y_176399 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176398;
                            bool forwards_ok_176400 = i_lte_j_176322 && y_176399;
                            bool ok_or_empty_176401 = zzero_176312 || forwards_ok_176400;
                            bool index_certs_176402;
                            
                            if (!ok_or_empty_176401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) j_m_i_176385, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176323) {
                                int8_t dummy_179532;
                                int64_t dummy_179533;
                                float dummy_179534;
                                
                                if (cond_176343) {
                                    int8_t head_res_179535 = ((int8_t *) mem_param_180450.mem)[start_176384];
                                    int64_t head_res_179536 = ((int64_t *) mem_param_180453.mem)[start_176384];
                                    float head_res_179537 = ((float *) mem_param_180456.mem)[start_176384];
                                    
                                    dummy_179532 = head_res_179535;
                                    dummy_179533 = head_res_179536;
                                    dummy_179534 = head_res_179537;
                                } else {
                                    int64_t slice_179538 = stride_176310 + start_176384;
                                    int8_t head_res_179539 = ((int8_t *) mem_param_180450.mem)[slice_179538];
                                    int64_t head_res_179540 = ((int64_t *) mem_param_180453.mem)[slice_179538];
                                    float head_res_179541 = ((float *) mem_param_180456.mem)[slice_179538];
                                    
                                    dummy_179532 = head_res_179539;
                                    dummy_179533 = head_res_179540;
                                    dummy_179534 = head_res_179541;
                                }
                                if (memblock_alloc(ctx, &mem_180559, next_stride_176311, "mem_180559")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181867 = 0; nest_i_181867 < next_stride_176311; nest_i_181867++) {
                                    ((int8_t *) mem_180559.mem)[nest_i_181867] = dummy_179532;
                                }
                                if (memblock_alloc(ctx, &mem_180561, bytes_180560, "mem_180561")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181868 = 0; nest_i_181868 < next_stride_176311; nest_i_181868++) {
                                    ((int64_t *) mem_180561.mem)[nest_i_181868] = dummy_179533;
                                }
                                if (memblock_alloc(ctx, &mem_180563, bytes_180562, "mem_180563")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181869 = 0; nest_i_181869 < next_stride_176311; nest_i_181869++) {
                                    ((float *) mem_180563.mem)[nest_i_181869] = dummy_179534;
                                }
                                
                                int64_t data_179545;
                                int64_t i_179550 = (int64_t) 0;
                                
                                for (int64_t k_179549 = 0; k_179549 < next_stride_176311; k_179549++) {
                                    int64_t j_179554 = sub64(k_179549, i_179550);
                                    bool cond_179555 = j_179554 == j_m_i_176333;
                                    bool cond_179556;
                                    
                                    if (cond_179555) {
                                        cond_179556 = 1;
                                    } else {
                                        bool cond_179557 = slt64(i_179550, stride_176310);
                                        bool cond_f_res_179558;
                                        
                                        if (cond_179557) {
                                            bool x_179559 = sle64((int64_t) 0, j_179554);
                                            bool y_179560 = slt64(j_179554, j_m_i_176333);
                                            bool bounds_check_179561 = x_179559 && y_179560;
                                            bool index_certs_179562;
                                            
                                            if (!bounds_check_179561) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179568 = sle64((int64_t) 0, i_179550);
                                            bool bounds_check_179569 = cond_179557 && x_179568;
                                            bool index_certs_179570;
                                            
                                            if (!bounds_check_179569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179563 = stride_176310 + j_179554;
                                            int64_t slice_179564 = start_176384 + slice_179563;
                                            int8_t leq_arg1_179565 = ((int8_t *) mem_param_180450.mem)[slice_179564];
                                            int64_t leq_arg1_179566 = ((int64_t *) mem_param_180453.mem)[slice_179564];
                                            float leq_arg1_179567 = ((float *) mem_param_180456.mem)[slice_179564];
                                            int64_t slice_179571 = start_176384 + i_179550;
                                            int8_t leq_arg0_179572 = ((int8_t *) mem_param_180450.mem)[slice_179571];
                                            int64_t leq_arg0_179573 = ((int64_t *) mem_param_180453.mem)[slice_179571];
                                            float leq_arg0_179574 = ((float *) mem_param_180456.mem)[slice_179571];
                                            bool cond_179575 = leq_arg0_179572 == leq_arg1_179565;
                                            bool defunc_0_leq_res_t_res_179576 = sle64(leq_arg0_179573, leq_arg1_179566);
                                            bool defunc_0_leq_res_179577 = leq_arg0_179574 <= leq_arg1_179567;
                                            bool x_179578 = cond_179575 && defunc_0_leq_res_t_res_179576;
                                            bool x_179579 = !cond_179575;
                                            bool y_179580 = defunc_0_leq_res_179577 && x_179579;
                                            bool defunc_0_leq_res_179581 = x_179578 || y_179580;
                                            
                                            cond_f_res_179558 = defunc_0_leq_res_179581;
                                        } else {
                                            cond_f_res_179558 = 0;
                                        }
                                        cond_179556 = cond_f_res_179558;
                                    }
                                    
                                    int64_t loopres_179582;
                                    int8_t loopres_179583;
                                    int64_t loopres_179584;
                                    float loopres_179585;
                                    
                                    if (cond_179556) {
                                        bool x_179587 = sle64((int64_t) 0, i_179550);
                                        bool y_179588 = slt64(i_179550, stride_176310);
                                        bool bounds_check_179589 = x_179587 && y_179588;
                                        bool index_certs_179590;
                                        
                                        if (!bounds_check_179589) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179586 = add64((int64_t) 1, i_179550);
                                        int64_t slice_179591 = start_176384 + i_179550;
                                        int8_t tmp_179592 = ((int8_t *) mem_param_180450.mem)[slice_179591];
                                        int64_t tmp_179593 = ((int64_t *) mem_param_180453.mem)[slice_179591];
                                        float tmp_179594 = ((float *) mem_param_180456.mem)[slice_179591];
                                        
                                        loopres_179582 = tmp_179586;
                                        loopres_179583 = tmp_179592;
                                        loopres_179584 = tmp_179593;
                                        loopres_179585 = tmp_179594;
                                    } else {
                                        bool x_179595 = sle64((int64_t) 0, j_179554);
                                        bool y_179596 = slt64(j_179554, j_m_i_176333);
                                        bool bounds_check_179597 = x_179595 && y_179596;
                                        bool index_certs_179598;
                                        
                                        if (!bounds_check_179597) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179599 = stride_176310 + j_179554;
                                        int64_t slice_179600 = start_176384 + slice_179599;
                                        int8_t tmp_179601 = ((int8_t *) mem_param_180450.mem)[slice_179600];
                                        int64_t tmp_179602 = ((int64_t *) mem_param_180453.mem)[slice_179600];
                                        float tmp_179603 = ((float *) mem_param_180456.mem)[slice_179600];
                                        
                                        loopres_179582 = i_179550;
                                        loopres_179583 = tmp_179601;
                                        loopres_179584 = tmp_179602;
                                        loopres_179585 = tmp_179603;
                                    }
                                    ((int8_t *) mem_180559.mem)[k_179549] = loopres_179583;
                                    ((int64_t *) mem_180561.mem)[k_179549] = loopres_179584;
                                    ((float *) mem_180563.mem)[k_179549] = loopres_179585;
                                    
                                    int64_t i_tmp_181870 = loopres_179582;
                                    
                                    i_179550 = i_tmp_181870;
                                }
                                data_179545 = i_179550;
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180559, "mem_180559") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180561, "mem_180561") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180563, "mem_180563") != 0)
                                    return 1;
                            } else {
                                if (mem_180478_cached_sizze_182092 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180478, &mem_180478_cached_sizze_182092, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180480_cached_sizze_182093 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180480, &mem_180480_cached_sizze_182093, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180061 = 0; i_180061 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332; i_180061++) {
                                    int64_t split_count_arg3_176485 = mul64(merge_block_sizze_176148, i_180061);
                                    int64_t defunc_0_split_count_res_176486;
                                    int64_t defunc_0_split_count_res_176487;
                                    int64_t defunc_0_split_count_res_176488;
                                    int64_t defunc_0_split_count_res_176489;
                                    int64_t defunc_0_split_count_res_176490;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_176486, &defunc_0_split_count_res_176487, &defunc_0_split_count_res_176488, &defunc_0_split_count_res_176489, &defunc_0_split_count_res_176490, (int64_t) 0, stride_176310, (int64_t) 0, j_m_i_176333, split_count_arg3_176485) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176491 = slt64((int64_t) 0, defunc_0_split_count_res_176490);
                                    bool defunc_0_split_count_res_176492;
                                    int64_t defunc_0_split_count_res_176493;
                                    int64_t defunc_0_split_count_res_176494;
                                    int64_t defunc_0_split_count_res_176495;
                                    int64_t defunc_0_split_count_res_176496;
                                    int64_t defunc_0_split_count_res_176497;
                                    bool loop_while_176498;
                                    int64_t ss_176499;
                                    int64_t ss_176500;
                                    int64_t tt_176501;
                                    int64_t tt_176502;
                                    int64_t count_176503;
                                    
                                    loop_while_176498 = loop_cond_176491;
                                    ss_176499 = defunc_0_split_count_res_176486;
                                    ss_176500 = defunc_0_split_count_res_176487;
                                    tt_176501 = defunc_0_split_count_res_176488;
                                    tt_176502 = defunc_0_split_count_res_176489;
                                    count_176503 = defunc_0_split_count_res_176490;
                                    while (loop_while_176498) {
                                        int64_t zlze_lhs_176504 = sub64(ss_176500, ss_176499);
                                        bool cond_176505 = sle64(zlze_lhs_176504, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176506;
                                        int64_t defunc_0_lifted_step_res_176507;
                                        int64_t defunc_0_lifted_step_res_176508;
                                        int64_t defunc_0_lifted_step_res_176509;
                                        
                                        if (cond_176505) {
                                            int64_t tmp_179607 = add64(tt_176501, count_176503);
                                            
                                            defunc_0_lifted_step_res_176506 = ss_176499;
                                            defunc_0_lifted_step_res_176507 = tmp_179607;
                                            defunc_0_lifted_step_res_176508 = tt_176502;
                                            defunc_0_lifted_step_res_176509 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176511 = sub64(tt_176502, tt_176501);
                                            bool cond_176512 = sle64(zlze_lhs_176511, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176513;
                                            int64_t defunc_0_lifted_step_res_f_res_176514;
                                            int64_t defunc_0_lifted_step_res_f_res_176515;
                                            int64_t defunc_0_lifted_step_res_f_res_176516;
                                            
                                            if (cond_176512) {
                                                int64_t tmp_179608 = add64(ss_176499, count_176503);
                                                
                                                defunc_0_lifted_step_res_f_res_176513 = tmp_179608;
                                                defunc_0_lifted_step_res_f_res_176514 = tt_176501;
                                                defunc_0_lifted_step_res_f_res_176515 = tt_176502;
                                                defunc_0_lifted_step_res_f_res_176516 = (int64_t) 0;
                                            } else {
                                                bool cond_176518 = count_176503 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176519;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176520;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176521;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176522;
                                                
                                                if (cond_176518) {
                                                    bool x_179610 = sle64((int64_t) 0, ss_176499);
                                                    bool y_179611 = slt64(ss_176499, stride_176310);
                                                    bool bounds_check_179612 = x_179610 && y_179611;
                                                    bool index_certs_179613;
                                                    
                                                    if (!bounds_check_179612) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176499, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179618 = sle64((int64_t) 0, tt_176501);
                                                    bool y_179619 = slt64(tt_176501, j_m_i_176333);
                                                    bool bounds_check_179620 = x_179618 && y_179619;
                                                    bool index_certs_179621;
                                                    
                                                    if (!bounds_check_179620) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176501, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179614 = start_176384 + ss_176499;
                                                    int8_t leq_arg1_179615 = ((int8_t *) mem_param_180450.mem)[slice_179614];
                                                    int64_t leq_arg1_179616 = ((int64_t *) mem_param_180453.mem)[slice_179614];
                                                    float leq_arg1_179617 = ((float *) mem_param_180456.mem)[slice_179614];
                                                    int64_t slice_179622 = stride_176310 + tt_176501;
                                                    int64_t slice_179623 = start_176384 + slice_179622;
                                                    int8_t leq_arg0_179624 = ((int8_t *) mem_param_180450.mem)[slice_179623];
                                                    int64_t leq_arg0_179625 = ((int64_t *) mem_param_180453.mem)[slice_179623];
                                                    float leq_arg0_179626 = ((float *) mem_param_180456.mem)[slice_179623];
                                                    bool cond_179627 = leq_arg0_179624 == leq_arg1_179615;
                                                    bool defunc_0_leq_res_t_res_179628 = sle64(leq_arg0_179625, leq_arg1_179616);
                                                    bool defunc_0_leq_res_179629 = leq_arg0_179626 <= leq_arg1_179617;
                                                    bool x_179630 = cond_179627 && defunc_0_leq_res_t_res_179628;
                                                    bool x_179631 = !cond_179627;
                                                    bool y_179632 = defunc_0_leq_res_179629 && x_179631;
                                                    bool defunc_0_leq_res_179633 = x_179630 || y_179632;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    
                                                    if (defunc_0_leq_res_179633) {
                                                        int64_t tmp_179636 = add64((int64_t) 1, tt_176501);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = ss_176499;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tmp_179636;
                                                    } else {
                                                        int64_t tmp_179637 = add64((int64_t) 1, ss_176499);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = tmp_179637;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tt_176501;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = tt_176502;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176551 = sdiv64(count_176503, (int64_t) 2);
                                                    int64_t n_176552 = sub64(count_176503, m_176551);
                                                    bool cond_176553 = n_176552 == (int64_t) 0;
                                                    int64_t zgze_lhs_176554 = add64(ss_176499, m_176551);
                                                    bool cond_f_res_176555 = sle64(ss_176500, zgze_lhs_176554);
                                                    bool x_176556 = !cond_176553;
                                                    bool y_176557 = cond_f_res_176555 && x_176556;
                                                    bool cond_176558 = cond_176553 || y_176557;
                                                    bool leq_y_x_176559;
                                                    
                                                    if (cond_176558) {
                                                        leq_y_x_176559 = 1;
                                                    } else {
                                                        bool x_176560 = sle64((int64_t) 0, zgze_lhs_176554);
                                                        bool y_176561 = slt64(zgze_lhs_176554, stride_176310);
                                                        bool bounds_check_176562 = x_176560 && y_176561;
                                                        bool index_certs_176563;
                                                        
                                                        if (!bounds_check_176562) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176554, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176568 = add64(tt_176501, n_176552);
                                                        int64_t leq_arg0_176569 = sub64(zm_lhs_176568, (int64_t) 1);
                                                        bool x_176570 = sle64((int64_t) 0, leq_arg0_176569);
                                                        bool y_176571 = slt64(leq_arg0_176569, j_m_i_176333);
                                                        bool bounds_check_176572 = x_176570 && y_176571;
                                                        bool index_certs_176573;
                                                        
                                                        if (!bounds_check_176572) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176569, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176564 = start_176384 + zgze_lhs_176554;
                                                        int8_t leq_arg1_176565 = ((int8_t *) mem_param_180450.mem)[slice_176564];
                                                        int64_t leq_arg1_176566 = ((int64_t *) mem_param_180453.mem)[slice_176564];
                                                        float leq_arg1_176567 = ((float *) mem_param_180456.mem)[slice_176564];
                                                        int64_t slice_176574 = stride_176310 + leq_arg0_176569;
                                                        int64_t slice_176575 = start_176384 + slice_176574;
                                                        int8_t leq_arg0_176576 = ((int8_t *) mem_param_180450.mem)[slice_176575];
                                                        int64_t leq_arg0_176577 = ((int64_t *) mem_param_180453.mem)[slice_176575];
                                                        float leq_arg0_176578 = ((float *) mem_param_180456.mem)[slice_176575];
                                                        bool cond_176579 = leq_arg0_176576 == leq_arg1_176565;
                                                        bool defunc_0_leq_res_t_res_176580 = sle64(leq_arg0_176577, leq_arg1_176566);
                                                        bool defunc_0_leq_res_176581 = leq_arg0_176578 <= leq_arg1_176567;
                                                        bool x_176582 = cond_176579 && defunc_0_leq_res_t_res_176580;
                                                        bool x_176583 = !cond_176579;
                                                        bool y_176584 = defunc_0_leq_res_176581 && x_176583;
                                                        bool defunc_0_leq_res_176585 = x_176582 || y_176584;
                                                        
                                                        leq_y_x_176559 = defunc_0_leq_res_176585;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                    
                                                    if (leq_y_x_176559) {
                                                        int64_t tmp_179638 = add64(tt_176501, n_176552);
                                                        int64_t tmp_179639 = sub64(count_176503, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tmp_179638;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tt_176502;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = tmp_179639;
                                                    } else {
                                                        int64_t tmp_176591 = add64(tt_176501, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tt_176501;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tmp_176591;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = count_176503;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = ss_176499;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                }
                                                defunc_0_lifted_step_res_f_res_176513 = defunc_0_lifted_step_res_f_res_f_res_176519;
                                                defunc_0_lifted_step_res_f_res_176514 = defunc_0_lifted_step_res_f_res_f_res_176520;
                                                defunc_0_lifted_step_res_f_res_176515 = defunc_0_lifted_step_res_f_res_f_res_176521;
                                                defunc_0_lifted_step_res_f_res_176516 = defunc_0_lifted_step_res_f_res_f_res_176522;
                                            }
                                            defunc_0_lifted_step_res_176506 = defunc_0_lifted_step_res_f_res_176513;
                                            defunc_0_lifted_step_res_176507 = defunc_0_lifted_step_res_f_res_176514;
                                            defunc_0_lifted_step_res_176508 = defunc_0_lifted_step_res_f_res_176515;
                                            defunc_0_lifted_step_res_176509 = defunc_0_lifted_step_res_f_res_176516;
                                        }
                                        
                                        int64_t loopres_176592;
                                        int64_t loopres_176593;
                                        int64_t loopres_176594;
                                        int64_t loopres_176595;
                                        int64_t loopres_176596;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_176592, &loopres_176593, &loopres_176594, &loopres_176595, &loopres_176596, defunc_0_lifted_step_res_176506, ss_176500, defunc_0_lifted_step_res_176507, defunc_0_lifted_step_res_176508, defunc_0_lifted_step_res_176509) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176597 = slt64((int64_t) 0, loopres_176596);
                                        bool loop_while_tmp_181876 = loop_cond_176597;
                                        int64_t ss_tmp_181877 = loopres_176592;
                                        int64_t ss_tmp_181878 = loopres_176593;
                                        int64_t tt_tmp_181879 = loopres_176594;
                                        int64_t tt_tmp_181880 = loopres_176595;
                                        int64_t count_tmp_181881 = loopres_176596;
                                        
                                        loop_while_176498 = loop_while_tmp_181876;
                                        ss_176499 = ss_tmp_181877;
                                        ss_176500 = ss_tmp_181878;
                                        tt_176501 = tt_tmp_181879;
                                        tt_176502 = tt_tmp_181880;
                                        count_176503 = count_tmp_181881;
                                    }
                                    defunc_0_split_count_res_176492 = loop_while_176498;
                                    defunc_0_split_count_res_176493 = ss_176499;
                                    defunc_0_split_count_res_176494 = ss_176500;
                                    defunc_0_split_count_res_176495 = tt_176501;
                                    defunc_0_split_count_res_176496 = tt_176502;
                                    defunc_0_split_count_res_176497 = count_176503;
                                    ((int64_t *) mem_180478)[i_180061] = defunc_0_split_count_res_176493;
                                    ((int64_t *) mem_180480)[i_180061] = defunc_0_split_count_res_176495;
                                }
                                if (mem_180494_cached_sizze_182094 < flat_dim_176334) {
                                    err = lexical_realloc(ctx, &mem_180494, &mem_180494_cached_sizze_182094, flat_dim_176334);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180497_cached_sizze_182095 < bytes_180496) {
                                    err = lexical_realloc(ctx, &mem_180497, &mem_180497_cached_sizze_182095, bytes_180496);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180500_cached_sizze_182096 < bytes_180499) {
                                    err = lexical_realloc(ctx, &mem_180500, &mem_180500_cached_sizze_182096, bytes_180499);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180070 = 0; i_180070 < num_blocks_176331; i_180070++) {
                                    bool y_176604 = slt64(i_180070, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool index_certs_176606;
                                    
                                    if (!y_176604) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176607 = ((int64_t *) mem_180478)[i_180070];
                                    int64_t defunc_0_f_res_176608 = ((int64_t *) mem_180480)[i_180070];
                                    int64_t tmp_176609 = add64((int64_t) 1, i_180070);
                                    bool x_176610 = sle64((int64_t) 0, tmp_176609);
                                    bool y_176611 = slt64(tmp_176609, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool bounds_check_176612 = x_176610 && y_176611;
                                    bool index_certs_176613;
                                    
                                    if (!bounds_check_176612) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176609, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176614 = ((int64_t *) mem_180478)[tmp_176609];
                                    int64_t defunc_0_f_res_176615 = ((int64_t *) mem_180480)[tmp_176609];
                                    int64_t merge_sequential_arg2_176616 = add64(stride_176310, defunc_0_f_res_176608);
                                    int64_t merge_sequential_arg2_176617 = add64(stride_176310, defunc_0_f_res_176615);
                                    int64_t j_m_i_176618 = sub64(merge_sequential_arg2_176617, merge_sequential_arg2_176616);
                                    bool empty_slice_176619 = j_m_i_176618 == (int64_t) 0;
                                    int64_t m_176620 = sub64(j_m_i_176618, (int64_t) 1);
                                    int64_t i_p_m_t_s_176621 = add64(merge_sequential_arg2_176616, m_176620);
                                    bool zzero_leq_i_p_m_t_s_176622 = sle64((int64_t) 0, i_p_m_t_s_176621);
                                    bool i_p_m_t_s_leq_w_176623 = slt64(i_p_m_t_s_176621, next_stride_176311);
                                    bool zzero_lte_i_176624 = sle64((int64_t) 0, merge_sequential_arg2_176616);
                                    bool i_lte_j_176625 = sle64(merge_sequential_arg2_176616, merge_sequential_arg2_176617);
                                    bool y_176626 = i_p_m_t_s_leq_w_176623 && zzero_lte_i_176624;
                                    bool y_176627 = zzero_leq_i_p_m_t_s_176622 && y_176626;
                                    bool forwards_ok_176628 = i_lte_j_176625 && y_176627;
                                    bool ok_or_empty_176629 = empty_slice_176619 || forwards_ok_176628;
                                    bool index_certs_176630;
                                    
                                    if (!ok_or_empty_176629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176616, ":", (long long) merge_sequential_arg2_176617, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176631 = sub64(defunc_0_f_res_176614, defunc_0_f_res_176607);
                                    bool empty_slice_176632 = j_m_i_176631 == (int64_t) 0;
                                    int64_t m_176633 = sub64(j_m_i_176631, (int64_t) 1);
                                    int64_t i_p_m_t_s_176634 = add64(defunc_0_f_res_176607, m_176633);
                                    bool zzero_leq_i_p_m_t_s_176635 = sle64((int64_t) 0, i_p_m_t_s_176634);
                                    bool i_p_m_t_s_leq_w_176636 = slt64(i_p_m_t_s_176634, next_stride_176311);
                                    bool zzero_lte_i_176637 = sle64((int64_t) 0, defunc_0_f_res_176607);
                                    bool i_lte_j_176638 = sle64(defunc_0_f_res_176607, defunc_0_f_res_176614);
                                    bool y_176639 = i_p_m_t_s_leq_w_176636 && zzero_lte_i_176637;
                                    bool y_176640 = zzero_leq_i_p_m_t_s_176635 && y_176639;
                                    bool forwards_ok_176641 = i_lte_j_176638 && y_176640;
                                    bool ok_or_empty_176642 = empty_slice_176632 || forwards_ok_176641;
                                    bool index_certs_176643;
                                    
                                    if (!ok_or_empty_176642) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176607, ":", (long long) defunc_0_f_res_176614, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176644 = slt64((int64_t) 0, j_m_i_176631);
                                    int8_t dummy_176645;
                                    int64_t dummy_176646;
                                    float dummy_176647;
                                    
                                    if (cond_176644) {
                                        bool index_certs_179640;
                                        
                                        if (!cond_176644) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179641 = start_176384 + defunc_0_f_res_176607;
                                        int8_t head_res_179642 = ((int8_t *) mem_param_180450.mem)[slice_179641];
                                        int64_t head_res_179643 = ((int64_t *) mem_param_180453.mem)[slice_179641];
                                        float head_res_179644 = ((float *) mem_param_180456.mem)[slice_179641];
                                        
                                        dummy_176645 = head_res_179642;
                                        dummy_176646 = head_res_179643;
                                        dummy_176647 = head_res_179644;
                                    } else {
                                        bool y_176653 = slt64((int64_t) 0, j_m_i_176618);
                                        bool index_certs_176654;
                                        
                                        if (!y_176653) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176655 = start_176384 + merge_sequential_arg2_176616;
                                        int8_t head_res_176656 = ((int8_t *) mem_param_180450.mem)[slice_176655];
                                        int64_t head_res_176657 = ((int64_t *) mem_param_180453.mem)[slice_176655];
                                        float head_res_176658 = ((float *) mem_param_180456.mem)[slice_176655];
                                        
                                        dummy_176645 = head_res_176656;
                                        dummy_176646 = head_res_176657;
                                        dummy_176647 = head_res_176658;
                                    }
                                    for (int64_t nest_i_181885 = 0; nest_i_181885 < merge_block_sizze_176148; nest_i_181885++) {
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + nest_i_181885] = dummy_176645;
                                    }
                                    for (int64_t nest_i_181886 = 0; nest_i_181886 < merge_block_sizze_176148; nest_i_181886++) {
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + nest_i_181886] = dummy_176646;
                                    }
                                    for (int64_t nest_i_181887 = 0; nest_i_181887 < merge_block_sizze_176148; nest_i_181887++) {
                                        ((float *) mem_180500)[i_180070 * merge_block_sizze_176148 + nest_i_181887] = dummy_176647;
                                    }
                                    
                                    int64_t data_176662;
                                    int64_t i_176667 = (int64_t) 0;
                                    
                                    for (int64_t k_176666 = 0; k_176666 < merge_block_sizze_176148; k_176666++) {
                                        int64_t j_176671 = sub64(k_176666, i_176667);
                                        bool cond_176672 = j_176671 == j_m_i_176618;
                                        bool cond_176673;
                                        
                                        if (cond_176672) {
                                            cond_176673 = 1;
                                        } else {
                                            bool cond_176674 = slt64(i_176667, j_m_i_176631);
                                            bool cond_f_res_176675;
                                            
                                            if (cond_176674) {
                                                bool x_179645 = sle64((int64_t) 0, j_176671);
                                                bool y_179646 = slt64(j_176671, j_m_i_176618);
                                                bool bounds_check_179647 = x_179645 && y_179646;
                                                bool index_certs_179648;
                                                
                                                if (!bounds_check_179647) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179654 = sle64((int64_t) 0, i_176667);
                                                bool bounds_check_179655 = cond_176674 && x_179654;
                                                bool index_certs_179656;
                                                
                                                if (!bounds_check_179655) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179649 = merge_sequential_arg2_176616 + j_176671;
                                                int64_t slice_179650 = start_176384 + slice_179649;
                                                int8_t leq_arg1_179651 = ((int8_t *) mem_param_180450.mem)[slice_179650];
                                                int64_t leq_arg1_179652 = ((int64_t *) mem_param_180453.mem)[slice_179650];
                                                float leq_arg1_179653 = ((float *) mem_param_180456.mem)[slice_179650];
                                                int64_t slice_179657 = defunc_0_f_res_176607 + i_176667;
                                                int64_t slice_179658 = start_176384 + slice_179657;
                                                int8_t leq_arg0_179659 = ((int8_t *) mem_param_180450.mem)[slice_179658];
                                                int64_t leq_arg0_179660 = ((int64_t *) mem_param_180453.mem)[slice_179658];
                                                float leq_arg0_179661 = ((float *) mem_param_180456.mem)[slice_179658];
                                                bool cond_179662 = leq_arg0_179659 == leq_arg1_179651;
                                                bool defunc_0_leq_res_t_res_179663 = sle64(leq_arg0_179660, leq_arg1_179652);
                                                bool defunc_0_leq_res_179664 = leq_arg0_179661 <= leq_arg1_179653;
                                                bool x_179665 = cond_179662 && defunc_0_leq_res_t_res_179663;
                                                bool x_179666 = !cond_179662;
                                                bool y_179667 = defunc_0_leq_res_179664 && x_179666;
                                                bool defunc_0_leq_res_179668 = x_179665 || y_179667;
                                                
                                                cond_f_res_176675 = defunc_0_leq_res_179668;
                                            } else {
                                                cond_f_res_176675 = 0;
                                            }
                                            cond_176673 = cond_f_res_176675;
                                        }
                                        
                                        int64_t loopres_176700;
                                        int8_t loopres_176701;
                                        int64_t loopres_176702;
                                        float loopres_176703;
                                        
                                        if (cond_176673) {
                                            bool x_179670 = sle64((int64_t) 0, i_176667);
                                            bool y_179671 = slt64(i_176667, j_m_i_176631);
                                            bool bounds_check_179672 = x_179670 && y_179671;
                                            bool index_certs_179673;
                                            
                                            if (!bounds_check_179672) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179669 = add64((int64_t) 1, i_176667);
                                            int64_t slice_179674 = defunc_0_f_res_176607 + i_176667;
                                            int64_t slice_179675 = start_176384 + slice_179674;
                                            int8_t tmp_179676 = ((int8_t *) mem_param_180450.mem)[slice_179675];
                                            int64_t tmp_179677 = ((int64_t *) mem_param_180453.mem)[slice_179675];
                                            float tmp_179678 = ((float *) mem_param_180456.mem)[slice_179675];
                                            
                                            loopres_176700 = tmp_179669;
                                            loopres_176701 = tmp_179676;
                                            loopres_176702 = tmp_179677;
                                            loopres_176703 = tmp_179678;
                                        } else {
                                            bool x_176714 = sle64((int64_t) 0, j_176671);
                                            bool y_176715 = slt64(j_176671, j_m_i_176618);
                                            bool bounds_check_176716 = x_176714 && y_176715;
                                            bool index_certs_176717;
                                            
                                            if (!bounds_check_176716) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176718 = merge_sequential_arg2_176616 + j_176671;
                                            int64_t slice_176719 = start_176384 + slice_176718;
                                            int8_t tmp_176720 = ((int8_t *) mem_param_180450.mem)[slice_176719];
                                            int64_t tmp_176721 = ((int64_t *) mem_param_180453.mem)[slice_176719];
                                            float tmp_176722 = ((float *) mem_param_180456.mem)[slice_176719];
                                            
                                            loopres_176700 = i_176667;
                                            loopres_176701 = tmp_176720;
                                            loopres_176702 = tmp_176721;
                                            loopres_176703 = tmp_176722;
                                        }
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176701;
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176702;
                                        ((float *) mem_180500)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176703;
                                        
                                        int64_t i_tmp_181888 = loopres_176700;
                                        
                                        i_176667 = i_tmp_181888;
                                    }
                                    data_176662 = i_176667;
                                }
                                if (memblock_alloc(ctx, &mem_180549, flat_dim_176334, "mem_180549")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180549.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint8_t *) mem_180494, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180553, bytes_180496, "mem_180553")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180553.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint64_t *) mem_180497, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180557, bytes_180499, "mem_180557")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180557.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint32_t *) mem_180500, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180549, "mem_180549") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180553, "mem_180553") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180557, "mem_180557") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180458, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180590.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180461, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180587.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180464, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180584.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180604, bytes_180457, "mem_180604")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180604.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint8_t *) mem_180458, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180608, bytes_180460, "mem_180608")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180608.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint64_t *) mem_180461, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180612, bytes_180463, "mem_180612")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180612.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint32_t *) mem_180464, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        
                        bool loop_cond_176736 = slt64(next_stride_176311, flat_dim_176143);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181855, &mem_180604, "mem_180604") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181856, &mem_180608, "mem_180608") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181857, &mem_180612, "mem_180612") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181858 = bytes_180457;
                        bool loop_while_tmp_181859 = loop_cond_176736;
                        int64_t stride_tmp_181863 = next_stride_176311;
                        
                        if (memblock_set(ctx, &mem_param_180450, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180453, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180456, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176305 = loop_dz2084Uz2082U_tmp_181858;
                        loop_while_176306 = loop_while_tmp_181859;
                        stride_176310 = stride_tmp_181863;
                    }
                    if (memblock_set(ctx, &ext_mem_180622, &mem_param_180450, "mem_param_180450") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180621, &mem_param_180453, "mem_param_180453") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180620, &mem_param_180456, "mem_param_180456") != 0)
                        return 1;
                    data_176299 = loop_dz2084Uz2082U_176305;
                    data_176300 = loop_while_176306;
                    data_176304 = stride_176310;
                    if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
                        return 1;
                    
                    bool empty_slice_176737 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176738 = sle64((int64_t) 0, zs_lhs_176127);
                    bool i_p_m_t_s_leq_w_176739 = slt64(zs_lhs_176127, data_176299);
                    bool y_176740 = zzero_leq_i_p_m_t_s_176738 && i_p_m_t_s_leq_w_176739;
                    bool ok_or_empty_176741 = empty_slice_176737 || y_176740;
                    bool index_certs_176742;
                    
                    if (!ok_or_empty_176741) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] out of bounds for array of shape [", (long long) data_176299, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180631, &ext_mem_180622, "ext_mem_180622") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &ext_mem_180621, "ext_mem_180621") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &ext_mem_180620, "ext_mem_180620") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180312.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180631.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180314.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180628.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180316.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180625.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
                    return 1;
                
                bool loop_cond_176778 = slt64(ubs_176070, threads_152004);
                bool loop_while_tmp_181822 = loop_cond_176778;
                int64_t p_tmp_181823 = ubs_176070;
                
                loop_while_176059 = loop_while_tmp_181822;
                p_176060 = p_tmp_181823;
            }
            defunc_0_mergeFunc_seq_res_176054 = loop_while_176059;
            defunc_0_mergeFunc_seq_res_176055 = p_176060;
            
            int64_t index_concat_branch_177595;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179693 = ((int64_t *) mem_180297)[index_concat_i_177592];
                
                index_concat_branch_177595 = index_concat_179693;
            } else {
                index_concat_branch_177595 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177589;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179694 = ((int64_t *) mem_180299)[index_concat_i_177592];
                
                index_concat_branch_177589 = index_concat_179694;
            } else {
                index_concat_branch_177589 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_180312, "mem_180312") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_180314, "mem_180314") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_180316, "mem_180316") != 0)
                return 1;
            loopres_174818 = index_concat_branch_177595;
            loopres_174819 = index_concat_branch_177589;
        }
        for (int64_t i_180086 = 0; i_180086 < window_sizze_152003; i_180086++) {
            int8_t eta_p_176786 = ((int8_t *) ext_mem_181050.mem)[i_180086];
            int64_t eta_p_176787 = ((int64_t *) ext_mem_181047.mem)[i_180086];
            bool cond_176788 = eta_p_176786 == (int8_t) 0;
            int64_t tmp_176789;
            
            if (cond_176788) {
                int64_t tmp_t_res_179697 = add64(p_174790, eta_p_176787);
                
                tmp_176789 = tmp_t_res_179697;
            } else {
                int64_t tmp_f_res_176791 = add64(p_174791, eta_p_176787);
                
                tmp_176789 = tmp_f_res_176791;
            }
            ((int64_t *) mem_180284.mem)[ind_bottom_174794 + i_180086] = tmp_176789;
        }
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        
        int64_t next_lbs_176792 = add64(p_174790, loopres_174818);
        int64_t next_lbs_176793 = add64(p_174791, loopres_174819);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181050.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152003});
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180286.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152003});
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        
        bool cond_176807 = slt64(next_lbs_176792, zl_rhs_174773);
        bool loop_cond_t_res_176808 = slt64(next_lbs_176793, zl_rhs_174775);
        bool x_176809 = cond_176807 && loop_cond_t_res_176808;
        bool loop_while_tmp_181706 = x_176809;
        int64_t p_tmp_181710 = next_lbs_176792;
        int64_t p_tmp_181711 = next_lbs_176793;
        
        loop_while_174786 = loop_while_tmp_181706;
        p_174790 = p_tmp_181710;
        p_174791 = p_tmp_181711;
    }
    defunc_0_merge_pipeline_res_174780 = loop_while_174786;
    defunc_0_merge_pipeline_res_174784 = p_174790;
    defunc_0_merge_pipeline_res_174785 = p_174791;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 = sub64(nb_152002, defunc_0_merge_pipeline_res_174785);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 = sub64(na_152001, defunc_0_merge_pipeline_res_174784);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    bool empty_slice_176813 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 == (int64_t) 0;
    int64_t m_176814 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 1);
    int64_t i_p_m_t_s_176815 = add64(defunc_0_merge_pipeline_res_174784, m_176814);
    bool zzero_leq_i_p_m_t_s_176816 = sle64((int64_t) 0, i_p_m_t_s_176815);
    bool i_p_m_t_s_leq_w_176817 = slt64(i_p_m_t_s_176815, na_152001);
    bool zzero_lte_i_176818 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174784);
    bool i_lte_j_176819 = sle64(defunc_0_merge_pipeline_res_174784, na_152001);
    bool y_176820 = i_p_m_t_s_leq_w_176817 && zzero_lte_i_176818;
    bool y_176821 = zzero_leq_i_p_m_t_s_176816 && y_176820;
    bool forwards_ok_176822 = i_lte_j_176819 && y_176821;
    bool ok_or_empty_176823 = empty_slice_176813 || forwards_ok_176822;
    bool index_certs_176824;
    
    if (!ok_or_empty_176823) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174784, ":", (long long) na_152001, "] out of bounds for array of shape [", (long long) na_152001, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176828 = slt64(na_152001, defunc_0_merge_pipeline_res_174784);
    bool valid_176829 = !bounds_invalid_upwards_176828;
    bool range_valid_c_176830;
    
    if (!valid_176829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174784, "..<", (long long) na_152001, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176834 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 == (int64_t) 0;
    int64_t m_176835 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, (int64_t) 1);
    int64_t i_p_m_t_s_176836 = add64(defunc_0_merge_pipeline_res_174785, m_176835);
    bool zzero_leq_i_p_m_t_s_176837 = sle64((int64_t) 0, i_p_m_t_s_176836);
    bool i_p_m_t_s_leq_w_176838 = slt64(i_p_m_t_s_176836, nb_152002);
    bool zzero_lte_i_176839 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174785);
    bool i_lte_j_176840 = sle64(defunc_0_merge_pipeline_res_174785, nb_152002);
    bool y_176841 = i_p_m_t_s_leq_w_176838 && zzero_lte_i_176839;
    bool y_176842 = zzero_leq_i_p_m_t_s_176837 && y_176841;
    bool forwards_ok_176843 = i_lte_j_176840 && y_176842;
    bool ok_or_empty_176844 = empty_slice_176834 || forwards_ok_176843;
    bool index_certs_176845;
    
    if (!ok_or_empty_176844) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174785, ":", (long long) nb_152002, "] out of bounds for array of shape [", (long long) nb_152002, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176849 = slt64(nb_152002, defunc_0_merge_pipeline_res_174785);
    bool valid_176850 = !bounds_invalid_upwards_176849;
    bool range_valid_c_176851;
    
    if (!valid_176850) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174785, "..<", (long long) nb_152002, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181075 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    int64_t bytes_181077 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool cond_176858 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zs_lhs_176859 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zp_rhs_176860 = sdiv_safe64(zs_lhs_176859, (int64_t) 20);
    int64_t min_num_blocks_176861 = add64((int64_t) 1, zp_rhs_176860);
    bool loop_cond_176862 = slt64((int64_t) 1, min_num_blocks_176861);
    bool smallest_pow_2_geq_than_res_176863;
    int64_t smallest_pow_2_geq_than_res_176864;
    bool loop_while_176865;
    int64_t x_176866;
    
    loop_while_176865 = loop_cond_176862;
    x_176866 = (int64_t) 1;
    while (loop_while_176865) {
        int64_t loopres_176867 = mul64((int64_t) 2, x_176866);
        bool loop_cond_176868 = slt64(loopres_176867, min_num_blocks_176861);
        bool loop_while_tmp_181893 = loop_cond_176868;
        int64_t x_tmp_181894 = loopres_176867;
        
        loop_while_176865 = loop_while_tmp_181893;
        x_176866 = x_tmp_181894;
    }
    smallest_pow_2_geq_than_res_176863 = loop_while_176865;
    smallest_pow_2_geq_than_res_176864 = x_176866;
    
    bool zzero_176869 = smallest_pow_2_geq_than_res_176864 == (int64_t) 0;
    bool nonzzero_176870 = !zzero_176869;
    bool protect_assert_disj_176871 = cond_176858 || nonzzero_176870;
    bool nonzzero_cert_176872;
    
    if (!protect_assert_disj_176871) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176873 = sdiv_safe64(zs_lhs_176859, smallest_pow_2_geq_than_res_176864);
    int64_t block_sizze_176874 = add64((int64_t) 1, zp_rhs_176873);
    bool y_176881 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool protect_assert_disj_181403 = cond_176858 || y_176881;
    bool index_certs_176882;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176908 = slt64(smallest_pow_2_geq_than_res_176864, (int64_t) 0);
    bool valid_176909 = !bounds_invalid_upwards_176908;
    bool protect_assert_disj_181413 = cond_176858 || valid_176909;
    bool range_valid_c_176910;
    
    if (!protect_assert_disj_181413) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176864, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176912 = slt64(block_sizze_176874, (int64_t) 0);
    bool valid_176913 = !bounds_invalid_upwards_176912;
    bool protect_assert_disj_181415 = cond_176858 || valid_176913;
    bool range_valid_c_176914;
    
    if (!protect_assert_disj_181415) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176916 = sle64(block_sizze_176874, (int64_t) 1);
    int64_t tmp_176917 = sub64(block_sizze_176874, (int64_t) 2);
    bool bounds_invalid_upwards_176918 = slt64(tmp_176917, (int64_t) 0);
    bool valid_176920 = !bounds_invalid_upwards_176918;
    bool protect_assert_disj_176921 = cond_176916 || valid_176920;
    bool protect_assert_disj_181417 = cond_176858 || protect_assert_disj_176921;
    bool range_valid_c_176922;
    
    if (!protect_assert_disj_181417) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176917, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177483 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177485 = sle64((int64_t) 0, zs_lhs_176859);
    bool i_p_m_t_s_leq_w_177486 = slt64(zs_lhs_176859, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool y_177487 = zzero_leq_i_p_m_t_s_177485 && i_p_m_t_s_leq_w_177486;
    bool ok_or_empty_177488 = empty_slice_177483 || y_177487;
    bool index_certs_177489;
    
    if (!ok_or_empty_177488) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177490 = add64(defunc_0_merge_pipeline_res_174784, defunc_0_merge_pipeline_res_174785);
    int64_t j_m_i_177491 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, final_buffer_177490);
    bool empty_slice_177492 = j_m_i_177491 == (int64_t) 0;
    int64_t m_177493 = sub64(j_m_i_177491, (int64_t) 1);
    int64_t i_p_m_t_s_177494 = add64(final_buffer_177490, m_177493);
    bool zzero_leq_i_p_m_t_s_177495 = sle64((int64_t) 0, i_p_m_t_s_177494);
    bool i_p_m_t_s_leq_w_177496 = slt64(i_p_m_t_s_177494, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool zzero_lte_i_177497 = sle64((int64_t) 0, final_buffer_177490);
    bool i_lte_j_177498 = sle64(final_buffer_177490, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool y_177499 = i_p_m_t_s_leq_w_177496 && zzero_lte_i_177497;
    bool y_177500 = zzero_leq_i_p_m_t_s_177495 && y_177499;
    bool forwards_ok_177501 = i_lte_j_177498 && y_177500;
    bool ok_or_empty_177502 = empty_slice_177492 || forwards_ok_177501;
    bool index_certs_177503;
    
    if (!ok_or_empty_177502) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177490, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177504 = j_m_i_177491 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool empty_or_match_cert_177505;
    
    if (!dim_match_177504) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177491, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181074, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "mem_181074")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181895 = 0; nest_i_181895 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; nest_i_181895++) {
        ((int8_t *) mem_181074.mem)[nest_i_181895] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181076, bytes_181075, "mem_181076")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181896 = 0; i_181896 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; i_181896++) {
        int64_t x_181897 = defunc_0_merge_pipeline_res_174784 + i_181896 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[i_181896] = x_181897;
    }
    for (int64_t nest_i_181898 = 0; nest_i_181898 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; nest_i_181898++) {
        ((int8_t *) mem_181074.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + nest_i_181898] = (int8_t) 1;
    }
    for (int64_t i_181899 = 0; i_181899 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; i_181899++) {
        int64_t x_181900 = defunc_0_merge_pipeline_res_174785 + i_181899 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + i_181899] = x_181900;
    }
    
    int64_t tmp_offs_181901 = (int64_t) 0;
    
    if (!(tmp_offs_181901 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181901 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t tmp_offs_181902 = (int64_t) 0;
    
    if (!(tmp_offs_181902 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181902 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    if (memblock_alloc(ctx, &mem_181078, bytes_181077, "mem_181078")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181903 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180280.mem, defunc_0_merge_pipeline_res_174784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180281.mem, defunc_0_merge_pipeline_res_174785, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t flat_dim_176875 = smallest_pow_2_geq_than_res_176864 * block_sizze_176874;
    bool x_181398 = !cond_176858;
    int64_t greatest_divisor_leq_than_arg1_176879 = mul64((int64_t) 2, block_sizze_176874);
    int64_t merge_block_sizze_176880;
    
    if (x_181398) {
        int64_t x_181400;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181400, (int64_t) 8, greatest_divisor_leq_than_arg1_176879) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176880 = x_181400;
    } else {
        merge_block_sizze_176880 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177555 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 0);
    int8_t index_concat_branch_177559 = btoi_bool_i8(index_concat_cmp_177555);
    int64_t index_concat_i_179699 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    int64_t index_primexp_179700 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179699);
    int64_t index_concat_branch_177553;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177553 = index_primexp_179700;
    } else {
        index_concat_branch_177553 = defunc_0_merge_pipeline_res_174784;
    }
    
    bool x_181394 = !index_concat_cmp_177555;
    bool protect_cond_conj_181404 = x_181394 && x_181398;
    float index_concat_177546;
    
    if (protect_cond_conj_181404) {
        float x_181396 = ((float *) a_list_mem_180280.mem)[defunc_0_merge_pipeline_res_174784];
        
        index_concat_177546 = x_181396;
    } else {
        index_concat_177546 = 0.0F;
    }
    
    bool protect_cond_conj_181405 = index_concat_cmp_177555 && x_181398;
    float index_concat_179703;
    
    if (protect_cond_conj_181405) {
        float x_181392 = ((float *) b_list_mem_180281.mem)[index_primexp_179700];
        
        index_concat_179703 = x_181392;
    } else {
        index_concat_179703 = 0.0F;
    }
    
    float index_concat_branch_177547;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177547 = index_concat_179703;
    } else {
        index_concat_branch_177547 = index_concat_177546;
    }
    
    int8_t defunc_0_reduce_res_179934;
    int64_t defunc_0_reduce_res_179935;
    float defunc_0_reduce_res_179936;
    
    if (x_181398) {
        int8_t x_181406;
        int64_t x_181407;
        float x_181408;
        int8_t redout_180088;
        int64_t redout_180089;
        float redout_180090;
        
        redout_180088 = index_concat_branch_177559;
        redout_180089 = index_concat_branch_177553;
        redout_180090 = index_concat_branch_177547;
        for (int64_t i_180091 = 0; i_180091 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812; i_180091++) {
            bool index_concat_cmp_180162 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, i_180091);
            int8_t index_concat_branch_180166 = btoi_bool_i8(index_concat_cmp_180162);
            int64_t index_concat_branch_180160;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180157 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t index_primexp_180250 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_180157);
                
                index_concat_branch_180160 = index_primexp_180250;
            } else {
                int64_t index_primexp_180252 = add64(defunc_0_merge_pipeline_res_174784, i_180091);
                
                index_concat_branch_180160 = index_primexp_180252;
            }
            
            float index_concat_branch_180154;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180151 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t slice_180247 = defunc_0_merge_pipeline_res_174785 + index_concat_i_180151;
                float index_concat_180152 = ((float *) b_list_mem_180281.mem)[slice_180247];
                
                index_concat_branch_180154 = index_concat_180152;
            } else {
                int64_t slice_180248 = defunc_0_merge_pipeline_res_174784 + i_180091;
                float index_concat_180153 = ((float *) a_list_mem_180280.mem)[slice_180248];
                
                index_concat_branch_180154 = index_concat_180153;
            }
            
            bool eq_x_y_180265 = redout_180088 == (int8_t) 1;
            bool eq_x_zz_180266 = redout_180088 == (int8_t) 0;
            bool p_and_eq_x_y_180267 = index_concat_cmp_180162 && eq_x_y_180265;
            bool not_p_180268 = !index_concat_cmp_180162;
            bool p_and_eq_x_y_180269 = eq_x_zz_180266 && not_p_180268;
            bool cond_176898 = p_and_eq_x_y_180267 || p_and_eq_x_y_180269;
            bool defunc_0_leq_res_t_res_176899 = sle64(redout_180089, index_concat_branch_180160);
            bool defunc_0_leq_res_176900 = redout_180090 <= index_concat_branch_180154;
            bool x_176901 = cond_176898 && defunc_0_leq_res_t_res_176899;
            bool x_176902 = !cond_176898;
            bool y_176903 = defunc_0_leq_res_176900 && x_176902;
            bool defunc_0_leq_res_176904 = x_176901 || y_176903;
            int8_t defunc_0_op_res_176905;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176905 = index_concat_branch_180166;
            } else {
                defunc_0_op_res_176905 = redout_180088;
            }
            
            int64_t defunc_0_op_res_176906;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176906 = index_concat_branch_180160;
            } else {
                defunc_0_op_res_176906 = redout_180089;
            }
            
            float defunc_0_op_res_176907;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176907 = index_concat_branch_180154;
            } else {
                defunc_0_op_res_176907 = redout_180090;
            }
            
            int8_t redout_tmp_181904 = defunc_0_op_res_176905;
            int64_t redout_tmp_181905 = defunc_0_op_res_176906;
            float redout_tmp_181906 = defunc_0_op_res_176907;
            
            redout_180088 = redout_tmp_181904;
            redout_180089 = redout_tmp_181905;
            redout_180090 = redout_tmp_181906;
        }
        x_181406 = redout_180088;
        x_181407 = redout_180089;
        x_181408 = redout_180090;
        defunc_0_reduce_res_179934 = x_181406;
        defunc_0_reduce_res_179935 = x_181407;
        defunc_0_reduce_res_179936 = x_181408;
    } else {
        defunc_0_reduce_res_179934 = (int8_t) 0;
        defunc_0_reduce_res_179935 = (int64_t) 0;
        defunc_0_reduce_res_179936 = 0.0F;
    }
    
    int64_t distance_176919 = add64((int64_t) 1, tmp_176917);
    int64_t binop_x_181081 = (int64_t) 8 * smallest_pow_2_geq_than_res_176864;
    int64_t bytes_181082 = block_sizze_176874 * binop_x_181081;
    int64_t binop_x_181084 = (int64_t) 4 * smallest_pow_2_geq_than_res_176864;
    int64_t bytes_181085 = block_sizze_176874 * binop_x_181084;
    int64_t bytes_181100 = (int64_t) 8 * block_sizze_176874;
    int64_t bytes_181102 = (int64_t) 4 * block_sizze_176874;
    bool loop_cond_177028 = slt64(block_sizze_176874, flat_dim_176875);
    bool zzero_177029 = merge_block_sizze_176880 == (int64_t) 0;
    bool nonzzero_177030 = !zzero_177029;
    
    if (cond_176858) {
        if (memblock_set(ctx, &ext_mem_181373, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &mem_181078, "mem_181078") != 0)
            return 1;
    } else {
        if (mem_181080_cached_sizze_182117 < flat_dim_176875) {
            err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182117, flat_dim_176875);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181083_cached_sizze_182118 < bytes_181082) {
            err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182118, bytes_181082);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181086_cached_sizze_182119 < bytes_181085) {
            err = lexical_realloc(ctx, &mem_181086, &mem_181086_cached_sizze_182119, bytes_181085);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181099_cached_sizze_182120 < block_sizze_176874) {
            err = lexical_realloc(ctx, &mem_181099, &mem_181099_cached_sizze_182120, block_sizze_176874);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181101_cached_sizze_182121 < bytes_181100) {
            err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_182121, bytes_181100);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181103_cached_sizze_182122 < bytes_181102) {
            err = lexical_realloc(ctx, &mem_181103, &mem_181103_cached_sizze_182122, bytes_181102);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180108 = 0; i_180108 < smallest_pow_2_geq_than_res_176864; i_180108++) {
            int64_t zp_lhs_176927 = mul64(block_sizze_176874, i_180108);
            
            for (int64_t i_180098 = 0; i_180098 < block_sizze_176874; i_180098++) {
                int64_t k_176932 = add64(zp_lhs_176927, i_180098);
                bool cond_176933 = slt64(k_176932, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
                int8_t lifted_lambda_res_176934;
                int64_t lifted_lambda_res_176935;
                float lifted_lambda_res_176936;
                
                if (cond_176933) {
                    bool x_179709 = sle64((int64_t) 0, k_176932);
                    bool bounds_check_179710 = cond_176933 && x_179709;
                    bool index_certs_179711;
                    
                    if (!bounds_check_179710) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176932, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179712 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, k_176932);
                    int8_t index_concat_branch_179713 = btoi_bool_i8(index_concat_cmp_179712);
                    int64_t index_concat_branch_179714;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179715 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t index_primexp_179716 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179715);
                        
                        index_concat_branch_179714 = index_primexp_179716;
                    } else {
                        int64_t index_primexp_179717 = add64(defunc_0_merge_pipeline_res_174784, k_176932);
                        
                        index_concat_branch_179714 = index_primexp_179717;
                    }
                    
                    float index_concat_branch_179718;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179719 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t slice_179720 = defunc_0_merge_pipeline_res_174785 + index_concat_i_179719;
                        float index_concat_179721 = ((float *) b_list_mem_180281.mem)[slice_179720];
                        
                        index_concat_branch_179718 = index_concat_179721;
                    } else {
                        int64_t slice_179722 = defunc_0_merge_pipeline_res_174784 + k_176932;
                        float index_concat_179723 = ((float *) a_list_mem_180280.mem)[slice_179722];
                        
                        index_concat_branch_179718 = index_concat_179723;
                    }
                    lifted_lambda_res_176934 = index_concat_branch_179713;
                    lifted_lambda_res_176935 = index_concat_branch_179714;
                    lifted_lambda_res_176936 = index_concat_branch_179718;
                } else {
                    lifted_lambda_res_176934 = defunc_0_reduce_res_179934;
                    lifted_lambda_res_176935 = defunc_0_reduce_res_179935;
                    lifted_lambda_res_176936 = defunc_0_reduce_res_179936;
                }
                ((int8_t *) mem_181099)[i_180098] = lifted_lambda_res_176934;
                ((int64_t *) mem_181101)[i_180098] = lifted_lambda_res_176935;
                ((float *) mem_181103)[i_180098] = lifted_lambda_res_176936;
            }
            if (!cond_176916) {
                for (int64_t i_176949 = 0; i_176949 < distance_176919; i_176949++) {
                    int64_t gt_arg1_176953 = add64((int64_t) 1, i_176949);
                    bool x_176954 = sle64((int64_t) 0, gt_arg1_176953);
                    bool y_176955 = slt64(gt_arg1_176953, block_sizze_176874);
                    bool bounds_check_176956 = x_176954 && y_176955;
                    bool index_certs_176957;
                    
                    if (!bounds_check_176956) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176953, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176961 = slt64(i_176949, block_sizze_176874);
                    bool index_certs_176962;
                    
                    if (!y_176961) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176949, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176958 = ((int8_t *) mem_181099)[gt_arg1_176953];
                    int64_t gt_arg1_176959 = ((int64_t *) mem_181101)[gt_arg1_176953];
                    float gt_arg1_176960 = ((float *) mem_181103)[gt_arg1_176953];
                    int8_t gt_arg0_176963 = ((int8_t *) mem_181099)[i_176949];
                    int64_t gt_arg0_176964 = ((int64_t *) mem_181101)[i_176949];
                    float gt_arg0_176965 = ((float *) mem_181103)[i_176949];
                    bool cond_176966 = gt_arg0_176963 == gt_arg1_176958;
                    bool defunc_0_leq_res_t_res_176967 = sle64(gt_arg0_176964, gt_arg1_176959);
                    bool defunc_0_leq_res_176968 = gt_arg0_176965 <= gt_arg1_176960;
                    bool x_176969 = cond_176966 && defunc_0_leq_res_t_res_176967;
                    bool x_176970 = !cond_176966;
                    bool y_176971 = defunc_0_leq_res_176968 && x_176970;
                    bool defunc_0_leq_res_176972 = x_176969 || y_176971;
                    bool defunc_0_lifted_gt_res_176973 = !defunc_0_leq_res_176972;
                    bool s_176974;
                    int64_t s_176978;
                    bool loop_while_176979;
                    int64_t j_176983;
                    
                    loop_while_176979 = defunc_0_lifted_gt_res_176973;
                    j_176983 = i_176949;
                    while (loop_while_176979) {
                        bool x_176984 = sle64((int64_t) 0, j_176983);
                        bool y_176985 = slt64(j_176983, block_sizze_176874);
                        bool bounds_check_176986 = x_176984 && y_176985;
                        bool index_certs_176987;
                        
                        if (!bounds_check_176986) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176983, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176991 = add64((int64_t) 1, j_176983);
                        bool x_176992 = sle64((int64_t) 0, copy_arg0_176991);
                        bool y_176993 = slt64(copy_arg0_176991, block_sizze_176874);
                        bool bounds_check_176994 = x_176992 && y_176993;
                        bool index_certs_176995;
                        
                        if (!bounds_check_176994) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176991, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176988 = ((int8_t *) mem_181099)[j_176983];
                        int64_t copy_arg0_176989 = ((int64_t *) mem_181101)[j_176983];
                        float copy_arg0_176990 = ((float *) mem_181103)[j_176983];
                        int8_t copy_arg0_176996 = ((int8_t *) mem_181099)[copy_arg0_176991];
                        int64_t copy_arg0_176997 = ((int64_t *) mem_181101)[copy_arg0_176991];
                        float copy_arg0_176998 = ((float *) mem_181103)[copy_arg0_176991];
                        
                        ((int8_t *) mem_181099)[j_176983] = copy_arg0_176996;
                        ((int64_t *) mem_181101)[j_176983] = copy_arg0_176997;
                        ((float *) mem_181103)[j_176983] = copy_arg0_176998;
                        ((int8_t *) mem_181099)[copy_arg0_176991] = copy_arg0_176988;
                        ((int64_t *) mem_181101)[copy_arg0_176991] = copy_arg0_176989;
                        ((float *) mem_181103)[copy_arg0_176991] = copy_arg0_176990;
                        
                        int64_t tmp_177005 = sub64(j_176983, (int64_t) 1);
                        bool cond_177006 = sle64((int64_t) 0, tmp_177005);
                        bool loop_cond_177007;
                        
                        if (cond_177006) {
                            bool y_179727 = slt64(tmp_177005, block_sizze_176874);
                            bool bounds_check_179728 = cond_177006 && y_179727;
                            bool index_certs_179729;
                            
                            if (!bounds_check_179728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177005, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179724 = ((int8_t *) mem_181099)[j_176983];
                            int64_t gt_arg1_179725 = ((int64_t *) mem_181101)[j_176983];
                            float gt_arg1_179726 = ((float *) mem_181103)[j_176983];
                            int8_t gt_arg0_179730 = ((int8_t *) mem_181099)[tmp_177005];
                            int64_t gt_arg0_179731 = ((int64_t *) mem_181101)[tmp_177005];
                            float gt_arg0_179732 = ((float *) mem_181103)[tmp_177005];
                            bool cond_179733 = gt_arg0_179730 == gt_arg1_179724;
                            bool defunc_0_leq_res_t_res_179734 = sle64(gt_arg0_179731, gt_arg1_179725);
                            bool defunc_0_leq_res_179735 = gt_arg0_179732 <= gt_arg1_179726;
                            bool x_179736 = cond_179733 && defunc_0_leq_res_t_res_179734;
                            bool x_179737 = !cond_179733;
                            bool y_179738 = defunc_0_leq_res_179735 && x_179737;
                            bool defunc_0_leq_res_179739 = x_179736 || y_179738;
                            bool defunc_0_lifted_gt_res_179740 = !defunc_0_leq_res_179739;
                            
                            loop_cond_177007 = defunc_0_lifted_gt_res_179740;
                        } else {
                            loop_cond_177007 = 0;
                        }
                        
                        bool loop_while_tmp_181916 = loop_cond_177007;
                        int64_t j_tmp_181920 = tmp_177005;
                        
                        loop_while_176979 = loop_while_tmp_181916;
                        j_176983 = j_tmp_181920;
                    }
                    s_176974 = loop_while_176979;
                    s_176978 = j_176983;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181080, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181099, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181083, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181101, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181086, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181103, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
        }
        if (memblock_alloc(ctx, &mem_181180, flat_dim_176875, "mem_181180")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181180.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint8_t *) mem_181080, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181184, bytes_181082, "mem_181184")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181184.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint64_t *) mem_181083, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181188, bytes_181085, "mem_181188")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint32_t *) mem_181086, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        
        int64_t data_177031;
        bool data_177032;
        int64_t data_177036;
        int64_t loop_dz2084Uz2082U_177037;
        bool loop_while_177038;
        int64_t stride_177042;
        
        if (memblock_set(ctx, &mem_param_181192, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181195, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181198, &mem_181188, "mem_181188") != 0)
            return 1;
        loop_dz2084Uz2082U_177037 = flat_dim_176875;
        loop_while_177038 = loop_cond_177028;
        stride_177042 = block_sizze_176874;
        while (loop_while_177038) {
            int64_t next_stride_177043 = mul64((int64_t) 2, stride_177042);
            bool zzero_177044 = next_stride_177043 == (int64_t) 0;
            bool nonzzero_177045 = !zzero_177044;
            bool nonzzero_cert_177046;
            
            if (!nonzzero_177045) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177047 = sdiv64(flat_dim_176875, next_stride_177043);
            bool bounds_invalid_upwards_177048 = slt64(num_merges_177047, (int64_t) 0);
            bool valid_177049 = !bounds_invalid_upwards_177048;
            bool range_valid_c_177050;
            
            if (!valid_177049) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177047, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177052 = sub64(next_stride_177043, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177053 = sle64((int64_t) 0, m_177052);
            bool cond_177055 = slt64(next_stride_177043, (int64_t) 10);
            bool protect_assert_disj_177056 = nonzzero_177030 || cond_177055;
            bool nonzzero_cert_177057;
            
            if (!protect_assert_disj_177056) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177058 = smod_safe64(next_stride_177043, merge_block_sizze_176880);
            bool num_blocks_177059 = zeze_lhs_177058 == (int64_t) 0;
            bool protect_assert_disj_177060 = cond_177055 || num_blocks_177059;
            bool assert_c_177061;
            
            if (!protect_assert_disj_177060) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177063 = sdiv_safe64(next_stride_177043, merge_block_sizze_176880);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064 = add64((int64_t) 1, num_blocks_177063);
            int64_t j_m_i_177065 = sub64(next_stride_177043, stride_177042);
            int64_t flat_dim_177066 = merge_block_sizze_176880 * num_blocks_177063;
            bool bounds_invalid_upwards_177067 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, (int64_t) 0);
            bool empty_slice_177068 = j_m_i_177065 == (int64_t) 0;
            int64_t m_177069 = sub64(j_m_i_177065, (int64_t) 1);
            bool zzero_lte_i_177070 = sle64((int64_t) 0, stride_177042);
            bool i_lte_j_177071 = sle64(stride_177042, next_stride_177043);
            bool empty_slice_177072 = stride_177042 == (int64_t) 0;
            int64_t m_177073 = sub64(stride_177042, (int64_t) 1);
            bool bounds_invalid_upwards_177074 = slt64(num_blocks_177063, (int64_t) 0);
            bool cond_177075 = slt64((int64_t) 0, stride_177042);
            bool valid_177076 = !bounds_invalid_upwards_177067;
            int64_t i_p_m_t_s_177077 = add64(stride_177042, m_177069);
            bool zzero_leq_i_p_m_t_s_177078 = sle64((int64_t) 0, m_177073);
            bool i_p_m_t_s_leq_w_177079 = slt64(m_177073, next_stride_177043);
            bool valid_177080 = !bounds_invalid_upwards_177074;
            bool i_p_m_t_s_leq_w_177081 = slt64(m_177052, flat_dim_177066);
            bool y_177082 = slt64((int64_t) 0, j_m_i_177065);
            bool protect_assert_disj_177083 = cond_177055 || valid_177076;
            bool range_valid_c_177084;
            
            if (!protect_assert_disj_177083) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177085 = sle64((int64_t) 0, i_p_m_t_s_177077);
            bool i_p_m_t_s_leq_w_177086 = slt64(i_p_m_t_s_177077, next_stride_177043);
            bool y_177087 = zzero_leq_i_p_m_t_s_177078 && i_p_m_t_s_leq_w_177079;
            bool protect_assert_disj_177088 = cond_177055 || valid_177080;
            bool range_valid_c_177089;
            
            if (!protect_assert_disj_177088) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177090 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177081;
            bool y_177091 = zzero_lte_i_177070 && i_p_m_t_s_leq_w_177086;
            bool forwards_ok_177092 = zzero_lte_i_177070 && y_177087;
            bool ok_or_empty_177093 = zzero_177044 || y_177090;
            bool protect_assert_disj_177094 = cond_177075 || y_177082;
            bool y_177095 = zzero_leq_i_p_m_t_s_177085 && y_177091;
            bool ok_or_empty_177096 = empty_slice_177072 || forwards_ok_177092;
            bool protect_assert_disj_177097 = cond_177055 || ok_or_empty_177093;
            bool index_certs_177098;
            
            if (!protect_assert_disj_177097) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) flat_dim_177066, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177099 = !cond_177055;
            bool protect_assert_disj_177100 = protect_assert_disj_177094 || loop_not_taken_177099;
            bool index_certs_177101;
            
            if (!protect_assert_disj_177100) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177102 = i_lte_j_177071 && y_177095;
            bool protect_assert_disj_177103 = cond_177055 || ok_or_empty_177096;
            bool index_certs_177104;
            
            if (!protect_assert_disj_177103) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177105 = ok_or_empty_177096 || loop_not_taken_177099;
            bool index_certs_177106;
            
            if (!protect_assert_disj_177105) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177107 = empty_slice_177068 || forwards_ok_177102;
            bool protect_assert_disj_177108 = cond_177055 || ok_or_empty_177107;
            bool index_certs_177109;
            
            if (!protect_assert_disj_177108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177110 = loop_not_taken_177099 || ok_or_empty_177107;
            bool index_certs_177111;
            
            if (!protect_assert_disj_177110) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181199 = next_stride_177043 * num_merges_177047;
            int64_t binop_x_181201 = (int64_t) 8 * num_merges_177047;
            int64_t bytes_181202 = next_stride_177043 * binop_x_181201;
            int64_t binop_x_181204 = (int64_t) 4 * num_merges_177047;
            int64_t bytes_181205 = next_stride_177043 * binop_x_181204;
            bool i_lte_j_177054 = sle64((int64_t) 0, next_stride_177043);
            
            if (mem_181200_cached_sizze_182123 < bytes_181199) {
                err = lexical_realloc(ctx, &mem_181200, &mem_181200_cached_sizze_182123, bytes_181199);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181203_cached_sizze_182124 < bytes_181202) {
                err = lexical_realloc(ctx, &mem_181203, &mem_181203_cached_sizze_182124, bytes_181202);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181206_cached_sizze_182125 < bytes_181205) {
                err = lexical_realloc(ctx, &mem_181206, &mem_181206_cached_sizze_182125, bytes_181205);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181219 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064;
            int64_t binop_x_181237 = (int64_t) 8 * num_blocks_177063;
            int64_t bytes_181238 = merge_block_sizze_176880 * binop_x_181237;
            int64_t binop_x_181240 = (int64_t) 4 * num_blocks_177063;
            int64_t bytes_181241 = merge_block_sizze_176880 * binop_x_181240;
            int64_t bytes_181302 = (int64_t) 16 * stride_177042;
            int64_t bytes_181304 = (int64_t) 8 * stride_177042;
            
            for (int64_t i_180135 = 0; i_180135 < num_merges_177047; i_180135++) {
                int64_t start_177116 = mul64(next_stride_177043, i_180135);
                int64_t j_m_i_177117 = sub64(loop_dz2084Uz2082U_177037, start_177116);
                bool empty_slice_177118 = j_m_i_177117 == (int64_t) 0;
                int64_t m_177119 = sub64(j_m_i_177117, (int64_t) 1);
                int64_t i_p_m_t_s_177120 = add64(start_177116, m_177119);
                bool zzero_leq_i_p_m_t_s_177121 = sle64((int64_t) 0, i_p_m_t_s_177120);
                bool i_p_m_t_s_leq_w_177122 = slt64(i_p_m_t_s_177120, loop_dz2084Uz2082U_177037);
                bool zzero_lte_i_177123 = sle64((int64_t) 0, start_177116);
                bool i_lte_j_177124 = sle64(start_177116, loop_dz2084Uz2082U_177037);
                bool y_177125 = i_p_m_t_s_leq_w_177122 && zzero_lte_i_177123;
                bool y_177126 = zzero_leq_i_p_m_t_s_177121 && y_177125;
                bool forwards_ok_177127 = i_lte_j_177124 && y_177126;
                bool ok_or_empty_177128 = empty_slice_177118 || forwards_ok_177127;
                bool index_certs_177129;
                
                if (!ok_or_empty_177128) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177116, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177037, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177130 = slt64(m_177052, j_m_i_177117);
                bool y_177131 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177130;
                bool forwards_ok_177132 = i_lte_j_177054 && y_177131;
                bool ok_or_empty_177133 = zzero_177044 || forwards_ok_177132;
                bool index_certs_177134;
                
                if (!ok_or_empty_177133) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) j_m_i_177117, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177055) {
                    int8_t dummy_179779;
                    int64_t dummy_179780;
                    float dummy_179781;
                    
                    if (cond_177075) {
                        int8_t head_res_179782 = ((int8_t *) mem_param_181192.mem)[start_177116];
                        int64_t head_res_179783 = ((int64_t *) mem_param_181195.mem)[start_177116];
                        float head_res_179784 = ((float *) mem_param_181198.mem)[start_177116];
                        
                        dummy_179779 = head_res_179782;
                        dummy_179780 = head_res_179783;
                        dummy_179781 = head_res_179784;
                    } else {
                        int64_t slice_179785 = stride_177042 + start_177116;
                        int8_t head_res_179786 = ((int8_t *) mem_param_181192.mem)[slice_179785];
                        int64_t head_res_179787 = ((int64_t *) mem_param_181195.mem)[slice_179785];
                        float head_res_179788 = ((float *) mem_param_181198.mem)[slice_179785];
                        
                        dummy_179779 = head_res_179786;
                        dummy_179780 = head_res_179787;
                        dummy_179781 = head_res_179788;
                    }
                    if (memblock_alloc(ctx, &mem_181301, next_stride_177043, "mem_181301")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181933 = 0; nest_i_181933 < next_stride_177043; nest_i_181933++) {
                        ((int8_t *) mem_181301.mem)[nest_i_181933] = dummy_179779;
                    }
                    if (memblock_alloc(ctx, &mem_181303, bytes_181302, "mem_181303")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181934 = 0; nest_i_181934 < next_stride_177043; nest_i_181934++) {
                        ((int64_t *) mem_181303.mem)[nest_i_181934] = dummy_179780;
                    }
                    if (memblock_alloc(ctx, &mem_181305, bytes_181304, "mem_181305")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181935 = 0; nest_i_181935 < next_stride_177043; nest_i_181935++) {
                        ((float *) mem_181305.mem)[nest_i_181935] = dummy_179781;
                    }
                    
                    int64_t data_179792;
                    int64_t i_179797 = (int64_t) 0;
                    
                    for (int64_t k_179796 = 0; k_179796 < next_stride_177043; k_179796++) {
                        int64_t j_179801 = sub64(k_179796, i_179797);
                        bool cond_179802 = j_179801 == j_m_i_177065;
                        bool cond_179803;
                        
                        if (cond_179802) {
                            cond_179803 = 1;
                        } else {
                            bool cond_179804 = slt64(i_179797, stride_177042);
                            bool cond_f_res_179805;
                            
                            if (cond_179804) {
                                bool x_179806 = sle64((int64_t) 0, j_179801);
                                bool y_179807 = slt64(j_179801, j_m_i_177065);
                                bool bounds_check_179808 = x_179806 && y_179807;
                                bool index_certs_179809;
                                
                                if (!bounds_check_179808) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179815 = sle64((int64_t) 0, i_179797);
                                bool bounds_check_179816 = cond_179804 && x_179815;
                                bool index_certs_179817;
                                
                                if (!bounds_check_179816) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179810 = stride_177042 + j_179801;
                                int64_t slice_179811 = start_177116 + slice_179810;
                                int8_t leq_arg1_179812 = ((int8_t *) mem_param_181192.mem)[slice_179811];
                                int64_t leq_arg1_179813 = ((int64_t *) mem_param_181195.mem)[slice_179811];
                                float leq_arg1_179814 = ((float *) mem_param_181198.mem)[slice_179811];
                                int64_t slice_179818 = start_177116 + i_179797;
                                int8_t leq_arg0_179819 = ((int8_t *) mem_param_181192.mem)[slice_179818];
                                int64_t leq_arg0_179820 = ((int64_t *) mem_param_181195.mem)[slice_179818];
                                float leq_arg0_179821 = ((float *) mem_param_181198.mem)[slice_179818];
                                bool cond_179822 = leq_arg0_179819 == leq_arg1_179812;
                                bool defunc_0_leq_res_t_res_179823 = sle64(leq_arg0_179820, leq_arg1_179813);
                                bool defunc_0_leq_res_179824 = leq_arg0_179821 <= leq_arg1_179814;
                                bool x_179825 = cond_179822 && defunc_0_leq_res_t_res_179823;
                                bool x_179826 = !cond_179822;
                                bool y_179827 = defunc_0_leq_res_179824 && x_179826;
                                bool defunc_0_leq_res_179828 = x_179825 || y_179827;
                                
                                cond_f_res_179805 = defunc_0_leq_res_179828;
                            } else {
                                cond_f_res_179805 = 0;
                            }
                            cond_179803 = cond_f_res_179805;
                        }
                        
                        int64_t loopres_179829;
                        int8_t loopres_179830;
                        int64_t loopres_179831;
                        float loopres_179832;
                        
                        if (cond_179803) {
                            bool x_179834 = sle64((int64_t) 0, i_179797);
                            bool y_179835 = slt64(i_179797, stride_177042);
                            bool bounds_check_179836 = x_179834 && y_179835;
                            bool index_certs_179837;
                            
                            if (!bounds_check_179836) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179833 = add64((int64_t) 1, i_179797);
                            int64_t slice_179838 = start_177116 + i_179797;
                            int8_t tmp_179839 = ((int8_t *) mem_param_181192.mem)[slice_179838];
                            int64_t tmp_179840 = ((int64_t *) mem_param_181195.mem)[slice_179838];
                            float tmp_179841 = ((float *) mem_param_181198.mem)[slice_179838];
                            
                            loopres_179829 = tmp_179833;
                            loopres_179830 = tmp_179839;
                            loopres_179831 = tmp_179840;
                            loopres_179832 = tmp_179841;
                        } else {
                            bool x_179842 = sle64((int64_t) 0, j_179801);
                            bool y_179843 = slt64(j_179801, j_m_i_177065);
                            bool bounds_check_179844 = x_179842 && y_179843;
                            bool index_certs_179845;
                            
                            if (!bounds_check_179844) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179846 = stride_177042 + j_179801;
                            int64_t slice_179847 = start_177116 + slice_179846;
                            int8_t tmp_179848 = ((int8_t *) mem_param_181192.mem)[slice_179847];
                            int64_t tmp_179849 = ((int64_t *) mem_param_181195.mem)[slice_179847];
                            float tmp_179850 = ((float *) mem_param_181198.mem)[slice_179847];
                            
                            loopres_179829 = i_179797;
                            loopres_179830 = tmp_179848;
                            loopres_179831 = tmp_179849;
                            loopres_179832 = tmp_179850;
                        }
                        ((int8_t *) mem_181301.mem)[k_179796] = loopres_179830;
                        ((int64_t *) mem_181303.mem)[k_179796] = loopres_179831;
                        ((float *) mem_181305.mem)[k_179796] = loopres_179832;
                        
                        int64_t i_tmp_181936 = loopres_179829;
                        
                        i_179797 = i_tmp_181936;
                    }
                    data_179792 = i_179797;
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181301, "mem_181301") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181303, "mem_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181305, "mem_181305") != 0)
                        return 1;
                } else {
                    if (mem_181220_cached_sizze_182126 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181220, &mem_181220_cached_sizze_182126, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181222_cached_sizze_182127 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181222, &mem_181222_cached_sizze_182127, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180116 = 0; i_180116 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064; i_180116++) {
                        int64_t split_count_arg3_177217 = mul64(merge_block_sizze_176880, i_180116);
                        int64_t defunc_0_split_count_res_177218;
                        int64_t defunc_0_split_count_res_177219;
                        int64_t defunc_0_split_count_res_177220;
                        int64_t defunc_0_split_count_res_177221;
                        int64_t defunc_0_split_count_res_177222;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_177218, &defunc_0_split_count_res_177219, &defunc_0_split_count_res_177220, &defunc_0_split_count_res_177221, &defunc_0_split_count_res_177222, (int64_t) 0, stride_177042, (int64_t) 0, j_m_i_177065, split_count_arg3_177217) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177223 = slt64((int64_t) 0, defunc_0_split_count_res_177222);
                        bool defunc_0_split_count_res_177224;
                        int64_t defunc_0_split_count_res_177225;
                        int64_t defunc_0_split_count_res_177226;
                        int64_t defunc_0_split_count_res_177227;
                        int64_t defunc_0_split_count_res_177228;
                        int64_t defunc_0_split_count_res_177229;
                        bool loop_while_177230;
                        int64_t ss_177231;
                        int64_t ss_177232;
                        int64_t tt_177233;
                        int64_t tt_177234;
                        int64_t count_177235;
                        
                        loop_while_177230 = loop_cond_177223;
                        ss_177231 = defunc_0_split_count_res_177218;
                        ss_177232 = defunc_0_split_count_res_177219;
                        tt_177233 = defunc_0_split_count_res_177220;
                        tt_177234 = defunc_0_split_count_res_177221;
                        count_177235 = defunc_0_split_count_res_177222;
                        while (loop_while_177230) {
                            int64_t zlze_lhs_177236 = sub64(ss_177232, ss_177231);
                            bool cond_177237 = sle64(zlze_lhs_177236, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177238;
                            int64_t defunc_0_lifted_step_res_177239;
                            int64_t defunc_0_lifted_step_res_177240;
                            int64_t defunc_0_lifted_step_res_177241;
                            
                            if (cond_177237) {
                                int64_t tmp_179854 = add64(tt_177233, count_177235);
                                
                                defunc_0_lifted_step_res_177238 = ss_177231;
                                defunc_0_lifted_step_res_177239 = tmp_179854;
                                defunc_0_lifted_step_res_177240 = tt_177234;
                                defunc_0_lifted_step_res_177241 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177243 = sub64(tt_177234, tt_177233);
                                bool cond_177244 = sle64(zlze_lhs_177243, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177245;
                                int64_t defunc_0_lifted_step_res_f_res_177246;
                                int64_t defunc_0_lifted_step_res_f_res_177247;
                                int64_t defunc_0_lifted_step_res_f_res_177248;
                                
                                if (cond_177244) {
                                    int64_t tmp_179855 = add64(ss_177231, count_177235);
                                    
                                    defunc_0_lifted_step_res_f_res_177245 = tmp_179855;
                                    defunc_0_lifted_step_res_f_res_177246 = tt_177233;
                                    defunc_0_lifted_step_res_f_res_177247 = tt_177234;
                                    defunc_0_lifted_step_res_f_res_177248 = (int64_t) 0;
                                } else {
                                    bool cond_177250 = count_177235 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177251;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177252;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177253;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177254;
                                    
                                    if (cond_177250) {
                                        bool x_179857 = sle64((int64_t) 0, ss_177231);
                                        bool y_179858 = slt64(ss_177231, stride_177042);
                                        bool bounds_check_179859 = x_179857 && y_179858;
                                        bool index_certs_179860;
                                        
                                        if (!bounds_check_179859) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177231, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179865 = sle64((int64_t) 0, tt_177233);
                                        bool y_179866 = slt64(tt_177233, j_m_i_177065);
                                        bool bounds_check_179867 = x_179865 && y_179866;
                                        bool index_certs_179868;
                                        
                                        if (!bounds_check_179867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177233, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179861 = start_177116 + ss_177231;
                                        int8_t leq_arg1_179862 = ((int8_t *) mem_param_181192.mem)[slice_179861];
                                        int64_t leq_arg1_179863 = ((int64_t *) mem_param_181195.mem)[slice_179861];
                                        float leq_arg1_179864 = ((float *) mem_param_181198.mem)[slice_179861];
                                        int64_t slice_179869 = stride_177042 + tt_177233;
                                        int64_t slice_179870 = start_177116 + slice_179869;
                                        int8_t leq_arg0_179871 = ((int8_t *) mem_param_181192.mem)[slice_179870];
                                        int64_t leq_arg0_179872 = ((int64_t *) mem_param_181195.mem)[slice_179870];
                                        float leq_arg0_179873 = ((float *) mem_param_181198.mem)[slice_179870];
                                        bool cond_179874 = leq_arg0_179871 == leq_arg1_179862;
                                        bool defunc_0_leq_res_t_res_179875 = sle64(leq_arg0_179872, leq_arg1_179863);
                                        bool defunc_0_leq_res_179876 = leq_arg0_179873 <= leq_arg1_179864;
                                        bool x_179877 = cond_179874 && defunc_0_leq_res_t_res_179875;
                                        bool x_179878 = !cond_179874;
                                        bool y_179879 = defunc_0_leq_res_179876 && x_179878;
                                        bool defunc_0_leq_res_179880 = x_179877 || y_179879;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        
                                        if (defunc_0_leq_res_179880) {
                                            int64_t tmp_179883 = add64((int64_t) 1, tt_177233);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = ss_177231;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tmp_179883;
                                        } else {
                                            int64_t tmp_179884 = add64((int64_t) 1, ss_177231);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = tmp_179884;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tt_177233;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = tt_177234;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = (int64_t) 0;
                                    } else {
                                        int64_t m_177283 = sdiv64(count_177235, (int64_t) 2);
                                        int64_t n_177284 = sub64(count_177235, m_177283);
                                        bool cond_177285 = n_177284 == (int64_t) 0;
                                        int64_t zgze_lhs_177286 = add64(ss_177231, m_177283);
                                        bool cond_f_res_177287 = sle64(ss_177232, zgze_lhs_177286);
                                        bool x_177288 = !cond_177285;
                                        bool y_177289 = cond_f_res_177287 && x_177288;
                                        bool cond_177290 = cond_177285 || y_177289;
                                        bool leq_y_x_177291;
                                        
                                        if (cond_177290) {
                                            leq_y_x_177291 = 1;
                                        } else {
                                            bool x_177292 = sle64((int64_t) 0, zgze_lhs_177286);
                                            bool y_177293 = slt64(zgze_lhs_177286, stride_177042);
                                            bool bounds_check_177294 = x_177292 && y_177293;
                                            bool index_certs_177295;
                                            
                                            if (!bounds_check_177294) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177286, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177300 = add64(tt_177233, n_177284);
                                            int64_t leq_arg0_177301 = sub64(zm_lhs_177300, (int64_t) 1);
                                            bool x_177302 = sle64((int64_t) 0, leq_arg0_177301);
                                            bool y_177303 = slt64(leq_arg0_177301, j_m_i_177065);
                                            bool bounds_check_177304 = x_177302 && y_177303;
                                            bool index_certs_177305;
                                            
                                            if (!bounds_check_177304) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177301, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177296 = start_177116 + zgze_lhs_177286;
                                            int8_t leq_arg1_177297 = ((int8_t *) mem_param_181192.mem)[slice_177296];
                                            int64_t leq_arg1_177298 = ((int64_t *) mem_param_181195.mem)[slice_177296];
                                            float leq_arg1_177299 = ((float *) mem_param_181198.mem)[slice_177296];
                                            int64_t slice_177306 = stride_177042 + leq_arg0_177301;
                                            int64_t slice_177307 = start_177116 + slice_177306;
                                            int8_t leq_arg0_177308 = ((int8_t *) mem_param_181192.mem)[slice_177307];
                                            int64_t leq_arg0_177309 = ((int64_t *) mem_param_181195.mem)[slice_177307];
                                            float leq_arg0_177310 = ((float *) mem_param_181198.mem)[slice_177307];
                                            bool cond_177311 = leq_arg0_177308 == leq_arg1_177297;
                                            bool defunc_0_leq_res_t_res_177312 = sle64(leq_arg0_177309, leq_arg1_177298);
                                            bool defunc_0_leq_res_177313 = leq_arg0_177310 <= leq_arg1_177299;
                                            bool x_177314 = cond_177311 && defunc_0_leq_res_t_res_177312;
                                            bool x_177315 = !cond_177311;
                                            bool y_177316 = defunc_0_leq_res_177313 && x_177315;
                                            bool defunc_0_leq_res_177317 = x_177314 || y_177316;
                                            
                                            leq_y_x_177291 = defunc_0_leq_res_177317;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                        
                                        if (leq_y_x_177291) {
                                            int64_t tmp_179885 = add64(tt_177233, n_177284);
                                            int64_t tmp_179886 = sub64(count_177235, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tmp_179885;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tt_177234;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = tmp_179886;
                                        } else {
                                            int64_t tmp_177323 = add64(tt_177233, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tt_177233;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tmp_177323;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = count_177235;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = ss_177231;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                    }
                                    defunc_0_lifted_step_res_f_res_177245 = defunc_0_lifted_step_res_f_res_f_res_177251;
                                    defunc_0_lifted_step_res_f_res_177246 = defunc_0_lifted_step_res_f_res_f_res_177252;
                                    defunc_0_lifted_step_res_f_res_177247 = defunc_0_lifted_step_res_f_res_f_res_177253;
                                    defunc_0_lifted_step_res_f_res_177248 = defunc_0_lifted_step_res_f_res_f_res_177254;
                                }
                                defunc_0_lifted_step_res_177238 = defunc_0_lifted_step_res_f_res_177245;
                                defunc_0_lifted_step_res_177239 = defunc_0_lifted_step_res_f_res_177246;
                                defunc_0_lifted_step_res_177240 = defunc_0_lifted_step_res_f_res_177247;
                                defunc_0_lifted_step_res_177241 = defunc_0_lifted_step_res_f_res_177248;
                            }
                            
                            int64_t loopres_177324;
                            int64_t loopres_177325;
                            int64_t loopres_177326;
                            int64_t loopres_177327;
                            int64_t loopres_177328;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_177324, &loopres_177325, &loopres_177326, &loopres_177327, &loopres_177328, defunc_0_lifted_step_res_177238, ss_177232, defunc_0_lifted_step_res_177239, defunc_0_lifted_step_res_177240, defunc_0_lifted_step_res_177241) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177329 = slt64((int64_t) 0, loopres_177328);
                            bool loop_while_tmp_181942 = loop_cond_177329;
                            int64_t ss_tmp_181943 = loopres_177324;
                            int64_t ss_tmp_181944 = loopres_177325;
                            int64_t tt_tmp_181945 = loopres_177326;
                            int64_t tt_tmp_181946 = loopres_177327;
                            int64_t count_tmp_181947 = loopres_177328;
                            
                            loop_while_177230 = loop_while_tmp_181942;
                            ss_177231 = ss_tmp_181943;
                            ss_177232 = ss_tmp_181944;
                            tt_177233 = tt_tmp_181945;
                            tt_177234 = tt_tmp_181946;
                            count_177235 = count_tmp_181947;
                        }
                        defunc_0_split_count_res_177224 = loop_while_177230;
                        defunc_0_split_count_res_177225 = ss_177231;
                        defunc_0_split_count_res_177226 = ss_177232;
                        defunc_0_split_count_res_177227 = tt_177233;
                        defunc_0_split_count_res_177228 = tt_177234;
                        defunc_0_split_count_res_177229 = count_177235;
                        ((int64_t *) mem_181220)[i_180116] = defunc_0_split_count_res_177225;
                        ((int64_t *) mem_181222)[i_180116] = defunc_0_split_count_res_177227;
                    }
                    if (mem_181236_cached_sizze_182128 < flat_dim_177066) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182128, flat_dim_177066);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181239_cached_sizze_182129 < bytes_181238) {
                        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_182129, bytes_181238);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181242_cached_sizze_182130 < bytes_181241) {
                        err = lexical_realloc(ctx, &mem_181242, &mem_181242_cached_sizze_182130, bytes_181241);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180125 = 0; i_180125 < num_blocks_177063; i_180125++) {
                        bool y_177336 = slt64(i_180125, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool index_certs_177338;
                        
                        if (!y_177336) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180125, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177339 = ((int64_t *) mem_181220)[i_180125];
                        int64_t defunc_0_f_res_177340 = ((int64_t *) mem_181222)[i_180125];
                        int64_t tmp_177341 = add64((int64_t) 1, i_180125);
                        bool x_177342 = sle64((int64_t) 0, tmp_177341);
                        bool y_177343 = slt64(tmp_177341, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool bounds_check_177344 = x_177342 && y_177343;
                        bool index_certs_177345;
                        
                        if (!bounds_check_177344) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177346 = ((int64_t *) mem_181220)[tmp_177341];
                        int64_t defunc_0_f_res_177347 = ((int64_t *) mem_181222)[tmp_177341];
                        int64_t merge_sequential_arg2_177348 = add64(stride_177042, defunc_0_f_res_177340);
                        int64_t merge_sequential_arg2_177349 = add64(stride_177042, defunc_0_f_res_177347);
                        int64_t j_m_i_177350 = sub64(merge_sequential_arg2_177349, merge_sequential_arg2_177348);
                        bool empty_slice_177351 = j_m_i_177350 == (int64_t) 0;
                        int64_t m_177352 = sub64(j_m_i_177350, (int64_t) 1);
                        int64_t i_p_m_t_s_177353 = add64(merge_sequential_arg2_177348, m_177352);
                        bool zzero_leq_i_p_m_t_s_177354 = sle64((int64_t) 0, i_p_m_t_s_177353);
                        bool i_p_m_t_s_leq_w_177355 = slt64(i_p_m_t_s_177353, next_stride_177043);
                        bool zzero_lte_i_177356 = sle64((int64_t) 0, merge_sequential_arg2_177348);
                        bool i_lte_j_177357 = sle64(merge_sequential_arg2_177348, merge_sequential_arg2_177349);
                        bool y_177358 = i_p_m_t_s_leq_w_177355 && zzero_lte_i_177356;
                        bool y_177359 = zzero_leq_i_p_m_t_s_177354 && y_177358;
                        bool forwards_ok_177360 = i_lte_j_177357 && y_177359;
                        bool ok_or_empty_177361 = empty_slice_177351 || forwards_ok_177360;
                        bool index_certs_177362;
                        
                        if (!ok_or_empty_177361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177348, ":", (long long) merge_sequential_arg2_177349, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177363 = sub64(defunc_0_f_res_177346, defunc_0_f_res_177339);
                        bool empty_slice_177364 = j_m_i_177363 == (int64_t) 0;
                        int64_t m_177365 = sub64(j_m_i_177363, (int64_t) 1);
                        int64_t i_p_m_t_s_177366 = add64(defunc_0_f_res_177339, m_177365);
                        bool zzero_leq_i_p_m_t_s_177367 = sle64((int64_t) 0, i_p_m_t_s_177366);
                        bool i_p_m_t_s_leq_w_177368 = slt64(i_p_m_t_s_177366, next_stride_177043);
                        bool zzero_lte_i_177369 = sle64((int64_t) 0, defunc_0_f_res_177339);
                        bool i_lte_j_177370 = sle64(defunc_0_f_res_177339, defunc_0_f_res_177346);
                        bool y_177371 = i_p_m_t_s_leq_w_177368 && zzero_lte_i_177369;
                        bool y_177372 = zzero_leq_i_p_m_t_s_177367 && y_177371;
                        bool forwards_ok_177373 = i_lte_j_177370 && y_177372;
                        bool ok_or_empty_177374 = empty_slice_177364 || forwards_ok_177373;
                        bool index_certs_177375;
                        
                        if (!ok_or_empty_177374) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177339, ":", (long long) defunc_0_f_res_177346, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177376 = slt64((int64_t) 0, j_m_i_177363);
                        int8_t dummy_177377;
                        int64_t dummy_177378;
                        float dummy_177379;
                        
                        if (cond_177376) {
                            bool index_certs_179887;
                            
                            if (!cond_177376) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179888 = start_177116 + defunc_0_f_res_177339;
                            int8_t head_res_179889 = ((int8_t *) mem_param_181192.mem)[slice_179888];
                            int64_t head_res_179890 = ((int64_t *) mem_param_181195.mem)[slice_179888];
                            float head_res_179891 = ((float *) mem_param_181198.mem)[slice_179888];
                            
                            dummy_177377 = head_res_179889;
                            dummy_177378 = head_res_179890;
                            dummy_177379 = head_res_179891;
                        } else {
                            bool y_177385 = slt64((int64_t) 0, j_m_i_177350);
                            bool index_certs_177386;
                            
                            if (!y_177385) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177387 = start_177116 + merge_sequential_arg2_177348;
                            int8_t head_res_177388 = ((int8_t *) mem_param_181192.mem)[slice_177387];
                            int64_t head_res_177389 = ((int64_t *) mem_param_181195.mem)[slice_177387];
                            float head_res_177390 = ((float *) mem_param_181198.mem)[slice_177387];
                            
                            dummy_177377 = head_res_177388;
                            dummy_177378 = head_res_177389;
                            dummy_177379 = head_res_177390;
                        }
                        for (int64_t nest_i_181951 = 0; nest_i_181951 < merge_block_sizze_176880; nest_i_181951++) {
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + nest_i_181951] = dummy_177377;
                        }
                        for (int64_t nest_i_181952 = 0; nest_i_181952 < merge_block_sizze_176880; nest_i_181952++) {
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + nest_i_181952] = dummy_177378;
                        }
                        for (int64_t nest_i_181953 = 0; nest_i_181953 < merge_block_sizze_176880; nest_i_181953++) {
                            ((float *) mem_181242)[i_180125 * merge_block_sizze_176880 + nest_i_181953] = dummy_177379;
                        }
                        
                        int64_t data_177394;
                        int64_t i_177399 = (int64_t) 0;
                        
                        for (int64_t k_177398 = 0; k_177398 < merge_block_sizze_176880; k_177398++) {
                            int64_t j_177403 = sub64(k_177398, i_177399);
                            bool cond_177404 = j_177403 == j_m_i_177350;
                            bool cond_177405;
                            
                            if (cond_177404) {
                                cond_177405 = 1;
                            } else {
                                bool cond_177406 = slt64(i_177399, j_m_i_177363);
                                bool cond_f_res_177407;
                                
                                if (cond_177406) {
                                    bool x_179892 = sle64((int64_t) 0, j_177403);
                                    bool y_179893 = slt64(j_177403, j_m_i_177350);
                                    bool bounds_check_179894 = x_179892 && y_179893;
                                    bool index_certs_179895;
                                    
                                    if (!bounds_check_179894) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179901 = sle64((int64_t) 0, i_177399);
                                    bool bounds_check_179902 = cond_177406 && x_179901;
                                    bool index_certs_179903;
                                    
                                    if (!bounds_check_179902) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179896 = merge_sequential_arg2_177348 + j_177403;
                                    int64_t slice_179897 = start_177116 + slice_179896;
                                    int8_t leq_arg1_179898 = ((int8_t *) mem_param_181192.mem)[slice_179897];
                                    int64_t leq_arg1_179899 = ((int64_t *) mem_param_181195.mem)[slice_179897];
                                    float leq_arg1_179900 = ((float *) mem_param_181198.mem)[slice_179897];
                                    int64_t slice_179904 = defunc_0_f_res_177339 + i_177399;
                                    int64_t slice_179905 = start_177116 + slice_179904;
                                    int8_t leq_arg0_179906 = ((int8_t *) mem_param_181192.mem)[slice_179905];
                                    int64_t leq_arg0_179907 = ((int64_t *) mem_param_181195.mem)[slice_179905];
                                    float leq_arg0_179908 = ((float *) mem_param_181198.mem)[slice_179905];
                                    bool cond_179909 = leq_arg0_179906 == leq_arg1_179898;
                                    bool defunc_0_leq_res_t_res_179910 = sle64(leq_arg0_179907, leq_arg1_179899);
                                    bool defunc_0_leq_res_179911 = leq_arg0_179908 <= leq_arg1_179900;
                                    bool x_179912 = cond_179909 && defunc_0_leq_res_t_res_179910;
                                    bool x_179913 = !cond_179909;
                                    bool y_179914 = defunc_0_leq_res_179911 && x_179913;
                                    bool defunc_0_leq_res_179915 = x_179912 || y_179914;
                                    
                                    cond_f_res_177407 = defunc_0_leq_res_179915;
                                } else {
                                    cond_f_res_177407 = 0;
                                }
                                cond_177405 = cond_f_res_177407;
                            }
                            
                            int64_t loopres_177432;
                            int8_t loopres_177433;
                            int64_t loopres_177434;
                            float loopres_177435;
                            
                            if (cond_177405) {
                                bool x_179917 = sle64((int64_t) 0, i_177399);
                                bool y_179918 = slt64(i_177399, j_m_i_177363);
                                bool bounds_check_179919 = x_179917 && y_179918;
                                bool index_certs_179920;
                                
                                if (!bounds_check_179919) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179916 = add64((int64_t) 1, i_177399);
                                int64_t slice_179921 = defunc_0_f_res_177339 + i_177399;
                                int64_t slice_179922 = start_177116 + slice_179921;
                                int8_t tmp_179923 = ((int8_t *) mem_param_181192.mem)[slice_179922];
                                int64_t tmp_179924 = ((int64_t *) mem_param_181195.mem)[slice_179922];
                                float tmp_179925 = ((float *) mem_param_181198.mem)[slice_179922];
                                
                                loopres_177432 = tmp_179916;
                                loopres_177433 = tmp_179923;
                                loopres_177434 = tmp_179924;
                                loopres_177435 = tmp_179925;
                            } else {
                                bool x_177446 = sle64((int64_t) 0, j_177403);
                                bool y_177447 = slt64(j_177403, j_m_i_177350);
                                bool bounds_check_177448 = x_177446 && y_177447;
                                bool index_certs_177449;
                                
                                if (!bounds_check_177448) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177450 = merge_sequential_arg2_177348 + j_177403;
                                int64_t slice_177451 = start_177116 + slice_177450;
                                int8_t tmp_177452 = ((int8_t *) mem_param_181192.mem)[slice_177451];
                                int64_t tmp_177453 = ((int64_t *) mem_param_181195.mem)[slice_177451];
                                float tmp_177454 = ((float *) mem_param_181198.mem)[slice_177451];
                                
                                loopres_177432 = i_177399;
                                loopres_177433 = tmp_177452;
                                loopres_177434 = tmp_177453;
                                loopres_177435 = tmp_177454;
                            }
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177433;
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177434;
                            ((float *) mem_181242)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177435;
                            
                            int64_t i_tmp_181954 = loopres_177432;
                            
                            i_177399 = i_tmp_181954;
                        }
                        data_177394 = i_177399;
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_177066, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint8_t *) mem_181236, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181238, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint64_t *) mem_181239, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181241, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint32_t *) mem_181242, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181299, "mem_181299") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181200, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181203, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181329.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181206, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181326.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181346, bytes_181199, "mem_181346")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181346.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint8_t *) mem_181200, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181350, bytes_181202, "mem_181350")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181350.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint64_t *) mem_181203, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181354, bytes_181205, "mem_181354")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181354.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint32_t *) mem_181206, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            
            bool loop_cond_177468 = slt64(next_stride_177043, flat_dim_176875);
            
            if (memblock_set(ctx, &mem_param_tmp_181921, &mem_181346, "mem_181346") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181922, &mem_181350, "mem_181350") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181923, &mem_181354, "mem_181354") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181924 = bytes_181199;
            bool loop_while_tmp_181925 = loop_cond_177468;
            int64_t stride_tmp_181929 = next_stride_177043;
            
            if (memblock_set(ctx, &mem_param_181192, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181195, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181198, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
                return 1;
            loop_dz2084Uz2082U_177037 = loop_dz2084Uz2082U_tmp_181924;
            loop_while_177038 = loop_while_tmp_181925;
            stride_177042 = stride_tmp_181929;
        }
        if (memblock_set(ctx, &ext_mem_181364, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181363, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181362, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        data_177031 = loop_dz2084Uz2082U_177037;
        data_177032 = loop_while_177038;
        data_177036 = stride_177042;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177471 = slt64(zs_lhs_176859, data_177031);
        bool y_177472 = i_p_m_t_s_leq_w_177471 && zzero_leq_i_p_m_t_s_177485;
        bool ok_or_empty_177473 = y_177472 || empty_slice_177483;
        bool index_certs_177474;
        
        if (!ok_or_empty_177473) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) data_177031, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181373, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181373.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180284.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181370.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180286.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181367.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180284, "mem_180284") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181701, &mem_180286, "mem_180286") != 0)
        return 1;
    prim_out_181702 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    if (memblock_set(ctx, &*mem_out_p_182077, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182078, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182079, &mem_out_181701, "mem_out_181701") != 0)
        return 1;
    *out_prim_out_182080 = prim_out_181702;
    
  cleanup:
    {
        free(mem_180297);
        free(mem_180299);
        free(mem_180338);
        free(mem_180341);
        free(mem_180344);
        free(mem_180357);
        free(mem_180359);
        free(mem_180361);
        free(mem_180458);
        free(mem_180461);
        free(mem_180464);
        free(mem_180478);
        free(mem_180480);
        free(mem_180494);
        free(mem_180497);
        free(mem_180500);
        free(mem_180642);
        free(mem_180644);
        free(mem_180659);
        free(mem_180661);
        free(mem_180664);
        free(mem_180667);
        free(mem_180701);
        free(mem_180704);
        free(mem_180707);
        free(mem_180720);
        free(mem_180722);
        free(mem_180724);
        free(mem_180821);
        free(mem_180824);
        free(mem_180827);
        free(mem_180841);
        free(mem_180843);
        free(mem_180857);
        free(mem_180860);
        free(mem_180863);
        free(mem_181080);
        free(mem_181083);
        free(mem_181086);
        free(mem_181099);
        free(mem_181101);
        free(mem_181103);
        free(mem_181200);
        free(mem_181203);
        free(mem_181206);
        free(mem_181220);
        free(mem_181222);
        free(mem_181236);
        free(mem_181239);
        free(mem_181242);
        if (memblock_unref(ctx, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181350, "mem_181350") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181346, "mem_181346") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181303, "mem_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180612, "mem_180612") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180608, "mem_180608") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180604, "mem_180604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180557, "mem_180557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180553, "mem_180553") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180549, "mem_180549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180563, "mem_180563") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180561, "mem_180561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180559, "mem_180559") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180456, "mem_param_180456") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180453, "mem_param_180453") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180450, "mem_param_180450") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180620, "ext_mem_180620") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180621, "ext_mem_180621") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180622, "ext_mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180316, "mem_180316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180312, "mem_180312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181023, "mem_181023") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181022, "mem_181022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180971, "mem_180971") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180967, "mem_180967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180920, "mem_180920") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180916, "mem_180916") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180912, "mem_180912") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180926, "mem_180926") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180924, "mem_180924") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180922, "mem_180922") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180819, "mem_param_180819") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180816, "mem_param_180816") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180813, "mem_param_180813") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180983, "ext_mem_180983") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180984, "ext_mem_180984") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180985, "ext_mem_180985") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180286, "mem_180286") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180284, "mem_180284") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181701, "mem_out_181701") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182131, struct memblock *mem_out_p_182132, struct memblock *mem_out_p_182133, int64_t *out_prim_out_182134, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_130955, int64_t nb_130956, int64_t window_sizze_130957, int64_t threads_130958, bool inParallel_130961)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180297_cached_sizze_182135 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182136 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180338_cached_sizze_182137 = 0;
    unsigned char *mem_180338 = NULL;
    int64_t mem_180341_cached_sizze_182138 = 0;
    unsigned char *mem_180341 = NULL;
    int64_t mem_180344_cached_sizze_182139 = 0;
    unsigned char *mem_180344 = NULL;
    int64_t mem_180357_cached_sizze_182140 = 0;
    unsigned char *mem_180357 = NULL;
    int64_t mem_180359_cached_sizze_182141 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180361_cached_sizze_182142 = 0;
    unsigned char *mem_180361 = NULL;
    int64_t mem_180458_cached_sizze_182143 = 0;
    unsigned char *mem_180458 = NULL;
    int64_t mem_180461_cached_sizze_182144 = 0;
    unsigned char *mem_180461 = NULL;
    int64_t mem_180464_cached_sizze_182145 = 0;
    unsigned char *mem_180464 = NULL;
    int64_t mem_180478_cached_sizze_182146 = 0;
    unsigned char *mem_180478 = NULL;
    int64_t mem_180480_cached_sizze_182147 = 0;
    unsigned char *mem_180480 = NULL;
    int64_t mem_180494_cached_sizze_182148 = 0;
    unsigned char *mem_180494 = NULL;
    int64_t mem_180497_cached_sizze_182149 = 0;
    unsigned char *mem_180497 = NULL;
    int64_t mem_180500_cached_sizze_182150 = 0;
    unsigned char *mem_180500 = NULL;
    int64_t mem_180642_cached_sizze_182151 = 0;
    unsigned char *mem_180642 = NULL;
    int64_t mem_180644_cached_sizze_182152 = 0;
    unsigned char *mem_180644 = NULL;
    int64_t mem_180659_cached_sizze_182153 = 0;
    unsigned char *mem_180659 = NULL;
    int64_t mem_180661_cached_sizze_182154 = 0;
    unsigned char *mem_180661 = NULL;
    int64_t mem_180664_cached_sizze_182155 = 0;
    unsigned char *mem_180664 = NULL;
    int64_t mem_180667_cached_sizze_182156 = 0;
    unsigned char *mem_180667 = NULL;
    int64_t mem_180701_cached_sizze_182157 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180704_cached_sizze_182158 = 0;
    unsigned char *mem_180704 = NULL;
    int64_t mem_180707_cached_sizze_182159 = 0;
    unsigned char *mem_180707 = NULL;
    int64_t mem_180720_cached_sizze_182160 = 0;
    unsigned char *mem_180720 = NULL;
    int64_t mem_180722_cached_sizze_182161 = 0;
    unsigned char *mem_180722 = NULL;
    int64_t mem_180724_cached_sizze_182162 = 0;
    unsigned char *mem_180724 = NULL;
    int64_t mem_180821_cached_sizze_182163 = 0;
    unsigned char *mem_180821 = NULL;
    int64_t mem_180824_cached_sizze_182164 = 0;
    unsigned char *mem_180824 = NULL;
    int64_t mem_180827_cached_sizze_182165 = 0;
    unsigned char *mem_180827 = NULL;
    int64_t mem_180841_cached_sizze_182166 = 0;
    unsigned char *mem_180841 = NULL;
    int64_t mem_180843_cached_sizze_182167 = 0;
    unsigned char *mem_180843 = NULL;
    int64_t mem_180857_cached_sizze_182168 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180860_cached_sizze_182169 = 0;
    unsigned char *mem_180860 = NULL;
    int64_t mem_180863_cached_sizze_182170 = 0;
    unsigned char *mem_180863 = NULL;
    int64_t mem_181080_cached_sizze_182171 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182172 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181086_cached_sizze_182173 = 0;
    unsigned char *mem_181086 = NULL;
    int64_t mem_181099_cached_sizze_182174 = 0;
    unsigned char *mem_181099 = NULL;
    int64_t mem_181101_cached_sizze_182175 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181103_cached_sizze_182176 = 0;
    unsigned char *mem_181103 = NULL;
    int64_t mem_181200_cached_sizze_182177 = 0;
    unsigned char *mem_181200 = NULL;
    int64_t mem_181203_cached_sizze_182178 = 0;
    unsigned char *mem_181203 = NULL;
    int64_t mem_181206_cached_sizze_182179 = 0;
    unsigned char *mem_181206 = NULL;
    int64_t mem_181220_cached_sizze_182180 = 0;
    unsigned char *mem_181220 = NULL;
    int64_t mem_181222_cached_sizze_182181 = 0;
    unsigned char *mem_181222 = NULL;
    int64_t mem_181236_cached_sizze_182182 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181239_cached_sizze_182183 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181242_cached_sizze_182184 = 0;
    unsigned char *mem_181242 = NULL;
    struct memblock mem_param_tmp_181923;
    
    mem_param_tmp_181923.references = NULL;
    
    struct memblock mem_param_tmp_181922;
    
    mem_param_tmp_181922.references = NULL;
    
    struct memblock mem_param_tmp_181921;
    
    mem_param_tmp_181921.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock mem_181350;
    
    mem_181350.references = NULL;
    
    struct memblock mem_181346;
    
    mem_181346.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181303;
    
    mem_181303.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock ext_mem_181326;
    
    ext_mem_181326.references = NULL;
    
    struct memblock ext_mem_181329;
    
    ext_mem_181329.references = NULL;
    
    struct memblock ext_mem_181332;
    
    ext_mem_181332.references = NULL;
    
    struct memblock mem_param_181198;
    
    mem_param_181198.references = NULL;
    
    struct memblock mem_param_181195;
    
    mem_param_181195.references = NULL;
    
    struct memblock mem_param_181192;
    
    mem_param_181192.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181364;
    
    ext_mem_181364.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181184;
    
    mem_181184.references = NULL;
    
    struct memblock mem_181180;
    
    mem_181180.references = NULL;
    
    struct memblock ext_mem_181367;
    
    ext_mem_181367.references = NULL;
    
    struct memblock ext_mem_181370;
    
    ext_mem_181370.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock mem_181078;
    
    mem_181078.references = NULL;
    
    struct memblock mem_181076;
    
    mem_181076.references = NULL;
    
    struct memblock mem_181074;
    
    mem_181074.references = NULL;
    
    struct memblock mem_param_tmp_181857;
    
    mem_param_tmp_181857.references = NULL;
    
    struct memblock mem_param_tmp_181856;
    
    mem_param_tmp_181856.references = NULL;
    
    struct memblock mem_param_tmp_181855;
    
    mem_param_tmp_181855.references = NULL;
    
    struct memblock mem_180612;
    
    mem_180612.references = NULL;
    
    struct memblock mem_180608;
    
    mem_180608.references = NULL;
    
    struct memblock mem_180604;
    
    mem_180604.references = NULL;
    
    struct memblock mem_180557;
    
    mem_180557.references = NULL;
    
    struct memblock mem_180553;
    
    mem_180553.references = NULL;
    
    struct memblock mem_180549;
    
    mem_180549.references = NULL;
    
    struct memblock mem_180563;
    
    mem_180563.references = NULL;
    
    struct memblock mem_180561;
    
    mem_180561.references = NULL;
    
    struct memblock mem_180559;
    
    mem_180559.references = NULL;
    
    struct memblock ext_mem_180584;
    
    ext_mem_180584.references = NULL;
    
    struct memblock ext_mem_180587;
    
    ext_mem_180587.references = NULL;
    
    struct memblock ext_mem_180590;
    
    ext_mem_180590.references = NULL;
    
    struct memblock mem_param_180456;
    
    mem_param_180456.references = NULL;
    
    struct memblock mem_param_180453;
    
    mem_param_180453.references = NULL;
    
    struct memblock mem_param_180450;
    
    mem_param_180450.references = NULL;
    
    struct memblock ext_mem_180620;
    
    ext_mem_180620.references = NULL;
    
    struct memblock ext_mem_180621;
    
    ext_mem_180621.references = NULL;
    
    struct memblock ext_mem_180622;
    
    ext_mem_180622.references = NULL;
    
    struct memblock mem_180446;
    
    mem_180446.references = NULL;
    
    struct memblock mem_180442;
    
    mem_180442.references = NULL;
    
    struct memblock mem_180438;
    
    mem_180438.references = NULL;
    
    struct memblock ext_mem_180625;
    
    ext_mem_180625.references = NULL;
    
    struct memblock ext_mem_180628;
    
    ext_mem_180628.references = NULL;
    
    struct memblock ext_mem_180631;
    
    ext_mem_180631.references = NULL;
    
    struct memblock mem_180336;
    
    mem_180336.references = NULL;
    
    struct memblock mem_180334;
    
    mem_180334.references = NULL;
    
    struct memblock mem_180332;
    
    mem_180332.references = NULL;
    
    struct memblock mem_180316;
    
    mem_180316.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180312;
    
    mem_180312.references = NULL;
    
    struct memblock mem_181023;
    
    mem_181023.references = NULL;
    
    struct memblock mem_181022;
    
    mem_181022.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_param_tmp_181763;
    
    mem_param_tmp_181763.references = NULL;
    
    struct memblock mem_param_tmp_181762;
    
    mem_param_tmp_181762.references = NULL;
    
    struct memblock mem_param_tmp_181761;
    
    mem_param_tmp_181761.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock mem_180971;
    
    mem_180971.references = NULL;
    
    struct memblock mem_180967;
    
    mem_180967.references = NULL;
    
    struct memblock mem_180920;
    
    mem_180920.references = NULL;
    
    struct memblock mem_180916;
    
    mem_180916.references = NULL;
    
    struct memblock mem_180912;
    
    mem_180912.references = NULL;
    
    struct memblock mem_180926;
    
    mem_180926.references = NULL;
    
    struct memblock mem_180924;
    
    mem_180924.references = NULL;
    
    struct memblock mem_180922;
    
    mem_180922.references = NULL;
    
    struct memblock ext_mem_180947;
    
    ext_mem_180947.references = NULL;
    
    struct memblock ext_mem_180950;
    
    ext_mem_180950.references = NULL;
    
    struct memblock ext_mem_180953;
    
    ext_mem_180953.references = NULL;
    
    struct memblock mem_param_180819;
    
    mem_param_180819.references = NULL;
    
    struct memblock mem_param_180816;
    
    mem_param_180816.references = NULL;
    
    struct memblock mem_param_180813;
    
    mem_param_180813.references = NULL;
    
    struct memblock ext_mem_180983;
    
    ext_mem_180983.references = NULL;
    
    struct memblock ext_mem_180984;
    
    ext_mem_180984.references = NULL;
    
    struct memblock ext_mem_180985;
    
    ext_mem_180985.references = NULL;
    
    struct memblock mem_180809;
    
    mem_180809.references = NULL;
    
    struct memblock mem_180805;
    
    mem_180805.references = NULL;
    
    struct memblock mem_180801;
    
    mem_180801.references = NULL;
    
    struct memblock ext_mem_180988;
    
    ext_mem_180988.references = NULL;
    
    struct memblock ext_mem_180991;
    
    ext_mem_180991.references = NULL;
    
    struct memblock ext_mem_180994;
    
    ext_mem_180994.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_180697;
    
    mem_180697.references = NULL;
    
    struct memblock mem_180695;
    
    mem_180695.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock ext_mem_181050;
    
    ext_mem_181050.references = NULL;
    
    struct memblock mem_180286;
    
    mem_180286.references = NULL;
    
    struct memblock mem_180284;
    
    mem_180284.references = NULL;
    
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t prim_out_181702;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769 = add64(na_130955, nb_130956);
    
    if (memblock_alloc(ctx, &mem_180282, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181703 = 0; nest_i_181703 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181703++) {
        ((int8_t *) mem_180282.mem)[nest_i_181703] = (int8_t) -1;
    }
    
    int64_t bytes_180283 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    
    if (memblock_alloc(ctx, &mem_180284, bytes_180283, "mem_180284")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181704 = 0; nest_i_181704 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181704++) {
        ((int64_t *) mem_180284.mem)[nest_i_181704] = (int64_t) -1;
    }
    
    int64_t bytes_180285 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    
    if (memblock_alloc(ctx, &mem_180286, bytes_180285, "mem_180286")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181705 = 0; nest_i_181705 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181705++) {
        ((int32_t *) mem_180286.mem)[nest_i_181705] = 0;
    }
    
    int64_t zl_rhs_174773 = sub64(na_130955, window_sizze_130957);
    bool cond_174774 = slt64((int64_t) 0, zl_rhs_174773);
    int64_t zl_rhs_174775 = sub64(nb_130956, window_sizze_130957);
    bool loop_cond_t_res_174776 = slt64((int64_t) 0, zl_rhs_174775);
    bool x_174777 = cond_174774 && loop_cond_t_res_174776;
    bool empty_slice_174778 = window_sizze_130957 == (int64_t) 0;
    int64_t m_174779 = sub64(window_sizze_130957, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804 = add64((int64_t) 1, threads_130958);
    int64_t partitionFunc_arg0_175805 = mul64((int64_t) 2, threads_130958);
    bool y_175807 = slt64((int64_t) 0, window_sizze_130957);
    bool loop_cond_176053 = slt64((int64_t) 0, threads_130958);
    bool zzero_174824 = threads_130958 == (int64_t) 0;
    bool nonzzero_174825 = !zzero_174824;
    bool loop_not_taken_177582 = !inParallel_130961;
    bool protect_assert_disj_177583 = nonzzero_174825 || loop_not_taken_177582;
    bool loop_not_taken_177672 = !x_174777;
    bool protect_assert_disj_177673 = protect_assert_disj_177583 || loop_not_taken_177672;
    bool nonzzero_cert_174826;
    
    if (!protect_assert_disj_177673) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174827 = sdiv_safe64(window_sizze_130957, threads_130958);
    int64_t perThread_174828 = add64((int64_t) 1, zp_rhs_174827);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829 = mul64(threads_130958, perThread_174828);
    bool protect_assert_disj_177719 = inParallel_130961 || y_175807;
    bool protect_assert_disj_177723 = loop_not_taken_177672 || protect_assert_disj_177719;
    bool index_certs_175808;
    
    if (!protect_assert_disj_177723) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175823 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, (int64_t) 1);
    bool y_176780 = slt64(threads_130958, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
    bool protect_assert_disj_177688 = y_175807 || loop_not_taken_177582;
    bool protect_assert_disj_177727 = loop_not_taken_177672 || protect_assert_disj_177688;
    bool index_certs_174832;
    
    if (!protect_assert_disj_177727) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175825 = !bounds_invalid_upwards_175823;
    bool protect_assert_disj_177735 = inParallel_130961 || y_176780;
    bool protect_assert_disj_177737 = loop_not_taken_177672 || protect_assert_disj_177735;
    bool index_certs_176782;
    
    if (!protect_assert_disj_177737) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_130958, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177731 = y_176780 || loop_not_taken_177582;
    bool protect_assert_disj_177739 = loop_not_taken_177672 || protect_assert_disj_177731;
    bool index_certs_175786;
    
    if (!protect_assert_disj_177739) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_130958, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177747 = inParallel_130961 || valid_175825;
    bool protect_assert_disj_177749 = loop_not_taken_177672 || protect_assert_disj_177747;
    bool range_valid_c_175826;
    
    if (!protect_assert_disj_177749) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177591 = sle64((int64_t) 1, threads_130958);
    bool protect_assert_disj_177743 = valid_175825 || loop_not_taken_177582;
    bool protect_assert_disj_177751 = loop_not_taken_177672 || protect_assert_disj_177743;
    bool range_valid_c_174839;
    
    if (!protect_assert_disj_177751) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175828 = add64(window_sizze_130957, window_sizze_130957);
    bool zzero_175829 = partitionFunc_arg0_175805 == (int64_t) 0;
    int64_t index_concat_i_177592 = sub64(threads_130958, (int64_t) 1);
    bool nonzzero_175830 = !zzero_175829;
    bool protect_assert_disj_177759 = inParallel_130961 || nonzzero_175830;
    bool protect_assert_disj_177765 = loop_not_taken_177672 || protect_assert_disj_177759;
    bool nonzzero_cert_175831;
    
    if (!protect_assert_disj_177765) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177755 = nonzzero_175830 || loop_not_taken_177582;
    bool protect_assert_disj_177771 = loop_not_taken_177672 || protect_assert_disj_177755;
    bool nonzzero_cert_174844;
    
    if (!protect_assert_disj_177771) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180296 = (int64_t) 8 * threads_130958;
    int64_t bytes_180313 = (int64_t) 8 * window_sizze_130957;
    int64_t bytes_180315 = (int64_t) 4 * window_sizze_130957;
    int64_t bytes_180658 = perThread_174828 * bytes_180296;
    int64_t binop_x_180665 = (int64_t) 4 * threads_130958;
    int64_t bytes_180666 = perThread_174828 * binop_x_180665;
    bool defunc_0_merge_pipeline_res_174780;
    int64_t defunc_0_merge_pipeline_res_174784;
    int64_t defunc_0_merge_pipeline_res_174785;
    bool loop_while_174786;
    int64_t p_174790;
    int64_t p_174791;
    
    loop_while_174786 = x_174777;
    p_174790 = (int64_t) 0;
    p_174791 = (int64_t) 0;
    while (loop_while_174786) {
        int64_t ubs_174792 = add64(window_sizze_130957, p_174790);
        int64_t ubs_174793 = add64(window_sizze_130957, p_174791);
        int64_t ind_bottom_174794 = add64(p_174790, p_174791);
        int64_t ind_top_174795 = add64(window_sizze_130957, ind_bottom_174794);
        int64_t i_p_m_t_s_174796 = add64(m_174779, p_174790);
        bool zzero_leq_i_p_m_t_s_174797 = sle64((int64_t) 0, i_p_m_t_s_174796);
        bool i_p_m_t_s_leq_w_174798 = slt64(i_p_m_t_s_174796, na_130955);
        bool zzero_lte_i_174799 = sle64((int64_t) 0, p_174790);
        bool i_lte_j_174800 = sle64(p_174790, ubs_174792);
        bool y_174801 = i_p_m_t_s_leq_w_174798 && zzero_lte_i_174799;
        bool y_174802 = zzero_leq_i_p_m_t_s_174797 && y_174801;
        bool forwards_ok_174803 = i_lte_j_174800 && y_174802;
        bool ok_or_empty_174804 = empty_slice_174778 || forwards_ok_174803;
        bool index_certs_174805;
        
        if (!ok_or_empty_174804) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174790, ":", (long long) ubs_174792, "] out of bounds for array of shape [", (long long) na_130955, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174807 = add64(m_174779, p_174791);
        bool zzero_leq_i_p_m_t_s_174808 = sle64((int64_t) 0, i_p_m_t_s_174807);
        bool i_p_m_t_s_leq_w_174809 = slt64(i_p_m_t_s_174807, nb_130956);
        bool zzero_lte_i_174810 = sle64((int64_t) 0, p_174791);
        bool i_lte_j_174811 = sle64(p_174791, ubs_174793);
        bool y_174812 = i_p_m_t_s_leq_w_174809 && zzero_lte_i_174810;
        bool y_174813 = zzero_leq_i_p_m_t_s_174808 && y_174812;
        bool forwards_ok_174814 = i_lte_j_174811 && y_174813;
        bool ok_or_empty_174815 = empty_slice_174778 || forwards_ok_174814;
        bool index_certs_174816;
        
        if (!ok_or_empty_174815) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174791, ":", (long long) ubs_174793, "] out of bounds for array of shape [", (long long) nb_130956, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176794 = add64(m_174779, ind_bottom_174794);
        bool zzero_leq_i_p_m_t_s_176795 = sle64((int64_t) 0, i_p_m_t_s_176794);
        bool i_p_m_t_s_leq_w_176796 = slt64(i_p_m_t_s_176794, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
        bool zzero_lte_i_176797 = sle64((int64_t) 0, ind_bottom_174794);
        bool i_lte_j_176798 = sle64(ind_bottom_174794, ind_top_174795);
        bool y_176799 = i_p_m_t_s_leq_w_176796 && zzero_lte_i_176797;
        bool y_176800 = zzero_leq_i_p_m_t_s_176795 && y_176799;
        bool forwards_ok_176801 = i_lte_j_176798 && y_176800;
        bool ok_or_empty_176802 = empty_slice_174778 || forwards_ok_176801;
        bool index_certs_176803;
        
        if (!ok_or_empty_176802) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174794, ":", (long long) ind_top_174795, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174818;
        int64_t loopres_174819;
        
        if (inParallel_130961) {
            int32_t leq_lhs_178252 = ((int32_t *) a_list_mem_180280.mem)[p_174790];
            int32_t leq_rhs_178253 = ((int32_t *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_178254 = sle32(leq_lhs_178252, leq_rhs_178253);
            int32_t lowest_178255;
            
            if (defunc_0_leq_res_178254) {
                lowest_178255 = leq_lhs_178252;
            } else {
                lowest_178255 = leq_rhs_178253;
            }
            if (mem_180642_cached_sizze_182151 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180642, &mem_180642_cached_sizze_182151, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180644_cached_sizze_182152 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180644, &mem_180644_cached_sizze_182152, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179944 = 0; i_179944 < threads_130958; i_179944++) {
                int64_t index_primexp_180216 = add64((int64_t) 1, i_179944);
                int64_t zs_lhs_178260 = mul64(zt_rhs_175828, index_primexp_180216);
                int64_t index_178261 = sdiv64(zs_lhs_178260, partitionFunc_arg0_175805);
                bool cond_178262 = slt64(window_sizze_130957, index_178261);
                int64_t loop_over_178263;
                
                if (cond_178262) {
                    loop_over_178263 = window_sizze_130957;
                } else {
                    loop_over_178263 = index_178261;
                }
                
                int64_t loop_over_178264;
                
                if (cond_178262) {
                    int64_t loop_over_t_res_178265 = sub64(index_178261, window_sizze_130957);
                    
                    loop_over_178264 = loop_over_t_res_178265;
                } else {
                    loop_over_178264 = (int64_t) 0;
                }
                
                int64_t loop_over_178266;
                
                if (cond_178262) {
                    int64_t zm_lhs_178267 = sub64(index_178261, window_sizze_130957);
                    int64_t loop_over_t_res_178268 = sub64(zm_lhs_178267, (int64_t) 1);
                    
                    loop_over_178266 = loop_over_t_res_178268;
                } else {
                    loop_over_178266 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178269;
                int64_t defunc_0_f_res_178270;
                int64_t defunc_0_f_res_178271;
                int64_t defunc_0_f_res_178272;
                bool loop_while_178273;
                int64_t p_178274;
                int64_t p_178275;
                int64_t p_178276;
                
                loop_while_178273 = 1;
                p_178274 = loop_over_178266;
                p_178275 = loop_over_178263;
                p_178276 = loop_over_178264;
                while (loop_while_178273) {
                    int64_t zs_lhs_178277 = sub64(p_178275, p_178274);
                    int64_t offset_178278 = sdiv64(zs_lhs_178277, (int64_t) 2);
                    int64_t ai_178279 = sub64(p_178275, offset_178278);
                    int64_t max_arg1_178280 = add64(p_178276, offset_178278);
                    int64_t max_res_178281 = smax64((int64_t) 0, max_arg1_178280);
                    bool cond_178282 = slt64((int64_t) 0, max_res_178281);
                    int32_t b_prev_178283;
                    
                    if (cond_178282) {
                        int64_t tmp_178284 = sub64(max_res_178281, (int64_t) 1);
                        bool x_178285 = sle64((int64_t) 0, tmp_178284);
                        bool y_178286 = slt64(tmp_178284, window_sizze_130957);
                        bool bounds_check_178287 = x_178285 && y_178286;
                        bool index_certs_178288;
                        
                        if (!bounds_check_178287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178284, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178289 = p_174791 + tmp_178284;
                        int32_t b_prev_t_res_178290 = ((int32_t *) b_list_mem_180281.mem)[slice_178289];
                        
                        b_prev_178283 = b_prev_t_res_178290;
                    } else {
                        b_prev_178283 = lowest_178255;
                    }
                    
                    bool cond_178291 = sle64(ai_178279, (int64_t) 0);
                    int64_t loopres_178292;
                    int64_t loopres_178293;
                    int64_t loopres_178294;
                    bool loopres_178295;
                    
                    if (cond_178291) {
                        loopres_178292 = p_178274;
                        loopres_178293 = (int64_t) 0;
                        loopres_178294 = max_res_178281;
                        loopres_178295 = 0;
                    } else {
                        bool cond_178296 = sle64(window_sizze_130957, max_res_178281);
                        int64_t loopres_f_res_178297;
                        int64_t loopres_f_res_178298;
                        int64_t loopres_f_res_178299;
                        bool loopres_f_res_178300;
                        
                        if (cond_178296) {
                            int64_t min_res_178302 = smin64(m_174779, ai_178279);
                            bool x_178303 = sle64((int64_t) 0, m_174779);
                            bool y_178304 = slt64(m_174779, window_sizze_130957);
                            bool bounds_check_178305 = x_178303 && y_178304;
                            bool index_certs_178306;
                            
                            if (!bounds_check_178305) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178309 = sle64((int64_t) 0, min_res_178302);
                            bool y_178310 = slt64(min_res_178302, window_sizze_130957);
                            bool bounds_check_178311 = x_178309 && y_178310;
                            bool index_certs_178312;
                            
                            if (!bounds_check_178311) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178302, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_178308 = ((int32_t *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_178313 = p_174790 + min_res_178302;
                            int32_t leq_rhs_178314 = ((int32_t *) a_list_mem_180280.mem)[slice_178313];
                            bool defunc_0_leq_res_178315 = sle32(leq_lhs_178308, leq_rhs_178314);
                            int64_t loopres_f_res_t_res_178316;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178316 = ai_178279;
                            } else {
                                loopres_f_res_t_res_178316 = p_178275;
                            }
                            
                            bool x_178317 = !defunc_0_leq_res_178315;
                            int64_t loopres_f_res_t_res_178318;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178318 = window_sizze_130957;
                            } else {
                                int64_t tmp_178319 = sub64(m_174779, offset_178278);
                                
                                loopres_f_res_t_res_178318 = tmp_178319;
                            }
                            loopres_f_res_178297 = p_178274;
                            loopres_f_res_178298 = loopres_f_res_t_res_178316;
                            loopres_f_res_178299 = loopres_f_res_t_res_178318;
                            loopres_f_res_178300 = x_178317;
                        } else {
                            bool cond_178320 = sle64(window_sizze_130957, ai_178279);
                            int64_t loopres_f_res_f_res_178321;
                            int64_t loopres_f_res_f_res_178322;
                            int64_t loopres_f_res_f_res_178323;
                            bool loopres_f_res_f_res_178324;
                            
                            if (cond_178320) {
                                int64_t min_res_178326 = smin64(m_174779, max_res_178281);
                                bool x_178327 = sle64((int64_t) 0, m_174779);
                                bool y_178328 = slt64(m_174779, window_sizze_130957);
                                bool bounds_check_178329 = x_178327 && y_178328;
                                bool index_certs_178330;
                                
                                if (!bounds_check_178329) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178333 = sle64((int64_t) 0, min_res_178326);
                                bool y_178334 = slt64(min_res_178326, window_sizze_130957);
                                bool bounds_check_178335 = x_178333 && y_178334;
                                bool index_certs_178336;
                                
                                if (!bounds_check_178335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178326, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_178332 = ((int32_t *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_178337 = p_174791 + min_res_178326;
                                int32_t leq_rhs_178338 = ((int32_t *) b_list_mem_180281.mem)[slice_178337];
                                bool defunc_0_leq_res_178339 = sle32(leq_lhs_178332, leq_rhs_178338);
                                int64_t loopres_f_res_f_res_t_res_178340;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178340 = max_res_178281;
                                } else {
                                    loopres_f_res_f_res_t_res_178340 = p_178276;
                                }
                                
                                bool x_178341 = !defunc_0_leq_res_178339;
                                int64_t loopres_f_res_f_res_t_res_178342;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178342 = window_sizze_130957;
                                } else {
                                    loopres_f_res_f_res_t_res_178342 = m_174779;
                                }
                                loopres_f_res_f_res_178321 = p_178274;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_t_res_178342;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_t_res_178340;
                                loopres_f_res_f_res_178324 = x_178341;
                            } else {
                                bool cond_178343 = sle64(p_178275, p_178274);
                                int64_t loopres_f_res_f_res_f_res_178344;
                                int64_t loopres_f_res_f_res_f_res_178345;
                                int64_t loopres_f_res_f_res_f_res_178346;
                                bool loopres_f_res_f_res_f_res_178347;
                                
                                if (cond_178343) {
                                    bool cond_178348 = slt64(ai_178279, window_sizze_130957);
                                    int64_t ai_178349;
                                    
                                    if (cond_178348) {
                                        ai_178349 = ai_178279;
                                    } else {
                                        ai_178349 = m_174779;
                                    }
                                    
                                    bool x_178362 = sle64((int64_t) 0, ai_178349);
                                    bool y_178363 = slt64(ai_178349, window_sizze_130957);
                                    bool bounds_check_178364 = x_178362 && y_178363;
                                    bool index_certs_178365;
                                    
                                    if (!bounds_check_178364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178349, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_178351;
                                    
                                    if (cond_178282) {
                                        int64_t tmp_178352 = sub64(max_res_178281, (int64_t) 1);
                                        bool x_178353 = sle64((int64_t) 0, tmp_178352);
                                        bool y_178354 = slt64(tmp_178352, window_sizze_130957);
                                        bool bounds_check_178355 = x_178353 && y_178354;
                                        bool index_certs_178356;
                                        
                                        if (!bounds_check_178355) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178352, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178357 = p_174791 + tmp_178352;
                                        int32_t b_prev_t_res_178358 = ((int32_t *) b_list_mem_180281.mem)[slice_178357];
                                        
                                        b_prev_178351 = b_prev_t_res_178358;
                                    } else {
                                        bool index_certs_178360;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178351 = leq_rhs_178253;
                                    }
                                    
                                    int64_t slice_178366 = p_174790 + ai_178349;
                                    int32_t gt_lhs_178367 = ((int32_t *) a_list_mem_180280.mem)[slice_178366];
                                    bool defunc_0_gt_res_178368 = slt32(b_prev_178351, gt_lhs_178367);
                                    int64_t defunc_0_partFunc_sequential_search_res_178369;
                                    int64_t defunc_0_partFunc_sequential_search_res_178370;
                                    
                                    if (defunc_0_gt_res_178368) {
                                        int64_t zl_rhs_178371 = sub64(window_sizze_130957, max_res_178281);
                                        bool loop_cond_178372 = slt64((int64_t) 0, zl_rhs_178371);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178373;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178375;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178376;
                                        bool loop_while_178377;
                                        int64_t p_178378;
                                        int64_t p_178379;
                                        int64_t p_178380;
                                        
                                        loop_while_178377 = loop_cond_178372;
                                        p_178378 = ai_178349;
                                        p_178379 = max_res_178281;
                                        p_178380 = (int64_t) 0;
                                        while (loop_while_178377) {
                                            int64_t i_a_178381 = sub64(ai_178349, p_178380);
                                            int64_t i_b_178382 = add64(max_res_178281, p_178380);
                                            int64_t leq_lhs_178383 = sub64(i_a_178381, (int64_t) 1);
                                            bool x_178384 = sle64((int64_t) 0, leq_lhs_178383);
                                            bool y_178385 = slt64(leq_lhs_178383, window_sizze_130957);
                                            bool bounds_check_178386 = x_178384 && y_178385;
                                            bool index_certs_178387;
                                            
                                            if (!bounds_check_178386) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178383, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178390 = sle64((int64_t) 0, i_b_178382);
                                            bool y_178391 = slt64(i_b_178382, window_sizze_130957);
                                            bool bounds_check_178392 = x_178390 && y_178391;
                                            bool index_certs_178393;
                                            
                                            if (!bounds_check_178392) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178382, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178388 = p_174790 + leq_lhs_178383;
                                            int32_t leq_lhs_178389 = ((int32_t *) a_list_mem_180280.mem)[slice_178388];
                                            int64_t slice_178394 = p_174791 + i_b_178382;
                                            int32_t leq_rhs_178395 = ((int32_t *) b_list_mem_180281.mem)[slice_178394];
                                            bool defunc_0_leq_res_178396 = sle32(leq_lhs_178389, leq_rhs_178395);
                                            int64_t loopres_178397;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178397 = i_a_178381;
                                            } else {
                                                loopres_178397 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178398;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178398 = i_b_178382;
                                            } else {
                                                loopres_178398 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178399;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178399 = zl_rhs_178371;
                                            } else {
                                                int64_t tmp_178400 = add64((int64_t) 1, p_178380);
                                                
                                                loopres_178399 = tmp_178400;
                                            }
                                            
                                            bool loop_cond_178401 = slt64(loopres_178399, zl_rhs_178371);
                                            bool loop_while_tmp_181718 = loop_cond_178401;
                                            int64_t p_tmp_181719 = loopres_178397;
                                            int64_t p_tmp_181720 = loopres_178398;
                                            int64_t p_tmp_181721 = loopres_178399;
                                            
                                            loop_while_178377 = loop_while_tmp_181718;
                                            p_178378 = p_tmp_181719;
                                            p_178379 = p_tmp_181720;
                                            p_178380 = p_tmp_181721;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178373 = loop_while_178377;
                                        defunc_0_partFunc_sequential_search_res_t_res_178374 = p_178378;
                                        defunc_0_partFunc_sequential_search_res_t_res_178375 = p_178379;
                                        defunc_0_partFunc_sequential_search_res_t_res_178376 = p_178380;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_t_res_178375;
                                    } else {
                                        int64_t zl_rhs_178402 = sub64(max_res_178281, (int64_t) 1);
                                        bool loop_cond_178403 = slt64((int64_t) 0, zl_rhs_178402);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178404;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178406;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178407;
                                        bool loop_while_178408;
                                        int64_t p_178409;
                                        int64_t p_178410;
                                        int64_t p_178411;
                                        
                                        loop_while_178408 = loop_cond_178403;
                                        p_178409 = ai_178349;
                                        p_178410 = max_res_178281;
                                        p_178411 = (int64_t) 0;
                                        while (loop_while_178408) {
                                            int64_t zp_lhs_178412 = add64(ai_178349, p_178411);
                                            int64_t hi_a_178413 = add64((int64_t) 1, zp_lhs_178412);
                                            bool cond_178414 = slt64(hi_a_178413, window_sizze_130957);
                                            int64_t i_a_178415;
                                            
                                            if (cond_178414) {
                                                i_a_178415 = hi_a_178413;
                                            } else {
                                                i_a_178415 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_178417 = sub64(max_res_178281, p_178411);
                                            int64_t i_b_178418 = sub64(zm_lhs_178417, (int64_t) 1);
                                            bool x_178419 = sle64((int64_t) 0, i_a_178415);
                                            bool y_178420 = slt64(i_a_178415, window_sizze_130957);
                                            bool bounds_check_178421 = x_178419 && y_178420;
                                            bool index_certs_178422;
                                            
                                            if (!bounds_check_178421) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178415, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178425 = sle64((int64_t) 0, i_b_178418);
                                            bool y_178426 = slt64(i_b_178418, window_sizze_130957);
                                            bool bounds_check_178427 = x_178425 && y_178426;
                                            bool index_certs_178428;
                                            
                                            if (!bounds_check_178427) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178418, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178423 = p_174790 + i_a_178415;
                                            int32_t gt_lhs_178424 = ((int32_t *) a_list_mem_180280.mem)[slice_178423];
                                            int64_t slice_178429 = p_174791 + i_b_178418;
                                            int32_t gt_rhs_178430 = ((int32_t *) b_list_mem_180281.mem)[slice_178429];
                                            bool defunc_0_gt_res_178431 = slt32(gt_rhs_178430, gt_lhs_178424);
                                            int64_t loopres_178432;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178432 = i_a_178415;
                                            } else {
                                                loopres_178432 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178433;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178433 = zm_lhs_178417;
                                            } else {
                                                loopres_178433 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178434;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178434 = zl_rhs_178402;
                                            } else {
                                                int64_t tmp_178435 = add64((int64_t) 1, p_178411);
                                                
                                                loopres_178434 = tmp_178435;
                                            }
                                            
                                            bool loop_cond_178436 = slt64(loopres_178434, zl_rhs_178402);
                                            bool loop_while_tmp_181722 = loop_cond_178436;
                                            int64_t p_tmp_181723 = loopres_178432;
                                            int64_t p_tmp_181724 = loopres_178433;
                                            int64_t p_tmp_181725 = loopres_178434;
                                            
                                            loop_while_178408 = loop_while_tmp_181722;
                                            p_178409 = p_tmp_181723;
                                            p_178410 = p_tmp_181724;
                                            p_178411 = p_tmp_181725;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178404 = loop_while_178408;
                                        defunc_0_partFunc_sequential_search_res_f_res_178405 = p_178409;
                                        defunc_0_partFunc_sequential_search_res_f_res_178406 = p_178410;
                                        defunc_0_partFunc_sequential_search_res_f_res_178407 = p_178411;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_f_res_178406;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = p_178274;
                                    loopres_f_res_f_res_f_res_178345 = defunc_0_partFunc_sequential_search_res_178369;
                                    loopres_f_res_f_res_f_res_178346 = defunc_0_partFunc_sequential_search_res_178370;
                                    loopres_f_res_f_res_f_res_178347 = 0;
                                } else {
                                    bool x_178437 = sle64((int64_t) 0, ai_178279);
                                    bool y_178438 = slt64(ai_178279, window_sizze_130957);
                                    bool bounds_check_178439 = x_178437 && y_178438;
                                    bool index_certs_178440;
                                    
                                    if (!bounds_check_178439) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178279, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178441 = p_174790 + ai_178279;
                                    int32_t gt_lhs_178442 = ((int32_t *) a_list_mem_180280.mem)[slice_178441];
                                    bool defunc_0_gt_res_178443 = slt32(b_prev_178283, gt_lhs_178442);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178444;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178445;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178446;
                                    bool loopres_f_res_f_res_f_res_f_res_178447;
                                    
                                    if (defunc_0_gt_res_178443) {
                                        int64_t leq_lhs_178448 = sub64(ai_178279, (int64_t) 1);
                                        bool x_178449 = sle64((int64_t) 0, leq_lhs_178448);
                                        bool y_178450 = slt64(leq_lhs_178448, window_sizze_130957);
                                        bool bounds_check_178451 = x_178449 && y_178450;
                                        bool index_certs_178452;
                                        
                                        if (!bounds_check_178451) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178448, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178455 = sle64((int64_t) 0, max_res_178281);
                                        bool y_178456 = slt64(max_res_178281, window_sizze_130957);
                                        bool bounds_check_178457 = x_178455 && y_178456;
                                        bool index_certs_178458;
                                        
                                        if (!bounds_check_178457) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178281, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178453 = p_174790 + leq_lhs_178448;
                                        int32_t leq_lhs_178454 = ((int32_t *) a_list_mem_180280.mem)[slice_178453];
                                        int64_t slice_178459 = p_174791 + max_res_178281;
                                        int32_t leq_rhs_178460 = ((int32_t *) b_list_mem_180281.mem)[slice_178459];
                                        bool defunc_0_leq_res_178461 = sle32(leq_lhs_178454, leq_rhs_178460);
                                        bool x_178462 = !defunc_0_leq_res_178461;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = ai_178279;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = leq_lhs_178448;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = max_res_178281;
                                        } else {
                                            int64_t tmp_178465 = add64((int64_t) 1, max_res_178281);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = tmp_178465;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178444 = p_178274;
                                        loopres_f_res_f_res_f_res_f_res_178445 = loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        loopres_f_res_f_res_f_res_f_res_178446 = loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        loopres_f_res_f_res_f_res_f_res_178447 = x_178462;
                                    } else {
                                        int64_t tmp_178466 = add64((int64_t) 1, ai_178279);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178444 = tmp_178466;
                                        loopres_f_res_f_res_f_res_f_res_178445 = p_178275;
                                        loopres_f_res_f_res_f_res_f_res_178446 = p_178276;
                                        loopres_f_res_f_res_f_res_f_res_178447 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = loopres_f_res_f_res_f_res_f_res_178444;
                                    loopres_f_res_f_res_f_res_178345 = loopres_f_res_f_res_f_res_f_res_178445;
                                    loopres_f_res_f_res_f_res_178346 = loopres_f_res_f_res_f_res_f_res_178446;
                                    loopres_f_res_f_res_f_res_178347 = loopres_f_res_f_res_f_res_f_res_178447;
                                }
                                loopres_f_res_f_res_178321 = loopres_f_res_f_res_f_res_178344;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_f_res_178345;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_f_res_178346;
                                loopres_f_res_f_res_178324 = loopres_f_res_f_res_f_res_178347;
                            }
                            loopres_f_res_178297 = loopres_f_res_f_res_178321;
                            loopres_f_res_178298 = loopres_f_res_f_res_178322;
                            loopres_f_res_178299 = loopres_f_res_f_res_178323;
                            loopres_f_res_178300 = loopres_f_res_f_res_178324;
                        }
                        loopres_178292 = loopres_f_res_178297;
                        loopres_178293 = loopres_f_res_178298;
                        loopres_178294 = loopres_f_res_178299;
                        loopres_178295 = loopres_f_res_178300;
                    }
                    
                    bool loop_while_tmp_181714 = loopres_178295;
                    int64_t p_tmp_181715 = loopres_178292;
                    int64_t p_tmp_181716 = loopres_178293;
                    int64_t p_tmp_181717 = loopres_178294;
                    
                    loop_while_178273 = loop_while_tmp_181714;
                    p_178274 = p_tmp_181715;
                    p_178275 = p_tmp_181716;
                    p_178276 = p_tmp_181717;
                }
                defunc_0_f_res_178269 = loop_while_178273;
                defunc_0_f_res_178270 = p_178274;
                defunc_0_f_res_178271 = p_178275;
                defunc_0_f_res_178272 = p_178276;
                ((int64_t *) mem_180642)[i_179944] = defunc_0_f_res_178271;
                ((int64_t *) mem_180644)[i_179944] = defunc_0_f_res_178272;
            }
            if (mem_180659_cached_sizze_182153 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180659, &mem_180659_cached_sizze_182153, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180661_cached_sizze_182154 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829) {
                err = lexical_realloc(ctx, &mem_180661, &mem_180661_cached_sizze_182154, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180664_cached_sizze_182155 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180664, &mem_180664_cached_sizze_182155, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180667_cached_sizze_182156 < bytes_180666) {
                err = lexical_realloc(ctx, &mem_180667, &mem_180667_cached_sizze_182156, bytes_180666);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180010 = 0; i_180010 < threads_130958; i_180010++) {
                bool y_178480 = slt64(i_180010, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool index_certs_178482;
                
                if (!y_178480) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180010, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178483 = sle64((int64_t) 1, i_180010);
                int64_t index_concat_i_178484 = sub64(i_180010, (int64_t) 1);
                int64_t index_concat_178485;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178486 = ((int64_t *) mem_180642)[index_concat_i_178484];
                    
                    index_concat_178485 = x_178486;
                } else {
                    index_concat_178485 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178487;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178487 = index_concat_178485;
                } else {
                    index_concat_branch_178487 = (int64_t) 0;
                }
                
                int64_t index_concat_178488;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178489 = ((int64_t *) mem_180644)[index_concat_i_178484];
                    
                    index_concat_178488 = x_178489;
                } else {
                    index_concat_178488 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178490;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178490 = index_concat_178488;
                } else {
                    index_concat_branch_178490 = (int64_t) 0;
                }
                
                int64_t ubs_178491 = add64((int64_t) 1, i_180010);
                bool x_178492 = sle64((int64_t) 0, ubs_178491);
                bool y_178493 = slt64(ubs_178491, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_178494 = x_178492 && y_178493;
                bool index_certs_178495;
                
                if (!bounds_check_178494) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178491, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178496 = sle64((int64_t) 1, ubs_178491);
                int64_t index_concat_178497;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178498 = ((int64_t *) mem_180642)[i_180010];
                    
                    index_concat_178497 = x_178498;
                } else {
                    index_concat_178497 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178499;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178499 = index_concat_178497;
                } else {
                    index_concat_branch_178499 = (int64_t) 0;
                }
                
                int64_t index_concat_178500;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178501 = ((int64_t *) mem_180644)[i_180010];
                    
                    index_concat_178500 = x_178501;
                } else {
                    index_concat_178500 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178502;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178502 = index_concat_178500;
                } else {
                    index_concat_branch_178502 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 = sub64(index_concat_branch_178502, index_concat_branch_178490);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 = sub64(index_concat_branch_178499, index_concat_branch_178487);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t zm_lhs_178506 = add64(index_concat_branch_178499, index_concat_branch_178502);
                int64_t zm_rhs_178507 = add64(index_concat_branch_178487, index_concat_branch_178490);
                int64_t card_178508 = sub64(zm_lhs_178506, zm_rhs_178507);
                bool empty_slice_178509 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 == (int64_t) 0;
                int64_t m_178510 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 1);
                int64_t i_p_m_t_s_178511 = add64(index_concat_branch_178487, m_178510);
                bool zzero_leq_i_p_m_t_s_178512 = sle64((int64_t) 0, i_p_m_t_s_178511);
                bool i_p_m_t_s_leq_w_178513 = slt64(i_p_m_t_s_178511, window_sizze_130957);
                bool zzero_lte_i_178514 = sle64((int64_t) 0, index_concat_branch_178487);
                bool i_lte_j_178515 = sle64(index_concat_branch_178487, index_concat_branch_178499);
                bool y_178516 = i_p_m_t_s_leq_w_178513 && zzero_lte_i_178514;
                bool y_178517 = zzero_leq_i_p_m_t_s_178512 && y_178516;
                bool forwards_ok_178518 = i_lte_j_178515 && y_178517;
                bool ok_or_empty_178519 = empty_slice_178509 || forwards_ok_178518;
                bool index_certs_178520;
                
                if (!ok_or_empty_178519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178487, ":", (long long) index_concat_branch_178499, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178521 = slt64(index_concat_branch_178499, index_concat_branch_178487);
                bool valid_178522 = !bounds_invalid_upwards_178521;
                bool range_valid_c_178523;
                
                if (!valid_178522) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178487, "..<", (long long) index_concat_branch_178499, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178528 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 == (int64_t) 0;
                int64_t m_178529 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, (int64_t) 1);
                int64_t i_p_m_t_s_178530 = add64(index_concat_branch_178490, m_178529);
                bool zzero_leq_i_p_m_t_s_178531 = sle64((int64_t) 0, i_p_m_t_s_178530);
                bool i_p_m_t_s_leq_w_178532 = slt64(i_p_m_t_s_178530, window_sizze_130957);
                bool zzero_lte_i_178533 = sle64((int64_t) 0, index_concat_branch_178490);
                bool i_lte_j_178534 = sle64(index_concat_branch_178490, index_concat_branch_178502);
                bool y_178535 = i_p_m_t_s_leq_w_178532 && zzero_lte_i_178533;
                bool y_178536 = zzero_leq_i_p_m_t_s_178531 && y_178535;
                bool forwards_ok_178537 = i_lte_j_178534 && y_178536;
                bool ok_or_empty_178538 = empty_slice_178528 || forwards_ok_178537;
                bool index_certs_178539;
                
                if (!ok_or_empty_178538) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178490, ":", (long long) index_concat_branch_178502, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178540 = slt64(index_concat_branch_178502, index_concat_branch_178490);
                bool valid_178541 = !bounds_invalid_upwards_178540;
                bool range_valid_c_178542;
                
                if (!valid_178541) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178490, "..<", (long long) index_concat_branch_178502, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180696 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                int64_t bytes_180698 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool cond_178550 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zs_lhs_178551 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zp_rhs_178552 = sdiv_safe64(zs_lhs_178551, (int64_t) 20);
                int64_t min_num_blocks_178553 = add64((int64_t) 1, zp_rhs_178552);
                bool loop_cond_178554 = slt64((int64_t) 1, min_num_blocks_178553);
                bool smallest_pow_2_geq_than_res_178555;
                int64_t smallest_pow_2_geq_than_res_178556;
                bool loop_while_178557;
                int64_t x_178558;
                
                loop_while_178557 = loop_cond_178554;
                x_178558 = (int64_t) 1;
                while (loop_while_178557) {
                    int64_t loopres_178559 = mul64((int64_t) 2, x_178558);
                    bool loop_cond_178560 = slt64(loopres_178559, min_num_blocks_178553);
                    bool loop_while_tmp_181730 = loop_cond_178560;
                    int64_t x_tmp_181731 = loopres_178559;
                    
                    loop_while_178557 = loop_while_tmp_181730;
                    x_178558 = x_tmp_181731;
                }
                smallest_pow_2_geq_than_res_178555 = loop_while_178557;
                smallest_pow_2_geq_than_res_178556 = x_178558;
                
                bool zzero_178561 = smallest_pow_2_geq_than_res_178556 == (int64_t) 0;
                bool nonzzero_178562 = !zzero_178561;
                bool protect_assert_disj_178563 = cond_178550 || nonzzero_178562;
                bool nonzzero_cert_178564;
                
                if (!protect_assert_disj_178563) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178565 = sdiv_safe64(zs_lhs_178551, smallest_pow_2_geq_than_res_178556);
                int64_t block_sizze_178566 = add64((int64_t) 1, zp_rhs_178565);
                bool y_178573 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                bool protect_assert_disj_181442 = cond_178550 || y_178573;
                bool index_certs_178574;
                
                if (!protect_assert_disj_181442) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178611 = slt64(smallest_pow_2_geq_than_res_178556, (int64_t) 0);
                bool valid_178612 = !bounds_invalid_upwards_178611;
                bool protect_assert_disj_181452 = cond_178550 || valid_178612;
                bool range_valid_c_178613;
                
                if (!protect_assert_disj_181452) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178556, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178615 = slt64(block_sizze_178566, (int64_t) 0);
                bool valid_178616 = !bounds_invalid_upwards_178615;
                bool protect_assert_disj_181454 = cond_178550 || valid_178616;
                bool range_valid_c_178617;
                
                if (!protect_assert_disj_181454) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178566, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178619 = sle64(block_sizze_178566, (int64_t) 1);
                int64_t tmp_178620 = sub64(block_sizze_178566, (int64_t) 2);
                bool bounds_invalid_upwards_178621 = slt64(tmp_178620, (int64_t) 0);
                bool valid_178623 = !bounds_invalid_upwards_178621;
                bool protect_assert_disj_178624 = cond_178619 || valid_178623;
                bool protect_assert_disj_181456 = cond_178550 || protect_assert_disj_178624;
                bool range_valid_c_178625;
                
                if (!protect_assert_disj_181456) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178620, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179205 = card_178508 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool empty_or_match_cert_179206;
                
                if (!dim_match_179205) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] cannot match shape of type `[", (long long) card_178508, "](i8, i64, i32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179207 = card_178508 == (int64_t) 0;
                int64_t m_179208 = sub64(card_178508, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179209 = sle64((int64_t) 0, m_179208);
                bool i_p_m_t_s_leq_w_179210 = slt64(m_179208, card_178508);
                bool y_179211 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179210;
                bool ok_or_empty_179212 = empty_slice_179207 || y_179211;
                bool index_certs_179213;
                
                if (!ok_or_empty_179212) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) card_178508, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, perThread_174828);
                bool y_179215 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179214;
                bool ok_or_empty_179216 = empty_slice_179207 || y_179215;
                bool index_certs_179217;
                
                if (!ok_or_empty_179216) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181732 = 0; nest_i_181732 < perThread_174828; nest_i_181732++) {
                    ((int8_t *) mem_180661)[i_180010 * perThread_174828 + nest_i_181732] = (int8_t) -1;
                }
                for (int64_t nest_i_181733 = 0; nest_i_181733 < perThread_174828; nest_i_181733++) {
                    ((int64_t *) mem_180664)[i_180010 * perThread_174828 + nest_i_181733] = (int64_t) -1;
                }
                for (int64_t nest_i_181734 = 0; nest_i_181734 < perThread_174828; nest_i_181734++) {
                    ((int32_t *) mem_180667)[i_180010 * perThread_174828 + nest_i_181734] = 0;
                }
                
                int64_t slice_178524 = p_174790 + index_concat_branch_178487;
                
                if (memblock_alloc(ctx, &mem_180695, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "mem_180695")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181735 = 0; nest_i_181735 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; nest_i_181735++) {
                    ((int8_t *) mem_180695.mem)[nest_i_181735] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180697, bytes_180696, "mem_180697")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181736 = 0; i_181736 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; i_181736++) {
                    int64_t x_181737 = index_concat_branch_178487 + i_181736 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[i_181736] = x_181737;
                }
                
                int64_t slice_178543 = p_174791 + index_concat_branch_178490;
                
                for (int64_t nest_i_181738 = 0; nest_i_181738 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; nest_i_181738++) {
                    ((int8_t *) mem_180695.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + nest_i_181738] = (int8_t) 1;
                }
                for (int64_t i_181739 = 0; i_181739 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; i_181739++) {
                    int64_t x_181740 = index_concat_branch_178490 + i_181739 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + i_181739] = x_181740;
                }
                
                int64_t tmp_offs_181741 = (int64_t) 0;
                
                if (!(tmp_offs_181741 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181741 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t tmp_offs_181742 = (int64_t) 0;
                
                if (!(tmp_offs_181742 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181742 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181743 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180280.mem, slice_178524, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180281.mem, slice_178543, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t flat_dim_178567 = smallest_pow_2_geq_than_res_178556 * block_sizze_178566;
                bool x_181437 = !cond_178550;
                int64_t greatest_divisor_leq_than_arg1_178571 = mul64((int64_t) 2, block_sizze_178566);
                int64_t merge_block_sizze_178572;
                
                if (x_181437) {
                    int64_t x_181439;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181439, (int64_t) 8, greatest_divisor_leq_than_arg1_178571) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178572 = x_181439;
                } else {
                    merge_block_sizze_178572 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178575 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 0);
                int8_t index_concat_branch_178576 = btoi_bool_i8(index_concat_cmp_178575);
                int64_t index_concat_i_178578 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t index_primexp_178579 = add64(index_concat_branch_178490, index_concat_i_178578);
                int64_t index_concat_branch_178577;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178577 = index_primexp_178579;
                } else {
                    index_concat_branch_178577 = index_concat_branch_178487;
                }
                
                bool x_181433 = !index_concat_cmp_178575;
                bool protect_cond_conj_181443 = x_181433 && x_181437;
                int32_t index_concat_178585;
                
                if (protect_cond_conj_181443) {
                    int32_t x_181435 = ((int32_t *) a_list_mem_180280.mem)[slice_178524];
                    
                    index_concat_178585 = x_181435;
                } else {
                    index_concat_178585 = 0;
                }
                
                int64_t slice_178583 = p_174791 + index_primexp_178579;
                bool protect_cond_conj_181444 = index_concat_cmp_178575 && x_181437;
                int32_t index_concat_178584;
                
                if (protect_cond_conj_181444) {
                    int32_t x_181431 = ((int32_t *) b_list_mem_180281.mem)[slice_178583];
                    
                    index_concat_178584 = x_181431;
                } else {
                    index_concat_178584 = 0;
                }
                
                int32_t index_concat_branch_178580;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178580 = index_concat_178584;
                } else {
                    index_concat_branch_178580 = index_concat_178585;
                }
                
                int8_t defunc_0_reduce_res_178586;
                int64_t defunc_0_reduce_res_178587;
                int32_t defunc_0_reduce_res_178588;
                
                if (x_181437) {
                    int8_t x_181445;
                    int64_t x_181446;
                    int32_t x_181447;
                    int8_t redout_179947;
                    int64_t redout_179948;
                    int32_t redout_179949;
                    
                    redout_179947 = index_concat_branch_178576;
                    redout_179948 = index_concat_branch_178577;
                    redout_179949 = index_concat_branch_178580;
                    for (int64_t i_179950 = 0; i_179950 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505; i_179950++) {
                        bool index_concat_cmp_180208 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, i_179950);
                        int8_t index_concat_branch_180212 = btoi_bool_i8(index_concat_cmp_180208);
                        int64_t index_concat_branch_180206;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180203 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t index_primexp_180256 = add64(index_concat_branch_178490, index_concat_i_180203);
                            
                            index_concat_branch_180206 = index_primexp_180256;
                        } else {
                            int64_t index_primexp_180258 = add64(index_concat_branch_178487, i_179950);
                            
                            index_concat_branch_180206 = index_primexp_180258;
                        }
                        
                        int32_t index_concat_branch_180200;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180197 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t slice_180253 = slice_178543 + index_concat_i_180197;
                            int32_t index_concat_180198 = ((int32_t *) b_list_mem_180281.mem)[slice_180253];
                            
                            index_concat_branch_180200 = index_concat_180198;
                        } else {
                            int64_t slice_180254 = slice_178524 + i_179950;
                            int32_t index_concat_180199 = ((int32_t *) a_list_mem_180280.mem)[slice_180254];
                            
                            index_concat_branch_180200 = index_concat_180199;
                        }
                        
                        bool eq_x_y_180270 = redout_179947 == (int8_t) 1;
                        bool eq_x_zz_180271 = redout_179947 == (int8_t) 0;
                        bool p_and_eq_x_y_180272 = index_concat_cmp_180208 && eq_x_y_180270;
                        bool not_p_180273 = !index_concat_cmp_180208;
                        bool p_and_eq_x_y_180274 = eq_x_zz_180271 && not_p_180273;
                        bool cond_178598 = p_and_eq_x_y_180272 || p_and_eq_x_y_180274;
                        bool defunc_0_leq_res_t_res_178599 = sle64(redout_179948, index_concat_branch_180206);
                        bool defunc_0_leq_res_178600 = sle32(redout_179949, index_concat_branch_180200);
                        bool x_178601 = cond_178598 && defunc_0_leq_res_t_res_178599;
                        bool x_178602 = !cond_178598;
                        bool y_178603 = defunc_0_leq_res_178600 && x_178602;
                        bool defunc_0_leq_res_178604 = x_178601 || y_178603;
                        int8_t defunc_0_op_res_178605;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178605 = index_concat_branch_180212;
                        } else {
                            defunc_0_op_res_178605 = redout_179947;
                        }
                        
                        int64_t defunc_0_op_res_178606;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178606 = index_concat_branch_180206;
                        } else {
                            defunc_0_op_res_178606 = redout_179948;
                        }
                        
                        int32_t defunc_0_op_res_178607;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178607 = index_concat_branch_180200;
                        } else {
                            defunc_0_op_res_178607 = redout_179949;
                        }
                        
                        int8_t redout_tmp_181744 = defunc_0_op_res_178605;
                        int64_t redout_tmp_181745 = defunc_0_op_res_178606;
                        int32_t redout_tmp_181746 = defunc_0_op_res_178607;
                        
                        redout_179947 = redout_tmp_181744;
                        redout_179948 = redout_tmp_181745;
                        redout_179949 = redout_tmp_181746;
                    }
                    x_181445 = redout_179947;
                    x_181446 = redout_179948;
                    x_181447 = redout_179949;
                    defunc_0_reduce_res_178586 = x_181445;
                    defunc_0_reduce_res_178587 = x_181446;
                    defunc_0_reduce_res_178588 = x_181447;
                } else {
                    defunc_0_reduce_res_178586 = (int8_t) 0;
                    defunc_0_reduce_res_178587 = (int64_t) 0;
                    defunc_0_reduce_res_178588 = 0;
                }
                
                int64_t distance_178622 = add64((int64_t) 1, tmp_178620);
                int64_t binop_x_180702 = (int64_t) 8 * smallest_pow_2_geq_than_res_178556;
                int64_t bytes_180703 = block_sizze_178566 * binop_x_180702;
                int64_t binop_x_180705 = (int64_t) 4 * smallest_pow_2_geq_than_res_178556;
                int64_t bytes_180706 = block_sizze_178566 * binop_x_180705;
                int64_t bytes_180721 = (int64_t) 8 * block_sizze_178566;
                int64_t bytes_180723 = (int64_t) 4 * block_sizze_178566;
                bool loop_cond_178748 = slt64(block_sizze_178566, flat_dim_178567);
                bool zzero_178749 = merge_block_sizze_178572 == (int64_t) 0;
                bool nonzzero_178750 = !zzero_178749;
                
                if (cond_178550) {
                    if (memblock_set(ctx, &ext_mem_180994, &mem_180695, "mem_180695") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &mem_180697, "mem_180697") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &mem_180699, "mem_180699") != 0)
                        return 1;
                } else {
                    if (mem_180701_cached_sizze_182157 < flat_dim_178567) {
                        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182157, flat_dim_178567);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180704_cached_sizze_182158 < bytes_180703) {
                        err = lexical_realloc(ctx, &mem_180704, &mem_180704_cached_sizze_182158, bytes_180703);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180707_cached_sizze_182159 < bytes_180706) {
                        err = lexical_realloc(ctx, &mem_180707, &mem_180707_cached_sizze_182159, bytes_180706);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180720_cached_sizze_182160 < block_sizze_178566) {
                        err = lexical_realloc(ctx, &mem_180720, &mem_180720_cached_sizze_182160, block_sizze_178566);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180722_cached_sizze_182161 < bytes_180721) {
                        err = lexical_realloc(ctx, &mem_180722, &mem_180722_cached_sizze_182161, bytes_180721);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180724_cached_sizze_182162 < bytes_180723) {
                        err = lexical_realloc(ctx, &mem_180724, &mem_180724_cached_sizze_182162, bytes_180723);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179967 = 0; i_179967 < smallest_pow_2_geq_than_res_178556; i_179967++) {
                        int64_t zp_lhs_178630 = mul64(block_sizze_178566, i_179967);
                        
                        for (int64_t i_179957 = 0; i_179957 < block_sizze_178566; i_179957++) {
                            int64_t k_178635 = add64(zp_lhs_178630, i_179957);
                            bool cond_178636 = slt64(k_178635, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                            int8_t lifted_lambda_res_178637;
                            int64_t lifted_lambda_res_178638;
                            int32_t lifted_lambda_res_178639;
                            
                            if (cond_178636) {
                                bool x_178640 = sle64((int64_t) 0, k_178635);
                                bool bounds_check_178641 = cond_178636 && x_178640;
                                bool index_certs_178642;
                                
                                if (!bounds_check_178641) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178635, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178643 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, k_178635);
                                int8_t index_concat_branch_178644 = btoi_bool_i8(index_concat_cmp_178643);
                                int64_t index_concat_branch_178645;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178646 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t index_primexp_178647 = add64(index_concat_branch_178490, index_concat_i_178646);
                                    
                                    index_concat_branch_178645 = index_primexp_178647;
                                } else {
                                    int64_t index_primexp_178648 = add64(index_concat_branch_178487, k_178635);
                                    
                                    index_concat_branch_178645 = index_primexp_178648;
                                }
                                
                                int32_t index_concat_branch_178649;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178650 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t slice_178651 = index_concat_branch_178490 + index_concat_i_178650;
                                    int64_t slice_178652 = p_174791 + slice_178651;
                                    int32_t index_concat_178653 = ((int32_t *) b_list_mem_180281.mem)[slice_178652];
                                    
                                    index_concat_branch_178649 = index_concat_178653;
                                } else {
                                    int64_t slice_178654 = index_concat_branch_178487 + k_178635;
                                    int64_t slice_178655 = p_174790 + slice_178654;
                                    int32_t index_concat_178656 = ((int32_t *) a_list_mem_180280.mem)[slice_178655];
                                    
                                    index_concat_branch_178649 = index_concat_178656;
                                }
                                lifted_lambda_res_178637 = index_concat_branch_178644;
                                lifted_lambda_res_178638 = index_concat_branch_178645;
                                lifted_lambda_res_178639 = index_concat_branch_178649;
                            } else {
                                lifted_lambda_res_178637 = defunc_0_reduce_res_178586;
                                lifted_lambda_res_178638 = defunc_0_reduce_res_178587;
                                lifted_lambda_res_178639 = defunc_0_reduce_res_178588;
                            }
                            ((int8_t *) mem_180720)[i_179957] = lifted_lambda_res_178637;
                            ((int64_t *) mem_180722)[i_179957] = lifted_lambda_res_178638;
                            ((int32_t *) mem_180724)[i_179957] = lifted_lambda_res_178639;
                        }
                        if (!cond_178619) {
                            for (int64_t i_178666 = 0; i_178666 < distance_178622; i_178666++) {
                                int64_t gt_arg1_178670 = add64((int64_t) 1, i_178666);
                                bool x_178671 = sle64((int64_t) 0, gt_arg1_178670);
                                bool y_178672 = slt64(gt_arg1_178670, block_sizze_178566);
                                bool bounds_check_178673 = x_178671 && y_178672;
                                bool index_certs_178674;
                                
                                if (!bounds_check_178673) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178670, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178678 = slt64(i_178666, block_sizze_178566);
                                bool index_certs_178679;
                                
                                if (!y_178678) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178666, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178675 = ((int8_t *) mem_180720)[gt_arg1_178670];
                                int64_t gt_arg1_178676 = ((int64_t *) mem_180722)[gt_arg1_178670];
                                int32_t gt_arg1_178677 = ((int32_t *) mem_180724)[gt_arg1_178670];
                                int8_t gt_arg0_178680 = ((int8_t *) mem_180720)[i_178666];
                                int64_t gt_arg0_178681 = ((int64_t *) mem_180722)[i_178666];
                                int32_t gt_arg0_178682 = ((int32_t *) mem_180724)[i_178666];
                                bool cond_178683 = gt_arg0_178680 == gt_arg1_178675;
                                bool defunc_0_leq_res_t_res_178684 = sle64(gt_arg0_178681, gt_arg1_178676);
                                bool defunc_0_leq_res_178685 = sle32(gt_arg0_178682, gt_arg1_178677);
                                bool x_178686 = cond_178683 && defunc_0_leq_res_t_res_178684;
                                bool x_178687 = !cond_178683;
                                bool y_178688 = defunc_0_leq_res_178685 && x_178687;
                                bool defunc_0_leq_res_178689 = x_178686 || y_178688;
                                bool defunc_0_lifted_gt_res_178690 = !defunc_0_leq_res_178689;
                                bool s_178691;
                                int64_t s_178695;
                                bool loop_while_178696;
                                int64_t j_178700;
                                
                                loop_while_178696 = defunc_0_lifted_gt_res_178690;
                                j_178700 = i_178666;
                                while (loop_while_178696) {
                                    bool x_178701 = sle64((int64_t) 0, j_178700);
                                    bool y_178702 = slt64(j_178700, block_sizze_178566);
                                    bool bounds_check_178703 = x_178701 && y_178702;
                                    bool index_certs_178704;
                                    
                                    if (!bounds_check_178703) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178700, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178708 = add64((int64_t) 1, j_178700);
                                    bool x_178709 = sle64((int64_t) 0, copy_arg0_178708);
                                    bool y_178710 = slt64(copy_arg0_178708, block_sizze_178566);
                                    bool bounds_check_178711 = x_178709 && y_178710;
                                    bool index_certs_178712;
                                    
                                    if (!bounds_check_178711) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178708, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178705 = ((int8_t *) mem_180720)[j_178700];
                                    int64_t copy_arg0_178706 = ((int64_t *) mem_180722)[j_178700];
                                    int32_t copy_arg0_178707 = ((int32_t *) mem_180724)[j_178700];
                                    int8_t copy_arg0_178713 = ((int8_t *) mem_180720)[copy_arg0_178708];
                                    int64_t copy_arg0_178714 = ((int64_t *) mem_180722)[copy_arg0_178708];
                                    int32_t copy_arg0_178715 = ((int32_t *) mem_180724)[copy_arg0_178708];
                                    
                                    ((int8_t *) mem_180720)[j_178700] = copy_arg0_178713;
                                    ((int64_t *) mem_180722)[j_178700] = copy_arg0_178714;
                                    ((int32_t *) mem_180724)[j_178700] = copy_arg0_178715;
                                    ((int8_t *) mem_180720)[copy_arg0_178708] = copy_arg0_178705;
                                    ((int64_t *) mem_180722)[copy_arg0_178708] = copy_arg0_178706;
                                    ((int32_t *) mem_180724)[copy_arg0_178708] = copy_arg0_178707;
                                    
                                    int64_t tmp_178722 = sub64(j_178700, (int64_t) 1);
                                    bool cond_178723 = sle64((int64_t) 0, tmp_178722);
                                    bool loop_cond_178724;
                                    
                                    if (cond_178723) {
                                        bool y_178728 = slt64(tmp_178722, block_sizze_178566);
                                        bool bounds_check_178729 = cond_178723 && y_178728;
                                        bool index_certs_178730;
                                        
                                        if (!bounds_check_178729) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178722, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178725 = ((int8_t *) mem_180720)[j_178700];
                                        int64_t gt_arg1_178726 = ((int64_t *) mem_180722)[j_178700];
                                        int32_t gt_arg1_178727 = ((int32_t *) mem_180724)[j_178700];
                                        int8_t gt_arg0_178731 = ((int8_t *) mem_180720)[tmp_178722];
                                        int64_t gt_arg0_178732 = ((int64_t *) mem_180722)[tmp_178722];
                                        int32_t gt_arg0_178733 = ((int32_t *) mem_180724)[tmp_178722];
                                        bool cond_178734 = gt_arg0_178731 == gt_arg1_178725;
                                        bool defunc_0_leq_res_t_res_178735 = sle64(gt_arg0_178732, gt_arg1_178726);
                                        bool defunc_0_leq_res_178736 = sle32(gt_arg0_178733, gt_arg1_178727);
                                        bool x_178737 = cond_178734 && defunc_0_leq_res_t_res_178735;
                                        bool x_178738 = !cond_178734;
                                        bool y_178739 = defunc_0_leq_res_178736 && x_178738;
                                        bool defunc_0_leq_res_178740 = x_178737 || y_178739;
                                        bool defunc_0_lifted_gt_res_178741 = !defunc_0_leq_res_178740;
                                        
                                        loop_cond_178724 = defunc_0_lifted_gt_res_178741;
                                    } else {
                                        loop_cond_178724 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181756 = loop_cond_178724;
                                    int64_t j_tmp_181760 = tmp_178722;
                                    
                                    loop_while_178696 = loop_while_tmp_181756;
                                    j_178700 = j_tmp_181760;
                                }
                                s_178691 = loop_while_178696;
                                s_178695 = j_178700;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180701, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180720, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180704, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180722, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180707, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180724, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                    }
                    if (memblock_alloc(ctx, &mem_180801, flat_dim_178567, "mem_180801")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180801.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint8_t *) mem_180701, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180805, bytes_180703, "mem_180805")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180805.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint64_t *) mem_180704, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180809, bytes_180706, "mem_180809")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180809.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint32_t *) mem_180707, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    
                    int64_t data_178751;
                    bool data_178752;
                    int64_t data_178756;
                    int64_t loop_dz2084Uz2082U_178757;
                    bool loop_while_178758;
                    int64_t stride_178762;
                    
                    if (memblock_set(ctx, &mem_param_180813, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180816, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180819, &mem_180809, "mem_180809") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178757 = flat_dim_178567;
                    loop_while_178758 = loop_cond_178748;
                    stride_178762 = block_sizze_178566;
                    while (loop_while_178758) {
                        int64_t next_stride_178763 = mul64((int64_t) 2, stride_178762);
                        bool zzero_178764 = next_stride_178763 == (int64_t) 0;
                        bool nonzzero_178765 = !zzero_178764;
                        bool nonzzero_cert_178766;
                        
                        if (!nonzzero_178765) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178767 = sdiv64(flat_dim_178567, next_stride_178763);
                        bool bounds_invalid_upwards_178768 = slt64(num_merges_178767, (int64_t) 0);
                        bool valid_178769 = !bounds_invalid_upwards_178768;
                        bool range_valid_c_178770;
                        
                        if (!valid_178769) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178767, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178772 = sub64(next_stride_178763, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178773 = sle64((int64_t) 0, m_178772);
                        bool cond_178775 = slt64(next_stride_178763, (int64_t) 10);
                        bool protect_assert_disj_178776 = nonzzero_178750 || cond_178775;
                        bool nonzzero_cert_178777;
                        
                        if (!protect_assert_disj_178776) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178778 = smod_safe64(next_stride_178763, merge_block_sizze_178572);
                        bool num_blocks_178779 = zeze_lhs_178778 == (int64_t) 0;
                        bool protect_assert_disj_178780 = cond_178775 || num_blocks_178779;
                        bool assert_c_178781;
                        
                        if (!protect_assert_disj_178780) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178782 = sdiv_safe64(next_stride_178763, merge_block_sizze_178572);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783 = add64((int64_t) 1, num_blocks_178782);
                        int64_t j_m_i_178784 = sub64(next_stride_178763, stride_178762);
                        int64_t flat_dim_178785 = merge_block_sizze_178572 * num_blocks_178782;
                        bool bounds_invalid_upwards_178786 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, (int64_t) 0);
                        bool empty_slice_178787 = j_m_i_178784 == (int64_t) 0;
                        int64_t m_178788 = sub64(j_m_i_178784, (int64_t) 1);
                        bool zzero_lte_i_178789 = sle64((int64_t) 0, stride_178762);
                        bool i_lte_j_178790 = sle64(stride_178762, next_stride_178763);
                        bool empty_slice_178791 = stride_178762 == (int64_t) 0;
                        int64_t m_178792 = sub64(stride_178762, (int64_t) 1);
                        bool bounds_invalid_upwards_178793 = slt64(num_blocks_178782, (int64_t) 0);
                        bool cond_178794 = slt64((int64_t) 0, stride_178762);
                        bool valid_178795 = !bounds_invalid_upwards_178786;
                        int64_t i_p_m_t_s_178796 = add64(stride_178762, m_178788);
                        bool zzero_leq_i_p_m_t_s_178797 = sle64((int64_t) 0, m_178792);
                        bool i_p_m_t_s_leq_w_178798 = slt64(m_178792, next_stride_178763);
                        bool valid_178799 = !bounds_invalid_upwards_178793;
                        bool i_p_m_t_s_leq_w_178800 = slt64(m_178772, flat_dim_178785);
                        bool y_178801 = slt64((int64_t) 0, j_m_i_178784);
                        bool protect_assert_disj_178802 = cond_178775 || valid_178795;
                        bool range_valid_c_178803;
                        
                        if (!protect_assert_disj_178802) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178804 = sle64((int64_t) 0, i_p_m_t_s_178796);
                        bool i_p_m_t_s_leq_w_178805 = slt64(i_p_m_t_s_178796, next_stride_178763);
                        bool y_178806 = zzero_leq_i_p_m_t_s_178797 && i_p_m_t_s_leq_w_178798;
                        bool protect_assert_disj_178807 = cond_178775 || valid_178799;
                        bool range_valid_c_178808;
                        
                        if (!protect_assert_disj_178807) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178809 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178800;
                        bool y_178810 = zzero_lte_i_178789 && i_p_m_t_s_leq_w_178805;
                        bool forwards_ok_178811 = zzero_lte_i_178789 && y_178806;
                        bool ok_or_empty_178812 = zzero_178764 || y_178809;
                        bool protect_assert_disj_178813 = cond_178794 || y_178801;
                        bool y_178814 = zzero_leq_i_p_m_t_s_178804 && y_178810;
                        bool ok_or_empty_178815 = empty_slice_178791 || forwards_ok_178811;
                        bool protect_assert_disj_178816 = cond_178775 || ok_or_empty_178812;
                        bool index_certs_178817;
                        
                        if (!protect_assert_disj_178816) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) flat_dim_178785, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178818 = !cond_178775;
                        bool protect_assert_disj_178819 = protect_assert_disj_178813 || loop_not_taken_178818;
                        bool index_certs_178820;
                        
                        if (!protect_assert_disj_178819) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178821 = i_lte_j_178790 && y_178814;
                        bool protect_assert_disj_178822 = cond_178775 || ok_or_empty_178815;
                        bool index_certs_178823;
                        
                        if (!protect_assert_disj_178822) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178824 = ok_or_empty_178815 || loop_not_taken_178818;
                        bool index_certs_178825;
                        
                        if (!protect_assert_disj_178824) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178826 = empty_slice_178787 || forwards_ok_178821;
                        bool protect_assert_disj_178827 = cond_178775 || ok_or_empty_178826;
                        bool index_certs_178828;
                        
                        if (!protect_assert_disj_178827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178829 = loop_not_taken_178818 || ok_or_empty_178826;
                        bool index_certs_178830;
                        
                        if (!protect_assert_disj_178829) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180820 = next_stride_178763 * num_merges_178767;
                        int64_t binop_x_180822 = (int64_t) 8 * num_merges_178767;
                        int64_t bytes_180823 = next_stride_178763 * binop_x_180822;
                        int64_t binop_x_180825 = (int64_t) 4 * num_merges_178767;
                        int64_t bytes_180826 = next_stride_178763 * binop_x_180825;
                        bool i_lte_j_178774 = sle64((int64_t) 0, next_stride_178763);
                        
                        if (mem_180821_cached_sizze_182163 < bytes_180820) {
                            err = lexical_realloc(ctx, &mem_180821, &mem_180821_cached_sizze_182163, bytes_180820);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180824_cached_sizze_182164 < bytes_180823) {
                            err = lexical_realloc(ctx, &mem_180824, &mem_180824_cached_sizze_182164, bytes_180823);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180827_cached_sizze_182165 < bytes_180826) {
                            err = lexical_realloc(ctx, &mem_180827, &mem_180827_cached_sizze_182165, bytes_180826);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180840 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783;
                        int64_t binop_x_180858 = (int64_t) 8 * num_blocks_178782;
                        int64_t bytes_180859 = merge_block_sizze_178572 * binop_x_180858;
                        int64_t binop_x_180861 = (int64_t) 4 * num_blocks_178782;
                        int64_t bytes_180862 = merge_block_sizze_178572 * binop_x_180861;
                        int64_t bytes_180923 = (int64_t) 16 * stride_178762;
                        int64_t bytes_180925 = (int64_t) 8 * stride_178762;
                        
                        for (int64_t i_179994 = 0; i_179994 < num_merges_178767; i_179994++) {
                            int64_t start_178835 = mul64(next_stride_178763, i_179994);
                            int64_t j_m_i_178836 = sub64(loop_dz2084Uz2082U_178757, start_178835);
                            bool empty_slice_178837 = j_m_i_178836 == (int64_t) 0;
                            int64_t m_178838 = sub64(j_m_i_178836, (int64_t) 1);
                            int64_t i_p_m_t_s_178839 = add64(start_178835, m_178838);
                            bool zzero_leq_i_p_m_t_s_178840 = sle64((int64_t) 0, i_p_m_t_s_178839);
                            bool i_p_m_t_s_leq_w_178841 = slt64(i_p_m_t_s_178839, loop_dz2084Uz2082U_178757);
                            bool zzero_lte_i_178842 = sle64((int64_t) 0, start_178835);
                            bool i_lte_j_178843 = sle64(start_178835, loop_dz2084Uz2082U_178757);
                            bool y_178844 = i_p_m_t_s_leq_w_178841 && zzero_lte_i_178842;
                            bool y_178845 = zzero_leq_i_p_m_t_s_178840 && y_178844;
                            bool forwards_ok_178846 = i_lte_j_178843 && y_178845;
                            bool ok_or_empty_178847 = empty_slice_178837 || forwards_ok_178846;
                            bool index_certs_178848;
                            
                            if (!ok_or_empty_178847) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178835, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178757, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178849 = slt64(m_178772, j_m_i_178836);
                            bool y_178850 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178849;
                            bool forwards_ok_178851 = i_lte_j_178774 && y_178850;
                            bool ok_or_empty_178852 = zzero_178764 || forwards_ok_178851;
                            bool index_certs_178853;
                            
                            if (!ok_or_empty_178852) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) j_m_i_178836, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178775) {
                                int8_t dummy_178857;
                                int64_t dummy_178858;
                                int32_t dummy_178859;
                                
                                if (cond_178794) {
                                    int8_t head_res_178860 = ((int8_t *) mem_param_180813.mem)[start_178835];
                                    int64_t head_res_178861 = ((int64_t *) mem_param_180816.mem)[start_178835];
                                    int32_t head_res_178862 = ((int32_t *) mem_param_180819.mem)[start_178835];
                                    
                                    dummy_178857 = head_res_178860;
                                    dummy_178858 = head_res_178861;
                                    dummy_178859 = head_res_178862;
                                } else {
                                    int64_t slice_178863 = stride_178762 + start_178835;
                                    int8_t head_res_178864 = ((int8_t *) mem_param_180813.mem)[slice_178863];
                                    int64_t head_res_178865 = ((int64_t *) mem_param_180816.mem)[slice_178863];
                                    int32_t head_res_178866 = ((int32_t *) mem_param_180819.mem)[slice_178863];
                                    
                                    dummy_178857 = head_res_178864;
                                    dummy_178858 = head_res_178865;
                                    dummy_178859 = head_res_178866;
                                }
                                if (memblock_alloc(ctx, &mem_180922, next_stride_178763, "mem_180922")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181773 = 0; nest_i_181773 < next_stride_178763; nest_i_181773++) {
                                    ((int8_t *) mem_180922.mem)[nest_i_181773] = dummy_178857;
                                }
                                if (memblock_alloc(ctx, &mem_180924, bytes_180923, "mem_180924")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181774 = 0; nest_i_181774 < next_stride_178763; nest_i_181774++) {
                                    ((int64_t *) mem_180924.mem)[nest_i_181774] = dummy_178858;
                                }
                                if (memblock_alloc(ctx, &mem_180926, bytes_180925, "mem_180926")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181775 = 0; nest_i_181775 < next_stride_178763; nest_i_181775++) {
                                    ((int32_t *) mem_180926.mem)[nest_i_181775] = dummy_178859;
                                }
                                
                                int64_t data_178870;
                                int64_t i_178875 = (int64_t) 0;
                                
                                for (int64_t k_178874 = 0; k_178874 < next_stride_178763; k_178874++) {
                                    int64_t j_178879 = sub64(k_178874, i_178875);
                                    bool cond_178880 = j_178879 == j_m_i_178784;
                                    bool cond_178881;
                                    
                                    if (cond_178880) {
                                        cond_178881 = 1;
                                    } else {
                                        bool cond_178882 = slt64(i_178875, stride_178762);
                                        bool cond_f_res_178883;
                                        
                                        if (cond_178882) {
                                            bool x_178884 = sle64((int64_t) 0, j_178879);
                                            bool y_178885 = slt64(j_178879, j_m_i_178784);
                                            bool bounds_check_178886 = x_178884 && y_178885;
                                            bool index_certs_178887;
                                            
                                            if (!bounds_check_178886) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178893 = sle64((int64_t) 0, i_178875);
                                            bool bounds_check_178894 = cond_178882 && x_178893;
                                            bool index_certs_178895;
                                            
                                            if (!bounds_check_178894) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178888 = stride_178762 + j_178879;
                                            int64_t slice_178889 = start_178835 + slice_178888;
                                            int8_t leq_arg1_178890 = ((int8_t *) mem_param_180813.mem)[slice_178889];
                                            int64_t leq_arg1_178891 = ((int64_t *) mem_param_180816.mem)[slice_178889];
                                            int32_t leq_arg1_178892 = ((int32_t *) mem_param_180819.mem)[slice_178889];
                                            int64_t slice_178896 = start_178835 + i_178875;
                                            int8_t leq_arg0_178897 = ((int8_t *) mem_param_180813.mem)[slice_178896];
                                            int64_t leq_arg0_178898 = ((int64_t *) mem_param_180816.mem)[slice_178896];
                                            int32_t leq_arg0_178899 = ((int32_t *) mem_param_180819.mem)[slice_178896];
                                            bool cond_178900 = leq_arg0_178897 == leq_arg1_178890;
                                            bool defunc_0_leq_res_t_res_178901 = sle64(leq_arg0_178898, leq_arg1_178891);
                                            bool defunc_0_leq_res_178902 = sle32(leq_arg0_178899, leq_arg1_178892);
                                            bool x_178903 = cond_178900 && defunc_0_leq_res_t_res_178901;
                                            bool x_178904 = !cond_178900;
                                            bool y_178905 = defunc_0_leq_res_178902 && x_178904;
                                            bool defunc_0_leq_res_178906 = x_178903 || y_178905;
                                            
                                            cond_f_res_178883 = defunc_0_leq_res_178906;
                                        } else {
                                            cond_f_res_178883 = 0;
                                        }
                                        cond_178881 = cond_f_res_178883;
                                    }
                                    
                                    int64_t loopres_178907;
                                    int8_t loopres_178908;
                                    int64_t loopres_178909;
                                    int32_t loopres_178910;
                                    
                                    if (cond_178881) {
                                        bool x_178912 = sle64((int64_t) 0, i_178875);
                                        bool y_178913 = slt64(i_178875, stride_178762);
                                        bool bounds_check_178914 = x_178912 && y_178913;
                                        bool index_certs_178915;
                                        
                                        if (!bounds_check_178914) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178911 = add64((int64_t) 1, i_178875);
                                        int64_t slice_178916 = start_178835 + i_178875;
                                        int8_t tmp_178917 = ((int8_t *) mem_param_180813.mem)[slice_178916];
                                        int64_t tmp_178918 = ((int64_t *) mem_param_180816.mem)[slice_178916];
                                        int32_t tmp_178919 = ((int32_t *) mem_param_180819.mem)[slice_178916];
                                        
                                        loopres_178907 = tmp_178911;
                                        loopres_178908 = tmp_178917;
                                        loopres_178909 = tmp_178918;
                                        loopres_178910 = tmp_178919;
                                    } else {
                                        bool x_178920 = sle64((int64_t) 0, j_178879);
                                        bool y_178921 = slt64(j_178879, j_m_i_178784);
                                        bool bounds_check_178922 = x_178920 && y_178921;
                                        bool index_certs_178923;
                                        
                                        if (!bounds_check_178922) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178924 = stride_178762 + j_178879;
                                        int64_t slice_178925 = start_178835 + slice_178924;
                                        int8_t tmp_178926 = ((int8_t *) mem_param_180813.mem)[slice_178925];
                                        int64_t tmp_178927 = ((int64_t *) mem_param_180816.mem)[slice_178925];
                                        int32_t tmp_178928 = ((int32_t *) mem_param_180819.mem)[slice_178925];
                                        
                                        loopres_178907 = i_178875;
                                        loopres_178908 = tmp_178926;
                                        loopres_178909 = tmp_178927;
                                        loopres_178910 = tmp_178928;
                                    }
                                    ((int8_t *) mem_180922.mem)[k_178874] = loopres_178908;
                                    ((int64_t *) mem_180924.mem)[k_178874] = loopres_178909;
                                    ((int32_t *) mem_180926.mem)[k_178874] = loopres_178910;
                                    
                                    int64_t i_tmp_181776 = loopres_178907;
                                    
                                    i_178875 = i_tmp_181776;
                                }
                                data_178870 = i_178875;
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180922, "mem_180922") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180924, "mem_180924") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180926, "mem_180926") != 0)
                                    return 1;
                            } else {
                                if (mem_180841_cached_sizze_182166 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180841, &mem_180841_cached_sizze_182166, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180843_cached_sizze_182167 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180843, &mem_180843_cached_sizze_182167, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179975 = 0; i_179975 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783; i_179975++) {
                                    int64_t split_count_arg3_178936 = mul64(merge_block_sizze_178572, i_179975);
                                    int64_t defunc_0_split_count_res_178937;
                                    int64_t defunc_0_split_count_res_178938;
                                    int64_t defunc_0_split_count_res_178939;
                                    int64_t defunc_0_split_count_res_178940;
                                    int64_t defunc_0_split_count_res_178941;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_178937, &defunc_0_split_count_res_178938, &defunc_0_split_count_res_178939, &defunc_0_split_count_res_178940, &defunc_0_split_count_res_178941, (int64_t) 0, stride_178762, (int64_t) 0, j_m_i_178784, split_count_arg3_178936) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178942 = slt64((int64_t) 0, defunc_0_split_count_res_178941);
                                    bool defunc_0_split_count_res_178943;
                                    int64_t defunc_0_split_count_res_178944;
                                    int64_t defunc_0_split_count_res_178945;
                                    int64_t defunc_0_split_count_res_178946;
                                    int64_t defunc_0_split_count_res_178947;
                                    int64_t defunc_0_split_count_res_178948;
                                    bool loop_while_178949;
                                    int64_t ss_178950;
                                    int64_t ss_178951;
                                    int64_t tt_178952;
                                    int64_t tt_178953;
                                    int64_t count_178954;
                                    
                                    loop_while_178949 = loop_cond_178942;
                                    ss_178950 = defunc_0_split_count_res_178937;
                                    ss_178951 = defunc_0_split_count_res_178938;
                                    tt_178952 = defunc_0_split_count_res_178939;
                                    tt_178953 = defunc_0_split_count_res_178940;
                                    count_178954 = defunc_0_split_count_res_178941;
                                    while (loop_while_178949) {
                                        int64_t zlze_lhs_178955 = sub64(ss_178951, ss_178950);
                                        bool cond_178956 = sle64(zlze_lhs_178955, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178957;
                                        int64_t defunc_0_lifted_step_res_178958;
                                        int64_t defunc_0_lifted_step_res_178959;
                                        int64_t defunc_0_lifted_step_res_178960;
                                        
                                        if (cond_178956) {
                                            int64_t tmp_178961 = add64(tt_178952, count_178954);
                                            
                                            defunc_0_lifted_step_res_178957 = ss_178950;
                                            defunc_0_lifted_step_res_178958 = tmp_178961;
                                            defunc_0_lifted_step_res_178959 = tt_178953;
                                            defunc_0_lifted_step_res_178960 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178962 = sub64(tt_178953, tt_178952);
                                            bool cond_178963 = sle64(zlze_lhs_178962, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178964;
                                            int64_t defunc_0_lifted_step_res_f_res_178965;
                                            int64_t defunc_0_lifted_step_res_f_res_178966;
                                            int64_t defunc_0_lifted_step_res_f_res_178967;
                                            
                                            if (cond_178963) {
                                                int64_t tmp_178968 = add64(ss_178950, count_178954);
                                                
                                                defunc_0_lifted_step_res_f_res_178964 = tmp_178968;
                                                defunc_0_lifted_step_res_f_res_178965 = tt_178952;
                                                defunc_0_lifted_step_res_f_res_178966 = tt_178953;
                                                defunc_0_lifted_step_res_f_res_178967 = (int64_t) 0;
                                            } else {
                                                bool cond_178969 = count_178954 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178970;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178971;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178972;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178973;
                                                
                                                if (cond_178969) {
                                                    bool x_178974 = sle64((int64_t) 0, ss_178950);
                                                    bool y_178975 = slt64(ss_178950, stride_178762);
                                                    bool bounds_check_178976 = x_178974 && y_178975;
                                                    bool index_certs_178977;
                                                    
                                                    if (!bounds_check_178976) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178950, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178982 = sle64((int64_t) 0, tt_178952);
                                                    bool y_178983 = slt64(tt_178952, j_m_i_178784);
                                                    bool bounds_check_178984 = x_178982 && y_178983;
                                                    bool index_certs_178985;
                                                    
                                                    if (!bounds_check_178984) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178952, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178978 = start_178835 + ss_178950;
                                                    int8_t leq_arg1_178979 = ((int8_t *) mem_param_180813.mem)[slice_178978];
                                                    int64_t leq_arg1_178980 = ((int64_t *) mem_param_180816.mem)[slice_178978];
                                                    int32_t leq_arg1_178981 = ((int32_t *) mem_param_180819.mem)[slice_178978];
                                                    int64_t slice_178986 = stride_178762 + tt_178952;
                                                    int64_t slice_178987 = start_178835 + slice_178986;
                                                    int8_t leq_arg0_178988 = ((int8_t *) mem_param_180813.mem)[slice_178987];
                                                    int64_t leq_arg0_178989 = ((int64_t *) mem_param_180816.mem)[slice_178987];
                                                    int32_t leq_arg0_178990 = ((int32_t *) mem_param_180819.mem)[slice_178987];
                                                    bool cond_178991 = leq_arg0_178988 == leq_arg1_178979;
                                                    bool defunc_0_leq_res_t_res_178992 = sle64(leq_arg0_178989, leq_arg1_178980);
                                                    bool defunc_0_leq_res_178993 = sle32(leq_arg0_178990, leq_arg1_178981);
                                                    bool x_178994 = cond_178991 && defunc_0_leq_res_t_res_178992;
                                                    bool x_178995 = !cond_178991;
                                                    bool y_178996 = defunc_0_leq_res_178993 && x_178995;
                                                    bool defunc_0_leq_res_178997 = x_178994 || y_178996;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    
                                                    if (defunc_0_leq_res_178997) {
                                                        int64_t tmp_179000 = add64((int64_t) 1, tt_178952);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = ss_178950;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tmp_179000;
                                                    } else {
                                                        int64_t tmp_179001 = add64((int64_t) 1, ss_178950);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = tmp_179001;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tt_178952;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = tt_178953;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179002 = sdiv64(count_178954, (int64_t) 2);
                                                    int64_t n_179003 = sub64(count_178954, m_179002);
                                                    bool cond_179004 = n_179003 == (int64_t) 0;
                                                    int64_t zgze_lhs_179005 = add64(ss_178950, m_179002);
                                                    bool cond_f_res_179006 = sle64(ss_178951, zgze_lhs_179005);
                                                    bool x_179007 = !cond_179004;
                                                    bool y_179008 = cond_f_res_179006 && x_179007;
                                                    bool cond_179009 = cond_179004 || y_179008;
                                                    bool leq_y_x_179010;
                                                    
                                                    if (cond_179009) {
                                                        leq_y_x_179010 = 1;
                                                    } else {
                                                        bool x_179011 = sle64((int64_t) 0, zgze_lhs_179005);
                                                        bool y_179012 = slt64(zgze_lhs_179005, stride_178762);
                                                        bool bounds_check_179013 = x_179011 && y_179012;
                                                        bool index_certs_179014;
                                                        
                                                        if (!bounds_check_179013) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179005, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179019 = add64(tt_178952, n_179003);
                                                        int64_t leq_arg0_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                                                        bool x_179021 = sle64((int64_t) 0, leq_arg0_179020);
                                                        bool y_179022 = slt64(leq_arg0_179020, j_m_i_178784);
                                                        bool bounds_check_179023 = x_179021 && y_179022;
                                                        bool index_certs_179024;
                                                        
                                                        if (!bounds_check_179023) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179020, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179015 = start_178835 + zgze_lhs_179005;
                                                        int8_t leq_arg1_179016 = ((int8_t *) mem_param_180813.mem)[slice_179015];
                                                        int64_t leq_arg1_179017 = ((int64_t *) mem_param_180816.mem)[slice_179015];
                                                        int32_t leq_arg1_179018 = ((int32_t *) mem_param_180819.mem)[slice_179015];
                                                        int64_t slice_179025 = stride_178762 + leq_arg0_179020;
                                                        int64_t slice_179026 = start_178835 + slice_179025;
                                                        int8_t leq_arg0_179027 = ((int8_t *) mem_param_180813.mem)[slice_179026];
                                                        int64_t leq_arg0_179028 = ((int64_t *) mem_param_180816.mem)[slice_179026];
                                                        int32_t leq_arg0_179029 = ((int32_t *) mem_param_180819.mem)[slice_179026];
                                                        bool cond_179030 = leq_arg0_179027 == leq_arg1_179016;
                                                        bool defunc_0_leq_res_t_res_179031 = sle64(leq_arg0_179028, leq_arg1_179017);
                                                        bool defunc_0_leq_res_179032 = sle32(leq_arg0_179029, leq_arg1_179018);
                                                        bool x_179033 = cond_179030 && defunc_0_leq_res_t_res_179031;
                                                        bool x_179034 = !cond_179030;
                                                        bool y_179035 = defunc_0_leq_res_179032 && x_179034;
                                                        bool defunc_0_leq_res_179036 = x_179033 || y_179035;
                                                        
                                                        leq_y_x_179010 = defunc_0_leq_res_179036;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                    
                                                    if (leq_y_x_179010) {
                                                        int64_t tmp_179040 = add64(tt_178952, n_179003);
                                                        int64_t tmp_179041 = sub64(count_178954, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tmp_179040;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tt_178953;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = tmp_179041;
                                                    } else {
                                                        int64_t tmp_179042 = add64(tt_178952, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tt_178952;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tmp_179042;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = count_178954;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = ss_178950;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                }
                                                defunc_0_lifted_step_res_f_res_178964 = defunc_0_lifted_step_res_f_res_f_res_178970;
                                                defunc_0_lifted_step_res_f_res_178965 = defunc_0_lifted_step_res_f_res_f_res_178971;
                                                defunc_0_lifted_step_res_f_res_178966 = defunc_0_lifted_step_res_f_res_f_res_178972;
                                                defunc_0_lifted_step_res_f_res_178967 = defunc_0_lifted_step_res_f_res_f_res_178973;
                                            }
                                            defunc_0_lifted_step_res_178957 = defunc_0_lifted_step_res_f_res_178964;
                                            defunc_0_lifted_step_res_178958 = defunc_0_lifted_step_res_f_res_178965;
                                            defunc_0_lifted_step_res_178959 = defunc_0_lifted_step_res_f_res_178966;
                                            defunc_0_lifted_step_res_178960 = defunc_0_lifted_step_res_f_res_178967;
                                        }
                                        
                                        int64_t loopres_179043;
                                        int64_t loopres_179044;
                                        int64_t loopres_179045;
                                        int64_t loopres_179046;
                                        int64_t loopres_179047;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_179043, &loopres_179044, &loopres_179045, &loopres_179046, &loopres_179047, defunc_0_lifted_step_res_178957, ss_178951, defunc_0_lifted_step_res_178958, defunc_0_lifted_step_res_178959, defunc_0_lifted_step_res_178960) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179048 = slt64((int64_t) 0, loopres_179047);
                                        bool loop_while_tmp_181782 = loop_cond_179048;
                                        int64_t ss_tmp_181783 = loopres_179043;
                                        int64_t ss_tmp_181784 = loopres_179044;
                                        int64_t tt_tmp_181785 = loopres_179045;
                                        int64_t tt_tmp_181786 = loopres_179046;
                                        int64_t count_tmp_181787 = loopres_179047;
                                        
                                        loop_while_178949 = loop_while_tmp_181782;
                                        ss_178950 = ss_tmp_181783;
                                        ss_178951 = ss_tmp_181784;
                                        tt_178952 = tt_tmp_181785;
                                        tt_178953 = tt_tmp_181786;
                                        count_178954 = count_tmp_181787;
                                    }
                                    defunc_0_split_count_res_178943 = loop_while_178949;
                                    defunc_0_split_count_res_178944 = ss_178950;
                                    defunc_0_split_count_res_178945 = ss_178951;
                                    defunc_0_split_count_res_178946 = tt_178952;
                                    defunc_0_split_count_res_178947 = tt_178953;
                                    defunc_0_split_count_res_178948 = count_178954;
                                    ((int64_t *) mem_180841)[i_179975] = defunc_0_split_count_res_178944;
                                    ((int64_t *) mem_180843)[i_179975] = defunc_0_split_count_res_178946;
                                }
                                if (mem_180857_cached_sizze_182168 < flat_dim_178785) {
                                    err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182168, flat_dim_178785);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180860_cached_sizze_182169 < bytes_180859) {
                                    err = lexical_realloc(ctx, &mem_180860, &mem_180860_cached_sizze_182169, bytes_180859);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180863_cached_sizze_182170 < bytes_180862) {
                                    err = lexical_realloc(ctx, &mem_180863, &mem_180863_cached_sizze_182170, bytes_180862);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179984 = 0; i_179984 < num_blocks_178782; i_179984++) {
                                    bool y_179057 = slt64(i_179984, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool index_certs_179059;
                                    
                                    if (!y_179057) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179984, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179060 = ((int64_t *) mem_180841)[i_179984];
                                    int64_t defunc_0_f_res_179061 = ((int64_t *) mem_180843)[i_179984];
                                    int64_t tmp_179062 = add64((int64_t) 1, i_179984);
                                    bool x_179063 = sle64((int64_t) 0, tmp_179062);
                                    bool y_179064 = slt64(tmp_179062, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool bounds_check_179065 = x_179063 && y_179064;
                                    bool index_certs_179066;
                                    
                                    if (!bounds_check_179065) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179062, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179067 = ((int64_t *) mem_180841)[tmp_179062];
                                    int64_t defunc_0_f_res_179068 = ((int64_t *) mem_180843)[tmp_179062];
                                    int64_t merge_sequential_arg2_179069 = add64(stride_178762, defunc_0_f_res_179061);
                                    int64_t merge_sequential_arg2_179070 = add64(stride_178762, defunc_0_f_res_179068);
                                    int64_t j_m_i_179071 = sub64(merge_sequential_arg2_179070, merge_sequential_arg2_179069);
                                    bool empty_slice_179072 = j_m_i_179071 == (int64_t) 0;
                                    int64_t m_179073 = sub64(j_m_i_179071, (int64_t) 1);
                                    int64_t i_p_m_t_s_179074 = add64(merge_sequential_arg2_179069, m_179073);
                                    bool zzero_leq_i_p_m_t_s_179075 = sle64((int64_t) 0, i_p_m_t_s_179074);
                                    bool i_p_m_t_s_leq_w_179076 = slt64(i_p_m_t_s_179074, next_stride_178763);
                                    bool zzero_lte_i_179077 = sle64((int64_t) 0, merge_sequential_arg2_179069);
                                    bool i_lte_j_179078 = sle64(merge_sequential_arg2_179069, merge_sequential_arg2_179070);
                                    bool y_179079 = i_p_m_t_s_leq_w_179076 && zzero_lte_i_179077;
                                    bool y_179080 = zzero_leq_i_p_m_t_s_179075 && y_179079;
                                    bool forwards_ok_179081 = i_lte_j_179078 && y_179080;
                                    bool ok_or_empty_179082 = empty_slice_179072 || forwards_ok_179081;
                                    bool index_certs_179083;
                                    
                                    if (!ok_or_empty_179082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179069, ":", (long long) merge_sequential_arg2_179070, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179084 = sub64(defunc_0_f_res_179067, defunc_0_f_res_179060);
                                    bool empty_slice_179085 = j_m_i_179084 == (int64_t) 0;
                                    int64_t m_179086 = sub64(j_m_i_179084, (int64_t) 1);
                                    int64_t i_p_m_t_s_179087 = add64(defunc_0_f_res_179060, m_179086);
                                    bool zzero_leq_i_p_m_t_s_179088 = sle64((int64_t) 0, i_p_m_t_s_179087);
                                    bool i_p_m_t_s_leq_w_179089 = slt64(i_p_m_t_s_179087, next_stride_178763);
                                    bool zzero_lte_i_179090 = sle64((int64_t) 0, defunc_0_f_res_179060);
                                    bool i_lte_j_179091 = sle64(defunc_0_f_res_179060, defunc_0_f_res_179067);
                                    bool y_179092 = i_p_m_t_s_leq_w_179089 && zzero_lte_i_179090;
                                    bool y_179093 = zzero_leq_i_p_m_t_s_179088 && y_179092;
                                    bool forwards_ok_179094 = i_lte_j_179091 && y_179093;
                                    bool ok_or_empty_179095 = empty_slice_179085 || forwards_ok_179094;
                                    bool index_certs_179096;
                                    
                                    if (!ok_or_empty_179095) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179060, ":", (long long) defunc_0_f_res_179067, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179097 = slt64((int64_t) 0, j_m_i_179084);
                                    int8_t dummy_179098;
                                    int64_t dummy_179099;
                                    int32_t dummy_179100;
                                    
                                    if (cond_179097) {
                                        bool index_certs_179101;
                                        
                                        if (!cond_179097) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179102 = start_178835 + defunc_0_f_res_179060;
                                        int8_t head_res_179103 = ((int8_t *) mem_param_180813.mem)[slice_179102];
                                        int64_t head_res_179104 = ((int64_t *) mem_param_180816.mem)[slice_179102];
                                        int32_t head_res_179105 = ((int32_t *) mem_param_180819.mem)[slice_179102];
                                        
                                        dummy_179098 = head_res_179103;
                                        dummy_179099 = head_res_179104;
                                        dummy_179100 = head_res_179105;
                                    } else {
                                        bool y_179106 = slt64((int64_t) 0, j_m_i_179071);
                                        bool index_certs_179107;
                                        
                                        if (!y_179106) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179108 = start_178835 + merge_sequential_arg2_179069;
                                        int8_t head_res_179109 = ((int8_t *) mem_param_180813.mem)[slice_179108];
                                        int64_t head_res_179110 = ((int64_t *) mem_param_180816.mem)[slice_179108];
                                        int32_t head_res_179111 = ((int32_t *) mem_param_180819.mem)[slice_179108];
                                        
                                        dummy_179098 = head_res_179109;
                                        dummy_179099 = head_res_179110;
                                        dummy_179100 = head_res_179111;
                                    }
                                    for (int64_t nest_i_181791 = 0; nest_i_181791 < merge_block_sizze_178572; nest_i_181791++) {
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + nest_i_181791] = dummy_179098;
                                    }
                                    for (int64_t nest_i_181792 = 0; nest_i_181792 < merge_block_sizze_178572; nest_i_181792++) {
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + nest_i_181792] = dummy_179099;
                                    }
                                    for (int64_t nest_i_181793 = 0; nest_i_181793 < merge_block_sizze_178572; nest_i_181793++) {
                                        ((int32_t *) mem_180863)[i_179984 * merge_block_sizze_178572 + nest_i_181793] = dummy_179100;
                                    }
                                    
                                    int64_t data_179115;
                                    int64_t i_179120 = (int64_t) 0;
                                    
                                    for (int64_t k_179119 = 0; k_179119 < merge_block_sizze_178572; k_179119++) {
                                        int64_t j_179124 = sub64(k_179119, i_179120);
                                        bool cond_179125 = j_179124 == j_m_i_179071;
                                        bool cond_179126;
                                        
                                        if (cond_179125) {
                                            cond_179126 = 1;
                                        } else {
                                            bool cond_179127 = slt64(i_179120, j_m_i_179084);
                                            bool cond_f_res_179128;
                                            
                                            if (cond_179127) {
                                                bool x_179129 = sle64((int64_t) 0, j_179124);
                                                bool y_179130 = slt64(j_179124, j_m_i_179071);
                                                bool bounds_check_179131 = x_179129 && y_179130;
                                                bool index_certs_179132;
                                                
                                                if (!bounds_check_179131) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179138 = sle64((int64_t) 0, i_179120);
                                                bool bounds_check_179139 = cond_179127 && x_179138;
                                                bool index_certs_179140;
                                                
                                                if (!bounds_check_179139) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179133 = merge_sequential_arg2_179069 + j_179124;
                                                int64_t slice_179134 = start_178835 + slice_179133;
                                                int8_t leq_arg1_179135 = ((int8_t *) mem_param_180813.mem)[slice_179134];
                                                int64_t leq_arg1_179136 = ((int64_t *) mem_param_180816.mem)[slice_179134];
                                                int32_t leq_arg1_179137 = ((int32_t *) mem_param_180819.mem)[slice_179134];
                                                int64_t slice_179141 = defunc_0_f_res_179060 + i_179120;
                                                int64_t slice_179142 = start_178835 + slice_179141;
                                                int8_t leq_arg0_179143 = ((int8_t *) mem_param_180813.mem)[slice_179142];
                                                int64_t leq_arg0_179144 = ((int64_t *) mem_param_180816.mem)[slice_179142];
                                                int32_t leq_arg0_179145 = ((int32_t *) mem_param_180819.mem)[slice_179142];
                                                bool cond_179146 = leq_arg0_179143 == leq_arg1_179135;
                                                bool defunc_0_leq_res_t_res_179147 = sle64(leq_arg0_179144, leq_arg1_179136);
                                                bool defunc_0_leq_res_179148 = sle32(leq_arg0_179145, leq_arg1_179137);
                                                bool x_179149 = cond_179146 && defunc_0_leq_res_t_res_179147;
                                                bool x_179150 = !cond_179146;
                                                bool y_179151 = defunc_0_leq_res_179148 && x_179150;
                                                bool defunc_0_leq_res_179152 = x_179149 || y_179151;
                                                
                                                cond_f_res_179128 = defunc_0_leq_res_179152;
                                            } else {
                                                cond_f_res_179128 = 0;
                                            }
                                            cond_179126 = cond_f_res_179128;
                                        }
                                        
                                        int64_t loopres_179153;
                                        int8_t loopres_179154;
                                        int64_t loopres_179155;
                                        int32_t loopres_179156;
                                        
                                        if (cond_179126) {
                                            bool x_179158 = sle64((int64_t) 0, i_179120);
                                            bool y_179159 = slt64(i_179120, j_m_i_179084);
                                            bool bounds_check_179160 = x_179158 && y_179159;
                                            bool index_certs_179161;
                                            
                                            if (!bounds_check_179160) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179157 = add64((int64_t) 1, i_179120);
                                            int64_t slice_179162 = defunc_0_f_res_179060 + i_179120;
                                            int64_t slice_179163 = start_178835 + slice_179162;
                                            int8_t tmp_179164 = ((int8_t *) mem_param_180813.mem)[slice_179163];
                                            int64_t tmp_179165 = ((int64_t *) mem_param_180816.mem)[slice_179163];
                                            int32_t tmp_179166 = ((int32_t *) mem_param_180819.mem)[slice_179163];
                                            
                                            loopres_179153 = tmp_179157;
                                            loopres_179154 = tmp_179164;
                                            loopres_179155 = tmp_179165;
                                            loopres_179156 = tmp_179166;
                                        } else {
                                            bool x_179167 = sle64((int64_t) 0, j_179124);
                                            bool y_179168 = slt64(j_179124, j_m_i_179071);
                                            bool bounds_check_179169 = x_179167 && y_179168;
                                            bool index_certs_179170;
                                            
                                            if (!bounds_check_179169) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179171 = merge_sequential_arg2_179069 + j_179124;
                                            int64_t slice_179172 = start_178835 + slice_179171;
                                            int8_t tmp_179173 = ((int8_t *) mem_param_180813.mem)[slice_179172];
                                            int64_t tmp_179174 = ((int64_t *) mem_param_180816.mem)[slice_179172];
                                            int32_t tmp_179175 = ((int32_t *) mem_param_180819.mem)[slice_179172];
                                            
                                            loopres_179153 = i_179120;
                                            loopres_179154 = tmp_179173;
                                            loopres_179155 = tmp_179174;
                                            loopres_179156 = tmp_179175;
                                        }
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179154;
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179155;
                                        ((int32_t *) mem_180863)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179156;
                                        
                                        int64_t i_tmp_181794 = loopres_179153;
                                        
                                        i_179120 = i_tmp_181794;
                                    }
                                    data_179115 = i_179120;
                                }
                                if (memblock_alloc(ctx, &mem_180912, flat_dim_178785, "mem_180912")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180912.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint8_t *) mem_180857, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180916, bytes_180859, "mem_180916")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180916.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint64_t *) mem_180860, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180920, bytes_180862, "mem_180920")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180920.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint32_t *) mem_180863, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180912, "mem_180912") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180916, "mem_180916") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180920, "mem_180920") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180821, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180953.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180824, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180950.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180827, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180947.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180967, bytes_180820, "mem_180967")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180967.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint8_t *) mem_180821, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180971, bytes_180823, "mem_180971")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180971.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint64_t *) mem_180824, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180975, bytes_180826, "mem_180975")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180975.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint32_t *) mem_180827, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        
                        bool loop_cond_179195 = slt64(next_stride_178763, flat_dim_178567);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181761, &mem_180967, "mem_180967") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181762, &mem_180971, "mem_180971") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181763, &mem_180975, "mem_180975") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181764 = bytes_180820;
                        bool loop_while_tmp_181765 = loop_cond_179195;
                        int64_t stride_tmp_181769 = next_stride_178763;
                        
                        if (memblock_set(ctx, &mem_param_180813, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180816, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180819, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178757 = loop_dz2084Uz2082U_tmp_181764;
                        loop_while_178758 = loop_while_tmp_181765;
                        stride_178762 = stride_tmp_181769;
                    }
                    if (memblock_set(ctx, &ext_mem_180985, &mem_param_180813, "mem_param_180813") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180984, &mem_param_180816, "mem_param_180816") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180983, &mem_param_180819, "mem_param_180819") != 0)
                        return 1;
                    data_178751 = loop_dz2084Uz2082U_178757;
                    data_178752 = loop_while_178758;
                    data_178756 = stride_178762;
                    if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
                        return 1;
                    
                    bool empty_slice_179196 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179197 = sle64((int64_t) 0, zs_lhs_178551);
                    bool i_p_m_t_s_leq_w_179198 = slt64(zs_lhs_178551, data_178751);
                    bool y_179199 = zzero_leq_i_p_m_t_s_179197 && i_p_m_t_s_leq_w_179198;
                    bool ok_or_empty_179200 = empty_slice_179196 || y_179199;
                    bool index_certs_179201;
                    
                    if (!ok_or_empty_179200) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] out of bounds for array of shape [", (long long) data_178751, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180994, &ext_mem_180985, "ext_mem_180985") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &ext_mem_180984, "ext_mem_180984") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &ext_mem_180983, "ext_mem_180983") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180661, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180994.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180664, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180991.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180667, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180988.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
                    return 1;
                for (int64_t i_180000 = 0; i_180000 < perThread_174828; i_180000++) {
                    int64_t lifted_lambda_res_179223 = add64(zm_rhs_178507, i_180000);
                    
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + i_180000] = lifted_lambda_res_179223;
                }
                
                bool cond_179225 = card_178508 == zp_rhs_174827;
                
                if (cond_179225) {
                    bool y_179227 = slt64(card_178508, perThread_174828);
                    bool index_certs_179228;
                    
                    if (!y_179227) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + card_178508] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181020, bytes_180315, "mem_181020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181799 = 0; nest_i_181799 < window_sizze_130957; nest_i_181799++) {
                ((int32_t *) mem_181020.mem)[nest_i_181799] = 0;
            }
            if (memblock_alloc(ctx, &mem_181022, bytes_180313, "mem_181022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181800 = 0; nest_i_181800 < window_sizze_130957; nest_i_181800++) {
                ((int64_t *) mem_181022.mem)[nest_i_181800] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181023, window_sizze_130957, "mem_181023")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181801 = 0; nest_i_181801 < window_sizze_130957; nest_i_181801++) {
                ((int8_t *) mem_181023.mem)[nest_i_181801] = (int8_t) -1;
            }
            for (int64_t write_iter_180015 = 0; write_iter_180015 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829; write_iter_180015++) {
                int64_t new_index_180167 = squot64(write_iter_180015, perThread_174828);
                int64_t binop_y_180169 = perThread_174828 * new_index_180167;
                int64_t new_index_180170 = write_iter_180015 - binop_y_180169;
                int64_t write_iv_180019 = ((int64_t *) mem_180659)[new_index_180167 * perThread_174828 + new_index_180170];
                int8_t write_iv_180020 = ((int8_t *) mem_180661)[new_index_180167 * perThread_174828 + new_index_180170];
                int64_t write_iv_180021 = ((int64_t *) mem_180664)[new_index_180167 * perThread_174828 + new_index_180170];
                int32_t write_iv_180022 = ((int32_t *) mem_180667)[new_index_180167 * perThread_174828 + new_index_180170];
                
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_130957)) {
                    ((int8_t *) mem_181023.mem)[write_iv_180019] = write_iv_180020;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_130957)) {
                    ((int64_t *) mem_181022.mem)[write_iv_180019] = write_iv_180021;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_130957)) {
                    ((int32_t *) mem_181020.mem)[write_iv_180019] = write_iv_180022;
                }
            }
            
            int64_t index_concat_branch_179251;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179252 = ((int64_t *) mem_180642)[index_concat_i_177592];
                
                index_concat_branch_179251 = index_concat_179252;
            } else {
                index_concat_branch_179251 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179253;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179254 = ((int64_t *) mem_180644)[index_concat_i_177592];
                
                index_concat_branch_179253 = index_concat_179254;
            } else {
                index_concat_branch_179253 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_181023, "mem_181023") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_181022, "mem_181022") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_181020, "mem_181020") != 0)
                return 1;
            loopres_174818 = index_concat_branch_179251;
            loopres_174819 = index_concat_branch_179253;
        } else {
            int32_t leq_lhs_175809 = ((int32_t *) a_list_mem_180280.mem)[p_174790];
            int32_t leq_rhs_175812 = ((int32_t *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_175813 = sle32(leq_lhs_175809, leq_rhs_175812);
            int32_t lowest_175814;
            
            if (defunc_0_leq_res_175813) {
                bool index_certs_179255;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_lhs_175809;
            } else {
                bool index_certs_175819;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_rhs_175812;
            }
            if (mem_180297_cached_sizze_182135 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182135, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180299_cached_sizze_182136 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182136, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180030 = 0; i_180030 < threads_130958; i_180030++) {
                int64_t index_primexp_180246 = add64((int64_t) 1, i_180030);
                int64_t zs_lhs_175835 = mul64(zt_rhs_175828, index_primexp_180246);
                int64_t index_175836 = sdiv64(zs_lhs_175835, partitionFunc_arg0_175805);
                bool cond_175837 = slt64(window_sizze_130957, index_175836);
                int64_t loop_over_175838;
                
                if (cond_175837) {
                    loop_over_175838 = window_sizze_130957;
                } else {
                    loop_over_175838 = index_175836;
                }
                
                int64_t loop_over_175839;
                
                if (cond_175837) {
                    int64_t loop_over_t_res_179256 = sub64(index_175836, window_sizze_130957);
                    
                    loop_over_175839 = loop_over_t_res_179256;
                } else {
                    loop_over_175839 = (int64_t) 0;
                }
                
                int64_t loop_over_175841;
                
                if (cond_175837) {
                    int64_t zm_lhs_179257 = sub64(index_175836, window_sizze_130957);
                    int64_t loop_over_t_res_179258 = sub64(zm_lhs_179257, (int64_t) 1);
                    
                    loop_over_175841 = loop_over_t_res_179258;
                } else {
                    loop_over_175841 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175844;
                int64_t defunc_0_f_res_175845;
                int64_t defunc_0_f_res_175846;
                int64_t defunc_0_f_res_175847;
                bool loop_while_175848;
                int64_t p_175849;
                int64_t p_175850;
                int64_t p_175851;
                
                loop_while_175848 = 1;
                p_175849 = loop_over_175841;
                p_175850 = loop_over_175838;
                p_175851 = loop_over_175839;
                while (loop_while_175848) {
                    int64_t zs_lhs_175852 = sub64(p_175850, p_175849);
                    int64_t offset_175853 = sdiv64(zs_lhs_175852, (int64_t) 2);
                    int64_t ai_175854 = sub64(p_175850, offset_175853);
                    int64_t max_arg1_175855 = add64(p_175851, offset_175853);
                    int64_t max_res_175856 = smax64((int64_t) 0, max_arg1_175855);
                    bool cond_175857 = slt64((int64_t) 0, max_res_175856);
                    int32_t b_prev_175858;
                    
                    if (cond_175857) {
                        int64_t tmp_179259 = sub64(max_res_175856, (int64_t) 1);
                        bool x_179260 = sle64((int64_t) 0, tmp_179259);
                        bool y_179261 = slt64(tmp_179259, window_sizze_130957);
                        bool bounds_check_179262 = x_179260 && y_179261;
                        bool index_certs_179263;
                        
                        if (!bounds_check_179262) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179259, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179264 = p_174791 + tmp_179259;
                        int32_t b_prev_t_res_179265 = ((int32_t *) b_list_mem_180281.mem)[slice_179264];
                        
                        b_prev_175858 = b_prev_t_res_179265;
                    } else {
                        b_prev_175858 = lowest_175814;
                    }
                    
                    bool cond_175865 = sle64(ai_175854, (int64_t) 0);
                    int64_t loopres_175866;
                    int64_t loopres_175867;
                    int64_t loopres_175868;
                    bool loopres_175869;
                    
                    if (cond_175865) {
                        loopres_175866 = p_175849;
                        loopres_175867 = (int64_t) 0;
                        loopres_175868 = max_res_175856;
                        loopres_175869 = 0;
                    } else {
                        bool cond_175870 = sle64(window_sizze_130957, max_res_175856);
                        int64_t loopres_f_res_175871;
                        int64_t loopres_f_res_175872;
                        int64_t loopres_f_res_175873;
                        bool loopres_f_res_175874;
                        
                        if (cond_175870) {
                            int64_t min_res_179267 = smin64(m_174779, ai_175854);
                            bool x_179268 = sle64((int64_t) 0, m_174779);
                            bool y_179269 = slt64(m_174779, window_sizze_130957);
                            bool bounds_check_179270 = x_179268 && y_179269;
                            bool index_certs_179271;
                            
                            if (!bounds_check_179270) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179274 = sle64((int64_t) 0, min_res_179267);
                            bool y_179275 = slt64(min_res_179267, window_sizze_130957);
                            bool bounds_check_179276 = x_179274 && y_179275;
                            bool index_certs_179277;
                            
                            if (!bounds_check_179276) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179267, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_179273 = ((int32_t *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_179278 = p_174790 + min_res_179267;
                            int32_t leq_rhs_179279 = ((int32_t *) a_list_mem_180280.mem)[slice_179278];
                            bool defunc_0_leq_res_179280 = sle32(leq_lhs_179273, leq_rhs_179279);
                            int64_t loopres_f_res_t_res_179281;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179281 = ai_175854;
                            } else {
                                loopres_f_res_t_res_179281 = p_175850;
                            }
                            
                            bool x_179282 = !defunc_0_leq_res_179280;
                            int64_t loopres_f_res_t_res_179283;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179283 = window_sizze_130957;
                            } else {
                                int64_t tmp_179284 = sub64(m_174779, offset_175853);
                                
                                loopres_f_res_t_res_179283 = tmp_179284;
                            }
                            loopres_f_res_175871 = p_175849;
                            loopres_f_res_175872 = loopres_f_res_t_res_179281;
                            loopres_f_res_175873 = loopres_f_res_t_res_179283;
                            loopres_f_res_175874 = x_179282;
                        } else {
                            bool cond_175892 = sle64(window_sizze_130957, ai_175854);
                            int64_t loopres_f_res_f_res_175893;
                            int64_t loopres_f_res_f_res_175894;
                            int64_t loopres_f_res_f_res_175895;
                            bool loopres_f_res_f_res_175896;
                            
                            if (cond_175892) {
                                int64_t min_res_179286 = smin64(m_174779, max_res_175856);
                                bool x_179287 = sle64((int64_t) 0, m_174779);
                                bool y_179288 = slt64(m_174779, window_sizze_130957);
                                bool bounds_check_179289 = x_179287 && y_179288;
                                bool index_certs_179290;
                                
                                if (!bounds_check_179289) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179293 = sle64((int64_t) 0, min_res_179286);
                                bool y_179294 = slt64(min_res_179286, window_sizze_130957);
                                bool bounds_check_179295 = x_179293 && y_179294;
                                bool index_certs_179296;
                                
                                if (!bounds_check_179295) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179286, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_179292 = ((int32_t *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_179297 = p_174791 + min_res_179286;
                                int32_t leq_rhs_179298 = ((int32_t *) b_list_mem_180281.mem)[slice_179297];
                                bool defunc_0_leq_res_179299 = sle32(leq_lhs_179292, leq_rhs_179298);
                                int64_t loopres_f_res_f_res_t_res_179300;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179300 = max_res_175856;
                                } else {
                                    loopres_f_res_f_res_t_res_179300 = p_175851;
                                }
                                
                                bool x_179301 = !defunc_0_leq_res_179299;
                                int64_t loopres_f_res_f_res_t_res_179302;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179302 = window_sizze_130957;
                                } else {
                                    loopres_f_res_f_res_t_res_179302 = m_174779;
                                }
                                loopres_f_res_f_res_175893 = p_175849;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_t_res_179302;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_t_res_179300;
                                loopres_f_res_f_res_175896 = x_179301;
                            } else {
                                bool cond_175913 = sle64(p_175850, p_175849);
                                int64_t loopres_f_res_f_res_f_res_175914;
                                int64_t loopres_f_res_f_res_f_res_175915;
                                int64_t loopres_f_res_f_res_f_res_175916;
                                bool loopres_f_res_f_res_f_res_175917;
                                
                                if (cond_175913) {
                                    bool cond_179341 = slt64(ai_175854, window_sizze_130957);
                                    int64_t ai_179342;
                                    
                                    if (cond_179341) {
                                        ai_179342 = ai_175854;
                                    } else {
                                        ai_179342 = m_174779;
                                    }
                                    
                                    bool x_179355 = sle64((int64_t) 0, ai_179342);
                                    bool y_179356 = slt64(ai_179342, window_sizze_130957);
                                    bool bounds_check_179357 = x_179355 && y_179356;
                                    bool index_certs_179358;
                                    
                                    if (!bounds_check_179357) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179342, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_179344;
                                    
                                    if (cond_175857) {
                                        int64_t tmp_179345 = sub64(max_res_175856, (int64_t) 1);
                                        bool x_179346 = sle64((int64_t) 0, tmp_179345);
                                        bool y_179347 = slt64(tmp_179345, window_sizze_130957);
                                        bool bounds_check_179348 = x_179346 && y_179347;
                                        bool index_certs_179349;
                                        
                                        if (!bounds_check_179348) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179345, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179350 = p_174791 + tmp_179345;
                                        int32_t b_prev_t_res_179351 = ((int32_t *) b_list_mem_180281.mem)[slice_179350];
                                        
                                        b_prev_179344 = b_prev_t_res_179351;
                                    } else {
                                        bool index_certs_179353;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179344 = leq_rhs_175812;
                                    }
                                    
                                    int64_t slice_179359 = p_174790 + ai_179342;
                                    int32_t gt_lhs_179360 = ((int32_t *) a_list_mem_180280.mem)[slice_179359];
                                    bool defunc_0_gt_res_179361 = slt32(b_prev_179344, gt_lhs_179360);
                                    int64_t defunc_0_partFunc_sequential_search_res_179362;
                                    int64_t defunc_0_partFunc_sequential_search_res_179363;
                                    
                                    if (defunc_0_gt_res_179361) {
                                        int64_t zl_rhs_179364 = sub64(window_sizze_130957, max_res_175856);
                                        bool loop_cond_179365 = slt64((int64_t) 0, zl_rhs_179364);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179366;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179368;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179369;
                                        bool loop_while_179370;
                                        int64_t p_179371;
                                        int64_t p_179372;
                                        int64_t p_179373;
                                        
                                        loop_while_179370 = loop_cond_179365;
                                        p_179371 = ai_179342;
                                        p_179372 = max_res_175856;
                                        p_179373 = (int64_t) 0;
                                        while (loop_while_179370) {
                                            int64_t i_a_179374 = sub64(ai_179342, p_179373);
                                            int64_t i_b_179375 = add64(max_res_175856, p_179373);
                                            int64_t leq_lhs_179376 = sub64(i_a_179374, (int64_t) 1);
                                            bool x_179377 = sle64((int64_t) 0, leq_lhs_179376);
                                            bool y_179378 = slt64(leq_lhs_179376, window_sizze_130957);
                                            bool bounds_check_179379 = x_179377 && y_179378;
                                            bool index_certs_179380;
                                            
                                            if (!bounds_check_179379) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179376, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179383 = sle64((int64_t) 0, i_b_179375);
                                            bool y_179384 = slt64(i_b_179375, window_sizze_130957);
                                            bool bounds_check_179385 = x_179383 && y_179384;
                                            bool index_certs_179386;
                                            
                                            if (!bounds_check_179385) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179375, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179381 = p_174790 + leq_lhs_179376;
                                            int32_t leq_lhs_179382 = ((int32_t *) a_list_mem_180280.mem)[slice_179381];
                                            int64_t slice_179387 = p_174791 + i_b_179375;
                                            int32_t leq_rhs_179388 = ((int32_t *) b_list_mem_180281.mem)[slice_179387];
                                            bool defunc_0_leq_res_179389 = sle32(leq_lhs_179382, leq_rhs_179388);
                                            int64_t loopres_179390;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179390 = i_a_179374;
                                            } else {
                                                loopres_179390 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179391;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179391 = i_b_179375;
                                            } else {
                                                loopres_179391 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179392;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179392 = zl_rhs_179364;
                                            } else {
                                                int64_t tmp_179393 = add64((int64_t) 1, p_179373);
                                                
                                                loopres_179392 = tmp_179393;
                                            }
                                            
                                            bool loop_cond_179394 = slt64(loopres_179392, zl_rhs_179364);
                                            bool loop_while_tmp_181811 = loop_cond_179394;
                                            int64_t p_tmp_181812 = loopres_179390;
                                            int64_t p_tmp_181813 = loopres_179391;
                                            int64_t p_tmp_181814 = loopres_179392;
                                            
                                            loop_while_179370 = loop_while_tmp_181811;
                                            p_179371 = p_tmp_181812;
                                            p_179372 = p_tmp_181813;
                                            p_179373 = p_tmp_181814;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179366 = loop_while_179370;
                                        defunc_0_partFunc_sequential_search_res_t_res_179367 = p_179371;
                                        defunc_0_partFunc_sequential_search_res_t_res_179368 = p_179372;
                                        defunc_0_partFunc_sequential_search_res_t_res_179369 = p_179373;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_t_res_179368;
                                    } else {
                                        int64_t zl_rhs_179395 = sub64(max_res_175856, (int64_t) 1);
                                        bool loop_cond_179396 = slt64((int64_t) 0, zl_rhs_179395);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179397;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179399;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179400;
                                        bool loop_while_179401;
                                        int64_t p_179402;
                                        int64_t p_179403;
                                        int64_t p_179404;
                                        
                                        loop_while_179401 = loop_cond_179396;
                                        p_179402 = ai_179342;
                                        p_179403 = max_res_175856;
                                        p_179404 = (int64_t) 0;
                                        while (loop_while_179401) {
                                            int64_t zp_lhs_179405 = add64(ai_179342, p_179404);
                                            int64_t hi_a_179406 = add64((int64_t) 1, zp_lhs_179405);
                                            bool cond_179407 = slt64(hi_a_179406, window_sizze_130957);
                                            int64_t i_a_179408;
                                            
                                            if (cond_179407) {
                                                i_a_179408 = hi_a_179406;
                                            } else {
                                                i_a_179408 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_179410 = sub64(max_res_175856, p_179404);
                                            int64_t i_b_179411 = sub64(zm_lhs_179410, (int64_t) 1);
                                            bool x_179412 = sle64((int64_t) 0, i_a_179408);
                                            bool y_179413 = slt64(i_a_179408, window_sizze_130957);
                                            bool bounds_check_179414 = x_179412 && y_179413;
                                            bool index_certs_179415;
                                            
                                            if (!bounds_check_179414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179408, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179418 = sle64((int64_t) 0, i_b_179411);
                                            bool y_179419 = slt64(i_b_179411, window_sizze_130957);
                                            bool bounds_check_179420 = x_179418 && y_179419;
                                            bool index_certs_179421;
                                            
                                            if (!bounds_check_179420) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179411, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179416 = p_174790 + i_a_179408;
                                            int32_t gt_lhs_179417 = ((int32_t *) a_list_mem_180280.mem)[slice_179416];
                                            int64_t slice_179422 = p_174791 + i_b_179411;
                                            int32_t gt_rhs_179423 = ((int32_t *) b_list_mem_180281.mem)[slice_179422];
                                            bool defunc_0_gt_res_179424 = slt32(gt_rhs_179423, gt_lhs_179417);
                                            int64_t loopres_179425;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179425 = i_a_179408;
                                            } else {
                                                loopres_179425 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179426;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179426 = zm_lhs_179410;
                                            } else {
                                                loopres_179426 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179427;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179427 = zl_rhs_179395;
                                            } else {
                                                int64_t tmp_179428 = add64((int64_t) 1, p_179404);
                                                
                                                loopres_179427 = tmp_179428;
                                            }
                                            
                                            bool loop_cond_179429 = slt64(loopres_179427, zl_rhs_179395);
                                            bool loop_while_tmp_181815 = loop_cond_179429;
                                            int64_t p_tmp_181816 = loopres_179425;
                                            int64_t p_tmp_181817 = loopres_179426;
                                            int64_t p_tmp_181818 = loopres_179427;
                                            
                                            loop_while_179401 = loop_while_tmp_181815;
                                            p_179402 = p_tmp_181816;
                                            p_179403 = p_tmp_181817;
                                            p_179404 = p_tmp_181818;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179397 = loop_while_179401;
                                        defunc_0_partFunc_sequential_search_res_f_res_179398 = p_179402;
                                        defunc_0_partFunc_sequential_search_res_f_res_179399 = p_179403;
                                        defunc_0_partFunc_sequential_search_res_f_res_179400 = p_179404;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_f_res_179399;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = p_175849;
                                    loopres_f_res_f_res_f_res_175915 = defunc_0_partFunc_sequential_search_res_179362;
                                    loopres_f_res_f_res_f_res_175916 = defunc_0_partFunc_sequential_search_res_179363;
                                    loopres_f_res_f_res_f_res_175917 = 0;
                                } else {
                                    bool x_176001 = sle64((int64_t) 0, ai_175854);
                                    bool y_176002 = slt64(ai_175854, window_sizze_130957);
                                    bool bounds_check_176003 = x_176001 && y_176002;
                                    bool index_certs_176004;
                                    
                                    if (!bounds_check_176003) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175854, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177670 = p_174790 + ai_175854;
                                    int32_t gt_lhs_176005 = ((int32_t *) a_list_mem_180280.mem)[slice_177670];
                                    bool defunc_0_gt_res_176006 = slt32(b_prev_175858, gt_lhs_176005);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176007;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176008;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176009;
                                    bool loopres_f_res_f_res_f_res_f_res_176010;
                                    
                                    if (defunc_0_gt_res_176006) {
                                        int64_t leq_lhs_179430 = sub64(ai_175854, (int64_t) 1);
                                        bool x_179431 = sle64((int64_t) 0, leq_lhs_179430);
                                        bool y_179432 = slt64(leq_lhs_179430, window_sizze_130957);
                                        bool bounds_check_179433 = x_179431 && y_179432;
                                        bool index_certs_179434;
                                        
                                        if (!bounds_check_179433) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179430, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179437 = sle64((int64_t) 0, max_res_175856);
                                        bool y_179438 = slt64(max_res_175856, window_sizze_130957);
                                        bool bounds_check_179439 = x_179437 && y_179438;
                                        bool index_certs_179440;
                                        
                                        if (!bounds_check_179439) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175856, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179435 = p_174790 + leq_lhs_179430;
                                        int32_t leq_lhs_179436 = ((int32_t *) a_list_mem_180280.mem)[slice_179435];
                                        int64_t slice_179441 = p_174791 + max_res_175856;
                                        int32_t leq_rhs_179442 = ((int32_t *) b_list_mem_180281.mem)[slice_179441];
                                        bool defunc_0_leq_res_179443 = sle32(leq_lhs_179436, leq_rhs_179442);
                                        bool x_179444 = !defunc_0_leq_res_179443;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = ai_175854;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = leq_lhs_179430;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = max_res_175856;
                                        } else {
                                            int64_t tmp_179447 = add64((int64_t) 1, max_res_175856);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = tmp_179447;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176007 = p_175849;
                                        loopres_f_res_f_res_f_res_f_res_176008 = loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        loopres_f_res_f_res_f_res_f_res_176009 = loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        loopres_f_res_f_res_f_res_f_res_176010 = x_179444;
                                    } else {
                                        int64_t tmp_176027 = add64((int64_t) 1, ai_175854);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176007 = tmp_176027;
                                        loopres_f_res_f_res_f_res_f_res_176008 = p_175850;
                                        loopres_f_res_f_res_f_res_f_res_176009 = p_175851;
                                        loopres_f_res_f_res_f_res_f_res_176010 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = loopres_f_res_f_res_f_res_f_res_176007;
                                    loopres_f_res_f_res_f_res_175915 = loopres_f_res_f_res_f_res_f_res_176008;
                                    loopres_f_res_f_res_f_res_175916 = loopres_f_res_f_res_f_res_f_res_176009;
                                    loopres_f_res_f_res_f_res_175917 = loopres_f_res_f_res_f_res_f_res_176010;
                                }
                                loopres_f_res_f_res_175893 = loopres_f_res_f_res_f_res_175914;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_f_res_175915;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_f_res_175916;
                                loopres_f_res_f_res_175896 = loopres_f_res_f_res_f_res_175917;
                            }
                            loopres_f_res_175871 = loopres_f_res_f_res_175893;
                            loopres_f_res_175872 = loopres_f_res_f_res_175894;
                            loopres_f_res_175873 = loopres_f_res_f_res_175895;
                            loopres_f_res_175874 = loopres_f_res_f_res_175896;
                        }
                        loopres_175866 = loopres_f_res_175871;
                        loopres_175867 = loopres_f_res_175872;
                        loopres_175868 = loopres_f_res_175873;
                        loopres_175869 = loopres_f_res_175874;
                    }
                    
                    bool loop_while_tmp_181807 = loopres_175869;
                    int64_t p_tmp_181808 = loopres_175866;
                    int64_t p_tmp_181809 = loopres_175867;
                    int64_t p_tmp_181810 = loopres_175868;
                    
                    loop_while_175848 = loop_while_tmp_181807;
                    p_175849 = p_tmp_181808;
                    p_175850 = p_tmp_181809;
                    p_175851 = p_tmp_181810;
                }
                defunc_0_f_res_175844 = loop_while_175848;
                defunc_0_f_res_175845 = p_175849;
                defunc_0_f_res_175846 = p_175850;
                defunc_0_f_res_175847 = p_175851;
                ((int64_t *) mem_180297)[i_180030] = defunc_0_f_res_175846;
                ((int64_t *) mem_180299)[i_180030] = defunc_0_f_res_175847;
            }
            if (memblock_alloc(ctx, &mem_180312, window_sizze_130957, "mem_180312")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181819 = 0; nest_i_181819 < window_sizze_130957; nest_i_181819++) {
                ((int8_t *) mem_180312.mem)[nest_i_181819] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180314, bytes_180313, "mem_180314")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181820 = 0; nest_i_181820 < window_sizze_130957; nest_i_181820++) {
                ((int64_t *) mem_180314.mem)[nest_i_181820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180316, bytes_180315, "mem_180316")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181821 = 0; nest_i_181821 < window_sizze_130957; nest_i_181821++) {
                ((int32_t *) mem_180316.mem)[nest_i_181821] = 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176054;
            int64_t defunc_0_mergeFunc_seq_res_176055;
            bool loop_while_176059;
            int64_t p_176060;
            
            loop_while_176059 = loop_cond_176053;
            p_176060 = (int64_t) 0;
            while (loop_while_176059) {
                bool x_176064 = sle64((int64_t) 0, p_176060);
                bool y_176065 = slt64(p_176060, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176066 = x_176064 && y_176065;
                bool index_certs_176067;
                
                if (!bounds_check_176066) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176060, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177653 = sle64((int64_t) 1, p_176060);
                int64_t index_concat_i_177654 = sub64(p_176060, (int64_t) 1);
                int64_t index_concat_177655;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179448 = ((int64_t *) mem_180297)[index_concat_i_177654];
                    
                    index_concat_177655 = x_179448;
                } else {
                    index_concat_177655 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177657;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177657 = index_concat_177655;
                } else {
                    index_concat_branch_177657 = (int64_t) 0;
                }
                
                int64_t index_concat_177649;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179449 = ((int64_t *) mem_180299)[index_concat_i_177654];
                    
                    index_concat_177649 = x_179449;
                } else {
                    index_concat_177649 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177651;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177651 = index_concat_177649;
                } else {
                    index_concat_branch_177651 = (int64_t) 0;
                }
                
                int64_t ubs_176070 = add64((int64_t) 1, p_176060);
                bool x_176071 = sle64((int64_t) 0, ubs_176070);
                bool y_176072 = slt64(ubs_176070, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176073 = x_176071 && y_176072;
                bool index_certs_176074;
                
                if (!bounds_check_176073) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177641 = sle64((int64_t) 1, ubs_176070);
                int64_t index_concat_177643;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179450 = ((int64_t *) mem_180297)[p_176060];
                    
                    index_concat_177643 = x_179450;
                } else {
                    index_concat_177643 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177645;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177645 = index_concat_177643;
                } else {
                    index_concat_branch_177645 = (int64_t) 0;
                }
                
                int64_t index_concat_177637;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179451 = ((int64_t *) mem_180299)[p_176060];
                    
                    index_concat_177637 = x_179451;
                } else {
                    index_concat_177637 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177639;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177639 = index_concat_177637;
                } else {
                    index_concat_branch_177639 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 = sub64(index_concat_branch_177639, index_concat_branch_177651);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 = sub64(index_concat_branch_177645, index_concat_branch_177657);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t ind_bottom_176080 = add64(index_concat_branch_177651, index_concat_branch_177657);
                int64_t ind_top_176081 = add64(index_concat_branch_177639, index_concat_branch_177645);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 = sub64(ind_top_176081, ind_bottom_176080);
                bool empty_slice_176083 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 == (int64_t) 0;
                int64_t m_176084 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 1);
                int64_t i_p_m_t_s_176085 = add64(m_176084, index_concat_branch_177657);
                bool zzero_leq_i_p_m_t_s_176086 = sle64((int64_t) 0, i_p_m_t_s_176085);
                bool i_p_m_t_s_leq_w_176087 = slt64(i_p_m_t_s_176085, window_sizze_130957);
                bool zzero_lte_i_176088 = sle64((int64_t) 0, index_concat_branch_177657);
                bool i_lte_j_176089 = sle64(index_concat_branch_177657, index_concat_branch_177645);
                bool y_176090 = i_p_m_t_s_leq_w_176087 && zzero_lte_i_176088;
                bool y_176091 = zzero_leq_i_p_m_t_s_176086 && y_176090;
                bool forwards_ok_176092 = i_lte_j_176089 && y_176091;
                bool ok_or_empty_176093 = empty_slice_176083 || forwards_ok_176092;
                bool index_certs_176094;
                
                if (!ok_or_empty_176093) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177657, ":", (long long) index_concat_branch_177645, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176095 = slt64(index_concat_branch_177645, index_concat_branch_177657);
                bool valid_176096 = !bounds_invalid_upwards_176095;
                bool range_valid_c_176097;
                
                if (!valid_176096) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177657, "..<", (long long) index_concat_branch_177645, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176103 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 == (int64_t) 0;
                int64_t m_176104 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, (int64_t) 1);
                int64_t i_p_m_t_s_176105 = add64(m_176104, index_concat_branch_177651);
                bool zzero_leq_i_p_m_t_s_176106 = sle64((int64_t) 0, i_p_m_t_s_176105);
                bool i_p_m_t_s_leq_w_176107 = slt64(i_p_m_t_s_176105, window_sizze_130957);
                bool zzero_lte_i_176108 = sle64((int64_t) 0, index_concat_branch_177651);
                bool i_lte_j_176109 = sle64(index_concat_branch_177651, index_concat_branch_177639);
                bool y_176110 = i_p_m_t_s_leq_w_176107 && zzero_lte_i_176108;
                bool y_176111 = zzero_leq_i_p_m_t_s_176106 && y_176110;
                bool forwards_ok_176112 = i_lte_j_176109 && y_176111;
                bool ok_or_empty_176113 = empty_slice_176103 || forwards_ok_176112;
                bool index_certs_176114;
                
                if (!ok_or_empty_176113) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177651, ":", (long long) index_concat_branch_177639, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176115 = slt64(index_concat_branch_177639, index_concat_branch_177651);
                bool valid_176116 = !bounds_invalid_upwards_176115;
                bool range_valid_c_176117;
                
                if (!valid_176116) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177651, "..<", (long long) index_concat_branch_177639, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180333 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                int64_t bytes_180335 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool cond_176126 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zs_lhs_176127 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zp_rhs_176128 = sdiv_safe64(zs_lhs_176127, (int64_t) 20);
                int64_t min_num_blocks_176129 = add64((int64_t) 1, zp_rhs_176128);
                bool loop_cond_176130 = slt64((int64_t) 1, min_num_blocks_176129);
                bool smallest_pow_2_geq_than_res_176131;
                int64_t smallest_pow_2_geq_than_res_176132;
                bool loop_while_176133;
                int64_t x_176134;
                
                loop_while_176133 = loop_cond_176130;
                x_176134 = (int64_t) 1;
                while (loop_while_176133) {
                    int64_t loopres_176135 = mul64((int64_t) 2, x_176134);
                    bool loop_cond_176136 = slt64(loopres_176135, min_num_blocks_176129);
                    bool loop_while_tmp_181827 = loop_cond_176136;
                    int64_t x_tmp_181828 = loopres_176135;
                    
                    loop_while_176133 = loop_while_tmp_181827;
                    x_176134 = x_tmp_181828;
                }
                smallest_pow_2_geq_than_res_176131 = loop_while_176133;
                smallest_pow_2_geq_than_res_176132 = x_176134;
                
                bool zzero_176137 = smallest_pow_2_geq_than_res_176132 == (int64_t) 0;
                bool nonzzero_176138 = !zzero_176137;
                bool protect_assert_disj_176139 = cond_176126 || nonzzero_176138;
                bool nonzzero_cert_176140;
                
                if (!protect_assert_disj_176139) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176141 = sdiv_safe64(zs_lhs_176127, smallest_pow_2_geq_than_res_176132);
                int64_t block_sizze_176142 = add64((int64_t) 1, zp_rhs_176141);
                bool y_176149 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                bool protect_assert_disj_181486 = cond_176126 || y_176149;
                bool index_certs_176150;
                
                if (!protect_assert_disj_181486) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176176 = slt64(smallest_pow_2_geq_than_res_176132, (int64_t) 0);
                bool valid_176177 = !bounds_invalid_upwards_176176;
                bool protect_assert_disj_181496 = cond_176126 || valid_176177;
                bool range_valid_c_176178;
                
                if (!protect_assert_disj_181496) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176132, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176180 = slt64(block_sizze_176142, (int64_t) 0);
                bool valid_176181 = !bounds_invalid_upwards_176180;
                bool protect_assert_disj_181498 = cond_176126 || valid_176181;
                bool range_valid_c_176182;
                
                if (!protect_assert_disj_181498) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176142, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176184 = sle64(block_sizze_176142, (int64_t) 1);
                int64_t tmp_176185 = sub64(block_sizze_176142, (int64_t) 2);
                bool bounds_invalid_upwards_176186 = slt64(tmp_176185, (int64_t) 0);
                bool valid_176188 = !bounds_invalid_upwards_176186;
                bool protect_assert_disj_176189 = cond_176184 || valid_176188;
                bool protect_assert_disj_181500 = cond_176126 || protect_assert_disj_176189;
                bool range_valid_c_176190;
                
                if (!protect_assert_disj_181500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176185, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176751 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool empty_or_match_cert_176752;
                
                if (!dim_match_176751) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "](i8, i64, i32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176753 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == (int64_t) 0;
                int64_t m_176754 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176755 = sle64((int64_t) 0, m_176754);
                bool i_p_m_t_s_leq_w_176756 = slt64(m_176754, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082);
                bool y_176757 = zzero_leq_i_p_m_t_s_176755 && i_p_m_t_s_leq_w_176756;
                bool ok_or_empty_176758 = empty_slice_176753 || y_176757;
                bool index_certs_176759;
                
                if (!ok_or_empty_176758) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176760 = add64(ind_bottom_176080, m_176754);
                bool zzero_leq_i_p_m_t_s_176761 = sle64((int64_t) 0, i_p_m_t_s_176760);
                bool i_p_m_t_s_leq_w_176762 = slt64(i_p_m_t_s_176760, window_sizze_130957);
                bool zzero_lte_i_176763 = sle64((int64_t) 0, ind_bottom_176080);
                bool i_lte_j_176764 = sle64(ind_bottom_176080, ind_top_176081);
                bool y_176765 = i_p_m_t_s_leq_w_176762 && zzero_lte_i_176763;
                bool y_176766 = zzero_leq_i_p_m_t_s_176761 && y_176765;
                bool forwards_ok_176767 = i_lte_j_176764 && y_176766;
                bool ok_or_empty_176768 = empty_slice_176753 || forwards_ok_176767;
                bool index_certs_176769;
                
                if (!ok_or_empty_176768) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176080, ":", (long long) ind_top_176081, "] out of bounds for array of shape [", (long long) window_sizze_130957, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177633 = p_174790 + index_concat_branch_177657;
                
                if (memblock_alloc(ctx, &mem_180332, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "mem_180332")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181829 = 0; nest_i_181829 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; nest_i_181829++) {
                    ((int8_t *) mem_180332.mem)[nest_i_181829] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180334, bytes_180333, "mem_180334")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181830 = 0; i_181830 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; i_181830++) {
                    int64_t x_181831 = index_concat_branch_177657 + i_181830 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[i_181830] = x_181831;
                }
                
                int64_t slice_177632 = p_174791 + index_concat_branch_177651;
                
                for (int64_t nest_i_181832 = 0; nest_i_181832 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; nest_i_181832++) {
                    ((int8_t *) mem_180332.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + nest_i_181832] = (int8_t) 1;
                }
                for (int64_t i_181833 = 0; i_181833 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; i_181833++) {
                    int64_t x_181834 = index_concat_branch_177651 + i_181833 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + i_181833] = x_181834;
                }
                
                int64_t tmp_offs_181835 = (int64_t) 0;
                
                if (!(tmp_offs_181835 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181835 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t tmp_offs_181836 = (int64_t) 0;
                
                if (!(tmp_offs_181836 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181836 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                if (memblock_alloc(ctx, &mem_180336, bytes_180335, "mem_180336")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181837 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180280.mem, slice_177633, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180281.mem, slice_177632, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t flat_dim_176143 = smallest_pow_2_geq_than_res_176132 * block_sizze_176142;
                bool x_181481 = !cond_176126;
                int64_t greatest_divisor_leq_than_arg1_176147 = mul64((int64_t) 2, block_sizze_176142);
                int64_t merge_block_sizze_176148;
                
                if (x_181481) {
                    int64_t x_181483;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181483, (int64_t) 8, greatest_divisor_leq_than_arg1_176147) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176148 = x_181483;
                } else {
                    merge_block_sizze_176148 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177627 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 0);
                int8_t index_concat_branch_177631 = btoi_bool_i8(index_concat_cmp_177627);
                int64_t index_concat_i_179452 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t index_primexp_179453 = add64(index_concat_branch_177651, index_concat_i_179452);
                int64_t index_concat_branch_177625;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177625 = index_primexp_179453;
                } else {
                    index_concat_branch_177625 = index_concat_branch_177657;
                }
                
                bool x_181477 = !index_concat_cmp_177627;
                bool protect_cond_conj_181487 = x_181477 && x_181481;
                int32_t index_concat_177618;
                
                if (protect_cond_conj_181487) {
                    int32_t x_181479 = ((int32_t *) a_list_mem_180280.mem)[slice_177633];
                    
                    index_concat_177618 = x_181479;
                } else {
                    index_concat_177618 = 0;
                }
                
                int64_t slice_179455 = slice_177632 + index_concat_i_179452;
                bool protect_cond_conj_181488 = index_concat_cmp_177627 && x_181481;
                int32_t index_concat_179456;
                
                if (protect_cond_conj_181488) {
                    int32_t x_181475 = ((int32_t *) b_list_mem_180281.mem)[slice_179455];
                    
                    index_concat_179456 = x_181475;
                } else {
                    index_concat_179456 = 0;
                }
                
                int32_t index_concat_branch_177619;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177619 = index_concat_179456;
                } else {
                    index_concat_branch_177619 = index_concat_177618;
                }
                
                int8_t defunc_0_reduce_res_179687;
                int64_t defunc_0_reduce_res_179688;
                int32_t defunc_0_reduce_res_179689;
                
                if (x_181481) {
                    int8_t x_181489;
                    int64_t x_181490;
                    int32_t x_181491;
                    int8_t redout_180033;
                    int64_t redout_180034;
                    int32_t redout_180035;
                    
                    redout_180033 = index_concat_branch_177631;
                    redout_180034 = index_concat_branch_177625;
                    redout_180035 = index_concat_branch_177619;
                    for (int64_t i_180036 = 0; i_180036 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079; i_180036++) {
                        bool index_concat_cmp_180240 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, i_180036);
                        int8_t index_concat_branch_180244 = btoi_bool_i8(index_concat_cmp_180240);
                        int64_t index_concat_branch_180238;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180235 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t index_primexp_180262 = add64(index_concat_branch_177651, index_concat_i_180235);
                            
                            index_concat_branch_180238 = index_primexp_180262;
                        } else {
                            int64_t index_primexp_180264 = add64(index_concat_branch_177657, i_180036);
                            
                            index_concat_branch_180238 = index_primexp_180264;
                        }
                        
                        int32_t index_concat_branch_180232;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180229 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t slice_180259 = slice_177632 + index_concat_i_180229;
                            int32_t index_concat_180230 = ((int32_t *) b_list_mem_180281.mem)[slice_180259];
                            
                            index_concat_branch_180232 = index_concat_180230;
                        } else {
                            int64_t slice_180260 = slice_177633 + i_180036;
                            int32_t index_concat_180231 = ((int32_t *) a_list_mem_180280.mem)[slice_180260];
                            
                            index_concat_branch_180232 = index_concat_180231;
                        }
                        
                        bool eq_x_y_180275 = redout_180033 == (int8_t) 1;
                        bool eq_x_zz_180276 = redout_180033 == (int8_t) 0;
                        bool p_and_eq_x_y_180277 = index_concat_cmp_180240 && eq_x_y_180275;
                        bool not_p_180278 = !index_concat_cmp_180240;
                        bool p_and_eq_x_y_180279 = eq_x_zz_180276 && not_p_180278;
                        bool cond_176166 = p_and_eq_x_y_180277 || p_and_eq_x_y_180279;
                        bool defunc_0_leq_res_t_res_176167 = sle64(redout_180034, index_concat_branch_180238);
                        bool defunc_0_leq_res_176168 = sle32(redout_180035, index_concat_branch_180232);
                        bool x_176169 = cond_176166 && defunc_0_leq_res_t_res_176167;
                        bool x_176170 = !cond_176166;
                        bool y_176171 = defunc_0_leq_res_176168 && x_176170;
                        bool defunc_0_leq_res_176172 = x_176169 || y_176171;
                        int8_t defunc_0_op_res_176173;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176173 = index_concat_branch_180244;
                        } else {
                            defunc_0_op_res_176173 = redout_180033;
                        }
                        
                        int64_t defunc_0_op_res_176174;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176174 = index_concat_branch_180238;
                        } else {
                            defunc_0_op_res_176174 = redout_180034;
                        }
                        
                        int32_t defunc_0_op_res_176175;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176175 = index_concat_branch_180232;
                        } else {
                            defunc_0_op_res_176175 = redout_180035;
                        }
                        
                        int8_t redout_tmp_181838 = defunc_0_op_res_176173;
                        int64_t redout_tmp_181839 = defunc_0_op_res_176174;
                        int32_t redout_tmp_181840 = defunc_0_op_res_176175;
                        
                        redout_180033 = redout_tmp_181838;
                        redout_180034 = redout_tmp_181839;
                        redout_180035 = redout_tmp_181840;
                    }
                    x_181489 = redout_180033;
                    x_181490 = redout_180034;
                    x_181491 = redout_180035;
                    defunc_0_reduce_res_179687 = x_181489;
                    defunc_0_reduce_res_179688 = x_181490;
                    defunc_0_reduce_res_179689 = x_181491;
                } else {
                    defunc_0_reduce_res_179687 = (int8_t) 0;
                    defunc_0_reduce_res_179688 = (int64_t) 0;
                    defunc_0_reduce_res_179689 = 0;
                }
                
                int64_t distance_176187 = add64((int64_t) 1, tmp_176185);
                int64_t binop_x_180339 = (int64_t) 8 * smallest_pow_2_geq_than_res_176132;
                int64_t bytes_180340 = block_sizze_176142 * binop_x_180339;
                int64_t binop_x_180342 = (int64_t) 4 * smallest_pow_2_geq_than_res_176132;
                int64_t bytes_180343 = block_sizze_176142 * binop_x_180342;
                int64_t bytes_180358 = (int64_t) 8 * block_sizze_176142;
                int64_t bytes_180360 = (int64_t) 4 * block_sizze_176142;
                bool loop_cond_176296 = slt64(block_sizze_176142, flat_dim_176143);
                bool zzero_176297 = merge_block_sizze_176148 == (int64_t) 0;
                bool nonzzero_176298 = !zzero_176297;
                
                if (cond_176126) {
                    if (memblock_set(ctx, &ext_mem_180631, &mem_180332, "mem_180332") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &mem_180334, "mem_180334") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &mem_180336, "mem_180336") != 0)
                        return 1;
                } else {
                    if (mem_180338_cached_sizze_182137 < flat_dim_176143) {
                        err = lexical_realloc(ctx, &mem_180338, &mem_180338_cached_sizze_182137, flat_dim_176143);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180341_cached_sizze_182138 < bytes_180340) {
                        err = lexical_realloc(ctx, &mem_180341, &mem_180341_cached_sizze_182138, bytes_180340);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180344_cached_sizze_182139 < bytes_180343) {
                        err = lexical_realloc(ctx, &mem_180344, &mem_180344_cached_sizze_182139, bytes_180343);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180357_cached_sizze_182140 < block_sizze_176142) {
                        err = lexical_realloc(ctx, &mem_180357, &mem_180357_cached_sizze_182140, block_sizze_176142);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180359_cached_sizze_182141 < bytes_180358) {
                        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182141, bytes_180358);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180361_cached_sizze_182142 < bytes_180360) {
                        err = lexical_realloc(ctx, &mem_180361, &mem_180361_cached_sizze_182142, bytes_180360);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180053 = 0; i_180053 < smallest_pow_2_geq_than_res_176132; i_180053++) {
                        int64_t zp_lhs_176195 = mul64(block_sizze_176142, i_180053);
                        
                        for (int64_t i_180043 = 0; i_180043 < block_sizze_176142; i_180043++) {
                            int64_t k_176200 = add64(zp_lhs_176195, i_180043);
                            bool cond_176201 = slt64(k_176200, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                            int8_t lifted_lambda_res_176202;
                            int64_t lifted_lambda_res_176203;
                            int32_t lifted_lambda_res_176204;
                            
                            if (cond_176201) {
                                bool x_179462 = sle64((int64_t) 0, k_176200);
                                bool bounds_check_179463 = cond_176201 && x_179462;
                                bool index_certs_179464;
                                
                                if (!bounds_check_179463) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176200, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179465 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, k_176200);
                                int8_t index_concat_branch_179466 = btoi_bool_i8(index_concat_cmp_179465);
                                int64_t index_concat_branch_179467;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179468 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t index_primexp_179469 = add64(index_concat_branch_177651, index_concat_i_179468);
                                    
                                    index_concat_branch_179467 = index_primexp_179469;
                                } else {
                                    int64_t index_primexp_179470 = add64(k_176200, index_concat_branch_177657);
                                    
                                    index_concat_branch_179467 = index_primexp_179470;
                                }
                                
                                int32_t index_concat_branch_179471;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179472 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t slice_179473 = slice_177632 + index_concat_i_179472;
                                    int32_t index_concat_179474 = ((int32_t *) b_list_mem_180281.mem)[slice_179473];
                                    
                                    index_concat_branch_179471 = index_concat_179474;
                                } else {
                                    int64_t slice_179475 = k_176200 + slice_177633;
                                    int32_t index_concat_179476 = ((int32_t *) a_list_mem_180280.mem)[slice_179475];
                                    
                                    index_concat_branch_179471 = index_concat_179476;
                                }
                                lifted_lambda_res_176202 = index_concat_branch_179466;
                                lifted_lambda_res_176203 = index_concat_branch_179467;
                                lifted_lambda_res_176204 = index_concat_branch_179471;
                            } else {
                                lifted_lambda_res_176202 = defunc_0_reduce_res_179687;
                                lifted_lambda_res_176203 = defunc_0_reduce_res_179688;
                                lifted_lambda_res_176204 = defunc_0_reduce_res_179689;
                            }
                            ((int8_t *) mem_180357)[i_180043] = lifted_lambda_res_176202;
                            ((int64_t *) mem_180359)[i_180043] = lifted_lambda_res_176203;
                            ((int32_t *) mem_180361)[i_180043] = lifted_lambda_res_176204;
                        }
                        if (!cond_176184) {
                            for (int64_t i_176217 = 0; i_176217 < distance_176187; i_176217++) {
                                int64_t gt_arg1_176221 = add64((int64_t) 1, i_176217);
                                bool x_176222 = sle64((int64_t) 0, gt_arg1_176221);
                                bool y_176223 = slt64(gt_arg1_176221, block_sizze_176142);
                                bool bounds_check_176224 = x_176222 && y_176223;
                                bool index_certs_176225;
                                
                                if (!bounds_check_176224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176221, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176229 = slt64(i_176217, block_sizze_176142);
                                bool index_certs_176230;
                                
                                if (!y_176229) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176217, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176226 = ((int8_t *) mem_180357)[gt_arg1_176221];
                                int64_t gt_arg1_176227 = ((int64_t *) mem_180359)[gt_arg1_176221];
                                int32_t gt_arg1_176228 = ((int32_t *) mem_180361)[gt_arg1_176221];
                                int8_t gt_arg0_176231 = ((int8_t *) mem_180357)[i_176217];
                                int64_t gt_arg0_176232 = ((int64_t *) mem_180359)[i_176217];
                                int32_t gt_arg0_176233 = ((int32_t *) mem_180361)[i_176217];
                                bool cond_176234 = gt_arg0_176231 == gt_arg1_176226;
                                bool defunc_0_leq_res_t_res_176235 = sle64(gt_arg0_176232, gt_arg1_176227);
                                bool defunc_0_leq_res_176236 = sle32(gt_arg0_176233, gt_arg1_176228);
                                bool x_176237 = cond_176234 && defunc_0_leq_res_t_res_176235;
                                bool x_176238 = !cond_176234;
                                bool y_176239 = defunc_0_leq_res_176236 && x_176238;
                                bool defunc_0_leq_res_176240 = x_176237 || y_176239;
                                bool defunc_0_lifted_gt_res_176241 = !defunc_0_leq_res_176240;
                                bool s_176242;
                                int64_t s_176246;
                                bool loop_while_176247;
                                int64_t j_176251;
                                
                                loop_while_176247 = defunc_0_lifted_gt_res_176241;
                                j_176251 = i_176217;
                                while (loop_while_176247) {
                                    bool x_176252 = sle64((int64_t) 0, j_176251);
                                    bool y_176253 = slt64(j_176251, block_sizze_176142);
                                    bool bounds_check_176254 = x_176252 && y_176253;
                                    bool index_certs_176255;
                                    
                                    if (!bounds_check_176254) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176251, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176259 = add64((int64_t) 1, j_176251);
                                    bool x_176260 = sle64((int64_t) 0, copy_arg0_176259);
                                    bool y_176261 = slt64(copy_arg0_176259, block_sizze_176142);
                                    bool bounds_check_176262 = x_176260 && y_176261;
                                    bool index_certs_176263;
                                    
                                    if (!bounds_check_176262) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176259, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176256 = ((int8_t *) mem_180357)[j_176251];
                                    int64_t copy_arg0_176257 = ((int64_t *) mem_180359)[j_176251];
                                    int32_t copy_arg0_176258 = ((int32_t *) mem_180361)[j_176251];
                                    int8_t copy_arg0_176264 = ((int8_t *) mem_180357)[copy_arg0_176259];
                                    int64_t copy_arg0_176265 = ((int64_t *) mem_180359)[copy_arg0_176259];
                                    int32_t copy_arg0_176266 = ((int32_t *) mem_180361)[copy_arg0_176259];
                                    
                                    ((int8_t *) mem_180357)[j_176251] = copy_arg0_176264;
                                    ((int64_t *) mem_180359)[j_176251] = copy_arg0_176265;
                                    ((int32_t *) mem_180361)[j_176251] = copy_arg0_176266;
                                    ((int8_t *) mem_180357)[copy_arg0_176259] = copy_arg0_176256;
                                    ((int64_t *) mem_180359)[copy_arg0_176259] = copy_arg0_176257;
                                    ((int32_t *) mem_180361)[copy_arg0_176259] = copy_arg0_176258;
                                    
                                    int64_t tmp_176273 = sub64(j_176251, (int64_t) 1);
                                    bool cond_176274 = sle64((int64_t) 0, tmp_176273);
                                    bool loop_cond_176275;
                                    
                                    if (cond_176274) {
                                        bool y_179480 = slt64(tmp_176273, block_sizze_176142);
                                        bool bounds_check_179481 = cond_176274 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176273, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_180357)[j_176251];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_180359)[j_176251];
                                        int32_t gt_arg1_179479 = ((int32_t *) mem_180361)[j_176251];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_180357)[tmp_176273];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_180359)[tmp_176273];
                                        int32_t gt_arg0_179485 = ((int32_t *) mem_180361)[tmp_176273];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = sle32(gt_arg0_179485, gt_arg1_179479);
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_176275 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_176275 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181850 = loop_cond_176275;
                                    int64_t j_tmp_181854 = tmp_176273;
                                    
                                    loop_while_176247 = loop_while_tmp_181850;
                                    j_176251 = j_tmp_181854;
                                }
                                s_176242 = loop_while_176247;
                                s_176246 = j_176251;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180338, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180357, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180341, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180359, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180344, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180361, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                    }
                    if (memblock_alloc(ctx, &mem_180438, flat_dim_176143, "mem_180438")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180438.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint8_t *) mem_180338, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180442, bytes_180340, "mem_180442")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180442.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint64_t *) mem_180341, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180446, bytes_180343, "mem_180446")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_180446.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint32_t *) mem_180344, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    
                    int64_t data_176299;
                    bool data_176300;
                    int64_t data_176304;
                    int64_t loop_dz2084Uz2082U_176305;
                    bool loop_while_176306;
                    int64_t stride_176310;
                    
                    if (memblock_set(ctx, &mem_param_180450, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180453, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180456, &mem_180446, "mem_180446") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176305 = flat_dim_176143;
                    loop_while_176306 = loop_cond_176296;
                    stride_176310 = block_sizze_176142;
                    while (loop_while_176306) {
                        int64_t next_stride_176311 = mul64((int64_t) 2, stride_176310);
                        bool zzero_176312 = next_stride_176311 == (int64_t) 0;
                        bool nonzzero_176313 = !zzero_176312;
                        bool nonzzero_cert_176314;
                        
                        if (!nonzzero_176313) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176315 = sdiv64(flat_dim_176143, next_stride_176311);
                        bool bounds_invalid_upwards_176316 = slt64(num_merges_176315, (int64_t) 0);
                        bool valid_176317 = !bounds_invalid_upwards_176316;
                        bool range_valid_c_176318;
                        
                        if (!valid_176317) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176315, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176320 = sub64(next_stride_176311, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176321 = sle64((int64_t) 0, m_176320);
                        bool cond_176323 = slt64(next_stride_176311, (int64_t) 10);
                        bool protect_assert_disj_176324 = nonzzero_176298 || cond_176323;
                        bool nonzzero_cert_176325;
                        
                        if (!protect_assert_disj_176324) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176326 = smod_safe64(next_stride_176311, merge_block_sizze_176148);
                        bool num_blocks_176327 = zeze_lhs_176326 == (int64_t) 0;
                        bool protect_assert_disj_176328 = cond_176323 || num_blocks_176327;
                        bool assert_c_176329;
                        
                        if (!protect_assert_disj_176328) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176331 = sdiv_safe64(next_stride_176311, merge_block_sizze_176148);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332 = add64((int64_t) 1, num_blocks_176331);
                        int64_t j_m_i_176333 = sub64(next_stride_176311, stride_176310);
                        int64_t flat_dim_176334 = merge_block_sizze_176148 * num_blocks_176331;
                        bool bounds_invalid_upwards_176335 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, (int64_t) 0);
                        bool empty_slice_176336 = j_m_i_176333 == (int64_t) 0;
                        int64_t m_176337 = sub64(j_m_i_176333, (int64_t) 1);
                        bool zzero_lte_i_176338 = sle64((int64_t) 0, stride_176310);
                        bool i_lte_j_176339 = sle64(stride_176310, next_stride_176311);
                        bool empty_slice_176340 = stride_176310 == (int64_t) 0;
                        int64_t m_176341 = sub64(stride_176310, (int64_t) 1);
                        bool bounds_invalid_upwards_176342 = slt64(num_blocks_176331, (int64_t) 0);
                        bool cond_176343 = slt64((int64_t) 0, stride_176310);
                        bool valid_176344 = !bounds_invalid_upwards_176335;
                        int64_t i_p_m_t_s_176345 = add64(stride_176310, m_176337);
                        bool zzero_leq_i_p_m_t_s_176346 = sle64((int64_t) 0, m_176341);
                        bool i_p_m_t_s_leq_w_176347 = slt64(m_176341, next_stride_176311);
                        bool valid_176348 = !bounds_invalid_upwards_176342;
                        bool i_p_m_t_s_leq_w_176349 = slt64(m_176320, flat_dim_176334);
                        bool y_176350 = slt64((int64_t) 0, j_m_i_176333);
                        bool protect_assert_disj_176351 = cond_176323 || valid_176344;
                        bool range_valid_c_176352;
                        
                        if (!protect_assert_disj_176351) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176353 = sle64((int64_t) 0, i_p_m_t_s_176345);
                        bool i_p_m_t_s_leq_w_176354 = slt64(i_p_m_t_s_176345, next_stride_176311);
                        bool y_176355 = zzero_leq_i_p_m_t_s_176346 && i_p_m_t_s_leq_w_176347;
                        bool protect_assert_disj_176356 = cond_176323 || valid_176348;
                        bool range_valid_c_176357;
                        
                        if (!protect_assert_disj_176356) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176331, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176358 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176349;
                        bool y_176359 = zzero_lte_i_176338 && i_p_m_t_s_leq_w_176354;
                        bool forwards_ok_176360 = zzero_lte_i_176338 && y_176355;
                        bool ok_or_empty_176361 = zzero_176312 || y_176358;
                        bool protect_assert_disj_176362 = cond_176343 || y_176350;
                        bool y_176363 = zzero_leq_i_p_m_t_s_176353 && y_176359;
                        bool ok_or_empty_176364 = empty_slice_176340 || forwards_ok_176360;
                        bool protect_assert_disj_176365 = cond_176323 || ok_or_empty_176361;
                        bool index_certs_176366;
                        
                        if (!protect_assert_disj_176365) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) flat_dim_176334, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176367 = !cond_176323;
                        bool protect_assert_disj_176368 = protect_assert_disj_176362 || loop_not_taken_176367;
                        bool index_certs_176369;
                        
                        if (!protect_assert_disj_176368) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176370 = i_lte_j_176339 && y_176363;
                        bool protect_assert_disj_176371 = cond_176323 || ok_or_empty_176364;
                        bool index_certs_176372;
                        
                        if (!protect_assert_disj_176371) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176373 = ok_or_empty_176364 || loop_not_taken_176367;
                        bool index_certs_176374;
                        
                        if (!protect_assert_disj_176373) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176375 = empty_slice_176336 || forwards_ok_176370;
                        bool protect_assert_disj_176376 = cond_176323 || ok_or_empty_176375;
                        bool index_certs_176377;
                        
                        if (!protect_assert_disj_176376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176378 = loop_not_taken_176367 || ok_or_empty_176375;
                        bool index_certs_176379;
                        
                        if (!protect_assert_disj_176378) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180457 = next_stride_176311 * num_merges_176315;
                        int64_t binop_x_180459 = (int64_t) 8 * num_merges_176315;
                        int64_t bytes_180460 = next_stride_176311 * binop_x_180459;
                        int64_t binop_x_180462 = (int64_t) 4 * num_merges_176315;
                        int64_t bytes_180463 = next_stride_176311 * binop_x_180462;
                        bool i_lte_j_176322 = sle64((int64_t) 0, next_stride_176311);
                        
                        if (mem_180458_cached_sizze_182143 < bytes_180457) {
                            err = lexical_realloc(ctx, &mem_180458, &mem_180458_cached_sizze_182143, bytes_180457);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180461_cached_sizze_182144 < bytes_180460) {
                            err = lexical_realloc(ctx, &mem_180461, &mem_180461_cached_sizze_182144, bytes_180460);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180464_cached_sizze_182145 < bytes_180463) {
                            err = lexical_realloc(ctx, &mem_180464, &mem_180464_cached_sizze_182145, bytes_180463);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180477 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332;
                        int64_t binop_x_180495 = (int64_t) 8 * num_blocks_176331;
                        int64_t bytes_180496 = merge_block_sizze_176148 * binop_x_180495;
                        int64_t binop_x_180498 = (int64_t) 4 * num_blocks_176331;
                        int64_t bytes_180499 = merge_block_sizze_176148 * binop_x_180498;
                        int64_t bytes_180560 = (int64_t) 16 * stride_176310;
                        int64_t bytes_180562 = (int64_t) 8 * stride_176310;
                        
                        for (int64_t i_180080 = 0; i_180080 < num_merges_176315; i_180080++) {
                            int64_t start_176384 = mul64(next_stride_176311, i_180080);
                            int64_t j_m_i_176385 = sub64(loop_dz2084Uz2082U_176305, start_176384);
                            bool empty_slice_176386 = j_m_i_176385 == (int64_t) 0;
                            int64_t m_176387 = sub64(j_m_i_176385, (int64_t) 1);
                            int64_t i_p_m_t_s_176388 = add64(start_176384, m_176387);
                            bool zzero_leq_i_p_m_t_s_176389 = sle64((int64_t) 0, i_p_m_t_s_176388);
                            bool i_p_m_t_s_leq_w_176390 = slt64(i_p_m_t_s_176388, loop_dz2084Uz2082U_176305);
                            bool zzero_lte_i_176391 = sle64((int64_t) 0, start_176384);
                            bool i_lte_j_176392 = sle64(start_176384, loop_dz2084Uz2082U_176305);
                            bool y_176393 = i_p_m_t_s_leq_w_176390 && zzero_lte_i_176391;
                            bool y_176394 = zzero_leq_i_p_m_t_s_176389 && y_176393;
                            bool forwards_ok_176395 = i_lte_j_176392 && y_176394;
                            bool ok_or_empty_176396 = empty_slice_176386 || forwards_ok_176395;
                            bool index_certs_176397;
                            
                            if (!ok_or_empty_176396) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176384, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176305, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176398 = slt64(m_176320, j_m_i_176385);
                            bool y_176399 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176398;
                            bool forwards_ok_176400 = i_lte_j_176322 && y_176399;
                            bool ok_or_empty_176401 = zzero_176312 || forwards_ok_176400;
                            bool index_certs_176402;
                            
                            if (!ok_or_empty_176401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) j_m_i_176385, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176323) {
                                int8_t dummy_179532;
                                int64_t dummy_179533;
                                int32_t dummy_179534;
                                
                                if (cond_176343) {
                                    int8_t head_res_179535 = ((int8_t *) mem_param_180450.mem)[start_176384];
                                    int64_t head_res_179536 = ((int64_t *) mem_param_180453.mem)[start_176384];
                                    int32_t head_res_179537 = ((int32_t *) mem_param_180456.mem)[start_176384];
                                    
                                    dummy_179532 = head_res_179535;
                                    dummy_179533 = head_res_179536;
                                    dummy_179534 = head_res_179537;
                                } else {
                                    int64_t slice_179538 = stride_176310 + start_176384;
                                    int8_t head_res_179539 = ((int8_t *) mem_param_180450.mem)[slice_179538];
                                    int64_t head_res_179540 = ((int64_t *) mem_param_180453.mem)[slice_179538];
                                    int32_t head_res_179541 = ((int32_t *) mem_param_180456.mem)[slice_179538];
                                    
                                    dummy_179532 = head_res_179539;
                                    dummy_179533 = head_res_179540;
                                    dummy_179534 = head_res_179541;
                                }
                                if (memblock_alloc(ctx, &mem_180559, next_stride_176311, "mem_180559")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181867 = 0; nest_i_181867 < next_stride_176311; nest_i_181867++) {
                                    ((int8_t *) mem_180559.mem)[nest_i_181867] = dummy_179532;
                                }
                                if (memblock_alloc(ctx, &mem_180561, bytes_180560, "mem_180561")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181868 = 0; nest_i_181868 < next_stride_176311; nest_i_181868++) {
                                    ((int64_t *) mem_180561.mem)[nest_i_181868] = dummy_179533;
                                }
                                if (memblock_alloc(ctx, &mem_180563, bytes_180562, "mem_180563")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181869 = 0; nest_i_181869 < next_stride_176311; nest_i_181869++) {
                                    ((int32_t *) mem_180563.mem)[nest_i_181869] = dummy_179534;
                                }
                                
                                int64_t data_179545;
                                int64_t i_179550 = (int64_t) 0;
                                
                                for (int64_t k_179549 = 0; k_179549 < next_stride_176311; k_179549++) {
                                    int64_t j_179554 = sub64(k_179549, i_179550);
                                    bool cond_179555 = j_179554 == j_m_i_176333;
                                    bool cond_179556;
                                    
                                    if (cond_179555) {
                                        cond_179556 = 1;
                                    } else {
                                        bool cond_179557 = slt64(i_179550, stride_176310);
                                        bool cond_f_res_179558;
                                        
                                        if (cond_179557) {
                                            bool x_179559 = sle64((int64_t) 0, j_179554);
                                            bool y_179560 = slt64(j_179554, j_m_i_176333);
                                            bool bounds_check_179561 = x_179559 && y_179560;
                                            bool index_certs_179562;
                                            
                                            if (!bounds_check_179561) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179568 = sle64((int64_t) 0, i_179550);
                                            bool bounds_check_179569 = cond_179557 && x_179568;
                                            bool index_certs_179570;
                                            
                                            if (!bounds_check_179569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179563 = stride_176310 + j_179554;
                                            int64_t slice_179564 = start_176384 + slice_179563;
                                            int8_t leq_arg1_179565 = ((int8_t *) mem_param_180450.mem)[slice_179564];
                                            int64_t leq_arg1_179566 = ((int64_t *) mem_param_180453.mem)[slice_179564];
                                            int32_t leq_arg1_179567 = ((int32_t *) mem_param_180456.mem)[slice_179564];
                                            int64_t slice_179571 = start_176384 + i_179550;
                                            int8_t leq_arg0_179572 = ((int8_t *) mem_param_180450.mem)[slice_179571];
                                            int64_t leq_arg0_179573 = ((int64_t *) mem_param_180453.mem)[slice_179571];
                                            int32_t leq_arg0_179574 = ((int32_t *) mem_param_180456.mem)[slice_179571];
                                            bool cond_179575 = leq_arg0_179572 == leq_arg1_179565;
                                            bool defunc_0_leq_res_t_res_179576 = sle64(leq_arg0_179573, leq_arg1_179566);
                                            bool defunc_0_leq_res_179577 = sle32(leq_arg0_179574, leq_arg1_179567);
                                            bool x_179578 = cond_179575 && defunc_0_leq_res_t_res_179576;
                                            bool x_179579 = !cond_179575;
                                            bool y_179580 = defunc_0_leq_res_179577 && x_179579;
                                            bool defunc_0_leq_res_179581 = x_179578 || y_179580;
                                            
                                            cond_f_res_179558 = defunc_0_leq_res_179581;
                                        } else {
                                            cond_f_res_179558 = 0;
                                        }
                                        cond_179556 = cond_f_res_179558;
                                    }
                                    
                                    int64_t loopres_179582;
                                    int8_t loopres_179583;
                                    int64_t loopres_179584;
                                    int32_t loopres_179585;
                                    
                                    if (cond_179556) {
                                        bool x_179587 = sle64((int64_t) 0, i_179550);
                                        bool y_179588 = slt64(i_179550, stride_176310);
                                        bool bounds_check_179589 = x_179587 && y_179588;
                                        bool index_certs_179590;
                                        
                                        if (!bounds_check_179589) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179586 = add64((int64_t) 1, i_179550);
                                        int64_t slice_179591 = start_176384 + i_179550;
                                        int8_t tmp_179592 = ((int8_t *) mem_param_180450.mem)[slice_179591];
                                        int64_t tmp_179593 = ((int64_t *) mem_param_180453.mem)[slice_179591];
                                        int32_t tmp_179594 = ((int32_t *) mem_param_180456.mem)[slice_179591];
                                        
                                        loopres_179582 = tmp_179586;
                                        loopres_179583 = tmp_179592;
                                        loopres_179584 = tmp_179593;
                                        loopres_179585 = tmp_179594;
                                    } else {
                                        bool x_179595 = sle64((int64_t) 0, j_179554);
                                        bool y_179596 = slt64(j_179554, j_m_i_176333);
                                        bool bounds_check_179597 = x_179595 && y_179596;
                                        bool index_certs_179598;
                                        
                                        if (!bounds_check_179597) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179599 = stride_176310 + j_179554;
                                        int64_t slice_179600 = start_176384 + slice_179599;
                                        int8_t tmp_179601 = ((int8_t *) mem_param_180450.mem)[slice_179600];
                                        int64_t tmp_179602 = ((int64_t *) mem_param_180453.mem)[slice_179600];
                                        int32_t tmp_179603 = ((int32_t *) mem_param_180456.mem)[slice_179600];
                                        
                                        loopres_179582 = i_179550;
                                        loopres_179583 = tmp_179601;
                                        loopres_179584 = tmp_179602;
                                        loopres_179585 = tmp_179603;
                                    }
                                    ((int8_t *) mem_180559.mem)[k_179549] = loopres_179583;
                                    ((int64_t *) mem_180561.mem)[k_179549] = loopres_179584;
                                    ((int32_t *) mem_180563.mem)[k_179549] = loopres_179585;
                                    
                                    int64_t i_tmp_181870 = loopres_179582;
                                    
                                    i_179550 = i_tmp_181870;
                                }
                                data_179545 = i_179550;
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180559, "mem_180559") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180561, "mem_180561") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180563, "mem_180563") != 0)
                                    return 1;
                            } else {
                                if (mem_180478_cached_sizze_182146 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180478, &mem_180478_cached_sizze_182146, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180480_cached_sizze_182147 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180480, &mem_180480_cached_sizze_182147, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180061 = 0; i_180061 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332; i_180061++) {
                                    int64_t split_count_arg3_176485 = mul64(merge_block_sizze_176148, i_180061);
                                    int64_t defunc_0_split_count_res_176486;
                                    int64_t defunc_0_split_count_res_176487;
                                    int64_t defunc_0_split_count_res_176488;
                                    int64_t defunc_0_split_count_res_176489;
                                    int64_t defunc_0_split_count_res_176490;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_176486, &defunc_0_split_count_res_176487, &defunc_0_split_count_res_176488, &defunc_0_split_count_res_176489, &defunc_0_split_count_res_176490, (int64_t) 0, stride_176310, (int64_t) 0, j_m_i_176333, split_count_arg3_176485) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176491 = slt64((int64_t) 0, defunc_0_split_count_res_176490);
                                    bool defunc_0_split_count_res_176492;
                                    int64_t defunc_0_split_count_res_176493;
                                    int64_t defunc_0_split_count_res_176494;
                                    int64_t defunc_0_split_count_res_176495;
                                    int64_t defunc_0_split_count_res_176496;
                                    int64_t defunc_0_split_count_res_176497;
                                    bool loop_while_176498;
                                    int64_t ss_176499;
                                    int64_t ss_176500;
                                    int64_t tt_176501;
                                    int64_t tt_176502;
                                    int64_t count_176503;
                                    
                                    loop_while_176498 = loop_cond_176491;
                                    ss_176499 = defunc_0_split_count_res_176486;
                                    ss_176500 = defunc_0_split_count_res_176487;
                                    tt_176501 = defunc_0_split_count_res_176488;
                                    tt_176502 = defunc_0_split_count_res_176489;
                                    count_176503 = defunc_0_split_count_res_176490;
                                    while (loop_while_176498) {
                                        int64_t zlze_lhs_176504 = sub64(ss_176500, ss_176499);
                                        bool cond_176505 = sle64(zlze_lhs_176504, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176506;
                                        int64_t defunc_0_lifted_step_res_176507;
                                        int64_t defunc_0_lifted_step_res_176508;
                                        int64_t defunc_0_lifted_step_res_176509;
                                        
                                        if (cond_176505) {
                                            int64_t tmp_179607 = add64(tt_176501, count_176503);
                                            
                                            defunc_0_lifted_step_res_176506 = ss_176499;
                                            defunc_0_lifted_step_res_176507 = tmp_179607;
                                            defunc_0_lifted_step_res_176508 = tt_176502;
                                            defunc_0_lifted_step_res_176509 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176511 = sub64(tt_176502, tt_176501);
                                            bool cond_176512 = sle64(zlze_lhs_176511, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176513;
                                            int64_t defunc_0_lifted_step_res_f_res_176514;
                                            int64_t defunc_0_lifted_step_res_f_res_176515;
                                            int64_t defunc_0_lifted_step_res_f_res_176516;
                                            
                                            if (cond_176512) {
                                                int64_t tmp_179608 = add64(ss_176499, count_176503);
                                                
                                                defunc_0_lifted_step_res_f_res_176513 = tmp_179608;
                                                defunc_0_lifted_step_res_f_res_176514 = tt_176501;
                                                defunc_0_lifted_step_res_f_res_176515 = tt_176502;
                                                defunc_0_lifted_step_res_f_res_176516 = (int64_t) 0;
                                            } else {
                                                bool cond_176518 = count_176503 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176519;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176520;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176521;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176522;
                                                
                                                if (cond_176518) {
                                                    bool x_179610 = sle64((int64_t) 0, ss_176499);
                                                    bool y_179611 = slt64(ss_176499, stride_176310);
                                                    bool bounds_check_179612 = x_179610 && y_179611;
                                                    bool index_certs_179613;
                                                    
                                                    if (!bounds_check_179612) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176499, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179618 = sle64((int64_t) 0, tt_176501);
                                                    bool y_179619 = slt64(tt_176501, j_m_i_176333);
                                                    bool bounds_check_179620 = x_179618 && y_179619;
                                                    bool index_certs_179621;
                                                    
                                                    if (!bounds_check_179620) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176501, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179614 = start_176384 + ss_176499;
                                                    int8_t leq_arg1_179615 = ((int8_t *) mem_param_180450.mem)[slice_179614];
                                                    int64_t leq_arg1_179616 = ((int64_t *) mem_param_180453.mem)[slice_179614];
                                                    int32_t leq_arg1_179617 = ((int32_t *) mem_param_180456.mem)[slice_179614];
                                                    int64_t slice_179622 = stride_176310 + tt_176501;
                                                    int64_t slice_179623 = start_176384 + slice_179622;
                                                    int8_t leq_arg0_179624 = ((int8_t *) mem_param_180450.mem)[slice_179623];
                                                    int64_t leq_arg0_179625 = ((int64_t *) mem_param_180453.mem)[slice_179623];
                                                    int32_t leq_arg0_179626 = ((int32_t *) mem_param_180456.mem)[slice_179623];
                                                    bool cond_179627 = leq_arg0_179624 == leq_arg1_179615;
                                                    bool defunc_0_leq_res_t_res_179628 = sle64(leq_arg0_179625, leq_arg1_179616);
                                                    bool defunc_0_leq_res_179629 = sle32(leq_arg0_179626, leq_arg1_179617);
                                                    bool x_179630 = cond_179627 && defunc_0_leq_res_t_res_179628;
                                                    bool x_179631 = !cond_179627;
                                                    bool y_179632 = defunc_0_leq_res_179629 && x_179631;
                                                    bool defunc_0_leq_res_179633 = x_179630 || y_179632;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    
                                                    if (defunc_0_leq_res_179633) {
                                                        int64_t tmp_179636 = add64((int64_t) 1, tt_176501);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = ss_176499;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tmp_179636;
                                                    } else {
                                                        int64_t tmp_179637 = add64((int64_t) 1, ss_176499);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = tmp_179637;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tt_176501;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = tt_176502;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176551 = sdiv64(count_176503, (int64_t) 2);
                                                    int64_t n_176552 = sub64(count_176503, m_176551);
                                                    bool cond_176553 = n_176552 == (int64_t) 0;
                                                    int64_t zgze_lhs_176554 = add64(ss_176499, m_176551);
                                                    bool cond_f_res_176555 = sle64(ss_176500, zgze_lhs_176554);
                                                    bool x_176556 = !cond_176553;
                                                    bool y_176557 = cond_f_res_176555 && x_176556;
                                                    bool cond_176558 = cond_176553 || y_176557;
                                                    bool leq_y_x_176559;
                                                    
                                                    if (cond_176558) {
                                                        leq_y_x_176559 = 1;
                                                    } else {
                                                        bool x_176560 = sle64((int64_t) 0, zgze_lhs_176554);
                                                        bool y_176561 = slt64(zgze_lhs_176554, stride_176310);
                                                        bool bounds_check_176562 = x_176560 && y_176561;
                                                        bool index_certs_176563;
                                                        
                                                        if (!bounds_check_176562) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176554, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176568 = add64(tt_176501, n_176552);
                                                        int64_t leq_arg0_176569 = sub64(zm_lhs_176568, (int64_t) 1);
                                                        bool x_176570 = sle64((int64_t) 0, leq_arg0_176569);
                                                        bool y_176571 = slt64(leq_arg0_176569, j_m_i_176333);
                                                        bool bounds_check_176572 = x_176570 && y_176571;
                                                        bool index_certs_176573;
                                                        
                                                        if (!bounds_check_176572) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176569, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176564 = start_176384 + zgze_lhs_176554;
                                                        int8_t leq_arg1_176565 = ((int8_t *) mem_param_180450.mem)[slice_176564];
                                                        int64_t leq_arg1_176566 = ((int64_t *) mem_param_180453.mem)[slice_176564];
                                                        int32_t leq_arg1_176567 = ((int32_t *) mem_param_180456.mem)[slice_176564];
                                                        int64_t slice_176574 = stride_176310 + leq_arg0_176569;
                                                        int64_t slice_176575 = start_176384 + slice_176574;
                                                        int8_t leq_arg0_176576 = ((int8_t *) mem_param_180450.mem)[slice_176575];
                                                        int64_t leq_arg0_176577 = ((int64_t *) mem_param_180453.mem)[slice_176575];
                                                        int32_t leq_arg0_176578 = ((int32_t *) mem_param_180456.mem)[slice_176575];
                                                        bool cond_176579 = leq_arg0_176576 == leq_arg1_176565;
                                                        bool defunc_0_leq_res_t_res_176580 = sle64(leq_arg0_176577, leq_arg1_176566);
                                                        bool defunc_0_leq_res_176581 = sle32(leq_arg0_176578, leq_arg1_176567);
                                                        bool x_176582 = cond_176579 && defunc_0_leq_res_t_res_176580;
                                                        bool x_176583 = !cond_176579;
                                                        bool y_176584 = defunc_0_leq_res_176581 && x_176583;
                                                        bool defunc_0_leq_res_176585 = x_176582 || y_176584;
                                                        
                                                        leq_y_x_176559 = defunc_0_leq_res_176585;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                    
                                                    if (leq_y_x_176559) {
                                                        int64_t tmp_179638 = add64(tt_176501, n_176552);
                                                        int64_t tmp_179639 = sub64(count_176503, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tmp_179638;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tt_176502;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = tmp_179639;
                                                    } else {
                                                        int64_t tmp_176591 = add64(tt_176501, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tt_176501;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tmp_176591;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = count_176503;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = ss_176499;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                }
                                                defunc_0_lifted_step_res_f_res_176513 = defunc_0_lifted_step_res_f_res_f_res_176519;
                                                defunc_0_lifted_step_res_f_res_176514 = defunc_0_lifted_step_res_f_res_f_res_176520;
                                                defunc_0_lifted_step_res_f_res_176515 = defunc_0_lifted_step_res_f_res_f_res_176521;
                                                defunc_0_lifted_step_res_f_res_176516 = defunc_0_lifted_step_res_f_res_f_res_176522;
                                            }
                                            defunc_0_lifted_step_res_176506 = defunc_0_lifted_step_res_f_res_176513;
                                            defunc_0_lifted_step_res_176507 = defunc_0_lifted_step_res_f_res_176514;
                                            defunc_0_lifted_step_res_176508 = defunc_0_lifted_step_res_f_res_176515;
                                            defunc_0_lifted_step_res_176509 = defunc_0_lifted_step_res_f_res_176516;
                                        }
                                        
                                        int64_t loopres_176592;
                                        int64_t loopres_176593;
                                        int64_t loopres_176594;
                                        int64_t loopres_176595;
                                        int64_t loopres_176596;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_176592, &loopres_176593, &loopres_176594, &loopres_176595, &loopres_176596, defunc_0_lifted_step_res_176506, ss_176500, defunc_0_lifted_step_res_176507, defunc_0_lifted_step_res_176508, defunc_0_lifted_step_res_176509) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176597 = slt64((int64_t) 0, loopres_176596);
                                        bool loop_while_tmp_181876 = loop_cond_176597;
                                        int64_t ss_tmp_181877 = loopres_176592;
                                        int64_t ss_tmp_181878 = loopres_176593;
                                        int64_t tt_tmp_181879 = loopres_176594;
                                        int64_t tt_tmp_181880 = loopres_176595;
                                        int64_t count_tmp_181881 = loopres_176596;
                                        
                                        loop_while_176498 = loop_while_tmp_181876;
                                        ss_176499 = ss_tmp_181877;
                                        ss_176500 = ss_tmp_181878;
                                        tt_176501 = tt_tmp_181879;
                                        tt_176502 = tt_tmp_181880;
                                        count_176503 = count_tmp_181881;
                                    }
                                    defunc_0_split_count_res_176492 = loop_while_176498;
                                    defunc_0_split_count_res_176493 = ss_176499;
                                    defunc_0_split_count_res_176494 = ss_176500;
                                    defunc_0_split_count_res_176495 = tt_176501;
                                    defunc_0_split_count_res_176496 = tt_176502;
                                    defunc_0_split_count_res_176497 = count_176503;
                                    ((int64_t *) mem_180478)[i_180061] = defunc_0_split_count_res_176493;
                                    ((int64_t *) mem_180480)[i_180061] = defunc_0_split_count_res_176495;
                                }
                                if (mem_180494_cached_sizze_182148 < flat_dim_176334) {
                                    err = lexical_realloc(ctx, &mem_180494, &mem_180494_cached_sizze_182148, flat_dim_176334);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180497_cached_sizze_182149 < bytes_180496) {
                                    err = lexical_realloc(ctx, &mem_180497, &mem_180497_cached_sizze_182149, bytes_180496);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180500_cached_sizze_182150 < bytes_180499) {
                                    err = lexical_realloc(ctx, &mem_180500, &mem_180500_cached_sizze_182150, bytes_180499);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180070 = 0; i_180070 < num_blocks_176331; i_180070++) {
                                    bool y_176604 = slt64(i_180070, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool index_certs_176606;
                                    
                                    if (!y_176604) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176607 = ((int64_t *) mem_180478)[i_180070];
                                    int64_t defunc_0_f_res_176608 = ((int64_t *) mem_180480)[i_180070];
                                    int64_t tmp_176609 = add64((int64_t) 1, i_180070);
                                    bool x_176610 = sle64((int64_t) 0, tmp_176609);
                                    bool y_176611 = slt64(tmp_176609, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool bounds_check_176612 = x_176610 && y_176611;
                                    bool index_certs_176613;
                                    
                                    if (!bounds_check_176612) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176609, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176614 = ((int64_t *) mem_180478)[tmp_176609];
                                    int64_t defunc_0_f_res_176615 = ((int64_t *) mem_180480)[tmp_176609];
                                    int64_t merge_sequential_arg2_176616 = add64(stride_176310, defunc_0_f_res_176608);
                                    int64_t merge_sequential_arg2_176617 = add64(stride_176310, defunc_0_f_res_176615);
                                    int64_t j_m_i_176618 = sub64(merge_sequential_arg2_176617, merge_sequential_arg2_176616);
                                    bool empty_slice_176619 = j_m_i_176618 == (int64_t) 0;
                                    int64_t m_176620 = sub64(j_m_i_176618, (int64_t) 1);
                                    int64_t i_p_m_t_s_176621 = add64(merge_sequential_arg2_176616, m_176620);
                                    bool zzero_leq_i_p_m_t_s_176622 = sle64((int64_t) 0, i_p_m_t_s_176621);
                                    bool i_p_m_t_s_leq_w_176623 = slt64(i_p_m_t_s_176621, next_stride_176311);
                                    bool zzero_lte_i_176624 = sle64((int64_t) 0, merge_sequential_arg2_176616);
                                    bool i_lte_j_176625 = sle64(merge_sequential_arg2_176616, merge_sequential_arg2_176617);
                                    bool y_176626 = i_p_m_t_s_leq_w_176623 && zzero_lte_i_176624;
                                    bool y_176627 = zzero_leq_i_p_m_t_s_176622 && y_176626;
                                    bool forwards_ok_176628 = i_lte_j_176625 && y_176627;
                                    bool ok_or_empty_176629 = empty_slice_176619 || forwards_ok_176628;
                                    bool index_certs_176630;
                                    
                                    if (!ok_or_empty_176629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176616, ":", (long long) merge_sequential_arg2_176617, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176631 = sub64(defunc_0_f_res_176614, defunc_0_f_res_176607);
                                    bool empty_slice_176632 = j_m_i_176631 == (int64_t) 0;
                                    int64_t m_176633 = sub64(j_m_i_176631, (int64_t) 1);
                                    int64_t i_p_m_t_s_176634 = add64(defunc_0_f_res_176607, m_176633);
                                    bool zzero_leq_i_p_m_t_s_176635 = sle64((int64_t) 0, i_p_m_t_s_176634);
                                    bool i_p_m_t_s_leq_w_176636 = slt64(i_p_m_t_s_176634, next_stride_176311);
                                    bool zzero_lte_i_176637 = sle64((int64_t) 0, defunc_0_f_res_176607);
                                    bool i_lte_j_176638 = sle64(defunc_0_f_res_176607, defunc_0_f_res_176614);
                                    bool y_176639 = i_p_m_t_s_leq_w_176636 && zzero_lte_i_176637;
                                    bool y_176640 = zzero_leq_i_p_m_t_s_176635 && y_176639;
                                    bool forwards_ok_176641 = i_lte_j_176638 && y_176640;
                                    bool ok_or_empty_176642 = empty_slice_176632 || forwards_ok_176641;
                                    bool index_certs_176643;
                                    
                                    if (!ok_or_empty_176642) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176607, ":", (long long) defunc_0_f_res_176614, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176644 = slt64((int64_t) 0, j_m_i_176631);
                                    int8_t dummy_176645;
                                    int64_t dummy_176646;
                                    int32_t dummy_176647;
                                    
                                    if (cond_176644) {
                                        bool index_certs_179640;
                                        
                                        if (!cond_176644) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179641 = start_176384 + defunc_0_f_res_176607;
                                        int8_t head_res_179642 = ((int8_t *) mem_param_180450.mem)[slice_179641];
                                        int64_t head_res_179643 = ((int64_t *) mem_param_180453.mem)[slice_179641];
                                        int32_t head_res_179644 = ((int32_t *) mem_param_180456.mem)[slice_179641];
                                        
                                        dummy_176645 = head_res_179642;
                                        dummy_176646 = head_res_179643;
                                        dummy_176647 = head_res_179644;
                                    } else {
                                        bool y_176653 = slt64((int64_t) 0, j_m_i_176618);
                                        bool index_certs_176654;
                                        
                                        if (!y_176653) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176655 = start_176384 + merge_sequential_arg2_176616;
                                        int8_t head_res_176656 = ((int8_t *) mem_param_180450.mem)[slice_176655];
                                        int64_t head_res_176657 = ((int64_t *) mem_param_180453.mem)[slice_176655];
                                        int32_t head_res_176658 = ((int32_t *) mem_param_180456.mem)[slice_176655];
                                        
                                        dummy_176645 = head_res_176656;
                                        dummy_176646 = head_res_176657;
                                        dummy_176647 = head_res_176658;
                                    }
                                    for (int64_t nest_i_181885 = 0; nest_i_181885 < merge_block_sizze_176148; nest_i_181885++) {
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + nest_i_181885] = dummy_176645;
                                    }
                                    for (int64_t nest_i_181886 = 0; nest_i_181886 < merge_block_sizze_176148; nest_i_181886++) {
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + nest_i_181886] = dummy_176646;
                                    }
                                    for (int64_t nest_i_181887 = 0; nest_i_181887 < merge_block_sizze_176148; nest_i_181887++) {
                                        ((int32_t *) mem_180500)[i_180070 * merge_block_sizze_176148 + nest_i_181887] = dummy_176647;
                                    }
                                    
                                    int64_t data_176662;
                                    int64_t i_176667 = (int64_t) 0;
                                    
                                    for (int64_t k_176666 = 0; k_176666 < merge_block_sizze_176148; k_176666++) {
                                        int64_t j_176671 = sub64(k_176666, i_176667);
                                        bool cond_176672 = j_176671 == j_m_i_176618;
                                        bool cond_176673;
                                        
                                        if (cond_176672) {
                                            cond_176673 = 1;
                                        } else {
                                            bool cond_176674 = slt64(i_176667, j_m_i_176631);
                                            bool cond_f_res_176675;
                                            
                                            if (cond_176674) {
                                                bool x_179645 = sle64((int64_t) 0, j_176671);
                                                bool y_179646 = slt64(j_176671, j_m_i_176618);
                                                bool bounds_check_179647 = x_179645 && y_179646;
                                                bool index_certs_179648;
                                                
                                                if (!bounds_check_179647) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179654 = sle64((int64_t) 0, i_176667);
                                                bool bounds_check_179655 = cond_176674 && x_179654;
                                                bool index_certs_179656;
                                                
                                                if (!bounds_check_179655) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179649 = merge_sequential_arg2_176616 + j_176671;
                                                int64_t slice_179650 = start_176384 + slice_179649;
                                                int8_t leq_arg1_179651 = ((int8_t *) mem_param_180450.mem)[slice_179650];
                                                int64_t leq_arg1_179652 = ((int64_t *) mem_param_180453.mem)[slice_179650];
                                                int32_t leq_arg1_179653 = ((int32_t *) mem_param_180456.mem)[slice_179650];
                                                int64_t slice_179657 = defunc_0_f_res_176607 + i_176667;
                                                int64_t slice_179658 = start_176384 + slice_179657;
                                                int8_t leq_arg0_179659 = ((int8_t *) mem_param_180450.mem)[slice_179658];
                                                int64_t leq_arg0_179660 = ((int64_t *) mem_param_180453.mem)[slice_179658];
                                                int32_t leq_arg0_179661 = ((int32_t *) mem_param_180456.mem)[slice_179658];
                                                bool cond_179662 = leq_arg0_179659 == leq_arg1_179651;
                                                bool defunc_0_leq_res_t_res_179663 = sle64(leq_arg0_179660, leq_arg1_179652);
                                                bool defunc_0_leq_res_179664 = sle32(leq_arg0_179661, leq_arg1_179653);
                                                bool x_179665 = cond_179662 && defunc_0_leq_res_t_res_179663;
                                                bool x_179666 = !cond_179662;
                                                bool y_179667 = defunc_0_leq_res_179664 && x_179666;
                                                bool defunc_0_leq_res_179668 = x_179665 || y_179667;
                                                
                                                cond_f_res_176675 = defunc_0_leq_res_179668;
                                            } else {
                                                cond_f_res_176675 = 0;
                                            }
                                            cond_176673 = cond_f_res_176675;
                                        }
                                        
                                        int64_t loopres_176700;
                                        int8_t loopres_176701;
                                        int64_t loopres_176702;
                                        int32_t loopres_176703;
                                        
                                        if (cond_176673) {
                                            bool x_179670 = sle64((int64_t) 0, i_176667);
                                            bool y_179671 = slt64(i_176667, j_m_i_176631);
                                            bool bounds_check_179672 = x_179670 && y_179671;
                                            bool index_certs_179673;
                                            
                                            if (!bounds_check_179672) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179669 = add64((int64_t) 1, i_176667);
                                            int64_t slice_179674 = defunc_0_f_res_176607 + i_176667;
                                            int64_t slice_179675 = start_176384 + slice_179674;
                                            int8_t tmp_179676 = ((int8_t *) mem_param_180450.mem)[slice_179675];
                                            int64_t tmp_179677 = ((int64_t *) mem_param_180453.mem)[slice_179675];
                                            int32_t tmp_179678 = ((int32_t *) mem_param_180456.mem)[slice_179675];
                                            
                                            loopres_176700 = tmp_179669;
                                            loopres_176701 = tmp_179676;
                                            loopres_176702 = tmp_179677;
                                            loopres_176703 = tmp_179678;
                                        } else {
                                            bool x_176714 = sle64((int64_t) 0, j_176671);
                                            bool y_176715 = slt64(j_176671, j_m_i_176618);
                                            bool bounds_check_176716 = x_176714 && y_176715;
                                            bool index_certs_176717;
                                            
                                            if (!bounds_check_176716) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176718 = merge_sequential_arg2_176616 + j_176671;
                                            int64_t slice_176719 = start_176384 + slice_176718;
                                            int8_t tmp_176720 = ((int8_t *) mem_param_180450.mem)[slice_176719];
                                            int64_t tmp_176721 = ((int64_t *) mem_param_180453.mem)[slice_176719];
                                            int32_t tmp_176722 = ((int32_t *) mem_param_180456.mem)[slice_176719];
                                            
                                            loopres_176700 = i_176667;
                                            loopres_176701 = tmp_176720;
                                            loopres_176702 = tmp_176721;
                                            loopres_176703 = tmp_176722;
                                        }
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176701;
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176702;
                                        ((int32_t *) mem_180500)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176703;
                                        
                                        int64_t i_tmp_181888 = loopres_176700;
                                        
                                        i_176667 = i_tmp_181888;
                                    }
                                    data_176662 = i_176667;
                                }
                                if (memblock_alloc(ctx, &mem_180549, flat_dim_176334, "mem_180549")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180549.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint8_t *) mem_180494, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180553, bytes_180496, "mem_180553")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180553.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint64_t *) mem_180497, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180557, bytes_180499, "mem_180557")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_180557.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint32_t *) mem_180500, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180549, "mem_180549") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180553, "mem_180553") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180557, "mem_180557") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180458, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180590.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180461, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180587.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180464, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180584.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180604, bytes_180457, "mem_180604")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180604.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint8_t *) mem_180458, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180608, bytes_180460, "mem_180608")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180608.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint64_t *) mem_180461, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180612, bytes_180463, "mem_180612")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_180612.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint32_t *) mem_180464, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        
                        bool loop_cond_176736 = slt64(next_stride_176311, flat_dim_176143);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181855, &mem_180604, "mem_180604") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181856, &mem_180608, "mem_180608") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181857, &mem_180612, "mem_180612") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181858 = bytes_180457;
                        bool loop_while_tmp_181859 = loop_cond_176736;
                        int64_t stride_tmp_181863 = next_stride_176311;
                        
                        if (memblock_set(ctx, &mem_param_180450, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180453, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180456, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176305 = loop_dz2084Uz2082U_tmp_181858;
                        loop_while_176306 = loop_while_tmp_181859;
                        stride_176310 = stride_tmp_181863;
                    }
                    if (memblock_set(ctx, &ext_mem_180622, &mem_param_180450, "mem_param_180450") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180621, &mem_param_180453, "mem_param_180453") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180620, &mem_param_180456, "mem_param_180456") != 0)
                        return 1;
                    data_176299 = loop_dz2084Uz2082U_176305;
                    data_176300 = loop_while_176306;
                    data_176304 = stride_176310;
                    if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
                        return 1;
                    
                    bool empty_slice_176737 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176738 = sle64((int64_t) 0, zs_lhs_176127);
                    bool i_p_m_t_s_leq_w_176739 = slt64(zs_lhs_176127, data_176299);
                    bool y_176740 = zzero_leq_i_p_m_t_s_176738 && i_p_m_t_s_leq_w_176739;
                    bool ok_or_empty_176741 = empty_slice_176737 || y_176740;
                    bool index_certs_176742;
                    
                    if (!ok_or_empty_176741) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] out of bounds for array of shape [", (long long) data_176299, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180631, &ext_mem_180622, "ext_mem_180622") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &ext_mem_180621, "ext_mem_180621") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &ext_mem_180620, "ext_mem_180620") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180312.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180631.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180314.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180628.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_180316.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_180625.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
                    return 1;
                
                bool loop_cond_176778 = slt64(ubs_176070, threads_130958);
                bool loop_while_tmp_181822 = loop_cond_176778;
                int64_t p_tmp_181823 = ubs_176070;
                
                loop_while_176059 = loop_while_tmp_181822;
                p_176060 = p_tmp_181823;
            }
            defunc_0_mergeFunc_seq_res_176054 = loop_while_176059;
            defunc_0_mergeFunc_seq_res_176055 = p_176060;
            
            int64_t index_concat_branch_177595;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179693 = ((int64_t *) mem_180297)[index_concat_i_177592];
                
                index_concat_branch_177595 = index_concat_179693;
            } else {
                index_concat_branch_177595 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177589;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179694 = ((int64_t *) mem_180299)[index_concat_i_177592];
                
                index_concat_branch_177589 = index_concat_179694;
            } else {
                index_concat_branch_177589 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_180312, "mem_180312") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_180314, "mem_180314") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_180316, "mem_180316") != 0)
                return 1;
            loopres_174818 = index_concat_branch_177595;
            loopres_174819 = index_concat_branch_177589;
        }
        for (int64_t i_180086 = 0; i_180086 < window_sizze_130957; i_180086++) {
            int8_t eta_p_176786 = ((int8_t *) ext_mem_181050.mem)[i_180086];
            int64_t eta_p_176787 = ((int64_t *) ext_mem_181047.mem)[i_180086];
            bool cond_176788 = eta_p_176786 == (int8_t) 0;
            int64_t tmp_176789;
            
            if (cond_176788) {
                int64_t tmp_t_res_179697 = add64(p_174790, eta_p_176787);
                
                tmp_176789 = tmp_t_res_179697;
            } else {
                int64_t tmp_f_res_176791 = add64(p_174791, eta_p_176787);
                
                tmp_176789 = tmp_f_res_176791;
            }
            ((int64_t *) mem_180284.mem)[ind_bottom_174794 + i_180086] = tmp_176789;
        }
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        
        int64_t next_lbs_176792 = add64(p_174790, loopres_174818);
        int64_t next_lbs_176793 = add64(p_174791, loopres_174819);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181050.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_130957});
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180286.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_130957});
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        
        bool cond_176807 = slt64(next_lbs_176792, zl_rhs_174773);
        bool loop_cond_t_res_176808 = slt64(next_lbs_176793, zl_rhs_174775);
        bool x_176809 = cond_176807 && loop_cond_t_res_176808;
        bool loop_while_tmp_181706 = x_176809;
        int64_t p_tmp_181710 = next_lbs_176792;
        int64_t p_tmp_181711 = next_lbs_176793;
        
        loop_while_174786 = loop_while_tmp_181706;
        p_174790 = p_tmp_181710;
        p_174791 = p_tmp_181711;
    }
    defunc_0_merge_pipeline_res_174780 = loop_while_174786;
    defunc_0_merge_pipeline_res_174784 = p_174790;
    defunc_0_merge_pipeline_res_174785 = p_174791;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 = sub64(nb_130956, defunc_0_merge_pipeline_res_174785);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 = sub64(na_130955, defunc_0_merge_pipeline_res_174784);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    bool empty_slice_176813 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 == (int64_t) 0;
    int64_t m_176814 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 1);
    int64_t i_p_m_t_s_176815 = add64(defunc_0_merge_pipeline_res_174784, m_176814);
    bool zzero_leq_i_p_m_t_s_176816 = sle64((int64_t) 0, i_p_m_t_s_176815);
    bool i_p_m_t_s_leq_w_176817 = slt64(i_p_m_t_s_176815, na_130955);
    bool zzero_lte_i_176818 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174784);
    bool i_lte_j_176819 = sle64(defunc_0_merge_pipeline_res_174784, na_130955);
    bool y_176820 = i_p_m_t_s_leq_w_176817 && zzero_lte_i_176818;
    bool y_176821 = zzero_leq_i_p_m_t_s_176816 && y_176820;
    bool forwards_ok_176822 = i_lte_j_176819 && y_176821;
    bool ok_or_empty_176823 = empty_slice_176813 || forwards_ok_176822;
    bool index_certs_176824;
    
    if (!ok_or_empty_176823) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174784, ":", (long long) na_130955, "] out of bounds for array of shape [", (long long) na_130955, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176828 = slt64(na_130955, defunc_0_merge_pipeline_res_174784);
    bool valid_176829 = !bounds_invalid_upwards_176828;
    bool range_valid_c_176830;
    
    if (!valid_176829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174784, "..<", (long long) na_130955, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176834 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 == (int64_t) 0;
    int64_t m_176835 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, (int64_t) 1);
    int64_t i_p_m_t_s_176836 = add64(defunc_0_merge_pipeline_res_174785, m_176835);
    bool zzero_leq_i_p_m_t_s_176837 = sle64((int64_t) 0, i_p_m_t_s_176836);
    bool i_p_m_t_s_leq_w_176838 = slt64(i_p_m_t_s_176836, nb_130956);
    bool zzero_lte_i_176839 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174785);
    bool i_lte_j_176840 = sle64(defunc_0_merge_pipeline_res_174785, nb_130956);
    bool y_176841 = i_p_m_t_s_leq_w_176838 && zzero_lte_i_176839;
    bool y_176842 = zzero_leq_i_p_m_t_s_176837 && y_176841;
    bool forwards_ok_176843 = i_lte_j_176840 && y_176842;
    bool ok_or_empty_176844 = empty_slice_176834 || forwards_ok_176843;
    bool index_certs_176845;
    
    if (!ok_or_empty_176844) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174785, ":", (long long) nb_130956, "] out of bounds for array of shape [", (long long) nb_130956, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176849 = slt64(nb_130956, defunc_0_merge_pipeline_res_174785);
    bool valid_176850 = !bounds_invalid_upwards_176849;
    bool range_valid_c_176851;
    
    if (!valid_176850) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174785, "..<", (long long) nb_130956, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181075 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    int64_t bytes_181077 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool cond_176858 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zs_lhs_176859 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zp_rhs_176860 = sdiv_safe64(zs_lhs_176859, (int64_t) 20);
    int64_t min_num_blocks_176861 = add64((int64_t) 1, zp_rhs_176860);
    bool loop_cond_176862 = slt64((int64_t) 1, min_num_blocks_176861);
    bool smallest_pow_2_geq_than_res_176863;
    int64_t smallest_pow_2_geq_than_res_176864;
    bool loop_while_176865;
    int64_t x_176866;
    
    loop_while_176865 = loop_cond_176862;
    x_176866 = (int64_t) 1;
    while (loop_while_176865) {
        int64_t loopres_176867 = mul64((int64_t) 2, x_176866);
        bool loop_cond_176868 = slt64(loopres_176867, min_num_blocks_176861);
        bool loop_while_tmp_181893 = loop_cond_176868;
        int64_t x_tmp_181894 = loopres_176867;
        
        loop_while_176865 = loop_while_tmp_181893;
        x_176866 = x_tmp_181894;
    }
    smallest_pow_2_geq_than_res_176863 = loop_while_176865;
    smallest_pow_2_geq_than_res_176864 = x_176866;
    
    bool zzero_176869 = smallest_pow_2_geq_than_res_176864 == (int64_t) 0;
    bool nonzzero_176870 = !zzero_176869;
    bool protect_assert_disj_176871 = cond_176858 || nonzzero_176870;
    bool nonzzero_cert_176872;
    
    if (!protect_assert_disj_176871) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176873 = sdiv_safe64(zs_lhs_176859, smallest_pow_2_geq_than_res_176864);
    int64_t block_sizze_176874 = add64((int64_t) 1, zp_rhs_176873);
    bool y_176881 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool protect_assert_disj_181403 = cond_176858 || y_176881;
    bool index_certs_176882;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176908 = slt64(smallest_pow_2_geq_than_res_176864, (int64_t) 0);
    bool valid_176909 = !bounds_invalid_upwards_176908;
    bool protect_assert_disj_181413 = cond_176858 || valid_176909;
    bool range_valid_c_176910;
    
    if (!protect_assert_disj_181413) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176864, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176912 = slt64(block_sizze_176874, (int64_t) 0);
    bool valid_176913 = !bounds_invalid_upwards_176912;
    bool protect_assert_disj_181415 = cond_176858 || valid_176913;
    bool range_valid_c_176914;
    
    if (!protect_assert_disj_181415) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176916 = sle64(block_sizze_176874, (int64_t) 1);
    int64_t tmp_176917 = sub64(block_sizze_176874, (int64_t) 2);
    bool bounds_invalid_upwards_176918 = slt64(tmp_176917, (int64_t) 0);
    bool valid_176920 = !bounds_invalid_upwards_176918;
    bool protect_assert_disj_176921 = cond_176916 || valid_176920;
    bool protect_assert_disj_181417 = cond_176858 || protect_assert_disj_176921;
    bool range_valid_c_176922;
    
    if (!protect_assert_disj_181417) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176917, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177483 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177485 = sle64((int64_t) 0, zs_lhs_176859);
    bool i_p_m_t_s_leq_w_177486 = slt64(zs_lhs_176859, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool y_177487 = zzero_leq_i_p_m_t_s_177485 && i_p_m_t_s_leq_w_177486;
    bool ok_or_empty_177488 = empty_slice_177483 || y_177487;
    bool index_certs_177489;
    
    if (!ok_or_empty_177488) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177490 = add64(defunc_0_merge_pipeline_res_174784, defunc_0_merge_pipeline_res_174785);
    int64_t j_m_i_177491 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, final_buffer_177490);
    bool empty_slice_177492 = j_m_i_177491 == (int64_t) 0;
    int64_t m_177493 = sub64(j_m_i_177491, (int64_t) 1);
    int64_t i_p_m_t_s_177494 = add64(final_buffer_177490, m_177493);
    bool zzero_leq_i_p_m_t_s_177495 = sle64((int64_t) 0, i_p_m_t_s_177494);
    bool i_p_m_t_s_leq_w_177496 = slt64(i_p_m_t_s_177494, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool zzero_lte_i_177497 = sle64((int64_t) 0, final_buffer_177490);
    bool i_lte_j_177498 = sle64(final_buffer_177490, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool y_177499 = i_p_m_t_s_leq_w_177496 && zzero_lte_i_177497;
    bool y_177500 = zzero_leq_i_p_m_t_s_177495 && y_177499;
    bool forwards_ok_177501 = i_lte_j_177498 && y_177500;
    bool ok_or_empty_177502 = empty_slice_177492 || forwards_ok_177501;
    bool index_certs_177503;
    
    if (!ok_or_empty_177502) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177490, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177504 = j_m_i_177491 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool empty_or_match_cert_177505;
    
    if (!dim_match_177504) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177491, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181074, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "mem_181074")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181895 = 0; nest_i_181895 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; nest_i_181895++) {
        ((int8_t *) mem_181074.mem)[nest_i_181895] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181076, bytes_181075, "mem_181076")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181896 = 0; i_181896 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; i_181896++) {
        int64_t x_181897 = defunc_0_merge_pipeline_res_174784 + i_181896 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[i_181896] = x_181897;
    }
    for (int64_t nest_i_181898 = 0; nest_i_181898 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; nest_i_181898++) {
        ((int8_t *) mem_181074.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + nest_i_181898] = (int8_t) 1;
    }
    for (int64_t i_181899 = 0; i_181899 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; i_181899++) {
        int64_t x_181900 = defunc_0_merge_pipeline_res_174785 + i_181899 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + i_181899] = x_181900;
    }
    
    int64_t tmp_offs_181901 = (int64_t) 0;
    
    if (!(tmp_offs_181901 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181901 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t tmp_offs_181902 = (int64_t) 0;
    
    if (!(tmp_offs_181902 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181902 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    if (memblock_alloc(ctx, &mem_181078, bytes_181077, "mem_181078")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181903 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_180280.mem, defunc_0_merge_pipeline_res_174784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_180281.mem, defunc_0_merge_pipeline_res_174785, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t flat_dim_176875 = smallest_pow_2_geq_than_res_176864 * block_sizze_176874;
    bool x_181398 = !cond_176858;
    int64_t greatest_divisor_leq_than_arg1_176879 = mul64((int64_t) 2, block_sizze_176874);
    int64_t merge_block_sizze_176880;
    
    if (x_181398) {
        int64_t x_181400;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181400, (int64_t) 8, greatest_divisor_leq_than_arg1_176879) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176880 = x_181400;
    } else {
        merge_block_sizze_176880 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177555 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 0);
    int8_t index_concat_branch_177559 = btoi_bool_i8(index_concat_cmp_177555);
    int64_t index_concat_i_179699 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    int64_t index_primexp_179700 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179699);
    int64_t index_concat_branch_177553;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177553 = index_primexp_179700;
    } else {
        index_concat_branch_177553 = defunc_0_merge_pipeline_res_174784;
    }
    
    bool x_181394 = !index_concat_cmp_177555;
    bool protect_cond_conj_181404 = x_181394 && x_181398;
    int32_t index_concat_177546;
    
    if (protect_cond_conj_181404) {
        int32_t x_181396 = ((int32_t *) a_list_mem_180280.mem)[defunc_0_merge_pipeline_res_174784];
        
        index_concat_177546 = x_181396;
    } else {
        index_concat_177546 = 0;
    }
    
    bool protect_cond_conj_181405 = index_concat_cmp_177555 && x_181398;
    int32_t index_concat_179703;
    
    if (protect_cond_conj_181405) {
        int32_t x_181392 = ((int32_t *) b_list_mem_180281.mem)[index_primexp_179700];
        
        index_concat_179703 = x_181392;
    } else {
        index_concat_179703 = 0;
    }
    
    int32_t index_concat_branch_177547;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177547 = index_concat_179703;
    } else {
        index_concat_branch_177547 = index_concat_177546;
    }
    
    int8_t defunc_0_reduce_res_179934;
    int64_t defunc_0_reduce_res_179935;
    int32_t defunc_0_reduce_res_179936;
    
    if (x_181398) {
        int8_t x_181406;
        int64_t x_181407;
        int32_t x_181408;
        int8_t redout_180088;
        int64_t redout_180089;
        int32_t redout_180090;
        
        redout_180088 = index_concat_branch_177559;
        redout_180089 = index_concat_branch_177553;
        redout_180090 = index_concat_branch_177547;
        for (int64_t i_180091 = 0; i_180091 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812; i_180091++) {
            bool index_concat_cmp_180162 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, i_180091);
            int8_t index_concat_branch_180166 = btoi_bool_i8(index_concat_cmp_180162);
            int64_t index_concat_branch_180160;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180157 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t index_primexp_180250 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_180157);
                
                index_concat_branch_180160 = index_primexp_180250;
            } else {
                int64_t index_primexp_180252 = add64(defunc_0_merge_pipeline_res_174784, i_180091);
                
                index_concat_branch_180160 = index_primexp_180252;
            }
            
            int32_t index_concat_branch_180154;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180151 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t slice_180247 = defunc_0_merge_pipeline_res_174785 + index_concat_i_180151;
                int32_t index_concat_180152 = ((int32_t *) b_list_mem_180281.mem)[slice_180247];
                
                index_concat_branch_180154 = index_concat_180152;
            } else {
                int64_t slice_180248 = defunc_0_merge_pipeline_res_174784 + i_180091;
                int32_t index_concat_180153 = ((int32_t *) a_list_mem_180280.mem)[slice_180248];
                
                index_concat_branch_180154 = index_concat_180153;
            }
            
            bool eq_x_y_180265 = redout_180088 == (int8_t) 1;
            bool eq_x_zz_180266 = redout_180088 == (int8_t) 0;
            bool p_and_eq_x_y_180267 = index_concat_cmp_180162 && eq_x_y_180265;
            bool not_p_180268 = !index_concat_cmp_180162;
            bool p_and_eq_x_y_180269 = eq_x_zz_180266 && not_p_180268;
            bool cond_176898 = p_and_eq_x_y_180267 || p_and_eq_x_y_180269;
            bool defunc_0_leq_res_t_res_176899 = sle64(redout_180089, index_concat_branch_180160);
            bool defunc_0_leq_res_176900 = sle32(redout_180090, index_concat_branch_180154);
            bool x_176901 = cond_176898 && defunc_0_leq_res_t_res_176899;
            bool x_176902 = !cond_176898;
            bool y_176903 = defunc_0_leq_res_176900 && x_176902;
            bool defunc_0_leq_res_176904 = x_176901 || y_176903;
            int8_t defunc_0_op_res_176905;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176905 = index_concat_branch_180166;
            } else {
                defunc_0_op_res_176905 = redout_180088;
            }
            
            int64_t defunc_0_op_res_176906;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176906 = index_concat_branch_180160;
            } else {
                defunc_0_op_res_176906 = redout_180089;
            }
            
            int32_t defunc_0_op_res_176907;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176907 = index_concat_branch_180154;
            } else {
                defunc_0_op_res_176907 = redout_180090;
            }
            
            int8_t redout_tmp_181904 = defunc_0_op_res_176905;
            int64_t redout_tmp_181905 = defunc_0_op_res_176906;
            int32_t redout_tmp_181906 = defunc_0_op_res_176907;
            
            redout_180088 = redout_tmp_181904;
            redout_180089 = redout_tmp_181905;
            redout_180090 = redout_tmp_181906;
        }
        x_181406 = redout_180088;
        x_181407 = redout_180089;
        x_181408 = redout_180090;
        defunc_0_reduce_res_179934 = x_181406;
        defunc_0_reduce_res_179935 = x_181407;
        defunc_0_reduce_res_179936 = x_181408;
    } else {
        defunc_0_reduce_res_179934 = (int8_t) 0;
        defunc_0_reduce_res_179935 = (int64_t) 0;
        defunc_0_reduce_res_179936 = 0;
    }
    
    int64_t distance_176919 = add64((int64_t) 1, tmp_176917);
    int64_t binop_x_181081 = (int64_t) 8 * smallest_pow_2_geq_than_res_176864;
    int64_t bytes_181082 = block_sizze_176874 * binop_x_181081;
    int64_t binop_x_181084 = (int64_t) 4 * smallest_pow_2_geq_than_res_176864;
    int64_t bytes_181085 = block_sizze_176874 * binop_x_181084;
    int64_t bytes_181100 = (int64_t) 8 * block_sizze_176874;
    int64_t bytes_181102 = (int64_t) 4 * block_sizze_176874;
    bool loop_cond_177028 = slt64(block_sizze_176874, flat_dim_176875);
    bool zzero_177029 = merge_block_sizze_176880 == (int64_t) 0;
    bool nonzzero_177030 = !zzero_177029;
    
    if (cond_176858) {
        if (memblock_set(ctx, &ext_mem_181373, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &mem_181078, "mem_181078") != 0)
            return 1;
    } else {
        if (mem_181080_cached_sizze_182171 < flat_dim_176875) {
            err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182171, flat_dim_176875);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181083_cached_sizze_182172 < bytes_181082) {
            err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182172, bytes_181082);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181086_cached_sizze_182173 < bytes_181085) {
            err = lexical_realloc(ctx, &mem_181086, &mem_181086_cached_sizze_182173, bytes_181085);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181099_cached_sizze_182174 < block_sizze_176874) {
            err = lexical_realloc(ctx, &mem_181099, &mem_181099_cached_sizze_182174, block_sizze_176874);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181101_cached_sizze_182175 < bytes_181100) {
            err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_182175, bytes_181100);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181103_cached_sizze_182176 < bytes_181102) {
            err = lexical_realloc(ctx, &mem_181103, &mem_181103_cached_sizze_182176, bytes_181102);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180108 = 0; i_180108 < smallest_pow_2_geq_than_res_176864; i_180108++) {
            int64_t zp_lhs_176927 = mul64(block_sizze_176874, i_180108);
            
            for (int64_t i_180098 = 0; i_180098 < block_sizze_176874; i_180098++) {
                int64_t k_176932 = add64(zp_lhs_176927, i_180098);
                bool cond_176933 = slt64(k_176932, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
                int8_t lifted_lambda_res_176934;
                int64_t lifted_lambda_res_176935;
                int32_t lifted_lambda_res_176936;
                
                if (cond_176933) {
                    bool x_179709 = sle64((int64_t) 0, k_176932);
                    bool bounds_check_179710 = cond_176933 && x_179709;
                    bool index_certs_179711;
                    
                    if (!bounds_check_179710) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176932, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179712 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, k_176932);
                    int8_t index_concat_branch_179713 = btoi_bool_i8(index_concat_cmp_179712);
                    int64_t index_concat_branch_179714;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179715 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t index_primexp_179716 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179715);
                        
                        index_concat_branch_179714 = index_primexp_179716;
                    } else {
                        int64_t index_primexp_179717 = add64(defunc_0_merge_pipeline_res_174784, k_176932);
                        
                        index_concat_branch_179714 = index_primexp_179717;
                    }
                    
                    int32_t index_concat_branch_179718;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179719 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t slice_179720 = defunc_0_merge_pipeline_res_174785 + index_concat_i_179719;
                        int32_t index_concat_179721 = ((int32_t *) b_list_mem_180281.mem)[slice_179720];
                        
                        index_concat_branch_179718 = index_concat_179721;
                    } else {
                        int64_t slice_179722 = defunc_0_merge_pipeline_res_174784 + k_176932;
                        int32_t index_concat_179723 = ((int32_t *) a_list_mem_180280.mem)[slice_179722];
                        
                        index_concat_branch_179718 = index_concat_179723;
                    }
                    lifted_lambda_res_176934 = index_concat_branch_179713;
                    lifted_lambda_res_176935 = index_concat_branch_179714;
                    lifted_lambda_res_176936 = index_concat_branch_179718;
                } else {
                    lifted_lambda_res_176934 = defunc_0_reduce_res_179934;
                    lifted_lambda_res_176935 = defunc_0_reduce_res_179935;
                    lifted_lambda_res_176936 = defunc_0_reduce_res_179936;
                }
                ((int8_t *) mem_181099)[i_180098] = lifted_lambda_res_176934;
                ((int64_t *) mem_181101)[i_180098] = lifted_lambda_res_176935;
                ((int32_t *) mem_181103)[i_180098] = lifted_lambda_res_176936;
            }
            if (!cond_176916) {
                for (int64_t i_176949 = 0; i_176949 < distance_176919; i_176949++) {
                    int64_t gt_arg1_176953 = add64((int64_t) 1, i_176949);
                    bool x_176954 = sle64((int64_t) 0, gt_arg1_176953);
                    bool y_176955 = slt64(gt_arg1_176953, block_sizze_176874);
                    bool bounds_check_176956 = x_176954 && y_176955;
                    bool index_certs_176957;
                    
                    if (!bounds_check_176956) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176953, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176961 = slt64(i_176949, block_sizze_176874);
                    bool index_certs_176962;
                    
                    if (!y_176961) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176949, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176958 = ((int8_t *) mem_181099)[gt_arg1_176953];
                    int64_t gt_arg1_176959 = ((int64_t *) mem_181101)[gt_arg1_176953];
                    int32_t gt_arg1_176960 = ((int32_t *) mem_181103)[gt_arg1_176953];
                    int8_t gt_arg0_176963 = ((int8_t *) mem_181099)[i_176949];
                    int64_t gt_arg0_176964 = ((int64_t *) mem_181101)[i_176949];
                    int32_t gt_arg0_176965 = ((int32_t *) mem_181103)[i_176949];
                    bool cond_176966 = gt_arg0_176963 == gt_arg1_176958;
                    bool defunc_0_leq_res_t_res_176967 = sle64(gt_arg0_176964, gt_arg1_176959);
                    bool defunc_0_leq_res_176968 = sle32(gt_arg0_176965, gt_arg1_176960);
                    bool x_176969 = cond_176966 && defunc_0_leq_res_t_res_176967;
                    bool x_176970 = !cond_176966;
                    bool y_176971 = defunc_0_leq_res_176968 && x_176970;
                    bool defunc_0_leq_res_176972 = x_176969 || y_176971;
                    bool defunc_0_lifted_gt_res_176973 = !defunc_0_leq_res_176972;
                    bool s_176974;
                    int64_t s_176978;
                    bool loop_while_176979;
                    int64_t j_176983;
                    
                    loop_while_176979 = defunc_0_lifted_gt_res_176973;
                    j_176983 = i_176949;
                    while (loop_while_176979) {
                        bool x_176984 = sle64((int64_t) 0, j_176983);
                        bool y_176985 = slt64(j_176983, block_sizze_176874);
                        bool bounds_check_176986 = x_176984 && y_176985;
                        bool index_certs_176987;
                        
                        if (!bounds_check_176986) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176983, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176991 = add64((int64_t) 1, j_176983);
                        bool x_176992 = sle64((int64_t) 0, copy_arg0_176991);
                        bool y_176993 = slt64(copy_arg0_176991, block_sizze_176874);
                        bool bounds_check_176994 = x_176992 && y_176993;
                        bool index_certs_176995;
                        
                        if (!bounds_check_176994) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176991, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176988 = ((int8_t *) mem_181099)[j_176983];
                        int64_t copy_arg0_176989 = ((int64_t *) mem_181101)[j_176983];
                        int32_t copy_arg0_176990 = ((int32_t *) mem_181103)[j_176983];
                        int8_t copy_arg0_176996 = ((int8_t *) mem_181099)[copy_arg0_176991];
                        int64_t copy_arg0_176997 = ((int64_t *) mem_181101)[copy_arg0_176991];
                        int32_t copy_arg0_176998 = ((int32_t *) mem_181103)[copy_arg0_176991];
                        
                        ((int8_t *) mem_181099)[j_176983] = copy_arg0_176996;
                        ((int64_t *) mem_181101)[j_176983] = copy_arg0_176997;
                        ((int32_t *) mem_181103)[j_176983] = copy_arg0_176998;
                        ((int8_t *) mem_181099)[copy_arg0_176991] = copy_arg0_176988;
                        ((int64_t *) mem_181101)[copy_arg0_176991] = copy_arg0_176989;
                        ((int32_t *) mem_181103)[copy_arg0_176991] = copy_arg0_176990;
                        
                        int64_t tmp_177005 = sub64(j_176983, (int64_t) 1);
                        bool cond_177006 = sle64((int64_t) 0, tmp_177005);
                        bool loop_cond_177007;
                        
                        if (cond_177006) {
                            bool y_179727 = slt64(tmp_177005, block_sizze_176874);
                            bool bounds_check_179728 = cond_177006 && y_179727;
                            bool index_certs_179729;
                            
                            if (!bounds_check_179728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177005, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179724 = ((int8_t *) mem_181099)[j_176983];
                            int64_t gt_arg1_179725 = ((int64_t *) mem_181101)[j_176983];
                            int32_t gt_arg1_179726 = ((int32_t *) mem_181103)[j_176983];
                            int8_t gt_arg0_179730 = ((int8_t *) mem_181099)[tmp_177005];
                            int64_t gt_arg0_179731 = ((int64_t *) mem_181101)[tmp_177005];
                            int32_t gt_arg0_179732 = ((int32_t *) mem_181103)[tmp_177005];
                            bool cond_179733 = gt_arg0_179730 == gt_arg1_179724;
                            bool defunc_0_leq_res_t_res_179734 = sle64(gt_arg0_179731, gt_arg1_179725);
                            bool defunc_0_leq_res_179735 = sle32(gt_arg0_179732, gt_arg1_179726);
                            bool x_179736 = cond_179733 && defunc_0_leq_res_t_res_179734;
                            bool x_179737 = !cond_179733;
                            bool y_179738 = defunc_0_leq_res_179735 && x_179737;
                            bool defunc_0_leq_res_179739 = x_179736 || y_179738;
                            bool defunc_0_lifted_gt_res_179740 = !defunc_0_leq_res_179739;
                            
                            loop_cond_177007 = defunc_0_lifted_gt_res_179740;
                        } else {
                            loop_cond_177007 = 0;
                        }
                        
                        bool loop_while_tmp_181916 = loop_cond_177007;
                        int64_t j_tmp_181920 = tmp_177005;
                        
                        loop_while_176979 = loop_while_tmp_181916;
                        j_176983 = j_tmp_181920;
                    }
                    s_176974 = loop_while_176979;
                    s_176978 = j_176983;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181080, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181099, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181083, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181101, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181086, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181103, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
        }
        if (memblock_alloc(ctx, &mem_181180, flat_dim_176875, "mem_181180")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181180.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint8_t *) mem_181080, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181184, bytes_181082, "mem_181184")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181184.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint64_t *) mem_181083, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181188, bytes_181085, "mem_181188")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint32_t *) mem_181086, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        
        int64_t data_177031;
        bool data_177032;
        int64_t data_177036;
        int64_t loop_dz2084Uz2082U_177037;
        bool loop_while_177038;
        int64_t stride_177042;
        
        if (memblock_set(ctx, &mem_param_181192, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181195, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181198, &mem_181188, "mem_181188") != 0)
            return 1;
        loop_dz2084Uz2082U_177037 = flat_dim_176875;
        loop_while_177038 = loop_cond_177028;
        stride_177042 = block_sizze_176874;
        while (loop_while_177038) {
            int64_t next_stride_177043 = mul64((int64_t) 2, stride_177042);
            bool zzero_177044 = next_stride_177043 == (int64_t) 0;
            bool nonzzero_177045 = !zzero_177044;
            bool nonzzero_cert_177046;
            
            if (!nonzzero_177045) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177047 = sdiv64(flat_dim_176875, next_stride_177043);
            bool bounds_invalid_upwards_177048 = slt64(num_merges_177047, (int64_t) 0);
            bool valid_177049 = !bounds_invalid_upwards_177048;
            bool range_valid_c_177050;
            
            if (!valid_177049) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177047, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177052 = sub64(next_stride_177043, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177053 = sle64((int64_t) 0, m_177052);
            bool cond_177055 = slt64(next_stride_177043, (int64_t) 10);
            bool protect_assert_disj_177056 = nonzzero_177030 || cond_177055;
            bool nonzzero_cert_177057;
            
            if (!protect_assert_disj_177056) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177058 = smod_safe64(next_stride_177043, merge_block_sizze_176880);
            bool num_blocks_177059 = zeze_lhs_177058 == (int64_t) 0;
            bool protect_assert_disj_177060 = cond_177055 || num_blocks_177059;
            bool assert_c_177061;
            
            if (!protect_assert_disj_177060) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177063 = sdiv_safe64(next_stride_177043, merge_block_sizze_176880);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064 = add64((int64_t) 1, num_blocks_177063);
            int64_t j_m_i_177065 = sub64(next_stride_177043, stride_177042);
            int64_t flat_dim_177066 = merge_block_sizze_176880 * num_blocks_177063;
            bool bounds_invalid_upwards_177067 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, (int64_t) 0);
            bool empty_slice_177068 = j_m_i_177065 == (int64_t) 0;
            int64_t m_177069 = sub64(j_m_i_177065, (int64_t) 1);
            bool zzero_lte_i_177070 = sle64((int64_t) 0, stride_177042);
            bool i_lte_j_177071 = sle64(stride_177042, next_stride_177043);
            bool empty_slice_177072 = stride_177042 == (int64_t) 0;
            int64_t m_177073 = sub64(stride_177042, (int64_t) 1);
            bool bounds_invalid_upwards_177074 = slt64(num_blocks_177063, (int64_t) 0);
            bool cond_177075 = slt64((int64_t) 0, stride_177042);
            bool valid_177076 = !bounds_invalid_upwards_177067;
            int64_t i_p_m_t_s_177077 = add64(stride_177042, m_177069);
            bool zzero_leq_i_p_m_t_s_177078 = sle64((int64_t) 0, m_177073);
            bool i_p_m_t_s_leq_w_177079 = slt64(m_177073, next_stride_177043);
            bool valid_177080 = !bounds_invalid_upwards_177074;
            bool i_p_m_t_s_leq_w_177081 = slt64(m_177052, flat_dim_177066);
            bool y_177082 = slt64((int64_t) 0, j_m_i_177065);
            bool protect_assert_disj_177083 = cond_177055 || valid_177076;
            bool range_valid_c_177084;
            
            if (!protect_assert_disj_177083) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177085 = sle64((int64_t) 0, i_p_m_t_s_177077);
            bool i_p_m_t_s_leq_w_177086 = slt64(i_p_m_t_s_177077, next_stride_177043);
            bool y_177087 = zzero_leq_i_p_m_t_s_177078 && i_p_m_t_s_leq_w_177079;
            bool protect_assert_disj_177088 = cond_177055 || valid_177080;
            bool range_valid_c_177089;
            
            if (!protect_assert_disj_177088) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177090 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177081;
            bool y_177091 = zzero_lte_i_177070 && i_p_m_t_s_leq_w_177086;
            bool forwards_ok_177092 = zzero_lte_i_177070 && y_177087;
            bool ok_or_empty_177093 = zzero_177044 || y_177090;
            bool protect_assert_disj_177094 = cond_177075 || y_177082;
            bool y_177095 = zzero_leq_i_p_m_t_s_177085 && y_177091;
            bool ok_or_empty_177096 = empty_slice_177072 || forwards_ok_177092;
            bool protect_assert_disj_177097 = cond_177055 || ok_or_empty_177093;
            bool index_certs_177098;
            
            if (!protect_assert_disj_177097) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) flat_dim_177066, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177099 = !cond_177055;
            bool protect_assert_disj_177100 = protect_assert_disj_177094 || loop_not_taken_177099;
            bool index_certs_177101;
            
            if (!protect_assert_disj_177100) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177102 = i_lte_j_177071 && y_177095;
            bool protect_assert_disj_177103 = cond_177055 || ok_or_empty_177096;
            bool index_certs_177104;
            
            if (!protect_assert_disj_177103) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177105 = ok_or_empty_177096 || loop_not_taken_177099;
            bool index_certs_177106;
            
            if (!protect_assert_disj_177105) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177107 = empty_slice_177068 || forwards_ok_177102;
            bool protect_assert_disj_177108 = cond_177055 || ok_or_empty_177107;
            bool index_certs_177109;
            
            if (!protect_assert_disj_177108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177110 = loop_not_taken_177099 || ok_or_empty_177107;
            bool index_certs_177111;
            
            if (!protect_assert_disj_177110) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181199 = next_stride_177043 * num_merges_177047;
            int64_t binop_x_181201 = (int64_t) 8 * num_merges_177047;
            int64_t bytes_181202 = next_stride_177043 * binop_x_181201;
            int64_t binop_x_181204 = (int64_t) 4 * num_merges_177047;
            int64_t bytes_181205 = next_stride_177043 * binop_x_181204;
            bool i_lte_j_177054 = sle64((int64_t) 0, next_stride_177043);
            
            if (mem_181200_cached_sizze_182177 < bytes_181199) {
                err = lexical_realloc(ctx, &mem_181200, &mem_181200_cached_sizze_182177, bytes_181199);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181203_cached_sizze_182178 < bytes_181202) {
                err = lexical_realloc(ctx, &mem_181203, &mem_181203_cached_sizze_182178, bytes_181202);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181206_cached_sizze_182179 < bytes_181205) {
                err = lexical_realloc(ctx, &mem_181206, &mem_181206_cached_sizze_182179, bytes_181205);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181219 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064;
            int64_t binop_x_181237 = (int64_t) 8 * num_blocks_177063;
            int64_t bytes_181238 = merge_block_sizze_176880 * binop_x_181237;
            int64_t binop_x_181240 = (int64_t) 4 * num_blocks_177063;
            int64_t bytes_181241 = merge_block_sizze_176880 * binop_x_181240;
            int64_t bytes_181302 = (int64_t) 16 * stride_177042;
            int64_t bytes_181304 = (int64_t) 8 * stride_177042;
            
            for (int64_t i_180135 = 0; i_180135 < num_merges_177047; i_180135++) {
                int64_t start_177116 = mul64(next_stride_177043, i_180135);
                int64_t j_m_i_177117 = sub64(loop_dz2084Uz2082U_177037, start_177116);
                bool empty_slice_177118 = j_m_i_177117 == (int64_t) 0;
                int64_t m_177119 = sub64(j_m_i_177117, (int64_t) 1);
                int64_t i_p_m_t_s_177120 = add64(start_177116, m_177119);
                bool zzero_leq_i_p_m_t_s_177121 = sle64((int64_t) 0, i_p_m_t_s_177120);
                bool i_p_m_t_s_leq_w_177122 = slt64(i_p_m_t_s_177120, loop_dz2084Uz2082U_177037);
                bool zzero_lte_i_177123 = sle64((int64_t) 0, start_177116);
                bool i_lte_j_177124 = sle64(start_177116, loop_dz2084Uz2082U_177037);
                bool y_177125 = i_p_m_t_s_leq_w_177122 && zzero_lte_i_177123;
                bool y_177126 = zzero_leq_i_p_m_t_s_177121 && y_177125;
                bool forwards_ok_177127 = i_lte_j_177124 && y_177126;
                bool ok_or_empty_177128 = empty_slice_177118 || forwards_ok_177127;
                bool index_certs_177129;
                
                if (!ok_or_empty_177128) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177116, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177037, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177130 = slt64(m_177052, j_m_i_177117);
                bool y_177131 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177130;
                bool forwards_ok_177132 = i_lte_j_177054 && y_177131;
                bool ok_or_empty_177133 = zzero_177044 || forwards_ok_177132;
                bool index_certs_177134;
                
                if (!ok_or_empty_177133) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) j_m_i_177117, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177055) {
                    int8_t dummy_179779;
                    int64_t dummy_179780;
                    int32_t dummy_179781;
                    
                    if (cond_177075) {
                        int8_t head_res_179782 = ((int8_t *) mem_param_181192.mem)[start_177116];
                        int64_t head_res_179783 = ((int64_t *) mem_param_181195.mem)[start_177116];
                        int32_t head_res_179784 = ((int32_t *) mem_param_181198.mem)[start_177116];
                        
                        dummy_179779 = head_res_179782;
                        dummy_179780 = head_res_179783;
                        dummy_179781 = head_res_179784;
                    } else {
                        int64_t slice_179785 = stride_177042 + start_177116;
                        int8_t head_res_179786 = ((int8_t *) mem_param_181192.mem)[slice_179785];
                        int64_t head_res_179787 = ((int64_t *) mem_param_181195.mem)[slice_179785];
                        int32_t head_res_179788 = ((int32_t *) mem_param_181198.mem)[slice_179785];
                        
                        dummy_179779 = head_res_179786;
                        dummy_179780 = head_res_179787;
                        dummy_179781 = head_res_179788;
                    }
                    if (memblock_alloc(ctx, &mem_181301, next_stride_177043, "mem_181301")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181933 = 0; nest_i_181933 < next_stride_177043; nest_i_181933++) {
                        ((int8_t *) mem_181301.mem)[nest_i_181933] = dummy_179779;
                    }
                    if (memblock_alloc(ctx, &mem_181303, bytes_181302, "mem_181303")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181934 = 0; nest_i_181934 < next_stride_177043; nest_i_181934++) {
                        ((int64_t *) mem_181303.mem)[nest_i_181934] = dummy_179780;
                    }
                    if (memblock_alloc(ctx, &mem_181305, bytes_181304, "mem_181305")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181935 = 0; nest_i_181935 < next_stride_177043; nest_i_181935++) {
                        ((int32_t *) mem_181305.mem)[nest_i_181935] = dummy_179781;
                    }
                    
                    int64_t data_179792;
                    int64_t i_179797 = (int64_t) 0;
                    
                    for (int64_t k_179796 = 0; k_179796 < next_stride_177043; k_179796++) {
                        int64_t j_179801 = sub64(k_179796, i_179797);
                        bool cond_179802 = j_179801 == j_m_i_177065;
                        bool cond_179803;
                        
                        if (cond_179802) {
                            cond_179803 = 1;
                        } else {
                            bool cond_179804 = slt64(i_179797, stride_177042);
                            bool cond_f_res_179805;
                            
                            if (cond_179804) {
                                bool x_179806 = sle64((int64_t) 0, j_179801);
                                bool y_179807 = slt64(j_179801, j_m_i_177065);
                                bool bounds_check_179808 = x_179806 && y_179807;
                                bool index_certs_179809;
                                
                                if (!bounds_check_179808) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179815 = sle64((int64_t) 0, i_179797);
                                bool bounds_check_179816 = cond_179804 && x_179815;
                                bool index_certs_179817;
                                
                                if (!bounds_check_179816) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179810 = stride_177042 + j_179801;
                                int64_t slice_179811 = start_177116 + slice_179810;
                                int8_t leq_arg1_179812 = ((int8_t *) mem_param_181192.mem)[slice_179811];
                                int64_t leq_arg1_179813 = ((int64_t *) mem_param_181195.mem)[slice_179811];
                                int32_t leq_arg1_179814 = ((int32_t *) mem_param_181198.mem)[slice_179811];
                                int64_t slice_179818 = start_177116 + i_179797;
                                int8_t leq_arg0_179819 = ((int8_t *) mem_param_181192.mem)[slice_179818];
                                int64_t leq_arg0_179820 = ((int64_t *) mem_param_181195.mem)[slice_179818];
                                int32_t leq_arg0_179821 = ((int32_t *) mem_param_181198.mem)[slice_179818];
                                bool cond_179822 = leq_arg0_179819 == leq_arg1_179812;
                                bool defunc_0_leq_res_t_res_179823 = sle64(leq_arg0_179820, leq_arg1_179813);
                                bool defunc_0_leq_res_179824 = sle32(leq_arg0_179821, leq_arg1_179814);
                                bool x_179825 = cond_179822 && defunc_0_leq_res_t_res_179823;
                                bool x_179826 = !cond_179822;
                                bool y_179827 = defunc_0_leq_res_179824 && x_179826;
                                bool defunc_0_leq_res_179828 = x_179825 || y_179827;
                                
                                cond_f_res_179805 = defunc_0_leq_res_179828;
                            } else {
                                cond_f_res_179805 = 0;
                            }
                            cond_179803 = cond_f_res_179805;
                        }
                        
                        int64_t loopres_179829;
                        int8_t loopres_179830;
                        int64_t loopres_179831;
                        int32_t loopres_179832;
                        
                        if (cond_179803) {
                            bool x_179834 = sle64((int64_t) 0, i_179797);
                            bool y_179835 = slt64(i_179797, stride_177042);
                            bool bounds_check_179836 = x_179834 && y_179835;
                            bool index_certs_179837;
                            
                            if (!bounds_check_179836) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179833 = add64((int64_t) 1, i_179797);
                            int64_t slice_179838 = start_177116 + i_179797;
                            int8_t tmp_179839 = ((int8_t *) mem_param_181192.mem)[slice_179838];
                            int64_t tmp_179840 = ((int64_t *) mem_param_181195.mem)[slice_179838];
                            int32_t tmp_179841 = ((int32_t *) mem_param_181198.mem)[slice_179838];
                            
                            loopres_179829 = tmp_179833;
                            loopres_179830 = tmp_179839;
                            loopres_179831 = tmp_179840;
                            loopres_179832 = tmp_179841;
                        } else {
                            bool x_179842 = sle64((int64_t) 0, j_179801);
                            bool y_179843 = slt64(j_179801, j_m_i_177065);
                            bool bounds_check_179844 = x_179842 && y_179843;
                            bool index_certs_179845;
                            
                            if (!bounds_check_179844) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179846 = stride_177042 + j_179801;
                            int64_t slice_179847 = start_177116 + slice_179846;
                            int8_t tmp_179848 = ((int8_t *) mem_param_181192.mem)[slice_179847];
                            int64_t tmp_179849 = ((int64_t *) mem_param_181195.mem)[slice_179847];
                            int32_t tmp_179850 = ((int32_t *) mem_param_181198.mem)[slice_179847];
                            
                            loopres_179829 = i_179797;
                            loopres_179830 = tmp_179848;
                            loopres_179831 = tmp_179849;
                            loopres_179832 = tmp_179850;
                        }
                        ((int8_t *) mem_181301.mem)[k_179796] = loopres_179830;
                        ((int64_t *) mem_181303.mem)[k_179796] = loopres_179831;
                        ((int32_t *) mem_181305.mem)[k_179796] = loopres_179832;
                        
                        int64_t i_tmp_181936 = loopres_179829;
                        
                        i_179797 = i_tmp_181936;
                    }
                    data_179792 = i_179797;
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181301, "mem_181301") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181303, "mem_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181305, "mem_181305") != 0)
                        return 1;
                } else {
                    if (mem_181220_cached_sizze_182180 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181220, &mem_181220_cached_sizze_182180, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181222_cached_sizze_182181 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181222, &mem_181222_cached_sizze_182181, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180116 = 0; i_180116 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064; i_180116++) {
                        int64_t split_count_arg3_177217 = mul64(merge_block_sizze_176880, i_180116);
                        int64_t defunc_0_split_count_res_177218;
                        int64_t defunc_0_split_count_res_177219;
                        int64_t defunc_0_split_count_res_177220;
                        int64_t defunc_0_split_count_res_177221;
                        int64_t defunc_0_split_count_res_177222;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_177218, &defunc_0_split_count_res_177219, &defunc_0_split_count_res_177220, &defunc_0_split_count_res_177221, &defunc_0_split_count_res_177222, (int64_t) 0, stride_177042, (int64_t) 0, j_m_i_177065, split_count_arg3_177217) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177223 = slt64((int64_t) 0, defunc_0_split_count_res_177222);
                        bool defunc_0_split_count_res_177224;
                        int64_t defunc_0_split_count_res_177225;
                        int64_t defunc_0_split_count_res_177226;
                        int64_t defunc_0_split_count_res_177227;
                        int64_t defunc_0_split_count_res_177228;
                        int64_t defunc_0_split_count_res_177229;
                        bool loop_while_177230;
                        int64_t ss_177231;
                        int64_t ss_177232;
                        int64_t tt_177233;
                        int64_t tt_177234;
                        int64_t count_177235;
                        
                        loop_while_177230 = loop_cond_177223;
                        ss_177231 = defunc_0_split_count_res_177218;
                        ss_177232 = defunc_0_split_count_res_177219;
                        tt_177233 = defunc_0_split_count_res_177220;
                        tt_177234 = defunc_0_split_count_res_177221;
                        count_177235 = defunc_0_split_count_res_177222;
                        while (loop_while_177230) {
                            int64_t zlze_lhs_177236 = sub64(ss_177232, ss_177231);
                            bool cond_177237 = sle64(zlze_lhs_177236, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177238;
                            int64_t defunc_0_lifted_step_res_177239;
                            int64_t defunc_0_lifted_step_res_177240;
                            int64_t defunc_0_lifted_step_res_177241;
                            
                            if (cond_177237) {
                                int64_t tmp_179854 = add64(tt_177233, count_177235);
                                
                                defunc_0_lifted_step_res_177238 = ss_177231;
                                defunc_0_lifted_step_res_177239 = tmp_179854;
                                defunc_0_lifted_step_res_177240 = tt_177234;
                                defunc_0_lifted_step_res_177241 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177243 = sub64(tt_177234, tt_177233);
                                bool cond_177244 = sle64(zlze_lhs_177243, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177245;
                                int64_t defunc_0_lifted_step_res_f_res_177246;
                                int64_t defunc_0_lifted_step_res_f_res_177247;
                                int64_t defunc_0_lifted_step_res_f_res_177248;
                                
                                if (cond_177244) {
                                    int64_t tmp_179855 = add64(ss_177231, count_177235);
                                    
                                    defunc_0_lifted_step_res_f_res_177245 = tmp_179855;
                                    defunc_0_lifted_step_res_f_res_177246 = tt_177233;
                                    defunc_0_lifted_step_res_f_res_177247 = tt_177234;
                                    defunc_0_lifted_step_res_f_res_177248 = (int64_t) 0;
                                } else {
                                    bool cond_177250 = count_177235 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177251;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177252;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177253;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177254;
                                    
                                    if (cond_177250) {
                                        bool x_179857 = sle64((int64_t) 0, ss_177231);
                                        bool y_179858 = slt64(ss_177231, stride_177042);
                                        bool bounds_check_179859 = x_179857 && y_179858;
                                        bool index_certs_179860;
                                        
                                        if (!bounds_check_179859) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177231, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179865 = sle64((int64_t) 0, tt_177233);
                                        bool y_179866 = slt64(tt_177233, j_m_i_177065);
                                        bool bounds_check_179867 = x_179865 && y_179866;
                                        bool index_certs_179868;
                                        
                                        if (!bounds_check_179867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177233, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179861 = start_177116 + ss_177231;
                                        int8_t leq_arg1_179862 = ((int8_t *) mem_param_181192.mem)[slice_179861];
                                        int64_t leq_arg1_179863 = ((int64_t *) mem_param_181195.mem)[slice_179861];
                                        int32_t leq_arg1_179864 = ((int32_t *) mem_param_181198.mem)[slice_179861];
                                        int64_t slice_179869 = stride_177042 + tt_177233;
                                        int64_t slice_179870 = start_177116 + slice_179869;
                                        int8_t leq_arg0_179871 = ((int8_t *) mem_param_181192.mem)[slice_179870];
                                        int64_t leq_arg0_179872 = ((int64_t *) mem_param_181195.mem)[slice_179870];
                                        int32_t leq_arg0_179873 = ((int32_t *) mem_param_181198.mem)[slice_179870];
                                        bool cond_179874 = leq_arg0_179871 == leq_arg1_179862;
                                        bool defunc_0_leq_res_t_res_179875 = sle64(leq_arg0_179872, leq_arg1_179863);
                                        bool defunc_0_leq_res_179876 = sle32(leq_arg0_179873, leq_arg1_179864);
                                        bool x_179877 = cond_179874 && defunc_0_leq_res_t_res_179875;
                                        bool x_179878 = !cond_179874;
                                        bool y_179879 = defunc_0_leq_res_179876 && x_179878;
                                        bool defunc_0_leq_res_179880 = x_179877 || y_179879;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        
                                        if (defunc_0_leq_res_179880) {
                                            int64_t tmp_179883 = add64((int64_t) 1, tt_177233);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = ss_177231;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tmp_179883;
                                        } else {
                                            int64_t tmp_179884 = add64((int64_t) 1, ss_177231);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = tmp_179884;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tt_177233;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = tt_177234;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = (int64_t) 0;
                                    } else {
                                        int64_t m_177283 = sdiv64(count_177235, (int64_t) 2);
                                        int64_t n_177284 = sub64(count_177235, m_177283);
                                        bool cond_177285 = n_177284 == (int64_t) 0;
                                        int64_t zgze_lhs_177286 = add64(ss_177231, m_177283);
                                        bool cond_f_res_177287 = sle64(ss_177232, zgze_lhs_177286);
                                        bool x_177288 = !cond_177285;
                                        bool y_177289 = cond_f_res_177287 && x_177288;
                                        bool cond_177290 = cond_177285 || y_177289;
                                        bool leq_y_x_177291;
                                        
                                        if (cond_177290) {
                                            leq_y_x_177291 = 1;
                                        } else {
                                            bool x_177292 = sle64((int64_t) 0, zgze_lhs_177286);
                                            bool y_177293 = slt64(zgze_lhs_177286, stride_177042);
                                            bool bounds_check_177294 = x_177292 && y_177293;
                                            bool index_certs_177295;
                                            
                                            if (!bounds_check_177294) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177286, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177300 = add64(tt_177233, n_177284);
                                            int64_t leq_arg0_177301 = sub64(zm_lhs_177300, (int64_t) 1);
                                            bool x_177302 = sle64((int64_t) 0, leq_arg0_177301);
                                            bool y_177303 = slt64(leq_arg0_177301, j_m_i_177065);
                                            bool bounds_check_177304 = x_177302 && y_177303;
                                            bool index_certs_177305;
                                            
                                            if (!bounds_check_177304) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177301, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177296 = start_177116 + zgze_lhs_177286;
                                            int8_t leq_arg1_177297 = ((int8_t *) mem_param_181192.mem)[slice_177296];
                                            int64_t leq_arg1_177298 = ((int64_t *) mem_param_181195.mem)[slice_177296];
                                            int32_t leq_arg1_177299 = ((int32_t *) mem_param_181198.mem)[slice_177296];
                                            int64_t slice_177306 = stride_177042 + leq_arg0_177301;
                                            int64_t slice_177307 = start_177116 + slice_177306;
                                            int8_t leq_arg0_177308 = ((int8_t *) mem_param_181192.mem)[slice_177307];
                                            int64_t leq_arg0_177309 = ((int64_t *) mem_param_181195.mem)[slice_177307];
                                            int32_t leq_arg0_177310 = ((int32_t *) mem_param_181198.mem)[slice_177307];
                                            bool cond_177311 = leq_arg0_177308 == leq_arg1_177297;
                                            bool defunc_0_leq_res_t_res_177312 = sle64(leq_arg0_177309, leq_arg1_177298);
                                            bool defunc_0_leq_res_177313 = sle32(leq_arg0_177310, leq_arg1_177299);
                                            bool x_177314 = cond_177311 && defunc_0_leq_res_t_res_177312;
                                            bool x_177315 = !cond_177311;
                                            bool y_177316 = defunc_0_leq_res_177313 && x_177315;
                                            bool defunc_0_leq_res_177317 = x_177314 || y_177316;
                                            
                                            leq_y_x_177291 = defunc_0_leq_res_177317;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                        
                                        if (leq_y_x_177291) {
                                            int64_t tmp_179885 = add64(tt_177233, n_177284);
                                            int64_t tmp_179886 = sub64(count_177235, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tmp_179885;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tt_177234;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = tmp_179886;
                                        } else {
                                            int64_t tmp_177323 = add64(tt_177233, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tt_177233;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tmp_177323;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = count_177235;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = ss_177231;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                    }
                                    defunc_0_lifted_step_res_f_res_177245 = defunc_0_lifted_step_res_f_res_f_res_177251;
                                    defunc_0_lifted_step_res_f_res_177246 = defunc_0_lifted_step_res_f_res_f_res_177252;
                                    defunc_0_lifted_step_res_f_res_177247 = defunc_0_lifted_step_res_f_res_f_res_177253;
                                    defunc_0_lifted_step_res_f_res_177248 = defunc_0_lifted_step_res_f_res_f_res_177254;
                                }
                                defunc_0_lifted_step_res_177238 = defunc_0_lifted_step_res_f_res_177245;
                                defunc_0_lifted_step_res_177239 = defunc_0_lifted_step_res_f_res_177246;
                                defunc_0_lifted_step_res_177240 = defunc_0_lifted_step_res_f_res_177247;
                                defunc_0_lifted_step_res_177241 = defunc_0_lifted_step_res_f_res_177248;
                            }
                            
                            int64_t loopres_177324;
                            int64_t loopres_177325;
                            int64_t loopres_177326;
                            int64_t loopres_177327;
                            int64_t loopres_177328;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_177324, &loopres_177325, &loopres_177326, &loopres_177327, &loopres_177328, defunc_0_lifted_step_res_177238, ss_177232, defunc_0_lifted_step_res_177239, defunc_0_lifted_step_res_177240, defunc_0_lifted_step_res_177241) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177329 = slt64((int64_t) 0, loopres_177328);
                            bool loop_while_tmp_181942 = loop_cond_177329;
                            int64_t ss_tmp_181943 = loopres_177324;
                            int64_t ss_tmp_181944 = loopres_177325;
                            int64_t tt_tmp_181945 = loopres_177326;
                            int64_t tt_tmp_181946 = loopres_177327;
                            int64_t count_tmp_181947 = loopres_177328;
                            
                            loop_while_177230 = loop_while_tmp_181942;
                            ss_177231 = ss_tmp_181943;
                            ss_177232 = ss_tmp_181944;
                            tt_177233 = tt_tmp_181945;
                            tt_177234 = tt_tmp_181946;
                            count_177235 = count_tmp_181947;
                        }
                        defunc_0_split_count_res_177224 = loop_while_177230;
                        defunc_0_split_count_res_177225 = ss_177231;
                        defunc_0_split_count_res_177226 = ss_177232;
                        defunc_0_split_count_res_177227 = tt_177233;
                        defunc_0_split_count_res_177228 = tt_177234;
                        defunc_0_split_count_res_177229 = count_177235;
                        ((int64_t *) mem_181220)[i_180116] = defunc_0_split_count_res_177225;
                        ((int64_t *) mem_181222)[i_180116] = defunc_0_split_count_res_177227;
                    }
                    if (mem_181236_cached_sizze_182182 < flat_dim_177066) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182182, flat_dim_177066);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181239_cached_sizze_182183 < bytes_181238) {
                        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_182183, bytes_181238);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181242_cached_sizze_182184 < bytes_181241) {
                        err = lexical_realloc(ctx, &mem_181242, &mem_181242_cached_sizze_182184, bytes_181241);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180125 = 0; i_180125 < num_blocks_177063; i_180125++) {
                        bool y_177336 = slt64(i_180125, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool index_certs_177338;
                        
                        if (!y_177336) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180125, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177339 = ((int64_t *) mem_181220)[i_180125];
                        int64_t defunc_0_f_res_177340 = ((int64_t *) mem_181222)[i_180125];
                        int64_t tmp_177341 = add64((int64_t) 1, i_180125);
                        bool x_177342 = sle64((int64_t) 0, tmp_177341);
                        bool y_177343 = slt64(tmp_177341, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool bounds_check_177344 = x_177342 && y_177343;
                        bool index_certs_177345;
                        
                        if (!bounds_check_177344) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177346 = ((int64_t *) mem_181220)[tmp_177341];
                        int64_t defunc_0_f_res_177347 = ((int64_t *) mem_181222)[tmp_177341];
                        int64_t merge_sequential_arg2_177348 = add64(stride_177042, defunc_0_f_res_177340);
                        int64_t merge_sequential_arg2_177349 = add64(stride_177042, defunc_0_f_res_177347);
                        int64_t j_m_i_177350 = sub64(merge_sequential_arg2_177349, merge_sequential_arg2_177348);
                        bool empty_slice_177351 = j_m_i_177350 == (int64_t) 0;
                        int64_t m_177352 = sub64(j_m_i_177350, (int64_t) 1);
                        int64_t i_p_m_t_s_177353 = add64(merge_sequential_arg2_177348, m_177352);
                        bool zzero_leq_i_p_m_t_s_177354 = sle64((int64_t) 0, i_p_m_t_s_177353);
                        bool i_p_m_t_s_leq_w_177355 = slt64(i_p_m_t_s_177353, next_stride_177043);
                        bool zzero_lte_i_177356 = sle64((int64_t) 0, merge_sequential_arg2_177348);
                        bool i_lte_j_177357 = sle64(merge_sequential_arg2_177348, merge_sequential_arg2_177349);
                        bool y_177358 = i_p_m_t_s_leq_w_177355 && zzero_lte_i_177356;
                        bool y_177359 = zzero_leq_i_p_m_t_s_177354 && y_177358;
                        bool forwards_ok_177360 = i_lte_j_177357 && y_177359;
                        bool ok_or_empty_177361 = empty_slice_177351 || forwards_ok_177360;
                        bool index_certs_177362;
                        
                        if (!ok_or_empty_177361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177348, ":", (long long) merge_sequential_arg2_177349, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177363 = sub64(defunc_0_f_res_177346, defunc_0_f_res_177339);
                        bool empty_slice_177364 = j_m_i_177363 == (int64_t) 0;
                        int64_t m_177365 = sub64(j_m_i_177363, (int64_t) 1);
                        int64_t i_p_m_t_s_177366 = add64(defunc_0_f_res_177339, m_177365);
                        bool zzero_leq_i_p_m_t_s_177367 = sle64((int64_t) 0, i_p_m_t_s_177366);
                        bool i_p_m_t_s_leq_w_177368 = slt64(i_p_m_t_s_177366, next_stride_177043);
                        bool zzero_lte_i_177369 = sle64((int64_t) 0, defunc_0_f_res_177339);
                        bool i_lte_j_177370 = sle64(defunc_0_f_res_177339, defunc_0_f_res_177346);
                        bool y_177371 = i_p_m_t_s_leq_w_177368 && zzero_lte_i_177369;
                        bool y_177372 = zzero_leq_i_p_m_t_s_177367 && y_177371;
                        bool forwards_ok_177373 = i_lte_j_177370 && y_177372;
                        bool ok_or_empty_177374 = empty_slice_177364 || forwards_ok_177373;
                        bool index_certs_177375;
                        
                        if (!ok_or_empty_177374) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177339, ":", (long long) defunc_0_f_res_177346, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177376 = slt64((int64_t) 0, j_m_i_177363);
                        int8_t dummy_177377;
                        int64_t dummy_177378;
                        int32_t dummy_177379;
                        
                        if (cond_177376) {
                            bool index_certs_179887;
                            
                            if (!cond_177376) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179888 = start_177116 + defunc_0_f_res_177339;
                            int8_t head_res_179889 = ((int8_t *) mem_param_181192.mem)[slice_179888];
                            int64_t head_res_179890 = ((int64_t *) mem_param_181195.mem)[slice_179888];
                            int32_t head_res_179891 = ((int32_t *) mem_param_181198.mem)[slice_179888];
                            
                            dummy_177377 = head_res_179889;
                            dummy_177378 = head_res_179890;
                            dummy_177379 = head_res_179891;
                        } else {
                            bool y_177385 = slt64((int64_t) 0, j_m_i_177350);
                            bool index_certs_177386;
                            
                            if (!y_177385) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177387 = start_177116 + merge_sequential_arg2_177348;
                            int8_t head_res_177388 = ((int8_t *) mem_param_181192.mem)[slice_177387];
                            int64_t head_res_177389 = ((int64_t *) mem_param_181195.mem)[slice_177387];
                            int32_t head_res_177390 = ((int32_t *) mem_param_181198.mem)[slice_177387];
                            
                            dummy_177377 = head_res_177388;
                            dummy_177378 = head_res_177389;
                            dummy_177379 = head_res_177390;
                        }
                        for (int64_t nest_i_181951 = 0; nest_i_181951 < merge_block_sizze_176880; nest_i_181951++) {
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + nest_i_181951] = dummy_177377;
                        }
                        for (int64_t nest_i_181952 = 0; nest_i_181952 < merge_block_sizze_176880; nest_i_181952++) {
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + nest_i_181952] = dummy_177378;
                        }
                        for (int64_t nest_i_181953 = 0; nest_i_181953 < merge_block_sizze_176880; nest_i_181953++) {
                            ((int32_t *) mem_181242)[i_180125 * merge_block_sizze_176880 + nest_i_181953] = dummy_177379;
                        }
                        
                        int64_t data_177394;
                        int64_t i_177399 = (int64_t) 0;
                        
                        for (int64_t k_177398 = 0; k_177398 < merge_block_sizze_176880; k_177398++) {
                            int64_t j_177403 = sub64(k_177398, i_177399);
                            bool cond_177404 = j_177403 == j_m_i_177350;
                            bool cond_177405;
                            
                            if (cond_177404) {
                                cond_177405 = 1;
                            } else {
                                bool cond_177406 = slt64(i_177399, j_m_i_177363);
                                bool cond_f_res_177407;
                                
                                if (cond_177406) {
                                    bool x_179892 = sle64((int64_t) 0, j_177403);
                                    bool y_179893 = slt64(j_177403, j_m_i_177350);
                                    bool bounds_check_179894 = x_179892 && y_179893;
                                    bool index_certs_179895;
                                    
                                    if (!bounds_check_179894) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179901 = sle64((int64_t) 0, i_177399);
                                    bool bounds_check_179902 = cond_177406 && x_179901;
                                    bool index_certs_179903;
                                    
                                    if (!bounds_check_179902) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179896 = merge_sequential_arg2_177348 + j_177403;
                                    int64_t slice_179897 = start_177116 + slice_179896;
                                    int8_t leq_arg1_179898 = ((int8_t *) mem_param_181192.mem)[slice_179897];
                                    int64_t leq_arg1_179899 = ((int64_t *) mem_param_181195.mem)[slice_179897];
                                    int32_t leq_arg1_179900 = ((int32_t *) mem_param_181198.mem)[slice_179897];
                                    int64_t slice_179904 = defunc_0_f_res_177339 + i_177399;
                                    int64_t slice_179905 = start_177116 + slice_179904;
                                    int8_t leq_arg0_179906 = ((int8_t *) mem_param_181192.mem)[slice_179905];
                                    int64_t leq_arg0_179907 = ((int64_t *) mem_param_181195.mem)[slice_179905];
                                    int32_t leq_arg0_179908 = ((int32_t *) mem_param_181198.mem)[slice_179905];
                                    bool cond_179909 = leq_arg0_179906 == leq_arg1_179898;
                                    bool defunc_0_leq_res_t_res_179910 = sle64(leq_arg0_179907, leq_arg1_179899);
                                    bool defunc_0_leq_res_179911 = sle32(leq_arg0_179908, leq_arg1_179900);
                                    bool x_179912 = cond_179909 && defunc_0_leq_res_t_res_179910;
                                    bool x_179913 = !cond_179909;
                                    bool y_179914 = defunc_0_leq_res_179911 && x_179913;
                                    bool defunc_0_leq_res_179915 = x_179912 || y_179914;
                                    
                                    cond_f_res_177407 = defunc_0_leq_res_179915;
                                } else {
                                    cond_f_res_177407 = 0;
                                }
                                cond_177405 = cond_f_res_177407;
                            }
                            
                            int64_t loopres_177432;
                            int8_t loopres_177433;
                            int64_t loopres_177434;
                            int32_t loopres_177435;
                            
                            if (cond_177405) {
                                bool x_179917 = sle64((int64_t) 0, i_177399);
                                bool y_179918 = slt64(i_177399, j_m_i_177363);
                                bool bounds_check_179919 = x_179917 && y_179918;
                                bool index_certs_179920;
                                
                                if (!bounds_check_179919) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179916 = add64((int64_t) 1, i_177399);
                                int64_t slice_179921 = defunc_0_f_res_177339 + i_177399;
                                int64_t slice_179922 = start_177116 + slice_179921;
                                int8_t tmp_179923 = ((int8_t *) mem_param_181192.mem)[slice_179922];
                                int64_t tmp_179924 = ((int64_t *) mem_param_181195.mem)[slice_179922];
                                int32_t tmp_179925 = ((int32_t *) mem_param_181198.mem)[slice_179922];
                                
                                loopres_177432 = tmp_179916;
                                loopres_177433 = tmp_179923;
                                loopres_177434 = tmp_179924;
                                loopres_177435 = tmp_179925;
                            } else {
                                bool x_177446 = sle64((int64_t) 0, j_177403);
                                bool y_177447 = slt64(j_177403, j_m_i_177350);
                                bool bounds_check_177448 = x_177446 && y_177447;
                                bool index_certs_177449;
                                
                                if (!bounds_check_177448) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177450 = merge_sequential_arg2_177348 + j_177403;
                                int64_t slice_177451 = start_177116 + slice_177450;
                                int8_t tmp_177452 = ((int8_t *) mem_param_181192.mem)[slice_177451];
                                int64_t tmp_177453 = ((int64_t *) mem_param_181195.mem)[slice_177451];
                                int32_t tmp_177454 = ((int32_t *) mem_param_181198.mem)[slice_177451];
                                
                                loopres_177432 = i_177399;
                                loopres_177433 = tmp_177452;
                                loopres_177434 = tmp_177453;
                                loopres_177435 = tmp_177454;
                            }
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177433;
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177434;
                            ((int32_t *) mem_181242)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177435;
                            
                            int64_t i_tmp_181954 = loopres_177432;
                            
                            i_177399 = i_tmp_181954;
                        }
                        data_177394 = i_177399;
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_177066, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint8_t *) mem_181236, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181238, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint64_t *) mem_181239, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181241, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint32_t *) mem_181242, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181299, "mem_181299") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181200, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181203, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181329.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181206, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181326.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181346, bytes_181199, "mem_181346")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181346.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint8_t *) mem_181200, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181350, bytes_181202, "mem_181350")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181350.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint64_t *) mem_181203, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181354, bytes_181205, "mem_181354")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181354.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint32_t *) mem_181206, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            
            bool loop_cond_177468 = slt64(next_stride_177043, flat_dim_176875);
            
            if (memblock_set(ctx, &mem_param_tmp_181921, &mem_181346, "mem_181346") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181922, &mem_181350, "mem_181350") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181923, &mem_181354, "mem_181354") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181924 = bytes_181199;
            bool loop_while_tmp_181925 = loop_cond_177468;
            int64_t stride_tmp_181929 = next_stride_177043;
            
            if (memblock_set(ctx, &mem_param_181192, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181195, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181198, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
                return 1;
            loop_dz2084Uz2082U_177037 = loop_dz2084Uz2082U_tmp_181924;
            loop_while_177038 = loop_while_tmp_181925;
            stride_177042 = stride_tmp_181929;
        }
        if (memblock_set(ctx, &ext_mem_181364, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181363, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181362, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        data_177031 = loop_dz2084Uz2082U_177037;
        data_177032 = loop_while_177038;
        data_177036 = stride_177042;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177471 = slt64(zs_lhs_176859, data_177031);
        bool y_177472 = i_p_m_t_s_leq_w_177471 && zzero_leq_i_p_m_t_s_177485;
        bool ok_or_empty_177473 = y_177472 || empty_slice_177483;
        bool index_certs_177474;
        
        if (!ok_or_empty_177473) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) data_177031, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181373, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181373.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180284.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181370.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180286.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181367.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180284, "mem_180284") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181701, &mem_180286, "mem_180286") != 0)
        return 1;
    prim_out_181702 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    if (memblock_set(ctx, &*mem_out_p_182131, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182132, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182133, &mem_out_181701, "mem_out_181701") != 0)
        return 1;
    *out_prim_out_182134 = prim_out_181702;
    
  cleanup:
    {
        free(mem_180297);
        free(mem_180299);
        free(mem_180338);
        free(mem_180341);
        free(mem_180344);
        free(mem_180357);
        free(mem_180359);
        free(mem_180361);
        free(mem_180458);
        free(mem_180461);
        free(mem_180464);
        free(mem_180478);
        free(mem_180480);
        free(mem_180494);
        free(mem_180497);
        free(mem_180500);
        free(mem_180642);
        free(mem_180644);
        free(mem_180659);
        free(mem_180661);
        free(mem_180664);
        free(mem_180667);
        free(mem_180701);
        free(mem_180704);
        free(mem_180707);
        free(mem_180720);
        free(mem_180722);
        free(mem_180724);
        free(mem_180821);
        free(mem_180824);
        free(mem_180827);
        free(mem_180841);
        free(mem_180843);
        free(mem_180857);
        free(mem_180860);
        free(mem_180863);
        free(mem_181080);
        free(mem_181083);
        free(mem_181086);
        free(mem_181099);
        free(mem_181101);
        free(mem_181103);
        free(mem_181200);
        free(mem_181203);
        free(mem_181206);
        free(mem_181220);
        free(mem_181222);
        free(mem_181236);
        free(mem_181239);
        free(mem_181242);
        if (memblock_unref(ctx, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181350, "mem_181350") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181346, "mem_181346") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181303, "mem_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180612, "mem_180612") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180608, "mem_180608") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180604, "mem_180604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180557, "mem_180557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180553, "mem_180553") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180549, "mem_180549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180563, "mem_180563") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180561, "mem_180561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180559, "mem_180559") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180456, "mem_param_180456") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180453, "mem_param_180453") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180450, "mem_param_180450") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180620, "ext_mem_180620") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180621, "ext_mem_180621") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180622, "ext_mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180316, "mem_180316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180312, "mem_180312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181023, "mem_181023") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181022, "mem_181022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180971, "mem_180971") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180967, "mem_180967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180920, "mem_180920") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180916, "mem_180916") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180912, "mem_180912") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180926, "mem_180926") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180924, "mem_180924") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180922, "mem_180922") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180819, "mem_param_180819") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180816, "mem_param_180816") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180813, "mem_param_180813") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180983, "ext_mem_180983") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180984, "ext_mem_180984") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180985, "ext_mem_180985") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180286, "mem_180286") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180284, "mem_180284") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181701, "mem_out_181701") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_182185, struct memblock *mem_out_p_182186, struct memblock *mem_out_p_182187, int64_t *out_prim_out_182188, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_141478, int64_t nb_141479, int64_t window_sizze_141480, int64_t threads_141481, bool inParallel_141484)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180297_cached_sizze_182189 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182190 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180338_cached_sizze_182191 = 0;
    unsigned char *mem_180338 = NULL;
    int64_t mem_180341_cached_sizze_182192 = 0;
    unsigned char *mem_180341 = NULL;
    int64_t mem_180344_cached_sizze_182193 = 0;
    unsigned char *mem_180344 = NULL;
    int64_t mem_180357_cached_sizze_182194 = 0;
    unsigned char *mem_180357 = NULL;
    int64_t mem_180359_cached_sizze_182195 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180361_cached_sizze_182196 = 0;
    unsigned char *mem_180361 = NULL;
    int64_t mem_180458_cached_sizze_182197 = 0;
    unsigned char *mem_180458 = NULL;
    int64_t mem_180461_cached_sizze_182198 = 0;
    unsigned char *mem_180461 = NULL;
    int64_t mem_180464_cached_sizze_182199 = 0;
    unsigned char *mem_180464 = NULL;
    int64_t mem_180478_cached_sizze_182200 = 0;
    unsigned char *mem_180478 = NULL;
    int64_t mem_180480_cached_sizze_182201 = 0;
    unsigned char *mem_180480 = NULL;
    int64_t mem_180494_cached_sizze_182202 = 0;
    unsigned char *mem_180494 = NULL;
    int64_t mem_180497_cached_sizze_182203 = 0;
    unsigned char *mem_180497 = NULL;
    int64_t mem_180500_cached_sizze_182204 = 0;
    unsigned char *mem_180500 = NULL;
    int64_t mem_180642_cached_sizze_182205 = 0;
    unsigned char *mem_180642 = NULL;
    int64_t mem_180644_cached_sizze_182206 = 0;
    unsigned char *mem_180644 = NULL;
    int64_t mem_180659_cached_sizze_182207 = 0;
    unsigned char *mem_180659 = NULL;
    int64_t mem_180661_cached_sizze_182208 = 0;
    unsigned char *mem_180661 = NULL;
    int64_t mem_180664_cached_sizze_182209 = 0;
    unsigned char *mem_180664 = NULL;
    int64_t mem_180667_cached_sizze_182210 = 0;
    unsigned char *mem_180667 = NULL;
    int64_t mem_180701_cached_sizze_182211 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180704_cached_sizze_182212 = 0;
    unsigned char *mem_180704 = NULL;
    int64_t mem_180707_cached_sizze_182213 = 0;
    unsigned char *mem_180707 = NULL;
    int64_t mem_180720_cached_sizze_182214 = 0;
    unsigned char *mem_180720 = NULL;
    int64_t mem_180722_cached_sizze_182215 = 0;
    unsigned char *mem_180722 = NULL;
    int64_t mem_180724_cached_sizze_182216 = 0;
    unsigned char *mem_180724 = NULL;
    int64_t mem_180821_cached_sizze_182217 = 0;
    unsigned char *mem_180821 = NULL;
    int64_t mem_180824_cached_sizze_182218 = 0;
    unsigned char *mem_180824 = NULL;
    int64_t mem_180827_cached_sizze_182219 = 0;
    unsigned char *mem_180827 = NULL;
    int64_t mem_180841_cached_sizze_182220 = 0;
    unsigned char *mem_180841 = NULL;
    int64_t mem_180843_cached_sizze_182221 = 0;
    unsigned char *mem_180843 = NULL;
    int64_t mem_180857_cached_sizze_182222 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180860_cached_sizze_182223 = 0;
    unsigned char *mem_180860 = NULL;
    int64_t mem_180863_cached_sizze_182224 = 0;
    unsigned char *mem_180863 = NULL;
    int64_t mem_181080_cached_sizze_182225 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182226 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181086_cached_sizze_182227 = 0;
    unsigned char *mem_181086 = NULL;
    int64_t mem_181099_cached_sizze_182228 = 0;
    unsigned char *mem_181099 = NULL;
    int64_t mem_181101_cached_sizze_182229 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181103_cached_sizze_182230 = 0;
    unsigned char *mem_181103 = NULL;
    int64_t mem_181200_cached_sizze_182231 = 0;
    unsigned char *mem_181200 = NULL;
    int64_t mem_181203_cached_sizze_182232 = 0;
    unsigned char *mem_181203 = NULL;
    int64_t mem_181206_cached_sizze_182233 = 0;
    unsigned char *mem_181206 = NULL;
    int64_t mem_181220_cached_sizze_182234 = 0;
    unsigned char *mem_181220 = NULL;
    int64_t mem_181222_cached_sizze_182235 = 0;
    unsigned char *mem_181222 = NULL;
    int64_t mem_181236_cached_sizze_182236 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181239_cached_sizze_182237 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181242_cached_sizze_182238 = 0;
    unsigned char *mem_181242 = NULL;
    struct memblock mem_param_tmp_181923;
    
    mem_param_tmp_181923.references = NULL;
    
    struct memblock mem_param_tmp_181922;
    
    mem_param_tmp_181922.references = NULL;
    
    struct memblock mem_param_tmp_181921;
    
    mem_param_tmp_181921.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock mem_181350;
    
    mem_181350.references = NULL;
    
    struct memblock mem_181346;
    
    mem_181346.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181303;
    
    mem_181303.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock ext_mem_181326;
    
    ext_mem_181326.references = NULL;
    
    struct memblock ext_mem_181329;
    
    ext_mem_181329.references = NULL;
    
    struct memblock ext_mem_181332;
    
    ext_mem_181332.references = NULL;
    
    struct memblock mem_param_181198;
    
    mem_param_181198.references = NULL;
    
    struct memblock mem_param_181195;
    
    mem_param_181195.references = NULL;
    
    struct memblock mem_param_181192;
    
    mem_param_181192.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181364;
    
    ext_mem_181364.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181184;
    
    mem_181184.references = NULL;
    
    struct memblock mem_181180;
    
    mem_181180.references = NULL;
    
    struct memblock ext_mem_181367;
    
    ext_mem_181367.references = NULL;
    
    struct memblock ext_mem_181370;
    
    ext_mem_181370.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock mem_181078;
    
    mem_181078.references = NULL;
    
    struct memblock mem_181076;
    
    mem_181076.references = NULL;
    
    struct memblock mem_181074;
    
    mem_181074.references = NULL;
    
    struct memblock mem_param_tmp_181857;
    
    mem_param_tmp_181857.references = NULL;
    
    struct memblock mem_param_tmp_181856;
    
    mem_param_tmp_181856.references = NULL;
    
    struct memblock mem_param_tmp_181855;
    
    mem_param_tmp_181855.references = NULL;
    
    struct memblock mem_180612;
    
    mem_180612.references = NULL;
    
    struct memblock mem_180608;
    
    mem_180608.references = NULL;
    
    struct memblock mem_180604;
    
    mem_180604.references = NULL;
    
    struct memblock mem_180557;
    
    mem_180557.references = NULL;
    
    struct memblock mem_180553;
    
    mem_180553.references = NULL;
    
    struct memblock mem_180549;
    
    mem_180549.references = NULL;
    
    struct memblock mem_180563;
    
    mem_180563.references = NULL;
    
    struct memblock mem_180561;
    
    mem_180561.references = NULL;
    
    struct memblock mem_180559;
    
    mem_180559.references = NULL;
    
    struct memblock ext_mem_180584;
    
    ext_mem_180584.references = NULL;
    
    struct memblock ext_mem_180587;
    
    ext_mem_180587.references = NULL;
    
    struct memblock ext_mem_180590;
    
    ext_mem_180590.references = NULL;
    
    struct memblock mem_param_180456;
    
    mem_param_180456.references = NULL;
    
    struct memblock mem_param_180453;
    
    mem_param_180453.references = NULL;
    
    struct memblock mem_param_180450;
    
    mem_param_180450.references = NULL;
    
    struct memblock ext_mem_180620;
    
    ext_mem_180620.references = NULL;
    
    struct memblock ext_mem_180621;
    
    ext_mem_180621.references = NULL;
    
    struct memblock ext_mem_180622;
    
    ext_mem_180622.references = NULL;
    
    struct memblock mem_180446;
    
    mem_180446.references = NULL;
    
    struct memblock mem_180442;
    
    mem_180442.references = NULL;
    
    struct memblock mem_180438;
    
    mem_180438.references = NULL;
    
    struct memblock ext_mem_180625;
    
    ext_mem_180625.references = NULL;
    
    struct memblock ext_mem_180628;
    
    ext_mem_180628.references = NULL;
    
    struct memblock ext_mem_180631;
    
    ext_mem_180631.references = NULL;
    
    struct memblock mem_180336;
    
    mem_180336.references = NULL;
    
    struct memblock mem_180334;
    
    mem_180334.references = NULL;
    
    struct memblock mem_180332;
    
    mem_180332.references = NULL;
    
    struct memblock mem_180316;
    
    mem_180316.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180312;
    
    mem_180312.references = NULL;
    
    struct memblock mem_181023;
    
    mem_181023.references = NULL;
    
    struct memblock mem_181022;
    
    mem_181022.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_param_tmp_181763;
    
    mem_param_tmp_181763.references = NULL;
    
    struct memblock mem_param_tmp_181762;
    
    mem_param_tmp_181762.references = NULL;
    
    struct memblock mem_param_tmp_181761;
    
    mem_param_tmp_181761.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock mem_180971;
    
    mem_180971.references = NULL;
    
    struct memblock mem_180967;
    
    mem_180967.references = NULL;
    
    struct memblock mem_180920;
    
    mem_180920.references = NULL;
    
    struct memblock mem_180916;
    
    mem_180916.references = NULL;
    
    struct memblock mem_180912;
    
    mem_180912.references = NULL;
    
    struct memblock mem_180926;
    
    mem_180926.references = NULL;
    
    struct memblock mem_180924;
    
    mem_180924.references = NULL;
    
    struct memblock mem_180922;
    
    mem_180922.references = NULL;
    
    struct memblock ext_mem_180947;
    
    ext_mem_180947.references = NULL;
    
    struct memblock ext_mem_180950;
    
    ext_mem_180950.references = NULL;
    
    struct memblock ext_mem_180953;
    
    ext_mem_180953.references = NULL;
    
    struct memblock mem_param_180819;
    
    mem_param_180819.references = NULL;
    
    struct memblock mem_param_180816;
    
    mem_param_180816.references = NULL;
    
    struct memblock mem_param_180813;
    
    mem_param_180813.references = NULL;
    
    struct memblock ext_mem_180983;
    
    ext_mem_180983.references = NULL;
    
    struct memblock ext_mem_180984;
    
    ext_mem_180984.references = NULL;
    
    struct memblock ext_mem_180985;
    
    ext_mem_180985.references = NULL;
    
    struct memblock mem_180809;
    
    mem_180809.references = NULL;
    
    struct memblock mem_180805;
    
    mem_180805.references = NULL;
    
    struct memblock mem_180801;
    
    mem_180801.references = NULL;
    
    struct memblock ext_mem_180988;
    
    ext_mem_180988.references = NULL;
    
    struct memblock ext_mem_180991;
    
    ext_mem_180991.references = NULL;
    
    struct memblock ext_mem_180994;
    
    ext_mem_180994.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_180697;
    
    mem_180697.references = NULL;
    
    struct memblock mem_180695;
    
    mem_180695.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock ext_mem_181050;
    
    ext_mem_181050.references = NULL;
    
    struct memblock mem_180286;
    
    mem_180286.references = NULL;
    
    struct memblock mem_180284;
    
    mem_180284.references = NULL;
    
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t prim_out_181702;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769 = add64(na_141478, nb_141479);
    
    if (memblock_alloc(ctx, &mem_180282, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181703 = 0; nest_i_181703 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181703++) {
        ((int8_t *) mem_180282.mem)[nest_i_181703] = (int8_t) -1;
    }
    
    int64_t bytes_180283 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    
    if (memblock_alloc(ctx, &mem_180284, bytes_180283, "mem_180284")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181704 = 0; nest_i_181704 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181704++) {
        ((int64_t *) mem_180284.mem)[nest_i_181704] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_180286, bytes_180283, "mem_180286")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181705 = 0; nest_i_181705 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181705++) {
        ((int64_t *) mem_180286.mem)[nest_i_181705] = (int64_t) 0;
    }
    
    int64_t zl_rhs_174773 = sub64(na_141478, window_sizze_141480);
    bool cond_174774 = slt64((int64_t) 0, zl_rhs_174773);
    int64_t zl_rhs_174775 = sub64(nb_141479, window_sizze_141480);
    bool loop_cond_t_res_174776 = slt64((int64_t) 0, zl_rhs_174775);
    bool x_174777 = cond_174774 && loop_cond_t_res_174776;
    bool empty_slice_174778 = window_sizze_141480 == (int64_t) 0;
    int64_t m_174779 = sub64(window_sizze_141480, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804 = add64((int64_t) 1, threads_141481);
    int64_t partitionFunc_arg0_175805 = mul64((int64_t) 2, threads_141481);
    bool y_175807 = slt64((int64_t) 0, window_sizze_141480);
    bool loop_cond_176053 = slt64((int64_t) 0, threads_141481);
    bool zzero_174824 = threads_141481 == (int64_t) 0;
    bool nonzzero_174825 = !zzero_174824;
    bool loop_not_taken_177582 = !inParallel_141484;
    bool protect_assert_disj_177583 = nonzzero_174825 || loop_not_taken_177582;
    bool loop_not_taken_177672 = !x_174777;
    bool protect_assert_disj_177673 = protect_assert_disj_177583 || loop_not_taken_177672;
    bool nonzzero_cert_174826;
    
    if (!protect_assert_disj_177673) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174827 = sdiv_safe64(window_sizze_141480, threads_141481);
    int64_t perThread_174828 = add64((int64_t) 1, zp_rhs_174827);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829 = mul64(threads_141481, perThread_174828);
    bool protect_assert_disj_177719 = inParallel_141484 || y_175807;
    bool protect_assert_disj_177723 = loop_not_taken_177672 || protect_assert_disj_177719;
    bool index_certs_175808;
    
    if (!protect_assert_disj_177723) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175823 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, (int64_t) 1);
    bool y_176780 = slt64(threads_141481, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
    bool protect_assert_disj_177688 = y_175807 || loop_not_taken_177582;
    bool protect_assert_disj_177727 = loop_not_taken_177672 || protect_assert_disj_177688;
    bool index_certs_174832;
    
    if (!protect_assert_disj_177727) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175825 = !bounds_invalid_upwards_175823;
    bool protect_assert_disj_177735 = inParallel_141484 || y_176780;
    bool protect_assert_disj_177737 = loop_not_taken_177672 || protect_assert_disj_177735;
    bool index_certs_176782;
    
    if (!protect_assert_disj_177737) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_141481, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177731 = y_176780 || loop_not_taken_177582;
    bool protect_assert_disj_177739 = loop_not_taken_177672 || protect_assert_disj_177731;
    bool index_certs_175786;
    
    if (!protect_assert_disj_177739) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_141481, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177747 = inParallel_141484 || valid_175825;
    bool protect_assert_disj_177749 = loop_not_taken_177672 || protect_assert_disj_177747;
    bool range_valid_c_175826;
    
    if (!protect_assert_disj_177749) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177591 = sle64((int64_t) 1, threads_141481);
    bool protect_assert_disj_177743 = valid_175825 || loop_not_taken_177582;
    bool protect_assert_disj_177751 = loop_not_taken_177672 || protect_assert_disj_177743;
    bool range_valid_c_174839;
    
    if (!protect_assert_disj_177751) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175828 = add64(window_sizze_141480, window_sizze_141480);
    bool zzero_175829 = partitionFunc_arg0_175805 == (int64_t) 0;
    int64_t index_concat_i_177592 = sub64(threads_141481, (int64_t) 1);
    bool nonzzero_175830 = !zzero_175829;
    bool protect_assert_disj_177759 = inParallel_141484 || nonzzero_175830;
    bool protect_assert_disj_177765 = loop_not_taken_177672 || protect_assert_disj_177759;
    bool nonzzero_cert_175831;
    
    if (!protect_assert_disj_177765) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177755 = nonzzero_175830 || loop_not_taken_177582;
    bool protect_assert_disj_177771 = loop_not_taken_177672 || protect_assert_disj_177755;
    bool nonzzero_cert_174844;
    
    if (!protect_assert_disj_177771) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180296 = (int64_t) 8 * threads_141481;
    int64_t bytes_180313 = (int64_t) 8 * window_sizze_141480;
    int64_t bytes_180658 = perThread_174828 * bytes_180296;
    bool defunc_0_merge_pipeline_res_174780;
    int64_t defunc_0_merge_pipeline_res_174784;
    int64_t defunc_0_merge_pipeline_res_174785;
    bool loop_while_174786;
    int64_t p_174790;
    int64_t p_174791;
    
    loop_while_174786 = x_174777;
    p_174790 = (int64_t) 0;
    p_174791 = (int64_t) 0;
    while (loop_while_174786) {
        int64_t ubs_174792 = add64(window_sizze_141480, p_174790);
        int64_t ubs_174793 = add64(window_sizze_141480, p_174791);
        int64_t ind_bottom_174794 = add64(p_174790, p_174791);
        int64_t ind_top_174795 = add64(window_sizze_141480, ind_bottom_174794);
        int64_t i_p_m_t_s_174796 = add64(m_174779, p_174790);
        bool zzero_leq_i_p_m_t_s_174797 = sle64((int64_t) 0, i_p_m_t_s_174796);
        bool i_p_m_t_s_leq_w_174798 = slt64(i_p_m_t_s_174796, na_141478);
        bool zzero_lte_i_174799 = sle64((int64_t) 0, p_174790);
        bool i_lte_j_174800 = sle64(p_174790, ubs_174792);
        bool y_174801 = i_p_m_t_s_leq_w_174798 && zzero_lte_i_174799;
        bool y_174802 = zzero_leq_i_p_m_t_s_174797 && y_174801;
        bool forwards_ok_174803 = i_lte_j_174800 && y_174802;
        bool ok_or_empty_174804 = empty_slice_174778 || forwards_ok_174803;
        bool index_certs_174805;
        
        if (!ok_or_empty_174804) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174790, ":", (long long) ubs_174792, "] out of bounds for array of shape [", (long long) na_141478, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174807 = add64(m_174779, p_174791);
        bool zzero_leq_i_p_m_t_s_174808 = sle64((int64_t) 0, i_p_m_t_s_174807);
        bool i_p_m_t_s_leq_w_174809 = slt64(i_p_m_t_s_174807, nb_141479);
        bool zzero_lte_i_174810 = sle64((int64_t) 0, p_174791);
        bool i_lte_j_174811 = sle64(p_174791, ubs_174793);
        bool y_174812 = i_p_m_t_s_leq_w_174809 && zzero_lte_i_174810;
        bool y_174813 = zzero_leq_i_p_m_t_s_174808 && y_174812;
        bool forwards_ok_174814 = i_lte_j_174811 && y_174813;
        bool ok_or_empty_174815 = empty_slice_174778 || forwards_ok_174814;
        bool index_certs_174816;
        
        if (!ok_or_empty_174815) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174791, ":", (long long) ubs_174793, "] out of bounds for array of shape [", (long long) nb_141479, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176794 = add64(m_174779, ind_bottom_174794);
        bool zzero_leq_i_p_m_t_s_176795 = sle64((int64_t) 0, i_p_m_t_s_176794);
        bool i_p_m_t_s_leq_w_176796 = slt64(i_p_m_t_s_176794, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
        bool zzero_lte_i_176797 = sle64((int64_t) 0, ind_bottom_174794);
        bool i_lte_j_176798 = sle64(ind_bottom_174794, ind_top_174795);
        bool y_176799 = i_p_m_t_s_leq_w_176796 && zzero_lte_i_176797;
        bool y_176800 = zzero_leq_i_p_m_t_s_176795 && y_176799;
        bool forwards_ok_176801 = i_lte_j_176798 && y_176800;
        bool ok_or_empty_176802 = empty_slice_174778 || forwards_ok_176801;
        bool index_certs_176803;
        
        if (!ok_or_empty_176802) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174794, ":", (long long) ind_top_174795, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174818;
        int64_t loopres_174819;
        
        if (inParallel_141484) {
            int64_t leq_lhs_178252 = ((int64_t *) a_list_mem_180280.mem)[p_174790];
            int64_t leq_rhs_178253 = ((int64_t *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_178254 = sle64(leq_lhs_178252, leq_rhs_178253);
            int64_t lowest_178255;
            
            if (defunc_0_leq_res_178254) {
                lowest_178255 = leq_lhs_178252;
            } else {
                lowest_178255 = leq_rhs_178253;
            }
            if (mem_180642_cached_sizze_182205 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180642, &mem_180642_cached_sizze_182205, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180644_cached_sizze_182206 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180644, &mem_180644_cached_sizze_182206, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179944 = 0; i_179944 < threads_141481; i_179944++) {
                int64_t index_primexp_180216 = add64((int64_t) 1, i_179944);
                int64_t zs_lhs_178260 = mul64(zt_rhs_175828, index_primexp_180216);
                int64_t index_178261 = sdiv64(zs_lhs_178260, partitionFunc_arg0_175805);
                bool cond_178262 = slt64(window_sizze_141480, index_178261);
                int64_t loop_over_178263;
                
                if (cond_178262) {
                    loop_over_178263 = window_sizze_141480;
                } else {
                    loop_over_178263 = index_178261;
                }
                
                int64_t loop_over_178264;
                
                if (cond_178262) {
                    int64_t loop_over_t_res_178265 = sub64(index_178261, window_sizze_141480);
                    
                    loop_over_178264 = loop_over_t_res_178265;
                } else {
                    loop_over_178264 = (int64_t) 0;
                }
                
                int64_t loop_over_178266;
                
                if (cond_178262) {
                    int64_t zm_lhs_178267 = sub64(index_178261, window_sizze_141480);
                    int64_t loop_over_t_res_178268 = sub64(zm_lhs_178267, (int64_t) 1);
                    
                    loop_over_178266 = loop_over_t_res_178268;
                } else {
                    loop_over_178266 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178269;
                int64_t defunc_0_f_res_178270;
                int64_t defunc_0_f_res_178271;
                int64_t defunc_0_f_res_178272;
                bool loop_while_178273;
                int64_t p_178274;
                int64_t p_178275;
                int64_t p_178276;
                
                loop_while_178273 = 1;
                p_178274 = loop_over_178266;
                p_178275 = loop_over_178263;
                p_178276 = loop_over_178264;
                while (loop_while_178273) {
                    int64_t zs_lhs_178277 = sub64(p_178275, p_178274);
                    int64_t offset_178278 = sdiv64(zs_lhs_178277, (int64_t) 2);
                    int64_t ai_178279 = sub64(p_178275, offset_178278);
                    int64_t max_arg1_178280 = add64(p_178276, offset_178278);
                    int64_t max_res_178281 = smax64((int64_t) 0, max_arg1_178280);
                    bool cond_178282 = slt64((int64_t) 0, max_res_178281);
                    int64_t b_prev_178283;
                    
                    if (cond_178282) {
                        int64_t tmp_178284 = sub64(max_res_178281, (int64_t) 1);
                        bool x_178285 = sle64((int64_t) 0, tmp_178284);
                        bool y_178286 = slt64(tmp_178284, window_sizze_141480);
                        bool bounds_check_178287 = x_178285 && y_178286;
                        bool index_certs_178288;
                        
                        if (!bounds_check_178287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178284, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178289 = p_174791 + tmp_178284;
                        int64_t b_prev_t_res_178290 = ((int64_t *) b_list_mem_180281.mem)[slice_178289];
                        
                        b_prev_178283 = b_prev_t_res_178290;
                    } else {
                        b_prev_178283 = lowest_178255;
                    }
                    
                    bool cond_178291 = sle64(ai_178279, (int64_t) 0);
                    int64_t loopres_178292;
                    int64_t loopres_178293;
                    int64_t loopres_178294;
                    bool loopres_178295;
                    
                    if (cond_178291) {
                        loopres_178292 = p_178274;
                        loopres_178293 = (int64_t) 0;
                        loopres_178294 = max_res_178281;
                        loopres_178295 = 0;
                    } else {
                        bool cond_178296 = sle64(window_sizze_141480, max_res_178281);
                        int64_t loopres_f_res_178297;
                        int64_t loopres_f_res_178298;
                        int64_t loopres_f_res_178299;
                        bool loopres_f_res_178300;
                        
                        if (cond_178296) {
                            int64_t min_res_178302 = smin64(m_174779, ai_178279);
                            bool x_178303 = sle64((int64_t) 0, m_174779);
                            bool y_178304 = slt64(m_174779, window_sizze_141480);
                            bool bounds_check_178305 = x_178303 && y_178304;
                            bool index_certs_178306;
                            
                            if (!bounds_check_178305) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178309 = sle64((int64_t) 0, min_res_178302);
                            bool y_178310 = slt64(min_res_178302, window_sizze_141480);
                            bool bounds_check_178311 = x_178309 && y_178310;
                            bool index_certs_178312;
                            
                            if (!bounds_check_178311) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178302, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_178308 = ((int64_t *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_178313 = p_174790 + min_res_178302;
                            int64_t leq_rhs_178314 = ((int64_t *) a_list_mem_180280.mem)[slice_178313];
                            bool defunc_0_leq_res_178315 = sle64(leq_lhs_178308, leq_rhs_178314);
                            int64_t loopres_f_res_t_res_178316;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178316 = ai_178279;
                            } else {
                                loopres_f_res_t_res_178316 = p_178275;
                            }
                            
                            bool x_178317 = !defunc_0_leq_res_178315;
                            int64_t loopres_f_res_t_res_178318;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178318 = window_sizze_141480;
                            } else {
                                int64_t tmp_178319 = sub64(m_174779, offset_178278);
                                
                                loopres_f_res_t_res_178318 = tmp_178319;
                            }
                            loopres_f_res_178297 = p_178274;
                            loopres_f_res_178298 = loopres_f_res_t_res_178316;
                            loopres_f_res_178299 = loopres_f_res_t_res_178318;
                            loopres_f_res_178300 = x_178317;
                        } else {
                            bool cond_178320 = sle64(window_sizze_141480, ai_178279);
                            int64_t loopres_f_res_f_res_178321;
                            int64_t loopres_f_res_f_res_178322;
                            int64_t loopres_f_res_f_res_178323;
                            bool loopres_f_res_f_res_178324;
                            
                            if (cond_178320) {
                                int64_t min_res_178326 = smin64(m_174779, max_res_178281);
                                bool x_178327 = sle64((int64_t) 0, m_174779);
                                bool y_178328 = slt64(m_174779, window_sizze_141480);
                                bool bounds_check_178329 = x_178327 && y_178328;
                                bool index_certs_178330;
                                
                                if (!bounds_check_178329) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178333 = sle64((int64_t) 0, min_res_178326);
                                bool y_178334 = slt64(min_res_178326, window_sizze_141480);
                                bool bounds_check_178335 = x_178333 && y_178334;
                                bool index_certs_178336;
                                
                                if (!bounds_check_178335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178326, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_178332 = ((int64_t *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_178337 = p_174791 + min_res_178326;
                                int64_t leq_rhs_178338 = ((int64_t *) b_list_mem_180281.mem)[slice_178337];
                                bool defunc_0_leq_res_178339 = sle64(leq_lhs_178332, leq_rhs_178338);
                                int64_t loopres_f_res_f_res_t_res_178340;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178340 = max_res_178281;
                                } else {
                                    loopres_f_res_f_res_t_res_178340 = p_178276;
                                }
                                
                                bool x_178341 = !defunc_0_leq_res_178339;
                                int64_t loopres_f_res_f_res_t_res_178342;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178342 = window_sizze_141480;
                                } else {
                                    loopres_f_res_f_res_t_res_178342 = m_174779;
                                }
                                loopres_f_res_f_res_178321 = p_178274;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_t_res_178342;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_t_res_178340;
                                loopres_f_res_f_res_178324 = x_178341;
                            } else {
                                bool cond_178343 = sle64(p_178275, p_178274);
                                int64_t loopres_f_res_f_res_f_res_178344;
                                int64_t loopres_f_res_f_res_f_res_178345;
                                int64_t loopres_f_res_f_res_f_res_178346;
                                bool loopres_f_res_f_res_f_res_178347;
                                
                                if (cond_178343) {
                                    bool cond_178348 = slt64(ai_178279, window_sizze_141480);
                                    int64_t ai_178349;
                                    
                                    if (cond_178348) {
                                        ai_178349 = ai_178279;
                                    } else {
                                        ai_178349 = m_174779;
                                    }
                                    
                                    bool x_178362 = sle64((int64_t) 0, ai_178349);
                                    bool y_178363 = slt64(ai_178349, window_sizze_141480);
                                    bool bounds_check_178364 = x_178362 && y_178363;
                                    bool index_certs_178365;
                                    
                                    if (!bounds_check_178364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178349, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_178351;
                                    
                                    if (cond_178282) {
                                        int64_t tmp_178352 = sub64(max_res_178281, (int64_t) 1);
                                        bool x_178353 = sle64((int64_t) 0, tmp_178352);
                                        bool y_178354 = slt64(tmp_178352, window_sizze_141480);
                                        bool bounds_check_178355 = x_178353 && y_178354;
                                        bool index_certs_178356;
                                        
                                        if (!bounds_check_178355) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178352, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178357 = p_174791 + tmp_178352;
                                        int64_t b_prev_t_res_178358 = ((int64_t *) b_list_mem_180281.mem)[slice_178357];
                                        
                                        b_prev_178351 = b_prev_t_res_178358;
                                    } else {
                                        bool index_certs_178360;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178351 = leq_rhs_178253;
                                    }
                                    
                                    int64_t slice_178366 = p_174790 + ai_178349;
                                    int64_t gt_lhs_178367 = ((int64_t *) a_list_mem_180280.mem)[slice_178366];
                                    bool defunc_0_gt_res_178368 = slt64(b_prev_178351, gt_lhs_178367);
                                    int64_t defunc_0_partFunc_sequential_search_res_178369;
                                    int64_t defunc_0_partFunc_sequential_search_res_178370;
                                    
                                    if (defunc_0_gt_res_178368) {
                                        int64_t zl_rhs_178371 = sub64(window_sizze_141480, max_res_178281);
                                        bool loop_cond_178372 = slt64((int64_t) 0, zl_rhs_178371);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178373;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178375;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178376;
                                        bool loop_while_178377;
                                        int64_t p_178378;
                                        int64_t p_178379;
                                        int64_t p_178380;
                                        
                                        loop_while_178377 = loop_cond_178372;
                                        p_178378 = ai_178349;
                                        p_178379 = max_res_178281;
                                        p_178380 = (int64_t) 0;
                                        while (loop_while_178377) {
                                            int64_t i_a_178381 = sub64(ai_178349, p_178380);
                                            int64_t i_b_178382 = add64(max_res_178281, p_178380);
                                            int64_t leq_lhs_178383 = sub64(i_a_178381, (int64_t) 1);
                                            bool x_178384 = sle64((int64_t) 0, leq_lhs_178383);
                                            bool y_178385 = slt64(leq_lhs_178383, window_sizze_141480);
                                            bool bounds_check_178386 = x_178384 && y_178385;
                                            bool index_certs_178387;
                                            
                                            if (!bounds_check_178386) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178383, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178390 = sle64((int64_t) 0, i_b_178382);
                                            bool y_178391 = slt64(i_b_178382, window_sizze_141480);
                                            bool bounds_check_178392 = x_178390 && y_178391;
                                            bool index_certs_178393;
                                            
                                            if (!bounds_check_178392) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178382, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178388 = p_174790 + leq_lhs_178383;
                                            int64_t leq_lhs_178389 = ((int64_t *) a_list_mem_180280.mem)[slice_178388];
                                            int64_t slice_178394 = p_174791 + i_b_178382;
                                            int64_t leq_rhs_178395 = ((int64_t *) b_list_mem_180281.mem)[slice_178394];
                                            bool defunc_0_leq_res_178396 = sle64(leq_lhs_178389, leq_rhs_178395);
                                            int64_t loopres_178397;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178397 = i_a_178381;
                                            } else {
                                                loopres_178397 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178398;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178398 = i_b_178382;
                                            } else {
                                                loopres_178398 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178399;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178399 = zl_rhs_178371;
                                            } else {
                                                int64_t tmp_178400 = add64((int64_t) 1, p_178380);
                                                
                                                loopres_178399 = tmp_178400;
                                            }
                                            
                                            bool loop_cond_178401 = slt64(loopres_178399, zl_rhs_178371);
                                            bool loop_while_tmp_181718 = loop_cond_178401;
                                            int64_t p_tmp_181719 = loopres_178397;
                                            int64_t p_tmp_181720 = loopres_178398;
                                            int64_t p_tmp_181721 = loopres_178399;
                                            
                                            loop_while_178377 = loop_while_tmp_181718;
                                            p_178378 = p_tmp_181719;
                                            p_178379 = p_tmp_181720;
                                            p_178380 = p_tmp_181721;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178373 = loop_while_178377;
                                        defunc_0_partFunc_sequential_search_res_t_res_178374 = p_178378;
                                        defunc_0_partFunc_sequential_search_res_t_res_178375 = p_178379;
                                        defunc_0_partFunc_sequential_search_res_t_res_178376 = p_178380;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_t_res_178375;
                                    } else {
                                        int64_t zl_rhs_178402 = sub64(max_res_178281, (int64_t) 1);
                                        bool loop_cond_178403 = slt64((int64_t) 0, zl_rhs_178402);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178404;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178406;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178407;
                                        bool loop_while_178408;
                                        int64_t p_178409;
                                        int64_t p_178410;
                                        int64_t p_178411;
                                        
                                        loop_while_178408 = loop_cond_178403;
                                        p_178409 = ai_178349;
                                        p_178410 = max_res_178281;
                                        p_178411 = (int64_t) 0;
                                        while (loop_while_178408) {
                                            int64_t zp_lhs_178412 = add64(ai_178349, p_178411);
                                            int64_t hi_a_178413 = add64((int64_t) 1, zp_lhs_178412);
                                            bool cond_178414 = slt64(hi_a_178413, window_sizze_141480);
                                            int64_t i_a_178415;
                                            
                                            if (cond_178414) {
                                                i_a_178415 = hi_a_178413;
                                            } else {
                                                i_a_178415 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_178417 = sub64(max_res_178281, p_178411);
                                            int64_t i_b_178418 = sub64(zm_lhs_178417, (int64_t) 1);
                                            bool x_178419 = sle64((int64_t) 0, i_a_178415);
                                            bool y_178420 = slt64(i_a_178415, window_sizze_141480);
                                            bool bounds_check_178421 = x_178419 && y_178420;
                                            bool index_certs_178422;
                                            
                                            if (!bounds_check_178421) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178415, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178425 = sle64((int64_t) 0, i_b_178418);
                                            bool y_178426 = slt64(i_b_178418, window_sizze_141480);
                                            bool bounds_check_178427 = x_178425 && y_178426;
                                            bool index_certs_178428;
                                            
                                            if (!bounds_check_178427) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178418, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178423 = p_174790 + i_a_178415;
                                            int64_t gt_lhs_178424 = ((int64_t *) a_list_mem_180280.mem)[slice_178423];
                                            int64_t slice_178429 = p_174791 + i_b_178418;
                                            int64_t gt_rhs_178430 = ((int64_t *) b_list_mem_180281.mem)[slice_178429];
                                            bool defunc_0_gt_res_178431 = slt64(gt_rhs_178430, gt_lhs_178424);
                                            int64_t loopres_178432;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178432 = i_a_178415;
                                            } else {
                                                loopres_178432 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178433;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178433 = zm_lhs_178417;
                                            } else {
                                                loopres_178433 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178434;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178434 = zl_rhs_178402;
                                            } else {
                                                int64_t tmp_178435 = add64((int64_t) 1, p_178411);
                                                
                                                loopres_178434 = tmp_178435;
                                            }
                                            
                                            bool loop_cond_178436 = slt64(loopres_178434, zl_rhs_178402);
                                            bool loop_while_tmp_181722 = loop_cond_178436;
                                            int64_t p_tmp_181723 = loopres_178432;
                                            int64_t p_tmp_181724 = loopres_178433;
                                            int64_t p_tmp_181725 = loopres_178434;
                                            
                                            loop_while_178408 = loop_while_tmp_181722;
                                            p_178409 = p_tmp_181723;
                                            p_178410 = p_tmp_181724;
                                            p_178411 = p_tmp_181725;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178404 = loop_while_178408;
                                        defunc_0_partFunc_sequential_search_res_f_res_178405 = p_178409;
                                        defunc_0_partFunc_sequential_search_res_f_res_178406 = p_178410;
                                        defunc_0_partFunc_sequential_search_res_f_res_178407 = p_178411;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_f_res_178406;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = p_178274;
                                    loopres_f_res_f_res_f_res_178345 = defunc_0_partFunc_sequential_search_res_178369;
                                    loopres_f_res_f_res_f_res_178346 = defunc_0_partFunc_sequential_search_res_178370;
                                    loopres_f_res_f_res_f_res_178347 = 0;
                                } else {
                                    bool x_178437 = sle64((int64_t) 0, ai_178279);
                                    bool y_178438 = slt64(ai_178279, window_sizze_141480);
                                    bool bounds_check_178439 = x_178437 && y_178438;
                                    bool index_certs_178440;
                                    
                                    if (!bounds_check_178439) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178279, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178441 = p_174790 + ai_178279;
                                    int64_t gt_lhs_178442 = ((int64_t *) a_list_mem_180280.mem)[slice_178441];
                                    bool defunc_0_gt_res_178443 = slt64(b_prev_178283, gt_lhs_178442);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178444;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178445;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178446;
                                    bool loopres_f_res_f_res_f_res_f_res_178447;
                                    
                                    if (defunc_0_gt_res_178443) {
                                        int64_t leq_lhs_178448 = sub64(ai_178279, (int64_t) 1);
                                        bool x_178449 = sle64((int64_t) 0, leq_lhs_178448);
                                        bool y_178450 = slt64(leq_lhs_178448, window_sizze_141480);
                                        bool bounds_check_178451 = x_178449 && y_178450;
                                        bool index_certs_178452;
                                        
                                        if (!bounds_check_178451) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178448, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178455 = sle64((int64_t) 0, max_res_178281);
                                        bool y_178456 = slt64(max_res_178281, window_sizze_141480);
                                        bool bounds_check_178457 = x_178455 && y_178456;
                                        bool index_certs_178458;
                                        
                                        if (!bounds_check_178457) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178281, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178453 = p_174790 + leq_lhs_178448;
                                        int64_t leq_lhs_178454 = ((int64_t *) a_list_mem_180280.mem)[slice_178453];
                                        int64_t slice_178459 = p_174791 + max_res_178281;
                                        int64_t leq_rhs_178460 = ((int64_t *) b_list_mem_180281.mem)[slice_178459];
                                        bool defunc_0_leq_res_178461 = sle64(leq_lhs_178454, leq_rhs_178460);
                                        bool x_178462 = !defunc_0_leq_res_178461;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = ai_178279;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = leq_lhs_178448;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = max_res_178281;
                                        } else {
                                            int64_t tmp_178465 = add64((int64_t) 1, max_res_178281);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = tmp_178465;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178444 = p_178274;
                                        loopres_f_res_f_res_f_res_f_res_178445 = loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        loopres_f_res_f_res_f_res_f_res_178446 = loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        loopres_f_res_f_res_f_res_f_res_178447 = x_178462;
                                    } else {
                                        int64_t tmp_178466 = add64((int64_t) 1, ai_178279);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178444 = tmp_178466;
                                        loopres_f_res_f_res_f_res_f_res_178445 = p_178275;
                                        loopres_f_res_f_res_f_res_f_res_178446 = p_178276;
                                        loopres_f_res_f_res_f_res_f_res_178447 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = loopres_f_res_f_res_f_res_f_res_178444;
                                    loopres_f_res_f_res_f_res_178345 = loopres_f_res_f_res_f_res_f_res_178445;
                                    loopres_f_res_f_res_f_res_178346 = loopres_f_res_f_res_f_res_f_res_178446;
                                    loopres_f_res_f_res_f_res_178347 = loopres_f_res_f_res_f_res_f_res_178447;
                                }
                                loopres_f_res_f_res_178321 = loopres_f_res_f_res_f_res_178344;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_f_res_178345;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_f_res_178346;
                                loopres_f_res_f_res_178324 = loopres_f_res_f_res_f_res_178347;
                            }
                            loopres_f_res_178297 = loopres_f_res_f_res_178321;
                            loopres_f_res_178298 = loopres_f_res_f_res_178322;
                            loopres_f_res_178299 = loopres_f_res_f_res_178323;
                            loopres_f_res_178300 = loopres_f_res_f_res_178324;
                        }
                        loopres_178292 = loopres_f_res_178297;
                        loopres_178293 = loopres_f_res_178298;
                        loopres_178294 = loopres_f_res_178299;
                        loopres_178295 = loopres_f_res_178300;
                    }
                    
                    bool loop_while_tmp_181714 = loopres_178295;
                    int64_t p_tmp_181715 = loopres_178292;
                    int64_t p_tmp_181716 = loopres_178293;
                    int64_t p_tmp_181717 = loopres_178294;
                    
                    loop_while_178273 = loop_while_tmp_181714;
                    p_178274 = p_tmp_181715;
                    p_178275 = p_tmp_181716;
                    p_178276 = p_tmp_181717;
                }
                defunc_0_f_res_178269 = loop_while_178273;
                defunc_0_f_res_178270 = p_178274;
                defunc_0_f_res_178271 = p_178275;
                defunc_0_f_res_178272 = p_178276;
                ((int64_t *) mem_180642)[i_179944] = defunc_0_f_res_178271;
                ((int64_t *) mem_180644)[i_179944] = defunc_0_f_res_178272;
            }
            if (mem_180659_cached_sizze_182207 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180659, &mem_180659_cached_sizze_182207, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180661_cached_sizze_182208 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829) {
                err = lexical_realloc(ctx, &mem_180661, &mem_180661_cached_sizze_182208, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180664_cached_sizze_182209 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180664, &mem_180664_cached_sizze_182209, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180667_cached_sizze_182210 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180667, &mem_180667_cached_sizze_182210, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180010 = 0; i_180010 < threads_141481; i_180010++) {
                bool y_178480 = slt64(i_180010, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool index_certs_178482;
                
                if (!y_178480) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180010, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178483 = sle64((int64_t) 1, i_180010);
                int64_t index_concat_i_178484 = sub64(i_180010, (int64_t) 1);
                int64_t index_concat_178485;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178486 = ((int64_t *) mem_180642)[index_concat_i_178484];
                    
                    index_concat_178485 = x_178486;
                } else {
                    index_concat_178485 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178487;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178487 = index_concat_178485;
                } else {
                    index_concat_branch_178487 = (int64_t) 0;
                }
                
                int64_t index_concat_178488;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178489 = ((int64_t *) mem_180644)[index_concat_i_178484];
                    
                    index_concat_178488 = x_178489;
                } else {
                    index_concat_178488 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178490;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178490 = index_concat_178488;
                } else {
                    index_concat_branch_178490 = (int64_t) 0;
                }
                
                int64_t ubs_178491 = add64((int64_t) 1, i_180010);
                bool x_178492 = sle64((int64_t) 0, ubs_178491);
                bool y_178493 = slt64(ubs_178491, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_178494 = x_178492 && y_178493;
                bool index_certs_178495;
                
                if (!bounds_check_178494) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178491, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178496 = sle64((int64_t) 1, ubs_178491);
                int64_t index_concat_178497;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178498 = ((int64_t *) mem_180642)[i_180010];
                    
                    index_concat_178497 = x_178498;
                } else {
                    index_concat_178497 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178499;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178499 = index_concat_178497;
                } else {
                    index_concat_branch_178499 = (int64_t) 0;
                }
                
                int64_t index_concat_178500;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178501 = ((int64_t *) mem_180644)[i_180010];
                    
                    index_concat_178500 = x_178501;
                } else {
                    index_concat_178500 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178502;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178502 = index_concat_178500;
                } else {
                    index_concat_branch_178502 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 = sub64(index_concat_branch_178502, index_concat_branch_178490);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 = sub64(index_concat_branch_178499, index_concat_branch_178487);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t zm_lhs_178506 = add64(index_concat_branch_178499, index_concat_branch_178502);
                int64_t zm_rhs_178507 = add64(index_concat_branch_178487, index_concat_branch_178490);
                int64_t card_178508 = sub64(zm_lhs_178506, zm_rhs_178507);
                bool empty_slice_178509 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 == (int64_t) 0;
                int64_t m_178510 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 1);
                int64_t i_p_m_t_s_178511 = add64(index_concat_branch_178487, m_178510);
                bool zzero_leq_i_p_m_t_s_178512 = sle64((int64_t) 0, i_p_m_t_s_178511);
                bool i_p_m_t_s_leq_w_178513 = slt64(i_p_m_t_s_178511, window_sizze_141480);
                bool zzero_lte_i_178514 = sle64((int64_t) 0, index_concat_branch_178487);
                bool i_lte_j_178515 = sle64(index_concat_branch_178487, index_concat_branch_178499);
                bool y_178516 = i_p_m_t_s_leq_w_178513 && zzero_lte_i_178514;
                bool y_178517 = zzero_leq_i_p_m_t_s_178512 && y_178516;
                bool forwards_ok_178518 = i_lte_j_178515 && y_178517;
                bool ok_or_empty_178519 = empty_slice_178509 || forwards_ok_178518;
                bool index_certs_178520;
                
                if (!ok_or_empty_178519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178487, ":", (long long) index_concat_branch_178499, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178521 = slt64(index_concat_branch_178499, index_concat_branch_178487);
                bool valid_178522 = !bounds_invalid_upwards_178521;
                bool range_valid_c_178523;
                
                if (!valid_178522) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178487, "..<", (long long) index_concat_branch_178499, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178528 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 == (int64_t) 0;
                int64_t m_178529 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, (int64_t) 1);
                int64_t i_p_m_t_s_178530 = add64(index_concat_branch_178490, m_178529);
                bool zzero_leq_i_p_m_t_s_178531 = sle64((int64_t) 0, i_p_m_t_s_178530);
                bool i_p_m_t_s_leq_w_178532 = slt64(i_p_m_t_s_178530, window_sizze_141480);
                bool zzero_lte_i_178533 = sle64((int64_t) 0, index_concat_branch_178490);
                bool i_lte_j_178534 = sle64(index_concat_branch_178490, index_concat_branch_178502);
                bool y_178535 = i_p_m_t_s_leq_w_178532 && zzero_lte_i_178533;
                bool y_178536 = zzero_leq_i_p_m_t_s_178531 && y_178535;
                bool forwards_ok_178537 = i_lte_j_178534 && y_178536;
                bool ok_or_empty_178538 = empty_slice_178528 || forwards_ok_178537;
                bool index_certs_178539;
                
                if (!ok_or_empty_178538) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178490, ":", (long long) index_concat_branch_178502, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178540 = slt64(index_concat_branch_178502, index_concat_branch_178490);
                bool valid_178541 = !bounds_invalid_upwards_178540;
                bool range_valid_c_178542;
                
                if (!valid_178541) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178490, "..<", (long long) index_concat_branch_178502, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180696 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool cond_178550 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zs_lhs_178551 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zp_rhs_178552 = sdiv_safe64(zs_lhs_178551, (int64_t) 20);
                int64_t min_num_blocks_178553 = add64((int64_t) 1, zp_rhs_178552);
                bool loop_cond_178554 = slt64((int64_t) 1, min_num_blocks_178553);
                bool smallest_pow_2_geq_than_res_178555;
                int64_t smallest_pow_2_geq_than_res_178556;
                bool loop_while_178557;
                int64_t x_178558;
                
                loop_while_178557 = loop_cond_178554;
                x_178558 = (int64_t) 1;
                while (loop_while_178557) {
                    int64_t loopres_178559 = mul64((int64_t) 2, x_178558);
                    bool loop_cond_178560 = slt64(loopres_178559, min_num_blocks_178553);
                    bool loop_while_tmp_181730 = loop_cond_178560;
                    int64_t x_tmp_181731 = loopres_178559;
                    
                    loop_while_178557 = loop_while_tmp_181730;
                    x_178558 = x_tmp_181731;
                }
                smallest_pow_2_geq_than_res_178555 = loop_while_178557;
                smallest_pow_2_geq_than_res_178556 = x_178558;
                
                bool zzero_178561 = smallest_pow_2_geq_than_res_178556 == (int64_t) 0;
                bool nonzzero_178562 = !zzero_178561;
                bool protect_assert_disj_178563 = cond_178550 || nonzzero_178562;
                bool nonzzero_cert_178564;
                
                if (!protect_assert_disj_178563) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178565 = sdiv_safe64(zs_lhs_178551, smallest_pow_2_geq_than_res_178556);
                int64_t block_sizze_178566 = add64((int64_t) 1, zp_rhs_178565);
                bool y_178573 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                bool protect_assert_disj_181442 = cond_178550 || y_178573;
                bool index_certs_178574;
                
                if (!protect_assert_disj_181442) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178611 = slt64(smallest_pow_2_geq_than_res_178556, (int64_t) 0);
                bool valid_178612 = !bounds_invalid_upwards_178611;
                bool protect_assert_disj_181452 = cond_178550 || valid_178612;
                bool range_valid_c_178613;
                
                if (!protect_assert_disj_181452) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178556, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178615 = slt64(block_sizze_178566, (int64_t) 0);
                bool valid_178616 = !bounds_invalid_upwards_178615;
                bool protect_assert_disj_181454 = cond_178550 || valid_178616;
                bool range_valid_c_178617;
                
                if (!protect_assert_disj_181454) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178566, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178619 = sle64(block_sizze_178566, (int64_t) 1);
                int64_t tmp_178620 = sub64(block_sizze_178566, (int64_t) 2);
                bool bounds_invalid_upwards_178621 = slt64(tmp_178620, (int64_t) 0);
                bool valid_178623 = !bounds_invalid_upwards_178621;
                bool protect_assert_disj_178624 = cond_178619 || valid_178623;
                bool protect_assert_disj_181456 = cond_178550 || protect_assert_disj_178624;
                bool range_valid_c_178625;
                
                if (!protect_assert_disj_181456) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178620, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179205 = card_178508 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool empty_or_match_cert_179206;
                
                if (!dim_match_179205) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] cannot match shape of type `[", (long long) card_178508, "](i8, i64, i64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179207 = card_178508 == (int64_t) 0;
                int64_t m_179208 = sub64(card_178508, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179209 = sle64((int64_t) 0, m_179208);
                bool i_p_m_t_s_leq_w_179210 = slt64(m_179208, card_178508);
                bool y_179211 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179210;
                bool ok_or_empty_179212 = empty_slice_179207 || y_179211;
                bool index_certs_179213;
                
                if (!ok_or_empty_179212) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) card_178508, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, perThread_174828);
                bool y_179215 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179214;
                bool ok_or_empty_179216 = empty_slice_179207 || y_179215;
                bool index_certs_179217;
                
                if (!ok_or_empty_179216) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181732 = 0; nest_i_181732 < perThread_174828; nest_i_181732++) {
                    ((int8_t *) mem_180661)[i_180010 * perThread_174828 + nest_i_181732] = (int8_t) -1;
                }
                for (int64_t nest_i_181733 = 0; nest_i_181733 < perThread_174828; nest_i_181733++) {
                    ((int64_t *) mem_180664)[i_180010 * perThread_174828 + nest_i_181733] = (int64_t) -1;
                }
                for (int64_t nest_i_181734 = 0; nest_i_181734 < perThread_174828; nest_i_181734++) {
                    ((int64_t *) mem_180667)[i_180010 * perThread_174828 + nest_i_181734] = (int64_t) 0;
                }
                
                int64_t slice_178524 = p_174790 + index_concat_branch_178487;
                
                if (memblock_alloc(ctx, &mem_180695, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "mem_180695")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181735 = 0; nest_i_181735 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; nest_i_181735++) {
                    ((int8_t *) mem_180695.mem)[nest_i_181735] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180697, bytes_180696, "mem_180697")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181736 = 0; i_181736 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; i_181736++) {
                    int64_t x_181737 = index_concat_branch_178487 + i_181736 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[i_181736] = x_181737;
                }
                
                int64_t slice_178543 = p_174791 + index_concat_branch_178490;
                
                for (int64_t nest_i_181738 = 0; nest_i_181738 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; nest_i_181738++) {
                    ((int8_t *) mem_180695.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + nest_i_181738] = (int8_t) 1;
                }
                for (int64_t i_181739 = 0; i_181739 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; i_181739++) {
                    int64_t x_181740 = index_concat_branch_178490 + i_181739 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + i_181739] = x_181740;
                }
                
                int64_t tmp_offs_181741 = (int64_t) 0;
                
                if (!(tmp_offs_181741 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181741 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t tmp_offs_181742 = (int64_t) 0;
                
                if (!(tmp_offs_181742 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181742 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                if (memblock_alloc(ctx, &mem_180699, bytes_180696, "mem_180699")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181743 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180280.mem, slice_178524, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180281.mem, slice_178543, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t flat_dim_178567 = smallest_pow_2_geq_than_res_178556 * block_sizze_178566;
                bool x_181437 = !cond_178550;
                int64_t greatest_divisor_leq_than_arg1_178571 = mul64((int64_t) 2, block_sizze_178566);
                int64_t merge_block_sizze_178572;
                
                if (x_181437) {
                    int64_t x_181439;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181439, (int64_t) 8, greatest_divisor_leq_than_arg1_178571) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178572 = x_181439;
                } else {
                    merge_block_sizze_178572 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178575 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 0);
                int8_t index_concat_branch_178576 = btoi_bool_i8(index_concat_cmp_178575);
                int64_t index_concat_i_178578 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t index_primexp_178579 = add64(index_concat_branch_178490, index_concat_i_178578);
                int64_t index_concat_branch_178577;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178577 = index_primexp_178579;
                } else {
                    index_concat_branch_178577 = index_concat_branch_178487;
                }
                
                bool x_181433 = !index_concat_cmp_178575;
                bool protect_cond_conj_181443 = x_181433 && x_181437;
                int64_t index_concat_178585;
                
                if (protect_cond_conj_181443) {
                    int64_t x_181435 = ((int64_t *) a_list_mem_180280.mem)[slice_178524];
                    
                    index_concat_178585 = x_181435;
                } else {
                    index_concat_178585 = (int64_t) 0;
                }
                
                int64_t slice_178583 = p_174791 + index_primexp_178579;
                bool protect_cond_conj_181444 = index_concat_cmp_178575 && x_181437;
                int64_t index_concat_178584;
                
                if (protect_cond_conj_181444) {
                    int64_t x_181431 = ((int64_t *) b_list_mem_180281.mem)[slice_178583];
                    
                    index_concat_178584 = x_181431;
                } else {
                    index_concat_178584 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178580;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178580 = index_concat_178584;
                } else {
                    index_concat_branch_178580 = index_concat_178585;
                }
                
                int8_t defunc_0_reduce_res_178586;
                int64_t defunc_0_reduce_res_178587;
                int64_t defunc_0_reduce_res_178588;
                
                if (x_181437) {
                    int8_t x_181445;
                    int64_t x_181446;
                    int64_t x_181447;
                    int8_t redout_179947;
                    int64_t redout_179948;
                    int64_t redout_179949;
                    
                    redout_179947 = index_concat_branch_178576;
                    redout_179948 = index_concat_branch_178577;
                    redout_179949 = index_concat_branch_178580;
                    for (int64_t i_179950 = 0; i_179950 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505; i_179950++) {
                        bool index_concat_cmp_180208 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, i_179950);
                        int8_t index_concat_branch_180212 = btoi_bool_i8(index_concat_cmp_180208);
                        int64_t index_concat_branch_180206;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180203 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t index_primexp_180256 = add64(index_concat_branch_178490, index_concat_i_180203);
                            
                            index_concat_branch_180206 = index_primexp_180256;
                        } else {
                            int64_t index_primexp_180258 = add64(index_concat_branch_178487, i_179950);
                            
                            index_concat_branch_180206 = index_primexp_180258;
                        }
                        
                        int64_t index_concat_branch_180200;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180197 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t slice_180253 = slice_178543 + index_concat_i_180197;
                            int64_t index_concat_180198 = ((int64_t *) b_list_mem_180281.mem)[slice_180253];
                            
                            index_concat_branch_180200 = index_concat_180198;
                        } else {
                            int64_t slice_180254 = slice_178524 + i_179950;
                            int64_t index_concat_180199 = ((int64_t *) a_list_mem_180280.mem)[slice_180254];
                            
                            index_concat_branch_180200 = index_concat_180199;
                        }
                        
                        bool eq_x_y_180270 = redout_179947 == (int8_t) 1;
                        bool eq_x_zz_180271 = redout_179947 == (int8_t) 0;
                        bool p_and_eq_x_y_180272 = index_concat_cmp_180208 && eq_x_y_180270;
                        bool not_p_180273 = !index_concat_cmp_180208;
                        bool p_and_eq_x_y_180274 = eq_x_zz_180271 && not_p_180273;
                        bool cond_178598 = p_and_eq_x_y_180272 || p_and_eq_x_y_180274;
                        bool defunc_0_leq_res_t_res_178599 = sle64(redout_179948, index_concat_branch_180206);
                        bool defunc_0_leq_res_178600 = sle64(redout_179949, index_concat_branch_180200);
                        bool x_178601 = cond_178598 && defunc_0_leq_res_t_res_178599;
                        bool x_178602 = !cond_178598;
                        bool y_178603 = defunc_0_leq_res_178600 && x_178602;
                        bool defunc_0_leq_res_178604 = x_178601 || y_178603;
                        int8_t defunc_0_op_res_178605;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178605 = index_concat_branch_180212;
                        } else {
                            defunc_0_op_res_178605 = redout_179947;
                        }
                        
                        int64_t defunc_0_op_res_178606;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178606 = index_concat_branch_180206;
                        } else {
                            defunc_0_op_res_178606 = redout_179948;
                        }
                        
                        int64_t defunc_0_op_res_178607;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178607 = index_concat_branch_180200;
                        } else {
                            defunc_0_op_res_178607 = redout_179949;
                        }
                        
                        int8_t redout_tmp_181744 = defunc_0_op_res_178605;
                        int64_t redout_tmp_181745 = defunc_0_op_res_178606;
                        int64_t redout_tmp_181746 = defunc_0_op_res_178607;
                        
                        redout_179947 = redout_tmp_181744;
                        redout_179948 = redout_tmp_181745;
                        redout_179949 = redout_tmp_181746;
                    }
                    x_181445 = redout_179947;
                    x_181446 = redout_179948;
                    x_181447 = redout_179949;
                    defunc_0_reduce_res_178586 = x_181445;
                    defunc_0_reduce_res_178587 = x_181446;
                    defunc_0_reduce_res_178588 = x_181447;
                } else {
                    defunc_0_reduce_res_178586 = (int8_t) 0;
                    defunc_0_reduce_res_178587 = (int64_t) 0;
                    defunc_0_reduce_res_178588 = (int64_t) 0;
                }
                
                int64_t distance_178622 = add64((int64_t) 1, tmp_178620);
                int64_t binop_x_180702 = (int64_t) 8 * smallest_pow_2_geq_than_res_178556;
                int64_t bytes_180703 = block_sizze_178566 * binop_x_180702;
                int64_t bytes_180721 = (int64_t) 8 * block_sizze_178566;
                bool loop_cond_178748 = slt64(block_sizze_178566, flat_dim_178567);
                bool zzero_178749 = merge_block_sizze_178572 == (int64_t) 0;
                bool nonzzero_178750 = !zzero_178749;
                
                if (cond_178550) {
                    if (memblock_set(ctx, &ext_mem_180994, &mem_180695, "mem_180695") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &mem_180697, "mem_180697") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &mem_180699, "mem_180699") != 0)
                        return 1;
                } else {
                    if (mem_180701_cached_sizze_182211 < flat_dim_178567) {
                        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182211, flat_dim_178567);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180704_cached_sizze_182212 < bytes_180703) {
                        err = lexical_realloc(ctx, &mem_180704, &mem_180704_cached_sizze_182212, bytes_180703);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180707_cached_sizze_182213 < bytes_180703) {
                        err = lexical_realloc(ctx, &mem_180707, &mem_180707_cached_sizze_182213, bytes_180703);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180720_cached_sizze_182214 < block_sizze_178566) {
                        err = lexical_realloc(ctx, &mem_180720, &mem_180720_cached_sizze_182214, block_sizze_178566);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180722_cached_sizze_182215 < bytes_180721) {
                        err = lexical_realloc(ctx, &mem_180722, &mem_180722_cached_sizze_182215, bytes_180721);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180724_cached_sizze_182216 < bytes_180721) {
                        err = lexical_realloc(ctx, &mem_180724, &mem_180724_cached_sizze_182216, bytes_180721);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179967 = 0; i_179967 < smallest_pow_2_geq_than_res_178556; i_179967++) {
                        int64_t zp_lhs_178630 = mul64(block_sizze_178566, i_179967);
                        
                        for (int64_t i_179957 = 0; i_179957 < block_sizze_178566; i_179957++) {
                            int64_t k_178635 = add64(zp_lhs_178630, i_179957);
                            bool cond_178636 = slt64(k_178635, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                            int8_t lifted_lambda_res_178637;
                            int64_t lifted_lambda_res_178638;
                            int64_t lifted_lambda_res_178639;
                            
                            if (cond_178636) {
                                bool x_178640 = sle64((int64_t) 0, k_178635);
                                bool bounds_check_178641 = cond_178636 && x_178640;
                                bool index_certs_178642;
                                
                                if (!bounds_check_178641) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178635, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178643 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, k_178635);
                                int8_t index_concat_branch_178644 = btoi_bool_i8(index_concat_cmp_178643);
                                int64_t index_concat_branch_178645;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178646 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t index_primexp_178647 = add64(index_concat_branch_178490, index_concat_i_178646);
                                    
                                    index_concat_branch_178645 = index_primexp_178647;
                                } else {
                                    int64_t index_primexp_178648 = add64(index_concat_branch_178487, k_178635);
                                    
                                    index_concat_branch_178645 = index_primexp_178648;
                                }
                                
                                int64_t index_concat_branch_178649;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178650 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t slice_178651 = index_concat_branch_178490 + index_concat_i_178650;
                                    int64_t slice_178652 = p_174791 + slice_178651;
                                    int64_t index_concat_178653 = ((int64_t *) b_list_mem_180281.mem)[slice_178652];
                                    
                                    index_concat_branch_178649 = index_concat_178653;
                                } else {
                                    int64_t slice_178654 = index_concat_branch_178487 + k_178635;
                                    int64_t slice_178655 = p_174790 + slice_178654;
                                    int64_t index_concat_178656 = ((int64_t *) a_list_mem_180280.mem)[slice_178655];
                                    
                                    index_concat_branch_178649 = index_concat_178656;
                                }
                                lifted_lambda_res_178637 = index_concat_branch_178644;
                                lifted_lambda_res_178638 = index_concat_branch_178645;
                                lifted_lambda_res_178639 = index_concat_branch_178649;
                            } else {
                                lifted_lambda_res_178637 = defunc_0_reduce_res_178586;
                                lifted_lambda_res_178638 = defunc_0_reduce_res_178587;
                                lifted_lambda_res_178639 = defunc_0_reduce_res_178588;
                            }
                            ((int8_t *) mem_180720)[i_179957] = lifted_lambda_res_178637;
                            ((int64_t *) mem_180722)[i_179957] = lifted_lambda_res_178638;
                            ((int64_t *) mem_180724)[i_179957] = lifted_lambda_res_178639;
                        }
                        if (!cond_178619) {
                            for (int64_t i_178666 = 0; i_178666 < distance_178622; i_178666++) {
                                int64_t gt_arg1_178670 = add64((int64_t) 1, i_178666);
                                bool x_178671 = sle64((int64_t) 0, gt_arg1_178670);
                                bool y_178672 = slt64(gt_arg1_178670, block_sizze_178566);
                                bool bounds_check_178673 = x_178671 && y_178672;
                                bool index_certs_178674;
                                
                                if (!bounds_check_178673) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178670, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178678 = slt64(i_178666, block_sizze_178566);
                                bool index_certs_178679;
                                
                                if (!y_178678) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178666, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178675 = ((int8_t *) mem_180720)[gt_arg1_178670];
                                int64_t gt_arg1_178676 = ((int64_t *) mem_180722)[gt_arg1_178670];
                                int64_t gt_arg1_178677 = ((int64_t *) mem_180724)[gt_arg1_178670];
                                int8_t gt_arg0_178680 = ((int8_t *) mem_180720)[i_178666];
                                int64_t gt_arg0_178681 = ((int64_t *) mem_180722)[i_178666];
                                int64_t gt_arg0_178682 = ((int64_t *) mem_180724)[i_178666];
                                bool cond_178683 = gt_arg0_178680 == gt_arg1_178675;
                                bool defunc_0_leq_res_t_res_178684 = sle64(gt_arg0_178681, gt_arg1_178676);
                                bool defunc_0_leq_res_178685 = sle64(gt_arg0_178682, gt_arg1_178677);
                                bool x_178686 = cond_178683 && defunc_0_leq_res_t_res_178684;
                                bool x_178687 = !cond_178683;
                                bool y_178688 = defunc_0_leq_res_178685 && x_178687;
                                bool defunc_0_leq_res_178689 = x_178686 || y_178688;
                                bool defunc_0_lifted_gt_res_178690 = !defunc_0_leq_res_178689;
                                bool s_178691;
                                int64_t s_178695;
                                bool loop_while_178696;
                                int64_t j_178700;
                                
                                loop_while_178696 = defunc_0_lifted_gt_res_178690;
                                j_178700 = i_178666;
                                while (loop_while_178696) {
                                    bool x_178701 = sle64((int64_t) 0, j_178700);
                                    bool y_178702 = slt64(j_178700, block_sizze_178566);
                                    bool bounds_check_178703 = x_178701 && y_178702;
                                    bool index_certs_178704;
                                    
                                    if (!bounds_check_178703) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178700, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178708 = add64((int64_t) 1, j_178700);
                                    bool x_178709 = sle64((int64_t) 0, copy_arg0_178708);
                                    bool y_178710 = slt64(copy_arg0_178708, block_sizze_178566);
                                    bool bounds_check_178711 = x_178709 && y_178710;
                                    bool index_certs_178712;
                                    
                                    if (!bounds_check_178711) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178708, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178705 = ((int8_t *) mem_180720)[j_178700];
                                    int64_t copy_arg0_178706 = ((int64_t *) mem_180722)[j_178700];
                                    int64_t copy_arg0_178707 = ((int64_t *) mem_180724)[j_178700];
                                    int8_t copy_arg0_178713 = ((int8_t *) mem_180720)[copy_arg0_178708];
                                    int64_t copy_arg0_178714 = ((int64_t *) mem_180722)[copy_arg0_178708];
                                    int64_t copy_arg0_178715 = ((int64_t *) mem_180724)[copy_arg0_178708];
                                    
                                    ((int8_t *) mem_180720)[j_178700] = copy_arg0_178713;
                                    ((int64_t *) mem_180722)[j_178700] = copy_arg0_178714;
                                    ((int64_t *) mem_180724)[j_178700] = copy_arg0_178715;
                                    ((int8_t *) mem_180720)[copy_arg0_178708] = copy_arg0_178705;
                                    ((int64_t *) mem_180722)[copy_arg0_178708] = copy_arg0_178706;
                                    ((int64_t *) mem_180724)[copy_arg0_178708] = copy_arg0_178707;
                                    
                                    int64_t tmp_178722 = sub64(j_178700, (int64_t) 1);
                                    bool cond_178723 = sle64((int64_t) 0, tmp_178722);
                                    bool loop_cond_178724;
                                    
                                    if (cond_178723) {
                                        bool y_178728 = slt64(tmp_178722, block_sizze_178566);
                                        bool bounds_check_178729 = cond_178723 && y_178728;
                                        bool index_certs_178730;
                                        
                                        if (!bounds_check_178729) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178722, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178725 = ((int8_t *) mem_180720)[j_178700];
                                        int64_t gt_arg1_178726 = ((int64_t *) mem_180722)[j_178700];
                                        int64_t gt_arg1_178727 = ((int64_t *) mem_180724)[j_178700];
                                        int8_t gt_arg0_178731 = ((int8_t *) mem_180720)[tmp_178722];
                                        int64_t gt_arg0_178732 = ((int64_t *) mem_180722)[tmp_178722];
                                        int64_t gt_arg0_178733 = ((int64_t *) mem_180724)[tmp_178722];
                                        bool cond_178734 = gt_arg0_178731 == gt_arg1_178725;
                                        bool defunc_0_leq_res_t_res_178735 = sle64(gt_arg0_178732, gt_arg1_178726);
                                        bool defunc_0_leq_res_178736 = sle64(gt_arg0_178733, gt_arg1_178727);
                                        bool x_178737 = cond_178734 && defunc_0_leq_res_t_res_178735;
                                        bool x_178738 = !cond_178734;
                                        bool y_178739 = defunc_0_leq_res_178736 && x_178738;
                                        bool defunc_0_leq_res_178740 = x_178737 || y_178739;
                                        bool defunc_0_lifted_gt_res_178741 = !defunc_0_leq_res_178740;
                                        
                                        loop_cond_178724 = defunc_0_lifted_gt_res_178741;
                                    } else {
                                        loop_cond_178724 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181756 = loop_cond_178724;
                                    int64_t j_tmp_181760 = tmp_178722;
                                    
                                    loop_while_178696 = loop_while_tmp_181756;
                                    j_178700 = j_tmp_181760;
                                }
                                s_178691 = loop_while_178696;
                                s_178695 = j_178700;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180701, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180720, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180704, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180722, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180707, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180724, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                    }
                    if (memblock_alloc(ctx, &mem_180801, flat_dim_178567, "mem_180801")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180801.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint8_t *) mem_180701, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180805, bytes_180703, "mem_180805")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180805.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint64_t *) mem_180704, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180809, bytes_180703, "mem_180809")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180809.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint64_t *) mem_180707, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    
                    int64_t data_178751;
                    bool data_178752;
                    int64_t data_178756;
                    int64_t loop_dz2084Uz2082U_178757;
                    bool loop_while_178758;
                    int64_t stride_178762;
                    
                    if (memblock_set(ctx, &mem_param_180813, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180816, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180819, &mem_180809, "mem_180809") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178757 = flat_dim_178567;
                    loop_while_178758 = loop_cond_178748;
                    stride_178762 = block_sizze_178566;
                    while (loop_while_178758) {
                        int64_t next_stride_178763 = mul64((int64_t) 2, stride_178762);
                        bool zzero_178764 = next_stride_178763 == (int64_t) 0;
                        bool nonzzero_178765 = !zzero_178764;
                        bool nonzzero_cert_178766;
                        
                        if (!nonzzero_178765) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178767 = sdiv64(flat_dim_178567, next_stride_178763);
                        bool bounds_invalid_upwards_178768 = slt64(num_merges_178767, (int64_t) 0);
                        bool valid_178769 = !bounds_invalid_upwards_178768;
                        bool range_valid_c_178770;
                        
                        if (!valid_178769) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178767, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178772 = sub64(next_stride_178763, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178773 = sle64((int64_t) 0, m_178772);
                        bool cond_178775 = slt64(next_stride_178763, (int64_t) 10);
                        bool protect_assert_disj_178776 = nonzzero_178750 || cond_178775;
                        bool nonzzero_cert_178777;
                        
                        if (!protect_assert_disj_178776) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178778 = smod_safe64(next_stride_178763, merge_block_sizze_178572);
                        bool num_blocks_178779 = zeze_lhs_178778 == (int64_t) 0;
                        bool protect_assert_disj_178780 = cond_178775 || num_blocks_178779;
                        bool assert_c_178781;
                        
                        if (!protect_assert_disj_178780) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178782 = sdiv_safe64(next_stride_178763, merge_block_sizze_178572);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783 = add64((int64_t) 1, num_blocks_178782);
                        int64_t j_m_i_178784 = sub64(next_stride_178763, stride_178762);
                        int64_t flat_dim_178785 = merge_block_sizze_178572 * num_blocks_178782;
                        bool bounds_invalid_upwards_178786 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, (int64_t) 0);
                        bool empty_slice_178787 = j_m_i_178784 == (int64_t) 0;
                        int64_t m_178788 = sub64(j_m_i_178784, (int64_t) 1);
                        bool zzero_lte_i_178789 = sle64((int64_t) 0, stride_178762);
                        bool i_lte_j_178790 = sle64(stride_178762, next_stride_178763);
                        bool empty_slice_178791 = stride_178762 == (int64_t) 0;
                        int64_t m_178792 = sub64(stride_178762, (int64_t) 1);
                        bool bounds_invalid_upwards_178793 = slt64(num_blocks_178782, (int64_t) 0);
                        bool cond_178794 = slt64((int64_t) 0, stride_178762);
                        bool valid_178795 = !bounds_invalid_upwards_178786;
                        int64_t i_p_m_t_s_178796 = add64(stride_178762, m_178788);
                        bool zzero_leq_i_p_m_t_s_178797 = sle64((int64_t) 0, m_178792);
                        bool i_p_m_t_s_leq_w_178798 = slt64(m_178792, next_stride_178763);
                        bool valid_178799 = !bounds_invalid_upwards_178793;
                        bool i_p_m_t_s_leq_w_178800 = slt64(m_178772, flat_dim_178785);
                        bool y_178801 = slt64((int64_t) 0, j_m_i_178784);
                        bool protect_assert_disj_178802 = cond_178775 || valid_178795;
                        bool range_valid_c_178803;
                        
                        if (!protect_assert_disj_178802) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178804 = sle64((int64_t) 0, i_p_m_t_s_178796);
                        bool i_p_m_t_s_leq_w_178805 = slt64(i_p_m_t_s_178796, next_stride_178763);
                        bool y_178806 = zzero_leq_i_p_m_t_s_178797 && i_p_m_t_s_leq_w_178798;
                        bool protect_assert_disj_178807 = cond_178775 || valid_178799;
                        bool range_valid_c_178808;
                        
                        if (!protect_assert_disj_178807) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178809 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178800;
                        bool y_178810 = zzero_lte_i_178789 && i_p_m_t_s_leq_w_178805;
                        bool forwards_ok_178811 = zzero_lte_i_178789 && y_178806;
                        bool ok_or_empty_178812 = zzero_178764 || y_178809;
                        bool protect_assert_disj_178813 = cond_178794 || y_178801;
                        bool y_178814 = zzero_leq_i_p_m_t_s_178804 && y_178810;
                        bool ok_or_empty_178815 = empty_slice_178791 || forwards_ok_178811;
                        bool protect_assert_disj_178816 = cond_178775 || ok_or_empty_178812;
                        bool index_certs_178817;
                        
                        if (!protect_assert_disj_178816) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) flat_dim_178785, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178818 = !cond_178775;
                        bool protect_assert_disj_178819 = protect_assert_disj_178813 || loop_not_taken_178818;
                        bool index_certs_178820;
                        
                        if (!protect_assert_disj_178819) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178821 = i_lte_j_178790 && y_178814;
                        bool protect_assert_disj_178822 = cond_178775 || ok_or_empty_178815;
                        bool index_certs_178823;
                        
                        if (!protect_assert_disj_178822) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178824 = ok_or_empty_178815 || loop_not_taken_178818;
                        bool index_certs_178825;
                        
                        if (!protect_assert_disj_178824) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178826 = empty_slice_178787 || forwards_ok_178821;
                        bool protect_assert_disj_178827 = cond_178775 || ok_or_empty_178826;
                        bool index_certs_178828;
                        
                        if (!protect_assert_disj_178827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178829 = loop_not_taken_178818 || ok_or_empty_178826;
                        bool index_certs_178830;
                        
                        if (!protect_assert_disj_178829) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180820 = next_stride_178763 * num_merges_178767;
                        int64_t binop_x_180822 = (int64_t) 8 * num_merges_178767;
                        int64_t bytes_180823 = next_stride_178763 * binop_x_180822;
                        bool i_lte_j_178774 = sle64((int64_t) 0, next_stride_178763);
                        
                        if (mem_180821_cached_sizze_182217 < bytes_180820) {
                            err = lexical_realloc(ctx, &mem_180821, &mem_180821_cached_sizze_182217, bytes_180820);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180824_cached_sizze_182218 < bytes_180823) {
                            err = lexical_realloc(ctx, &mem_180824, &mem_180824_cached_sizze_182218, bytes_180823);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180827_cached_sizze_182219 < bytes_180823) {
                            err = lexical_realloc(ctx, &mem_180827, &mem_180827_cached_sizze_182219, bytes_180823);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180840 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783;
                        int64_t binop_x_180858 = (int64_t) 8 * num_blocks_178782;
                        int64_t bytes_180859 = merge_block_sizze_178572 * binop_x_180858;
                        int64_t bytes_180923 = (int64_t) 16 * stride_178762;
                        
                        for (int64_t i_179994 = 0; i_179994 < num_merges_178767; i_179994++) {
                            int64_t start_178835 = mul64(next_stride_178763, i_179994);
                            int64_t j_m_i_178836 = sub64(loop_dz2084Uz2082U_178757, start_178835);
                            bool empty_slice_178837 = j_m_i_178836 == (int64_t) 0;
                            int64_t m_178838 = sub64(j_m_i_178836, (int64_t) 1);
                            int64_t i_p_m_t_s_178839 = add64(start_178835, m_178838);
                            bool zzero_leq_i_p_m_t_s_178840 = sle64((int64_t) 0, i_p_m_t_s_178839);
                            bool i_p_m_t_s_leq_w_178841 = slt64(i_p_m_t_s_178839, loop_dz2084Uz2082U_178757);
                            bool zzero_lte_i_178842 = sle64((int64_t) 0, start_178835);
                            bool i_lte_j_178843 = sle64(start_178835, loop_dz2084Uz2082U_178757);
                            bool y_178844 = i_p_m_t_s_leq_w_178841 && zzero_lte_i_178842;
                            bool y_178845 = zzero_leq_i_p_m_t_s_178840 && y_178844;
                            bool forwards_ok_178846 = i_lte_j_178843 && y_178845;
                            bool ok_or_empty_178847 = empty_slice_178837 || forwards_ok_178846;
                            bool index_certs_178848;
                            
                            if (!ok_or_empty_178847) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178835, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178757, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178849 = slt64(m_178772, j_m_i_178836);
                            bool y_178850 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178849;
                            bool forwards_ok_178851 = i_lte_j_178774 && y_178850;
                            bool ok_or_empty_178852 = zzero_178764 || forwards_ok_178851;
                            bool index_certs_178853;
                            
                            if (!ok_or_empty_178852) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) j_m_i_178836, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178775) {
                                int8_t dummy_178857;
                                int64_t dummy_178858;
                                int64_t dummy_178859;
                                
                                if (cond_178794) {
                                    int8_t head_res_178860 = ((int8_t *) mem_param_180813.mem)[start_178835];
                                    int64_t head_res_178861 = ((int64_t *) mem_param_180816.mem)[start_178835];
                                    int64_t head_res_178862 = ((int64_t *) mem_param_180819.mem)[start_178835];
                                    
                                    dummy_178857 = head_res_178860;
                                    dummy_178858 = head_res_178861;
                                    dummy_178859 = head_res_178862;
                                } else {
                                    int64_t slice_178863 = stride_178762 + start_178835;
                                    int8_t head_res_178864 = ((int8_t *) mem_param_180813.mem)[slice_178863];
                                    int64_t head_res_178865 = ((int64_t *) mem_param_180816.mem)[slice_178863];
                                    int64_t head_res_178866 = ((int64_t *) mem_param_180819.mem)[slice_178863];
                                    
                                    dummy_178857 = head_res_178864;
                                    dummy_178858 = head_res_178865;
                                    dummy_178859 = head_res_178866;
                                }
                                if (memblock_alloc(ctx, &mem_180922, next_stride_178763, "mem_180922")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181773 = 0; nest_i_181773 < next_stride_178763; nest_i_181773++) {
                                    ((int8_t *) mem_180922.mem)[nest_i_181773] = dummy_178857;
                                }
                                if (memblock_alloc(ctx, &mem_180924, bytes_180923, "mem_180924")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181774 = 0; nest_i_181774 < next_stride_178763; nest_i_181774++) {
                                    ((int64_t *) mem_180924.mem)[nest_i_181774] = dummy_178858;
                                }
                                if (memblock_alloc(ctx, &mem_180926, bytes_180923, "mem_180926")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181775 = 0; nest_i_181775 < next_stride_178763; nest_i_181775++) {
                                    ((int64_t *) mem_180926.mem)[nest_i_181775] = dummy_178859;
                                }
                                
                                int64_t data_178870;
                                int64_t i_178875 = (int64_t) 0;
                                
                                for (int64_t k_178874 = 0; k_178874 < next_stride_178763; k_178874++) {
                                    int64_t j_178879 = sub64(k_178874, i_178875);
                                    bool cond_178880 = j_178879 == j_m_i_178784;
                                    bool cond_178881;
                                    
                                    if (cond_178880) {
                                        cond_178881 = 1;
                                    } else {
                                        bool cond_178882 = slt64(i_178875, stride_178762);
                                        bool cond_f_res_178883;
                                        
                                        if (cond_178882) {
                                            bool x_178884 = sle64((int64_t) 0, j_178879);
                                            bool y_178885 = slt64(j_178879, j_m_i_178784);
                                            bool bounds_check_178886 = x_178884 && y_178885;
                                            bool index_certs_178887;
                                            
                                            if (!bounds_check_178886) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178893 = sle64((int64_t) 0, i_178875);
                                            bool bounds_check_178894 = cond_178882 && x_178893;
                                            bool index_certs_178895;
                                            
                                            if (!bounds_check_178894) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178888 = stride_178762 + j_178879;
                                            int64_t slice_178889 = start_178835 + slice_178888;
                                            int8_t leq_arg1_178890 = ((int8_t *) mem_param_180813.mem)[slice_178889];
                                            int64_t leq_arg1_178891 = ((int64_t *) mem_param_180816.mem)[slice_178889];
                                            int64_t leq_arg1_178892 = ((int64_t *) mem_param_180819.mem)[slice_178889];
                                            int64_t slice_178896 = start_178835 + i_178875;
                                            int8_t leq_arg0_178897 = ((int8_t *) mem_param_180813.mem)[slice_178896];
                                            int64_t leq_arg0_178898 = ((int64_t *) mem_param_180816.mem)[slice_178896];
                                            int64_t leq_arg0_178899 = ((int64_t *) mem_param_180819.mem)[slice_178896];
                                            bool cond_178900 = leq_arg0_178897 == leq_arg1_178890;
                                            bool defunc_0_leq_res_t_res_178901 = sle64(leq_arg0_178898, leq_arg1_178891);
                                            bool defunc_0_leq_res_178902 = sle64(leq_arg0_178899, leq_arg1_178892);
                                            bool x_178903 = cond_178900 && defunc_0_leq_res_t_res_178901;
                                            bool x_178904 = !cond_178900;
                                            bool y_178905 = defunc_0_leq_res_178902 && x_178904;
                                            bool defunc_0_leq_res_178906 = x_178903 || y_178905;
                                            
                                            cond_f_res_178883 = defunc_0_leq_res_178906;
                                        } else {
                                            cond_f_res_178883 = 0;
                                        }
                                        cond_178881 = cond_f_res_178883;
                                    }
                                    
                                    int64_t loopres_178907;
                                    int8_t loopres_178908;
                                    int64_t loopres_178909;
                                    int64_t loopres_178910;
                                    
                                    if (cond_178881) {
                                        bool x_178912 = sle64((int64_t) 0, i_178875);
                                        bool y_178913 = slt64(i_178875, stride_178762);
                                        bool bounds_check_178914 = x_178912 && y_178913;
                                        bool index_certs_178915;
                                        
                                        if (!bounds_check_178914) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178911 = add64((int64_t) 1, i_178875);
                                        int64_t slice_178916 = start_178835 + i_178875;
                                        int8_t tmp_178917 = ((int8_t *) mem_param_180813.mem)[slice_178916];
                                        int64_t tmp_178918 = ((int64_t *) mem_param_180816.mem)[slice_178916];
                                        int64_t tmp_178919 = ((int64_t *) mem_param_180819.mem)[slice_178916];
                                        
                                        loopres_178907 = tmp_178911;
                                        loopres_178908 = tmp_178917;
                                        loopres_178909 = tmp_178918;
                                        loopres_178910 = tmp_178919;
                                    } else {
                                        bool x_178920 = sle64((int64_t) 0, j_178879);
                                        bool y_178921 = slt64(j_178879, j_m_i_178784);
                                        bool bounds_check_178922 = x_178920 && y_178921;
                                        bool index_certs_178923;
                                        
                                        if (!bounds_check_178922) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178924 = stride_178762 + j_178879;
                                        int64_t slice_178925 = start_178835 + slice_178924;
                                        int8_t tmp_178926 = ((int8_t *) mem_param_180813.mem)[slice_178925];
                                        int64_t tmp_178927 = ((int64_t *) mem_param_180816.mem)[slice_178925];
                                        int64_t tmp_178928 = ((int64_t *) mem_param_180819.mem)[slice_178925];
                                        
                                        loopres_178907 = i_178875;
                                        loopres_178908 = tmp_178926;
                                        loopres_178909 = tmp_178927;
                                        loopres_178910 = tmp_178928;
                                    }
                                    ((int8_t *) mem_180922.mem)[k_178874] = loopres_178908;
                                    ((int64_t *) mem_180924.mem)[k_178874] = loopres_178909;
                                    ((int64_t *) mem_180926.mem)[k_178874] = loopres_178910;
                                    
                                    int64_t i_tmp_181776 = loopres_178907;
                                    
                                    i_178875 = i_tmp_181776;
                                }
                                data_178870 = i_178875;
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180922, "mem_180922") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180924, "mem_180924") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180926, "mem_180926") != 0)
                                    return 1;
                            } else {
                                if (mem_180841_cached_sizze_182220 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180841, &mem_180841_cached_sizze_182220, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180843_cached_sizze_182221 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180843, &mem_180843_cached_sizze_182221, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179975 = 0; i_179975 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783; i_179975++) {
                                    int64_t split_count_arg3_178936 = mul64(merge_block_sizze_178572, i_179975);
                                    int64_t defunc_0_split_count_res_178937;
                                    int64_t defunc_0_split_count_res_178938;
                                    int64_t defunc_0_split_count_res_178939;
                                    int64_t defunc_0_split_count_res_178940;
                                    int64_t defunc_0_split_count_res_178941;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_178937, &defunc_0_split_count_res_178938, &defunc_0_split_count_res_178939, &defunc_0_split_count_res_178940, &defunc_0_split_count_res_178941, (int64_t) 0, stride_178762, (int64_t) 0, j_m_i_178784, split_count_arg3_178936) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178942 = slt64((int64_t) 0, defunc_0_split_count_res_178941);
                                    bool defunc_0_split_count_res_178943;
                                    int64_t defunc_0_split_count_res_178944;
                                    int64_t defunc_0_split_count_res_178945;
                                    int64_t defunc_0_split_count_res_178946;
                                    int64_t defunc_0_split_count_res_178947;
                                    int64_t defunc_0_split_count_res_178948;
                                    bool loop_while_178949;
                                    int64_t ss_178950;
                                    int64_t ss_178951;
                                    int64_t tt_178952;
                                    int64_t tt_178953;
                                    int64_t count_178954;
                                    
                                    loop_while_178949 = loop_cond_178942;
                                    ss_178950 = defunc_0_split_count_res_178937;
                                    ss_178951 = defunc_0_split_count_res_178938;
                                    tt_178952 = defunc_0_split_count_res_178939;
                                    tt_178953 = defunc_0_split_count_res_178940;
                                    count_178954 = defunc_0_split_count_res_178941;
                                    while (loop_while_178949) {
                                        int64_t zlze_lhs_178955 = sub64(ss_178951, ss_178950);
                                        bool cond_178956 = sle64(zlze_lhs_178955, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178957;
                                        int64_t defunc_0_lifted_step_res_178958;
                                        int64_t defunc_0_lifted_step_res_178959;
                                        int64_t defunc_0_lifted_step_res_178960;
                                        
                                        if (cond_178956) {
                                            int64_t tmp_178961 = add64(tt_178952, count_178954);
                                            
                                            defunc_0_lifted_step_res_178957 = ss_178950;
                                            defunc_0_lifted_step_res_178958 = tmp_178961;
                                            defunc_0_lifted_step_res_178959 = tt_178953;
                                            defunc_0_lifted_step_res_178960 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178962 = sub64(tt_178953, tt_178952);
                                            bool cond_178963 = sle64(zlze_lhs_178962, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178964;
                                            int64_t defunc_0_lifted_step_res_f_res_178965;
                                            int64_t defunc_0_lifted_step_res_f_res_178966;
                                            int64_t defunc_0_lifted_step_res_f_res_178967;
                                            
                                            if (cond_178963) {
                                                int64_t tmp_178968 = add64(ss_178950, count_178954);
                                                
                                                defunc_0_lifted_step_res_f_res_178964 = tmp_178968;
                                                defunc_0_lifted_step_res_f_res_178965 = tt_178952;
                                                defunc_0_lifted_step_res_f_res_178966 = tt_178953;
                                                defunc_0_lifted_step_res_f_res_178967 = (int64_t) 0;
                                            } else {
                                                bool cond_178969 = count_178954 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178970;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178971;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178972;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178973;
                                                
                                                if (cond_178969) {
                                                    bool x_178974 = sle64((int64_t) 0, ss_178950);
                                                    bool y_178975 = slt64(ss_178950, stride_178762);
                                                    bool bounds_check_178976 = x_178974 && y_178975;
                                                    bool index_certs_178977;
                                                    
                                                    if (!bounds_check_178976) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178950, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178982 = sle64((int64_t) 0, tt_178952);
                                                    bool y_178983 = slt64(tt_178952, j_m_i_178784);
                                                    bool bounds_check_178984 = x_178982 && y_178983;
                                                    bool index_certs_178985;
                                                    
                                                    if (!bounds_check_178984) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178952, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178978 = start_178835 + ss_178950;
                                                    int8_t leq_arg1_178979 = ((int8_t *) mem_param_180813.mem)[slice_178978];
                                                    int64_t leq_arg1_178980 = ((int64_t *) mem_param_180816.mem)[slice_178978];
                                                    int64_t leq_arg1_178981 = ((int64_t *) mem_param_180819.mem)[slice_178978];
                                                    int64_t slice_178986 = stride_178762 + tt_178952;
                                                    int64_t slice_178987 = start_178835 + slice_178986;
                                                    int8_t leq_arg0_178988 = ((int8_t *) mem_param_180813.mem)[slice_178987];
                                                    int64_t leq_arg0_178989 = ((int64_t *) mem_param_180816.mem)[slice_178987];
                                                    int64_t leq_arg0_178990 = ((int64_t *) mem_param_180819.mem)[slice_178987];
                                                    bool cond_178991 = leq_arg0_178988 == leq_arg1_178979;
                                                    bool defunc_0_leq_res_t_res_178992 = sle64(leq_arg0_178989, leq_arg1_178980);
                                                    bool defunc_0_leq_res_178993 = sle64(leq_arg0_178990, leq_arg1_178981);
                                                    bool x_178994 = cond_178991 && defunc_0_leq_res_t_res_178992;
                                                    bool x_178995 = !cond_178991;
                                                    bool y_178996 = defunc_0_leq_res_178993 && x_178995;
                                                    bool defunc_0_leq_res_178997 = x_178994 || y_178996;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    
                                                    if (defunc_0_leq_res_178997) {
                                                        int64_t tmp_179000 = add64((int64_t) 1, tt_178952);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = ss_178950;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tmp_179000;
                                                    } else {
                                                        int64_t tmp_179001 = add64((int64_t) 1, ss_178950);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = tmp_179001;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tt_178952;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = tt_178953;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179002 = sdiv64(count_178954, (int64_t) 2);
                                                    int64_t n_179003 = sub64(count_178954, m_179002);
                                                    bool cond_179004 = n_179003 == (int64_t) 0;
                                                    int64_t zgze_lhs_179005 = add64(ss_178950, m_179002);
                                                    bool cond_f_res_179006 = sle64(ss_178951, zgze_lhs_179005);
                                                    bool x_179007 = !cond_179004;
                                                    bool y_179008 = cond_f_res_179006 && x_179007;
                                                    bool cond_179009 = cond_179004 || y_179008;
                                                    bool leq_y_x_179010;
                                                    
                                                    if (cond_179009) {
                                                        leq_y_x_179010 = 1;
                                                    } else {
                                                        bool x_179011 = sle64((int64_t) 0, zgze_lhs_179005);
                                                        bool y_179012 = slt64(zgze_lhs_179005, stride_178762);
                                                        bool bounds_check_179013 = x_179011 && y_179012;
                                                        bool index_certs_179014;
                                                        
                                                        if (!bounds_check_179013) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179005, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179019 = add64(tt_178952, n_179003);
                                                        int64_t leq_arg0_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                                                        bool x_179021 = sle64((int64_t) 0, leq_arg0_179020);
                                                        bool y_179022 = slt64(leq_arg0_179020, j_m_i_178784);
                                                        bool bounds_check_179023 = x_179021 && y_179022;
                                                        bool index_certs_179024;
                                                        
                                                        if (!bounds_check_179023) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179020, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179015 = start_178835 + zgze_lhs_179005;
                                                        int8_t leq_arg1_179016 = ((int8_t *) mem_param_180813.mem)[slice_179015];
                                                        int64_t leq_arg1_179017 = ((int64_t *) mem_param_180816.mem)[slice_179015];
                                                        int64_t leq_arg1_179018 = ((int64_t *) mem_param_180819.mem)[slice_179015];
                                                        int64_t slice_179025 = stride_178762 + leq_arg0_179020;
                                                        int64_t slice_179026 = start_178835 + slice_179025;
                                                        int8_t leq_arg0_179027 = ((int8_t *) mem_param_180813.mem)[slice_179026];
                                                        int64_t leq_arg0_179028 = ((int64_t *) mem_param_180816.mem)[slice_179026];
                                                        int64_t leq_arg0_179029 = ((int64_t *) mem_param_180819.mem)[slice_179026];
                                                        bool cond_179030 = leq_arg0_179027 == leq_arg1_179016;
                                                        bool defunc_0_leq_res_t_res_179031 = sle64(leq_arg0_179028, leq_arg1_179017);
                                                        bool defunc_0_leq_res_179032 = sle64(leq_arg0_179029, leq_arg1_179018);
                                                        bool x_179033 = cond_179030 && defunc_0_leq_res_t_res_179031;
                                                        bool x_179034 = !cond_179030;
                                                        bool y_179035 = defunc_0_leq_res_179032 && x_179034;
                                                        bool defunc_0_leq_res_179036 = x_179033 || y_179035;
                                                        
                                                        leq_y_x_179010 = defunc_0_leq_res_179036;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                    
                                                    if (leq_y_x_179010) {
                                                        int64_t tmp_179040 = add64(tt_178952, n_179003);
                                                        int64_t tmp_179041 = sub64(count_178954, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tmp_179040;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tt_178953;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = tmp_179041;
                                                    } else {
                                                        int64_t tmp_179042 = add64(tt_178952, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tt_178952;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tmp_179042;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = count_178954;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = ss_178950;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                }
                                                defunc_0_lifted_step_res_f_res_178964 = defunc_0_lifted_step_res_f_res_f_res_178970;
                                                defunc_0_lifted_step_res_f_res_178965 = defunc_0_lifted_step_res_f_res_f_res_178971;
                                                defunc_0_lifted_step_res_f_res_178966 = defunc_0_lifted_step_res_f_res_f_res_178972;
                                                defunc_0_lifted_step_res_f_res_178967 = defunc_0_lifted_step_res_f_res_f_res_178973;
                                            }
                                            defunc_0_lifted_step_res_178957 = defunc_0_lifted_step_res_f_res_178964;
                                            defunc_0_lifted_step_res_178958 = defunc_0_lifted_step_res_f_res_178965;
                                            defunc_0_lifted_step_res_178959 = defunc_0_lifted_step_res_f_res_178966;
                                            defunc_0_lifted_step_res_178960 = defunc_0_lifted_step_res_f_res_178967;
                                        }
                                        
                                        int64_t loopres_179043;
                                        int64_t loopres_179044;
                                        int64_t loopres_179045;
                                        int64_t loopres_179046;
                                        int64_t loopres_179047;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_179043, &loopres_179044, &loopres_179045, &loopres_179046, &loopres_179047, defunc_0_lifted_step_res_178957, ss_178951, defunc_0_lifted_step_res_178958, defunc_0_lifted_step_res_178959, defunc_0_lifted_step_res_178960) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179048 = slt64((int64_t) 0, loopres_179047);
                                        bool loop_while_tmp_181782 = loop_cond_179048;
                                        int64_t ss_tmp_181783 = loopres_179043;
                                        int64_t ss_tmp_181784 = loopres_179044;
                                        int64_t tt_tmp_181785 = loopres_179045;
                                        int64_t tt_tmp_181786 = loopres_179046;
                                        int64_t count_tmp_181787 = loopres_179047;
                                        
                                        loop_while_178949 = loop_while_tmp_181782;
                                        ss_178950 = ss_tmp_181783;
                                        ss_178951 = ss_tmp_181784;
                                        tt_178952 = tt_tmp_181785;
                                        tt_178953 = tt_tmp_181786;
                                        count_178954 = count_tmp_181787;
                                    }
                                    defunc_0_split_count_res_178943 = loop_while_178949;
                                    defunc_0_split_count_res_178944 = ss_178950;
                                    defunc_0_split_count_res_178945 = ss_178951;
                                    defunc_0_split_count_res_178946 = tt_178952;
                                    defunc_0_split_count_res_178947 = tt_178953;
                                    defunc_0_split_count_res_178948 = count_178954;
                                    ((int64_t *) mem_180841)[i_179975] = defunc_0_split_count_res_178944;
                                    ((int64_t *) mem_180843)[i_179975] = defunc_0_split_count_res_178946;
                                }
                                if (mem_180857_cached_sizze_182222 < flat_dim_178785) {
                                    err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182222, flat_dim_178785);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180860_cached_sizze_182223 < bytes_180859) {
                                    err = lexical_realloc(ctx, &mem_180860, &mem_180860_cached_sizze_182223, bytes_180859);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180863_cached_sizze_182224 < bytes_180859) {
                                    err = lexical_realloc(ctx, &mem_180863, &mem_180863_cached_sizze_182224, bytes_180859);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179984 = 0; i_179984 < num_blocks_178782; i_179984++) {
                                    bool y_179057 = slt64(i_179984, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool index_certs_179059;
                                    
                                    if (!y_179057) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179984, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179060 = ((int64_t *) mem_180841)[i_179984];
                                    int64_t defunc_0_f_res_179061 = ((int64_t *) mem_180843)[i_179984];
                                    int64_t tmp_179062 = add64((int64_t) 1, i_179984);
                                    bool x_179063 = sle64((int64_t) 0, tmp_179062);
                                    bool y_179064 = slt64(tmp_179062, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool bounds_check_179065 = x_179063 && y_179064;
                                    bool index_certs_179066;
                                    
                                    if (!bounds_check_179065) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179062, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179067 = ((int64_t *) mem_180841)[tmp_179062];
                                    int64_t defunc_0_f_res_179068 = ((int64_t *) mem_180843)[tmp_179062];
                                    int64_t merge_sequential_arg2_179069 = add64(stride_178762, defunc_0_f_res_179061);
                                    int64_t merge_sequential_arg2_179070 = add64(stride_178762, defunc_0_f_res_179068);
                                    int64_t j_m_i_179071 = sub64(merge_sequential_arg2_179070, merge_sequential_arg2_179069);
                                    bool empty_slice_179072 = j_m_i_179071 == (int64_t) 0;
                                    int64_t m_179073 = sub64(j_m_i_179071, (int64_t) 1);
                                    int64_t i_p_m_t_s_179074 = add64(merge_sequential_arg2_179069, m_179073);
                                    bool zzero_leq_i_p_m_t_s_179075 = sle64((int64_t) 0, i_p_m_t_s_179074);
                                    bool i_p_m_t_s_leq_w_179076 = slt64(i_p_m_t_s_179074, next_stride_178763);
                                    bool zzero_lte_i_179077 = sle64((int64_t) 0, merge_sequential_arg2_179069);
                                    bool i_lte_j_179078 = sle64(merge_sequential_arg2_179069, merge_sequential_arg2_179070);
                                    bool y_179079 = i_p_m_t_s_leq_w_179076 && zzero_lte_i_179077;
                                    bool y_179080 = zzero_leq_i_p_m_t_s_179075 && y_179079;
                                    bool forwards_ok_179081 = i_lte_j_179078 && y_179080;
                                    bool ok_or_empty_179082 = empty_slice_179072 || forwards_ok_179081;
                                    bool index_certs_179083;
                                    
                                    if (!ok_or_empty_179082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179069, ":", (long long) merge_sequential_arg2_179070, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179084 = sub64(defunc_0_f_res_179067, defunc_0_f_res_179060);
                                    bool empty_slice_179085 = j_m_i_179084 == (int64_t) 0;
                                    int64_t m_179086 = sub64(j_m_i_179084, (int64_t) 1);
                                    int64_t i_p_m_t_s_179087 = add64(defunc_0_f_res_179060, m_179086);
                                    bool zzero_leq_i_p_m_t_s_179088 = sle64((int64_t) 0, i_p_m_t_s_179087);
                                    bool i_p_m_t_s_leq_w_179089 = slt64(i_p_m_t_s_179087, next_stride_178763);
                                    bool zzero_lte_i_179090 = sle64((int64_t) 0, defunc_0_f_res_179060);
                                    bool i_lte_j_179091 = sle64(defunc_0_f_res_179060, defunc_0_f_res_179067);
                                    bool y_179092 = i_p_m_t_s_leq_w_179089 && zzero_lte_i_179090;
                                    bool y_179093 = zzero_leq_i_p_m_t_s_179088 && y_179092;
                                    bool forwards_ok_179094 = i_lte_j_179091 && y_179093;
                                    bool ok_or_empty_179095 = empty_slice_179085 || forwards_ok_179094;
                                    bool index_certs_179096;
                                    
                                    if (!ok_or_empty_179095) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179060, ":", (long long) defunc_0_f_res_179067, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179097 = slt64((int64_t) 0, j_m_i_179084);
                                    int8_t dummy_179098;
                                    int64_t dummy_179099;
                                    int64_t dummy_179100;
                                    
                                    if (cond_179097) {
                                        bool index_certs_179101;
                                        
                                        if (!cond_179097) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179102 = start_178835 + defunc_0_f_res_179060;
                                        int8_t head_res_179103 = ((int8_t *) mem_param_180813.mem)[slice_179102];
                                        int64_t head_res_179104 = ((int64_t *) mem_param_180816.mem)[slice_179102];
                                        int64_t head_res_179105 = ((int64_t *) mem_param_180819.mem)[slice_179102];
                                        
                                        dummy_179098 = head_res_179103;
                                        dummy_179099 = head_res_179104;
                                        dummy_179100 = head_res_179105;
                                    } else {
                                        bool y_179106 = slt64((int64_t) 0, j_m_i_179071);
                                        bool index_certs_179107;
                                        
                                        if (!y_179106) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179108 = start_178835 + merge_sequential_arg2_179069;
                                        int8_t head_res_179109 = ((int8_t *) mem_param_180813.mem)[slice_179108];
                                        int64_t head_res_179110 = ((int64_t *) mem_param_180816.mem)[slice_179108];
                                        int64_t head_res_179111 = ((int64_t *) mem_param_180819.mem)[slice_179108];
                                        
                                        dummy_179098 = head_res_179109;
                                        dummy_179099 = head_res_179110;
                                        dummy_179100 = head_res_179111;
                                    }
                                    for (int64_t nest_i_181791 = 0; nest_i_181791 < merge_block_sizze_178572; nest_i_181791++) {
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + nest_i_181791] = dummy_179098;
                                    }
                                    for (int64_t nest_i_181792 = 0; nest_i_181792 < merge_block_sizze_178572; nest_i_181792++) {
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + nest_i_181792] = dummy_179099;
                                    }
                                    for (int64_t nest_i_181793 = 0; nest_i_181793 < merge_block_sizze_178572; nest_i_181793++) {
                                        ((int64_t *) mem_180863)[i_179984 * merge_block_sizze_178572 + nest_i_181793] = dummy_179100;
                                    }
                                    
                                    int64_t data_179115;
                                    int64_t i_179120 = (int64_t) 0;
                                    
                                    for (int64_t k_179119 = 0; k_179119 < merge_block_sizze_178572; k_179119++) {
                                        int64_t j_179124 = sub64(k_179119, i_179120);
                                        bool cond_179125 = j_179124 == j_m_i_179071;
                                        bool cond_179126;
                                        
                                        if (cond_179125) {
                                            cond_179126 = 1;
                                        } else {
                                            bool cond_179127 = slt64(i_179120, j_m_i_179084);
                                            bool cond_f_res_179128;
                                            
                                            if (cond_179127) {
                                                bool x_179129 = sle64((int64_t) 0, j_179124);
                                                bool y_179130 = slt64(j_179124, j_m_i_179071);
                                                bool bounds_check_179131 = x_179129 && y_179130;
                                                bool index_certs_179132;
                                                
                                                if (!bounds_check_179131) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179138 = sle64((int64_t) 0, i_179120);
                                                bool bounds_check_179139 = cond_179127 && x_179138;
                                                bool index_certs_179140;
                                                
                                                if (!bounds_check_179139) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179133 = merge_sequential_arg2_179069 + j_179124;
                                                int64_t slice_179134 = start_178835 + slice_179133;
                                                int8_t leq_arg1_179135 = ((int8_t *) mem_param_180813.mem)[slice_179134];
                                                int64_t leq_arg1_179136 = ((int64_t *) mem_param_180816.mem)[slice_179134];
                                                int64_t leq_arg1_179137 = ((int64_t *) mem_param_180819.mem)[slice_179134];
                                                int64_t slice_179141 = defunc_0_f_res_179060 + i_179120;
                                                int64_t slice_179142 = start_178835 + slice_179141;
                                                int8_t leq_arg0_179143 = ((int8_t *) mem_param_180813.mem)[slice_179142];
                                                int64_t leq_arg0_179144 = ((int64_t *) mem_param_180816.mem)[slice_179142];
                                                int64_t leq_arg0_179145 = ((int64_t *) mem_param_180819.mem)[slice_179142];
                                                bool cond_179146 = leq_arg0_179143 == leq_arg1_179135;
                                                bool defunc_0_leq_res_t_res_179147 = sle64(leq_arg0_179144, leq_arg1_179136);
                                                bool defunc_0_leq_res_179148 = sle64(leq_arg0_179145, leq_arg1_179137);
                                                bool x_179149 = cond_179146 && defunc_0_leq_res_t_res_179147;
                                                bool x_179150 = !cond_179146;
                                                bool y_179151 = defunc_0_leq_res_179148 && x_179150;
                                                bool defunc_0_leq_res_179152 = x_179149 || y_179151;
                                                
                                                cond_f_res_179128 = defunc_0_leq_res_179152;
                                            } else {
                                                cond_f_res_179128 = 0;
                                            }
                                            cond_179126 = cond_f_res_179128;
                                        }
                                        
                                        int64_t loopres_179153;
                                        int8_t loopres_179154;
                                        int64_t loopres_179155;
                                        int64_t loopres_179156;
                                        
                                        if (cond_179126) {
                                            bool x_179158 = sle64((int64_t) 0, i_179120);
                                            bool y_179159 = slt64(i_179120, j_m_i_179084);
                                            bool bounds_check_179160 = x_179158 && y_179159;
                                            bool index_certs_179161;
                                            
                                            if (!bounds_check_179160) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179157 = add64((int64_t) 1, i_179120);
                                            int64_t slice_179162 = defunc_0_f_res_179060 + i_179120;
                                            int64_t slice_179163 = start_178835 + slice_179162;
                                            int8_t tmp_179164 = ((int8_t *) mem_param_180813.mem)[slice_179163];
                                            int64_t tmp_179165 = ((int64_t *) mem_param_180816.mem)[slice_179163];
                                            int64_t tmp_179166 = ((int64_t *) mem_param_180819.mem)[slice_179163];
                                            
                                            loopres_179153 = tmp_179157;
                                            loopres_179154 = tmp_179164;
                                            loopres_179155 = tmp_179165;
                                            loopres_179156 = tmp_179166;
                                        } else {
                                            bool x_179167 = sle64((int64_t) 0, j_179124);
                                            bool y_179168 = slt64(j_179124, j_m_i_179071);
                                            bool bounds_check_179169 = x_179167 && y_179168;
                                            bool index_certs_179170;
                                            
                                            if (!bounds_check_179169) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179171 = merge_sequential_arg2_179069 + j_179124;
                                            int64_t slice_179172 = start_178835 + slice_179171;
                                            int8_t tmp_179173 = ((int8_t *) mem_param_180813.mem)[slice_179172];
                                            int64_t tmp_179174 = ((int64_t *) mem_param_180816.mem)[slice_179172];
                                            int64_t tmp_179175 = ((int64_t *) mem_param_180819.mem)[slice_179172];
                                            
                                            loopres_179153 = i_179120;
                                            loopres_179154 = tmp_179173;
                                            loopres_179155 = tmp_179174;
                                            loopres_179156 = tmp_179175;
                                        }
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179154;
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179155;
                                        ((int64_t *) mem_180863)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179156;
                                        
                                        int64_t i_tmp_181794 = loopres_179153;
                                        
                                        i_179120 = i_tmp_181794;
                                    }
                                    data_179115 = i_179120;
                                }
                                if (memblock_alloc(ctx, &mem_180912, flat_dim_178785, "mem_180912")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180912.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint8_t *) mem_180857, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180916, bytes_180859, "mem_180916")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180916.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint64_t *) mem_180860, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180920, bytes_180859, "mem_180920")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180920.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint64_t *) mem_180863, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180912, "mem_180912") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180916, "mem_180916") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180920, "mem_180920") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180821, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180953.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180824, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180950.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180827, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180947.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180967, bytes_180820, "mem_180967")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180967.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint8_t *) mem_180821, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180971, bytes_180823, "mem_180971")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180971.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint64_t *) mem_180824, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180975, bytes_180823, "mem_180975")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180975.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint64_t *) mem_180827, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        
                        bool loop_cond_179195 = slt64(next_stride_178763, flat_dim_178567);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181761, &mem_180967, "mem_180967") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181762, &mem_180971, "mem_180971") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181763, &mem_180975, "mem_180975") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181764 = bytes_180820;
                        bool loop_while_tmp_181765 = loop_cond_179195;
                        int64_t stride_tmp_181769 = next_stride_178763;
                        
                        if (memblock_set(ctx, &mem_param_180813, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180816, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180819, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178757 = loop_dz2084Uz2082U_tmp_181764;
                        loop_while_178758 = loop_while_tmp_181765;
                        stride_178762 = stride_tmp_181769;
                    }
                    if (memblock_set(ctx, &ext_mem_180985, &mem_param_180813, "mem_param_180813") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180984, &mem_param_180816, "mem_param_180816") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180983, &mem_param_180819, "mem_param_180819") != 0)
                        return 1;
                    data_178751 = loop_dz2084Uz2082U_178757;
                    data_178752 = loop_while_178758;
                    data_178756 = stride_178762;
                    if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
                        return 1;
                    
                    bool empty_slice_179196 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179197 = sle64((int64_t) 0, zs_lhs_178551);
                    bool i_p_m_t_s_leq_w_179198 = slt64(zs_lhs_178551, data_178751);
                    bool y_179199 = zzero_leq_i_p_m_t_s_179197 && i_p_m_t_s_leq_w_179198;
                    bool ok_or_empty_179200 = empty_slice_179196 || y_179199;
                    bool index_certs_179201;
                    
                    if (!ok_or_empty_179200) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] out of bounds for array of shape [", (long long) data_178751, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180994, &ext_mem_180985, "ext_mem_180985") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &ext_mem_180984, "ext_mem_180984") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &ext_mem_180983, "ext_mem_180983") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180661, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180994.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180664, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180991.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180667, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180988.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
                    return 1;
                for (int64_t i_180000 = 0; i_180000 < perThread_174828; i_180000++) {
                    int64_t lifted_lambda_res_179223 = add64(zm_rhs_178507, i_180000);
                    
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + i_180000] = lifted_lambda_res_179223;
                }
                
                bool cond_179225 = card_178508 == zp_rhs_174827;
                
                if (cond_179225) {
                    bool y_179227 = slt64(card_178508, perThread_174828);
                    bool index_certs_179228;
                    
                    if (!y_179227) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + card_178508] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181020, bytes_180313, "mem_181020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181799 = 0; nest_i_181799 < window_sizze_141480; nest_i_181799++) {
                ((int64_t *) mem_181020.mem)[nest_i_181799] = (int64_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181022, bytes_180313, "mem_181022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181800 = 0; nest_i_181800 < window_sizze_141480; nest_i_181800++) {
                ((int64_t *) mem_181022.mem)[nest_i_181800] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181023, window_sizze_141480, "mem_181023")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181801 = 0; nest_i_181801 < window_sizze_141480; nest_i_181801++) {
                ((int8_t *) mem_181023.mem)[nest_i_181801] = (int8_t) -1;
            }
            for (int64_t write_iter_180015 = 0; write_iter_180015 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829; write_iter_180015++) {
                int64_t new_index_180167 = squot64(write_iter_180015, perThread_174828);
                int64_t binop_y_180169 = perThread_174828 * new_index_180167;
                int64_t new_index_180170 = write_iter_180015 - binop_y_180169;
                int64_t write_iv_180019 = ((int64_t *) mem_180659)[new_index_180167 * perThread_174828 + new_index_180170];
                int8_t write_iv_180020 = ((int8_t *) mem_180661)[new_index_180167 * perThread_174828 + new_index_180170];
                int64_t write_iv_180021 = ((int64_t *) mem_180664)[new_index_180167 * perThread_174828 + new_index_180170];
                int64_t write_iv_180022 = ((int64_t *) mem_180667)[new_index_180167 * perThread_174828 + new_index_180170];
                
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_141480)) {
                    ((int8_t *) mem_181023.mem)[write_iv_180019] = write_iv_180020;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_141480)) {
                    ((int64_t *) mem_181022.mem)[write_iv_180019] = write_iv_180021;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_141480)) {
                    ((int64_t *) mem_181020.mem)[write_iv_180019] = write_iv_180022;
                }
            }
            
            int64_t index_concat_branch_179251;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179252 = ((int64_t *) mem_180642)[index_concat_i_177592];
                
                index_concat_branch_179251 = index_concat_179252;
            } else {
                index_concat_branch_179251 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179253;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179254 = ((int64_t *) mem_180644)[index_concat_i_177592];
                
                index_concat_branch_179253 = index_concat_179254;
            } else {
                index_concat_branch_179253 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_181023, "mem_181023") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_181022, "mem_181022") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_181020, "mem_181020") != 0)
                return 1;
            loopres_174818 = index_concat_branch_179251;
            loopres_174819 = index_concat_branch_179253;
        } else {
            int64_t leq_lhs_175809 = ((int64_t *) a_list_mem_180280.mem)[p_174790];
            int64_t leq_rhs_175812 = ((int64_t *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_175813 = sle64(leq_lhs_175809, leq_rhs_175812);
            int64_t lowest_175814;
            
            if (defunc_0_leq_res_175813) {
                bool index_certs_179255;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_lhs_175809;
            } else {
                bool index_certs_175819;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_rhs_175812;
            }
            if (mem_180297_cached_sizze_182189 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182189, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180299_cached_sizze_182190 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182190, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180030 = 0; i_180030 < threads_141481; i_180030++) {
                int64_t index_primexp_180246 = add64((int64_t) 1, i_180030);
                int64_t zs_lhs_175835 = mul64(zt_rhs_175828, index_primexp_180246);
                int64_t index_175836 = sdiv64(zs_lhs_175835, partitionFunc_arg0_175805);
                bool cond_175837 = slt64(window_sizze_141480, index_175836);
                int64_t loop_over_175838;
                
                if (cond_175837) {
                    loop_over_175838 = window_sizze_141480;
                } else {
                    loop_over_175838 = index_175836;
                }
                
                int64_t loop_over_175839;
                
                if (cond_175837) {
                    int64_t loop_over_t_res_179256 = sub64(index_175836, window_sizze_141480);
                    
                    loop_over_175839 = loop_over_t_res_179256;
                } else {
                    loop_over_175839 = (int64_t) 0;
                }
                
                int64_t loop_over_175841;
                
                if (cond_175837) {
                    int64_t zm_lhs_179257 = sub64(index_175836, window_sizze_141480);
                    int64_t loop_over_t_res_179258 = sub64(zm_lhs_179257, (int64_t) 1);
                    
                    loop_over_175841 = loop_over_t_res_179258;
                } else {
                    loop_over_175841 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175844;
                int64_t defunc_0_f_res_175845;
                int64_t defunc_0_f_res_175846;
                int64_t defunc_0_f_res_175847;
                bool loop_while_175848;
                int64_t p_175849;
                int64_t p_175850;
                int64_t p_175851;
                
                loop_while_175848 = 1;
                p_175849 = loop_over_175841;
                p_175850 = loop_over_175838;
                p_175851 = loop_over_175839;
                while (loop_while_175848) {
                    int64_t zs_lhs_175852 = sub64(p_175850, p_175849);
                    int64_t offset_175853 = sdiv64(zs_lhs_175852, (int64_t) 2);
                    int64_t ai_175854 = sub64(p_175850, offset_175853);
                    int64_t max_arg1_175855 = add64(p_175851, offset_175853);
                    int64_t max_res_175856 = smax64((int64_t) 0, max_arg1_175855);
                    bool cond_175857 = slt64((int64_t) 0, max_res_175856);
                    int64_t b_prev_175858;
                    
                    if (cond_175857) {
                        int64_t tmp_179259 = sub64(max_res_175856, (int64_t) 1);
                        bool x_179260 = sle64((int64_t) 0, tmp_179259);
                        bool y_179261 = slt64(tmp_179259, window_sizze_141480);
                        bool bounds_check_179262 = x_179260 && y_179261;
                        bool index_certs_179263;
                        
                        if (!bounds_check_179262) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179259, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179264 = p_174791 + tmp_179259;
                        int64_t b_prev_t_res_179265 = ((int64_t *) b_list_mem_180281.mem)[slice_179264];
                        
                        b_prev_175858 = b_prev_t_res_179265;
                    } else {
                        b_prev_175858 = lowest_175814;
                    }
                    
                    bool cond_175865 = sle64(ai_175854, (int64_t) 0);
                    int64_t loopres_175866;
                    int64_t loopres_175867;
                    int64_t loopres_175868;
                    bool loopres_175869;
                    
                    if (cond_175865) {
                        loopres_175866 = p_175849;
                        loopres_175867 = (int64_t) 0;
                        loopres_175868 = max_res_175856;
                        loopres_175869 = 0;
                    } else {
                        bool cond_175870 = sle64(window_sizze_141480, max_res_175856);
                        int64_t loopres_f_res_175871;
                        int64_t loopres_f_res_175872;
                        int64_t loopres_f_res_175873;
                        bool loopres_f_res_175874;
                        
                        if (cond_175870) {
                            int64_t min_res_179267 = smin64(m_174779, ai_175854);
                            bool x_179268 = sle64((int64_t) 0, m_174779);
                            bool y_179269 = slt64(m_174779, window_sizze_141480);
                            bool bounds_check_179270 = x_179268 && y_179269;
                            bool index_certs_179271;
                            
                            if (!bounds_check_179270) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179274 = sle64((int64_t) 0, min_res_179267);
                            bool y_179275 = slt64(min_res_179267, window_sizze_141480);
                            bool bounds_check_179276 = x_179274 && y_179275;
                            bool index_certs_179277;
                            
                            if (!bounds_check_179276) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179267, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_179273 = ((int64_t *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_179278 = p_174790 + min_res_179267;
                            int64_t leq_rhs_179279 = ((int64_t *) a_list_mem_180280.mem)[slice_179278];
                            bool defunc_0_leq_res_179280 = sle64(leq_lhs_179273, leq_rhs_179279);
                            int64_t loopres_f_res_t_res_179281;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179281 = ai_175854;
                            } else {
                                loopres_f_res_t_res_179281 = p_175850;
                            }
                            
                            bool x_179282 = !defunc_0_leq_res_179280;
                            int64_t loopres_f_res_t_res_179283;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179283 = window_sizze_141480;
                            } else {
                                int64_t tmp_179284 = sub64(m_174779, offset_175853);
                                
                                loopres_f_res_t_res_179283 = tmp_179284;
                            }
                            loopres_f_res_175871 = p_175849;
                            loopres_f_res_175872 = loopres_f_res_t_res_179281;
                            loopres_f_res_175873 = loopres_f_res_t_res_179283;
                            loopres_f_res_175874 = x_179282;
                        } else {
                            bool cond_175892 = sle64(window_sizze_141480, ai_175854);
                            int64_t loopres_f_res_f_res_175893;
                            int64_t loopres_f_res_f_res_175894;
                            int64_t loopres_f_res_f_res_175895;
                            bool loopres_f_res_f_res_175896;
                            
                            if (cond_175892) {
                                int64_t min_res_179286 = smin64(m_174779, max_res_175856);
                                bool x_179287 = sle64((int64_t) 0, m_174779);
                                bool y_179288 = slt64(m_174779, window_sizze_141480);
                                bool bounds_check_179289 = x_179287 && y_179288;
                                bool index_certs_179290;
                                
                                if (!bounds_check_179289) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179293 = sle64((int64_t) 0, min_res_179286);
                                bool y_179294 = slt64(min_res_179286, window_sizze_141480);
                                bool bounds_check_179295 = x_179293 && y_179294;
                                bool index_certs_179296;
                                
                                if (!bounds_check_179295) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179286, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_179292 = ((int64_t *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_179297 = p_174791 + min_res_179286;
                                int64_t leq_rhs_179298 = ((int64_t *) b_list_mem_180281.mem)[slice_179297];
                                bool defunc_0_leq_res_179299 = sle64(leq_lhs_179292, leq_rhs_179298);
                                int64_t loopres_f_res_f_res_t_res_179300;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179300 = max_res_175856;
                                } else {
                                    loopres_f_res_f_res_t_res_179300 = p_175851;
                                }
                                
                                bool x_179301 = !defunc_0_leq_res_179299;
                                int64_t loopres_f_res_f_res_t_res_179302;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179302 = window_sizze_141480;
                                } else {
                                    loopres_f_res_f_res_t_res_179302 = m_174779;
                                }
                                loopres_f_res_f_res_175893 = p_175849;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_t_res_179302;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_t_res_179300;
                                loopres_f_res_f_res_175896 = x_179301;
                            } else {
                                bool cond_175913 = sle64(p_175850, p_175849);
                                int64_t loopres_f_res_f_res_f_res_175914;
                                int64_t loopres_f_res_f_res_f_res_175915;
                                int64_t loopres_f_res_f_res_f_res_175916;
                                bool loopres_f_res_f_res_f_res_175917;
                                
                                if (cond_175913) {
                                    bool cond_179341 = slt64(ai_175854, window_sizze_141480);
                                    int64_t ai_179342;
                                    
                                    if (cond_179341) {
                                        ai_179342 = ai_175854;
                                    } else {
                                        ai_179342 = m_174779;
                                    }
                                    
                                    bool x_179355 = sle64((int64_t) 0, ai_179342);
                                    bool y_179356 = slt64(ai_179342, window_sizze_141480);
                                    bool bounds_check_179357 = x_179355 && y_179356;
                                    bool index_certs_179358;
                                    
                                    if (!bounds_check_179357) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179342, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_179344;
                                    
                                    if (cond_175857) {
                                        int64_t tmp_179345 = sub64(max_res_175856, (int64_t) 1);
                                        bool x_179346 = sle64((int64_t) 0, tmp_179345);
                                        bool y_179347 = slt64(tmp_179345, window_sizze_141480);
                                        bool bounds_check_179348 = x_179346 && y_179347;
                                        bool index_certs_179349;
                                        
                                        if (!bounds_check_179348) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179345, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179350 = p_174791 + tmp_179345;
                                        int64_t b_prev_t_res_179351 = ((int64_t *) b_list_mem_180281.mem)[slice_179350];
                                        
                                        b_prev_179344 = b_prev_t_res_179351;
                                    } else {
                                        bool index_certs_179353;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179344 = leq_rhs_175812;
                                    }
                                    
                                    int64_t slice_179359 = p_174790 + ai_179342;
                                    int64_t gt_lhs_179360 = ((int64_t *) a_list_mem_180280.mem)[slice_179359];
                                    bool defunc_0_gt_res_179361 = slt64(b_prev_179344, gt_lhs_179360);
                                    int64_t defunc_0_partFunc_sequential_search_res_179362;
                                    int64_t defunc_0_partFunc_sequential_search_res_179363;
                                    
                                    if (defunc_0_gt_res_179361) {
                                        int64_t zl_rhs_179364 = sub64(window_sizze_141480, max_res_175856);
                                        bool loop_cond_179365 = slt64((int64_t) 0, zl_rhs_179364);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179366;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179368;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179369;
                                        bool loop_while_179370;
                                        int64_t p_179371;
                                        int64_t p_179372;
                                        int64_t p_179373;
                                        
                                        loop_while_179370 = loop_cond_179365;
                                        p_179371 = ai_179342;
                                        p_179372 = max_res_175856;
                                        p_179373 = (int64_t) 0;
                                        while (loop_while_179370) {
                                            int64_t i_a_179374 = sub64(ai_179342, p_179373);
                                            int64_t i_b_179375 = add64(max_res_175856, p_179373);
                                            int64_t leq_lhs_179376 = sub64(i_a_179374, (int64_t) 1);
                                            bool x_179377 = sle64((int64_t) 0, leq_lhs_179376);
                                            bool y_179378 = slt64(leq_lhs_179376, window_sizze_141480);
                                            bool bounds_check_179379 = x_179377 && y_179378;
                                            bool index_certs_179380;
                                            
                                            if (!bounds_check_179379) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179376, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179383 = sle64((int64_t) 0, i_b_179375);
                                            bool y_179384 = slt64(i_b_179375, window_sizze_141480);
                                            bool bounds_check_179385 = x_179383 && y_179384;
                                            bool index_certs_179386;
                                            
                                            if (!bounds_check_179385) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179375, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179381 = p_174790 + leq_lhs_179376;
                                            int64_t leq_lhs_179382 = ((int64_t *) a_list_mem_180280.mem)[slice_179381];
                                            int64_t slice_179387 = p_174791 + i_b_179375;
                                            int64_t leq_rhs_179388 = ((int64_t *) b_list_mem_180281.mem)[slice_179387];
                                            bool defunc_0_leq_res_179389 = sle64(leq_lhs_179382, leq_rhs_179388);
                                            int64_t loopres_179390;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179390 = i_a_179374;
                                            } else {
                                                loopres_179390 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179391;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179391 = i_b_179375;
                                            } else {
                                                loopres_179391 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179392;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179392 = zl_rhs_179364;
                                            } else {
                                                int64_t tmp_179393 = add64((int64_t) 1, p_179373);
                                                
                                                loopres_179392 = tmp_179393;
                                            }
                                            
                                            bool loop_cond_179394 = slt64(loopres_179392, zl_rhs_179364);
                                            bool loop_while_tmp_181811 = loop_cond_179394;
                                            int64_t p_tmp_181812 = loopres_179390;
                                            int64_t p_tmp_181813 = loopres_179391;
                                            int64_t p_tmp_181814 = loopres_179392;
                                            
                                            loop_while_179370 = loop_while_tmp_181811;
                                            p_179371 = p_tmp_181812;
                                            p_179372 = p_tmp_181813;
                                            p_179373 = p_tmp_181814;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179366 = loop_while_179370;
                                        defunc_0_partFunc_sequential_search_res_t_res_179367 = p_179371;
                                        defunc_0_partFunc_sequential_search_res_t_res_179368 = p_179372;
                                        defunc_0_partFunc_sequential_search_res_t_res_179369 = p_179373;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_t_res_179368;
                                    } else {
                                        int64_t zl_rhs_179395 = sub64(max_res_175856, (int64_t) 1);
                                        bool loop_cond_179396 = slt64((int64_t) 0, zl_rhs_179395);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179397;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179399;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179400;
                                        bool loop_while_179401;
                                        int64_t p_179402;
                                        int64_t p_179403;
                                        int64_t p_179404;
                                        
                                        loop_while_179401 = loop_cond_179396;
                                        p_179402 = ai_179342;
                                        p_179403 = max_res_175856;
                                        p_179404 = (int64_t) 0;
                                        while (loop_while_179401) {
                                            int64_t zp_lhs_179405 = add64(ai_179342, p_179404);
                                            int64_t hi_a_179406 = add64((int64_t) 1, zp_lhs_179405);
                                            bool cond_179407 = slt64(hi_a_179406, window_sizze_141480);
                                            int64_t i_a_179408;
                                            
                                            if (cond_179407) {
                                                i_a_179408 = hi_a_179406;
                                            } else {
                                                i_a_179408 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_179410 = sub64(max_res_175856, p_179404);
                                            int64_t i_b_179411 = sub64(zm_lhs_179410, (int64_t) 1);
                                            bool x_179412 = sle64((int64_t) 0, i_a_179408);
                                            bool y_179413 = slt64(i_a_179408, window_sizze_141480);
                                            bool bounds_check_179414 = x_179412 && y_179413;
                                            bool index_certs_179415;
                                            
                                            if (!bounds_check_179414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179408, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179418 = sle64((int64_t) 0, i_b_179411);
                                            bool y_179419 = slt64(i_b_179411, window_sizze_141480);
                                            bool bounds_check_179420 = x_179418 && y_179419;
                                            bool index_certs_179421;
                                            
                                            if (!bounds_check_179420) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179411, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179416 = p_174790 + i_a_179408;
                                            int64_t gt_lhs_179417 = ((int64_t *) a_list_mem_180280.mem)[slice_179416];
                                            int64_t slice_179422 = p_174791 + i_b_179411;
                                            int64_t gt_rhs_179423 = ((int64_t *) b_list_mem_180281.mem)[slice_179422];
                                            bool defunc_0_gt_res_179424 = slt64(gt_rhs_179423, gt_lhs_179417);
                                            int64_t loopres_179425;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179425 = i_a_179408;
                                            } else {
                                                loopres_179425 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179426;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179426 = zm_lhs_179410;
                                            } else {
                                                loopres_179426 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179427;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179427 = zl_rhs_179395;
                                            } else {
                                                int64_t tmp_179428 = add64((int64_t) 1, p_179404);
                                                
                                                loopres_179427 = tmp_179428;
                                            }
                                            
                                            bool loop_cond_179429 = slt64(loopres_179427, zl_rhs_179395);
                                            bool loop_while_tmp_181815 = loop_cond_179429;
                                            int64_t p_tmp_181816 = loopres_179425;
                                            int64_t p_tmp_181817 = loopres_179426;
                                            int64_t p_tmp_181818 = loopres_179427;
                                            
                                            loop_while_179401 = loop_while_tmp_181815;
                                            p_179402 = p_tmp_181816;
                                            p_179403 = p_tmp_181817;
                                            p_179404 = p_tmp_181818;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179397 = loop_while_179401;
                                        defunc_0_partFunc_sequential_search_res_f_res_179398 = p_179402;
                                        defunc_0_partFunc_sequential_search_res_f_res_179399 = p_179403;
                                        defunc_0_partFunc_sequential_search_res_f_res_179400 = p_179404;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_f_res_179399;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = p_175849;
                                    loopres_f_res_f_res_f_res_175915 = defunc_0_partFunc_sequential_search_res_179362;
                                    loopres_f_res_f_res_f_res_175916 = defunc_0_partFunc_sequential_search_res_179363;
                                    loopres_f_res_f_res_f_res_175917 = 0;
                                } else {
                                    bool x_176001 = sle64((int64_t) 0, ai_175854);
                                    bool y_176002 = slt64(ai_175854, window_sizze_141480);
                                    bool bounds_check_176003 = x_176001 && y_176002;
                                    bool index_certs_176004;
                                    
                                    if (!bounds_check_176003) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175854, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177670 = p_174790 + ai_175854;
                                    int64_t gt_lhs_176005 = ((int64_t *) a_list_mem_180280.mem)[slice_177670];
                                    bool defunc_0_gt_res_176006 = slt64(b_prev_175858, gt_lhs_176005);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176007;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176008;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176009;
                                    bool loopres_f_res_f_res_f_res_f_res_176010;
                                    
                                    if (defunc_0_gt_res_176006) {
                                        int64_t leq_lhs_179430 = sub64(ai_175854, (int64_t) 1);
                                        bool x_179431 = sle64((int64_t) 0, leq_lhs_179430);
                                        bool y_179432 = slt64(leq_lhs_179430, window_sizze_141480);
                                        bool bounds_check_179433 = x_179431 && y_179432;
                                        bool index_certs_179434;
                                        
                                        if (!bounds_check_179433) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179430, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179437 = sle64((int64_t) 0, max_res_175856);
                                        bool y_179438 = slt64(max_res_175856, window_sizze_141480);
                                        bool bounds_check_179439 = x_179437 && y_179438;
                                        bool index_certs_179440;
                                        
                                        if (!bounds_check_179439) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175856, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179435 = p_174790 + leq_lhs_179430;
                                        int64_t leq_lhs_179436 = ((int64_t *) a_list_mem_180280.mem)[slice_179435];
                                        int64_t slice_179441 = p_174791 + max_res_175856;
                                        int64_t leq_rhs_179442 = ((int64_t *) b_list_mem_180281.mem)[slice_179441];
                                        bool defunc_0_leq_res_179443 = sle64(leq_lhs_179436, leq_rhs_179442);
                                        bool x_179444 = !defunc_0_leq_res_179443;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = ai_175854;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = leq_lhs_179430;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = max_res_175856;
                                        } else {
                                            int64_t tmp_179447 = add64((int64_t) 1, max_res_175856);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = tmp_179447;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176007 = p_175849;
                                        loopres_f_res_f_res_f_res_f_res_176008 = loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        loopres_f_res_f_res_f_res_f_res_176009 = loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        loopres_f_res_f_res_f_res_f_res_176010 = x_179444;
                                    } else {
                                        int64_t tmp_176027 = add64((int64_t) 1, ai_175854);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176007 = tmp_176027;
                                        loopres_f_res_f_res_f_res_f_res_176008 = p_175850;
                                        loopres_f_res_f_res_f_res_f_res_176009 = p_175851;
                                        loopres_f_res_f_res_f_res_f_res_176010 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = loopres_f_res_f_res_f_res_f_res_176007;
                                    loopres_f_res_f_res_f_res_175915 = loopres_f_res_f_res_f_res_f_res_176008;
                                    loopres_f_res_f_res_f_res_175916 = loopres_f_res_f_res_f_res_f_res_176009;
                                    loopres_f_res_f_res_f_res_175917 = loopres_f_res_f_res_f_res_f_res_176010;
                                }
                                loopres_f_res_f_res_175893 = loopres_f_res_f_res_f_res_175914;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_f_res_175915;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_f_res_175916;
                                loopres_f_res_f_res_175896 = loopres_f_res_f_res_f_res_175917;
                            }
                            loopres_f_res_175871 = loopres_f_res_f_res_175893;
                            loopres_f_res_175872 = loopres_f_res_f_res_175894;
                            loopres_f_res_175873 = loopres_f_res_f_res_175895;
                            loopres_f_res_175874 = loopres_f_res_f_res_175896;
                        }
                        loopres_175866 = loopres_f_res_175871;
                        loopres_175867 = loopres_f_res_175872;
                        loopres_175868 = loopres_f_res_175873;
                        loopres_175869 = loopres_f_res_175874;
                    }
                    
                    bool loop_while_tmp_181807 = loopres_175869;
                    int64_t p_tmp_181808 = loopres_175866;
                    int64_t p_tmp_181809 = loopres_175867;
                    int64_t p_tmp_181810 = loopres_175868;
                    
                    loop_while_175848 = loop_while_tmp_181807;
                    p_175849 = p_tmp_181808;
                    p_175850 = p_tmp_181809;
                    p_175851 = p_tmp_181810;
                }
                defunc_0_f_res_175844 = loop_while_175848;
                defunc_0_f_res_175845 = p_175849;
                defunc_0_f_res_175846 = p_175850;
                defunc_0_f_res_175847 = p_175851;
                ((int64_t *) mem_180297)[i_180030] = defunc_0_f_res_175846;
                ((int64_t *) mem_180299)[i_180030] = defunc_0_f_res_175847;
            }
            if (memblock_alloc(ctx, &mem_180312, window_sizze_141480, "mem_180312")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181819 = 0; nest_i_181819 < window_sizze_141480; nest_i_181819++) {
                ((int8_t *) mem_180312.mem)[nest_i_181819] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180314, bytes_180313, "mem_180314")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181820 = 0; nest_i_181820 < window_sizze_141480; nest_i_181820++) {
                ((int64_t *) mem_180314.mem)[nest_i_181820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180316, bytes_180313, "mem_180316")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181821 = 0; nest_i_181821 < window_sizze_141480; nest_i_181821++) {
                ((int64_t *) mem_180316.mem)[nest_i_181821] = (int64_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176054;
            int64_t defunc_0_mergeFunc_seq_res_176055;
            bool loop_while_176059;
            int64_t p_176060;
            
            loop_while_176059 = loop_cond_176053;
            p_176060 = (int64_t) 0;
            while (loop_while_176059) {
                bool x_176064 = sle64((int64_t) 0, p_176060);
                bool y_176065 = slt64(p_176060, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176066 = x_176064 && y_176065;
                bool index_certs_176067;
                
                if (!bounds_check_176066) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176060, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177653 = sle64((int64_t) 1, p_176060);
                int64_t index_concat_i_177654 = sub64(p_176060, (int64_t) 1);
                int64_t index_concat_177655;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179448 = ((int64_t *) mem_180297)[index_concat_i_177654];
                    
                    index_concat_177655 = x_179448;
                } else {
                    index_concat_177655 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177657;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177657 = index_concat_177655;
                } else {
                    index_concat_branch_177657 = (int64_t) 0;
                }
                
                int64_t index_concat_177649;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179449 = ((int64_t *) mem_180299)[index_concat_i_177654];
                    
                    index_concat_177649 = x_179449;
                } else {
                    index_concat_177649 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177651;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177651 = index_concat_177649;
                } else {
                    index_concat_branch_177651 = (int64_t) 0;
                }
                
                int64_t ubs_176070 = add64((int64_t) 1, p_176060);
                bool x_176071 = sle64((int64_t) 0, ubs_176070);
                bool y_176072 = slt64(ubs_176070, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176073 = x_176071 && y_176072;
                bool index_certs_176074;
                
                if (!bounds_check_176073) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177641 = sle64((int64_t) 1, ubs_176070);
                int64_t index_concat_177643;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179450 = ((int64_t *) mem_180297)[p_176060];
                    
                    index_concat_177643 = x_179450;
                } else {
                    index_concat_177643 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177645;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177645 = index_concat_177643;
                } else {
                    index_concat_branch_177645 = (int64_t) 0;
                }
                
                int64_t index_concat_177637;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179451 = ((int64_t *) mem_180299)[p_176060];
                    
                    index_concat_177637 = x_179451;
                } else {
                    index_concat_177637 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177639;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177639 = index_concat_177637;
                } else {
                    index_concat_branch_177639 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 = sub64(index_concat_branch_177639, index_concat_branch_177651);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 = sub64(index_concat_branch_177645, index_concat_branch_177657);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t ind_bottom_176080 = add64(index_concat_branch_177651, index_concat_branch_177657);
                int64_t ind_top_176081 = add64(index_concat_branch_177639, index_concat_branch_177645);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 = sub64(ind_top_176081, ind_bottom_176080);
                bool empty_slice_176083 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 == (int64_t) 0;
                int64_t m_176084 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 1);
                int64_t i_p_m_t_s_176085 = add64(m_176084, index_concat_branch_177657);
                bool zzero_leq_i_p_m_t_s_176086 = sle64((int64_t) 0, i_p_m_t_s_176085);
                bool i_p_m_t_s_leq_w_176087 = slt64(i_p_m_t_s_176085, window_sizze_141480);
                bool zzero_lte_i_176088 = sle64((int64_t) 0, index_concat_branch_177657);
                bool i_lte_j_176089 = sle64(index_concat_branch_177657, index_concat_branch_177645);
                bool y_176090 = i_p_m_t_s_leq_w_176087 && zzero_lte_i_176088;
                bool y_176091 = zzero_leq_i_p_m_t_s_176086 && y_176090;
                bool forwards_ok_176092 = i_lte_j_176089 && y_176091;
                bool ok_or_empty_176093 = empty_slice_176083 || forwards_ok_176092;
                bool index_certs_176094;
                
                if (!ok_or_empty_176093) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177657, ":", (long long) index_concat_branch_177645, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176095 = slt64(index_concat_branch_177645, index_concat_branch_177657);
                bool valid_176096 = !bounds_invalid_upwards_176095;
                bool range_valid_c_176097;
                
                if (!valid_176096) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177657, "..<", (long long) index_concat_branch_177645, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176103 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 == (int64_t) 0;
                int64_t m_176104 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, (int64_t) 1);
                int64_t i_p_m_t_s_176105 = add64(m_176104, index_concat_branch_177651);
                bool zzero_leq_i_p_m_t_s_176106 = sle64((int64_t) 0, i_p_m_t_s_176105);
                bool i_p_m_t_s_leq_w_176107 = slt64(i_p_m_t_s_176105, window_sizze_141480);
                bool zzero_lte_i_176108 = sle64((int64_t) 0, index_concat_branch_177651);
                bool i_lte_j_176109 = sle64(index_concat_branch_177651, index_concat_branch_177639);
                bool y_176110 = i_p_m_t_s_leq_w_176107 && zzero_lte_i_176108;
                bool y_176111 = zzero_leq_i_p_m_t_s_176106 && y_176110;
                bool forwards_ok_176112 = i_lte_j_176109 && y_176111;
                bool ok_or_empty_176113 = empty_slice_176103 || forwards_ok_176112;
                bool index_certs_176114;
                
                if (!ok_or_empty_176113) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177651, ":", (long long) index_concat_branch_177639, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176115 = slt64(index_concat_branch_177639, index_concat_branch_177651);
                bool valid_176116 = !bounds_invalid_upwards_176115;
                bool range_valid_c_176117;
                
                if (!valid_176116) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177651, "..<", (long long) index_concat_branch_177639, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180333 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool cond_176126 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zs_lhs_176127 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zp_rhs_176128 = sdiv_safe64(zs_lhs_176127, (int64_t) 20);
                int64_t min_num_blocks_176129 = add64((int64_t) 1, zp_rhs_176128);
                bool loop_cond_176130 = slt64((int64_t) 1, min_num_blocks_176129);
                bool smallest_pow_2_geq_than_res_176131;
                int64_t smallest_pow_2_geq_than_res_176132;
                bool loop_while_176133;
                int64_t x_176134;
                
                loop_while_176133 = loop_cond_176130;
                x_176134 = (int64_t) 1;
                while (loop_while_176133) {
                    int64_t loopres_176135 = mul64((int64_t) 2, x_176134);
                    bool loop_cond_176136 = slt64(loopres_176135, min_num_blocks_176129);
                    bool loop_while_tmp_181827 = loop_cond_176136;
                    int64_t x_tmp_181828 = loopres_176135;
                    
                    loop_while_176133 = loop_while_tmp_181827;
                    x_176134 = x_tmp_181828;
                }
                smallest_pow_2_geq_than_res_176131 = loop_while_176133;
                smallest_pow_2_geq_than_res_176132 = x_176134;
                
                bool zzero_176137 = smallest_pow_2_geq_than_res_176132 == (int64_t) 0;
                bool nonzzero_176138 = !zzero_176137;
                bool protect_assert_disj_176139 = cond_176126 || nonzzero_176138;
                bool nonzzero_cert_176140;
                
                if (!protect_assert_disj_176139) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176141 = sdiv_safe64(zs_lhs_176127, smallest_pow_2_geq_than_res_176132);
                int64_t block_sizze_176142 = add64((int64_t) 1, zp_rhs_176141);
                bool y_176149 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                bool protect_assert_disj_181486 = cond_176126 || y_176149;
                bool index_certs_176150;
                
                if (!protect_assert_disj_181486) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176176 = slt64(smallest_pow_2_geq_than_res_176132, (int64_t) 0);
                bool valid_176177 = !bounds_invalid_upwards_176176;
                bool protect_assert_disj_181496 = cond_176126 || valid_176177;
                bool range_valid_c_176178;
                
                if (!protect_assert_disj_181496) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176132, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176180 = slt64(block_sizze_176142, (int64_t) 0);
                bool valid_176181 = !bounds_invalid_upwards_176180;
                bool protect_assert_disj_181498 = cond_176126 || valid_176181;
                bool range_valid_c_176182;
                
                if (!protect_assert_disj_181498) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176142, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176184 = sle64(block_sizze_176142, (int64_t) 1);
                int64_t tmp_176185 = sub64(block_sizze_176142, (int64_t) 2);
                bool bounds_invalid_upwards_176186 = slt64(tmp_176185, (int64_t) 0);
                bool valid_176188 = !bounds_invalid_upwards_176186;
                bool protect_assert_disj_176189 = cond_176184 || valid_176188;
                bool protect_assert_disj_181500 = cond_176126 || protect_assert_disj_176189;
                bool range_valid_c_176190;
                
                if (!protect_assert_disj_181500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176185, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176751 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool empty_or_match_cert_176752;
                
                if (!dim_match_176751) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "](i8, i64, i64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176753 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == (int64_t) 0;
                int64_t m_176754 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176755 = sle64((int64_t) 0, m_176754);
                bool i_p_m_t_s_leq_w_176756 = slt64(m_176754, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082);
                bool y_176757 = zzero_leq_i_p_m_t_s_176755 && i_p_m_t_s_leq_w_176756;
                bool ok_or_empty_176758 = empty_slice_176753 || y_176757;
                bool index_certs_176759;
                
                if (!ok_or_empty_176758) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176760 = add64(ind_bottom_176080, m_176754);
                bool zzero_leq_i_p_m_t_s_176761 = sle64((int64_t) 0, i_p_m_t_s_176760);
                bool i_p_m_t_s_leq_w_176762 = slt64(i_p_m_t_s_176760, window_sizze_141480);
                bool zzero_lte_i_176763 = sle64((int64_t) 0, ind_bottom_176080);
                bool i_lte_j_176764 = sle64(ind_bottom_176080, ind_top_176081);
                bool y_176765 = i_p_m_t_s_leq_w_176762 && zzero_lte_i_176763;
                bool y_176766 = zzero_leq_i_p_m_t_s_176761 && y_176765;
                bool forwards_ok_176767 = i_lte_j_176764 && y_176766;
                bool ok_or_empty_176768 = empty_slice_176753 || forwards_ok_176767;
                bool index_certs_176769;
                
                if (!ok_or_empty_176768) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176080, ":", (long long) ind_top_176081, "] out of bounds for array of shape [", (long long) window_sizze_141480, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177633 = p_174790 + index_concat_branch_177657;
                
                if (memblock_alloc(ctx, &mem_180332, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "mem_180332")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181829 = 0; nest_i_181829 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; nest_i_181829++) {
                    ((int8_t *) mem_180332.mem)[nest_i_181829] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180334, bytes_180333, "mem_180334")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181830 = 0; i_181830 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; i_181830++) {
                    int64_t x_181831 = index_concat_branch_177657 + i_181830 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[i_181830] = x_181831;
                }
                
                int64_t slice_177632 = p_174791 + index_concat_branch_177651;
                
                for (int64_t nest_i_181832 = 0; nest_i_181832 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; nest_i_181832++) {
                    ((int8_t *) mem_180332.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + nest_i_181832] = (int8_t) 1;
                }
                for (int64_t i_181833 = 0; i_181833 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; i_181833++) {
                    int64_t x_181834 = index_concat_branch_177651 + i_181833 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + i_181833] = x_181834;
                }
                
                int64_t tmp_offs_181835 = (int64_t) 0;
                
                if (!(tmp_offs_181835 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181835 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t tmp_offs_181836 = (int64_t) 0;
                
                if (!(tmp_offs_181836 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181836 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                if (memblock_alloc(ctx, &mem_180336, bytes_180333, "mem_180336")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181837 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180280.mem, slice_177633, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180281.mem, slice_177632, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t flat_dim_176143 = smallest_pow_2_geq_than_res_176132 * block_sizze_176142;
                bool x_181481 = !cond_176126;
                int64_t greatest_divisor_leq_than_arg1_176147 = mul64((int64_t) 2, block_sizze_176142);
                int64_t merge_block_sizze_176148;
                
                if (x_181481) {
                    int64_t x_181483;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181483, (int64_t) 8, greatest_divisor_leq_than_arg1_176147) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176148 = x_181483;
                } else {
                    merge_block_sizze_176148 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177627 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 0);
                int8_t index_concat_branch_177631 = btoi_bool_i8(index_concat_cmp_177627);
                int64_t index_concat_i_179452 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t index_primexp_179453 = add64(index_concat_branch_177651, index_concat_i_179452);
                int64_t index_concat_branch_177625;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177625 = index_primexp_179453;
                } else {
                    index_concat_branch_177625 = index_concat_branch_177657;
                }
                
                bool x_181477 = !index_concat_cmp_177627;
                bool protect_cond_conj_181487 = x_181477 && x_181481;
                int64_t index_concat_177618;
                
                if (protect_cond_conj_181487) {
                    int64_t x_181479 = ((int64_t *) a_list_mem_180280.mem)[slice_177633];
                    
                    index_concat_177618 = x_181479;
                } else {
                    index_concat_177618 = (int64_t) 0;
                }
                
                int64_t slice_179455 = slice_177632 + index_concat_i_179452;
                bool protect_cond_conj_181488 = index_concat_cmp_177627 && x_181481;
                int64_t index_concat_179456;
                
                if (protect_cond_conj_181488) {
                    int64_t x_181475 = ((int64_t *) b_list_mem_180281.mem)[slice_179455];
                    
                    index_concat_179456 = x_181475;
                } else {
                    index_concat_179456 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177619;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177619 = index_concat_179456;
                } else {
                    index_concat_branch_177619 = index_concat_177618;
                }
                
                int8_t defunc_0_reduce_res_179687;
                int64_t defunc_0_reduce_res_179688;
                int64_t defunc_0_reduce_res_179689;
                
                if (x_181481) {
                    int8_t x_181489;
                    int64_t x_181490;
                    int64_t x_181491;
                    int8_t redout_180033;
                    int64_t redout_180034;
                    int64_t redout_180035;
                    
                    redout_180033 = index_concat_branch_177631;
                    redout_180034 = index_concat_branch_177625;
                    redout_180035 = index_concat_branch_177619;
                    for (int64_t i_180036 = 0; i_180036 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079; i_180036++) {
                        bool index_concat_cmp_180240 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, i_180036);
                        int8_t index_concat_branch_180244 = btoi_bool_i8(index_concat_cmp_180240);
                        int64_t index_concat_branch_180238;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180235 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t index_primexp_180262 = add64(index_concat_branch_177651, index_concat_i_180235);
                            
                            index_concat_branch_180238 = index_primexp_180262;
                        } else {
                            int64_t index_primexp_180264 = add64(index_concat_branch_177657, i_180036);
                            
                            index_concat_branch_180238 = index_primexp_180264;
                        }
                        
                        int64_t index_concat_branch_180232;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180229 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t slice_180259 = slice_177632 + index_concat_i_180229;
                            int64_t index_concat_180230 = ((int64_t *) b_list_mem_180281.mem)[slice_180259];
                            
                            index_concat_branch_180232 = index_concat_180230;
                        } else {
                            int64_t slice_180260 = slice_177633 + i_180036;
                            int64_t index_concat_180231 = ((int64_t *) a_list_mem_180280.mem)[slice_180260];
                            
                            index_concat_branch_180232 = index_concat_180231;
                        }
                        
                        bool eq_x_y_180275 = redout_180033 == (int8_t) 1;
                        bool eq_x_zz_180276 = redout_180033 == (int8_t) 0;
                        bool p_and_eq_x_y_180277 = index_concat_cmp_180240 && eq_x_y_180275;
                        bool not_p_180278 = !index_concat_cmp_180240;
                        bool p_and_eq_x_y_180279 = eq_x_zz_180276 && not_p_180278;
                        bool cond_176166 = p_and_eq_x_y_180277 || p_and_eq_x_y_180279;
                        bool defunc_0_leq_res_t_res_176167 = sle64(redout_180034, index_concat_branch_180238);
                        bool defunc_0_leq_res_176168 = sle64(redout_180035, index_concat_branch_180232);
                        bool x_176169 = cond_176166 && defunc_0_leq_res_t_res_176167;
                        bool x_176170 = !cond_176166;
                        bool y_176171 = defunc_0_leq_res_176168 && x_176170;
                        bool defunc_0_leq_res_176172 = x_176169 || y_176171;
                        int8_t defunc_0_op_res_176173;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176173 = index_concat_branch_180244;
                        } else {
                            defunc_0_op_res_176173 = redout_180033;
                        }
                        
                        int64_t defunc_0_op_res_176174;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176174 = index_concat_branch_180238;
                        } else {
                            defunc_0_op_res_176174 = redout_180034;
                        }
                        
                        int64_t defunc_0_op_res_176175;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176175 = index_concat_branch_180232;
                        } else {
                            defunc_0_op_res_176175 = redout_180035;
                        }
                        
                        int8_t redout_tmp_181838 = defunc_0_op_res_176173;
                        int64_t redout_tmp_181839 = defunc_0_op_res_176174;
                        int64_t redout_tmp_181840 = defunc_0_op_res_176175;
                        
                        redout_180033 = redout_tmp_181838;
                        redout_180034 = redout_tmp_181839;
                        redout_180035 = redout_tmp_181840;
                    }
                    x_181489 = redout_180033;
                    x_181490 = redout_180034;
                    x_181491 = redout_180035;
                    defunc_0_reduce_res_179687 = x_181489;
                    defunc_0_reduce_res_179688 = x_181490;
                    defunc_0_reduce_res_179689 = x_181491;
                } else {
                    defunc_0_reduce_res_179687 = (int8_t) 0;
                    defunc_0_reduce_res_179688 = (int64_t) 0;
                    defunc_0_reduce_res_179689 = (int64_t) 0;
                }
                
                int64_t distance_176187 = add64((int64_t) 1, tmp_176185);
                int64_t binop_x_180339 = (int64_t) 8 * smallest_pow_2_geq_than_res_176132;
                int64_t bytes_180340 = block_sizze_176142 * binop_x_180339;
                int64_t bytes_180358 = (int64_t) 8 * block_sizze_176142;
                bool loop_cond_176296 = slt64(block_sizze_176142, flat_dim_176143);
                bool zzero_176297 = merge_block_sizze_176148 == (int64_t) 0;
                bool nonzzero_176298 = !zzero_176297;
                
                if (cond_176126) {
                    if (memblock_set(ctx, &ext_mem_180631, &mem_180332, "mem_180332") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &mem_180334, "mem_180334") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &mem_180336, "mem_180336") != 0)
                        return 1;
                } else {
                    if (mem_180338_cached_sizze_182191 < flat_dim_176143) {
                        err = lexical_realloc(ctx, &mem_180338, &mem_180338_cached_sizze_182191, flat_dim_176143);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180341_cached_sizze_182192 < bytes_180340) {
                        err = lexical_realloc(ctx, &mem_180341, &mem_180341_cached_sizze_182192, bytes_180340);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180344_cached_sizze_182193 < bytes_180340) {
                        err = lexical_realloc(ctx, &mem_180344, &mem_180344_cached_sizze_182193, bytes_180340);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180357_cached_sizze_182194 < block_sizze_176142) {
                        err = lexical_realloc(ctx, &mem_180357, &mem_180357_cached_sizze_182194, block_sizze_176142);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180359_cached_sizze_182195 < bytes_180358) {
                        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182195, bytes_180358);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180361_cached_sizze_182196 < bytes_180358) {
                        err = lexical_realloc(ctx, &mem_180361, &mem_180361_cached_sizze_182196, bytes_180358);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180053 = 0; i_180053 < smallest_pow_2_geq_than_res_176132; i_180053++) {
                        int64_t zp_lhs_176195 = mul64(block_sizze_176142, i_180053);
                        
                        for (int64_t i_180043 = 0; i_180043 < block_sizze_176142; i_180043++) {
                            int64_t k_176200 = add64(zp_lhs_176195, i_180043);
                            bool cond_176201 = slt64(k_176200, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                            int8_t lifted_lambda_res_176202;
                            int64_t lifted_lambda_res_176203;
                            int64_t lifted_lambda_res_176204;
                            
                            if (cond_176201) {
                                bool x_179462 = sle64((int64_t) 0, k_176200);
                                bool bounds_check_179463 = cond_176201 && x_179462;
                                bool index_certs_179464;
                                
                                if (!bounds_check_179463) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176200, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179465 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, k_176200);
                                int8_t index_concat_branch_179466 = btoi_bool_i8(index_concat_cmp_179465);
                                int64_t index_concat_branch_179467;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179468 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t index_primexp_179469 = add64(index_concat_branch_177651, index_concat_i_179468);
                                    
                                    index_concat_branch_179467 = index_primexp_179469;
                                } else {
                                    int64_t index_primexp_179470 = add64(k_176200, index_concat_branch_177657);
                                    
                                    index_concat_branch_179467 = index_primexp_179470;
                                }
                                
                                int64_t index_concat_branch_179471;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179472 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t slice_179473 = slice_177632 + index_concat_i_179472;
                                    int64_t index_concat_179474 = ((int64_t *) b_list_mem_180281.mem)[slice_179473];
                                    
                                    index_concat_branch_179471 = index_concat_179474;
                                } else {
                                    int64_t slice_179475 = k_176200 + slice_177633;
                                    int64_t index_concat_179476 = ((int64_t *) a_list_mem_180280.mem)[slice_179475];
                                    
                                    index_concat_branch_179471 = index_concat_179476;
                                }
                                lifted_lambda_res_176202 = index_concat_branch_179466;
                                lifted_lambda_res_176203 = index_concat_branch_179467;
                                lifted_lambda_res_176204 = index_concat_branch_179471;
                            } else {
                                lifted_lambda_res_176202 = defunc_0_reduce_res_179687;
                                lifted_lambda_res_176203 = defunc_0_reduce_res_179688;
                                lifted_lambda_res_176204 = defunc_0_reduce_res_179689;
                            }
                            ((int8_t *) mem_180357)[i_180043] = lifted_lambda_res_176202;
                            ((int64_t *) mem_180359)[i_180043] = lifted_lambda_res_176203;
                            ((int64_t *) mem_180361)[i_180043] = lifted_lambda_res_176204;
                        }
                        if (!cond_176184) {
                            for (int64_t i_176217 = 0; i_176217 < distance_176187; i_176217++) {
                                int64_t gt_arg1_176221 = add64((int64_t) 1, i_176217);
                                bool x_176222 = sle64((int64_t) 0, gt_arg1_176221);
                                bool y_176223 = slt64(gt_arg1_176221, block_sizze_176142);
                                bool bounds_check_176224 = x_176222 && y_176223;
                                bool index_certs_176225;
                                
                                if (!bounds_check_176224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176221, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176229 = slt64(i_176217, block_sizze_176142);
                                bool index_certs_176230;
                                
                                if (!y_176229) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176217, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176226 = ((int8_t *) mem_180357)[gt_arg1_176221];
                                int64_t gt_arg1_176227 = ((int64_t *) mem_180359)[gt_arg1_176221];
                                int64_t gt_arg1_176228 = ((int64_t *) mem_180361)[gt_arg1_176221];
                                int8_t gt_arg0_176231 = ((int8_t *) mem_180357)[i_176217];
                                int64_t gt_arg0_176232 = ((int64_t *) mem_180359)[i_176217];
                                int64_t gt_arg0_176233 = ((int64_t *) mem_180361)[i_176217];
                                bool cond_176234 = gt_arg0_176231 == gt_arg1_176226;
                                bool defunc_0_leq_res_t_res_176235 = sle64(gt_arg0_176232, gt_arg1_176227);
                                bool defunc_0_leq_res_176236 = sle64(gt_arg0_176233, gt_arg1_176228);
                                bool x_176237 = cond_176234 && defunc_0_leq_res_t_res_176235;
                                bool x_176238 = !cond_176234;
                                bool y_176239 = defunc_0_leq_res_176236 && x_176238;
                                bool defunc_0_leq_res_176240 = x_176237 || y_176239;
                                bool defunc_0_lifted_gt_res_176241 = !defunc_0_leq_res_176240;
                                bool s_176242;
                                int64_t s_176246;
                                bool loop_while_176247;
                                int64_t j_176251;
                                
                                loop_while_176247 = defunc_0_lifted_gt_res_176241;
                                j_176251 = i_176217;
                                while (loop_while_176247) {
                                    bool x_176252 = sle64((int64_t) 0, j_176251);
                                    bool y_176253 = slt64(j_176251, block_sizze_176142);
                                    bool bounds_check_176254 = x_176252 && y_176253;
                                    bool index_certs_176255;
                                    
                                    if (!bounds_check_176254) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176251, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176259 = add64((int64_t) 1, j_176251);
                                    bool x_176260 = sle64((int64_t) 0, copy_arg0_176259);
                                    bool y_176261 = slt64(copy_arg0_176259, block_sizze_176142);
                                    bool bounds_check_176262 = x_176260 && y_176261;
                                    bool index_certs_176263;
                                    
                                    if (!bounds_check_176262) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176259, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176256 = ((int8_t *) mem_180357)[j_176251];
                                    int64_t copy_arg0_176257 = ((int64_t *) mem_180359)[j_176251];
                                    int64_t copy_arg0_176258 = ((int64_t *) mem_180361)[j_176251];
                                    int8_t copy_arg0_176264 = ((int8_t *) mem_180357)[copy_arg0_176259];
                                    int64_t copy_arg0_176265 = ((int64_t *) mem_180359)[copy_arg0_176259];
                                    int64_t copy_arg0_176266 = ((int64_t *) mem_180361)[copy_arg0_176259];
                                    
                                    ((int8_t *) mem_180357)[j_176251] = copy_arg0_176264;
                                    ((int64_t *) mem_180359)[j_176251] = copy_arg0_176265;
                                    ((int64_t *) mem_180361)[j_176251] = copy_arg0_176266;
                                    ((int8_t *) mem_180357)[copy_arg0_176259] = copy_arg0_176256;
                                    ((int64_t *) mem_180359)[copy_arg0_176259] = copy_arg0_176257;
                                    ((int64_t *) mem_180361)[copy_arg0_176259] = copy_arg0_176258;
                                    
                                    int64_t tmp_176273 = sub64(j_176251, (int64_t) 1);
                                    bool cond_176274 = sle64((int64_t) 0, tmp_176273);
                                    bool loop_cond_176275;
                                    
                                    if (cond_176274) {
                                        bool y_179480 = slt64(tmp_176273, block_sizze_176142);
                                        bool bounds_check_179481 = cond_176274 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176273, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_180357)[j_176251];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_180359)[j_176251];
                                        int64_t gt_arg1_179479 = ((int64_t *) mem_180361)[j_176251];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_180357)[tmp_176273];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_180359)[tmp_176273];
                                        int64_t gt_arg0_179485 = ((int64_t *) mem_180361)[tmp_176273];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = sle64(gt_arg0_179485, gt_arg1_179479);
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_176275 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_176275 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181850 = loop_cond_176275;
                                    int64_t j_tmp_181854 = tmp_176273;
                                    
                                    loop_while_176247 = loop_while_tmp_181850;
                                    j_176251 = j_tmp_181854;
                                }
                                s_176242 = loop_while_176247;
                                s_176246 = j_176251;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180338, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180357, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180341, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180359, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180344, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180361, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                    }
                    if (memblock_alloc(ctx, &mem_180438, flat_dim_176143, "mem_180438")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180438.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint8_t *) mem_180338, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180442, bytes_180340, "mem_180442")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180442.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint64_t *) mem_180341, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180446, bytes_180340, "mem_180446")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180446.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint64_t *) mem_180344, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    
                    int64_t data_176299;
                    bool data_176300;
                    int64_t data_176304;
                    int64_t loop_dz2084Uz2082U_176305;
                    bool loop_while_176306;
                    int64_t stride_176310;
                    
                    if (memblock_set(ctx, &mem_param_180450, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180453, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180456, &mem_180446, "mem_180446") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176305 = flat_dim_176143;
                    loop_while_176306 = loop_cond_176296;
                    stride_176310 = block_sizze_176142;
                    while (loop_while_176306) {
                        int64_t next_stride_176311 = mul64((int64_t) 2, stride_176310);
                        bool zzero_176312 = next_stride_176311 == (int64_t) 0;
                        bool nonzzero_176313 = !zzero_176312;
                        bool nonzzero_cert_176314;
                        
                        if (!nonzzero_176313) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176315 = sdiv64(flat_dim_176143, next_stride_176311);
                        bool bounds_invalid_upwards_176316 = slt64(num_merges_176315, (int64_t) 0);
                        bool valid_176317 = !bounds_invalid_upwards_176316;
                        bool range_valid_c_176318;
                        
                        if (!valid_176317) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176315, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176320 = sub64(next_stride_176311, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176321 = sle64((int64_t) 0, m_176320);
                        bool cond_176323 = slt64(next_stride_176311, (int64_t) 10);
                        bool protect_assert_disj_176324 = nonzzero_176298 || cond_176323;
                        bool nonzzero_cert_176325;
                        
                        if (!protect_assert_disj_176324) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176326 = smod_safe64(next_stride_176311, merge_block_sizze_176148);
                        bool num_blocks_176327 = zeze_lhs_176326 == (int64_t) 0;
                        bool protect_assert_disj_176328 = cond_176323 || num_blocks_176327;
                        bool assert_c_176329;
                        
                        if (!protect_assert_disj_176328) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176331 = sdiv_safe64(next_stride_176311, merge_block_sizze_176148);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332 = add64((int64_t) 1, num_blocks_176331);
                        int64_t j_m_i_176333 = sub64(next_stride_176311, stride_176310);
                        int64_t flat_dim_176334 = merge_block_sizze_176148 * num_blocks_176331;
                        bool bounds_invalid_upwards_176335 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, (int64_t) 0);
                        bool empty_slice_176336 = j_m_i_176333 == (int64_t) 0;
                        int64_t m_176337 = sub64(j_m_i_176333, (int64_t) 1);
                        bool zzero_lte_i_176338 = sle64((int64_t) 0, stride_176310);
                        bool i_lte_j_176339 = sle64(stride_176310, next_stride_176311);
                        bool empty_slice_176340 = stride_176310 == (int64_t) 0;
                        int64_t m_176341 = sub64(stride_176310, (int64_t) 1);
                        bool bounds_invalid_upwards_176342 = slt64(num_blocks_176331, (int64_t) 0);
                        bool cond_176343 = slt64((int64_t) 0, stride_176310);
                        bool valid_176344 = !bounds_invalid_upwards_176335;
                        int64_t i_p_m_t_s_176345 = add64(stride_176310, m_176337);
                        bool zzero_leq_i_p_m_t_s_176346 = sle64((int64_t) 0, m_176341);
                        bool i_p_m_t_s_leq_w_176347 = slt64(m_176341, next_stride_176311);
                        bool valid_176348 = !bounds_invalid_upwards_176342;
                        bool i_p_m_t_s_leq_w_176349 = slt64(m_176320, flat_dim_176334);
                        bool y_176350 = slt64((int64_t) 0, j_m_i_176333);
                        bool protect_assert_disj_176351 = cond_176323 || valid_176344;
                        bool range_valid_c_176352;
                        
                        if (!protect_assert_disj_176351) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176353 = sle64((int64_t) 0, i_p_m_t_s_176345);
                        bool i_p_m_t_s_leq_w_176354 = slt64(i_p_m_t_s_176345, next_stride_176311);
                        bool y_176355 = zzero_leq_i_p_m_t_s_176346 && i_p_m_t_s_leq_w_176347;
                        bool protect_assert_disj_176356 = cond_176323 || valid_176348;
                        bool range_valid_c_176357;
                        
                        if (!protect_assert_disj_176356) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176331, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176358 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176349;
                        bool y_176359 = zzero_lte_i_176338 && i_p_m_t_s_leq_w_176354;
                        bool forwards_ok_176360 = zzero_lte_i_176338 && y_176355;
                        bool ok_or_empty_176361 = zzero_176312 || y_176358;
                        bool protect_assert_disj_176362 = cond_176343 || y_176350;
                        bool y_176363 = zzero_leq_i_p_m_t_s_176353 && y_176359;
                        bool ok_or_empty_176364 = empty_slice_176340 || forwards_ok_176360;
                        bool protect_assert_disj_176365 = cond_176323 || ok_or_empty_176361;
                        bool index_certs_176366;
                        
                        if (!protect_assert_disj_176365) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) flat_dim_176334, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176367 = !cond_176323;
                        bool protect_assert_disj_176368 = protect_assert_disj_176362 || loop_not_taken_176367;
                        bool index_certs_176369;
                        
                        if (!protect_assert_disj_176368) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176370 = i_lte_j_176339 && y_176363;
                        bool protect_assert_disj_176371 = cond_176323 || ok_or_empty_176364;
                        bool index_certs_176372;
                        
                        if (!protect_assert_disj_176371) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176373 = ok_or_empty_176364 || loop_not_taken_176367;
                        bool index_certs_176374;
                        
                        if (!protect_assert_disj_176373) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176375 = empty_slice_176336 || forwards_ok_176370;
                        bool protect_assert_disj_176376 = cond_176323 || ok_or_empty_176375;
                        bool index_certs_176377;
                        
                        if (!protect_assert_disj_176376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176378 = loop_not_taken_176367 || ok_or_empty_176375;
                        bool index_certs_176379;
                        
                        if (!protect_assert_disj_176378) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180457 = next_stride_176311 * num_merges_176315;
                        int64_t binop_x_180459 = (int64_t) 8 * num_merges_176315;
                        int64_t bytes_180460 = next_stride_176311 * binop_x_180459;
                        bool i_lte_j_176322 = sle64((int64_t) 0, next_stride_176311);
                        
                        if (mem_180458_cached_sizze_182197 < bytes_180457) {
                            err = lexical_realloc(ctx, &mem_180458, &mem_180458_cached_sizze_182197, bytes_180457);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180461_cached_sizze_182198 < bytes_180460) {
                            err = lexical_realloc(ctx, &mem_180461, &mem_180461_cached_sizze_182198, bytes_180460);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180464_cached_sizze_182199 < bytes_180460) {
                            err = lexical_realloc(ctx, &mem_180464, &mem_180464_cached_sizze_182199, bytes_180460);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180477 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332;
                        int64_t binop_x_180495 = (int64_t) 8 * num_blocks_176331;
                        int64_t bytes_180496 = merge_block_sizze_176148 * binop_x_180495;
                        int64_t bytes_180560 = (int64_t) 16 * stride_176310;
                        
                        for (int64_t i_180080 = 0; i_180080 < num_merges_176315; i_180080++) {
                            int64_t start_176384 = mul64(next_stride_176311, i_180080);
                            int64_t j_m_i_176385 = sub64(loop_dz2084Uz2082U_176305, start_176384);
                            bool empty_slice_176386 = j_m_i_176385 == (int64_t) 0;
                            int64_t m_176387 = sub64(j_m_i_176385, (int64_t) 1);
                            int64_t i_p_m_t_s_176388 = add64(start_176384, m_176387);
                            bool zzero_leq_i_p_m_t_s_176389 = sle64((int64_t) 0, i_p_m_t_s_176388);
                            bool i_p_m_t_s_leq_w_176390 = slt64(i_p_m_t_s_176388, loop_dz2084Uz2082U_176305);
                            bool zzero_lte_i_176391 = sle64((int64_t) 0, start_176384);
                            bool i_lte_j_176392 = sle64(start_176384, loop_dz2084Uz2082U_176305);
                            bool y_176393 = i_p_m_t_s_leq_w_176390 && zzero_lte_i_176391;
                            bool y_176394 = zzero_leq_i_p_m_t_s_176389 && y_176393;
                            bool forwards_ok_176395 = i_lte_j_176392 && y_176394;
                            bool ok_or_empty_176396 = empty_slice_176386 || forwards_ok_176395;
                            bool index_certs_176397;
                            
                            if (!ok_or_empty_176396) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176384, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176305, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176398 = slt64(m_176320, j_m_i_176385);
                            bool y_176399 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176398;
                            bool forwards_ok_176400 = i_lte_j_176322 && y_176399;
                            bool ok_or_empty_176401 = zzero_176312 || forwards_ok_176400;
                            bool index_certs_176402;
                            
                            if (!ok_or_empty_176401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) j_m_i_176385, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176323) {
                                int8_t dummy_179532;
                                int64_t dummy_179533;
                                int64_t dummy_179534;
                                
                                if (cond_176343) {
                                    int8_t head_res_179535 = ((int8_t *) mem_param_180450.mem)[start_176384];
                                    int64_t head_res_179536 = ((int64_t *) mem_param_180453.mem)[start_176384];
                                    int64_t head_res_179537 = ((int64_t *) mem_param_180456.mem)[start_176384];
                                    
                                    dummy_179532 = head_res_179535;
                                    dummy_179533 = head_res_179536;
                                    dummy_179534 = head_res_179537;
                                } else {
                                    int64_t slice_179538 = stride_176310 + start_176384;
                                    int8_t head_res_179539 = ((int8_t *) mem_param_180450.mem)[slice_179538];
                                    int64_t head_res_179540 = ((int64_t *) mem_param_180453.mem)[slice_179538];
                                    int64_t head_res_179541 = ((int64_t *) mem_param_180456.mem)[slice_179538];
                                    
                                    dummy_179532 = head_res_179539;
                                    dummy_179533 = head_res_179540;
                                    dummy_179534 = head_res_179541;
                                }
                                if (memblock_alloc(ctx, &mem_180559, next_stride_176311, "mem_180559")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181867 = 0; nest_i_181867 < next_stride_176311; nest_i_181867++) {
                                    ((int8_t *) mem_180559.mem)[nest_i_181867] = dummy_179532;
                                }
                                if (memblock_alloc(ctx, &mem_180561, bytes_180560, "mem_180561")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181868 = 0; nest_i_181868 < next_stride_176311; nest_i_181868++) {
                                    ((int64_t *) mem_180561.mem)[nest_i_181868] = dummy_179533;
                                }
                                if (memblock_alloc(ctx, &mem_180563, bytes_180560, "mem_180563")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181869 = 0; nest_i_181869 < next_stride_176311; nest_i_181869++) {
                                    ((int64_t *) mem_180563.mem)[nest_i_181869] = dummy_179534;
                                }
                                
                                int64_t data_179545;
                                int64_t i_179550 = (int64_t) 0;
                                
                                for (int64_t k_179549 = 0; k_179549 < next_stride_176311; k_179549++) {
                                    int64_t j_179554 = sub64(k_179549, i_179550);
                                    bool cond_179555 = j_179554 == j_m_i_176333;
                                    bool cond_179556;
                                    
                                    if (cond_179555) {
                                        cond_179556 = 1;
                                    } else {
                                        bool cond_179557 = slt64(i_179550, stride_176310);
                                        bool cond_f_res_179558;
                                        
                                        if (cond_179557) {
                                            bool x_179559 = sle64((int64_t) 0, j_179554);
                                            bool y_179560 = slt64(j_179554, j_m_i_176333);
                                            bool bounds_check_179561 = x_179559 && y_179560;
                                            bool index_certs_179562;
                                            
                                            if (!bounds_check_179561) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179568 = sle64((int64_t) 0, i_179550);
                                            bool bounds_check_179569 = cond_179557 && x_179568;
                                            bool index_certs_179570;
                                            
                                            if (!bounds_check_179569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179563 = stride_176310 + j_179554;
                                            int64_t slice_179564 = start_176384 + slice_179563;
                                            int8_t leq_arg1_179565 = ((int8_t *) mem_param_180450.mem)[slice_179564];
                                            int64_t leq_arg1_179566 = ((int64_t *) mem_param_180453.mem)[slice_179564];
                                            int64_t leq_arg1_179567 = ((int64_t *) mem_param_180456.mem)[slice_179564];
                                            int64_t slice_179571 = start_176384 + i_179550;
                                            int8_t leq_arg0_179572 = ((int8_t *) mem_param_180450.mem)[slice_179571];
                                            int64_t leq_arg0_179573 = ((int64_t *) mem_param_180453.mem)[slice_179571];
                                            int64_t leq_arg0_179574 = ((int64_t *) mem_param_180456.mem)[slice_179571];
                                            bool cond_179575 = leq_arg0_179572 == leq_arg1_179565;
                                            bool defunc_0_leq_res_t_res_179576 = sle64(leq_arg0_179573, leq_arg1_179566);
                                            bool defunc_0_leq_res_179577 = sle64(leq_arg0_179574, leq_arg1_179567);
                                            bool x_179578 = cond_179575 && defunc_0_leq_res_t_res_179576;
                                            bool x_179579 = !cond_179575;
                                            bool y_179580 = defunc_0_leq_res_179577 && x_179579;
                                            bool defunc_0_leq_res_179581 = x_179578 || y_179580;
                                            
                                            cond_f_res_179558 = defunc_0_leq_res_179581;
                                        } else {
                                            cond_f_res_179558 = 0;
                                        }
                                        cond_179556 = cond_f_res_179558;
                                    }
                                    
                                    int64_t loopres_179582;
                                    int8_t loopres_179583;
                                    int64_t loopres_179584;
                                    int64_t loopres_179585;
                                    
                                    if (cond_179556) {
                                        bool x_179587 = sle64((int64_t) 0, i_179550);
                                        bool y_179588 = slt64(i_179550, stride_176310);
                                        bool bounds_check_179589 = x_179587 && y_179588;
                                        bool index_certs_179590;
                                        
                                        if (!bounds_check_179589) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179586 = add64((int64_t) 1, i_179550);
                                        int64_t slice_179591 = start_176384 + i_179550;
                                        int8_t tmp_179592 = ((int8_t *) mem_param_180450.mem)[slice_179591];
                                        int64_t tmp_179593 = ((int64_t *) mem_param_180453.mem)[slice_179591];
                                        int64_t tmp_179594 = ((int64_t *) mem_param_180456.mem)[slice_179591];
                                        
                                        loopres_179582 = tmp_179586;
                                        loopres_179583 = tmp_179592;
                                        loopres_179584 = tmp_179593;
                                        loopres_179585 = tmp_179594;
                                    } else {
                                        bool x_179595 = sle64((int64_t) 0, j_179554);
                                        bool y_179596 = slt64(j_179554, j_m_i_176333);
                                        bool bounds_check_179597 = x_179595 && y_179596;
                                        bool index_certs_179598;
                                        
                                        if (!bounds_check_179597) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179599 = stride_176310 + j_179554;
                                        int64_t slice_179600 = start_176384 + slice_179599;
                                        int8_t tmp_179601 = ((int8_t *) mem_param_180450.mem)[slice_179600];
                                        int64_t tmp_179602 = ((int64_t *) mem_param_180453.mem)[slice_179600];
                                        int64_t tmp_179603 = ((int64_t *) mem_param_180456.mem)[slice_179600];
                                        
                                        loopres_179582 = i_179550;
                                        loopres_179583 = tmp_179601;
                                        loopres_179584 = tmp_179602;
                                        loopres_179585 = tmp_179603;
                                    }
                                    ((int8_t *) mem_180559.mem)[k_179549] = loopres_179583;
                                    ((int64_t *) mem_180561.mem)[k_179549] = loopres_179584;
                                    ((int64_t *) mem_180563.mem)[k_179549] = loopres_179585;
                                    
                                    int64_t i_tmp_181870 = loopres_179582;
                                    
                                    i_179550 = i_tmp_181870;
                                }
                                data_179545 = i_179550;
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180559, "mem_180559") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180561, "mem_180561") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180563, "mem_180563") != 0)
                                    return 1;
                            } else {
                                if (mem_180478_cached_sizze_182200 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180478, &mem_180478_cached_sizze_182200, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180480_cached_sizze_182201 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180480, &mem_180480_cached_sizze_182201, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180061 = 0; i_180061 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332; i_180061++) {
                                    int64_t split_count_arg3_176485 = mul64(merge_block_sizze_176148, i_180061);
                                    int64_t defunc_0_split_count_res_176486;
                                    int64_t defunc_0_split_count_res_176487;
                                    int64_t defunc_0_split_count_res_176488;
                                    int64_t defunc_0_split_count_res_176489;
                                    int64_t defunc_0_split_count_res_176490;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_176486, &defunc_0_split_count_res_176487, &defunc_0_split_count_res_176488, &defunc_0_split_count_res_176489, &defunc_0_split_count_res_176490, (int64_t) 0, stride_176310, (int64_t) 0, j_m_i_176333, split_count_arg3_176485) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176491 = slt64((int64_t) 0, defunc_0_split_count_res_176490);
                                    bool defunc_0_split_count_res_176492;
                                    int64_t defunc_0_split_count_res_176493;
                                    int64_t defunc_0_split_count_res_176494;
                                    int64_t defunc_0_split_count_res_176495;
                                    int64_t defunc_0_split_count_res_176496;
                                    int64_t defunc_0_split_count_res_176497;
                                    bool loop_while_176498;
                                    int64_t ss_176499;
                                    int64_t ss_176500;
                                    int64_t tt_176501;
                                    int64_t tt_176502;
                                    int64_t count_176503;
                                    
                                    loop_while_176498 = loop_cond_176491;
                                    ss_176499 = defunc_0_split_count_res_176486;
                                    ss_176500 = defunc_0_split_count_res_176487;
                                    tt_176501 = defunc_0_split_count_res_176488;
                                    tt_176502 = defunc_0_split_count_res_176489;
                                    count_176503 = defunc_0_split_count_res_176490;
                                    while (loop_while_176498) {
                                        int64_t zlze_lhs_176504 = sub64(ss_176500, ss_176499);
                                        bool cond_176505 = sle64(zlze_lhs_176504, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176506;
                                        int64_t defunc_0_lifted_step_res_176507;
                                        int64_t defunc_0_lifted_step_res_176508;
                                        int64_t defunc_0_lifted_step_res_176509;
                                        
                                        if (cond_176505) {
                                            int64_t tmp_179607 = add64(tt_176501, count_176503);
                                            
                                            defunc_0_lifted_step_res_176506 = ss_176499;
                                            defunc_0_lifted_step_res_176507 = tmp_179607;
                                            defunc_0_lifted_step_res_176508 = tt_176502;
                                            defunc_0_lifted_step_res_176509 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176511 = sub64(tt_176502, tt_176501);
                                            bool cond_176512 = sle64(zlze_lhs_176511, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176513;
                                            int64_t defunc_0_lifted_step_res_f_res_176514;
                                            int64_t defunc_0_lifted_step_res_f_res_176515;
                                            int64_t defunc_0_lifted_step_res_f_res_176516;
                                            
                                            if (cond_176512) {
                                                int64_t tmp_179608 = add64(ss_176499, count_176503);
                                                
                                                defunc_0_lifted_step_res_f_res_176513 = tmp_179608;
                                                defunc_0_lifted_step_res_f_res_176514 = tt_176501;
                                                defunc_0_lifted_step_res_f_res_176515 = tt_176502;
                                                defunc_0_lifted_step_res_f_res_176516 = (int64_t) 0;
                                            } else {
                                                bool cond_176518 = count_176503 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176519;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176520;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176521;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176522;
                                                
                                                if (cond_176518) {
                                                    bool x_179610 = sle64((int64_t) 0, ss_176499);
                                                    bool y_179611 = slt64(ss_176499, stride_176310);
                                                    bool bounds_check_179612 = x_179610 && y_179611;
                                                    bool index_certs_179613;
                                                    
                                                    if (!bounds_check_179612) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176499, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179618 = sle64((int64_t) 0, tt_176501);
                                                    bool y_179619 = slt64(tt_176501, j_m_i_176333);
                                                    bool bounds_check_179620 = x_179618 && y_179619;
                                                    bool index_certs_179621;
                                                    
                                                    if (!bounds_check_179620) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176501, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179614 = start_176384 + ss_176499;
                                                    int8_t leq_arg1_179615 = ((int8_t *) mem_param_180450.mem)[slice_179614];
                                                    int64_t leq_arg1_179616 = ((int64_t *) mem_param_180453.mem)[slice_179614];
                                                    int64_t leq_arg1_179617 = ((int64_t *) mem_param_180456.mem)[slice_179614];
                                                    int64_t slice_179622 = stride_176310 + tt_176501;
                                                    int64_t slice_179623 = start_176384 + slice_179622;
                                                    int8_t leq_arg0_179624 = ((int8_t *) mem_param_180450.mem)[slice_179623];
                                                    int64_t leq_arg0_179625 = ((int64_t *) mem_param_180453.mem)[slice_179623];
                                                    int64_t leq_arg0_179626 = ((int64_t *) mem_param_180456.mem)[slice_179623];
                                                    bool cond_179627 = leq_arg0_179624 == leq_arg1_179615;
                                                    bool defunc_0_leq_res_t_res_179628 = sle64(leq_arg0_179625, leq_arg1_179616);
                                                    bool defunc_0_leq_res_179629 = sle64(leq_arg0_179626, leq_arg1_179617);
                                                    bool x_179630 = cond_179627 && defunc_0_leq_res_t_res_179628;
                                                    bool x_179631 = !cond_179627;
                                                    bool y_179632 = defunc_0_leq_res_179629 && x_179631;
                                                    bool defunc_0_leq_res_179633 = x_179630 || y_179632;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    
                                                    if (defunc_0_leq_res_179633) {
                                                        int64_t tmp_179636 = add64((int64_t) 1, tt_176501);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = ss_176499;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tmp_179636;
                                                    } else {
                                                        int64_t tmp_179637 = add64((int64_t) 1, ss_176499);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = tmp_179637;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tt_176501;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = tt_176502;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176551 = sdiv64(count_176503, (int64_t) 2);
                                                    int64_t n_176552 = sub64(count_176503, m_176551);
                                                    bool cond_176553 = n_176552 == (int64_t) 0;
                                                    int64_t zgze_lhs_176554 = add64(ss_176499, m_176551);
                                                    bool cond_f_res_176555 = sle64(ss_176500, zgze_lhs_176554);
                                                    bool x_176556 = !cond_176553;
                                                    bool y_176557 = cond_f_res_176555 && x_176556;
                                                    bool cond_176558 = cond_176553 || y_176557;
                                                    bool leq_y_x_176559;
                                                    
                                                    if (cond_176558) {
                                                        leq_y_x_176559 = 1;
                                                    } else {
                                                        bool x_176560 = sle64((int64_t) 0, zgze_lhs_176554);
                                                        bool y_176561 = slt64(zgze_lhs_176554, stride_176310);
                                                        bool bounds_check_176562 = x_176560 && y_176561;
                                                        bool index_certs_176563;
                                                        
                                                        if (!bounds_check_176562) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176554, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176568 = add64(tt_176501, n_176552);
                                                        int64_t leq_arg0_176569 = sub64(zm_lhs_176568, (int64_t) 1);
                                                        bool x_176570 = sle64((int64_t) 0, leq_arg0_176569);
                                                        bool y_176571 = slt64(leq_arg0_176569, j_m_i_176333);
                                                        bool bounds_check_176572 = x_176570 && y_176571;
                                                        bool index_certs_176573;
                                                        
                                                        if (!bounds_check_176572) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176569, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176564 = start_176384 + zgze_lhs_176554;
                                                        int8_t leq_arg1_176565 = ((int8_t *) mem_param_180450.mem)[slice_176564];
                                                        int64_t leq_arg1_176566 = ((int64_t *) mem_param_180453.mem)[slice_176564];
                                                        int64_t leq_arg1_176567 = ((int64_t *) mem_param_180456.mem)[slice_176564];
                                                        int64_t slice_176574 = stride_176310 + leq_arg0_176569;
                                                        int64_t slice_176575 = start_176384 + slice_176574;
                                                        int8_t leq_arg0_176576 = ((int8_t *) mem_param_180450.mem)[slice_176575];
                                                        int64_t leq_arg0_176577 = ((int64_t *) mem_param_180453.mem)[slice_176575];
                                                        int64_t leq_arg0_176578 = ((int64_t *) mem_param_180456.mem)[slice_176575];
                                                        bool cond_176579 = leq_arg0_176576 == leq_arg1_176565;
                                                        bool defunc_0_leq_res_t_res_176580 = sle64(leq_arg0_176577, leq_arg1_176566);
                                                        bool defunc_0_leq_res_176581 = sle64(leq_arg0_176578, leq_arg1_176567);
                                                        bool x_176582 = cond_176579 && defunc_0_leq_res_t_res_176580;
                                                        bool x_176583 = !cond_176579;
                                                        bool y_176584 = defunc_0_leq_res_176581 && x_176583;
                                                        bool defunc_0_leq_res_176585 = x_176582 || y_176584;
                                                        
                                                        leq_y_x_176559 = defunc_0_leq_res_176585;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                    
                                                    if (leq_y_x_176559) {
                                                        int64_t tmp_179638 = add64(tt_176501, n_176552);
                                                        int64_t tmp_179639 = sub64(count_176503, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tmp_179638;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tt_176502;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = tmp_179639;
                                                    } else {
                                                        int64_t tmp_176591 = add64(tt_176501, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tt_176501;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tmp_176591;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = count_176503;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = ss_176499;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                }
                                                defunc_0_lifted_step_res_f_res_176513 = defunc_0_lifted_step_res_f_res_f_res_176519;
                                                defunc_0_lifted_step_res_f_res_176514 = defunc_0_lifted_step_res_f_res_f_res_176520;
                                                defunc_0_lifted_step_res_f_res_176515 = defunc_0_lifted_step_res_f_res_f_res_176521;
                                                defunc_0_lifted_step_res_f_res_176516 = defunc_0_lifted_step_res_f_res_f_res_176522;
                                            }
                                            defunc_0_lifted_step_res_176506 = defunc_0_lifted_step_res_f_res_176513;
                                            defunc_0_lifted_step_res_176507 = defunc_0_lifted_step_res_f_res_176514;
                                            defunc_0_lifted_step_res_176508 = defunc_0_lifted_step_res_f_res_176515;
                                            defunc_0_lifted_step_res_176509 = defunc_0_lifted_step_res_f_res_176516;
                                        }
                                        
                                        int64_t loopres_176592;
                                        int64_t loopres_176593;
                                        int64_t loopres_176594;
                                        int64_t loopres_176595;
                                        int64_t loopres_176596;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_176592, &loopres_176593, &loopres_176594, &loopres_176595, &loopres_176596, defunc_0_lifted_step_res_176506, ss_176500, defunc_0_lifted_step_res_176507, defunc_0_lifted_step_res_176508, defunc_0_lifted_step_res_176509) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176597 = slt64((int64_t) 0, loopres_176596);
                                        bool loop_while_tmp_181876 = loop_cond_176597;
                                        int64_t ss_tmp_181877 = loopres_176592;
                                        int64_t ss_tmp_181878 = loopres_176593;
                                        int64_t tt_tmp_181879 = loopres_176594;
                                        int64_t tt_tmp_181880 = loopres_176595;
                                        int64_t count_tmp_181881 = loopres_176596;
                                        
                                        loop_while_176498 = loop_while_tmp_181876;
                                        ss_176499 = ss_tmp_181877;
                                        ss_176500 = ss_tmp_181878;
                                        tt_176501 = tt_tmp_181879;
                                        tt_176502 = tt_tmp_181880;
                                        count_176503 = count_tmp_181881;
                                    }
                                    defunc_0_split_count_res_176492 = loop_while_176498;
                                    defunc_0_split_count_res_176493 = ss_176499;
                                    defunc_0_split_count_res_176494 = ss_176500;
                                    defunc_0_split_count_res_176495 = tt_176501;
                                    defunc_0_split_count_res_176496 = tt_176502;
                                    defunc_0_split_count_res_176497 = count_176503;
                                    ((int64_t *) mem_180478)[i_180061] = defunc_0_split_count_res_176493;
                                    ((int64_t *) mem_180480)[i_180061] = defunc_0_split_count_res_176495;
                                }
                                if (mem_180494_cached_sizze_182202 < flat_dim_176334) {
                                    err = lexical_realloc(ctx, &mem_180494, &mem_180494_cached_sizze_182202, flat_dim_176334);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180497_cached_sizze_182203 < bytes_180496) {
                                    err = lexical_realloc(ctx, &mem_180497, &mem_180497_cached_sizze_182203, bytes_180496);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180500_cached_sizze_182204 < bytes_180496) {
                                    err = lexical_realloc(ctx, &mem_180500, &mem_180500_cached_sizze_182204, bytes_180496);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180070 = 0; i_180070 < num_blocks_176331; i_180070++) {
                                    bool y_176604 = slt64(i_180070, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool index_certs_176606;
                                    
                                    if (!y_176604) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176607 = ((int64_t *) mem_180478)[i_180070];
                                    int64_t defunc_0_f_res_176608 = ((int64_t *) mem_180480)[i_180070];
                                    int64_t tmp_176609 = add64((int64_t) 1, i_180070);
                                    bool x_176610 = sle64((int64_t) 0, tmp_176609);
                                    bool y_176611 = slt64(tmp_176609, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool bounds_check_176612 = x_176610 && y_176611;
                                    bool index_certs_176613;
                                    
                                    if (!bounds_check_176612) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176609, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176614 = ((int64_t *) mem_180478)[tmp_176609];
                                    int64_t defunc_0_f_res_176615 = ((int64_t *) mem_180480)[tmp_176609];
                                    int64_t merge_sequential_arg2_176616 = add64(stride_176310, defunc_0_f_res_176608);
                                    int64_t merge_sequential_arg2_176617 = add64(stride_176310, defunc_0_f_res_176615);
                                    int64_t j_m_i_176618 = sub64(merge_sequential_arg2_176617, merge_sequential_arg2_176616);
                                    bool empty_slice_176619 = j_m_i_176618 == (int64_t) 0;
                                    int64_t m_176620 = sub64(j_m_i_176618, (int64_t) 1);
                                    int64_t i_p_m_t_s_176621 = add64(merge_sequential_arg2_176616, m_176620);
                                    bool zzero_leq_i_p_m_t_s_176622 = sle64((int64_t) 0, i_p_m_t_s_176621);
                                    bool i_p_m_t_s_leq_w_176623 = slt64(i_p_m_t_s_176621, next_stride_176311);
                                    bool zzero_lte_i_176624 = sle64((int64_t) 0, merge_sequential_arg2_176616);
                                    bool i_lte_j_176625 = sle64(merge_sequential_arg2_176616, merge_sequential_arg2_176617);
                                    bool y_176626 = i_p_m_t_s_leq_w_176623 && zzero_lte_i_176624;
                                    bool y_176627 = zzero_leq_i_p_m_t_s_176622 && y_176626;
                                    bool forwards_ok_176628 = i_lte_j_176625 && y_176627;
                                    bool ok_or_empty_176629 = empty_slice_176619 || forwards_ok_176628;
                                    bool index_certs_176630;
                                    
                                    if (!ok_or_empty_176629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176616, ":", (long long) merge_sequential_arg2_176617, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176631 = sub64(defunc_0_f_res_176614, defunc_0_f_res_176607);
                                    bool empty_slice_176632 = j_m_i_176631 == (int64_t) 0;
                                    int64_t m_176633 = sub64(j_m_i_176631, (int64_t) 1);
                                    int64_t i_p_m_t_s_176634 = add64(defunc_0_f_res_176607, m_176633);
                                    bool zzero_leq_i_p_m_t_s_176635 = sle64((int64_t) 0, i_p_m_t_s_176634);
                                    bool i_p_m_t_s_leq_w_176636 = slt64(i_p_m_t_s_176634, next_stride_176311);
                                    bool zzero_lte_i_176637 = sle64((int64_t) 0, defunc_0_f_res_176607);
                                    bool i_lte_j_176638 = sle64(defunc_0_f_res_176607, defunc_0_f_res_176614);
                                    bool y_176639 = i_p_m_t_s_leq_w_176636 && zzero_lte_i_176637;
                                    bool y_176640 = zzero_leq_i_p_m_t_s_176635 && y_176639;
                                    bool forwards_ok_176641 = i_lte_j_176638 && y_176640;
                                    bool ok_or_empty_176642 = empty_slice_176632 || forwards_ok_176641;
                                    bool index_certs_176643;
                                    
                                    if (!ok_or_empty_176642) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176607, ":", (long long) defunc_0_f_res_176614, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176644 = slt64((int64_t) 0, j_m_i_176631);
                                    int8_t dummy_176645;
                                    int64_t dummy_176646;
                                    int64_t dummy_176647;
                                    
                                    if (cond_176644) {
                                        bool index_certs_179640;
                                        
                                        if (!cond_176644) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179641 = start_176384 + defunc_0_f_res_176607;
                                        int8_t head_res_179642 = ((int8_t *) mem_param_180450.mem)[slice_179641];
                                        int64_t head_res_179643 = ((int64_t *) mem_param_180453.mem)[slice_179641];
                                        int64_t head_res_179644 = ((int64_t *) mem_param_180456.mem)[slice_179641];
                                        
                                        dummy_176645 = head_res_179642;
                                        dummy_176646 = head_res_179643;
                                        dummy_176647 = head_res_179644;
                                    } else {
                                        bool y_176653 = slt64((int64_t) 0, j_m_i_176618);
                                        bool index_certs_176654;
                                        
                                        if (!y_176653) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176655 = start_176384 + merge_sequential_arg2_176616;
                                        int8_t head_res_176656 = ((int8_t *) mem_param_180450.mem)[slice_176655];
                                        int64_t head_res_176657 = ((int64_t *) mem_param_180453.mem)[slice_176655];
                                        int64_t head_res_176658 = ((int64_t *) mem_param_180456.mem)[slice_176655];
                                        
                                        dummy_176645 = head_res_176656;
                                        dummy_176646 = head_res_176657;
                                        dummy_176647 = head_res_176658;
                                    }
                                    for (int64_t nest_i_181885 = 0; nest_i_181885 < merge_block_sizze_176148; nest_i_181885++) {
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + nest_i_181885] = dummy_176645;
                                    }
                                    for (int64_t nest_i_181886 = 0; nest_i_181886 < merge_block_sizze_176148; nest_i_181886++) {
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + nest_i_181886] = dummy_176646;
                                    }
                                    for (int64_t nest_i_181887 = 0; nest_i_181887 < merge_block_sizze_176148; nest_i_181887++) {
                                        ((int64_t *) mem_180500)[i_180070 * merge_block_sizze_176148 + nest_i_181887] = dummy_176647;
                                    }
                                    
                                    int64_t data_176662;
                                    int64_t i_176667 = (int64_t) 0;
                                    
                                    for (int64_t k_176666 = 0; k_176666 < merge_block_sizze_176148; k_176666++) {
                                        int64_t j_176671 = sub64(k_176666, i_176667);
                                        bool cond_176672 = j_176671 == j_m_i_176618;
                                        bool cond_176673;
                                        
                                        if (cond_176672) {
                                            cond_176673 = 1;
                                        } else {
                                            bool cond_176674 = slt64(i_176667, j_m_i_176631);
                                            bool cond_f_res_176675;
                                            
                                            if (cond_176674) {
                                                bool x_179645 = sle64((int64_t) 0, j_176671);
                                                bool y_179646 = slt64(j_176671, j_m_i_176618);
                                                bool bounds_check_179647 = x_179645 && y_179646;
                                                bool index_certs_179648;
                                                
                                                if (!bounds_check_179647) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179654 = sle64((int64_t) 0, i_176667);
                                                bool bounds_check_179655 = cond_176674 && x_179654;
                                                bool index_certs_179656;
                                                
                                                if (!bounds_check_179655) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179649 = merge_sequential_arg2_176616 + j_176671;
                                                int64_t slice_179650 = start_176384 + slice_179649;
                                                int8_t leq_arg1_179651 = ((int8_t *) mem_param_180450.mem)[slice_179650];
                                                int64_t leq_arg1_179652 = ((int64_t *) mem_param_180453.mem)[slice_179650];
                                                int64_t leq_arg1_179653 = ((int64_t *) mem_param_180456.mem)[slice_179650];
                                                int64_t slice_179657 = defunc_0_f_res_176607 + i_176667;
                                                int64_t slice_179658 = start_176384 + slice_179657;
                                                int8_t leq_arg0_179659 = ((int8_t *) mem_param_180450.mem)[slice_179658];
                                                int64_t leq_arg0_179660 = ((int64_t *) mem_param_180453.mem)[slice_179658];
                                                int64_t leq_arg0_179661 = ((int64_t *) mem_param_180456.mem)[slice_179658];
                                                bool cond_179662 = leq_arg0_179659 == leq_arg1_179651;
                                                bool defunc_0_leq_res_t_res_179663 = sle64(leq_arg0_179660, leq_arg1_179652);
                                                bool defunc_0_leq_res_179664 = sle64(leq_arg0_179661, leq_arg1_179653);
                                                bool x_179665 = cond_179662 && defunc_0_leq_res_t_res_179663;
                                                bool x_179666 = !cond_179662;
                                                bool y_179667 = defunc_0_leq_res_179664 && x_179666;
                                                bool defunc_0_leq_res_179668 = x_179665 || y_179667;
                                                
                                                cond_f_res_176675 = defunc_0_leq_res_179668;
                                            } else {
                                                cond_f_res_176675 = 0;
                                            }
                                            cond_176673 = cond_f_res_176675;
                                        }
                                        
                                        int64_t loopres_176700;
                                        int8_t loopres_176701;
                                        int64_t loopres_176702;
                                        int64_t loopres_176703;
                                        
                                        if (cond_176673) {
                                            bool x_179670 = sle64((int64_t) 0, i_176667);
                                            bool y_179671 = slt64(i_176667, j_m_i_176631);
                                            bool bounds_check_179672 = x_179670 && y_179671;
                                            bool index_certs_179673;
                                            
                                            if (!bounds_check_179672) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179669 = add64((int64_t) 1, i_176667);
                                            int64_t slice_179674 = defunc_0_f_res_176607 + i_176667;
                                            int64_t slice_179675 = start_176384 + slice_179674;
                                            int8_t tmp_179676 = ((int8_t *) mem_param_180450.mem)[slice_179675];
                                            int64_t tmp_179677 = ((int64_t *) mem_param_180453.mem)[slice_179675];
                                            int64_t tmp_179678 = ((int64_t *) mem_param_180456.mem)[slice_179675];
                                            
                                            loopres_176700 = tmp_179669;
                                            loopres_176701 = tmp_179676;
                                            loopres_176702 = tmp_179677;
                                            loopres_176703 = tmp_179678;
                                        } else {
                                            bool x_176714 = sle64((int64_t) 0, j_176671);
                                            bool y_176715 = slt64(j_176671, j_m_i_176618);
                                            bool bounds_check_176716 = x_176714 && y_176715;
                                            bool index_certs_176717;
                                            
                                            if (!bounds_check_176716) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176718 = merge_sequential_arg2_176616 + j_176671;
                                            int64_t slice_176719 = start_176384 + slice_176718;
                                            int8_t tmp_176720 = ((int8_t *) mem_param_180450.mem)[slice_176719];
                                            int64_t tmp_176721 = ((int64_t *) mem_param_180453.mem)[slice_176719];
                                            int64_t tmp_176722 = ((int64_t *) mem_param_180456.mem)[slice_176719];
                                            
                                            loopres_176700 = i_176667;
                                            loopres_176701 = tmp_176720;
                                            loopres_176702 = tmp_176721;
                                            loopres_176703 = tmp_176722;
                                        }
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176701;
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176702;
                                        ((int64_t *) mem_180500)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176703;
                                        
                                        int64_t i_tmp_181888 = loopres_176700;
                                        
                                        i_176667 = i_tmp_181888;
                                    }
                                    data_176662 = i_176667;
                                }
                                if (memblock_alloc(ctx, &mem_180549, flat_dim_176334, "mem_180549")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180549.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint8_t *) mem_180494, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180553, bytes_180496, "mem_180553")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180553.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint64_t *) mem_180497, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180557, bytes_180496, "mem_180557")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180557.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint64_t *) mem_180500, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180549, "mem_180549") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180553, "mem_180553") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180557, "mem_180557") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180458, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180590.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180461, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180587.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180464, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180584.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180604, bytes_180457, "mem_180604")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180604.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint8_t *) mem_180458, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180608, bytes_180460, "mem_180608")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180608.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint64_t *) mem_180461, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180612, bytes_180460, "mem_180612")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180612.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint64_t *) mem_180464, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        
                        bool loop_cond_176736 = slt64(next_stride_176311, flat_dim_176143);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181855, &mem_180604, "mem_180604") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181856, &mem_180608, "mem_180608") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181857, &mem_180612, "mem_180612") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181858 = bytes_180457;
                        bool loop_while_tmp_181859 = loop_cond_176736;
                        int64_t stride_tmp_181863 = next_stride_176311;
                        
                        if (memblock_set(ctx, &mem_param_180450, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180453, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180456, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176305 = loop_dz2084Uz2082U_tmp_181858;
                        loop_while_176306 = loop_while_tmp_181859;
                        stride_176310 = stride_tmp_181863;
                    }
                    if (memblock_set(ctx, &ext_mem_180622, &mem_param_180450, "mem_param_180450") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180621, &mem_param_180453, "mem_param_180453") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180620, &mem_param_180456, "mem_param_180456") != 0)
                        return 1;
                    data_176299 = loop_dz2084Uz2082U_176305;
                    data_176300 = loop_while_176306;
                    data_176304 = stride_176310;
                    if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
                        return 1;
                    
                    bool empty_slice_176737 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176738 = sle64((int64_t) 0, zs_lhs_176127);
                    bool i_p_m_t_s_leq_w_176739 = slt64(zs_lhs_176127, data_176299);
                    bool y_176740 = zzero_leq_i_p_m_t_s_176738 && i_p_m_t_s_leq_w_176739;
                    bool ok_or_empty_176741 = empty_slice_176737 || y_176740;
                    bool index_certs_176742;
                    
                    if (!ok_or_empty_176741) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] out of bounds for array of shape [", (long long) data_176299, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180631, &ext_mem_180622, "ext_mem_180622") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &ext_mem_180621, "ext_mem_180621") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &ext_mem_180620, "ext_mem_180620") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180312.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180631.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180314.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180628.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180316.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180625.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
                    return 1;
                
                bool loop_cond_176778 = slt64(ubs_176070, threads_141481);
                bool loop_while_tmp_181822 = loop_cond_176778;
                int64_t p_tmp_181823 = ubs_176070;
                
                loop_while_176059 = loop_while_tmp_181822;
                p_176060 = p_tmp_181823;
            }
            defunc_0_mergeFunc_seq_res_176054 = loop_while_176059;
            defunc_0_mergeFunc_seq_res_176055 = p_176060;
            
            int64_t index_concat_branch_177595;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179693 = ((int64_t *) mem_180297)[index_concat_i_177592];
                
                index_concat_branch_177595 = index_concat_179693;
            } else {
                index_concat_branch_177595 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177589;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179694 = ((int64_t *) mem_180299)[index_concat_i_177592];
                
                index_concat_branch_177589 = index_concat_179694;
            } else {
                index_concat_branch_177589 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_180312, "mem_180312") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_180314, "mem_180314") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_180316, "mem_180316") != 0)
                return 1;
            loopres_174818 = index_concat_branch_177595;
            loopres_174819 = index_concat_branch_177589;
        }
        for (int64_t i_180086 = 0; i_180086 < window_sizze_141480; i_180086++) {
            int8_t eta_p_176786 = ((int8_t *) ext_mem_181050.mem)[i_180086];
            int64_t eta_p_176787 = ((int64_t *) ext_mem_181047.mem)[i_180086];
            bool cond_176788 = eta_p_176786 == (int8_t) 0;
            int64_t tmp_176789;
            
            if (cond_176788) {
                int64_t tmp_t_res_179697 = add64(p_174790, eta_p_176787);
                
                tmp_176789 = tmp_t_res_179697;
            } else {
                int64_t tmp_f_res_176791 = add64(p_174791, eta_p_176787);
                
                tmp_176789 = tmp_f_res_176791;
            }
            ((int64_t *) mem_180284.mem)[ind_bottom_174794 + i_180086] = tmp_176789;
        }
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        
        int64_t next_lbs_176792 = add64(p_174790, loopres_174818);
        int64_t next_lbs_176793 = add64(p_174791, loopres_174819);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181050.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_141480});
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180286.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_141480});
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        
        bool cond_176807 = slt64(next_lbs_176792, zl_rhs_174773);
        bool loop_cond_t_res_176808 = slt64(next_lbs_176793, zl_rhs_174775);
        bool x_176809 = cond_176807 && loop_cond_t_res_176808;
        bool loop_while_tmp_181706 = x_176809;
        int64_t p_tmp_181710 = next_lbs_176792;
        int64_t p_tmp_181711 = next_lbs_176793;
        
        loop_while_174786 = loop_while_tmp_181706;
        p_174790 = p_tmp_181710;
        p_174791 = p_tmp_181711;
    }
    defunc_0_merge_pipeline_res_174780 = loop_while_174786;
    defunc_0_merge_pipeline_res_174784 = p_174790;
    defunc_0_merge_pipeline_res_174785 = p_174791;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 = sub64(nb_141479, defunc_0_merge_pipeline_res_174785);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 = sub64(na_141478, defunc_0_merge_pipeline_res_174784);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    bool empty_slice_176813 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 == (int64_t) 0;
    int64_t m_176814 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 1);
    int64_t i_p_m_t_s_176815 = add64(defunc_0_merge_pipeline_res_174784, m_176814);
    bool zzero_leq_i_p_m_t_s_176816 = sle64((int64_t) 0, i_p_m_t_s_176815);
    bool i_p_m_t_s_leq_w_176817 = slt64(i_p_m_t_s_176815, na_141478);
    bool zzero_lte_i_176818 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174784);
    bool i_lte_j_176819 = sle64(defunc_0_merge_pipeline_res_174784, na_141478);
    bool y_176820 = i_p_m_t_s_leq_w_176817 && zzero_lte_i_176818;
    bool y_176821 = zzero_leq_i_p_m_t_s_176816 && y_176820;
    bool forwards_ok_176822 = i_lte_j_176819 && y_176821;
    bool ok_or_empty_176823 = empty_slice_176813 || forwards_ok_176822;
    bool index_certs_176824;
    
    if (!ok_or_empty_176823) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174784, ":", (long long) na_141478, "] out of bounds for array of shape [", (long long) na_141478, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176828 = slt64(na_141478, defunc_0_merge_pipeline_res_174784);
    bool valid_176829 = !bounds_invalid_upwards_176828;
    bool range_valid_c_176830;
    
    if (!valid_176829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174784, "..<", (long long) na_141478, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176834 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 == (int64_t) 0;
    int64_t m_176835 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, (int64_t) 1);
    int64_t i_p_m_t_s_176836 = add64(defunc_0_merge_pipeline_res_174785, m_176835);
    bool zzero_leq_i_p_m_t_s_176837 = sle64((int64_t) 0, i_p_m_t_s_176836);
    bool i_p_m_t_s_leq_w_176838 = slt64(i_p_m_t_s_176836, nb_141479);
    bool zzero_lte_i_176839 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174785);
    bool i_lte_j_176840 = sle64(defunc_0_merge_pipeline_res_174785, nb_141479);
    bool y_176841 = i_p_m_t_s_leq_w_176838 && zzero_lte_i_176839;
    bool y_176842 = zzero_leq_i_p_m_t_s_176837 && y_176841;
    bool forwards_ok_176843 = i_lte_j_176840 && y_176842;
    bool ok_or_empty_176844 = empty_slice_176834 || forwards_ok_176843;
    bool index_certs_176845;
    
    if (!ok_or_empty_176844) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174785, ":", (long long) nb_141479, "] out of bounds for array of shape [", (long long) nb_141479, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176849 = slt64(nb_141479, defunc_0_merge_pipeline_res_174785);
    bool valid_176850 = !bounds_invalid_upwards_176849;
    bool range_valid_c_176851;
    
    if (!valid_176850) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174785, "..<", (long long) nb_141479, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181075 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool cond_176858 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zs_lhs_176859 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zp_rhs_176860 = sdiv_safe64(zs_lhs_176859, (int64_t) 20);
    int64_t min_num_blocks_176861 = add64((int64_t) 1, zp_rhs_176860);
    bool loop_cond_176862 = slt64((int64_t) 1, min_num_blocks_176861);
    bool smallest_pow_2_geq_than_res_176863;
    int64_t smallest_pow_2_geq_than_res_176864;
    bool loop_while_176865;
    int64_t x_176866;
    
    loop_while_176865 = loop_cond_176862;
    x_176866 = (int64_t) 1;
    while (loop_while_176865) {
        int64_t loopres_176867 = mul64((int64_t) 2, x_176866);
        bool loop_cond_176868 = slt64(loopres_176867, min_num_blocks_176861);
        bool loop_while_tmp_181893 = loop_cond_176868;
        int64_t x_tmp_181894 = loopres_176867;
        
        loop_while_176865 = loop_while_tmp_181893;
        x_176866 = x_tmp_181894;
    }
    smallest_pow_2_geq_than_res_176863 = loop_while_176865;
    smallest_pow_2_geq_than_res_176864 = x_176866;
    
    bool zzero_176869 = smallest_pow_2_geq_than_res_176864 == (int64_t) 0;
    bool nonzzero_176870 = !zzero_176869;
    bool protect_assert_disj_176871 = cond_176858 || nonzzero_176870;
    bool nonzzero_cert_176872;
    
    if (!protect_assert_disj_176871) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176873 = sdiv_safe64(zs_lhs_176859, smallest_pow_2_geq_than_res_176864);
    int64_t block_sizze_176874 = add64((int64_t) 1, zp_rhs_176873);
    bool y_176881 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool protect_assert_disj_181403 = cond_176858 || y_176881;
    bool index_certs_176882;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176908 = slt64(smallest_pow_2_geq_than_res_176864, (int64_t) 0);
    bool valid_176909 = !bounds_invalid_upwards_176908;
    bool protect_assert_disj_181413 = cond_176858 || valid_176909;
    bool range_valid_c_176910;
    
    if (!protect_assert_disj_181413) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176864, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176912 = slt64(block_sizze_176874, (int64_t) 0);
    bool valid_176913 = !bounds_invalid_upwards_176912;
    bool protect_assert_disj_181415 = cond_176858 || valid_176913;
    bool range_valid_c_176914;
    
    if (!protect_assert_disj_181415) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176916 = sle64(block_sizze_176874, (int64_t) 1);
    int64_t tmp_176917 = sub64(block_sizze_176874, (int64_t) 2);
    bool bounds_invalid_upwards_176918 = slt64(tmp_176917, (int64_t) 0);
    bool valid_176920 = !bounds_invalid_upwards_176918;
    bool protect_assert_disj_176921 = cond_176916 || valid_176920;
    bool protect_assert_disj_181417 = cond_176858 || protect_assert_disj_176921;
    bool range_valid_c_176922;
    
    if (!protect_assert_disj_181417) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176917, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177483 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177485 = sle64((int64_t) 0, zs_lhs_176859);
    bool i_p_m_t_s_leq_w_177486 = slt64(zs_lhs_176859, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool y_177487 = zzero_leq_i_p_m_t_s_177485 && i_p_m_t_s_leq_w_177486;
    bool ok_or_empty_177488 = empty_slice_177483 || y_177487;
    bool index_certs_177489;
    
    if (!ok_or_empty_177488) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177490 = add64(defunc_0_merge_pipeline_res_174784, defunc_0_merge_pipeline_res_174785);
    int64_t j_m_i_177491 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, final_buffer_177490);
    bool empty_slice_177492 = j_m_i_177491 == (int64_t) 0;
    int64_t m_177493 = sub64(j_m_i_177491, (int64_t) 1);
    int64_t i_p_m_t_s_177494 = add64(final_buffer_177490, m_177493);
    bool zzero_leq_i_p_m_t_s_177495 = sle64((int64_t) 0, i_p_m_t_s_177494);
    bool i_p_m_t_s_leq_w_177496 = slt64(i_p_m_t_s_177494, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool zzero_lte_i_177497 = sle64((int64_t) 0, final_buffer_177490);
    bool i_lte_j_177498 = sle64(final_buffer_177490, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool y_177499 = i_p_m_t_s_leq_w_177496 && zzero_lte_i_177497;
    bool y_177500 = zzero_leq_i_p_m_t_s_177495 && y_177499;
    bool forwards_ok_177501 = i_lte_j_177498 && y_177500;
    bool ok_or_empty_177502 = empty_slice_177492 || forwards_ok_177501;
    bool index_certs_177503;
    
    if (!ok_or_empty_177502) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177490, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177504 = j_m_i_177491 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool empty_or_match_cert_177505;
    
    if (!dim_match_177504) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177491, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181074, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "mem_181074")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181895 = 0; nest_i_181895 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; nest_i_181895++) {
        ((int8_t *) mem_181074.mem)[nest_i_181895] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181076, bytes_181075, "mem_181076")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181896 = 0; i_181896 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; i_181896++) {
        int64_t x_181897 = defunc_0_merge_pipeline_res_174784 + i_181896 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[i_181896] = x_181897;
    }
    for (int64_t nest_i_181898 = 0; nest_i_181898 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; nest_i_181898++) {
        ((int8_t *) mem_181074.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + nest_i_181898] = (int8_t) 1;
    }
    for (int64_t i_181899 = 0; i_181899 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; i_181899++) {
        int64_t x_181900 = defunc_0_merge_pipeline_res_174785 + i_181899 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + i_181899] = x_181900;
    }
    
    int64_t tmp_offs_181901 = (int64_t) 0;
    
    if (!(tmp_offs_181901 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181901 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t tmp_offs_181902 = (int64_t) 0;
    
    if (!(tmp_offs_181902 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181902 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    if (memblock_alloc(ctx, &mem_181078, bytes_181075, "mem_181078")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181903 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_180280.mem, defunc_0_merge_pipeline_res_174784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_180281.mem, defunc_0_merge_pipeline_res_174785, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t flat_dim_176875 = smallest_pow_2_geq_than_res_176864 * block_sizze_176874;
    bool x_181398 = !cond_176858;
    int64_t greatest_divisor_leq_than_arg1_176879 = mul64((int64_t) 2, block_sizze_176874);
    int64_t merge_block_sizze_176880;
    
    if (x_181398) {
        int64_t x_181400;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181400, (int64_t) 8, greatest_divisor_leq_than_arg1_176879) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176880 = x_181400;
    } else {
        merge_block_sizze_176880 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177555 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 0);
    int8_t index_concat_branch_177559 = btoi_bool_i8(index_concat_cmp_177555);
    int64_t index_concat_i_179699 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    int64_t index_primexp_179700 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179699);
    int64_t index_concat_branch_177553;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177553 = index_primexp_179700;
    } else {
        index_concat_branch_177553 = defunc_0_merge_pipeline_res_174784;
    }
    
    bool x_181394 = !index_concat_cmp_177555;
    bool protect_cond_conj_181404 = x_181394 && x_181398;
    int64_t index_concat_177546;
    
    if (protect_cond_conj_181404) {
        int64_t x_181396 = ((int64_t *) a_list_mem_180280.mem)[defunc_0_merge_pipeline_res_174784];
        
        index_concat_177546 = x_181396;
    } else {
        index_concat_177546 = (int64_t) 0;
    }
    
    bool protect_cond_conj_181405 = index_concat_cmp_177555 && x_181398;
    int64_t index_concat_179703;
    
    if (protect_cond_conj_181405) {
        int64_t x_181392 = ((int64_t *) b_list_mem_180281.mem)[index_primexp_179700];
        
        index_concat_179703 = x_181392;
    } else {
        index_concat_179703 = (int64_t) 0;
    }
    
    int64_t index_concat_branch_177547;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177547 = index_concat_179703;
    } else {
        index_concat_branch_177547 = index_concat_177546;
    }
    
    int8_t defunc_0_reduce_res_179934;
    int64_t defunc_0_reduce_res_179935;
    int64_t defunc_0_reduce_res_179936;
    
    if (x_181398) {
        int8_t x_181406;
        int64_t x_181407;
        int64_t x_181408;
        int8_t redout_180088;
        int64_t redout_180089;
        int64_t redout_180090;
        
        redout_180088 = index_concat_branch_177559;
        redout_180089 = index_concat_branch_177553;
        redout_180090 = index_concat_branch_177547;
        for (int64_t i_180091 = 0; i_180091 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812; i_180091++) {
            bool index_concat_cmp_180162 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, i_180091);
            int8_t index_concat_branch_180166 = btoi_bool_i8(index_concat_cmp_180162);
            int64_t index_concat_branch_180160;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180157 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t index_primexp_180250 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_180157);
                
                index_concat_branch_180160 = index_primexp_180250;
            } else {
                int64_t index_primexp_180252 = add64(defunc_0_merge_pipeline_res_174784, i_180091);
                
                index_concat_branch_180160 = index_primexp_180252;
            }
            
            int64_t index_concat_branch_180154;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180151 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t slice_180247 = defunc_0_merge_pipeline_res_174785 + index_concat_i_180151;
                int64_t index_concat_180152 = ((int64_t *) b_list_mem_180281.mem)[slice_180247];
                
                index_concat_branch_180154 = index_concat_180152;
            } else {
                int64_t slice_180248 = defunc_0_merge_pipeline_res_174784 + i_180091;
                int64_t index_concat_180153 = ((int64_t *) a_list_mem_180280.mem)[slice_180248];
                
                index_concat_branch_180154 = index_concat_180153;
            }
            
            bool eq_x_y_180265 = redout_180088 == (int8_t) 1;
            bool eq_x_zz_180266 = redout_180088 == (int8_t) 0;
            bool p_and_eq_x_y_180267 = index_concat_cmp_180162 && eq_x_y_180265;
            bool not_p_180268 = !index_concat_cmp_180162;
            bool p_and_eq_x_y_180269 = eq_x_zz_180266 && not_p_180268;
            bool cond_176898 = p_and_eq_x_y_180267 || p_and_eq_x_y_180269;
            bool defunc_0_leq_res_t_res_176899 = sle64(redout_180089, index_concat_branch_180160);
            bool defunc_0_leq_res_176900 = sle64(redout_180090, index_concat_branch_180154);
            bool x_176901 = cond_176898 && defunc_0_leq_res_t_res_176899;
            bool x_176902 = !cond_176898;
            bool y_176903 = defunc_0_leq_res_176900 && x_176902;
            bool defunc_0_leq_res_176904 = x_176901 || y_176903;
            int8_t defunc_0_op_res_176905;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176905 = index_concat_branch_180166;
            } else {
                defunc_0_op_res_176905 = redout_180088;
            }
            
            int64_t defunc_0_op_res_176906;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176906 = index_concat_branch_180160;
            } else {
                defunc_0_op_res_176906 = redout_180089;
            }
            
            int64_t defunc_0_op_res_176907;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176907 = index_concat_branch_180154;
            } else {
                defunc_0_op_res_176907 = redout_180090;
            }
            
            int8_t redout_tmp_181904 = defunc_0_op_res_176905;
            int64_t redout_tmp_181905 = defunc_0_op_res_176906;
            int64_t redout_tmp_181906 = defunc_0_op_res_176907;
            
            redout_180088 = redout_tmp_181904;
            redout_180089 = redout_tmp_181905;
            redout_180090 = redout_tmp_181906;
        }
        x_181406 = redout_180088;
        x_181407 = redout_180089;
        x_181408 = redout_180090;
        defunc_0_reduce_res_179934 = x_181406;
        defunc_0_reduce_res_179935 = x_181407;
        defunc_0_reduce_res_179936 = x_181408;
    } else {
        defunc_0_reduce_res_179934 = (int8_t) 0;
        defunc_0_reduce_res_179935 = (int64_t) 0;
        defunc_0_reduce_res_179936 = (int64_t) 0;
    }
    
    int64_t distance_176919 = add64((int64_t) 1, tmp_176917);
    int64_t binop_x_181081 = (int64_t) 8 * smallest_pow_2_geq_than_res_176864;
    int64_t bytes_181082 = block_sizze_176874 * binop_x_181081;
    int64_t bytes_181100 = (int64_t) 8 * block_sizze_176874;
    bool loop_cond_177028 = slt64(block_sizze_176874, flat_dim_176875);
    bool zzero_177029 = merge_block_sizze_176880 == (int64_t) 0;
    bool nonzzero_177030 = !zzero_177029;
    
    if (cond_176858) {
        if (memblock_set(ctx, &ext_mem_181373, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &mem_181078, "mem_181078") != 0)
            return 1;
    } else {
        if (mem_181080_cached_sizze_182225 < flat_dim_176875) {
            err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182225, flat_dim_176875);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181083_cached_sizze_182226 < bytes_181082) {
            err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182226, bytes_181082);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181086_cached_sizze_182227 < bytes_181082) {
            err = lexical_realloc(ctx, &mem_181086, &mem_181086_cached_sizze_182227, bytes_181082);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181099_cached_sizze_182228 < block_sizze_176874) {
            err = lexical_realloc(ctx, &mem_181099, &mem_181099_cached_sizze_182228, block_sizze_176874);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181101_cached_sizze_182229 < bytes_181100) {
            err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_182229, bytes_181100);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181103_cached_sizze_182230 < bytes_181100) {
            err = lexical_realloc(ctx, &mem_181103, &mem_181103_cached_sizze_182230, bytes_181100);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180108 = 0; i_180108 < smallest_pow_2_geq_than_res_176864; i_180108++) {
            int64_t zp_lhs_176927 = mul64(block_sizze_176874, i_180108);
            
            for (int64_t i_180098 = 0; i_180098 < block_sizze_176874; i_180098++) {
                int64_t k_176932 = add64(zp_lhs_176927, i_180098);
                bool cond_176933 = slt64(k_176932, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
                int8_t lifted_lambda_res_176934;
                int64_t lifted_lambda_res_176935;
                int64_t lifted_lambda_res_176936;
                
                if (cond_176933) {
                    bool x_179709 = sle64((int64_t) 0, k_176932);
                    bool bounds_check_179710 = cond_176933 && x_179709;
                    bool index_certs_179711;
                    
                    if (!bounds_check_179710) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176932, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179712 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, k_176932);
                    int8_t index_concat_branch_179713 = btoi_bool_i8(index_concat_cmp_179712);
                    int64_t index_concat_branch_179714;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179715 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t index_primexp_179716 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179715);
                        
                        index_concat_branch_179714 = index_primexp_179716;
                    } else {
                        int64_t index_primexp_179717 = add64(defunc_0_merge_pipeline_res_174784, k_176932);
                        
                        index_concat_branch_179714 = index_primexp_179717;
                    }
                    
                    int64_t index_concat_branch_179718;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179719 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t slice_179720 = defunc_0_merge_pipeline_res_174785 + index_concat_i_179719;
                        int64_t index_concat_179721 = ((int64_t *) b_list_mem_180281.mem)[slice_179720];
                        
                        index_concat_branch_179718 = index_concat_179721;
                    } else {
                        int64_t slice_179722 = defunc_0_merge_pipeline_res_174784 + k_176932;
                        int64_t index_concat_179723 = ((int64_t *) a_list_mem_180280.mem)[slice_179722];
                        
                        index_concat_branch_179718 = index_concat_179723;
                    }
                    lifted_lambda_res_176934 = index_concat_branch_179713;
                    lifted_lambda_res_176935 = index_concat_branch_179714;
                    lifted_lambda_res_176936 = index_concat_branch_179718;
                } else {
                    lifted_lambda_res_176934 = defunc_0_reduce_res_179934;
                    lifted_lambda_res_176935 = defunc_0_reduce_res_179935;
                    lifted_lambda_res_176936 = defunc_0_reduce_res_179936;
                }
                ((int8_t *) mem_181099)[i_180098] = lifted_lambda_res_176934;
                ((int64_t *) mem_181101)[i_180098] = lifted_lambda_res_176935;
                ((int64_t *) mem_181103)[i_180098] = lifted_lambda_res_176936;
            }
            if (!cond_176916) {
                for (int64_t i_176949 = 0; i_176949 < distance_176919; i_176949++) {
                    int64_t gt_arg1_176953 = add64((int64_t) 1, i_176949);
                    bool x_176954 = sle64((int64_t) 0, gt_arg1_176953);
                    bool y_176955 = slt64(gt_arg1_176953, block_sizze_176874);
                    bool bounds_check_176956 = x_176954 && y_176955;
                    bool index_certs_176957;
                    
                    if (!bounds_check_176956) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176953, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176961 = slt64(i_176949, block_sizze_176874);
                    bool index_certs_176962;
                    
                    if (!y_176961) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176949, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176958 = ((int8_t *) mem_181099)[gt_arg1_176953];
                    int64_t gt_arg1_176959 = ((int64_t *) mem_181101)[gt_arg1_176953];
                    int64_t gt_arg1_176960 = ((int64_t *) mem_181103)[gt_arg1_176953];
                    int8_t gt_arg0_176963 = ((int8_t *) mem_181099)[i_176949];
                    int64_t gt_arg0_176964 = ((int64_t *) mem_181101)[i_176949];
                    int64_t gt_arg0_176965 = ((int64_t *) mem_181103)[i_176949];
                    bool cond_176966 = gt_arg0_176963 == gt_arg1_176958;
                    bool defunc_0_leq_res_t_res_176967 = sle64(gt_arg0_176964, gt_arg1_176959);
                    bool defunc_0_leq_res_176968 = sle64(gt_arg0_176965, gt_arg1_176960);
                    bool x_176969 = cond_176966 && defunc_0_leq_res_t_res_176967;
                    bool x_176970 = !cond_176966;
                    bool y_176971 = defunc_0_leq_res_176968 && x_176970;
                    bool defunc_0_leq_res_176972 = x_176969 || y_176971;
                    bool defunc_0_lifted_gt_res_176973 = !defunc_0_leq_res_176972;
                    bool s_176974;
                    int64_t s_176978;
                    bool loop_while_176979;
                    int64_t j_176983;
                    
                    loop_while_176979 = defunc_0_lifted_gt_res_176973;
                    j_176983 = i_176949;
                    while (loop_while_176979) {
                        bool x_176984 = sle64((int64_t) 0, j_176983);
                        bool y_176985 = slt64(j_176983, block_sizze_176874);
                        bool bounds_check_176986 = x_176984 && y_176985;
                        bool index_certs_176987;
                        
                        if (!bounds_check_176986) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176983, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176991 = add64((int64_t) 1, j_176983);
                        bool x_176992 = sle64((int64_t) 0, copy_arg0_176991);
                        bool y_176993 = slt64(copy_arg0_176991, block_sizze_176874);
                        bool bounds_check_176994 = x_176992 && y_176993;
                        bool index_certs_176995;
                        
                        if (!bounds_check_176994) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176991, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176988 = ((int8_t *) mem_181099)[j_176983];
                        int64_t copy_arg0_176989 = ((int64_t *) mem_181101)[j_176983];
                        int64_t copy_arg0_176990 = ((int64_t *) mem_181103)[j_176983];
                        int8_t copy_arg0_176996 = ((int8_t *) mem_181099)[copy_arg0_176991];
                        int64_t copy_arg0_176997 = ((int64_t *) mem_181101)[copy_arg0_176991];
                        int64_t copy_arg0_176998 = ((int64_t *) mem_181103)[copy_arg0_176991];
                        
                        ((int8_t *) mem_181099)[j_176983] = copy_arg0_176996;
                        ((int64_t *) mem_181101)[j_176983] = copy_arg0_176997;
                        ((int64_t *) mem_181103)[j_176983] = copy_arg0_176998;
                        ((int8_t *) mem_181099)[copy_arg0_176991] = copy_arg0_176988;
                        ((int64_t *) mem_181101)[copy_arg0_176991] = copy_arg0_176989;
                        ((int64_t *) mem_181103)[copy_arg0_176991] = copy_arg0_176990;
                        
                        int64_t tmp_177005 = sub64(j_176983, (int64_t) 1);
                        bool cond_177006 = sle64((int64_t) 0, tmp_177005);
                        bool loop_cond_177007;
                        
                        if (cond_177006) {
                            bool y_179727 = slt64(tmp_177005, block_sizze_176874);
                            bool bounds_check_179728 = cond_177006 && y_179727;
                            bool index_certs_179729;
                            
                            if (!bounds_check_179728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177005, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179724 = ((int8_t *) mem_181099)[j_176983];
                            int64_t gt_arg1_179725 = ((int64_t *) mem_181101)[j_176983];
                            int64_t gt_arg1_179726 = ((int64_t *) mem_181103)[j_176983];
                            int8_t gt_arg0_179730 = ((int8_t *) mem_181099)[tmp_177005];
                            int64_t gt_arg0_179731 = ((int64_t *) mem_181101)[tmp_177005];
                            int64_t gt_arg0_179732 = ((int64_t *) mem_181103)[tmp_177005];
                            bool cond_179733 = gt_arg0_179730 == gt_arg1_179724;
                            bool defunc_0_leq_res_t_res_179734 = sle64(gt_arg0_179731, gt_arg1_179725);
                            bool defunc_0_leq_res_179735 = sle64(gt_arg0_179732, gt_arg1_179726);
                            bool x_179736 = cond_179733 && defunc_0_leq_res_t_res_179734;
                            bool x_179737 = !cond_179733;
                            bool y_179738 = defunc_0_leq_res_179735 && x_179737;
                            bool defunc_0_leq_res_179739 = x_179736 || y_179738;
                            bool defunc_0_lifted_gt_res_179740 = !defunc_0_leq_res_179739;
                            
                            loop_cond_177007 = defunc_0_lifted_gt_res_179740;
                        } else {
                            loop_cond_177007 = 0;
                        }
                        
                        bool loop_while_tmp_181916 = loop_cond_177007;
                        int64_t j_tmp_181920 = tmp_177005;
                        
                        loop_while_176979 = loop_while_tmp_181916;
                        j_176983 = j_tmp_181920;
                    }
                    s_176974 = loop_while_176979;
                    s_176978 = j_176983;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181080, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181099, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181083, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181101, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181103, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
        }
        if (memblock_alloc(ctx, &mem_181180, flat_dim_176875, "mem_181180")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181180.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint8_t *) mem_181080, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181184, bytes_181082, "mem_181184")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181184.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint64_t *) mem_181083, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181188, bytes_181082, "mem_181188")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint64_t *) mem_181086, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        
        int64_t data_177031;
        bool data_177032;
        int64_t data_177036;
        int64_t loop_dz2084Uz2082U_177037;
        bool loop_while_177038;
        int64_t stride_177042;
        
        if (memblock_set(ctx, &mem_param_181192, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181195, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181198, &mem_181188, "mem_181188") != 0)
            return 1;
        loop_dz2084Uz2082U_177037 = flat_dim_176875;
        loop_while_177038 = loop_cond_177028;
        stride_177042 = block_sizze_176874;
        while (loop_while_177038) {
            int64_t next_stride_177043 = mul64((int64_t) 2, stride_177042);
            bool zzero_177044 = next_stride_177043 == (int64_t) 0;
            bool nonzzero_177045 = !zzero_177044;
            bool nonzzero_cert_177046;
            
            if (!nonzzero_177045) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177047 = sdiv64(flat_dim_176875, next_stride_177043);
            bool bounds_invalid_upwards_177048 = slt64(num_merges_177047, (int64_t) 0);
            bool valid_177049 = !bounds_invalid_upwards_177048;
            bool range_valid_c_177050;
            
            if (!valid_177049) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177047, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177052 = sub64(next_stride_177043, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177053 = sle64((int64_t) 0, m_177052);
            bool cond_177055 = slt64(next_stride_177043, (int64_t) 10);
            bool protect_assert_disj_177056 = nonzzero_177030 || cond_177055;
            bool nonzzero_cert_177057;
            
            if (!protect_assert_disj_177056) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177058 = smod_safe64(next_stride_177043, merge_block_sizze_176880);
            bool num_blocks_177059 = zeze_lhs_177058 == (int64_t) 0;
            bool protect_assert_disj_177060 = cond_177055 || num_blocks_177059;
            bool assert_c_177061;
            
            if (!protect_assert_disj_177060) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177063 = sdiv_safe64(next_stride_177043, merge_block_sizze_176880);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064 = add64((int64_t) 1, num_blocks_177063);
            int64_t j_m_i_177065 = sub64(next_stride_177043, stride_177042);
            int64_t flat_dim_177066 = merge_block_sizze_176880 * num_blocks_177063;
            bool bounds_invalid_upwards_177067 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, (int64_t) 0);
            bool empty_slice_177068 = j_m_i_177065 == (int64_t) 0;
            int64_t m_177069 = sub64(j_m_i_177065, (int64_t) 1);
            bool zzero_lte_i_177070 = sle64((int64_t) 0, stride_177042);
            bool i_lte_j_177071 = sle64(stride_177042, next_stride_177043);
            bool empty_slice_177072 = stride_177042 == (int64_t) 0;
            int64_t m_177073 = sub64(stride_177042, (int64_t) 1);
            bool bounds_invalid_upwards_177074 = slt64(num_blocks_177063, (int64_t) 0);
            bool cond_177075 = slt64((int64_t) 0, stride_177042);
            bool valid_177076 = !bounds_invalid_upwards_177067;
            int64_t i_p_m_t_s_177077 = add64(stride_177042, m_177069);
            bool zzero_leq_i_p_m_t_s_177078 = sle64((int64_t) 0, m_177073);
            bool i_p_m_t_s_leq_w_177079 = slt64(m_177073, next_stride_177043);
            bool valid_177080 = !bounds_invalid_upwards_177074;
            bool i_p_m_t_s_leq_w_177081 = slt64(m_177052, flat_dim_177066);
            bool y_177082 = slt64((int64_t) 0, j_m_i_177065);
            bool protect_assert_disj_177083 = cond_177055 || valid_177076;
            bool range_valid_c_177084;
            
            if (!protect_assert_disj_177083) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177085 = sle64((int64_t) 0, i_p_m_t_s_177077);
            bool i_p_m_t_s_leq_w_177086 = slt64(i_p_m_t_s_177077, next_stride_177043);
            bool y_177087 = zzero_leq_i_p_m_t_s_177078 && i_p_m_t_s_leq_w_177079;
            bool protect_assert_disj_177088 = cond_177055 || valid_177080;
            bool range_valid_c_177089;
            
            if (!protect_assert_disj_177088) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177090 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177081;
            bool y_177091 = zzero_lte_i_177070 && i_p_m_t_s_leq_w_177086;
            bool forwards_ok_177092 = zzero_lte_i_177070 && y_177087;
            bool ok_or_empty_177093 = zzero_177044 || y_177090;
            bool protect_assert_disj_177094 = cond_177075 || y_177082;
            bool y_177095 = zzero_leq_i_p_m_t_s_177085 && y_177091;
            bool ok_or_empty_177096 = empty_slice_177072 || forwards_ok_177092;
            bool protect_assert_disj_177097 = cond_177055 || ok_or_empty_177093;
            bool index_certs_177098;
            
            if (!protect_assert_disj_177097) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) flat_dim_177066, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177099 = !cond_177055;
            bool protect_assert_disj_177100 = protect_assert_disj_177094 || loop_not_taken_177099;
            bool index_certs_177101;
            
            if (!protect_assert_disj_177100) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177102 = i_lte_j_177071 && y_177095;
            bool protect_assert_disj_177103 = cond_177055 || ok_or_empty_177096;
            bool index_certs_177104;
            
            if (!protect_assert_disj_177103) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177105 = ok_or_empty_177096 || loop_not_taken_177099;
            bool index_certs_177106;
            
            if (!protect_assert_disj_177105) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177107 = empty_slice_177068 || forwards_ok_177102;
            bool protect_assert_disj_177108 = cond_177055 || ok_or_empty_177107;
            bool index_certs_177109;
            
            if (!protect_assert_disj_177108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177110 = loop_not_taken_177099 || ok_or_empty_177107;
            bool index_certs_177111;
            
            if (!protect_assert_disj_177110) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181199 = next_stride_177043 * num_merges_177047;
            int64_t binop_x_181201 = (int64_t) 8 * num_merges_177047;
            int64_t bytes_181202 = next_stride_177043 * binop_x_181201;
            bool i_lte_j_177054 = sle64((int64_t) 0, next_stride_177043);
            
            if (mem_181200_cached_sizze_182231 < bytes_181199) {
                err = lexical_realloc(ctx, &mem_181200, &mem_181200_cached_sizze_182231, bytes_181199);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181203_cached_sizze_182232 < bytes_181202) {
                err = lexical_realloc(ctx, &mem_181203, &mem_181203_cached_sizze_182232, bytes_181202);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181206_cached_sizze_182233 < bytes_181202) {
                err = lexical_realloc(ctx, &mem_181206, &mem_181206_cached_sizze_182233, bytes_181202);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181219 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064;
            int64_t binop_x_181237 = (int64_t) 8 * num_blocks_177063;
            int64_t bytes_181238 = merge_block_sizze_176880 * binop_x_181237;
            int64_t bytes_181302 = (int64_t) 16 * stride_177042;
            
            for (int64_t i_180135 = 0; i_180135 < num_merges_177047; i_180135++) {
                int64_t start_177116 = mul64(next_stride_177043, i_180135);
                int64_t j_m_i_177117 = sub64(loop_dz2084Uz2082U_177037, start_177116);
                bool empty_slice_177118 = j_m_i_177117 == (int64_t) 0;
                int64_t m_177119 = sub64(j_m_i_177117, (int64_t) 1);
                int64_t i_p_m_t_s_177120 = add64(start_177116, m_177119);
                bool zzero_leq_i_p_m_t_s_177121 = sle64((int64_t) 0, i_p_m_t_s_177120);
                bool i_p_m_t_s_leq_w_177122 = slt64(i_p_m_t_s_177120, loop_dz2084Uz2082U_177037);
                bool zzero_lte_i_177123 = sle64((int64_t) 0, start_177116);
                bool i_lte_j_177124 = sle64(start_177116, loop_dz2084Uz2082U_177037);
                bool y_177125 = i_p_m_t_s_leq_w_177122 && zzero_lte_i_177123;
                bool y_177126 = zzero_leq_i_p_m_t_s_177121 && y_177125;
                bool forwards_ok_177127 = i_lte_j_177124 && y_177126;
                bool ok_or_empty_177128 = empty_slice_177118 || forwards_ok_177127;
                bool index_certs_177129;
                
                if (!ok_or_empty_177128) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177116, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177037, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177130 = slt64(m_177052, j_m_i_177117);
                bool y_177131 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177130;
                bool forwards_ok_177132 = i_lte_j_177054 && y_177131;
                bool ok_or_empty_177133 = zzero_177044 || forwards_ok_177132;
                bool index_certs_177134;
                
                if (!ok_or_empty_177133) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) j_m_i_177117, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177055) {
                    int8_t dummy_179779;
                    int64_t dummy_179780;
                    int64_t dummy_179781;
                    
                    if (cond_177075) {
                        int8_t head_res_179782 = ((int8_t *) mem_param_181192.mem)[start_177116];
                        int64_t head_res_179783 = ((int64_t *) mem_param_181195.mem)[start_177116];
                        int64_t head_res_179784 = ((int64_t *) mem_param_181198.mem)[start_177116];
                        
                        dummy_179779 = head_res_179782;
                        dummy_179780 = head_res_179783;
                        dummy_179781 = head_res_179784;
                    } else {
                        int64_t slice_179785 = stride_177042 + start_177116;
                        int8_t head_res_179786 = ((int8_t *) mem_param_181192.mem)[slice_179785];
                        int64_t head_res_179787 = ((int64_t *) mem_param_181195.mem)[slice_179785];
                        int64_t head_res_179788 = ((int64_t *) mem_param_181198.mem)[slice_179785];
                        
                        dummy_179779 = head_res_179786;
                        dummy_179780 = head_res_179787;
                        dummy_179781 = head_res_179788;
                    }
                    if (memblock_alloc(ctx, &mem_181301, next_stride_177043, "mem_181301")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181933 = 0; nest_i_181933 < next_stride_177043; nest_i_181933++) {
                        ((int8_t *) mem_181301.mem)[nest_i_181933] = dummy_179779;
                    }
                    if (memblock_alloc(ctx, &mem_181303, bytes_181302, "mem_181303")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181934 = 0; nest_i_181934 < next_stride_177043; nest_i_181934++) {
                        ((int64_t *) mem_181303.mem)[nest_i_181934] = dummy_179780;
                    }
                    if (memblock_alloc(ctx, &mem_181305, bytes_181302, "mem_181305")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181935 = 0; nest_i_181935 < next_stride_177043; nest_i_181935++) {
                        ((int64_t *) mem_181305.mem)[nest_i_181935] = dummy_179781;
                    }
                    
                    int64_t data_179792;
                    int64_t i_179797 = (int64_t) 0;
                    
                    for (int64_t k_179796 = 0; k_179796 < next_stride_177043; k_179796++) {
                        int64_t j_179801 = sub64(k_179796, i_179797);
                        bool cond_179802 = j_179801 == j_m_i_177065;
                        bool cond_179803;
                        
                        if (cond_179802) {
                            cond_179803 = 1;
                        } else {
                            bool cond_179804 = slt64(i_179797, stride_177042);
                            bool cond_f_res_179805;
                            
                            if (cond_179804) {
                                bool x_179806 = sle64((int64_t) 0, j_179801);
                                bool y_179807 = slt64(j_179801, j_m_i_177065);
                                bool bounds_check_179808 = x_179806 && y_179807;
                                bool index_certs_179809;
                                
                                if (!bounds_check_179808) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179815 = sle64((int64_t) 0, i_179797);
                                bool bounds_check_179816 = cond_179804 && x_179815;
                                bool index_certs_179817;
                                
                                if (!bounds_check_179816) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179810 = stride_177042 + j_179801;
                                int64_t slice_179811 = start_177116 + slice_179810;
                                int8_t leq_arg1_179812 = ((int8_t *) mem_param_181192.mem)[slice_179811];
                                int64_t leq_arg1_179813 = ((int64_t *) mem_param_181195.mem)[slice_179811];
                                int64_t leq_arg1_179814 = ((int64_t *) mem_param_181198.mem)[slice_179811];
                                int64_t slice_179818 = start_177116 + i_179797;
                                int8_t leq_arg0_179819 = ((int8_t *) mem_param_181192.mem)[slice_179818];
                                int64_t leq_arg0_179820 = ((int64_t *) mem_param_181195.mem)[slice_179818];
                                int64_t leq_arg0_179821 = ((int64_t *) mem_param_181198.mem)[slice_179818];
                                bool cond_179822 = leq_arg0_179819 == leq_arg1_179812;
                                bool defunc_0_leq_res_t_res_179823 = sle64(leq_arg0_179820, leq_arg1_179813);
                                bool defunc_0_leq_res_179824 = sle64(leq_arg0_179821, leq_arg1_179814);
                                bool x_179825 = cond_179822 && defunc_0_leq_res_t_res_179823;
                                bool x_179826 = !cond_179822;
                                bool y_179827 = defunc_0_leq_res_179824 && x_179826;
                                bool defunc_0_leq_res_179828 = x_179825 || y_179827;
                                
                                cond_f_res_179805 = defunc_0_leq_res_179828;
                            } else {
                                cond_f_res_179805 = 0;
                            }
                            cond_179803 = cond_f_res_179805;
                        }
                        
                        int64_t loopres_179829;
                        int8_t loopres_179830;
                        int64_t loopres_179831;
                        int64_t loopres_179832;
                        
                        if (cond_179803) {
                            bool x_179834 = sle64((int64_t) 0, i_179797);
                            bool y_179835 = slt64(i_179797, stride_177042);
                            bool bounds_check_179836 = x_179834 && y_179835;
                            bool index_certs_179837;
                            
                            if (!bounds_check_179836) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179833 = add64((int64_t) 1, i_179797);
                            int64_t slice_179838 = start_177116 + i_179797;
                            int8_t tmp_179839 = ((int8_t *) mem_param_181192.mem)[slice_179838];
                            int64_t tmp_179840 = ((int64_t *) mem_param_181195.mem)[slice_179838];
                            int64_t tmp_179841 = ((int64_t *) mem_param_181198.mem)[slice_179838];
                            
                            loopres_179829 = tmp_179833;
                            loopres_179830 = tmp_179839;
                            loopres_179831 = tmp_179840;
                            loopres_179832 = tmp_179841;
                        } else {
                            bool x_179842 = sle64((int64_t) 0, j_179801);
                            bool y_179843 = slt64(j_179801, j_m_i_177065);
                            bool bounds_check_179844 = x_179842 && y_179843;
                            bool index_certs_179845;
                            
                            if (!bounds_check_179844) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179846 = stride_177042 + j_179801;
                            int64_t slice_179847 = start_177116 + slice_179846;
                            int8_t tmp_179848 = ((int8_t *) mem_param_181192.mem)[slice_179847];
                            int64_t tmp_179849 = ((int64_t *) mem_param_181195.mem)[slice_179847];
                            int64_t tmp_179850 = ((int64_t *) mem_param_181198.mem)[slice_179847];
                            
                            loopres_179829 = i_179797;
                            loopres_179830 = tmp_179848;
                            loopres_179831 = tmp_179849;
                            loopres_179832 = tmp_179850;
                        }
                        ((int8_t *) mem_181301.mem)[k_179796] = loopres_179830;
                        ((int64_t *) mem_181303.mem)[k_179796] = loopres_179831;
                        ((int64_t *) mem_181305.mem)[k_179796] = loopres_179832;
                        
                        int64_t i_tmp_181936 = loopres_179829;
                        
                        i_179797 = i_tmp_181936;
                    }
                    data_179792 = i_179797;
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181301, "mem_181301") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181303, "mem_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181305, "mem_181305") != 0)
                        return 1;
                } else {
                    if (mem_181220_cached_sizze_182234 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181220, &mem_181220_cached_sizze_182234, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181222_cached_sizze_182235 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181222, &mem_181222_cached_sizze_182235, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180116 = 0; i_180116 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064; i_180116++) {
                        int64_t split_count_arg3_177217 = mul64(merge_block_sizze_176880, i_180116);
                        int64_t defunc_0_split_count_res_177218;
                        int64_t defunc_0_split_count_res_177219;
                        int64_t defunc_0_split_count_res_177220;
                        int64_t defunc_0_split_count_res_177221;
                        int64_t defunc_0_split_count_res_177222;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_177218, &defunc_0_split_count_res_177219, &defunc_0_split_count_res_177220, &defunc_0_split_count_res_177221, &defunc_0_split_count_res_177222, (int64_t) 0, stride_177042, (int64_t) 0, j_m_i_177065, split_count_arg3_177217) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177223 = slt64((int64_t) 0, defunc_0_split_count_res_177222);
                        bool defunc_0_split_count_res_177224;
                        int64_t defunc_0_split_count_res_177225;
                        int64_t defunc_0_split_count_res_177226;
                        int64_t defunc_0_split_count_res_177227;
                        int64_t defunc_0_split_count_res_177228;
                        int64_t defunc_0_split_count_res_177229;
                        bool loop_while_177230;
                        int64_t ss_177231;
                        int64_t ss_177232;
                        int64_t tt_177233;
                        int64_t tt_177234;
                        int64_t count_177235;
                        
                        loop_while_177230 = loop_cond_177223;
                        ss_177231 = defunc_0_split_count_res_177218;
                        ss_177232 = defunc_0_split_count_res_177219;
                        tt_177233 = defunc_0_split_count_res_177220;
                        tt_177234 = defunc_0_split_count_res_177221;
                        count_177235 = defunc_0_split_count_res_177222;
                        while (loop_while_177230) {
                            int64_t zlze_lhs_177236 = sub64(ss_177232, ss_177231);
                            bool cond_177237 = sle64(zlze_lhs_177236, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177238;
                            int64_t defunc_0_lifted_step_res_177239;
                            int64_t defunc_0_lifted_step_res_177240;
                            int64_t defunc_0_lifted_step_res_177241;
                            
                            if (cond_177237) {
                                int64_t tmp_179854 = add64(tt_177233, count_177235);
                                
                                defunc_0_lifted_step_res_177238 = ss_177231;
                                defunc_0_lifted_step_res_177239 = tmp_179854;
                                defunc_0_lifted_step_res_177240 = tt_177234;
                                defunc_0_lifted_step_res_177241 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177243 = sub64(tt_177234, tt_177233);
                                bool cond_177244 = sle64(zlze_lhs_177243, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177245;
                                int64_t defunc_0_lifted_step_res_f_res_177246;
                                int64_t defunc_0_lifted_step_res_f_res_177247;
                                int64_t defunc_0_lifted_step_res_f_res_177248;
                                
                                if (cond_177244) {
                                    int64_t tmp_179855 = add64(ss_177231, count_177235);
                                    
                                    defunc_0_lifted_step_res_f_res_177245 = tmp_179855;
                                    defunc_0_lifted_step_res_f_res_177246 = tt_177233;
                                    defunc_0_lifted_step_res_f_res_177247 = tt_177234;
                                    defunc_0_lifted_step_res_f_res_177248 = (int64_t) 0;
                                } else {
                                    bool cond_177250 = count_177235 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177251;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177252;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177253;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177254;
                                    
                                    if (cond_177250) {
                                        bool x_179857 = sle64((int64_t) 0, ss_177231);
                                        bool y_179858 = slt64(ss_177231, stride_177042);
                                        bool bounds_check_179859 = x_179857 && y_179858;
                                        bool index_certs_179860;
                                        
                                        if (!bounds_check_179859) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177231, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179865 = sle64((int64_t) 0, tt_177233);
                                        bool y_179866 = slt64(tt_177233, j_m_i_177065);
                                        bool bounds_check_179867 = x_179865 && y_179866;
                                        bool index_certs_179868;
                                        
                                        if (!bounds_check_179867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177233, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179861 = start_177116 + ss_177231;
                                        int8_t leq_arg1_179862 = ((int8_t *) mem_param_181192.mem)[slice_179861];
                                        int64_t leq_arg1_179863 = ((int64_t *) mem_param_181195.mem)[slice_179861];
                                        int64_t leq_arg1_179864 = ((int64_t *) mem_param_181198.mem)[slice_179861];
                                        int64_t slice_179869 = stride_177042 + tt_177233;
                                        int64_t slice_179870 = start_177116 + slice_179869;
                                        int8_t leq_arg0_179871 = ((int8_t *) mem_param_181192.mem)[slice_179870];
                                        int64_t leq_arg0_179872 = ((int64_t *) mem_param_181195.mem)[slice_179870];
                                        int64_t leq_arg0_179873 = ((int64_t *) mem_param_181198.mem)[slice_179870];
                                        bool cond_179874 = leq_arg0_179871 == leq_arg1_179862;
                                        bool defunc_0_leq_res_t_res_179875 = sle64(leq_arg0_179872, leq_arg1_179863);
                                        bool defunc_0_leq_res_179876 = sle64(leq_arg0_179873, leq_arg1_179864);
                                        bool x_179877 = cond_179874 && defunc_0_leq_res_t_res_179875;
                                        bool x_179878 = !cond_179874;
                                        bool y_179879 = defunc_0_leq_res_179876 && x_179878;
                                        bool defunc_0_leq_res_179880 = x_179877 || y_179879;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        
                                        if (defunc_0_leq_res_179880) {
                                            int64_t tmp_179883 = add64((int64_t) 1, tt_177233);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = ss_177231;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tmp_179883;
                                        } else {
                                            int64_t tmp_179884 = add64((int64_t) 1, ss_177231);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = tmp_179884;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tt_177233;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = tt_177234;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = (int64_t) 0;
                                    } else {
                                        int64_t m_177283 = sdiv64(count_177235, (int64_t) 2);
                                        int64_t n_177284 = sub64(count_177235, m_177283);
                                        bool cond_177285 = n_177284 == (int64_t) 0;
                                        int64_t zgze_lhs_177286 = add64(ss_177231, m_177283);
                                        bool cond_f_res_177287 = sle64(ss_177232, zgze_lhs_177286);
                                        bool x_177288 = !cond_177285;
                                        bool y_177289 = cond_f_res_177287 && x_177288;
                                        bool cond_177290 = cond_177285 || y_177289;
                                        bool leq_y_x_177291;
                                        
                                        if (cond_177290) {
                                            leq_y_x_177291 = 1;
                                        } else {
                                            bool x_177292 = sle64((int64_t) 0, zgze_lhs_177286);
                                            bool y_177293 = slt64(zgze_lhs_177286, stride_177042);
                                            bool bounds_check_177294 = x_177292 && y_177293;
                                            bool index_certs_177295;
                                            
                                            if (!bounds_check_177294) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177286, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177300 = add64(tt_177233, n_177284);
                                            int64_t leq_arg0_177301 = sub64(zm_lhs_177300, (int64_t) 1);
                                            bool x_177302 = sle64((int64_t) 0, leq_arg0_177301);
                                            bool y_177303 = slt64(leq_arg0_177301, j_m_i_177065);
                                            bool bounds_check_177304 = x_177302 && y_177303;
                                            bool index_certs_177305;
                                            
                                            if (!bounds_check_177304) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177301, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177296 = start_177116 + zgze_lhs_177286;
                                            int8_t leq_arg1_177297 = ((int8_t *) mem_param_181192.mem)[slice_177296];
                                            int64_t leq_arg1_177298 = ((int64_t *) mem_param_181195.mem)[slice_177296];
                                            int64_t leq_arg1_177299 = ((int64_t *) mem_param_181198.mem)[slice_177296];
                                            int64_t slice_177306 = stride_177042 + leq_arg0_177301;
                                            int64_t slice_177307 = start_177116 + slice_177306;
                                            int8_t leq_arg0_177308 = ((int8_t *) mem_param_181192.mem)[slice_177307];
                                            int64_t leq_arg0_177309 = ((int64_t *) mem_param_181195.mem)[slice_177307];
                                            int64_t leq_arg0_177310 = ((int64_t *) mem_param_181198.mem)[slice_177307];
                                            bool cond_177311 = leq_arg0_177308 == leq_arg1_177297;
                                            bool defunc_0_leq_res_t_res_177312 = sle64(leq_arg0_177309, leq_arg1_177298);
                                            bool defunc_0_leq_res_177313 = sle64(leq_arg0_177310, leq_arg1_177299);
                                            bool x_177314 = cond_177311 && defunc_0_leq_res_t_res_177312;
                                            bool x_177315 = !cond_177311;
                                            bool y_177316 = defunc_0_leq_res_177313 && x_177315;
                                            bool defunc_0_leq_res_177317 = x_177314 || y_177316;
                                            
                                            leq_y_x_177291 = defunc_0_leq_res_177317;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                        
                                        if (leq_y_x_177291) {
                                            int64_t tmp_179885 = add64(tt_177233, n_177284);
                                            int64_t tmp_179886 = sub64(count_177235, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tmp_179885;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tt_177234;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = tmp_179886;
                                        } else {
                                            int64_t tmp_177323 = add64(tt_177233, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tt_177233;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tmp_177323;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = count_177235;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = ss_177231;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                    }
                                    defunc_0_lifted_step_res_f_res_177245 = defunc_0_lifted_step_res_f_res_f_res_177251;
                                    defunc_0_lifted_step_res_f_res_177246 = defunc_0_lifted_step_res_f_res_f_res_177252;
                                    defunc_0_lifted_step_res_f_res_177247 = defunc_0_lifted_step_res_f_res_f_res_177253;
                                    defunc_0_lifted_step_res_f_res_177248 = defunc_0_lifted_step_res_f_res_f_res_177254;
                                }
                                defunc_0_lifted_step_res_177238 = defunc_0_lifted_step_res_f_res_177245;
                                defunc_0_lifted_step_res_177239 = defunc_0_lifted_step_res_f_res_177246;
                                defunc_0_lifted_step_res_177240 = defunc_0_lifted_step_res_f_res_177247;
                                defunc_0_lifted_step_res_177241 = defunc_0_lifted_step_res_f_res_177248;
                            }
                            
                            int64_t loopres_177324;
                            int64_t loopres_177325;
                            int64_t loopres_177326;
                            int64_t loopres_177327;
                            int64_t loopres_177328;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_177324, &loopres_177325, &loopres_177326, &loopres_177327, &loopres_177328, defunc_0_lifted_step_res_177238, ss_177232, defunc_0_lifted_step_res_177239, defunc_0_lifted_step_res_177240, defunc_0_lifted_step_res_177241) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177329 = slt64((int64_t) 0, loopres_177328);
                            bool loop_while_tmp_181942 = loop_cond_177329;
                            int64_t ss_tmp_181943 = loopres_177324;
                            int64_t ss_tmp_181944 = loopres_177325;
                            int64_t tt_tmp_181945 = loopres_177326;
                            int64_t tt_tmp_181946 = loopres_177327;
                            int64_t count_tmp_181947 = loopres_177328;
                            
                            loop_while_177230 = loop_while_tmp_181942;
                            ss_177231 = ss_tmp_181943;
                            ss_177232 = ss_tmp_181944;
                            tt_177233 = tt_tmp_181945;
                            tt_177234 = tt_tmp_181946;
                            count_177235 = count_tmp_181947;
                        }
                        defunc_0_split_count_res_177224 = loop_while_177230;
                        defunc_0_split_count_res_177225 = ss_177231;
                        defunc_0_split_count_res_177226 = ss_177232;
                        defunc_0_split_count_res_177227 = tt_177233;
                        defunc_0_split_count_res_177228 = tt_177234;
                        defunc_0_split_count_res_177229 = count_177235;
                        ((int64_t *) mem_181220)[i_180116] = defunc_0_split_count_res_177225;
                        ((int64_t *) mem_181222)[i_180116] = defunc_0_split_count_res_177227;
                    }
                    if (mem_181236_cached_sizze_182236 < flat_dim_177066) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182236, flat_dim_177066);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181239_cached_sizze_182237 < bytes_181238) {
                        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_182237, bytes_181238);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181242_cached_sizze_182238 < bytes_181238) {
                        err = lexical_realloc(ctx, &mem_181242, &mem_181242_cached_sizze_182238, bytes_181238);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180125 = 0; i_180125 < num_blocks_177063; i_180125++) {
                        bool y_177336 = slt64(i_180125, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool index_certs_177338;
                        
                        if (!y_177336) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180125, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177339 = ((int64_t *) mem_181220)[i_180125];
                        int64_t defunc_0_f_res_177340 = ((int64_t *) mem_181222)[i_180125];
                        int64_t tmp_177341 = add64((int64_t) 1, i_180125);
                        bool x_177342 = sle64((int64_t) 0, tmp_177341);
                        bool y_177343 = slt64(tmp_177341, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool bounds_check_177344 = x_177342 && y_177343;
                        bool index_certs_177345;
                        
                        if (!bounds_check_177344) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177346 = ((int64_t *) mem_181220)[tmp_177341];
                        int64_t defunc_0_f_res_177347 = ((int64_t *) mem_181222)[tmp_177341];
                        int64_t merge_sequential_arg2_177348 = add64(stride_177042, defunc_0_f_res_177340);
                        int64_t merge_sequential_arg2_177349 = add64(stride_177042, defunc_0_f_res_177347);
                        int64_t j_m_i_177350 = sub64(merge_sequential_arg2_177349, merge_sequential_arg2_177348);
                        bool empty_slice_177351 = j_m_i_177350 == (int64_t) 0;
                        int64_t m_177352 = sub64(j_m_i_177350, (int64_t) 1);
                        int64_t i_p_m_t_s_177353 = add64(merge_sequential_arg2_177348, m_177352);
                        bool zzero_leq_i_p_m_t_s_177354 = sle64((int64_t) 0, i_p_m_t_s_177353);
                        bool i_p_m_t_s_leq_w_177355 = slt64(i_p_m_t_s_177353, next_stride_177043);
                        bool zzero_lte_i_177356 = sle64((int64_t) 0, merge_sequential_arg2_177348);
                        bool i_lte_j_177357 = sle64(merge_sequential_arg2_177348, merge_sequential_arg2_177349);
                        bool y_177358 = i_p_m_t_s_leq_w_177355 && zzero_lte_i_177356;
                        bool y_177359 = zzero_leq_i_p_m_t_s_177354 && y_177358;
                        bool forwards_ok_177360 = i_lte_j_177357 && y_177359;
                        bool ok_or_empty_177361 = empty_slice_177351 || forwards_ok_177360;
                        bool index_certs_177362;
                        
                        if (!ok_or_empty_177361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177348, ":", (long long) merge_sequential_arg2_177349, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177363 = sub64(defunc_0_f_res_177346, defunc_0_f_res_177339);
                        bool empty_slice_177364 = j_m_i_177363 == (int64_t) 0;
                        int64_t m_177365 = sub64(j_m_i_177363, (int64_t) 1);
                        int64_t i_p_m_t_s_177366 = add64(defunc_0_f_res_177339, m_177365);
                        bool zzero_leq_i_p_m_t_s_177367 = sle64((int64_t) 0, i_p_m_t_s_177366);
                        bool i_p_m_t_s_leq_w_177368 = slt64(i_p_m_t_s_177366, next_stride_177043);
                        bool zzero_lte_i_177369 = sle64((int64_t) 0, defunc_0_f_res_177339);
                        bool i_lte_j_177370 = sle64(defunc_0_f_res_177339, defunc_0_f_res_177346);
                        bool y_177371 = i_p_m_t_s_leq_w_177368 && zzero_lte_i_177369;
                        bool y_177372 = zzero_leq_i_p_m_t_s_177367 && y_177371;
                        bool forwards_ok_177373 = i_lte_j_177370 && y_177372;
                        bool ok_or_empty_177374 = empty_slice_177364 || forwards_ok_177373;
                        bool index_certs_177375;
                        
                        if (!ok_or_empty_177374) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177339, ":", (long long) defunc_0_f_res_177346, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177376 = slt64((int64_t) 0, j_m_i_177363);
                        int8_t dummy_177377;
                        int64_t dummy_177378;
                        int64_t dummy_177379;
                        
                        if (cond_177376) {
                            bool index_certs_179887;
                            
                            if (!cond_177376) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179888 = start_177116 + defunc_0_f_res_177339;
                            int8_t head_res_179889 = ((int8_t *) mem_param_181192.mem)[slice_179888];
                            int64_t head_res_179890 = ((int64_t *) mem_param_181195.mem)[slice_179888];
                            int64_t head_res_179891 = ((int64_t *) mem_param_181198.mem)[slice_179888];
                            
                            dummy_177377 = head_res_179889;
                            dummy_177378 = head_res_179890;
                            dummy_177379 = head_res_179891;
                        } else {
                            bool y_177385 = slt64((int64_t) 0, j_m_i_177350);
                            bool index_certs_177386;
                            
                            if (!y_177385) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177387 = start_177116 + merge_sequential_arg2_177348;
                            int8_t head_res_177388 = ((int8_t *) mem_param_181192.mem)[slice_177387];
                            int64_t head_res_177389 = ((int64_t *) mem_param_181195.mem)[slice_177387];
                            int64_t head_res_177390 = ((int64_t *) mem_param_181198.mem)[slice_177387];
                            
                            dummy_177377 = head_res_177388;
                            dummy_177378 = head_res_177389;
                            dummy_177379 = head_res_177390;
                        }
                        for (int64_t nest_i_181951 = 0; nest_i_181951 < merge_block_sizze_176880; nest_i_181951++) {
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + nest_i_181951] = dummy_177377;
                        }
                        for (int64_t nest_i_181952 = 0; nest_i_181952 < merge_block_sizze_176880; nest_i_181952++) {
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + nest_i_181952] = dummy_177378;
                        }
                        for (int64_t nest_i_181953 = 0; nest_i_181953 < merge_block_sizze_176880; nest_i_181953++) {
                            ((int64_t *) mem_181242)[i_180125 * merge_block_sizze_176880 + nest_i_181953] = dummy_177379;
                        }
                        
                        int64_t data_177394;
                        int64_t i_177399 = (int64_t) 0;
                        
                        for (int64_t k_177398 = 0; k_177398 < merge_block_sizze_176880; k_177398++) {
                            int64_t j_177403 = sub64(k_177398, i_177399);
                            bool cond_177404 = j_177403 == j_m_i_177350;
                            bool cond_177405;
                            
                            if (cond_177404) {
                                cond_177405 = 1;
                            } else {
                                bool cond_177406 = slt64(i_177399, j_m_i_177363);
                                bool cond_f_res_177407;
                                
                                if (cond_177406) {
                                    bool x_179892 = sle64((int64_t) 0, j_177403);
                                    bool y_179893 = slt64(j_177403, j_m_i_177350);
                                    bool bounds_check_179894 = x_179892 && y_179893;
                                    bool index_certs_179895;
                                    
                                    if (!bounds_check_179894) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179901 = sle64((int64_t) 0, i_177399);
                                    bool bounds_check_179902 = cond_177406 && x_179901;
                                    bool index_certs_179903;
                                    
                                    if (!bounds_check_179902) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179896 = merge_sequential_arg2_177348 + j_177403;
                                    int64_t slice_179897 = start_177116 + slice_179896;
                                    int8_t leq_arg1_179898 = ((int8_t *) mem_param_181192.mem)[slice_179897];
                                    int64_t leq_arg1_179899 = ((int64_t *) mem_param_181195.mem)[slice_179897];
                                    int64_t leq_arg1_179900 = ((int64_t *) mem_param_181198.mem)[slice_179897];
                                    int64_t slice_179904 = defunc_0_f_res_177339 + i_177399;
                                    int64_t slice_179905 = start_177116 + slice_179904;
                                    int8_t leq_arg0_179906 = ((int8_t *) mem_param_181192.mem)[slice_179905];
                                    int64_t leq_arg0_179907 = ((int64_t *) mem_param_181195.mem)[slice_179905];
                                    int64_t leq_arg0_179908 = ((int64_t *) mem_param_181198.mem)[slice_179905];
                                    bool cond_179909 = leq_arg0_179906 == leq_arg1_179898;
                                    bool defunc_0_leq_res_t_res_179910 = sle64(leq_arg0_179907, leq_arg1_179899);
                                    bool defunc_0_leq_res_179911 = sle64(leq_arg0_179908, leq_arg1_179900);
                                    bool x_179912 = cond_179909 && defunc_0_leq_res_t_res_179910;
                                    bool x_179913 = !cond_179909;
                                    bool y_179914 = defunc_0_leq_res_179911 && x_179913;
                                    bool defunc_0_leq_res_179915 = x_179912 || y_179914;
                                    
                                    cond_f_res_177407 = defunc_0_leq_res_179915;
                                } else {
                                    cond_f_res_177407 = 0;
                                }
                                cond_177405 = cond_f_res_177407;
                            }
                            
                            int64_t loopres_177432;
                            int8_t loopres_177433;
                            int64_t loopres_177434;
                            int64_t loopres_177435;
                            
                            if (cond_177405) {
                                bool x_179917 = sle64((int64_t) 0, i_177399);
                                bool y_179918 = slt64(i_177399, j_m_i_177363);
                                bool bounds_check_179919 = x_179917 && y_179918;
                                bool index_certs_179920;
                                
                                if (!bounds_check_179919) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179916 = add64((int64_t) 1, i_177399);
                                int64_t slice_179921 = defunc_0_f_res_177339 + i_177399;
                                int64_t slice_179922 = start_177116 + slice_179921;
                                int8_t tmp_179923 = ((int8_t *) mem_param_181192.mem)[slice_179922];
                                int64_t tmp_179924 = ((int64_t *) mem_param_181195.mem)[slice_179922];
                                int64_t tmp_179925 = ((int64_t *) mem_param_181198.mem)[slice_179922];
                                
                                loopres_177432 = tmp_179916;
                                loopres_177433 = tmp_179923;
                                loopres_177434 = tmp_179924;
                                loopres_177435 = tmp_179925;
                            } else {
                                bool x_177446 = sle64((int64_t) 0, j_177403);
                                bool y_177447 = slt64(j_177403, j_m_i_177350);
                                bool bounds_check_177448 = x_177446 && y_177447;
                                bool index_certs_177449;
                                
                                if (!bounds_check_177448) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177450 = merge_sequential_arg2_177348 + j_177403;
                                int64_t slice_177451 = start_177116 + slice_177450;
                                int8_t tmp_177452 = ((int8_t *) mem_param_181192.mem)[slice_177451];
                                int64_t tmp_177453 = ((int64_t *) mem_param_181195.mem)[slice_177451];
                                int64_t tmp_177454 = ((int64_t *) mem_param_181198.mem)[slice_177451];
                                
                                loopres_177432 = i_177399;
                                loopres_177433 = tmp_177452;
                                loopres_177434 = tmp_177453;
                                loopres_177435 = tmp_177454;
                            }
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177433;
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177434;
                            ((int64_t *) mem_181242)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177435;
                            
                            int64_t i_tmp_181954 = loopres_177432;
                            
                            i_177399 = i_tmp_181954;
                        }
                        data_177394 = i_177399;
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_177066, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint8_t *) mem_181236, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181238, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint64_t *) mem_181239, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181238, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint64_t *) mem_181242, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181299, "mem_181299") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181200, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181203, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181329.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181206, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181326.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181346, bytes_181199, "mem_181346")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181346.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint8_t *) mem_181200, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181350, bytes_181202, "mem_181350")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181350.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint64_t *) mem_181203, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181354, bytes_181202, "mem_181354")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181354.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint64_t *) mem_181206, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            
            bool loop_cond_177468 = slt64(next_stride_177043, flat_dim_176875);
            
            if (memblock_set(ctx, &mem_param_tmp_181921, &mem_181346, "mem_181346") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181922, &mem_181350, "mem_181350") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181923, &mem_181354, "mem_181354") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181924 = bytes_181199;
            bool loop_while_tmp_181925 = loop_cond_177468;
            int64_t stride_tmp_181929 = next_stride_177043;
            
            if (memblock_set(ctx, &mem_param_181192, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181195, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181198, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
                return 1;
            loop_dz2084Uz2082U_177037 = loop_dz2084Uz2082U_tmp_181924;
            loop_while_177038 = loop_while_tmp_181925;
            stride_177042 = stride_tmp_181929;
        }
        if (memblock_set(ctx, &ext_mem_181364, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181363, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181362, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        data_177031 = loop_dz2084Uz2082U_177037;
        data_177032 = loop_while_177038;
        data_177036 = stride_177042;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177471 = slt64(zs_lhs_176859, data_177031);
        bool y_177472 = i_p_m_t_s_leq_w_177471 && zzero_leq_i_p_m_t_s_177485;
        bool ok_or_empty_177473 = y_177472 || empty_slice_177483;
        bool index_certs_177474;
        
        if (!ok_or_empty_177473) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) data_177031, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181373, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181373.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180284.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181370.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180286.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181367.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180284, "mem_180284") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181701, &mem_180286, "mem_180286") != 0)
        return 1;
    prim_out_181702 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    if (memblock_set(ctx, &*mem_out_p_182185, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182186, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182187, &mem_out_181701, "mem_out_181701") != 0)
        return 1;
    *out_prim_out_182188 = prim_out_181702;
    
  cleanup:
    {
        free(mem_180297);
        free(mem_180299);
        free(mem_180338);
        free(mem_180341);
        free(mem_180344);
        free(mem_180357);
        free(mem_180359);
        free(mem_180361);
        free(mem_180458);
        free(mem_180461);
        free(mem_180464);
        free(mem_180478);
        free(mem_180480);
        free(mem_180494);
        free(mem_180497);
        free(mem_180500);
        free(mem_180642);
        free(mem_180644);
        free(mem_180659);
        free(mem_180661);
        free(mem_180664);
        free(mem_180667);
        free(mem_180701);
        free(mem_180704);
        free(mem_180707);
        free(mem_180720);
        free(mem_180722);
        free(mem_180724);
        free(mem_180821);
        free(mem_180824);
        free(mem_180827);
        free(mem_180841);
        free(mem_180843);
        free(mem_180857);
        free(mem_180860);
        free(mem_180863);
        free(mem_181080);
        free(mem_181083);
        free(mem_181086);
        free(mem_181099);
        free(mem_181101);
        free(mem_181103);
        free(mem_181200);
        free(mem_181203);
        free(mem_181206);
        free(mem_181220);
        free(mem_181222);
        free(mem_181236);
        free(mem_181239);
        free(mem_181242);
        if (memblock_unref(ctx, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181350, "mem_181350") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181346, "mem_181346") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181303, "mem_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180612, "mem_180612") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180608, "mem_180608") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180604, "mem_180604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180557, "mem_180557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180553, "mem_180553") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180549, "mem_180549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180563, "mem_180563") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180561, "mem_180561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180559, "mem_180559") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180456, "mem_param_180456") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180453, "mem_param_180453") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180450, "mem_param_180450") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180620, "ext_mem_180620") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180621, "ext_mem_180621") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180622, "ext_mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180316, "mem_180316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180312, "mem_180312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181023, "mem_181023") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181022, "mem_181022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180971, "mem_180971") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180967, "mem_180967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180920, "mem_180920") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180916, "mem_180916") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180912, "mem_180912") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180926, "mem_180926") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180924, "mem_180924") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180922, "mem_180922") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180819, "mem_param_180819") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180816, "mem_param_180816") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180813, "mem_param_180813") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180983, "ext_mem_180983") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180984, "ext_mem_180984") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180985, "ext_mem_180985") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180286, "mem_180286") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180284, "mem_180284") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181701, "mem_out_181701") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_182239, struct memblock *mem_out_p_182240, struct memblock *mem_out_p_182241, int64_t *out_prim_out_182242, struct memblock a_list_mem_180280, struct memblock b_list_mem_180281, int64_t na_120432, int64_t nb_120433, int64_t window_sizze_120434, int64_t threads_120435, bool inParallel_120438)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180297_cached_sizze_182243 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182244 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180338_cached_sizze_182245 = 0;
    unsigned char *mem_180338 = NULL;
    int64_t mem_180341_cached_sizze_182246 = 0;
    unsigned char *mem_180341 = NULL;
    int64_t mem_180344_cached_sizze_182247 = 0;
    unsigned char *mem_180344 = NULL;
    int64_t mem_180357_cached_sizze_182248 = 0;
    unsigned char *mem_180357 = NULL;
    int64_t mem_180359_cached_sizze_182249 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180361_cached_sizze_182250 = 0;
    unsigned char *mem_180361 = NULL;
    int64_t mem_180458_cached_sizze_182251 = 0;
    unsigned char *mem_180458 = NULL;
    int64_t mem_180461_cached_sizze_182252 = 0;
    unsigned char *mem_180461 = NULL;
    int64_t mem_180464_cached_sizze_182253 = 0;
    unsigned char *mem_180464 = NULL;
    int64_t mem_180478_cached_sizze_182254 = 0;
    unsigned char *mem_180478 = NULL;
    int64_t mem_180480_cached_sizze_182255 = 0;
    unsigned char *mem_180480 = NULL;
    int64_t mem_180494_cached_sizze_182256 = 0;
    unsigned char *mem_180494 = NULL;
    int64_t mem_180497_cached_sizze_182257 = 0;
    unsigned char *mem_180497 = NULL;
    int64_t mem_180500_cached_sizze_182258 = 0;
    unsigned char *mem_180500 = NULL;
    int64_t mem_180642_cached_sizze_182259 = 0;
    unsigned char *mem_180642 = NULL;
    int64_t mem_180644_cached_sizze_182260 = 0;
    unsigned char *mem_180644 = NULL;
    int64_t mem_180659_cached_sizze_182261 = 0;
    unsigned char *mem_180659 = NULL;
    int64_t mem_180661_cached_sizze_182262 = 0;
    unsigned char *mem_180661 = NULL;
    int64_t mem_180664_cached_sizze_182263 = 0;
    unsigned char *mem_180664 = NULL;
    int64_t mem_180667_cached_sizze_182264 = 0;
    unsigned char *mem_180667 = NULL;
    int64_t mem_180701_cached_sizze_182265 = 0;
    unsigned char *mem_180701 = NULL;
    int64_t mem_180704_cached_sizze_182266 = 0;
    unsigned char *mem_180704 = NULL;
    int64_t mem_180707_cached_sizze_182267 = 0;
    unsigned char *mem_180707 = NULL;
    int64_t mem_180720_cached_sizze_182268 = 0;
    unsigned char *mem_180720 = NULL;
    int64_t mem_180722_cached_sizze_182269 = 0;
    unsigned char *mem_180722 = NULL;
    int64_t mem_180724_cached_sizze_182270 = 0;
    unsigned char *mem_180724 = NULL;
    int64_t mem_180821_cached_sizze_182271 = 0;
    unsigned char *mem_180821 = NULL;
    int64_t mem_180824_cached_sizze_182272 = 0;
    unsigned char *mem_180824 = NULL;
    int64_t mem_180827_cached_sizze_182273 = 0;
    unsigned char *mem_180827 = NULL;
    int64_t mem_180841_cached_sizze_182274 = 0;
    unsigned char *mem_180841 = NULL;
    int64_t mem_180843_cached_sizze_182275 = 0;
    unsigned char *mem_180843 = NULL;
    int64_t mem_180857_cached_sizze_182276 = 0;
    unsigned char *mem_180857 = NULL;
    int64_t mem_180860_cached_sizze_182277 = 0;
    unsigned char *mem_180860 = NULL;
    int64_t mem_180863_cached_sizze_182278 = 0;
    unsigned char *mem_180863 = NULL;
    int64_t mem_181080_cached_sizze_182279 = 0;
    unsigned char *mem_181080 = NULL;
    int64_t mem_181083_cached_sizze_182280 = 0;
    unsigned char *mem_181083 = NULL;
    int64_t mem_181086_cached_sizze_182281 = 0;
    unsigned char *mem_181086 = NULL;
    int64_t mem_181099_cached_sizze_182282 = 0;
    unsigned char *mem_181099 = NULL;
    int64_t mem_181101_cached_sizze_182283 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181103_cached_sizze_182284 = 0;
    unsigned char *mem_181103 = NULL;
    int64_t mem_181200_cached_sizze_182285 = 0;
    unsigned char *mem_181200 = NULL;
    int64_t mem_181203_cached_sizze_182286 = 0;
    unsigned char *mem_181203 = NULL;
    int64_t mem_181206_cached_sizze_182287 = 0;
    unsigned char *mem_181206 = NULL;
    int64_t mem_181220_cached_sizze_182288 = 0;
    unsigned char *mem_181220 = NULL;
    int64_t mem_181222_cached_sizze_182289 = 0;
    unsigned char *mem_181222 = NULL;
    int64_t mem_181236_cached_sizze_182290 = 0;
    unsigned char *mem_181236 = NULL;
    int64_t mem_181239_cached_sizze_182291 = 0;
    unsigned char *mem_181239 = NULL;
    int64_t mem_181242_cached_sizze_182292 = 0;
    unsigned char *mem_181242 = NULL;
    struct memblock mem_param_tmp_181923;
    
    mem_param_tmp_181923.references = NULL;
    
    struct memblock mem_param_tmp_181922;
    
    mem_param_tmp_181922.references = NULL;
    
    struct memblock mem_param_tmp_181921;
    
    mem_param_tmp_181921.references = NULL;
    
    struct memblock mem_181354;
    
    mem_181354.references = NULL;
    
    struct memblock mem_181350;
    
    mem_181350.references = NULL;
    
    struct memblock mem_181346;
    
    mem_181346.references = NULL;
    
    struct memblock mem_181299;
    
    mem_181299.references = NULL;
    
    struct memblock mem_181295;
    
    mem_181295.references = NULL;
    
    struct memblock mem_181291;
    
    mem_181291.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181303;
    
    mem_181303.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock ext_mem_181326;
    
    ext_mem_181326.references = NULL;
    
    struct memblock ext_mem_181329;
    
    ext_mem_181329.references = NULL;
    
    struct memblock ext_mem_181332;
    
    ext_mem_181332.references = NULL;
    
    struct memblock mem_param_181198;
    
    mem_param_181198.references = NULL;
    
    struct memblock mem_param_181195;
    
    mem_param_181195.references = NULL;
    
    struct memblock mem_param_181192;
    
    mem_param_181192.references = NULL;
    
    struct memblock ext_mem_181362;
    
    ext_mem_181362.references = NULL;
    
    struct memblock ext_mem_181363;
    
    ext_mem_181363.references = NULL;
    
    struct memblock ext_mem_181364;
    
    ext_mem_181364.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181184;
    
    mem_181184.references = NULL;
    
    struct memblock mem_181180;
    
    mem_181180.references = NULL;
    
    struct memblock ext_mem_181367;
    
    ext_mem_181367.references = NULL;
    
    struct memblock ext_mem_181370;
    
    ext_mem_181370.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock mem_181078;
    
    mem_181078.references = NULL;
    
    struct memblock mem_181076;
    
    mem_181076.references = NULL;
    
    struct memblock mem_181074;
    
    mem_181074.references = NULL;
    
    struct memblock mem_param_tmp_181857;
    
    mem_param_tmp_181857.references = NULL;
    
    struct memblock mem_param_tmp_181856;
    
    mem_param_tmp_181856.references = NULL;
    
    struct memblock mem_param_tmp_181855;
    
    mem_param_tmp_181855.references = NULL;
    
    struct memblock mem_180612;
    
    mem_180612.references = NULL;
    
    struct memblock mem_180608;
    
    mem_180608.references = NULL;
    
    struct memblock mem_180604;
    
    mem_180604.references = NULL;
    
    struct memblock mem_180557;
    
    mem_180557.references = NULL;
    
    struct memblock mem_180553;
    
    mem_180553.references = NULL;
    
    struct memblock mem_180549;
    
    mem_180549.references = NULL;
    
    struct memblock mem_180563;
    
    mem_180563.references = NULL;
    
    struct memblock mem_180561;
    
    mem_180561.references = NULL;
    
    struct memblock mem_180559;
    
    mem_180559.references = NULL;
    
    struct memblock ext_mem_180584;
    
    ext_mem_180584.references = NULL;
    
    struct memblock ext_mem_180587;
    
    ext_mem_180587.references = NULL;
    
    struct memblock ext_mem_180590;
    
    ext_mem_180590.references = NULL;
    
    struct memblock mem_param_180456;
    
    mem_param_180456.references = NULL;
    
    struct memblock mem_param_180453;
    
    mem_param_180453.references = NULL;
    
    struct memblock mem_param_180450;
    
    mem_param_180450.references = NULL;
    
    struct memblock ext_mem_180620;
    
    ext_mem_180620.references = NULL;
    
    struct memblock ext_mem_180621;
    
    ext_mem_180621.references = NULL;
    
    struct memblock ext_mem_180622;
    
    ext_mem_180622.references = NULL;
    
    struct memblock mem_180446;
    
    mem_180446.references = NULL;
    
    struct memblock mem_180442;
    
    mem_180442.references = NULL;
    
    struct memblock mem_180438;
    
    mem_180438.references = NULL;
    
    struct memblock ext_mem_180625;
    
    ext_mem_180625.references = NULL;
    
    struct memblock ext_mem_180628;
    
    ext_mem_180628.references = NULL;
    
    struct memblock ext_mem_180631;
    
    ext_mem_180631.references = NULL;
    
    struct memblock mem_180336;
    
    mem_180336.references = NULL;
    
    struct memblock mem_180334;
    
    mem_180334.references = NULL;
    
    struct memblock mem_180332;
    
    mem_180332.references = NULL;
    
    struct memblock mem_180316;
    
    mem_180316.references = NULL;
    
    struct memblock mem_180314;
    
    mem_180314.references = NULL;
    
    struct memblock mem_180312;
    
    mem_180312.references = NULL;
    
    struct memblock mem_181023;
    
    mem_181023.references = NULL;
    
    struct memblock mem_181022;
    
    mem_181022.references = NULL;
    
    struct memblock mem_181020;
    
    mem_181020.references = NULL;
    
    struct memblock mem_param_tmp_181763;
    
    mem_param_tmp_181763.references = NULL;
    
    struct memblock mem_param_tmp_181762;
    
    mem_param_tmp_181762.references = NULL;
    
    struct memblock mem_param_tmp_181761;
    
    mem_param_tmp_181761.references = NULL;
    
    struct memblock mem_180975;
    
    mem_180975.references = NULL;
    
    struct memblock mem_180971;
    
    mem_180971.references = NULL;
    
    struct memblock mem_180967;
    
    mem_180967.references = NULL;
    
    struct memblock mem_180920;
    
    mem_180920.references = NULL;
    
    struct memblock mem_180916;
    
    mem_180916.references = NULL;
    
    struct memblock mem_180912;
    
    mem_180912.references = NULL;
    
    struct memblock mem_180926;
    
    mem_180926.references = NULL;
    
    struct memblock mem_180924;
    
    mem_180924.references = NULL;
    
    struct memblock mem_180922;
    
    mem_180922.references = NULL;
    
    struct memblock ext_mem_180947;
    
    ext_mem_180947.references = NULL;
    
    struct memblock ext_mem_180950;
    
    ext_mem_180950.references = NULL;
    
    struct memblock ext_mem_180953;
    
    ext_mem_180953.references = NULL;
    
    struct memblock mem_param_180819;
    
    mem_param_180819.references = NULL;
    
    struct memblock mem_param_180816;
    
    mem_param_180816.references = NULL;
    
    struct memblock mem_param_180813;
    
    mem_param_180813.references = NULL;
    
    struct memblock ext_mem_180983;
    
    ext_mem_180983.references = NULL;
    
    struct memblock ext_mem_180984;
    
    ext_mem_180984.references = NULL;
    
    struct memblock ext_mem_180985;
    
    ext_mem_180985.references = NULL;
    
    struct memblock mem_180809;
    
    mem_180809.references = NULL;
    
    struct memblock mem_180805;
    
    mem_180805.references = NULL;
    
    struct memblock mem_180801;
    
    mem_180801.references = NULL;
    
    struct memblock ext_mem_180988;
    
    ext_mem_180988.references = NULL;
    
    struct memblock ext_mem_180991;
    
    ext_mem_180991.references = NULL;
    
    struct memblock ext_mem_180994;
    
    ext_mem_180994.references = NULL;
    
    struct memblock mem_180699;
    
    mem_180699.references = NULL;
    
    struct memblock mem_180697;
    
    mem_180697.references = NULL;
    
    struct memblock mem_180695;
    
    mem_180695.references = NULL;
    
    struct memblock ext_mem_181044;
    
    ext_mem_181044.references = NULL;
    
    struct memblock ext_mem_181047;
    
    ext_mem_181047.references = NULL;
    
    struct memblock ext_mem_181050;
    
    ext_mem_181050.references = NULL;
    
    struct memblock mem_180286;
    
    mem_180286.references = NULL;
    
    struct memblock mem_180284;
    
    mem_180284.references = NULL;
    
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t prim_out_181702;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769 = add64(na_120432, nb_120433);
    
    if (memblock_alloc(ctx, &mem_180282, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181703 = 0; nest_i_181703 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181703++) {
        ((int8_t *) mem_180282.mem)[nest_i_181703] = (int8_t) -1;
    }
    
    int64_t bytes_180283 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    
    if (memblock_alloc(ctx, &mem_180284, bytes_180283, "mem_180284")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181704 = 0; nest_i_181704 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181704++) {
        ((int64_t *) mem_180284.mem)[nest_i_181704] = (int64_t) -1;
    }
    
    int64_t bytes_180285 = (int64_t) 2 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    
    if (memblock_alloc(ctx, &mem_180286, bytes_180285, "mem_180286")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181705 = 0; nest_i_181705 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769; nest_i_181705++) {
        ((int16_t *) mem_180286.mem)[nest_i_181705] = (int16_t) 0;
    }
    
    int64_t zl_rhs_174773 = sub64(na_120432, window_sizze_120434);
    bool cond_174774 = slt64((int64_t) 0, zl_rhs_174773);
    int64_t zl_rhs_174775 = sub64(nb_120433, window_sizze_120434);
    bool loop_cond_t_res_174776 = slt64((int64_t) 0, zl_rhs_174775);
    bool x_174777 = cond_174774 && loop_cond_t_res_174776;
    bool empty_slice_174778 = window_sizze_120434 == (int64_t) 0;
    int64_t m_174779 = sub64(window_sizze_120434, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804 = add64((int64_t) 1, threads_120435);
    int64_t partitionFunc_arg0_175805 = mul64((int64_t) 2, threads_120435);
    bool y_175807 = slt64((int64_t) 0, window_sizze_120434);
    bool loop_cond_176053 = slt64((int64_t) 0, threads_120435);
    bool zzero_174824 = threads_120435 == (int64_t) 0;
    bool nonzzero_174825 = !zzero_174824;
    bool loop_not_taken_177582 = !inParallel_120438;
    bool protect_assert_disj_177583 = nonzzero_174825 || loop_not_taken_177582;
    bool loop_not_taken_177672 = !x_174777;
    bool protect_assert_disj_177673 = protect_assert_disj_177583 || loop_not_taken_177672;
    bool nonzzero_cert_174826;
    
    if (!protect_assert_disj_177673) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_174827 = sdiv_safe64(window_sizze_120434, threads_120435);
    int64_t perThread_174828 = add64((int64_t) 1, zp_rhs_174827);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829 = mul64(threads_120435, perThread_174828);
    bool protect_assert_disj_177719 = inParallel_120438 || y_175807;
    bool protect_assert_disj_177723 = loop_not_taken_177672 || protect_assert_disj_177719;
    bool index_certs_175808;
    
    if (!protect_assert_disj_177723) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_175823 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, (int64_t) 1);
    bool y_176780 = slt64(threads_120435, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
    bool protect_assert_disj_177688 = y_175807 || loop_not_taken_177582;
    bool protect_assert_disj_177727 = loop_not_taken_177672 || protect_assert_disj_177688;
    bool index_certs_174832;
    
    if (!protect_assert_disj_177727) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_175825 = !bounds_invalid_upwards_175823;
    bool protect_assert_disj_177735 = inParallel_120438 || y_176780;
    bool protect_assert_disj_177737 = loop_not_taken_177672 || protect_assert_disj_177735;
    bool index_certs_176782;
    
    if (!protect_assert_disj_177737) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_120435, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177731 = y_176780 || loop_not_taken_177582;
    bool protect_assert_disj_177739 = loop_not_taken_177672 || protect_assert_disj_177731;
    bool index_certs_175786;
    
    if (!protect_assert_disj_177739) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_120435, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177747 = inParallel_120438 || valid_175825;
    bool protect_assert_disj_177749 = loop_not_taken_177672 || protect_assert_disj_177747;
    bool range_valid_c_175826;
    
    if (!protect_assert_disj_177749) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_177591 = sle64((int64_t) 1, threads_120435);
    bool protect_assert_disj_177743 = valid_175825 || loop_not_taken_177582;
    bool protect_assert_disj_177751 = loop_not_taken_177672 || protect_assert_disj_177743;
    bool range_valid_c_174839;
    
    if (!protect_assert_disj_177751) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_175828 = add64(window_sizze_120434, window_sizze_120434);
    bool zzero_175829 = partitionFunc_arg0_175805 == (int64_t) 0;
    int64_t index_concat_i_177592 = sub64(threads_120435, (int64_t) 1);
    bool nonzzero_175830 = !zzero_175829;
    bool protect_assert_disj_177759 = inParallel_120438 || nonzzero_175830;
    bool protect_assert_disj_177765 = loop_not_taken_177672 || protect_assert_disj_177759;
    bool nonzzero_cert_175831;
    
    if (!protect_assert_disj_177765) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_177755 = nonzzero_175830 || loop_not_taken_177582;
    bool protect_assert_disj_177771 = loop_not_taken_177672 || protect_assert_disj_177755;
    bool nonzzero_cert_174844;
    
    if (!protect_assert_disj_177771) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180296 = (int64_t) 8 * threads_120435;
    int64_t bytes_180313 = (int64_t) 8 * window_sizze_120434;
    int64_t bytes_180315 = (int64_t) 2 * window_sizze_120434;
    int64_t bytes_180658 = perThread_174828 * bytes_180296;
    int64_t bytes_180666 = perThread_174828 * partitionFunc_arg0_175805;
    bool defunc_0_merge_pipeline_res_174780;
    int64_t defunc_0_merge_pipeline_res_174784;
    int64_t defunc_0_merge_pipeline_res_174785;
    bool loop_while_174786;
    int64_t p_174790;
    int64_t p_174791;
    
    loop_while_174786 = x_174777;
    p_174790 = (int64_t) 0;
    p_174791 = (int64_t) 0;
    while (loop_while_174786) {
        int64_t ubs_174792 = add64(window_sizze_120434, p_174790);
        int64_t ubs_174793 = add64(window_sizze_120434, p_174791);
        int64_t ind_bottom_174794 = add64(p_174790, p_174791);
        int64_t ind_top_174795 = add64(window_sizze_120434, ind_bottom_174794);
        int64_t i_p_m_t_s_174796 = add64(m_174779, p_174790);
        bool zzero_leq_i_p_m_t_s_174797 = sle64((int64_t) 0, i_p_m_t_s_174796);
        bool i_p_m_t_s_leq_w_174798 = slt64(i_p_m_t_s_174796, na_120432);
        bool zzero_lte_i_174799 = sle64((int64_t) 0, p_174790);
        bool i_lte_j_174800 = sle64(p_174790, ubs_174792);
        bool y_174801 = i_p_m_t_s_leq_w_174798 && zzero_lte_i_174799;
        bool y_174802 = zzero_leq_i_p_m_t_s_174797 && y_174801;
        bool forwards_ok_174803 = i_lte_j_174800 && y_174802;
        bool ok_or_empty_174804 = empty_slice_174778 || forwards_ok_174803;
        bool index_certs_174805;
        
        if (!ok_or_empty_174804) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174790, ":", (long long) ubs_174792, "] out of bounds for array of shape [", (long long) na_120432, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_174807 = add64(m_174779, p_174791);
        bool zzero_leq_i_p_m_t_s_174808 = sle64((int64_t) 0, i_p_m_t_s_174807);
        bool i_p_m_t_s_leq_w_174809 = slt64(i_p_m_t_s_174807, nb_120433);
        bool zzero_lte_i_174810 = sle64((int64_t) 0, p_174791);
        bool i_lte_j_174811 = sle64(p_174791, ubs_174793);
        bool y_174812 = i_p_m_t_s_leq_w_174809 && zzero_lte_i_174810;
        bool y_174813 = zzero_leq_i_p_m_t_s_174808 && y_174812;
        bool forwards_ok_174814 = i_lte_j_174811 && y_174813;
        bool ok_or_empty_174815 = empty_slice_174778 || forwards_ok_174814;
        bool index_certs_174816;
        
        if (!ok_or_empty_174815) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_174791, ":", (long long) ubs_174793, "] out of bounds for array of shape [", (long long) nb_120433, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_176794 = add64(m_174779, ind_bottom_174794);
        bool zzero_leq_i_p_m_t_s_176795 = sle64((int64_t) 0, i_p_m_t_s_176794);
        bool i_p_m_t_s_leq_w_176796 = slt64(i_p_m_t_s_176794, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
        bool zzero_lte_i_176797 = sle64((int64_t) 0, ind_bottom_174794);
        bool i_lte_j_176798 = sle64(ind_bottom_174794, ind_top_174795);
        bool y_176799 = i_p_m_t_s_leq_w_176796 && zzero_lte_i_176797;
        bool y_176800 = zzero_leq_i_p_m_t_s_176795 && y_176799;
        bool forwards_ok_176801 = i_lte_j_176798 && y_176800;
        bool ok_or_empty_176802 = empty_slice_174778 || forwards_ok_176801;
        bool index_certs_176803;
        
        if (!ok_or_empty_176802) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_174794, ":", (long long) ind_top_174795, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_174818;
        int64_t loopres_174819;
        
        if (inParallel_120438) {
            int16_t leq_lhs_178252 = ((int16_t *) a_list_mem_180280.mem)[p_174790];
            int16_t leq_rhs_178253 = ((int16_t *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_178254 = sle16(leq_lhs_178252, leq_rhs_178253);
            int16_t lowest_178255;
            
            if (defunc_0_leq_res_178254) {
                lowest_178255 = leq_lhs_178252;
            } else {
                lowest_178255 = leq_rhs_178253;
            }
            if (mem_180642_cached_sizze_182259 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180642, &mem_180642_cached_sizze_182259, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180644_cached_sizze_182260 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180644, &mem_180644_cached_sizze_182260, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_179944 = 0; i_179944 < threads_120435; i_179944++) {
                int64_t index_primexp_180216 = add64((int64_t) 1, i_179944);
                int64_t zs_lhs_178260 = mul64(zt_rhs_175828, index_primexp_180216);
                int64_t index_178261 = sdiv64(zs_lhs_178260, partitionFunc_arg0_175805);
                bool cond_178262 = slt64(window_sizze_120434, index_178261);
                int64_t loop_over_178263;
                
                if (cond_178262) {
                    loop_over_178263 = window_sizze_120434;
                } else {
                    loop_over_178263 = index_178261;
                }
                
                int64_t loop_over_178264;
                
                if (cond_178262) {
                    int64_t loop_over_t_res_178265 = sub64(index_178261, window_sizze_120434);
                    
                    loop_over_178264 = loop_over_t_res_178265;
                } else {
                    loop_over_178264 = (int64_t) 0;
                }
                
                int64_t loop_over_178266;
                
                if (cond_178262) {
                    int64_t zm_lhs_178267 = sub64(index_178261, window_sizze_120434);
                    int64_t loop_over_t_res_178268 = sub64(zm_lhs_178267, (int64_t) 1);
                    
                    loop_over_178266 = loop_over_t_res_178268;
                } else {
                    loop_over_178266 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_178269;
                int64_t defunc_0_f_res_178270;
                int64_t defunc_0_f_res_178271;
                int64_t defunc_0_f_res_178272;
                bool loop_while_178273;
                int64_t p_178274;
                int64_t p_178275;
                int64_t p_178276;
                
                loop_while_178273 = 1;
                p_178274 = loop_over_178266;
                p_178275 = loop_over_178263;
                p_178276 = loop_over_178264;
                while (loop_while_178273) {
                    int64_t zs_lhs_178277 = sub64(p_178275, p_178274);
                    int64_t offset_178278 = sdiv64(zs_lhs_178277, (int64_t) 2);
                    int64_t ai_178279 = sub64(p_178275, offset_178278);
                    int64_t max_arg1_178280 = add64(p_178276, offset_178278);
                    int64_t max_res_178281 = smax64((int64_t) 0, max_arg1_178280);
                    bool cond_178282 = slt64((int64_t) 0, max_res_178281);
                    int16_t b_prev_178283;
                    
                    if (cond_178282) {
                        int64_t tmp_178284 = sub64(max_res_178281, (int64_t) 1);
                        bool x_178285 = sle64((int64_t) 0, tmp_178284);
                        bool y_178286 = slt64(tmp_178284, window_sizze_120434);
                        bool bounds_check_178287 = x_178285 && y_178286;
                        bool index_certs_178288;
                        
                        if (!bounds_check_178287) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178284, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_178289 = p_174791 + tmp_178284;
                        int16_t b_prev_t_res_178290 = ((int16_t *) b_list_mem_180281.mem)[slice_178289];
                        
                        b_prev_178283 = b_prev_t_res_178290;
                    } else {
                        b_prev_178283 = lowest_178255;
                    }
                    
                    bool cond_178291 = sle64(ai_178279, (int64_t) 0);
                    int64_t loopres_178292;
                    int64_t loopres_178293;
                    int64_t loopres_178294;
                    bool loopres_178295;
                    
                    if (cond_178291) {
                        loopres_178292 = p_178274;
                        loopres_178293 = (int64_t) 0;
                        loopres_178294 = max_res_178281;
                        loopres_178295 = 0;
                    } else {
                        bool cond_178296 = sle64(window_sizze_120434, max_res_178281);
                        int64_t loopres_f_res_178297;
                        int64_t loopres_f_res_178298;
                        int64_t loopres_f_res_178299;
                        bool loopres_f_res_178300;
                        
                        if (cond_178296) {
                            int64_t min_res_178302 = smin64(m_174779, ai_178279);
                            bool x_178303 = sle64((int64_t) 0, m_174779);
                            bool y_178304 = slt64(m_174779, window_sizze_120434);
                            bool bounds_check_178305 = x_178303 && y_178304;
                            bool index_certs_178306;
                            
                            if (!bounds_check_178305) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_178309 = sle64((int64_t) 0, min_res_178302);
                            bool y_178310 = slt64(min_res_178302, window_sizze_120434);
                            bool bounds_check_178311 = x_178309 && y_178310;
                            bool index_certs_178312;
                            
                            if (!bounds_check_178311) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178302, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_178308 = ((int16_t *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_178313 = p_174790 + min_res_178302;
                            int16_t leq_rhs_178314 = ((int16_t *) a_list_mem_180280.mem)[slice_178313];
                            bool defunc_0_leq_res_178315 = sle16(leq_lhs_178308, leq_rhs_178314);
                            int64_t loopres_f_res_t_res_178316;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178316 = ai_178279;
                            } else {
                                loopres_f_res_t_res_178316 = p_178275;
                            }
                            
                            bool x_178317 = !defunc_0_leq_res_178315;
                            int64_t loopres_f_res_t_res_178318;
                            
                            if (defunc_0_leq_res_178315) {
                                loopres_f_res_t_res_178318 = window_sizze_120434;
                            } else {
                                int64_t tmp_178319 = sub64(m_174779, offset_178278);
                                
                                loopres_f_res_t_res_178318 = tmp_178319;
                            }
                            loopres_f_res_178297 = p_178274;
                            loopres_f_res_178298 = loopres_f_res_t_res_178316;
                            loopres_f_res_178299 = loopres_f_res_t_res_178318;
                            loopres_f_res_178300 = x_178317;
                        } else {
                            bool cond_178320 = sle64(window_sizze_120434, ai_178279);
                            int64_t loopres_f_res_f_res_178321;
                            int64_t loopres_f_res_f_res_178322;
                            int64_t loopres_f_res_f_res_178323;
                            bool loopres_f_res_f_res_178324;
                            
                            if (cond_178320) {
                                int64_t min_res_178326 = smin64(m_174779, max_res_178281);
                                bool x_178327 = sle64((int64_t) 0, m_174779);
                                bool y_178328 = slt64(m_174779, window_sizze_120434);
                                bool bounds_check_178329 = x_178327 && y_178328;
                                bool index_certs_178330;
                                
                                if (!bounds_check_178329) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178333 = sle64((int64_t) 0, min_res_178326);
                                bool y_178334 = slt64(min_res_178326, window_sizze_120434);
                                bool bounds_check_178335 = x_178333 && y_178334;
                                bool index_certs_178336;
                                
                                if (!bounds_check_178335) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_178326, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_178332 = ((int16_t *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_178337 = p_174791 + min_res_178326;
                                int16_t leq_rhs_178338 = ((int16_t *) b_list_mem_180281.mem)[slice_178337];
                                bool defunc_0_leq_res_178339 = sle16(leq_lhs_178332, leq_rhs_178338);
                                int64_t loopres_f_res_f_res_t_res_178340;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178340 = max_res_178281;
                                } else {
                                    loopres_f_res_f_res_t_res_178340 = p_178276;
                                }
                                
                                bool x_178341 = !defunc_0_leq_res_178339;
                                int64_t loopres_f_res_f_res_t_res_178342;
                                
                                if (defunc_0_leq_res_178339) {
                                    loopres_f_res_f_res_t_res_178342 = window_sizze_120434;
                                } else {
                                    loopres_f_res_f_res_t_res_178342 = m_174779;
                                }
                                loopres_f_res_f_res_178321 = p_178274;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_t_res_178342;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_t_res_178340;
                                loopres_f_res_f_res_178324 = x_178341;
                            } else {
                                bool cond_178343 = sle64(p_178275, p_178274);
                                int64_t loopres_f_res_f_res_f_res_178344;
                                int64_t loopres_f_res_f_res_f_res_178345;
                                int64_t loopres_f_res_f_res_f_res_178346;
                                bool loopres_f_res_f_res_f_res_178347;
                                
                                if (cond_178343) {
                                    bool cond_178348 = slt64(ai_178279, window_sizze_120434);
                                    int64_t ai_178349;
                                    
                                    if (cond_178348) {
                                        ai_178349 = ai_178279;
                                    } else {
                                        ai_178349 = m_174779;
                                    }
                                    
                                    bool x_178362 = sle64((int64_t) 0, ai_178349);
                                    bool y_178363 = slt64(ai_178349, window_sizze_120434);
                                    bool bounds_check_178364 = x_178362 && y_178363;
                                    bool index_certs_178365;
                                    
                                    if (!bounds_check_178364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178349, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_178351;
                                    
                                    if (cond_178282) {
                                        int64_t tmp_178352 = sub64(max_res_178281, (int64_t) 1);
                                        bool x_178353 = sle64((int64_t) 0, tmp_178352);
                                        bool y_178354 = slt64(tmp_178352, window_sizze_120434);
                                        bool bounds_check_178355 = x_178353 && y_178354;
                                        bool index_certs_178356;
                                        
                                        if (!bounds_check_178355) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178352, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178357 = p_174791 + tmp_178352;
                                        int16_t b_prev_t_res_178358 = ((int16_t *) b_list_mem_180281.mem)[slice_178357];
                                        
                                        b_prev_178351 = b_prev_t_res_178358;
                                    } else {
                                        bool index_certs_178360;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_178351 = leq_rhs_178253;
                                    }
                                    
                                    int64_t slice_178366 = p_174790 + ai_178349;
                                    int16_t gt_lhs_178367 = ((int16_t *) a_list_mem_180280.mem)[slice_178366];
                                    bool defunc_0_gt_res_178368 = slt16(b_prev_178351, gt_lhs_178367);
                                    int64_t defunc_0_partFunc_sequential_search_res_178369;
                                    int64_t defunc_0_partFunc_sequential_search_res_178370;
                                    
                                    if (defunc_0_gt_res_178368) {
                                        int64_t zl_rhs_178371 = sub64(window_sizze_120434, max_res_178281);
                                        bool loop_cond_178372 = slt64((int64_t) 0, zl_rhs_178371);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_178373;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178375;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_178376;
                                        bool loop_while_178377;
                                        int64_t p_178378;
                                        int64_t p_178379;
                                        int64_t p_178380;
                                        
                                        loop_while_178377 = loop_cond_178372;
                                        p_178378 = ai_178349;
                                        p_178379 = max_res_178281;
                                        p_178380 = (int64_t) 0;
                                        while (loop_while_178377) {
                                            int64_t i_a_178381 = sub64(ai_178349, p_178380);
                                            int64_t i_b_178382 = add64(max_res_178281, p_178380);
                                            int64_t leq_lhs_178383 = sub64(i_a_178381, (int64_t) 1);
                                            bool x_178384 = sle64((int64_t) 0, leq_lhs_178383);
                                            bool y_178385 = slt64(leq_lhs_178383, window_sizze_120434);
                                            bool bounds_check_178386 = x_178384 && y_178385;
                                            bool index_certs_178387;
                                            
                                            if (!bounds_check_178386) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178383, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178390 = sle64((int64_t) 0, i_b_178382);
                                            bool y_178391 = slt64(i_b_178382, window_sizze_120434);
                                            bool bounds_check_178392 = x_178390 && y_178391;
                                            bool index_certs_178393;
                                            
                                            if (!bounds_check_178392) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178382, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178388 = p_174790 + leq_lhs_178383;
                                            int16_t leq_lhs_178389 = ((int16_t *) a_list_mem_180280.mem)[slice_178388];
                                            int64_t slice_178394 = p_174791 + i_b_178382;
                                            int16_t leq_rhs_178395 = ((int16_t *) b_list_mem_180281.mem)[slice_178394];
                                            bool defunc_0_leq_res_178396 = sle16(leq_lhs_178389, leq_rhs_178395);
                                            int64_t loopres_178397;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178397 = i_a_178381;
                                            } else {
                                                loopres_178397 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178398;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178398 = i_b_178382;
                                            } else {
                                                loopres_178398 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178399;
                                            
                                            if (defunc_0_leq_res_178396) {
                                                loopres_178399 = zl_rhs_178371;
                                            } else {
                                                int64_t tmp_178400 = add64((int64_t) 1, p_178380);
                                                
                                                loopres_178399 = tmp_178400;
                                            }
                                            
                                            bool loop_cond_178401 = slt64(loopres_178399, zl_rhs_178371);
                                            bool loop_while_tmp_181718 = loop_cond_178401;
                                            int64_t p_tmp_181719 = loopres_178397;
                                            int64_t p_tmp_181720 = loopres_178398;
                                            int64_t p_tmp_181721 = loopres_178399;
                                            
                                            loop_while_178377 = loop_while_tmp_181718;
                                            p_178378 = p_tmp_181719;
                                            p_178379 = p_tmp_181720;
                                            p_178380 = p_tmp_181721;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_178373 = loop_while_178377;
                                        defunc_0_partFunc_sequential_search_res_t_res_178374 = p_178378;
                                        defunc_0_partFunc_sequential_search_res_t_res_178375 = p_178379;
                                        defunc_0_partFunc_sequential_search_res_t_res_178376 = p_178380;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_t_res_178374;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_t_res_178375;
                                    } else {
                                        int64_t zl_rhs_178402 = sub64(max_res_178281, (int64_t) 1);
                                        bool loop_cond_178403 = slt64((int64_t) 0, zl_rhs_178402);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_178404;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178406;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_178407;
                                        bool loop_while_178408;
                                        int64_t p_178409;
                                        int64_t p_178410;
                                        int64_t p_178411;
                                        
                                        loop_while_178408 = loop_cond_178403;
                                        p_178409 = ai_178349;
                                        p_178410 = max_res_178281;
                                        p_178411 = (int64_t) 0;
                                        while (loop_while_178408) {
                                            int64_t zp_lhs_178412 = add64(ai_178349, p_178411);
                                            int64_t hi_a_178413 = add64((int64_t) 1, zp_lhs_178412);
                                            bool cond_178414 = slt64(hi_a_178413, window_sizze_120434);
                                            int64_t i_a_178415;
                                            
                                            if (cond_178414) {
                                                i_a_178415 = hi_a_178413;
                                            } else {
                                                i_a_178415 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_178417 = sub64(max_res_178281, p_178411);
                                            int64_t i_b_178418 = sub64(zm_lhs_178417, (int64_t) 1);
                                            bool x_178419 = sle64((int64_t) 0, i_a_178415);
                                            bool y_178420 = slt64(i_a_178415, window_sizze_120434);
                                            bool bounds_check_178421 = x_178419 && y_178420;
                                            bool index_certs_178422;
                                            
                                            if (!bounds_check_178421) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_178415, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178425 = sle64((int64_t) 0, i_b_178418);
                                            bool y_178426 = slt64(i_b_178418, window_sizze_120434);
                                            bool bounds_check_178427 = x_178425 && y_178426;
                                            bool index_certs_178428;
                                            
                                            if (!bounds_check_178427) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_178418, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178423 = p_174790 + i_a_178415;
                                            int16_t gt_lhs_178424 = ((int16_t *) a_list_mem_180280.mem)[slice_178423];
                                            int64_t slice_178429 = p_174791 + i_b_178418;
                                            int16_t gt_rhs_178430 = ((int16_t *) b_list_mem_180281.mem)[slice_178429];
                                            bool defunc_0_gt_res_178431 = slt16(gt_rhs_178430, gt_lhs_178424);
                                            int64_t loopres_178432;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178432 = i_a_178415;
                                            } else {
                                                loopres_178432 = ai_178349;
                                            }
                                            
                                            int64_t loopres_178433;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178433 = zm_lhs_178417;
                                            } else {
                                                loopres_178433 = max_res_178281;
                                            }
                                            
                                            int64_t loopres_178434;
                                            
                                            if (defunc_0_gt_res_178431) {
                                                loopres_178434 = zl_rhs_178402;
                                            } else {
                                                int64_t tmp_178435 = add64((int64_t) 1, p_178411);
                                                
                                                loopres_178434 = tmp_178435;
                                            }
                                            
                                            bool loop_cond_178436 = slt64(loopres_178434, zl_rhs_178402);
                                            bool loop_while_tmp_181722 = loop_cond_178436;
                                            int64_t p_tmp_181723 = loopres_178432;
                                            int64_t p_tmp_181724 = loopres_178433;
                                            int64_t p_tmp_181725 = loopres_178434;
                                            
                                            loop_while_178408 = loop_while_tmp_181722;
                                            p_178409 = p_tmp_181723;
                                            p_178410 = p_tmp_181724;
                                            p_178411 = p_tmp_181725;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_178404 = loop_while_178408;
                                        defunc_0_partFunc_sequential_search_res_f_res_178405 = p_178409;
                                        defunc_0_partFunc_sequential_search_res_f_res_178406 = p_178410;
                                        defunc_0_partFunc_sequential_search_res_f_res_178407 = p_178411;
                                        defunc_0_partFunc_sequential_search_res_178369 = defunc_0_partFunc_sequential_search_res_f_res_178405;
                                        defunc_0_partFunc_sequential_search_res_178370 = defunc_0_partFunc_sequential_search_res_f_res_178406;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = p_178274;
                                    loopres_f_res_f_res_f_res_178345 = defunc_0_partFunc_sequential_search_res_178369;
                                    loopres_f_res_f_res_f_res_178346 = defunc_0_partFunc_sequential_search_res_178370;
                                    loopres_f_res_f_res_f_res_178347 = 0;
                                } else {
                                    bool x_178437 = sle64((int64_t) 0, ai_178279);
                                    bool y_178438 = slt64(ai_178279, window_sizze_120434);
                                    bool bounds_check_178439 = x_178437 && y_178438;
                                    bool index_certs_178440;
                                    
                                    if (!bounds_check_178439) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_178279, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178441 = p_174790 + ai_178279;
                                    int16_t gt_lhs_178442 = ((int16_t *) a_list_mem_180280.mem)[slice_178441];
                                    bool defunc_0_gt_res_178443 = slt16(b_prev_178283, gt_lhs_178442);
                                    int64_t loopres_f_res_f_res_f_res_f_res_178444;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178445;
                                    int64_t loopres_f_res_f_res_f_res_f_res_178446;
                                    bool loopres_f_res_f_res_f_res_f_res_178447;
                                    
                                    if (defunc_0_gt_res_178443) {
                                        int64_t leq_lhs_178448 = sub64(ai_178279, (int64_t) 1);
                                        bool x_178449 = sle64((int64_t) 0, leq_lhs_178448);
                                        bool y_178450 = slt64(leq_lhs_178448, window_sizze_120434);
                                        bool bounds_check_178451 = x_178449 && y_178450;
                                        bool index_certs_178452;
                                        
                                        if (!bounds_check_178451) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_178448, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178455 = sle64((int64_t) 0, max_res_178281);
                                        bool y_178456 = slt64(max_res_178281, window_sizze_120434);
                                        bool bounds_check_178457 = x_178455 && y_178456;
                                        bool index_certs_178458;
                                        
                                        if (!bounds_check_178457) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_178281, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178453 = p_174790 + leq_lhs_178448;
                                        int16_t leq_lhs_178454 = ((int16_t *) a_list_mem_180280.mem)[slice_178453];
                                        int64_t slice_178459 = p_174791 + max_res_178281;
                                        int16_t leq_rhs_178460 = ((int16_t *) b_list_mem_180281.mem)[slice_178459];
                                        bool defunc_0_leq_res_178461 = sle16(leq_lhs_178454, leq_rhs_178460);
                                        bool x_178462 = !defunc_0_leq_res_178461;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = ai_178279;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178463 = leq_lhs_178448;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        
                                        if (defunc_0_leq_res_178461) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = max_res_178281;
                                        } else {
                                            int64_t tmp_178465 = add64((int64_t) 1, max_res_178281);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_178464 = tmp_178465;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_178444 = p_178274;
                                        loopres_f_res_f_res_f_res_f_res_178445 = loopres_f_res_f_res_f_res_f_res_t_res_178463;
                                        loopres_f_res_f_res_f_res_f_res_178446 = loopres_f_res_f_res_f_res_f_res_t_res_178464;
                                        loopres_f_res_f_res_f_res_f_res_178447 = x_178462;
                                    } else {
                                        int64_t tmp_178466 = add64((int64_t) 1, ai_178279);
                                        
                                        loopres_f_res_f_res_f_res_f_res_178444 = tmp_178466;
                                        loopres_f_res_f_res_f_res_f_res_178445 = p_178275;
                                        loopres_f_res_f_res_f_res_f_res_178446 = p_178276;
                                        loopres_f_res_f_res_f_res_f_res_178447 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_178344 = loopres_f_res_f_res_f_res_f_res_178444;
                                    loopres_f_res_f_res_f_res_178345 = loopres_f_res_f_res_f_res_f_res_178445;
                                    loopres_f_res_f_res_f_res_178346 = loopres_f_res_f_res_f_res_f_res_178446;
                                    loopres_f_res_f_res_f_res_178347 = loopres_f_res_f_res_f_res_f_res_178447;
                                }
                                loopres_f_res_f_res_178321 = loopres_f_res_f_res_f_res_178344;
                                loopres_f_res_f_res_178322 = loopres_f_res_f_res_f_res_178345;
                                loopres_f_res_f_res_178323 = loopres_f_res_f_res_f_res_178346;
                                loopres_f_res_f_res_178324 = loopres_f_res_f_res_f_res_178347;
                            }
                            loopres_f_res_178297 = loopres_f_res_f_res_178321;
                            loopres_f_res_178298 = loopres_f_res_f_res_178322;
                            loopres_f_res_178299 = loopres_f_res_f_res_178323;
                            loopres_f_res_178300 = loopres_f_res_f_res_178324;
                        }
                        loopres_178292 = loopres_f_res_178297;
                        loopres_178293 = loopres_f_res_178298;
                        loopres_178294 = loopres_f_res_178299;
                        loopres_178295 = loopres_f_res_178300;
                    }
                    
                    bool loop_while_tmp_181714 = loopres_178295;
                    int64_t p_tmp_181715 = loopres_178292;
                    int64_t p_tmp_181716 = loopres_178293;
                    int64_t p_tmp_181717 = loopres_178294;
                    
                    loop_while_178273 = loop_while_tmp_181714;
                    p_178274 = p_tmp_181715;
                    p_178275 = p_tmp_181716;
                    p_178276 = p_tmp_181717;
                }
                defunc_0_f_res_178269 = loop_while_178273;
                defunc_0_f_res_178270 = p_178274;
                defunc_0_f_res_178271 = p_178275;
                defunc_0_f_res_178272 = p_178276;
                ((int64_t *) mem_180642)[i_179944] = defunc_0_f_res_178271;
                ((int64_t *) mem_180644)[i_179944] = defunc_0_f_res_178272;
            }
            if (mem_180659_cached_sizze_182261 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180659, &mem_180659_cached_sizze_182261, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180661_cached_sizze_182262 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829) {
                err = lexical_realloc(ctx, &mem_180661, &mem_180661_cached_sizze_182262, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180664_cached_sizze_182263 < bytes_180658) {
                err = lexical_realloc(ctx, &mem_180664, &mem_180664_cached_sizze_182263, bytes_180658);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180667_cached_sizze_182264 < bytes_180666) {
                err = lexical_realloc(ctx, &mem_180667, &mem_180667_cached_sizze_182264, bytes_180666);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180010 = 0; i_180010 < threads_120435; i_180010++) {
                bool y_178480 = slt64(i_180010, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool index_certs_178482;
                
                if (!y_178480) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180010, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178483 = sle64((int64_t) 1, i_180010);
                int64_t index_concat_i_178484 = sub64(i_180010, (int64_t) 1);
                int64_t index_concat_178485;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178486 = ((int64_t *) mem_180642)[index_concat_i_178484];
                    
                    index_concat_178485 = x_178486;
                } else {
                    index_concat_178485 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178487;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178487 = index_concat_178485;
                } else {
                    index_concat_branch_178487 = (int64_t) 0;
                }
                
                int64_t index_concat_178488;
                
                if (index_concat_cmp_178483) {
                    int64_t x_178489 = ((int64_t *) mem_180644)[index_concat_i_178484];
                    
                    index_concat_178488 = x_178489;
                } else {
                    index_concat_178488 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178490;
                
                if (index_concat_cmp_178483) {
                    index_concat_branch_178490 = index_concat_178488;
                } else {
                    index_concat_branch_178490 = (int64_t) 0;
                }
                
                int64_t ubs_178491 = add64((int64_t) 1, i_180010);
                bool x_178492 = sle64((int64_t) 0, ubs_178491);
                bool y_178493 = slt64(ubs_178491, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_178494 = x_178492 && y_178493;
                bool index_certs_178495;
                
                if (!bounds_check_178494) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_178491, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178496 = sle64((int64_t) 1, ubs_178491);
                int64_t index_concat_178497;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178498 = ((int64_t *) mem_180642)[i_180010];
                    
                    index_concat_178497 = x_178498;
                } else {
                    index_concat_178497 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178499;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178499 = index_concat_178497;
                } else {
                    index_concat_branch_178499 = (int64_t) 0;
                }
                
                int64_t index_concat_178500;
                
                if (index_concat_cmp_178496) {
                    int64_t x_178501 = ((int64_t *) mem_180644)[i_180010];
                    
                    index_concat_178500 = x_178501;
                } else {
                    index_concat_178500 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178502;
                
                if (index_concat_cmp_178496) {
                    index_concat_branch_178502 = index_concat_178500;
                } else {
                    index_concat_branch_178502 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 = sub64(index_concat_branch_178502, index_concat_branch_178490);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 = sub64(index_concat_branch_178499, index_concat_branch_178487);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t zm_lhs_178506 = add64(index_concat_branch_178499, index_concat_branch_178502);
                int64_t zm_rhs_178507 = add64(index_concat_branch_178487, index_concat_branch_178490);
                int64_t card_178508 = sub64(zm_lhs_178506, zm_rhs_178507);
                bool empty_slice_178509 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 == (int64_t) 0;
                int64_t m_178510 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 1);
                int64_t i_p_m_t_s_178511 = add64(index_concat_branch_178487, m_178510);
                bool zzero_leq_i_p_m_t_s_178512 = sle64((int64_t) 0, i_p_m_t_s_178511);
                bool i_p_m_t_s_leq_w_178513 = slt64(i_p_m_t_s_178511, window_sizze_120434);
                bool zzero_lte_i_178514 = sle64((int64_t) 0, index_concat_branch_178487);
                bool i_lte_j_178515 = sle64(index_concat_branch_178487, index_concat_branch_178499);
                bool y_178516 = i_p_m_t_s_leq_w_178513 && zzero_lte_i_178514;
                bool y_178517 = zzero_leq_i_p_m_t_s_178512 && y_178516;
                bool forwards_ok_178518 = i_lte_j_178515 && y_178517;
                bool ok_or_empty_178519 = empty_slice_178509 || forwards_ok_178518;
                bool index_certs_178520;
                
                if (!ok_or_empty_178519) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178487, ":", (long long) index_concat_branch_178499, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178521 = slt64(index_concat_branch_178499, index_concat_branch_178487);
                bool valid_178522 = !bounds_invalid_upwards_178521;
                bool range_valid_c_178523;
                
                if (!valid_178522) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178487, "..<", (long long) index_concat_branch_178499, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_178528 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503 == (int64_t) 0;
                int64_t m_178529 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503, (int64_t) 1);
                int64_t i_p_m_t_s_178530 = add64(index_concat_branch_178490, m_178529);
                bool zzero_leq_i_p_m_t_s_178531 = sle64((int64_t) 0, i_p_m_t_s_178530);
                bool i_p_m_t_s_leq_w_178532 = slt64(i_p_m_t_s_178530, window_sizze_120434);
                bool zzero_lte_i_178533 = sle64((int64_t) 0, index_concat_branch_178490);
                bool i_lte_j_178534 = sle64(index_concat_branch_178490, index_concat_branch_178502);
                bool y_178535 = i_p_m_t_s_leq_w_178532 && zzero_lte_i_178533;
                bool y_178536 = zzero_leq_i_p_m_t_s_178531 && y_178535;
                bool forwards_ok_178537 = i_lte_j_178534 && y_178536;
                bool ok_or_empty_178538 = empty_slice_178528 || forwards_ok_178537;
                bool index_certs_178539;
                
                if (!ok_or_empty_178538) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178490, ":", (long long) index_concat_branch_178502, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178540 = slt64(index_concat_branch_178502, index_concat_branch_178490);
                bool valid_178541 = !bounds_invalid_upwards_178540;
                bool range_valid_c_178542;
                
                if (!valid_178541) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178490, "..<", (long long) index_concat_branch_178502, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180696 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                int64_t bytes_180698 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool cond_178550 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zs_lhs_178551 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, (int64_t) 1);
                int64_t zp_rhs_178552 = sdiv_safe64(zs_lhs_178551, (int64_t) 20);
                int64_t min_num_blocks_178553 = add64((int64_t) 1, zp_rhs_178552);
                bool loop_cond_178554 = slt64((int64_t) 1, min_num_blocks_178553);
                bool smallest_pow_2_geq_than_res_178555;
                int64_t smallest_pow_2_geq_than_res_178556;
                bool loop_while_178557;
                int64_t x_178558;
                
                loop_while_178557 = loop_cond_178554;
                x_178558 = (int64_t) 1;
                while (loop_while_178557) {
                    int64_t loopres_178559 = mul64((int64_t) 2, x_178558);
                    bool loop_cond_178560 = slt64(loopres_178559, min_num_blocks_178553);
                    bool loop_while_tmp_181730 = loop_cond_178560;
                    int64_t x_tmp_181731 = loopres_178559;
                    
                    loop_while_178557 = loop_while_tmp_181730;
                    x_178558 = x_tmp_181731;
                }
                smallest_pow_2_geq_than_res_178555 = loop_while_178557;
                smallest_pow_2_geq_than_res_178556 = x_178558;
                
                bool zzero_178561 = smallest_pow_2_geq_than_res_178556 == (int64_t) 0;
                bool nonzzero_178562 = !zzero_178561;
                bool protect_assert_disj_178563 = cond_178550 || nonzzero_178562;
                bool nonzzero_cert_178564;
                
                if (!protect_assert_disj_178563) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_178565 = sdiv_safe64(zs_lhs_178551, smallest_pow_2_geq_than_res_178556);
                int64_t block_sizze_178566 = add64((int64_t) 1, zp_rhs_178565);
                bool y_178573 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                bool protect_assert_disj_181442 = cond_178550 || y_178573;
                bool index_certs_178574;
                
                if (!protect_assert_disj_181442) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178611 = slt64(smallest_pow_2_geq_than_res_178556, (int64_t) 0);
                bool valid_178612 = !bounds_invalid_upwards_178611;
                bool protect_assert_disj_181452 = cond_178550 || valid_178612;
                bool range_valid_c_178613;
                
                if (!protect_assert_disj_181452) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_178556, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_178615 = slt64(block_sizze_178566, (int64_t) 0);
                bool valid_178616 = !bounds_invalid_upwards_178615;
                bool protect_assert_disj_181454 = cond_178550 || valid_178616;
                bool range_valid_c_178617;
                
                if (!protect_assert_disj_181454) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_178566, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_178619 = sle64(block_sizze_178566, (int64_t) 1);
                int64_t tmp_178620 = sub64(block_sizze_178566, (int64_t) 2);
                bool bounds_invalid_upwards_178621 = slt64(tmp_178620, (int64_t) 0);
                bool valid_178623 = !bounds_invalid_upwards_178621;
                bool protect_assert_disj_178624 = cond_178619 || valid_178623;
                bool protect_assert_disj_181456 = cond_178550 || protect_assert_disj_178624;
                bool range_valid_c_178625;
                
                if (!protect_assert_disj_181456) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_178620, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179205 = card_178508 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505;
                bool empty_or_match_cert_179206;
                
                if (!dim_match_179205) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] cannot match shape of type `[", (long long) card_178508, "](i8, i64, i16)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179207 = card_178508 == (int64_t) 0;
                int64_t m_179208 = sub64(card_178508, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179209 = sle64((int64_t) 0, m_179208);
                bool i_p_m_t_s_leq_w_179210 = slt64(m_179208, card_178508);
                bool y_179211 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179210;
                bool ok_or_empty_179212 = empty_slice_179207 || y_179211;
                bool index_certs_179213;
                
                if (!ok_or_empty_179212) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) card_178508, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179214 = slt64(m_179208, perThread_174828);
                bool y_179215 = zzero_leq_i_p_m_t_s_179209 && i_p_m_t_s_leq_w_179214;
                bool ok_or_empty_179216 = empty_slice_179207 || y_179215;
                bool index_certs_179217;
                
                if (!ok_or_empty_179216) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_181732 = 0; nest_i_181732 < perThread_174828; nest_i_181732++) {
                    ((int8_t *) mem_180661)[i_180010 * perThread_174828 + nest_i_181732] = (int8_t) -1;
                }
                for (int64_t nest_i_181733 = 0; nest_i_181733 < perThread_174828; nest_i_181733++) {
                    ((int64_t *) mem_180664)[i_180010 * perThread_174828 + nest_i_181733] = (int64_t) -1;
                }
                for (int64_t nest_i_181734 = 0; nest_i_181734 < perThread_174828; nest_i_181734++) {
                    ((int16_t *) mem_180667)[i_180010 * perThread_174828 + nest_i_181734] = (int16_t) 0;
                }
                
                int64_t slice_178524 = p_174790 + index_concat_branch_178487;
                
                if (memblock_alloc(ctx, &mem_180695, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "mem_180695")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181735 = 0; nest_i_181735 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; nest_i_181735++) {
                    ((int8_t *) mem_180695.mem)[nest_i_181735] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180697, bytes_180696, "mem_180697")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181736 = 0; i_181736 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504; i_181736++) {
                    int64_t x_181737 = index_concat_branch_178487 + i_181736 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[i_181736] = x_181737;
                }
                
                int64_t slice_178543 = p_174791 + index_concat_branch_178490;
                
                for (int64_t nest_i_181738 = 0; nest_i_181738 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; nest_i_181738++) {
                    ((int8_t *) mem_180695.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + nest_i_181738] = (int8_t) 1;
                }
                for (int64_t i_181739 = 0; i_181739 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503; i_181739++) {
                    int64_t x_181740 = index_concat_branch_178490 + i_181739 * (int64_t) 1;
                    
                    ((int64_t *) mem_180697.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504 + i_181739] = x_181740;
                }
                
                int64_t tmp_offs_181741 = (int64_t) 0;
                
                if (!(tmp_offs_181741 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181741 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180695.mem, tmp_offs_181741, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180695.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181741 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t tmp_offs_181742 = (int64_t) 0;
                
                if (!(tmp_offs_181742 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                if (!(tmp_offs_181742 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180697.mem, tmp_offs_181742, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180697.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                }
                tmp_offs_181742 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                if (memblock_alloc(ctx, &mem_180699, bytes_180698, "mem_180699")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181743 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_180280.mem, slice_178524, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180699.mem, tmp_offs_181743, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_180281.mem, slice_178543, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503});
                tmp_offs_181743 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_178503;
                
                int64_t flat_dim_178567 = smallest_pow_2_geq_than_res_178556 * block_sizze_178566;
                bool x_181437 = !cond_178550;
                int64_t greatest_divisor_leq_than_arg1_178571 = mul64((int64_t) 2, block_sizze_178566);
                int64_t merge_block_sizze_178572;
                
                if (x_181437) {
                    int64_t x_181439;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181439, (int64_t) 8, greatest_divisor_leq_than_arg1_178571) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_178572 = x_181439;
                } else {
                    merge_block_sizze_178572 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178575 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, (int64_t) 0);
                int8_t index_concat_branch_178576 = btoi_bool_i8(index_concat_cmp_178575);
                int64_t index_concat_i_178578 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                int64_t index_primexp_178579 = add64(index_concat_branch_178490, index_concat_i_178578);
                int64_t index_concat_branch_178577;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178577 = index_primexp_178579;
                } else {
                    index_concat_branch_178577 = index_concat_branch_178487;
                }
                
                bool x_181433 = !index_concat_cmp_178575;
                bool protect_cond_conj_181443 = x_181433 && x_181437;
                int16_t index_concat_178585;
                
                if (protect_cond_conj_181443) {
                    int16_t x_181435 = ((int16_t *) a_list_mem_180280.mem)[slice_178524];
                    
                    index_concat_178585 = x_181435;
                } else {
                    index_concat_178585 = (int16_t) 0;
                }
                
                int64_t slice_178583 = p_174791 + index_primexp_178579;
                bool protect_cond_conj_181444 = index_concat_cmp_178575 && x_181437;
                int16_t index_concat_178584;
                
                if (protect_cond_conj_181444) {
                    int16_t x_181431 = ((int16_t *) b_list_mem_180281.mem)[slice_178583];
                    
                    index_concat_178584 = x_181431;
                } else {
                    index_concat_178584 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_178580;
                
                if (index_concat_cmp_178575) {
                    index_concat_branch_178580 = index_concat_178584;
                } else {
                    index_concat_branch_178580 = index_concat_178585;
                }
                
                int8_t defunc_0_reduce_res_178586;
                int64_t defunc_0_reduce_res_178587;
                int16_t defunc_0_reduce_res_178588;
                
                if (x_181437) {
                    int8_t x_181445;
                    int64_t x_181446;
                    int16_t x_181447;
                    int8_t redout_179947;
                    int64_t redout_179948;
                    int16_t redout_179949;
                    
                    redout_179947 = index_concat_branch_178576;
                    redout_179948 = index_concat_branch_178577;
                    redout_179949 = index_concat_branch_178580;
                    for (int64_t i_179950 = 0; i_179950 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505; i_179950++) {
                        bool index_concat_cmp_180208 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, i_179950);
                        int8_t index_concat_branch_180212 = btoi_bool_i8(index_concat_cmp_180208);
                        int64_t index_concat_branch_180206;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180203 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t index_primexp_180256 = add64(index_concat_branch_178490, index_concat_i_180203);
                            
                            index_concat_branch_180206 = index_primexp_180256;
                        } else {
                            int64_t index_primexp_180258 = add64(index_concat_branch_178487, i_179950);
                            
                            index_concat_branch_180206 = index_primexp_180258;
                        }
                        
                        int16_t index_concat_branch_180200;
                        
                        if (index_concat_cmp_180208) {
                            int64_t index_concat_i_180197 = sub64(i_179950, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                            int64_t slice_180253 = slice_178543 + index_concat_i_180197;
                            int16_t index_concat_180198 = ((int16_t *) b_list_mem_180281.mem)[slice_180253];
                            
                            index_concat_branch_180200 = index_concat_180198;
                        } else {
                            int64_t slice_180254 = slice_178524 + i_179950;
                            int16_t index_concat_180199 = ((int16_t *) a_list_mem_180280.mem)[slice_180254];
                            
                            index_concat_branch_180200 = index_concat_180199;
                        }
                        
                        bool eq_x_y_180270 = redout_179947 == (int8_t) 1;
                        bool eq_x_zz_180271 = redout_179947 == (int8_t) 0;
                        bool p_and_eq_x_y_180272 = index_concat_cmp_180208 && eq_x_y_180270;
                        bool not_p_180273 = !index_concat_cmp_180208;
                        bool p_and_eq_x_y_180274 = eq_x_zz_180271 && not_p_180273;
                        bool cond_178598 = p_and_eq_x_y_180272 || p_and_eq_x_y_180274;
                        bool defunc_0_leq_res_t_res_178599 = sle64(redout_179948, index_concat_branch_180206);
                        bool defunc_0_leq_res_178600 = sle16(redout_179949, index_concat_branch_180200);
                        bool x_178601 = cond_178598 && defunc_0_leq_res_t_res_178599;
                        bool x_178602 = !cond_178598;
                        bool y_178603 = defunc_0_leq_res_178600 && x_178602;
                        bool defunc_0_leq_res_178604 = x_178601 || y_178603;
                        int8_t defunc_0_op_res_178605;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178605 = index_concat_branch_180212;
                        } else {
                            defunc_0_op_res_178605 = redout_179947;
                        }
                        
                        int64_t defunc_0_op_res_178606;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178606 = index_concat_branch_180206;
                        } else {
                            defunc_0_op_res_178606 = redout_179948;
                        }
                        
                        int16_t defunc_0_op_res_178607;
                        
                        if (defunc_0_leq_res_178604) {
                            defunc_0_op_res_178607 = index_concat_branch_180200;
                        } else {
                            defunc_0_op_res_178607 = redout_179949;
                        }
                        
                        int8_t redout_tmp_181744 = defunc_0_op_res_178605;
                        int64_t redout_tmp_181745 = defunc_0_op_res_178606;
                        int16_t redout_tmp_181746 = defunc_0_op_res_178607;
                        
                        redout_179947 = redout_tmp_181744;
                        redout_179948 = redout_tmp_181745;
                        redout_179949 = redout_tmp_181746;
                    }
                    x_181445 = redout_179947;
                    x_181446 = redout_179948;
                    x_181447 = redout_179949;
                    defunc_0_reduce_res_178586 = x_181445;
                    defunc_0_reduce_res_178587 = x_181446;
                    defunc_0_reduce_res_178588 = x_181447;
                } else {
                    defunc_0_reduce_res_178586 = (int8_t) 0;
                    defunc_0_reduce_res_178587 = (int64_t) 0;
                    defunc_0_reduce_res_178588 = (int16_t) 0;
                }
                
                int64_t distance_178622 = add64((int64_t) 1, tmp_178620);
                int64_t binop_x_180702 = (int64_t) 8 * smallest_pow_2_geq_than_res_178556;
                int64_t bytes_180703 = block_sizze_178566 * binop_x_180702;
                int64_t binop_x_180705 = (int64_t) 2 * smallest_pow_2_geq_than_res_178556;
                int64_t bytes_180706 = block_sizze_178566 * binop_x_180705;
                int64_t bytes_180721 = (int64_t) 8 * block_sizze_178566;
                bool loop_cond_178748 = slt64(block_sizze_178566, flat_dim_178567);
                bool zzero_178749 = merge_block_sizze_178572 == (int64_t) 0;
                bool nonzzero_178750 = !zzero_178749;
                
                if (cond_178550) {
                    if (memblock_set(ctx, &ext_mem_180994, &mem_180695, "mem_180695") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &mem_180697, "mem_180697") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &mem_180699, "mem_180699") != 0)
                        return 1;
                } else {
                    if (mem_180701_cached_sizze_182265 < flat_dim_178567) {
                        err = lexical_realloc(ctx, &mem_180701, &mem_180701_cached_sizze_182265, flat_dim_178567);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180704_cached_sizze_182266 < bytes_180703) {
                        err = lexical_realloc(ctx, &mem_180704, &mem_180704_cached_sizze_182266, bytes_180703);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180707_cached_sizze_182267 < bytes_180706) {
                        err = lexical_realloc(ctx, &mem_180707, &mem_180707_cached_sizze_182267, bytes_180706);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180720_cached_sizze_182268 < block_sizze_178566) {
                        err = lexical_realloc(ctx, &mem_180720, &mem_180720_cached_sizze_182268, block_sizze_178566);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180722_cached_sizze_182269 < bytes_180721) {
                        err = lexical_realloc(ctx, &mem_180722, &mem_180722_cached_sizze_182269, bytes_180721);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180724_cached_sizze_182270 < greatest_divisor_leq_than_arg1_178571) {
                        err = lexical_realloc(ctx, &mem_180724, &mem_180724_cached_sizze_182270, greatest_divisor_leq_than_arg1_178571);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_179967 = 0; i_179967 < smallest_pow_2_geq_than_res_178556; i_179967++) {
                        int64_t zp_lhs_178630 = mul64(block_sizze_178566, i_179967);
                        
                        for (int64_t i_179957 = 0; i_179957 < block_sizze_178566; i_179957++) {
                            int64_t k_178635 = add64(zp_lhs_178630, i_179957);
                            bool cond_178636 = slt64(k_178635, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505);
                            int8_t lifted_lambda_res_178637;
                            int64_t lifted_lambda_res_178638;
                            int16_t lifted_lambda_res_178639;
                            
                            if (cond_178636) {
                                bool x_178640 = sle64((int64_t) 0, k_178635);
                                bool bounds_check_178641 = cond_178636 && x_178640;
                                bool index_certs_178642;
                                
                                if (!bounds_check_178641) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_178635, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_178643 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504, k_178635);
                                int8_t index_concat_branch_178644 = btoi_bool_i8(index_concat_cmp_178643);
                                int64_t index_concat_branch_178645;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178646 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t index_primexp_178647 = add64(index_concat_branch_178490, index_concat_i_178646);
                                    
                                    index_concat_branch_178645 = index_primexp_178647;
                                } else {
                                    int64_t index_primexp_178648 = add64(index_concat_branch_178487, k_178635);
                                    
                                    index_concat_branch_178645 = index_primexp_178648;
                                }
                                
                                int16_t index_concat_branch_178649;
                                
                                if (index_concat_cmp_178643) {
                                    int64_t index_concat_i_178650 = sub64(k_178635, dzlz7bUZLzmZRz20U0z20U0z7dUzg_178504);
                                    int64_t slice_178651 = index_concat_branch_178490 + index_concat_i_178650;
                                    int64_t slice_178652 = p_174791 + slice_178651;
                                    int16_t index_concat_178653 = ((int16_t *) b_list_mem_180281.mem)[slice_178652];
                                    
                                    index_concat_branch_178649 = index_concat_178653;
                                } else {
                                    int64_t slice_178654 = index_concat_branch_178487 + k_178635;
                                    int64_t slice_178655 = p_174790 + slice_178654;
                                    int16_t index_concat_178656 = ((int16_t *) a_list_mem_180280.mem)[slice_178655];
                                    
                                    index_concat_branch_178649 = index_concat_178656;
                                }
                                lifted_lambda_res_178637 = index_concat_branch_178644;
                                lifted_lambda_res_178638 = index_concat_branch_178645;
                                lifted_lambda_res_178639 = index_concat_branch_178649;
                            } else {
                                lifted_lambda_res_178637 = defunc_0_reduce_res_178586;
                                lifted_lambda_res_178638 = defunc_0_reduce_res_178587;
                                lifted_lambda_res_178639 = defunc_0_reduce_res_178588;
                            }
                            ((int8_t *) mem_180720)[i_179957] = lifted_lambda_res_178637;
                            ((int64_t *) mem_180722)[i_179957] = lifted_lambda_res_178638;
                            ((int16_t *) mem_180724)[i_179957] = lifted_lambda_res_178639;
                        }
                        if (!cond_178619) {
                            for (int64_t i_178666 = 0; i_178666 < distance_178622; i_178666++) {
                                int64_t gt_arg1_178670 = add64((int64_t) 1, i_178666);
                                bool x_178671 = sle64((int64_t) 0, gt_arg1_178670);
                                bool y_178672 = slt64(gt_arg1_178670, block_sizze_178566);
                                bool bounds_check_178673 = x_178671 && y_178672;
                                bool index_certs_178674;
                                
                                if (!bounds_check_178673) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_178670, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_178678 = slt64(i_178666, block_sizze_178566);
                                bool index_certs_178679;
                                
                                if (!y_178678) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178666, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_178675 = ((int8_t *) mem_180720)[gt_arg1_178670];
                                int64_t gt_arg1_178676 = ((int64_t *) mem_180722)[gt_arg1_178670];
                                int16_t gt_arg1_178677 = ((int16_t *) mem_180724)[gt_arg1_178670];
                                int8_t gt_arg0_178680 = ((int8_t *) mem_180720)[i_178666];
                                int64_t gt_arg0_178681 = ((int64_t *) mem_180722)[i_178666];
                                int16_t gt_arg0_178682 = ((int16_t *) mem_180724)[i_178666];
                                bool cond_178683 = gt_arg0_178680 == gt_arg1_178675;
                                bool defunc_0_leq_res_t_res_178684 = sle64(gt_arg0_178681, gt_arg1_178676);
                                bool defunc_0_leq_res_178685 = sle16(gt_arg0_178682, gt_arg1_178677);
                                bool x_178686 = cond_178683 && defunc_0_leq_res_t_res_178684;
                                bool x_178687 = !cond_178683;
                                bool y_178688 = defunc_0_leq_res_178685 && x_178687;
                                bool defunc_0_leq_res_178689 = x_178686 || y_178688;
                                bool defunc_0_lifted_gt_res_178690 = !defunc_0_leq_res_178689;
                                bool s_178691;
                                int64_t s_178695;
                                bool loop_while_178696;
                                int64_t j_178700;
                                
                                loop_while_178696 = defunc_0_lifted_gt_res_178690;
                                j_178700 = i_178666;
                                while (loop_while_178696) {
                                    bool x_178701 = sle64((int64_t) 0, j_178700);
                                    bool y_178702 = slt64(j_178700, block_sizze_178566);
                                    bool bounds_check_178703 = x_178701 && y_178702;
                                    bool index_certs_178704;
                                    
                                    if (!bounds_check_178703) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178700, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_178708 = add64((int64_t) 1, j_178700);
                                    bool x_178709 = sle64((int64_t) 0, copy_arg0_178708);
                                    bool y_178710 = slt64(copy_arg0_178708, block_sizze_178566);
                                    bool bounds_check_178711 = x_178709 && y_178710;
                                    bool index_certs_178712;
                                    
                                    if (!bounds_check_178711) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_178708, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_178705 = ((int8_t *) mem_180720)[j_178700];
                                    int64_t copy_arg0_178706 = ((int64_t *) mem_180722)[j_178700];
                                    int16_t copy_arg0_178707 = ((int16_t *) mem_180724)[j_178700];
                                    int8_t copy_arg0_178713 = ((int8_t *) mem_180720)[copy_arg0_178708];
                                    int64_t copy_arg0_178714 = ((int64_t *) mem_180722)[copy_arg0_178708];
                                    int16_t copy_arg0_178715 = ((int16_t *) mem_180724)[copy_arg0_178708];
                                    
                                    ((int8_t *) mem_180720)[j_178700] = copy_arg0_178713;
                                    ((int64_t *) mem_180722)[j_178700] = copy_arg0_178714;
                                    ((int16_t *) mem_180724)[j_178700] = copy_arg0_178715;
                                    ((int8_t *) mem_180720)[copy_arg0_178708] = copy_arg0_178705;
                                    ((int64_t *) mem_180722)[copy_arg0_178708] = copy_arg0_178706;
                                    ((int16_t *) mem_180724)[copy_arg0_178708] = copy_arg0_178707;
                                    
                                    int64_t tmp_178722 = sub64(j_178700, (int64_t) 1);
                                    bool cond_178723 = sle64((int64_t) 0, tmp_178722);
                                    bool loop_cond_178724;
                                    
                                    if (cond_178723) {
                                        bool y_178728 = slt64(tmp_178722, block_sizze_178566);
                                        bool bounds_check_178729 = cond_178723 && y_178728;
                                        bool index_certs_178730;
                                        
                                        if (!bounds_check_178729) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178722, "] out of bounds for array of shape [", (long long) block_sizze_178566, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_178725 = ((int8_t *) mem_180720)[j_178700];
                                        int64_t gt_arg1_178726 = ((int64_t *) mem_180722)[j_178700];
                                        int16_t gt_arg1_178727 = ((int16_t *) mem_180724)[j_178700];
                                        int8_t gt_arg0_178731 = ((int8_t *) mem_180720)[tmp_178722];
                                        int64_t gt_arg0_178732 = ((int64_t *) mem_180722)[tmp_178722];
                                        int16_t gt_arg0_178733 = ((int16_t *) mem_180724)[tmp_178722];
                                        bool cond_178734 = gt_arg0_178731 == gt_arg1_178725;
                                        bool defunc_0_leq_res_t_res_178735 = sle64(gt_arg0_178732, gt_arg1_178726);
                                        bool defunc_0_leq_res_178736 = sle16(gt_arg0_178733, gt_arg1_178727);
                                        bool x_178737 = cond_178734 && defunc_0_leq_res_t_res_178735;
                                        bool x_178738 = !cond_178734;
                                        bool y_178739 = defunc_0_leq_res_178736 && x_178738;
                                        bool defunc_0_leq_res_178740 = x_178737 || y_178739;
                                        bool defunc_0_lifted_gt_res_178741 = !defunc_0_leq_res_178740;
                                        
                                        loop_cond_178724 = defunc_0_lifted_gt_res_178741;
                                    } else {
                                        loop_cond_178724 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181756 = loop_cond_178724;
                                    int64_t j_tmp_181760 = tmp_178722;
                                    
                                    loop_while_178696 = loop_while_tmp_181756;
                                    j_178700 = j_tmp_181760;
                                }
                                s_178691 = loop_while_178696;
                                s_178695 = j_178700;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180701, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180720, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180704, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180722, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180707, i_179967 * block_sizze_178566, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180724, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_178566});
                    }
                    if (memblock_alloc(ctx, &mem_180801, flat_dim_178567, "mem_180801")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180801.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint8_t *) mem_180701, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180805, bytes_180703, "mem_180805")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180805.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint64_t *) mem_180704, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    if (memblock_alloc(ctx, &mem_180809, bytes_180706, "mem_180809")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_180809.mem, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (uint16_t *) mem_180707, (int64_t) 0, (int64_t []) {block_sizze_178566, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_178556, block_sizze_178566});
                    
                    int64_t data_178751;
                    bool data_178752;
                    int64_t data_178756;
                    int64_t loop_dz2084Uz2082U_178757;
                    bool loop_while_178758;
                    int64_t stride_178762;
                    
                    if (memblock_set(ctx, &mem_param_180813, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180816, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180819, &mem_180809, "mem_180809") != 0)
                        return 1;
                    loop_dz2084Uz2082U_178757 = flat_dim_178567;
                    loop_while_178758 = loop_cond_178748;
                    stride_178762 = block_sizze_178566;
                    while (loop_while_178758) {
                        int64_t next_stride_178763 = mul64((int64_t) 2, stride_178762);
                        bool zzero_178764 = next_stride_178763 == (int64_t) 0;
                        bool nonzzero_178765 = !zzero_178764;
                        bool nonzzero_cert_178766;
                        
                        if (!nonzzero_178765) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_178767 = sdiv64(flat_dim_178567, next_stride_178763);
                        bool bounds_invalid_upwards_178768 = slt64(num_merges_178767, (int64_t) 0);
                        bool valid_178769 = !bounds_invalid_upwards_178768;
                        bool range_valid_c_178770;
                        
                        if (!valid_178769) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_178767, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_178772 = sub64(next_stride_178763, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_178773 = sle64((int64_t) 0, m_178772);
                        bool cond_178775 = slt64(next_stride_178763, (int64_t) 10);
                        bool protect_assert_disj_178776 = nonzzero_178750 || cond_178775;
                        bool nonzzero_cert_178777;
                        
                        if (!protect_assert_disj_178776) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_178778 = smod_safe64(next_stride_178763, merge_block_sizze_178572);
                        bool num_blocks_178779 = zeze_lhs_178778 == (int64_t) 0;
                        bool protect_assert_disj_178780 = cond_178775 || num_blocks_178779;
                        bool assert_c_178781;
                        
                        if (!protect_assert_disj_178780) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_178782 = sdiv_safe64(next_stride_178763, merge_block_sizze_178572);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783 = add64((int64_t) 1, num_blocks_178782);
                        int64_t j_m_i_178784 = sub64(next_stride_178763, stride_178762);
                        int64_t flat_dim_178785 = merge_block_sizze_178572 * num_blocks_178782;
                        bool bounds_invalid_upwards_178786 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, (int64_t) 0);
                        bool empty_slice_178787 = j_m_i_178784 == (int64_t) 0;
                        int64_t m_178788 = sub64(j_m_i_178784, (int64_t) 1);
                        bool zzero_lte_i_178789 = sle64((int64_t) 0, stride_178762);
                        bool i_lte_j_178790 = sle64(stride_178762, next_stride_178763);
                        bool empty_slice_178791 = stride_178762 == (int64_t) 0;
                        int64_t m_178792 = sub64(stride_178762, (int64_t) 1);
                        bool bounds_invalid_upwards_178793 = slt64(num_blocks_178782, (int64_t) 0);
                        bool cond_178794 = slt64((int64_t) 0, stride_178762);
                        bool valid_178795 = !bounds_invalid_upwards_178786;
                        int64_t i_p_m_t_s_178796 = add64(stride_178762, m_178788);
                        bool zzero_leq_i_p_m_t_s_178797 = sle64((int64_t) 0, m_178792);
                        bool i_p_m_t_s_leq_w_178798 = slt64(m_178792, next_stride_178763);
                        bool valid_178799 = !bounds_invalid_upwards_178793;
                        bool i_p_m_t_s_leq_w_178800 = slt64(m_178772, flat_dim_178785);
                        bool y_178801 = slt64((int64_t) 0, j_m_i_178784);
                        bool protect_assert_disj_178802 = cond_178775 || valid_178795;
                        bool range_valid_c_178803;
                        
                        if (!protect_assert_disj_178802) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_178804 = sle64((int64_t) 0, i_p_m_t_s_178796);
                        bool i_p_m_t_s_leq_w_178805 = slt64(i_p_m_t_s_178796, next_stride_178763);
                        bool y_178806 = zzero_leq_i_p_m_t_s_178797 && i_p_m_t_s_leq_w_178798;
                        bool protect_assert_disj_178807 = cond_178775 || valid_178799;
                        bool range_valid_c_178808;
                        
                        if (!protect_assert_disj_178807) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_178782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_178809 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178800;
                        bool y_178810 = zzero_lte_i_178789 && i_p_m_t_s_leq_w_178805;
                        bool forwards_ok_178811 = zzero_lte_i_178789 && y_178806;
                        bool ok_or_empty_178812 = zzero_178764 || y_178809;
                        bool protect_assert_disj_178813 = cond_178794 || y_178801;
                        bool y_178814 = zzero_leq_i_p_m_t_s_178804 && y_178810;
                        bool ok_or_empty_178815 = empty_slice_178791 || forwards_ok_178811;
                        bool protect_assert_disj_178816 = cond_178775 || ok_or_empty_178812;
                        bool index_certs_178817;
                        
                        if (!protect_assert_disj_178816) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) flat_dim_178785, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_178818 = !cond_178775;
                        bool protect_assert_disj_178819 = protect_assert_disj_178813 || loop_not_taken_178818;
                        bool index_certs_178820;
                        
                        if (!protect_assert_disj_178819) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_178821 = i_lte_j_178790 && y_178814;
                        bool protect_assert_disj_178822 = cond_178775 || ok_or_empty_178815;
                        bool index_certs_178823;
                        
                        if (!protect_assert_disj_178822) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178824 = ok_or_empty_178815 || loop_not_taken_178818;
                        bool index_certs_178825;
                        
                        if (!protect_assert_disj_178824) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_178762, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_178826 = empty_slice_178787 || forwards_ok_178821;
                        bool protect_assert_disj_178827 = cond_178775 || ok_or_empty_178826;
                        bool index_certs_178828;
                        
                        if (!protect_assert_disj_178827) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_178829 = loop_not_taken_178818 || ok_or_empty_178826;
                        bool index_certs_178830;
                        
                        if (!protect_assert_disj_178829) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_178762, ":] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180820 = next_stride_178763 * num_merges_178767;
                        int64_t binop_x_180822 = (int64_t) 8 * num_merges_178767;
                        int64_t bytes_180823 = next_stride_178763 * binop_x_180822;
                        int64_t binop_x_180825 = (int64_t) 2 * num_merges_178767;
                        int64_t bytes_180826 = next_stride_178763 * binop_x_180825;
                        bool i_lte_j_178774 = sle64((int64_t) 0, next_stride_178763);
                        
                        if (mem_180821_cached_sizze_182271 < bytes_180820) {
                            err = lexical_realloc(ctx, &mem_180821, &mem_180821_cached_sizze_182271, bytes_180820);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180824_cached_sizze_182272 < bytes_180823) {
                            err = lexical_realloc(ctx, &mem_180824, &mem_180824_cached_sizze_182272, bytes_180823);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180827_cached_sizze_182273 < bytes_180826) {
                            err = lexical_realloc(ctx, &mem_180827, &mem_180827_cached_sizze_182273, bytes_180826);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180840 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783;
                        int64_t binop_x_180858 = (int64_t) 8 * num_blocks_178782;
                        int64_t bytes_180859 = merge_block_sizze_178572 * binop_x_180858;
                        int64_t binop_x_180861 = (int64_t) 2 * num_blocks_178782;
                        int64_t bytes_180862 = merge_block_sizze_178572 * binop_x_180861;
                        int64_t bytes_180923 = (int64_t) 16 * stride_178762;
                        int64_t bytes_180925 = (int64_t) 4 * stride_178762;
                        
                        for (int64_t i_179994 = 0; i_179994 < num_merges_178767; i_179994++) {
                            int64_t start_178835 = mul64(next_stride_178763, i_179994);
                            int64_t j_m_i_178836 = sub64(loop_dz2084Uz2082U_178757, start_178835);
                            bool empty_slice_178837 = j_m_i_178836 == (int64_t) 0;
                            int64_t m_178838 = sub64(j_m_i_178836, (int64_t) 1);
                            int64_t i_p_m_t_s_178839 = add64(start_178835, m_178838);
                            bool zzero_leq_i_p_m_t_s_178840 = sle64((int64_t) 0, i_p_m_t_s_178839);
                            bool i_p_m_t_s_leq_w_178841 = slt64(i_p_m_t_s_178839, loop_dz2084Uz2082U_178757);
                            bool zzero_lte_i_178842 = sle64((int64_t) 0, start_178835);
                            bool i_lte_j_178843 = sle64(start_178835, loop_dz2084Uz2082U_178757);
                            bool y_178844 = i_p_m_t_s_leq_w_178841 && zzero_lte_i_178842;
                            bool y_178845 = zzero_leq_i_p_m_t_s_178840 && y_178844;
                            bool forwards_ok_178846 = i_lte_j_178843 && y_178845;
                            bool ok_or_empty_178847 = empty_slice_178837 || forwards_ok_178846;
                            bool index_certs_178848;
                            
                            if (!ok_or_empty_178847) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_178835, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_178757, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_178849 = slt64(m_178772, j_m_i_178836);
                            bool y_178850 = zzero_leq_i_p_m_t_s_178773 && i_p_m_t_s_leq_w_178849;
                            bool forwards_ok_178851 = i_lte_j_178774 && y_178850;
                            bool ok_or_empty_178852 = zzero_178764 || forwards_ok_178851;
                            bool index_certs_178853;
                            
                            if (!ok_or_empty_178852) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_178763, "] out of bounds for array of shape [", (long long) j_m_i_178836, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_178775) {
                                int8_t dummy_178857;
                                int64_t dummy_178858;
                                int16_t dummy_178859;
                                
                                if (cond_178794) {
                                    int8_t head_res_178860 = ((int8_t *) mem_param_180813.mem)[start_178835];
                                    int64_t head_res_178861 = ((int64_t *) mem_param_180816.mem)[start_178835];
                                    int16_t head_res_178862 = ((int16_t *) mem_param_180819.mem)[start_178835];
                                    
                                    dummy_178857 = head_res_178860;
                                    dummy_178858 = head_res_178861;
                                    dummy_178859 = head_res_178862;
                                } else {
                                    int64_t slice_178863 = stride_178762 + start_178835;
                                    int8_t head_res_178864 = ((int8_t *) mem_param_180813.mem)[slice_178863];
                                    int64_t head_res_178865 = ((int64_t *) mem_param_180816.mem)[slice_178863];
                                    int16_t head_res_178866 = ((int16_t *) mem_param_180819.mem)[slice_178863];
                                    
                                    dummy_178857 = head_res_178864;
                                    dummy_178858 = head_res_178865;
                                    dummy_178859 = head_res_178866;
                                }
                                if (memblock_alloc(ctx, &mem_180922, next_stride_178763, "mem_180922")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181773 = 0; nest_i_181773 < next_stride_178763; nest_i_181773++) {
                                    ((int8_t *) mem_180922.mem)[nest_i_181773] = dummy_178857;
                                }
                                if (memblock_alloc(ctx, &mem_180924, bytes_180923, "mem_180924")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181774 = 0; nest_i_181774 < next_stride_178763; nest_i_181774++) {
                                    ((int64_t *) mem_180924.mem)[nest_i_181774] = dummy_178858;
                                }
                                if (memblock_alloc(ctx, &mem_180926, bytes_180925, "mem_180926")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181775 = 0; nest_i_181775 < next_stride_178763; nest_i_181775++) {
                                    ((int16_t *) mem_180926.mem)[nest_i_181775] = dummy_178859;
                                }
                                
                                int64_t data_178870;
                                int64_t i_178875 = (int64_t) 0;
                                
                                for (int64_t k_178874 = 0; k_178874 < next_stride_178763; k_178874++) {
                                    int64_t j_178879 = sub64(k_178874, i_178875);
                                    bool cond_178880 = j_178879 == j_m_i_178784;
                                    bool cond_178881;
                                    
                                    if (cond_178880) {
                                        cond_178881 = 1;
                                    } else {
                                        bool cond_178882 = slt64(i_178875, stride_178762);
                                        bool cond_f_res_178883;
                                        
                                        if (cond_178882) {
                                            bool x_178884 = sle64((int64_t) 0, j_178879);
                                            bool y_178885 = slt64(j_178879, j_m_i_178784);
                                            bool bounds_check_178886 = x_178884 && y_178885;
                                            bool index_certs_178887;
                                            
                                            if (!bounds_check_178886) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_178893 = sle64((int64_t) 0, i_178875);
                                            bool bounds_check_178894 = cond_178882 && x_178893;
                                            bool index_certs_178895;
                                            
                                            if (!bounds_check_178894) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178888 = stride_178762 + j_178879;
                                            int64_t slice_178889 = start_178835 + slice_178888;
                                            int8_t leq_arg1_178890 = ((int8_t *) mem_param_180813.mem)[slice_178889];
                                            int64_t leq_arg1_178891 = ((int64_t *) mem_param_180816.mem)[slice_178889];
                                            int16_t leq_arg1_178892 = ((int16_t *) mem_param_180819.mem)[slice_178889];
                                            int64_t slice_178896 = start_178835 + i_178875;
                                            int8_t leq_arg0_178897 = ((int8_t *) mem_param_180813.mem)[slice_178896];
                                            int64_t leq_arg0_178898 = ((int64_t *) mem_param_180816.mem)[slice_178896];
                                            int16_t leq_arg0_178899 = ((int16_t *) mem_param_180819.mem)[slice_178896];
                                            bool cond_178900 = leq_arg0_178897 == leq_arg1_178890;
                                            bool defunc_0_leq_res_t_res_178901 = sle64(leq_arg0_178898, leq_arg1_178891);
                                            bool defunc_0_leq_res_178902 = sle16(leq_arg0_178899, leq_arg1_178892);
                                            bool x_178903 = cond_178900 && defunc_0_leq_res_t_res_178901;
                                            bool x_178904 = !cond_178900;
                                            bool y_178905 = defunc_0_leq_res_178902 && x_178904;
                                            bool defunc_0_leq_res_178906 = x_178903 || y_178905;
                                            
                                            cond_f_res_178883 = defunc_0_leq_res_178906;
                                        } else {
                                            cond_f_res_178883 = 0;
                                        }
                                        cond_178881 = cond_f_res_178883;
                                    }
                                    
                                    int64_t loopres_178907;
                                    int8_t loopres_178908;
                                    int64_t loopres_178909;
                                    int16_t loopres_178910;
                                    
                                    if (cond_178881) {
                                        bool x_178912 = sle64((int64_t) 0, i_178875);
                                        bool y_178913 = slt64(i_178875, stride_178762);
                                        bool bounds_check_178914 = x_178912 && y_178913;
                                        bool index_certs_178915;
                                        
                                        if (!bounds_check_178914) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178875, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_178911 = add64((int64_t) 1, i_178875);
                                        int64_t slice_178916 = start_178835 + i_178875;
                                        int8_t tmp_178917 = ((int8_t *) mem_param_180813.mem)[slice_178916];
                                        int64_t tmp_178918 = ((int64_t *) mem_param_180816.mem)[slice_178916];
                                        int16_t tmp_178919 = ((int16_t *) mem_param_180819.mem)[slice_178916];
                                        
                                        loopres_178907 = tmp_178911;
                                        loopres_178908 = tmp_178917;
                                        loopres_178909 = tmp_178918;
                                        loopres_178910 = tmp_178919;
                                    } else {
                                        bool x_178920 = sle64((int64_t) 0, j_178879);
                                        bool y_178921 = slt64(j_178879, j_m_i_178784);
                                        bool bounds_check_178922 = x_178920 && y_178921;
                                        bool index_certs_178923;
                                        
                                        if (!bounds_check_178922) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178879, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178924 = stride_178762 + j_178879;
                                        int64_t slice_178925 = start_178835 + slice_178924;
                                        int8_t tmp_178926 = ((int8_t *) mem_param_180813.mem)[slice_178925];
                                        int64_t tmp_178927 = ((int64_t *) mem_param_180816.mem)[slice_178925];
                                        int16_t tmp_178928 = ((int16_t *) mem_param_180819.mem)[slice_178925];
                                        
                                        loopres_178907 = i_178875;
                                        loopres_178908 = tmp_178926;
                                        loopres_178909 = tmp_178927;
                                        loopres_178910 = tmp_178928;
                                    }
                                    ((int8_t *) mem_180922.mem)[k_178874] = loopres_178908;
                                    ((int64_t *) mem_180924.mem)[k_178874] = loopres_178909;
                                    ((int16_t *) mem_180926.mem)[k_178874] = loopres_178910;
                                    
                                    int64_t i_tmp_181776 = loopres_178907;
                                    
                                    i_178875 = i_tmp_181776;
                                }
                                data_178870 = i_178875;
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180922, "mem_180922") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180924, "mem_180924") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180926, "mem_180926") != 0)
                                    return 1;
                            } else {
                                if (mem_180841_cached_sizze_182274 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180841, &mem_180841_cached_sizze_182274, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180843_cached_sizze_182275 < bytes_180840) {
                                    err = lexical_realloc(ctx, &mem_180843, &mem_180843_cached_sizze_182275, bytes_180840);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179975 = 0; i_179975 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783; i_179975++) {
                                    int64_t split_count_arg3_178936 = mul64(merge_block_sizze_178572, i_179975);
                                    int64_t defunc_0_split_count_res_178937;
                                    int64_t defunc_0_split_count_res_178938;
                                    int64_t defunc_0_split_count_res_178939;
                                    int64_t defunc_0_split_count_res_178940;
                                    int64_t defunc_0_split_count_res_178941;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_178937, &defunc_0_split_count_res_178938, &defunc_0_split_count_res_178939, &defunc_0_split_count_res_178940, &defunc_0_split_count_res_178941, (int64_t) 0, stride_178762, (int64_t) 0, j_m_i_178784, split_count_arg3_178936) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_178942 = slt64((int64_t) 0, defunc_0_split_count_res_178941);
                                    bool defunc_0_split_count_res_178943;
                                    int64_t defunc_0_split_count_res_178944;
                                    int64_t defunc_0_split_count_res_178945;
                                    int64_t defunc_0_split_count_res_178946;
                                    int64_t defunc_0_split_count_res_178947;
                                    int64_t defunc_0_split_count_res_178948;
                                    bool loop_while_178949;
                                    int64_t ss_178950;
                                    int64_t ss_178951;
                                    int64_t tt_178952;
                                    int64_t tt_178953;
                                    int64_t count_178954;
                                    
                                    loop_while_178949 = loop_cond_178942;
                                    ss_178950 = defunc_0_split_count_res_178937;
                                    ss_178951 = defunc_0_split_count_res_178938;
                                    tt_178952 = defunc_0_split_count_res_178939;
                                    tt_178953 = defunc_0_split_count_res_178940;
                                    count_178954 = defunc_0_split_count_res_178941;
                                    while (loop_while_178949) {
                                        int64_t zlze_lhs_178955 = sub64(ss_178951, ss_178950);
                                        bool cond_178956 = sle64(zlze_lhs_178955, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_178957;
                                        int64_t defunc_0_lifted_step_res_178958;
                                        int64_t defunc_0_lifted_step_res_178959;
                                        int64_t defunc_0_lifted_step_res_178960;
                                        
                                        if (cond_178956) {
                                            int64_t tmp_178961 = add64(tt_178952, count_178954);
                                            
                                            defunc_0_lifted_step_res_178957 = ss_178950;
                                            defunc_0_lifted_step_res_178958 = tmp_178961;
                                            defunc_0_lifted_step_res_178959 = tt_178953;
                                            defunc_0_lifted_step_res_178960 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_178962 = sub64(tt_178953, tt_178952);
                                            bool cond_178963 = sle64(zlze_lhs_178962, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_178964;
                                            int64_t defunc_0_lifted_step_res_f_res_178965;
                                            int64_t defunc_0_lifted_step_res_f_res_178966;
                                            int64_t defunc_0_lifted_step_res_f_res_178967;
                                            
                                            if (cond_178963) {
                                                int64_t tmp_178968 = add64(ss_178950, count_178954);
                                                
                                                defunc_0_lifted_step_res_f_res_178964 = tmp_178968;
                                                defunc_0_lifted_step_res_f_res_178965 = tt_178952;
                                                defunc_0_lifted_step_res_f_res_178966 = tt_178953;
                                                defunc_0_lifted_step_res_f_res_178967 = (int64_t) 0;
                                            } else {
                                                bool cond_178969 = count_178954 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178970;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178971;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178972;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_178973;
                                                
                                                if (cond_178969) {
                                                    bool x_178974 = sle64((int64_t) 0, ss_178950);
                                                    bool y_178975 = slt64(ss_178950, stride_178762);
                                                    bool bounds_check_178976 = x_178974 && y_178975;
                                                    bool index_certs_178977;
                                                    
                                                    if (!bounds_check_178976) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_178950, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_178982 = sle64((int64_t) 0, tt_178952);
                                                    bool y_178983 = slt64(tt_178952, j_m_i_178784);
                                                    bool bounds_check_178984 = x_178982 && y_178983;
                                                    bool index_certs_178985;
                                                    
                                                    if (!bounds_check_178984) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_178952, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_178978 = start_178835 + ss_178950;
                                                    int8_t leq_arg1_178979 = ((int8_t *) mem_param_180813.mem)[slice_178978];
                                                    int64_t leq_arg1_178980 = ((int64_t *) mem_param_180816.mem)[slice_178978];
                                                    int16_t leq_arg1_178981 = ((int16_t *) mem_param_180819.mem)[slice_178978];
                                                    int64_t slice_178986 = stride_178762 + tt_178952;
                                                    int64_t slice_178987 = start_178835 + slice_178986;
                                                    int8_t leq_arg0_178988 = ((int8_t *) mem_param_180813.mem)[slice_178987];
                                                    int64_t leq_arg0_178989 = ((int64_t *) mem_param_180816.mem)[slice_178987];
                                                    int16_t leq_arg0_178990 = ((int16_t *) mem_param_180819.mem)[slice_178987];
                                                    bool cond_178991 = leq_arg0_178988 == leq_arg1_178979;
                                                    bool defunc_0_leq_res_t_res_178992 = sle64(leq_arg0_178989, leq_arg1_178980);
                                                    bool defunc_0_leq_res_178993 = sle16(leq_arg0_178990, leq_arg1_178981);
                                                    bool x_178994 = cond_178991 && defunc_0_leq_res_t_res_178992;
                                                    bool x_178995 = !cond_178991;
                                                    bool y_178996 = defunc_0_leq_res_178993 && x_178995;
                                                    bool defunc_0_leq_res_178997 = x_178994 || y_178996;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    
                                                    if (defunc_0_leq_res_178997) {
                                                        int64_t tmp_179000 = add64((int64_t) 1, tt_178952);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = ss_178950;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tmp_179000;
                                                    } else {
                                                        int64_t tmp_179001 = add64((int64_t) 1, ss_178950);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178998 = tmp_179001;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_178999 = tt_178952;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = defunc_0_lifted_step_res_f_res_f_res_t_res_178998;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_t_res_178999;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = tt_178953;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179002 = sdiv64(count_178954, (int64_t) 2);
                                                    int64_t n_179003 = sub64(count_178954, m_179002);
                                                    bool cond_179004 = n_179003 == (int64_t) 0;
                                                    int64_t zgze_lhs_179005 = add64(ss_178950, m_179002);
                                                    bool cond_f_res_179006 = sle64(ss_178951, zgze_lhs_179005);
                                                    bool x_179007 = !cond_179004;
                                                    bool y_179008 = cond_f_res_179006 && x_179007;
                                                    bool cond_179009 = cond_179004 || y_179008;
                                                    bool leq_y_x_179010;
                                                    
                                                    if (cond_179009) {
                                                        leq_y_x_179010 = 1;
                                                    } else {
                                                        bool x_179011 = sle64((int64_t) 0, zgze_lhs_179005);
                                                        bool y_179012 = slt64(zgze_lhs_179005, stride_178762);
                                                        bool bounds_check_179013 = x_179011 && y_179012;
                                                        bool index_certs_179014;
                                                        
                                                        if (!bounds_check_179013) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179005, "] out of bounds for array of shape [", (long long) stride_178762, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179019 = add64(tt_178952, n_179003);
                                                        int64_t leq_arg0_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                                                        bool x_179021 = sle64((int64_t) 0, leq_arg0_179020);
                                                        bool y_179022 = slt64(leq_arg0_179020, j_m_i_178784);
                                                        bool bounds_check_179023 = x_179021 && y_179022;
                                                        bool index_certs_179024;
                                                        
                                                        if (!bounds_check_179023) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179020, "] out of bounds for array of shape [", (long long) j_m_i_178784, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179015 = start_178835 + zgze_lhs_179005;
                                                        int8_t leq_arg1_179016 = ((int8_t *) mem_param_180813.mem)[slice_179015];
                                                        int64_t leq_arg1_179017 = ((int64_t *) mem_param_180816.mem)[slice_179015];
                                                        int16_t leq_arg1_179018 = ((int16_t *) mem_param_180819.mem)[slice_179015];
                                                        int64_t slice_179025 = stride_178762 + leq_arg0_179020;
                                                        int64_t slice_179026 = start_178835 + slice_179025;
                                                        int8_t leq_arg0_179027 = ((int8_t *) mem_param_180813.mem)[slice_179026];
                                                        int64_t leq_arg0_179028 = ((int64_t *) mem_param_180816.mem)[slice_179026];
                                                        int16_t leq_arg0_179029 = ((int16_t *) mem_param_180819.mem)[slice_179026];
                                                        bool cond_179030 = leq_arg0_179027 == leq_arg1_179016;
                                                        bool defunc_0_leq_res_t_res_179031 = sle64(leq_arg0_179028, leq_arg1_179017);
                                                        bool defunc_0_leq_res_179032 = sle16(leq_arg0_179029, leq_arg1_179018);
                                                        bool x_179033 = cond_179030 && defunc_0_leq_res_t_res_179031;
                                                        bool x_179034 = !cond_179030;
                                                        bool y_179035 = defunc_0_leq_res_179032 && x_179034;
                                                        bool defunc_0_leq_res_179036 = x_179033 || y_179035;
                                                        
                                                        leq_y_x_179010 = defunc_0_leq_res_179036;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                    
                                                    if (leq_y_x_179010) {
                                                        int64_t tmp_179040 = add64(tt_178952, n_179003);
                                                        int64_t tmp_179041 = sub64(count_178954, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tmp_179040;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tt_178953;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = tmp_179041;
                                                    } else {
                                                        int64_t tmp_179042 = add64(tt_178952, n_179003);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179037 = tt_178952;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179038 = tmp_179042;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179039 = count_178954;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_178970 = ss_178950;
                                                    defunc_0_lifted_step_res_f_res_f_res_178971 = defunc_0_lifted_step_res_f_res_f_res_f_res_179037;
                                                    defunc_0_lifted_step_res_f_res_f_res_178972 = defunc_0_lifted_step_res_f_res_f_res_f_res_179038;
                                                    defunc_0_lifted_step_res_f_res_f_res_178973 = defunc_0_lifted_step_res_f_res_f_res_f_res_179039;
                                                }
                                                defunc_0_lifted_step_res_f_res_178964 = defunc_0_lifted_step_res_f_res_f_res_178970;
                                                defunc_0_lifted_step_res_f_res_178965 = defunc_0_lifted_step_res_f_res_f_res_178971;
                                                defunc_0_lifted_step_res_f_res_178966 = defunc_0_lifted_step_res_f_res_f_res_178972;
                                                defunc_0_lifted_step_res_f_res_178967 = defunc_0_lifted_step_res_f_res_f_res_178973;
                                            }
                                            defunc_0_lifted_step_res_178957 = defunc_0_lifted_step_res_f_res_178964;
                                            defunc_0_lifted_step_res_178958 = defunc_0_lifted_step_res_f_res_178965;
                                            defunc_0_lifted_step_res_178959 = defunc_0_lifted_step_res_f_res_178966;
                                            defunc_0_lifted_step_res_178960 = defunc_0_lifted_step_res_f_res_178967;
                                        }
                                        
                                        int64_t loopres_179043;
                                        int64_t loopres_179044;
                                        int64_t loopres_179045;
                                        int64_t loopres_179046;
                                        int64_t loopres_179047;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_179043, &loopres_179044, &loopres_179045, &loopres_179046, &loopres_179047, defunc_0_lifted_step_res_178957, ss_178951, defunc_0_lifted_step_res_178958, defunc_0_lifted_step_res_178959, defunc_0_lifted_step_res_178960) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179048 = slt64((int64_t) 0, loopres_179047);
                                        bool loop_while_tmp_181782 = loop_cond_179048;
                                        int64_t ss_tmp_181783 = loopres_179043;
                                        int64_t ss_tmp_181784 = loopres_179044;
                                        int64_t tt_tmp_181785 = loopres_179045;
                                        int64_t tt_tmp_181786 = loopres_179046;
                                        int64_t count_tmp_181787 = loopres_179047;
                                        
                                        loop_while_178949 = loop_while_tmp_181782;
                                        ss_178950 = ss_tmp_181783;
                                        ss_178951 = ss_tmp_181784;
                                        tt_178952 = tt_tmp_181785;
                                        tt_178953 = tt_tmp_181786;
                                        count_178954 = count_tmp_181787;
                                    }
                                    defunc_0_split_count_res_178943 = loop_while_178949;
                                    defunc_0_split_count_res_178944 = ss_178950;
                                    defunc_0_split_count_res_178945 = ss_178951;
                                    defunc_0_split_count_res_178946 = tt_178952;
                                    defunc_0_split_count_res_178947 = tt_178953;
                                    defunc_0_split_count_res_178948 = count_178954;
                                    ((int64_t *) mem_180841)[i_179975] = defunc_0_split_count_res_178944;
                                    ((int64_t *) mem_180843)[i_179975] = defunc_0_split_count_res_178946;
                                }
                                if (mem_180857_cached_sizze_182276 < flat_dim_178785) {
                                    err = lexical_realloc(ctx, &mem_180857, &mem_180857_cached_sizze_182276, flat_dim_178785);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180860_cached_sizze_182277 < bytes_180859) {
                                    err = lexical_realloc(ctx, &mem_180860, &mem_180860_cached_sizze_182277, bytes_180859);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180863_cached_sizze_182278 < bytes_180862) {
                                    err = lexical_realloc(ctx, &mem_180863, &mem_180863_cached_sizze_182278, bytes_180862);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_179984 = 0; i_179984 < num_blocks_178782; i_179984++) {
                                    bool y_179057 = slt64(i_179984, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool index_certs_179059;
                                    
                                    if (!y_179057) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179984, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179060 = ((int64_t *) mem_180841)[i_179984];
                                    int64_t defunc_0_f_res_179061 = ((int64_t *) mem_180843)[i_179984];
                                    int64_t tmp_179062 = add64((int64_t) 1, i_179984);
                                    bool x_179063 = sle64((int64_t) 0, tmp_179062);
                                    bool y_179064 = slt64(tmp_179062, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783);
                                    bool bounds_check_179065 = x_179063 && y_179064;
                                    bool index_certs_179066;
                                    
                                    if (!bounds_check_179065) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179062, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_178783, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179067 = ((int64_t *) mem_180841)[tmp_179062];
                                    int64_t defunc_0_f_res_179068 = ((int64_t *) mem_180843)[tmp_179062];
                                    int64_t merge_sequential_arg2_179069 = add64(stride_178762, defunc_0_f_res_179061);
                                    int64_t merge_sequential_arg2_179070 = add64(stride_178762, defunc_0_f_res_179068);
                                    int64_t j_m_i_179071 = sub64(merge_sequential_arg2_179070, merge_sequential_arg2_179069);
                                    bool empty_slice_179072 = j_m_i_179071 == (int64_t) 0;
                                    int64_t m_179073 = sub64(j_m_i_179071, (int64_t) 1);
                                    int64_t i_p_m_t_s_179074 = add64(merge_sequential_arg2_179069, m_179073);
                                    bool zzero_leq_i_p_m_t_s_179075 = sle64((int64_t) 0, i_p_m_t_s_179074);
                                    bool i_p_m_t_s_leq_w_179076 = slt64(i_p_m_t_s_179074, next_stride_178763);
                                    bool zzero_lte_i_179077 = sle64((int64_t) 0, merge_sequential_arg2_179069);
                                    bool i_lte_j_179078 = sle64(merge_sequential_arg2_179069, merge_sequential_arg2_179070);
                                    bool y_179079 = i_p_m_t_s_leq_w_179076 && zzero_lte_i_179077;
                                    bool y_179080 = zzero_leq_i_p_m_t_s_179075 && y_179079;
                                    bool forwards_ok_179081 = i_lte_j_179078 && y_179080;
                                    bool ok_or_empty_179082 = empty_slice_179072 || forwards_ok_179081;
                                    bool index_certs_179083;
                                    
                                    if (!ok_or_empty_179082) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179069, ":", (long long) merge_sequential_arg2_179070, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179084 = sub64(defunc_0_f_res_179067, defunc_0_f_res_179060);
                                    bool empty_slice_179085 = j_m_i_179084 == (int64_t) 0;
                                    int64_t m_179086 = sub64(j_m_i_179084, (int64_t) 1);
                                    int64_t i_p_m_t_s_179087 = add64(defunc_0_f_res_179060, m_179086);
                                    bool zzero_leq_i_p_m_t_s_179088 = sle64((int64_t) 0, i_p_m_t_s_179087);
                                    bool i_p_m_t_s_leq_w_179089 = slt64(i_p_m_t_s_179087, next_stride_178763);
                                    bool zzero_lte_i_179090 = sle64((int64_t) 0, defunc_0_f_res_179060);
                                    bool i_lte_j_179091 = sle64(defunc_0_f_res_179060, defunc_0_f_res_179067);
                                    bool y_179092 = i_p_m_t_s_leq_w_179089 && zzero_lte_i_179090;
                                    bool y_179093 = zzero_leq_i_p_m_t_s_179088 && y_179092;
                                    bool forwards_ok_179094 = i_lte_j_179091 && y_179093;
                                    bool ok_or_empty_179095 = empty_slice_179085 || forwards_ok_179094;
                                    bool index_certs_179096;
                                    
                                    if (!ok_or_empty_179095) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179060, ":", (long long) defunc_0_f_res_179067, "] out of bounds for array of shape [", (long long) next_stride_178763, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179097 = slt64((int64_t) 0, j_m_i_179084);
                                    int8_t dummy_179098;
                                    int64_t dummy_179099;
                                    int16_t dummy_179100;
                                    
                                    if (cond_179097) {
                                        bool index_certs_179101;
                                        
                                        if (!cond_179097) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179102 = start_178835 + defunc_0_f_res_179060;
                                        int8_t head_res_179103 = ((int8_t *) mem_param_180813.mem)[slice_179102];
                                        int64_t head_res_179104 = ((int64_t *) mem_param_180816.mem)[slice_179102];
                                        int16_t head_res_179105 = ((int16_t *) mem_param_180819.mem)[slice_179102];
                                        
                                        dummy_179098 = head_res_179103;
                                        dummy_179099 = head_res_179104;
                                        dummy_179100 = head_res_179105;
                                    } else {
                                        bool y_179106 = slt64((int64_t) 0, j_m_i_179071);
                                        bool index_certs_179107;
                                        
                                        if (!y_179106) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179108 = start_178835 + merge_sequential_arg2_179069;
                                        int8_t head_res_179109 = ((int8_t *) mem_param_180813.mem)[slice_179108];
                                        int64_t head_res_179110 = ((int64_t *) mem_param_180816.mem)[slice_179108];
                                        int16_t head_res_179111 = ((int16_t *) mem_param_180819.mem)[slice_179108];
                                        
                                        dummy_179098 = head_res_179109;
                                        dummy_179099 = head_res_179110;
                                        dummy_179100 = head_res_179111;
                                    }
                                    for (int64_t nest_i_181791 = 0; nest_i_181791 < merge_block_sizze_178572; nest_i_181791++) {
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + nest_i_181791] = dummy_179098;
                                    }
                                    for (int64_t nest_i_181792 = 0; nest_i_181792 < merge_block_sizze_178572; nest_i_181792++) {
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + nest_i_181792] = dummy_179099;
                                    }
                                    for (int64_t nest_i_181793 = 0; nest_i_181793 < merge_block_sizze_178572; nest_i_181793++) {
                                        ((int16_t *) mem_180863)[i_179984 * merge_block_sizze_178572 + nest_i_181793] = dummy_179100;
                                    }
                                    
                                    int64_t data_179115;
                                    int64_t i_179120 = (int64_t) 0;
                                    
                                    for (int64_t k_179119 = 0; k_179119 < merge_block_sizze_178572; k_179119++) {
                                        int64_t j_179124 = sub64(k_179119, i_179120);
                                        bool cond_179125 = j_179124 == j_m_i_179071;
                                        bool cond_179126;
                                        
                                        if (cond_179125) {
                                            cond_179126 = 1;
                                        } else {
                                            bool cond_179127 = slt64(i_179120, j_m_i_179084);
                                            bool cond_f_res_179128;
                                            
                                            if (cond_179127) {
                                                bool x_179129 = sle64((int64_t) 0, j_179124);
                                                bool y_179130 = slt64(j_179124, j_m_i_179071);
                                                bool bounds_check_179131 = x_179129 && y_179130;
                                                bool index_certs_179132;
                                                
                                                if (!bounds_check_179131) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179138 = sle64((int64_t) 0, i_179120);
                                                bool bounds_check_179139 = cond_179127 && x_179138;
                                                bool index_certs_179140;
                                                
                                                if (!bounds_check_179139) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179133 = merge_sequential_arg2_179069 + j_179124;
                                                int64_t slice_179134 = start_178835 + slice_179133;
                                                int8_t leq_arg1_179135 = ((int8_t *) mem_param_180813.mem)[slice_179134];
                                                int64_t leq_arg1_179136 = ((int64_t *) mem_param_180816.mem)[slice_179134];
                                                int16_t leq_arg1_179137 = ((int16_t *) mem_param_180819.mem)[slice_179134];
                                                int64_t slice_179141 = defunc_0_f_res_179060 + i_179120;
                                                int64_t slice_179142 = start_178835 + slice_179141;
                                                int8_t leq_arg0_179143 = ((int8_t *) mem_param_180813.mem)[slice_179142];
                                                int64_t leq_arg0_179144 = ((int64_t *) mem_param_180816.mem)[slice_179142];
                                                int16_t leq_arg0_179145 = ((int16_t *) mem_param_180819.mem)[slice_179142];
                                                bool cond_179146 = leq_arg0_179143 == leq_arg1_179135;
                                                bool defunc_0_leq_res_t_res_179147 = sle64(leq_arg0_179144, leq_arg1_179136);
                                                bool defunc_0_leq_res_179148 = sle16(leq_arg0_179145, leq_arg1_179137);
                                                bool x_179149 = cond_179146 && defunc_0_leq_res_t_res_179147;
                                                bool x_179150 = !cond_179146;
                                                bool y_179151 = defunc_0_leq_res_179148 && x_179150;
                                                bool defunc_0_leq_res_179152 = x_179149 || y_179151;
                                                
                                                cond_f_res_179128 = defunc_0_leq_res_179152;
                                            } else {
                                                cond_f_res_179128 = 0;
                                            }
                                            cond_179126 = cond_f_res_179128;
                                        }
                                        
                                        int64_t loopres_179153;
                                        int8_t loopres_179154;
                                        int64_t loopres_179155;
                                        int16_t loopres_179156;
                                        
                                        if (cond_179126) {
                                            bool x_179158 = sle64((int64_t) 0, i_179120);
                                            bool y_179159 = slt64(i_179120, j_m_i_179084);
                                            bool bounds_check_179160 = x_179158 && y_179159;
                                            bool index_certs_179161;
                                            
                                            if (!bounds_check_179160) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179120, "] out of bounds for array of shape [", (long long) j_m_i_179084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179157 = add64((int64_t) 1, i_179120);
                                            int64_t slice_179162 = defunc_0_f_res_179060 + i_179120;
                                            int64_t slice_179163 = start_178835 + slice_179162;
                                            int8_t tmp_179164 = ((int8_t *) mem_param_180813.mem)[slice_179163];
                                            int64_t tmp_179165 = ((int64_t *) mem_param_180816.mem)[slice_179163];
                                            int16_t tmp_179166 = ((int16_t *) mem_param_180819.mem)[slice_179163];
                                            
                                            loopres_179153 = tmp_179157;
                                            loopres_179154 = tmp_179164;
                                            loopres_179155 = tmp_179165;
                                            loopres_179156 = tmp_179166;
                                        } else {
                                            bool x_179167 = sle64((int64_t) 0, j_179124);
                                            bool y_179168 = slt64(j_179124, j_m_i_179071);
                                            bool bounds_check_179169 = x_179167 && y_179168;
                                            bool index_certs_179170;
                                            
                                            if (!bounds_check_179169) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179124, "] out of bounds for array of shape [", (long long) j_m_i_179071, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179171 = merge_sequential_arg2_179069 + j_179124;
                                            int64_t slice_179172 = start_178835 + slice_179171;
                                            int8_t tmp_179173 = ((int8_t *) mem_param_180813.mem)[slice_179172];
                                            int64_t tmp_179174 = ((int64_t *) mem_param_180816.mem)[slice_179172];
                                            int16_t tmp_179175 = ((int16_t *) mem_param_180819.mem)[slice_179172];
                                            
                                            loopres_179153 = i_179120;
                                            loopres_179154 = tmp_179173;
                                            loopres_179155 = tmp_179174;
                                            loopres_179156 = tmp_179175;
                                        }
                                        ((int8_t *) mem_180857)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179154;
                                        ((int64_t *) mem_180860)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179155;
                                        ((int16_t *) mem_180863)[i_179984 * merge_block_sizze_178572 + k_179119] = loopres_179156;
                                        
                                        int64_t i_tmp_181794 = loopres_179153;
                                        
                                        i_179120 = i_tmp_181794;
                                    }
                                    data_179115 = i_179120;
                                }
                                if (memblock_alloc(ctx, &mem_180912, flat_dim_178785, "mem_180912")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180912.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint8_t *) mem_180857, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180916, bytes_180859, "mem_180916")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180916.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint64_t *) mem_180860, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_alloc(ctx, &mem_180920, bytes_180862, "mem_180920")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_180920.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (uint16_t *) mem_180863, (int64_t) 0, (int64_t []) {merge_block_sizze_178572, (int64_t) 1}, (int64_t []) {num_blocks_178782, merge_block_sizze_178572});
                                if (memblock_set(ctx, &ext_mem_180953, &mem_180912, "mem_180912") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180950, &mem_180916, "mem_180916") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180947, &mem_180920, "mem_180920") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180821, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180953.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180824, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180950.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180827, i_179994 * next_stride_178763, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180947.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_178763});
                            if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180967, bytes_180820, "mem_180967")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180967.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint8_t *) mem_180821, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180971, bytes_180823, "mem_180971")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180971.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint64_t *) mem_180824, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        if (memblock_alloc(ctx, &mem_180975, bytes_180826, "mem_180975")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_180975.mem, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (uint16_t *) mem_180827, (int64_t) 0, (int64_t []) {next_stride_178763, (int64_t) 1}, (int64_t []) {num_merges_178767, next_stride_178763});
                        
                        bool loop_cond_179195 = slt64(next_stride_178763, flat_dim_178567);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181761, &mem_180967, "mem_180967") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181762, &mem_180971, "mem_180971") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181763, &mem_180975, "mem_180975") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181764 = bytes_180820;
                        bool loop_while_tmp_181765 = loop_cond_179195;
                        int64_t stride_tmp_181769 = next_stride_178763;
                        
                        if (memblock_set(ctx, &mem_param_180813, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180816, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180819, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
                            return 1;
                        loop_dz2084Uz2082U_178757 = loop_dz2084Uz2082U_tmp_181764;
                        loop_while_178758 = loop_while_tmp_181765;
                        stride_178762 = stride_tmp_181769;
                    }
                    if (memblock_set(ctx, &ext_mem_180985, &mem_param_180813, "mem_param_180813") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180984, &mem_param_180816, "mem_param_180816") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180983, &mem_param_180819, "mem_param_180819") != 0)
                        return 1;
                    data_178751 = loop_dz2084Uz2082U_178757;
                    data_178752 = loop_while_178758;
                    data_178756 = stride_178762;
                    if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
                        return 1;
                    
                    bool empty_slice_179196 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179197 = sle64((int64_t) 0, zs_lhs_178551);
                    bool i_p_m_t_s_leq_w_179198 = slt64(zs_lhs_178551, data_178751);
                    bool y_179199 = zzero_leq_i_p_m_t_s_179197 && i_p_m_t_s_leq_w_179198;
                    bool ok_or_empty_179200 = empty_slice_179196 || y_179199;
                    bool index_certs_179201;
                    
                    if (!ok_or_empty_179200) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505, "] out of bounds for array of shape [", (long long) data_178751, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180994, &ext_mem_180985, "ext_mem_180985") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180991, &ext_mem_180984, "ext_mem_180984") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180988, &ext_mem_180983, "ext_mem_180983") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180661, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180994.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180664, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180991.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180667, i_180010 * perThread_174828, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180988.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_178505});
                if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
                    return 1;
                for (int64_t i_180000 = 0; i_180000 < perThread_174828; i_180000++) {
                    int64_t lifted_lambda_res_179223 = add64(zm_rhs_178507, i_180000);
                    
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + i_180000] = lifted_lambda_res_179223;
                }
                
                bool cond_179225 = card_178508 == zp_rhs_174827;
                
                if (cond_179225) {
                    bool y_179227 = slt64(card_178508, perThread_174828);
                    bool index_certs_179228;
                    
                    if (!y_179227) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_178508, "] out of bounds for array of shape [", (long long) perThread_174828, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_180659)[i_180010 * perThread_174828 + card_178508] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181020, bytes_180315, "mem_181020")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181799 = 0; nest_i_181799 < window_sizze_120434; nest_i_181799++) {
                ((int16_t *) mem_181020.mem)[nest_i_181799] = (int16_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181022, bytes_180313, "mem_181022")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181800 = 0; nest_i_181800 < window_sizze_120434; nest_i_181800++) {
                ((int64_t *) mem_181022.mem)[nest_i_181800] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181023, window_sizze_120434, "mem_181023")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181801 = 0; nest_i_181801 < window_sizze_120434; nest_i_181801++) {
                ((int8_t *) mem_181023.mem)[nest_i_181801] = (int8_t) -1;
            }
            for (int64_t write_iter_180015 = 0; write_iter_180015 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_174829; write_iter_180015++) {
                int64_t new_index_180167 = squot64(write_iter_180015, perThread_174828);
                int64_t binop_y_180169 = perThread_174828 * new_index_180167;
                int64_t new_index_180170 = write_iter_180015 - binop_y_180169;
                int64_t write_iv_180019 = ((int64_t *) mem_180659)[new_index_180167 * perThread_174828 + new_index_180170];
                int8_t write_iv_180020 = ((int8_t *) mem_180661)[new_index_180167 * perThread_174828 + new_index_180170];
                int64_t write_iv_180021 = ((int64_t *) mem_180664)[new_index_180167 * perThread_174828 + new_index_180170];
                int16_t write_iv_180022 = ((int16_t *) mem_180667)[new_index_180167 * perThread_174828 + new_index_180170];
                
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_120434)) {
                    ((int8_t *) mem_181023.mem)[write_iv_180019] = write_iv_180020;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_120434)) {
                    ((int64_t *) mem_181022.mem)[write_iv_180019] = write_iv_180021;
                }
                if (sle64((int64_t) 0, write_iv_180019) && slt64(write_iv_180019, window_sizze_120434)) {
                    ((int16_t *) mem_181020.mem)[write_iv_180019] = write_iv_180022;
                }
            }
            
            int64_t index_concat_branch_179251;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179252 = ((int64_t *) mem_180642)[index_concat_i_177592];
                
                index_concat_branch_179251 = index_concat_179252;
            } else {
                index_concat_branch_179251 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_179253;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179254 = ((int64_t *) mem_180644)[index_concat_i_177592];
                
                index_concat_branch_179253 = index_concat_179254;
            } else {
                index_concat_branch_179253 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_181023, "mem_181023") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_181022, "mem_181022") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_181020, "mem_181020") != 0)
                return 1;
            loopres_174818 = index_concat_branch_179251;
            loopres_174819 = index_concat_branch_179253;
        } else {
            int16_t leq_lhs_175809 = ((int16_t *) a_list_mem_180280.mem)[p_174790];
            int16_t leq_rhs_175812 = ((int16_t *) b_list_mem_180281.mem)[p_174791];
            bool defunc_0_leq_res_175813 = sle16(leq_lhs_175809, leq_rhs_175812);
            int16_t lowest_175814;
            
            if (defunc_0_leq_res_175813) {
                bool index_certs_179255;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_lhs_175809;
            } else {
                bool index_certs_175819;
                
                if (!y_175807) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_175814 = leq_rhs_175812;
            }
            if (mem_180297_cached_sizze_182243 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182243, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_180299_cached_sizze_182244 < bytes_180296) {
                err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182244, bytes_180296);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180030 = 0; i_180030 < threads_120435; i_180030++) {
                int64_t index_primexp_180246 = add64((int64_t) 1, i_180030);
                int64_t zs_lhs_175835 = mul64(zt_rhs_175828, index_primexp_180246);
                int64_t index_175836 = sdiv64(zs_lhs_175835, partitionFunc_arg0_175805);
                bool cond_175837 = slt64(window_sizze_120434, index_175836);
                int64_t loop_over_175838;
                
                if (cond_175837) {
                    loop_over_175838 = window_sizze_120434;
                } else {
                    loop_over_175838 = index_175836;
                }
                
                int64_t loop_over_175839;
                
                if (cond_175837) {
                    int64_t loop_over_t_res_179256 = sub64(index_175836, window_sizze_120434);
                    
                    loop_over_175839 = loop_over_t_res_179256;
                } else {
                    loop_over_175839 = (int64_t) 0;
                }
                
                int64_t loop_over_175841;
                
                if (cond_175837) {
                    int64_t zm_lhs_179257 = sub64(index_175836, window_sizze_120434);
                    int64_t loop_over_t_res_179258 = sub64(zm_lhs_179257, (int64_t) 1);
                    
                    loop_over_175841 = loop_over_t_res_179258;
                } else {
                    loop_over_175841 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_175844;
                int64_t defunc_0_f_res_175845;
                int64_t defunc_0_f_res_175846;
                int64_t defunc_0_f_res_175847;
                bool loop_while_175848;
                int64_t p_175849;
                int64_t p_175850;
                int64_t p_175851;
                
                loop_while_175848 = 1;
                p_175849 = loop_over_175841;
                p_175850 = loop_over_175838;
                p_175851 = loop_over_175839;
                while (loop_while_175848) {
                    int64_t zs_lhs_175852 = sub64(p_175850, p_175849);
                    int64_t offset_175853 = sdiv64(zs_lhs_175852, (int64_t) 2);
                    int64_t ai_175854 = sub64(p_175850, offset_175853);
                    int64_t max_arg1_175855 = add64(p_175851, offset_175853);
                    int64_t max_res_175856 = smax64((int64_t) 0, max_arg1_175855);
                    bool cond_175857 = slt64((int64_t) 0, max_res_175856);
                    int16_t b_prev_175858;
                    
                    if (cond_175857) {
                        int64_t tmp_179259 = sub64(max_res_175856, (int64_t) 1);
                        bool x_179260 = sle64((int64_t) 0, tmp_179259);
                        bool y_179261 = slt64(tmp_179259, window_sizze_120434);
                        bool bounds_check_179262 = x_179260 && y_179261;
                        bool index_certs_179263;
                        
                        if (!bounds_check_179262) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179259, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179264 = p_174791 + tmp_179259;
                        int16_t b_prev_t_res_179265 = ((int16_t *) b_list_mem_180281.mem)[slice_179264];
                        
                        b_prev_175858 = b_prev_t_res_179265;
                    } else {
                        b_prev_175858 = lowest_175814;
                    }
                    
                    bool cond_175865 = sle64(ai_175854, (int64_t) 0);
                    int64_t loopres_175866;
                    int64_t loopres_175867;
                    int64_t loopres_175868;
                    bool loopres_175869;
                    
                    if (cond_175865) {
                        loopres_175866 = p_175849;
                        loopres_175867 = (int64_t) 0;
                        loopres_175868 = max_res_175856;
                        loopres_175869 = 0;
                    } else {
                        bool cond_175870 = sle64(window_sizze_120434, max_res_175856);
                        int64_t loopres_f_res_175871;
                        int64_t loopres_f_res_175872;
                        int64_t loopres_f_res_175873;
                        bool loopres_f_res_175874;
                        
                        if (cond_175870) {
                            int64_t min_res_179267 = smin64(m_174779, ai_175854);
                            bool x_179268 = sle64((int64_t) 0, m_174779);
                            bool y_179269 = slt64(m_174779, window_sizze_120434);
                            bool bounds_check_179270 = x_179268 && y_179269;
                            bool index_certs_179271;
                            
                            if (!bounds_check_179270) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179274 = sle64((int64_t) 0, min_res_179267);
                            bool y_179275 = slt64(min_res_179267, window_sizze_120434);
                            bool bounds_check_179276 = x_179274 && y_179275;
                            bool index_certs_179277;
                            
                            if (!bounds_check_179276) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179267, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_179273 = ((int16_t *) b_list_mem_180281.mem)[i_p_m_t_s_174807];
                            int64_t slice_179278 = p_174790 + min_res_179267;
                            int16_t leq_rhs_179279 = ((int16_t *) a_list_mem_180280.mem)[slice_179278];
                            bool defunc_0_leq_res_179280 = sle16(leq_lhs_179273, leq_rhs_179279);
                            int64_t loopres_f_res_t_res_179281;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179281 = ai_175854;
                            } else {
                                loopres_f_res_t_res_179281 = p_175850;
                            }
                            
                            bool x_179282 = !defunc_0_leq_res_179280;
                            int64_t loopres_f_res_t_res_179283;
                            
                            if (defunc_0_leq_res_179280) {
                                loopres_f_res_t_res_179283 = window_sizze_120434;
                            } else {
                                int64_t tmp_179284 = sub64(m_174779, offset_175853);
                                
                                loopres_f_res_t_res_179283 = tmp_179284;
                            }
                            loopres_f_res_175871 = p_175849;
                            loopres_f_res_175872 = loopres_f_res_t_res_179281;
                            loopres_f_res_175873 = loopres_f_res_t_res_179283;
                            loopres_f_res_175874 = x_179282;
                        } else {
                            bool cond_175892 = sle64(window_sizze_120434, ai_175854);
                            int64_t loopres_f_res_f_res_175893;
                            int64_t loopres_f_res_f_res_175894;
                            int64_t loopres_f_res_f_res_175895;
                            bool loopres_f_res_f_res_175896;
                            
                            if (cond_175892) {
                                int64_t min_res_179286 = smin64(m_174779, max_res_175856);
                                bool x_179287 = sle64((int64_t) 0, m_174779);
                                bool y_179288 = slt64(m_174779, window_sizze_120434);
                                bool bounds_check_179289 = x_179287 && y_179288;
                                bool index_certs_179290;
                                
                                if (!bounds_check_179289) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_174779, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179293 = sle64((int64_t) 0, min_res_179286);
                                bool y_179294 = slt64(min_res_179286, window_sizze_120434);
                                bool bounds_check_179295 = x_179293 && y_179294;
                                bool index_certs_179296;
                                
                                if (!bounds_check_179295) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179286, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_179292 = ((int16_t *) a_list_mem_180280.mem)[i_p_m_t_s_174796];
                                int64_t slice_179297 = p_174791 + min_res_179286;
                                int16_t leq_rhs_179298 = ((int16_t *) b_list_mem_180281.mem)[slice_179297];
                                bool defunc_0_leq_res_179299 = sle16(leq_lhs_179292, leq_rhs_179298);
                                int64_t loopres_f_res_f_res_t_res_179300;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179300 = max_res_175856;
                                } else {
                                    loopres_f_res_f_res_t_res_179300 = p_175851;
                                }
                                
                                bool x_179301 = !defunc_0_leq_res_179299;
                                int64_t loopres_f_res_f_res_t_res_179302;
                                
                                if (defunc_0_leq_res_179299) {
                                    loopres_f_res_f_res_t_res_179302 = window_sizze_120434;
                                } else {
                                    loopres_f_res_f_res_t_res_179302 = m_174779;
                                }
                                loopres_f_res_f_res_175893 = p_175849;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_t_res_179302;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_t_res_179300;
                                loopres_f_res_f_res_175896 = x_179301;
                            } else {
                                bool cond_175913 = sle64(p_175850, p_175849);
                                int64_t loopres_f_res_f_res_f_res_175914;
                                int64_t loopres_f_res_f_res_f_res_175915;
                                int64_t loopres_f_res_f_res_f_res_175916;
                                bool loopres_f_res_f_res_f_res_175917;
                                
                                if (cond_175913) {
                                    bool cond_179341 = slt64(ai_175854, window_sizze_120434);
                                    int64_t ai_179342;
                                    
                                    if (cond_179341) {
                                        ai_179342 = ai_175854;
                                    } else {
                                        ai_179342 = m_174779;
                                    }
                                    
                                    bool x_179355 = sle64((int64_t) 0, ai_179342);
                                    bool y_179356 = slt64(ai_179342, window_sizze_120434);
                                    bool bounds_check_179357 = x_179355 && y_179356;
                                    bool index_certs_179358;
                                    
                                    if (!bounds_check_179357) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179342, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_179344;
                                    
                                    if (cond_175857) {
                                        int64_t tmp_179345 = sub64(max_res_175856, (int64_t) 1);
                                        bool x_179346 = sle64((int64_t) 0, tmp_179345);
                                        bool y_179347 = slt64(tmp_179345, window_sizze_120434);
                                        bool bounds_check_179348 = x_179346 && y_179347;
                                        bool index_certs_179349;
                                        
                                        if (!bounds_check_179348) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179345, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179350 = p_174791 + tmp_179345;
                                        int16_t b_prev_t_res_179351 = ((int16_t *) b_list_mem_180281.mem)[slice_179350];
                                        
                                        b_prev_179344 = b_prev_t_res_179351;
                                    } else {
                                        bool index_certs_179353;
                                        
                                        if (!y_175807) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179344 = leq_rhs_175812;
                                    }
                                    
                                    int64_t slice_179359 = p_174790 + ai_179342;
                                    int16_t gt_lhs_179360 = ((int16_t *) a_list_mem_180280.mem)[slice_179359];
                                    bool defunc_0_gt_res_179361 = slt16(b_prev_179344, gt_lhs_179360);
                                    int64_t defunc_0_partFunc_sequential_search_res_179362;
                                    int64_t defunc_0_partFunc_sequential_search_res_179363;
                                    
                                    if (defunc_0_gt_res_179361) {
                                        int64_t zl_rhs_179364 = sub64(window_sizze_120434, max_res_175856);
                                        bool loop_cond_179365 = slt64((int64_t) 0, zl_rhs_179364);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179366;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179368;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179369;
                                        bool loop_while_179370;
                                        int64_t p_179371;
                                        int64_t p_179372;
                                        int64_t p_179373;
                                        
                                        loop_while_179370 = loop_cond_179365;
                                        p_179371 = ai_179342;
                                        p_179372 = max_res_175856;
                                        p_179373 = (int64_t) 0;
                                        while (loop_while_179370) {
                                            int64_t i_a_179374 = sub64(ai_179342, p_179373);
                                            int64_t i_b_179375 = add64(max_res_175856, p_179373);
                                            int64_t leq_lhs_179376 = sub64(i_a_179374, (int64_t) 1);
                                            bool x_179377 = sle64((int64_t) 0, leq_lhs_179376);
                                            bool y_179378 = slt64(leq_lhs_179376, window_sizze_120434);
                                            bool bounds_check_179379 = x_179377 && y_179378;
                                            bool index_certs_179380;
                                            
                                            if (!bounds_check_179379) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179376, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179383 = sle64((int64_t) 0, i_b_179375);
                                            bool y_179384 = slt64(i_b_179375, window_sizze_120434);
                                            bool bounds_check_179385 = x_179383 && y_179384;
                                            bool index_certs_179386;
                                            
                                            if (!bounds_check_179385) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179375, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179381 = p_174790 + leq_lhs_179376;
                                            int16_t leq_lhs_179382 = ((int16_t *) a_list_mem_180280.mem)[slice_179381];
                                            int64_t slice_179387 = p_174791 + i_b_179375;
                                            int16_t leq_rhs_179388 = ((int16_t *) b_list_mem_180281.mem)[slice_179387];
                                            bool defunc_0_leq_res_179389 = sle16(leq_lhs_179382, leq_rhs_179388);
                                            int64_t loopres_179390;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179390 = i_a_179374;
                                            } else {
                                                loopres_179390 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179391;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179391 = i_b_179375;
                                            } else {
                                                loopres_179391 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179392;
                                            
                                            if (defunc_0_leq_res_179389) {
                                                loopres_179392 = zl_rhs_179364;
                                            } else {
                                                int64_t tmp_179393 = add64((int64_t) 1, p_179373);
                                                
                                                loopres_179392 = tmp_179393;
                                            }
                                            
                                            bool loop_cond_179394 = slt64(loopres_179392, zl_rhs_179364);
                                            bool loop_while_tmp_181811 = loop_cond_179394;
                                            int64_t p_tmp_181812 = loopres_179390;
                                            int64_t p_tmp_181813 = loopres_179391;
                                            int64_t p_tmp_181814 = loopres_179392;
                                            
                                            loop_while_179370 = loop_while_tmp_181811;
                                            p_179371 = p_tmp_181812;
                                            p_179372 = p_tmp_181813;
                                            p_179373 = p_tmp_181814;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179366 = loop_while_179370;
                                        defunc_0_partFunc_sequential_search_res_t_res_179367 = p_179371;
                                        defunc_0_partFunc_sequential_search_res_t_res_179368 = p_179372;
                                        defunc_0_partFunc_sequential_search_res_t_res_179369 = p_179373;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_t_res_179367;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_t_res_179368;
                                    } else {
                                        int64_t zl_rhs_179395 = sub64(max_res_175856, (int64_t) 1);
                                        bool loop_cond_179396 = slt64((int64_t) 0, zl_rhs_179395);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179397;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179399;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179400;
                                        bool loop_while_179401;
                                        int64_t p_179402;
                                        int64_t p_179403;
                                        int64_t p_179404;
                                        
                                        loop_while_179401 = loop_cond_179396;
                                        p_179402 = ai_179342;
                                        p_179403 = max_res_175856;
                                        p_179404 = (int64_t) 0;
                                        while (loop_while_179401) {
                                            int64_t zp_lhs_179405 = add64(ai_179342, p_179404);
                                            int64_t hi_a_179406 = add64((int64_t) 1, zp_lhs_179405);
                                            bool cond_179407 = slt64(hi_a_179406, window_sizze_120434);
                                            int64_t i_a_179408;
                                            
                                            if (cond_179407) {
                                                i_a_179408 = hi_a_179406;
                                            } else {
                                                i_a_179408 = m_174779;
                                            }
                                            
                                            int64_t zm_lhs_179410 = sub64(max_res_175856, p_179404);
                                            int64_t i_b_179411 = sub64(zm_lhs_179410, (int64_t) 1);
                                            bool x_179412 = sle64((int64_t) 0, i_a_179408);
                                            bool y_179413 = slt64(i_a_179408, window_sizze_120434);
                                            bool bounds_check_179414 = x_179412 && y_179413;
                                            bool index_certs_179415;
                                            
                                            if (!bounds_check_179414) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179408, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179418 = sle64((int64_t) 0, i_b_179411);
                                            bool y_179419 = slt64(i_b_179411, window_sizze_120434);
                                            bool bounds_check_179420 = x_179418 && y_179419;
                                            bool index_certs_179421;
                                            
                                            if (!bounds_check_179420) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179411, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179416 = p_174790 + i_a_179408;
                                            int16_t gt_lhs_179417 = ((int16_t *) a_list_mem_180280.mem)[slice_179416];
                                            int64_t slice_179422 = p_174791 + i_b_179411;
                                            int16_t gt_rhs_179423 = ((int16_t *) b_list_mem_180281.mem)[slice_179422];
                                            bool defunc_0_gt_res_179424 = slt16(gt_rhs_179423, gt_lhs_179417);
                                            int64_t loopres_179425;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179425 = i_a_179408;
                                            } else {
                                                loopres_179425 = ai_179342;
                                            }
                                            
                                            int64_t loopres_179426;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179426 = zm_lhs_179410;
                                            } else {
                                                loopres_179426 = max_res_175856;
                                            }
                                            
                                            int64_t loopres_179427;
                                            
                                            if (defunc_0_gt_res_179424) {
                                                loopres_179427 = zl_rhs_179395;
                                            } else {
                                                int64_t tmp_179428 = add64((int64_t) 1, p_179404);
                                                
                                                loopres_179427 = tmp_179428;
                                            }
                                            
                                            bool loop_cond_179429 = slt64(loopres_179427, zl_rhs_179395);
                                            bool loop_while_tmp_181815 = loop_cond_179429;
                                            int64_t p_tmp_181816 = loopres_179425;
                                            int64_t p_tmp_181817 = loopres_179426;
                                            int64_t p_tmp_181818 = loopres_179427;
                                            
                                            loop_while_179401 = loop_while_tmp_181815;
                                            p_179402 = p_tmp_181816;
                                            p_179403 = p_tmp_181817;
                                            p_179404 = p_tmp_181818;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179397 = loop_while_179401;
                                        defunc_0_partFunc_sequential_search_res_f_res_179398 = p_179402;
                                        defunc_0_partFunc_sequential_search_res_f_res_179399 = p_179403;
                                        defunc_0_partFunc_sequential_search_res_f_res_179400 = p_179404;
                                        defunc_0_partFunc_sequential_search_res_179362 = defunc_0_partFunc_sequential_search_res_f_res_179398;
                                        defunc_0_partFunc_sequential_search_res_179363 = defunc_0_partFunc_sequential_search_res_f_res_179399;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = p_175849;
                                    loopres_f_res_f_res_f_res_175915 = defunc_0_partFunc_sequential_search_res_179362;
                                    loopres_f_res_f_res_f_res_175916 = defunc_0_partFunc_sequential_search_res_179363;
                                    loopres_f_res_f_res_f_res_175917 = 0;
                                } else {
                                    bool x_176001 = sle64((int64_t) 0, ai_175854);
                                    bool y_176002 = slt64(ai_175854, window_sizze_120434);
                                    bool bounds_check_176003 = x_176001 && y_176002;
                                    bool index_certs_176004;
                                    
                                    if (!bounds_check_176003) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_175854, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_177670 = p_174790 + ai_175854;
                                    int16_t gt_lhs_176005 = ((int16_t *) a_list_mem_180280.mem)[slice_177670];
                                    bool defunc_0_gt_res_176006 = slt16(b_prev_175858, gt_lhs_176005);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176007;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176008;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176009;
                                    bool loopres_f_res_f_res_f_res_f_res_176010;
                                    
                                    if (defunc_0_gt_res_176006) {
                                        int64_t leq_lhs_179430 = sub64(ai_175854, (int64_t) 1);
                                        bool x_179431 = sle64((int64_t) 0, leq_lhs_179430);
                                        bool y_179432 = slt64(leq_lhs_179430, window_sizze_120434);
                                        bool bounds_check_179433 = x_179431 && y_179432;
                                        bool index_certs_179434;
                                        
                                        if (!bounds_check_179433) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179430, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179437 = sle64((int64_t) 0, max_res_175856);
                                        bool y_179438 = slt64(max_res_175856, window_sizze_120434);
                                        bool bounds_check_179439 = x_179437 && y_179438;
                                        bool index_certs_179440;
                                        
                                        if (!bounds_check_179439) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_175856, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179435 = p_174790 + leq_lhs_179430;
                                        int16_t leq_lhs_179436 = ((int16_t *) a_list_mem_180280.mem)[slice_179435];
                                        int64_t slice_179441 = p_174791 + max_res_175856;
                                        int16_t leq_rhs_179442 = ((int16_t *) b_list_mem_180281.mem)[slice_179441];
                                        bool defunc_0_leq_res_179443 = sle16(leq_lhs_179436, leq_rhs_179442);
                                        bool x_179444 = !defunc_0_leq_res_179443;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = ai_175854;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179445 = leq_lhs_179430;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        
                                        if (defunc_0_leq_res_179443) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = max_res_175856;
                                        } else {
                                            int64_t tmp_179447 = add64((int64_t) 1, max_res_175856);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179446 = tmp_179447;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176007 = p_175849;
                                        loopres_f_res_f_res_f_res_f_res_176008 = loopres_f_res_f_res_f_res_f_res_t_res_179445;
                                        loopres_f_res_f_res_f_res_f_res_176009 = loopres_f_res_f_res_f_res_f_res_t_res_179446;
                                        loopres_f_res_f_res_f_res_f_res_176010 = x_179444;
                                    } else {
                                        int64_t tmp_176027 = add64((int64_t) 1, ai_175854);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176007 = tmp_176027;
                                        loopres_f_res_f_res_f_res_f_res_176008 = p_175850;
                                        loopres_f_res_f_res_f_res_f_res_176009 = p_175851;
                                        loopres_f_res_f_res_f_res_f_res_176010 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_175914 = loopres_f_res_f_res_f_res_f_res_176007;
                                    loopres_f_res_f_res_f_res_175915 = loopres_f_res_f_res_f_res_f_res_176008;
                                    loopres_f_res_f_res_f_res_175916 = loopres_f_res_f_res_f_res_f_res_176009;
                                    loopres_f_res_f_res_f_res_175917 = loopres_f_res_f_res_f_res_f_res_176010;
                                }
                                loopres_f_res_f_res_175893 = loopres_f_res_f_res_f_res_175914;
                                loopres_f_res_f_res_175894 = loopres_f_res_f_res_f_res_175915;
                                loopres_f_res_f_res_175895 = loopres_f_res_f_res_f_res_175916;
                                loopres_f_res_f_res_175896 = loopres_f_res_f_res_f_res_175917;
                            }
                            loopres_f_res_175871 = loopres_f_res_f_res_175893;
                            loopres_f_res_175872 = loopres_f_res_f_res_175894;
                            loopres_f_res_175873 = loopres_f_res_f_res_175895;
                            loopres_f_res_175874 = loopres_f_res_f_res_175896;
                        }
                        loopres_175866 = loopres_f_res_175871;
                        loopres_175867 = loopres_f_res_175872;
                        loopres_175868 = loopres_f_res_175873;
                        loopres_175869 = loopres_f_res_175874;
                    }
                    
                    bool loop_while_tmp_181807 = loopres_175869;
                    int64_t p_tmp_181808 = loopres_175866;
                    int64_t p_tmp_181809 = loopres_175867;
                    int64_t p_tmp_181810 = loopres_175868;
                    
                    loop_while_175848 = loop_while_tmp_181807;
                    p_175849 = p_tmp_181808;
                    p_175850 = p_tmp_181809;
                    p_175851 = p_tmp_181810;
                }
                defunc_0_f_res_175844 = loop_while_175848;
                defunc_0_f_res_175845 = p_175849;
                defunc_0_f_res_175846 = p_175850;
                defunc_0_f_res_175847 = p_175851;
                ((int64_t *) mem_180297)[i_180030] = defunc_0_f_res_175846;
                ((int64_t *) mem_180299)[i_180030] = defunc_0_f_res_175847;
            }
            if (memblock_alloc(ctx, &mem_180312, window_sizze_120434, "mem_180312")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181819 = 0; nest_i_181819 < window_sizze_120434; nest_i_181819++) {
                ((int8_t *) mem_180312.mem)[nest_i_181819] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180314, bytes_180313, "mem_180314")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181820 = 0; nest_i_181820 < window_sizze_120434; nest_i_181820++) {
                ((int64_t *) mem_180314.mem)[nest_i_181820] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_180316, bytes_180315, "mem_180316")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_181821 = 0; nest_i_181821 < window_sizze_120434; nest_i_181821++) {
                ((int16_t *) mem_180316.mem)[nest_i_181821] = (int16_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176054;
            int64_t defunc_0_mergeFunc_seq_res_176055;
            bool loop_while_176059;
            int64_t p_176060;
            
            loop_while_176059 = loop_cond_176053;
            p_176060 = (int64_t) 0;
            while (loop_while_176059) {
                bool x_176064 = sle64((int64_t) 0, p_176060);
                bool y_176065 = slt64(p_176060, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176066 = x_176064 && y_176065;
                bool index_certs_176067;
                
                if (!bounds_check_176066) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176060, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177653 = sle64((int64_t) 1, p_176060);
                int64_t index_concat_i_177654 = sub64(p_176060, (int64_t) 1);
                int64_t index_concat_177655;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179448 = ((int64_t *) mem_180297)[index_concat_i_177654];
                    
                    index_concat_177655 = x_179448;
                } else {
                    index_concat_177655 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177657;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177657 = index_concat_177655;
                } else {
                    index_concat_branch_177657 = (int64_t) 0;
                }
                
                int64_t index_concat_177649;
                
                if (index_concat_cmp_177653) {
                    int64_t x_179449 = ((int64_t *) mem_180299)[index_concat_i_177654];
                    
                    index_concat_177649 = x_179449;
                } else {
                    index_concat_177649 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177651;
                
                if (index_concat_cmp_177653) {
                    index_concat_branch_177651 = index_concat_177649;
                } else {
                    index_concat_branch_177651 = (int64_t) 0;
                }
                
                int64_t ubs_176070 = add64((int64_t) 1, p_176060);
                bool x_176071 = sle64((int64_t) 0, ubs_176070);
                bool y_176072 = slt64(ubs_176070, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804);
                bool bounds_check_176073 = x_176071 && y_176072;
                bool index_certs_176074;
                
                if (!bounds_check_176073) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_175804, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_177641 = sle64((int64_t) 1, ubs_176070);
                int64_t index_concat_177643;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179450 = ((int64_t *) mem_180297)[p_176060];
                    
                    index_concat_177643 = x_179450;
                } else {
                    index_concat_177643 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177645;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177645 = index_concat_177643;
                } else {
                    index_concat_branch_177645 = (int64_t) 0;
                }
                
                int64_t index_concat_177637;
                
                if (index_concat_cmp_177641) {
                    int64_t x_179451 = ((int64_t *) mem_180299)[p_176060];
                    
                    index_concat_177637 = x_179451;
                } else {
                    index_concat_177637 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_177639;
                
                if (index_concat_cmp_177641) {
                    index_concat_branch_177639 = index_concat_177637;
                } else {
                    index_concat_branch_177639 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 = sub64(index_concat_branch_177639, index_concat_branch_177651);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 = sub64(index_concat_branch_177645, index_concat_branch_177657);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t ind_bottom_176080 = add64(index_concat_branch_177651, index_concat_branch_177657);
                int64_t ind_top_176081 = add64(index_concat_branch_177639, index_concat_branch_177645);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 = sub64(ind_top_176081, ind_bottom_176080);
                bool empty_slice_176083 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 == (int64_t) 0;
                int64_t m_176084 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 1);
                int64_t i_p_m_t_s_176085 = add64(m_176084, index_concat_branch_177657);
                bool zzero_leq_i_p_m_t_s_176086 = sle64((int64_t) 0, i_p_m_t_s_176085);
                bool i_p_m_t_s_leq_w_176087 = slt64(i_p_m_t_s_176085, window_sizze_120434);
                bool zzero_lte_i_176088 = sle64((int64_t) 0, index_concat_branch_177657);
                bool i_lte_j_176089 = sle64(index_concat_branch_177657, index_concat_branch_177645);
                bool y_176090 = i_p_m_t_s_leq_w_176087 && zzero_lte_i_176088;
                bool y_176091 = zzero_leq_i_p_m_t_s_176086 && y_176090;
                bool forwards_ok_176092 = i_lte_j_176089 && y_176091;
                bool ok_or_empty_176093 = empty_slice_176083 || forwards_ok_176092;
                bool index_certs_176094;
                
                if (!ok_or_empty_176093) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177657, ":", (long long) index_concat_branch_177645, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176095 = slt64(index_concat_branch_177645, index_concat_branch_177657);
                bool valid_176096 = !bounds_invalid_upwards_176095;
                bool range_valid_c_176097;
                
                if (!valid_176096) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177657, "..<", (long long) index_concat_branch_177645, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176103 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077 == (int64_t) 0;
                int64_t m_176104 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077, (int64_t) 1);
                int64_t i_p_m_t_s_176105 = add64(m_176104, index_concat_branch_177651);
                bool zzero_leq_i_p_m_t_s_176106 = sle64((int64_t) 0, i_p_m_t_s_176105);
                bool i_p_m_t_s_leq_w_176107 = slt64(i_p_m_t_s_176105, window_sizze_120434);
                bool zzero_lte_i_176108 = sle64((int64_t) 0, index_concat_branch_177651);
                bool i_lte_j_176109 = sle64(index_concat_branch_177651, index_concat_branch_177639);
                bool y_176110 = i_p_m_t_s_leq_w_176107 && zzero_lte_i_176108;
                bool y_176111 = zzero_leq_i_p_m_t_s_176106 && y_176110;
                bool forwards_ok_176112 = i_lte_j_176109 && y_176111;
                bool ok_or_empty_176113 = empty_slice_176103 || forwards_ok_176112;
                bool index_certs_176114;
                
                if (!ok_or_empty_176113) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_177651, ":", (long long) index_concat_branch_177639, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176115 = slt64(index_concat_branch_177639, index_concat_branch_177651);
                bool valid_176116 = !bounds_invalid_upwards_176115;
                bool range_valid_c_176117;
                
                if (!valid_176116) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_177651, "..<", (long long) index_concat_branch_177639, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_180333 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                int64_t bytes_180335 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool cond_176126 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zs_lhs_176127 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, (int64_t) 1);
                int64_t zp_rhs_176128 = sdiv_safe64(zs_lhs_176127, (int64_t) 20);
                int64_t min_num_blocks_176129 = add64((int64_t) 1, zp_rhs_176128);
                bool loop_cond_176130 = slt64((int64_t) 1, min_num_blocks_176129);
                bool smallest_pow_2_geq_than_res_176131;
                int64_t smallest_pow_2_geq_than_res_176132;
                bool loop_while_176133;
                int64_t x_176134;
                
                loop_while_176133 = loop_cond_176130;
                x_176134 = (int64_t) 1;
                while (loop_while_176133) {
                    int64_t loopres_176135 = mul64((int64_t) 2, x_176134);
                    bool loop_cond_176136 = slt64(loopres_176135, min_num_blocks_176129);
                    bool loop_while_tmp_181827 = loop_cond_176136;
                    int64_t x_tmp_181828 = loopres_176135;
                    
                    loop_while_176133 = loop_while_tmp_181827;
                    x_176134 = x_tmp_181828;
                }
                smallest_pow_2_geq_than_res_176131 = loop_while_176133;
                smallest_pow_2_geq_than_res_176132 = x_176134;
                
                bool zzero_176137 = smallest_pow_2_geq_than_res_176132 == (int64_t) 0;
                bool nonzzero_176138 = !zzero_176137;
                bool protect_assert_disj_176139 = cond_176126 || nonzzero_176138;
                bool nonzzero_cert_176140;
                
                if (!protect_assert_disj_176139) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176141 = sdiv_safe64(zs_lhs_176127, smallest_pow_2_geq_than_res_176132);
                int64_t block_sizze_176142 = add64((int64_t) 1, zp_rhs_176141);
                bool y_176149 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                bool protect_assert_disj_181486 = cond_176126 || y_176149;
                bool index_certs_176150;
                
                if (!protect_assert_disj_181486) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176176 = slt64(smallest_pow_2_geq_than_res_176132, (int64_t) 0);
                bool valid_176177 = !bounds_invalid_upwards_176176;
                bool protect_assert_disj_181496 = cond_176126 || valid_176177;
                bool range_valid_c_176178;
                
                if (!protect_assert_disj_181496) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176132, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176180 = slt64(block_sizze_176142, (int64_t) 0);
                bool valid_176181 = !bounds_invalid_upwards_176180;
                bool protect_assert_disj_181498 = cond_176126 || valid_176181;
                bool range_valid_c_176182;
                
                if (!protect_assert_disj_181498) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176142, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176184 = sle64(block_sizze_176142, (int64_t) 1);
                int64_t tmp_176185 = sub64(block_sizze_176142, (int64_t) 2);
                bool bounds_invalid_upwards_176186 = slt64(tmp_176185, (int64_t) 0);
                bool valid_176188 = !bounds_invalid_upwards_176186;
                bool protect_assert_disj_176189 = cond_176184 || valid_176188;
                bool protect_assert_disj_181500 = cond_176126 || protect_assert_disj_176189;
                bool range_valid_c_176190;
                
                if (!protect_assert_disj_181500) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176185, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_176751 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079;
                bool empty_or_match_cert_176752;
                
                if (!dim_match_176751) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "](i8, i64, i16)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176753 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082 == (int64_t) 0;
                int64_t m_176754 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_176755 = sle64((int64_t) 0, m_176754);
                bool i_p_m_t_s_leq_w_176756 = slt64(m_176754, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082);
                bool y_176757 = zzero_leq_i_p_m_t_s_176755 && i_p_m_t_s_leq_w_176756;
                bool ok_or_empty_176758 = empty_slice_176753 || y_176757;
                bool index_certs_176759;
                
                if (!ok_or_empty_176758) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_176760 = add64(ind_bottom_176080, m_176754);
                bool zzero_leq_i_p_m_t_s_176761 = sle64((int64_t) 0, i_p_m_t_s_176760);
                bool i_p_m_t_s_leq_w_176762 = slt64(i_p_m_t_s_176760, window_sizze_120434);
                bool zzero_lte_i_176763 = sle64((int64_t) 0, ind_bottom_176080);
                bool i_lte_j_176764 = sle64(ind_bottom_176080, ind_top_176081);
                bool y_176765 = i_p_m_t_s_leq_w_176762 && zzero_lte_i_176763;
                bool y_176766 = zzero_leq_i_p_m_t_s_176761 && y_176765;
                bool forwards_ok_176767 = i_lte_j_176764 && y_176766;
                bool ok_or_empty_176768 = empty_slice_176753 || forwards_ok_176767;
                bool index_certs_176769;
                
                if (!ok_or_empty_176768) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176080, ":", (long long) ind_top_176081, "] out of bounds for array of shape [", (long long) window_sizze_120434, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_177633 = p_174790 + index_concat_branch_177657;
                
                if (memblock_alloc(ctx, &mem_180332, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "mem_180332")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_181829 = 0; nest_i_181829 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; nest_i_181829++) {
                    ((int8_t *) mem_180332.mem)[nest_i_181829] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_180334, bytes_180333, "mem_180334")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_181830 = 0; i_181830 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078; i_181830++) {
                    int64_t x_181831 = index_concat_branch_177657 + i_181830 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[i_181830] = x_181831;
                }
                
                int64_t slice_177632 = p_174791 + index_concat_branch_177651;
                
                for (int64_t nest_i_181832 = 0; nest_i_181832 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; nest_i_181832++) {
                    ((int8_t *) mem_180332.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + nest_i_181832] = (int8_t) 1;
                }
                for (int64_t i_181833 = 0; i_181833 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077; i_181833++) {
                    int64_t x_181834 = index_concat_branch_177651 + i_181833 * (int64_t) 1;
                    
                    ((int64_t *) mem_180334.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078 + i_181833] = x_181834;
                }
                
                int64_t tmp_offs_181835 = (int64_t) 0;
                
                if (!(tmp_offs_181835 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181835 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180332.mem, tmp_offs_181835, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180332.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181835 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t tmp_offs_181836 = (int64_t) 0;
                
                if (!(tmp_offs_181836 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                if (!(tmp_offs_181836 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180334.mem, tmp_offs_181836, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180334.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                }
                tmp_offs_181836 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                if (memblock_alloc(ctx, &mem_180336, bytes_180335, "mem_180336")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_181837 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_180280.mem, slice_177633, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180336.mem, tmp_offs_181837, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_180281.mem, slice_177632, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077});
                tmp_offs_181837 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176077;
                
                int64_t flat_dim_176143 = smallest_pow_2_geq_than_res_176132 * block_sizze_176142;
                bool x_181481 = !cond_176126;
                int64_t greatest_divisor_leq_than_arg1_176147 = mul64((int64_t) 2, block_sizze_176142);
                int64_t merge_block_sizze_176148;
                
                if (x_181481) {
                    int64_t x_181483;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181483, (int64_t) 8, greatest_divisor_leq_than_arg1_176147) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176148 = x_181483;
                } else {
                    merge_block_sizze_176148 = (int64_t) 0;
                }
                
                bool index_concat_cmp_177627 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, (int64_t) 0);
                int8_t index_concat_branch_177631 = btoi_bool_i8(index_concat_cmp_177627);
                int64_t index_concat_i_179452 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                int64_t index_primexp_179453 = add64(index_concat_branch_177651, index_concat_i_179452);
                int64_t index_concat_branch_177625;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177625 = index_primexp_179453;
                } else {
                    index_concat_branch_177625 = index_concat_branch_177657;
                }
                
                bool x_181477 = !index_concat_cmp_177627;
                bool protect_cond_conj_181487 = x_181477 && x_181481;
                int16_t index_concat_177618;
                
                if (protect_cond_conj_181487) {
                    int16_t x_181479 = ((int16_t *) a_list_mem_180280.mem)[slice_177633];
                    
                    index_concat_177618 = x_181479;
                } else {
                    index_concat_177618 = (int16_t) 0;
                }
                
                int64_t slice_179455 = slice_177632 + index_concat_i_179452;
                bool protect_cond_conj_181488 = index_concat_cmp_177627 && x_181481;
                int16_t index_concat_179456;
                
                if (protect_cond_conj_181488) {
                    int16_t x_181475 = ((int16_t *) b_list_mem_180281.mem)[slice_179455];
                    
                    index_concat_179456 = x_181475;
                } else {
                    index_concat_179456 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_177619;
                
                if (index_concat_cmp_177627) {
                    index_concat_branch_177619 = index_concat_179456;
                } else {
                    index_concat_branch_177619 = index_concat_177618;
                }
                
                int8_t defunc_0_reduce_res_179687;
                int64_t defunc_0_reduce_res_179688;
                int16_t defunc_0_reduce_res_179689;
                
                if (x_181481) {
                    int8_t x_181489;
                    int64_t x_181490;
                    int16_t x_181491;
                    int8_t redout_180033;
                    int64_t redout_180034;
                    int16_t redout_180035;
                    
                    redout_180033 = index_concat_branch_177631;
                    redout_180034 = index_concat_branch_177625;
                    redout_180035 = index_concat_branch_177619;
                    for (int64_t i_180036 = 0; i_180036 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079; i_180036++) {
                        bool index_concat_cmp_180240 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, i_180036);
                        int8_t index_concat_branch_180244 = btoi_bool_i8(index_concat_cmp_180240);
                        int64_t index_concat_branch_180238;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180235 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t index_primexp_180262 = add64(index_concat_branch_177651, index_concat_i_180235);
                            
                            index_concat_branch_180238 = index_primexp_180262;
                        } else {
                            int64_t index_primexp_180264 = add64(index_concat_branch_177657, i_180036);
                            
                            index_concat_branch_180238 = index_primexp_180264;
                        }
                        
                        int16_t index_concat_branch_180232;
                        
                        if (index_concat_cmp_180240) {
                            int64_t index_concat_i_180229 = sub64(i_180036, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                            int64_t slice_180259 = slice_177632 + index_concat_i_180229;
                            int16_t index_concat_180230 = ((int16_t *) b_list_mem_180281.mem)[slice_180259];
                            
                            index_concat_branch_180232 = index_concat_180230;
                        } else {
                            int64_t slice_180260 = slice_177633 + i_180036;
                            int16_t index_concat_180231 = ((int16_t *) a_list_mem_180280.mem)[slice_180260];
                            
                            index_concat_branch_180232 = index_concat_180231;
                        }
                        
                        bool eq_x_y_180275 = redout_180033 == (int8_t) 1;
                        bool eq_x_zz_180276 = redout_180033 == (int8_t) 0;
                        bool p_and_eq_x_y_180277 = index_concat_cmp_180240 && eq_x_y_180275;
                        bool not_p_180278 = !index_concat_cmp_180240;
                        bool p_and_eq_x_y_180279 = eq_x_zz_180276 && not_p_180278;
                        bool cond_176166 = p_and_eq_x_y_180277 || p_and_eq_x_y_180279;
                        bool defunc_0_leq_res_t_res_176167 = sle64(redout_180034, index_concat_branch_180238);
                        bool defunc_0_leq_res_176168 = sle16(redout_180035, index_concat_branch_180232);
                        bool x_176169 = cond_176166 && defunc_0_leq_res_t_res_176167;
                        bool x_176170 = !cond_176166;
                        bool y_176171 = defunc_0_leq_res_176168 && x_176170;
                        bool defunc_0_leq_res_176172 = x_176169 || y_176171;
                        int8_t defunc_0_op_res_176173;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176173 = index_concat_branch_180244;
                        } else {
                            defunc_0_op_res_176173 = redout_180033;
                        }
                        
                        int64_t defunc_0_op_res_176174;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176174 = index_concat_branch_180238;
                        } else {
                            defunc_0_op_res_176174 = redout_180034;
                        }
                        
                        int16_t defunc_0_op_res_176175;
                        
                        if (defunc_0_leq_res_176172) {
                            defunc_0_op_res_176175 = index_concat_branch_180232;
                        } else {
                            defunc_0_op_res_176175 = redout_180035;
                        }
                        
                        int8_t redout_tmp_181838 = defunc_0_op_res_176173;
                        int64_t redout_tmp_181839 = defunc_0_op_res_176174;
                        int16_t redout_tmp_181840 = defunc_0_op_res_176175;
                        
                        redout_180033 = redout_tmp_181838;
                        redout_180034 = redout_tmp_181839;
                        redout_180035 = redout_tmp_181840;
                    }
                    x_181489 = redout_180033;
                    x_181490 = redout_180034;
                    x_181491 = redout_180035;
                    defunc_0_reduce_res_179687 = x_181489;
                    defunc_0_reduce_res_179688 = x_181490;
                    defunc_0_reduce_res_179689 = x_181491;
                } else {
                    defunc_0_reduce_res_179687 = (int8_t) 0;
                    defunc_0_reduce_res_179688 = (int64_t) 0;
                    defunc_0_reduce_res_179689 = (int16_t) 0;
                }
                
                int64_t distance_176187 = add64((int64_t) 1, tmp_176185);
                int64_t binop_x_180339 = (int64_t) 8 * smallest_pow_2_geq_than_res_176132;
                int64_t bytes_180340 = block_sizze_176142 * binop_x_180339;
                int64_t binop_x_180342 = (int64_t) 2 * smallest_pow_2_geq_than_res_176132;
                int64_t bytes_180343 = block_sizze_176142 * binop_x_180342;
                int64_t bytes_180358 = (int64_t) 8 * block_sizze_176142;
                bool loop_cond_176296 = slt64(block_sizze_176142, flat_dim_176143);
                bool zzero_176297 = merge_block_sizze_176148 == (int64_t) 0;
                bool nonzzero_176298 = !zzero_176297;
                
                if (cond_176126) {
                    if (memblock_set(ctx, &ext_mem_180631, &mem_180332, "mem_180332") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &mem_180334, "mem_180334") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &mem_180336, "mem_180336") != 0)
                        return 1;
                } else {
                    if (mem_180338_cached_sizze_182245 < flat_dim_176143) {
                        err = lexical_realloc(ctx, &mem_180338, &mem_180338_cached_sizze_182245, flat_dim_176143);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180341_cached_sizze_182246 < bytes_180340) {
                        err = lexical_realloc(ctx, &mem_180341, &mem_180341_cached_sizze_182246, bytes_180340);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180344_cached_sizze_182247 < bytes_180343) {
                        err = lexical_realloc(ctx, &mem_180344, &mem_180344_cached_sizze_182247, bytes_180343);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180357_cached_sizze_182248 < block_sizze_176142) {
                        err = lexical_realloc(ctx, &mem_180357, &mem_180357_cached_sizze_182248, block_sizze_176142);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180359_cached_sizze_182249 < bytes_180358) {
                        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182249, bytes_180358);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_180361_cached_sizze_182250 < greatest_divisor_leq_than_arg1_176147) {
                        err = lexical_realloc(ctx, &mem_180361, &mem_180361_cached_sizze_182250, greatest_divisor_leq_than_arg1_176147);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180053 = 0; i_180053 < smallest_pow_2_geq_than_res_176132; i_180053++) {
                        int64_t zp_lhs_176195 = mul64(block_sizze_176142, i_180053);
                        
                        for (int64_t i_180043 = 0; i_180043 < block_sizze_176142; i_180043++) {
                            int64_t k_176200 = add64(zp_lhs_176195, i_180043);
                            bool cond_176201 = slt64(k_176200, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079);
                            int8_t lifted_lambda_res_176202;
                            int64_t lifted_lambda_res_176203;
                            int16_t lifted_lambda_res_176204;
                            
                            if (cond_176201) {
                                bool x_179462 = sle64((int64_t) 0, k_176200);
                                bool bounds_check_179463 = cond_176201 && x_179462;
                                bool index_certs_179464;
                                
                                if (!bounds_check_179463) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176200, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179465 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078, k_176200);
                                int8_t index_concat_branch_179466 = btoi_bool_i8(index_concat_cmp_179465);
                                int64_t index_concat_branch_179467;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179468 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t index_primexp_179469 = add64(index_concat_branch_177651, index_concat_i_179468);
                                    
                                    index_concat_branch_179467 = index_primexp_179469;
                                } else {
                                    int64_t index_primexp_179470 = add64(k_176200, index_concat_branch_177657);
                                    
                                    index_concat_branch_179467 = index_primexp_179470;
                                }
                                
                                int16_t index_concat_branch_179471;
                                
                                if (index_concat_cmp_179465) {
                                    int64_t index_concat_i_179472 = sub64(k_176200, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176078);
                                    int64_t slice_179473 = slice_177632 + index_concat_i_179472;
                                    int16_t index_concat_179474 = ((int16_t *) b_list_mem_180281.mem)[slice_179473];
                                    
                                    index_concat_branch_179471 = index_concat_179474;
                                } else {
                                    int64_t slice_179475 = k_176200 + slice_177633;
                                    int16_t index_concat_179476 = ((int16_t *) a_list_mem_180280.mem)[slice_179475];
                                    
                                    index_concat_branch_179471 = index_concat_179476;
                                }
                                lifted_lambda_res_176202 = index_concat_branch_179466;
                                lifted_lambda_res_176203 = index_concat_branch_179467;
                                lifted_lambda_res_176204 = index_concat_branch_179471;
                            } else {
                                lifted_lambda_res_176202 = defunc_0_reduce_res_179687;
                                lifted_lambda_res_176203 = defunc_0_reduce_res_179688;
                                lifted_lambda_res_176204 = defunc_0_reduce_res_179689;
                            }
                            ((int8_t *) mem_180357)[i_180043] = lifted_lambda_res_176202;
                            ((int64_t *) mem_180359)[i_180043] = lifted_lambda_res_176203;
                            ((int16_t *) mem_180361)[i_180043] = lifted_lambda_res_176204;
                        }
                        if (!cond_176184) {
                            for (int64_t i_176217 = 0; i_176217 < distance_176187; i_176217++) {
                                int64_t gt_arg1_176221 = add64((int64_t) 1, i_176217);
                                bool x_176222 = sle64((int64_t) 0, gt_arg1_176221);
                                bool y_176223 = slt64(gt_arg1_176221, block_sizze_176142);
                                bool bounds_check_176224 = x_176222 && y_176223;
                                bool index_certs_176225;
                                
                                if (!bounds_check_176224) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176221, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176229 = slt64(i_176217, block_sizze_176142);
                                bool index_certs_176230;
                                
                                if (!y_176229) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176217, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176226 = ((int8_t *) mem_180357)[gt_arg1_176221];
                                int64_t gt_arg1_176227 = ((int64_t *) mem_180359)[gt_arg1_176221];
                                int16_t gt_arg1_176228 = ((int16_t *) mem_180361)[gt_arg1_176221];
                                int8_t gt_arg0_176231 = ((int8_t *) mem_180357)[i_176217];
                                int64_t gt_arg0_176232 = ((int64_t *) mem_180359)[i_176217];
                                int16_t gt_arg0_176233 = ((int16_t *) mem_180361)[i_176217];
                                bool cond_176234 = gt_arg0_176231 == gt_arg1_176226;
                                bool defunc_0_leq_res_t_res_176235 = sle64(gt_arg0_176232, gt_arg1_176227);
                                bool defunc_0_leq_res_176236 = sle16(gt_arg0_176233, gt_arg1_176228);
                                bool x_176237 = cond_176234 && defunc_0_leq_res_t_res_176235;
                                bool x_176238 = !cond_176234;
                                bool y_176239 = defunc_0_leq_res_176236 && x_176238;
                                bool defunc_0_leq_res_176240 = x_176237 || y_176239;
                                bool defunc_0_lifted_gt_res_176241 = !defunc_0_leq_res_176240;
                                bool s_176242;
                                int64_t s_176246;
                                bool loop_while_176247;
                                int64_t j_176251;
                                
                                loop_while_176247 = defunc_0_lifted_gt_res_176241;
                                j_176251 = i_176217;
                                while (loop_while_176247) {
                                    bool x_176252 = sle64((int64_t) 0, j_176251);
                                    bool y_176253 = slt64(j_176251, block_sizze_176142);
                                    bool bounds_check_176254 = x_176252 && y_176253;
                                    bool index_certs_176255;
                                    
                                    if (!bounds_check_176254) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176251, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_176259 = add64((int64_t) 1, j_176251);
                                    bool x_176260 = sle64((int64_t) 0, copy_arg0_176259);
                                    bool y_176261 = slt64(copy_arg0_176259, block_sizze_176142);
                                    bool bounds_check_176262 = x_176260 && y_176261;
                                    bool index_certs_176263;
                                    
                                    if (!bounds_check_176262) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176259, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_176256 = ((int8_t *) mem_180357)[j_176251];
                                    int64_t copy_arg0_176257 = ((int64_t *) mem_180359)[j_176251];
                                    int16_t copy_arg0_176258 = ((int16_t *) mem_180361)[j_176251];
                                    int8_t copy_arg0_176264 = ((int8_t *) mem_180357)[copy_arg0_176259];
                                    int64_t copy_arg0_176265 = ((int64_t *) mem_180359)[copy_arg0_176259];
                                    int16_t copy_arg0_176266 = ((int16_t *) mem_180361)[copy_arg0_176259];
                                    
                                    ((int8_t *) mem_180357)[j_176251] = copy_arg0_176264;
                                    ((int64_t *) mem_180359)[j_176251] = copy_arg0_176265;
                                    ((int16_t *) mem_180361)[j_176251] = copy_arg0_176266;
                                    ((int8_t *) mem_180357)[copy_arg0_176259] = copy_arg0_176256;
                                    ((int64_t *) mem_180359)[copy_arg0_176259] = copy_arg0_176257;
                                    ((int16_t *) mem_180361)[copy_arg0_176259] = copy_arg0_176258;
                                    
                                    int64_t tmp_176273 = sub64(j_176251, (int64_t) 1);
                                    bool cond_176274 = sle64((int64_t) 0, tmp_176273);
                                    bool loop_cond_176275;
                                    
                                    if (cond_176274) {
                                        bool y_179480 = slt64(tmp_176273, block_sizze_176142);
                                        bool bounds_check_179481 = cond_176274 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176273, "] out of bounds for array of shape [", (long long) block_sizze_176142, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_180357)[j_176251];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_180359)[j_176251];
                                        int16_t gt_arg1_179479 = ((int16_t *) mem_180361)[j_176251];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_180357)[tmp_176273];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_180359)[tmp_176273];
                                        int16_t gt_arg0_179485 = ((int16_t *) mem_180361)[tmp_176273];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = sle16(gt_arg0_179485, gt_arg1_179479);
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_176275 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_176275 = 0;
                                    }
                                    
                                    bool loop_while_tmp_181850 = loop_cond_176275;
                                    int64_t j_tmp_181854 = tmp_176273;
                                    
                                    loop_while_176247 = loop_while_tmp_181850;
                                    j_176251 = j_tmp_181854;
                                }
                                s_176242 = loop_while_176247;
                                s_176246 = j_176251;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180338, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_180357, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180341, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180359, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180344, i_180053 * block_sizze_176142, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180361, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176142});
                    }
                    if (memblock_alloc(ctx, &mem_180438, flat_dim_176143, "mem_180438")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_180438.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint8_t *) mem_180338, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180442, bytes_180340, "mem_180442")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_180442.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint64_t *) mem_180341, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    if (memblock_alloc(ctx, &mem_180446, bytes_180343, "mem_180446")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_180446.mem, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (uint16_t *) mem_180344, (int64_t) 0, (int64_t []) {block_sizze_176142, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176132, block_sizze_176142});
                    
                    int64_t data_176299;
                    bool data_176300;
                    int64_t data_176304;
                    int64_t loop_dz2084Uz2082U_176305;
                    bool loop_while_176306;
                    int64_t stride_176310;
                    
                    if (memblock_set(ctx, &mem_param_180450, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180453, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_180456, &mem_180446, "mem_180446") != 0)
                        return 1;
                    loop_dz2084Uz2082U_176305 = flat_dim_176143;
                    loop_while_176306 = loop_cond_176296;
                    stride_176310 = block_sizze_176142;
                    while (loop_while_176306) {
                        int64_t next_stride_176311 = mul64((int64_t) 2, stride_176310);
                        bool zzero_176312 = next_stride_176311 == (int64_t) 0;
                        bool nonzzero_176313 = !zzero_176312;
                        bool nonzzero_cert_176314;
                        
                        if (!nonzzero_176313) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_176315 = sdiv64(flat_dim_176143, next_stride_176311);
                        bool bounds_invalid_upwards_176316 = slt64(num_merges_176315, (int64_t) 0);
                        bool valid_176317 = !bounds_invalid_upwards_176316;
                        bool range_valid_c_176318;
                        
                        if (!valid_176317) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_176315, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_176320 = sub64(next_stride_176311, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_176321 = sle64((int64_t) 0, m_176320);
                        bool cond_176323 = slt64(next_stride_176311, (int64_t) 10);
                        bool protect_assert_disj_176324 = nonzzero_176298 || cond_176323;
                        bool nonzzero_cert_176325;
                        
                        if (!protect_assert_disj_176324) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_176326 = smod_safe64(next_stride_176311, merge_block_sizze_176148);
                        bool num_blocks_176327 = zeze_lhs_176326 == (int64_t) 0;
                        bool protect_assert_disj_176328 = cond_176323 || num_blocks_176327;
                        bool assert_c_176329;
                        
                        if (!protect_assert_disj_176328) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_176331 = sdiv_safe64(next_stride_176311, merge_block_sizze_176148);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332 = add64((int64_t) 1, num_blocks_176331);
                        int64_t j_m_i_176333 = sub64(next_stride_176311, stride_176310);
                        int64_t flat_dim_176334 = merge_block_sizze_176148 * num_blocks_176331;
                        bool bounds_invalid_upwards_176335 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, (int64_t) 0);
                        bool empty_slice_176336 = j_m_i_176333 == (int64_t) 0;
                        int64_t m_176337 = sub64(j_m_i_176333, (int64_t) 1);
                        bool zzero_lte_i_176338 = sle64((int64_t) 0, stride_176310);
                        bool i_lte_j_176339 = sle64(stride_176310, next_stride_176311);
                        bool empty_slice_176340 = stride_176310 == (int64_t) 0;
                        int64_t m_176341 = sub64(stride_176310, (int64_t) 1);
                        bool bounds_invalid_upwards_176342 = slt64(num_blocks_176331, (int64_t) 0);
                        bool cond_176343 = slt64((int64_t) 0, stride_176310);
                        bool valid_176344 = !bounds_invalid_upwards_176335;
                        int64_t i_p_m_t_s_176345 = add64(stride_176310, m_176337);
                        bool zzero_leq_i_p_m_t_s_176346 = sle64((int64_t) 0, m_176341);
                        bool i_p_m_t_s_leq_w_176347 = slt64(m_176341, next_stride_176311);
                        bool valid_176348 = !bounds_invalid_upwards_176342;
                        bool i_p_m_t_s_leq_w_176349 = slt64(m_176320, flat_dim_176334);
                        bool y_176350 = slt64((int64_t) 0, j_m_i_176333);
                        bool protect_assert_disj_176351 = cond_176323 || valid_176344;
                        bool range_valid_c_176352;
                        
                        if (!protect_assert_disj_176351) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_176353 = sle64((int64_t) 0, i_p_m_t_s_176345);
                        bool i_p_m_t_s_leq_w_176354 = slt64(i_p_m_t_s_176345, next_stride_176311);
                        bool y_176355 = zzero_leq_i_p_m_t_s_176346 && i_p_m_t_s_leq_w_176347;
                        bool protect_assert_disj_176356 = cond_176323 || valid_176348;
                        bool range_valid_c_176357;
                        
                        if (!protect_assert_disj_176356) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_176331, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_176358 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176349;
                        bool y_176359 = zzero_lte_i_176338 && i_p_m_t_s_leq_w_176354;
                        bool forwards_ok_176360 = zzero_lte_i_176338 && y_176355;
                        bool ok_or_empty_176361 = zzero_176312 || y_176358;
                        bool protect_assert_disj_176362 = cond_176343 || y_176350;
                        bool y_176363 = zzero_leq_i_p_m_t_s_176353 && y_176359;
                        bool ok_or_empty_176364 = empty_slice_176340 || forwards_ok_176360;
                        bool protect_assert_disj_176365 = cond_176323 || ok_or_empty_176361;
                        bool index_certs_176366;
                        
                        if (!protect_assert_disj_176365) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) flat_dim_176334, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_176367 = !cond_176323;
                        bool protect_assert_disj_176368 = protect_assert_disj_176362 || loop_not_taken_176367;
                        bool index_certs_176369;
                        
                        if (!protect_assert_disj_176368) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_176370 = i_lte_j_176339 && y_176363;
                        bool protect_assert_disj_176371 = cond_176323 || ok_or_empty_176364;
                        bool index_certs_176372;
                        
                        if (!protect_assert_disj_176371) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176373 = ok_or_empty_176364 || loop_not_taken_176367;
                        bool index_certs_176374;
                        
                        if (!protect_assert_disj_176373) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_176310, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_176375 = empty_slice_176336 || forwards_ok_176370;
                        bool protect_assert_disj_176376 = cond_176323 || ok_or_empty_176375;
                        bool index_certs_176377;
                        
                        if (!protect_assert_disj_176376) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_176378 = loop_not_taken_176367 || ok_or_empty_176375;
                        bool index_certs_176379;
                        
                        if (!protect_assert_disj_176378) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_176310, ":] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_180457 = next_stride_176311 * num_merges_176315;
                        int64_t binop_x_180459 = (int64_t) 8 * num_merges_176315;
                        int64_t bytes_180460 = next_stride_176311 * binop_x_180459;
                        int64_t binop_x_180462 = (int64_t) 2 * num_merges_176315;
                        int64_t bytes_180463 = next_stride_176311 * binop_x_180462;
                        bool i_lte_j_176322 = sle64((int64_t) 0, next_stride_176311);
                        
                        if (mem_180458_cached_sizze_182251 < bytes_180457) {
                            err = lexical_realloc(ctx, &mem_180458, &mem_180458_cached_sizze_182251, bytes_180457);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180461_cached_sizze_182252 < bytes_180460) {
                            err = lexical_realloc(ctx, &mem_180461, &mem_180461_cached_sizze_182252, bytes_180460);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_180464_cached_sizze_182253 < bytes_180463) {
                            err = lexical_realloc(ctx, &mem_180464, &mem_180464_cached_sizze_182253, bytes_180463);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_180477 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332;
                        int64_t binop_x_180495 = (int64_t) 8 * num_blocks_176331;
                        int64_t bytes_180496 = merge_block_sizze_176148 * binop_x_180495;
                        int64_t binop_x_180498 = (int64_t) 2 * num_blocks_176331;
                        int64_t bytes_180499 = merge_block_sizze_176148 * binop_x_180498;
                        int64_t bytes_180560 = (int64_t) 16 * stride_176310;
                        int64_t bytes_180562 = (int64_t) 4 * stride_176310;
                        
                        for (int64_t i_180080 = 0; i_180080 < num_merges_176315; i_180080++) {
                            int64_t start_176384 = mul64(next_stride_176311, i_180080);
                            int64_t j_m_i_176385 = sub64(loop_dz2084Uz2082U_176305, start_176384);
                            bool empty_slice_176386 = j_m_i_176385 == (int64_t) 0;
                            int64_t m_176387 = sub64(j_m_i_176385, (int64_t) 1);
                            int64_t i_p_m_t_s_176388 = add64(start_176384, m_176387);
                            bool zzero_leq_i_p_m_t_s_176389 = sle64((int64_t) 0, i_p_m_t_s_176388);
                            bool i_p_m_t_s_leq_w_176390 = slt64(i_p_m_t_s_176388, loop_dz2084Uz2082U_176305);
                            bool zzero_lte_i_176391 = sle64((int64_t) 0, start_176384);
                            bool i_lte_j_176392 = sle64(start_176384, loop_dz2084Uz2082U_176305);
                            bool y_176393 = i_p_m_t_s_leq_w_176390 && zzero_lte_i_176391;
                            bool y_176394 = zzero_leq_i_p_m_t_s_176389 && y_176393;
                            bool forwards_ok_176395 = i_lte_j_176392 && y_176394;
                            bool ok_or_empty_176396 = empty_slice_176386 || forwards_ok_176395;
                            bool index_certs_176397;
                            
                            if (!ok_or_empty_176396) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_176384, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_176305, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_176398 = slt64(m_176320, j_m_i_176385);
                            bool y_176399 = zzero_leq_i_p_m_t_s_176321 && i_p_m_t_s_leq_w_176398;
                            bool forwards_ok_176400 = i_lte_j_176322 && y_176399;
                            bool ok_or_empty_176401 = zzero_176312 || forwards_ok_176400;
                            bool index_certs_176402;
                            
                            if (!ok_or_empty_176401) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_176311, "] out of bounds for array of shape [", (long long) j_m_i_176385, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_176323) {
                                int8_t dummy_179532;
                                int64_t dummy_179533;
                                int16_t dummy_179534;
                                
                                if (cond_176343) {
                                    int8_t head_res_179535 = ((int8_t *) mem_param_180450.mem)[start_176384];
                                    int64_t head_res_179536 = ((int64_t *) mem_param_180453.mem)[start_176384];
                                    int16_t head_res_179537 = ((int16_t *) mem_param_180456.mem)[start_176384];
                                    
                                    dummy_179532 = head_res_179535;
                                    dummy_179533 = head_res_179536;
                                    dummy_179534 = head_res_179537;
                                } else {
                                    int64_t slice_179538 = stride_176310 + start_176384;
                                    int8_t head_res_179539 = ((int8_t *) mem_param_180450.mem)[slice_179538];
                                    int64_t head_res_179540 = ((int64_t *) mem_param_180453.mem)[slice_179538];
                                    int16_t head_res_179541 = ((int16_t *) mem_param_180456.mem)[slice_179538];
                                    
                                    dummy_179532 = head_res_179539;
                                    dummy_179533 = head_res_179540;
                                    dummy_179534 = head_res_179541;
                                }
                                if (memblock_alloc(ctx, &mem_180559, next_stride_176311, "mem_180559")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181867 = 0; nest_i_181867 < next_stride_176311; nest_i_181867++) {
                                    ((int8_t *) mem_180559.mem)[nest_i_181867] = dummy_179532;
                                }
                                if (memblock_alloc(ctx, &mem_180561, bytes_180560, "mem_180561")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181868 = 0; nest_i_181868 < next_stride_176311; nest_i_181868++) {
                                    ((int64_t *) mem_180561.mem)[nest_i_181868] = dummy_179533;
                                }
                                if (memblock_alloc(ctx, &mem_180563, bytes_180562, "mem_180563")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_181869 = 0; nest_i_181869 < next_stride_176311; nest_i_181869++) {
                                    ((int16_t *) mem_180563.mem)[nest_i_181869] = dummy_179534;
                                }
                                
                                int64_t data_179545;
                                int64_t i_179550 = (int64_t) 0;
                                
                                for (int64_t k_179549 = 0; k_179549 < next_stride_176311; k_179549++) {
                                    int64_t j_179554 = sub64(k_179549, i_179550);
                                    bool cond_179555 = j_179554 == j_m_i_176333;
                                    bool cond_179556;
                                    
                                    if (cond_179555) {
                                        cond_179556 = 1;
                                    } else {
                                        bool cond_179557 = slt64(i_179550, stride_176310);
                                        bool cond_f_res_179558;
                                        
                                        if (cond_179557) {
                                            bool x_179559 = sle64((int64_t) 0, j_179554);
                                            bool y_179560 = slt64(j_179554, j_m_i_176333);
                                            bool bounds_check_179561 = x_179559 && y_179560;
                                            bool index_certs_179562;
                                            
                                            if (!bounds_check_179561) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179568 = sle64((int64_t) 0, i_179550);
                                            bool bounds_check_179569 = cond_179557 && x_179568;
                                            bool index_certs_179570;
                                            
                                            if (!bounds_check_179569) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179563 = stride_176310 + j_179554;
                                            int64_t slice_179564 = start_176384 + slice_179563;
                                            int8_t leq_arg1_179565 = ((int8_t *) mem_param_180450.mem)[slice_179564];
                                            int64_t leq_arg1_179566 = ((int64_t *) mem_param_180453.mem)[slice_179564];
                                            int16_t leq_arg1_179567 = ((int16_t *) mem_param_180456.mem)[slice_179564];
                                            int64_t slice_179571 = start_176384 + i_179550;
                                            int8_t leq_arg0_179572 = ((int8_t *) mem_param_180450.mem)[slice_179571];
                                            int64_t leq_arg0_179573 = ((int64_t *) mem_param_180453.mem)[slice_179571];
                                            int16_t leq_arg0_179574 = ((int16_t *) mem_param_180456.mem)[slice_179571];
                                            bool cond_179575 = leq_arg0_179572 == leq_arg1_179565;
                                            bool defunc_0_leq_res_t_res_179576 = sle64(leq_arg0_179573, leq_arg1_179566);
                                            bool defunc_0_leq_res_179577 = sle16(leq_arg0_179574, leq_arg1_179567);
                                            bool x_179578 = cond_179575 && defunc_0_leq_res_t_res_179576;
                                            bool x_179579 = !cond_179575;
                                            bool y_179580 = defunc_0_leq_res_179577 && x_179579;
                                            bool defunc_0_leq_res_179581 = x_179578 || y_179580;
                                            
                                            cond_f_res_179558 = defunc_0_leq_res_179581;
                                        } else {
                                            cond_f_res_179558 = 0;
                                        }
                                        cond_179556 = cond_f_res_179558;
                                    }
                                    
                                    int64_t loopres_179582;
                                    int8_t loopres_179583;
                                    int64_t loopres_179584;
                                    int16_t loopres_179585;
                                    
                                    if (cond_179556) {
                                        bool x_179587 = sle64((int64_t) 0, i_179550);
                                        bool y_179588 = slt64(i_179550, stride_176310);
                                        bool bounds_check_179589 = x_179587 && y_179588;
                                        bool index_certs_179590;
                                        
                                        if (!bounds_check_179589) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179550, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179586 = add64((int64_t) 1, i_179550);
                                        int64_t slice_179591 = start_176384 + i_179550;
                                        int8_t tmp_179592 = ((int8_t *) mem_param_180450.mem)[slice_179591];
                                        int64_t tmp_179593 = ((int64_t *) mem_param_180453.mem)[slice_179591];
                                        int16_t tmp_179594 = ((int16_t *) mem_param_180456.mem)[slice_179591];
                                        
                                        loopres_179582 = tmp_179586;
                                        loopres_179583 = tmp_179592;
                                        loopres_179584 = tmp_179593;
                                        loopres_179585 = tmp_179594;
                                    } else {
                                        bool x_179595 = sle64((int64_t) 0, j_179554);
                                        bool y_179596 = slt64(j_179554, j_m_i_176333);
                                        bool bounds_check_179597 = x_179595 && y_179596;
                                        bool index_certs_179598;
                                        
                                        if (!bounds_check_179597) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179554, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179599 = stride_176310 + j_179554;
                                        int64_t slice_179600 = start_176384 + slice_179599;
                                        int8_t tmp_179601 = ((int8_t *) mem_param_180450.mem)[slice_179600];
                                        int64_t tmp_179602 = ((int64_t *) mem_param_180453.mem)[slice_179600];
                                        int16_t tmp_179603 = ((int16_t *) mem_param_180456.mem)[slice_179600];
                                        
                                        loopres_179582 = i_179550;
                                        loopres_179583 = tmp_179601;
                                        loopres_179584 = tmp_179602;
                                        loopres_179585 = tmp_179603;
                                    }
                                    ((int8_t *) mem_180559.mem)[k_179549] = loopres_179583;
                                    ((int64_t *) mem_180561.mem)[k_179549] = loopres_179584;
                                    ((int16_t *) mem_180563.mem)[k_179549] = loopres_179585;
                                    
                                    int64_t i_tmp_181870 = loopres_179582;
                                    
                                    i_179550 = i_tmp_181870;
                                }
                                data_179545 = i_179550;
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180559, "mem_180559") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180561, "mem_180561") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180563, "mem_180563") != 0)
                                    return 1;
                            } else {
                                if (mem_180478_cached_sizze_182254 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180478, &mem_180478_cached_sizze_182254, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180480_cached_sizze_182255 < bytes_180477) {
                                    err = lexical_realloc(ctx, &mem_180480, &mem_180480_cached_sizze_182255, bytes_180477);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180061 = 0; i_180061 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332; i_180061++) {
                                    int64_t split_count_arg3_176485 = mul64(merge_block_sizze_176148, i_180061);
                                    int64_t defunc_0_split_count_res_176486;
                                    int64_t defunc_0_split_count_res_176487;
                                    int64_t defunc_0_split_count_res_176488;
                                    int64_t defunc_0_split_count_res_176489;
                                    int64_t defunc_0_split_count_res_176490;
                                    
                                    if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_176486, &defunc_0_split_count_res_176487, &defunc_0_split_count_res_176488, &defunc_0_split_count_res_176489, &defunc_0_split_count_res_176490, (int64_t) 0, stride_176310, (int64_t) 0, j_m_i_176333, split_count_arg3_176485) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_176491 = slt64((int64_t) 0, defunc_0_split_count_res_176490);
                                    bool defunc_0_split_count_res_176492;
                                    int64_t defunc_0_split_count_res_176493;
                                    int64_t defunc_0_split_count_res_176494;
                                    int64_t defunc_0_split_count_res_176495;
                                    int64_t defunc_0_split_count_res_176496;
                                    int64_t defunc_0_split_count_res_176497;
                                    bool loop_while_176498;
                                    int64_t ss_176499;
                                    int64_t ss_176500;
                                    int64_t tt_176501;
                                    int64_t tt_176502;
                                    int64_t count_176503;
                                    
                                    loop_while_176498 = loop_cond_176491;
                                    ss_176499 = defunc_0_split_count_res_176486;
                                    ss_176500 = defunc_0_split_count_res_176487;
                                    tt_176501 = defunc_0_split_count_res_176488;
                                    tt_176502 = defunc_0_split_count_res_176489;
                                    count_176503 = defunc_0_split_count_res_176490;
                                    while (loop_while_176498) {
                                        int64_t zlze_lhs_176504 = sub64(ss_176500, ss_176499);
                                        bool cond_176505 = sle64(zlze_lhs_176504, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_176506;
                                        int64_t defunc_0_lifted_step_res_176507;
                                        int64_t defunc_0_lifted_step_res_176508;
                                        int64_t defunc_0_lifted_step_res_176509;
                                        
                                        if (cond_176505) {
                                            int64_t tmp_179607 = add64(tt_176501, count_176503);
                                            
                                            defunc_0_lifted_step_res_176506 = ss_176499;
                                            defunc_0_lifted_step_res_176507 = tmp_179607;
                                            defunc_0_lifted_step_res_176508 = tt_176502;
                                            defunc_0_lifted_step_res_176509 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_176511 = sub64(tt_176502, tt_176501);
                                            bool cond_176512 = sle64(zlze_lhs_176511, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_176513;
                                            int64_t defunc_0_lifted_step_res_f_res_176514;
                                            int64_t defunc_0_lifted_step_res_f_res_176515;
                                            int64_t defunc_0_lifted_step_res_f_res_176516;
                                            
                                            if (cond_176512) {
                                                int64_t tmp_179608 = add64(ss_176499, count_176503);
                                                
                                                defunc_0_lifted_step_res_f_res_176513 = tmp_179608;
                                                defunc_0_lifted_step_res_f_res_176514 = tt_176501;
                                                defunc_0_lifted_step_res_f_res_176515 = tt_176502;
                                                defunc_0_lifted_step_res_f_res_176516 = (int64_t) 0;
                                            } else {
                                                bool cond_176518 = count_176503 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176519;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176520;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176521;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_176522;
                                                
                                                if (cond_176518) {
                                                    bool x_179610 = sle64((int64_t) 0, ss_176499);
                                                    bool y_179611 = slt64(ss_176499, stride_176310);
                                                    bool bounds_check_179612 = x_179610 && y_179611;
                                                    bool index_certs_179613;
                                                    
                                                    if (!bounds_check_179612) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_176499, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179618 = sle64((int64_t) 0, tt_176501);
                                                    bool y_179619 = slt64(tt_176501, j_m_i_176333);
                                                    bool bounds_check_179620 = x_179618 && y_179619;
                                                    bool index_certs_179621;
                                                    
                                                    if (!bounds_check_179620) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_176501, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179614 = start_176384 + ss_176499;
                                                    int8_t leq_arg1_179615 = ((int8_t *) mem_param_180450.mem)[slice_179614];
                                                    int64_t leq_arg1_179616 = ((int64_t *) mem_param_180453.mem)[slice_179614];
                                                    int16_t leq_arg1_179617 = ((int16_t *) mem_param_180456.mem)[slice_179614];
                                                    int64_t slice_179622 = stride_176310 + tt_176501;
                                                    int64_t slice_179623 = start_176384 + slice_179622;
                                                    int8_t leq_arg0_179624 = ((int8_t *) mem_param_180450.mem)[slice_179623];
                                                    int64_t leq_arg0_179625 = ((int64_t *) mem_param_180453.mem)[slice_179623];
                                                    int16_t leq_arg0_179626 = ((int16_t *) mem_param_180456.mem)[slice_179623];
                                                    bool cond_179627 = leq_arg0_179624 == leq_arg1_179615;
                                                    bool defunc_0_leq_res_t_res_179628 = sle64(leq_arg0_179625, leq_arg1_179616);
                                                    bool defunc_0_leq_res_179629 = sle16(leq_arg0_179626, leq_arg1_179617);
                                                    bool x_179630 = cond_179627 && defunc_0_leq_res_t_res_179628;
                                                    bool x_179631 = !cond_179627;
                                                    bool y_179632 = defunc_0_leq_res_179629 && x_179631;
                                                    bool defunc_0_leq_res_179633 = x_179630 || y_179632;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    
                                                    if (defunc_0_leq_res_179633) {
                                                        int64_t tmp_179636 = add64((int64_t) 1, tt_176501);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = ss_176499;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tmp_179636;
                                                    } else {
                                                        int64_t tmp_179637 = add64((int64_t) 1, ss_176499);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179634 = tmp_179637;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179635 = tt_176501;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = defunc_0_lifted_step_res_f_res_f_res_t_res_179634;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_t_res_179635;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = tt_176502;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = (int64_t) 0;
                                                } else {
                                                    int64_t m_176551 = sdiv64(count_176503, (int64_t) 2);
                                                    int64_t n_176552 = sub64(count_176503, m_176551);
                                                    bool cond_176553 = n_176552 == (int64_t) 0;
                                                    int64_t zgze_lhs_176554 = add64(ss_176499, m_176551);
                                                    bool cond_f_res_176555 = sle64(ss_176500, zgze_lhs_176554);
                                                    bool x_176556 = !cond_176553;
                                                    bool y_176557 = cond_f_res_176555 && x_176556;
                                                    bool cond_176558 = cond_176553 || y_176557;
                                                    bool leq_y_x_176559;
                                                    
                                                    if (cond_176558) {
                                                        leq_y_x_176559 = 1;
                                                    } else {
                                                        bool x_176560 = sle64((int64_t) 0, zgze_lhs_176554);
                                                        bool y_176561 = slt64(zgze_lhs_176554, stride_176310);
                                                        bool bounds_check_176562 = x_176560 && y_176561;
                                                        bool index_certs_176563;
                                                        
                                                        if (!bounds_check_176562) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_176554, "] out of bounds for array of shape [", (long long) stride_176310, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_176568 = add64(tt_176501, n_176552);
                                                        int64_t leq_arg0_176569 = sub64(zm_lhs_176568, (int64_t) 1);
                                                        bool x_176570 = sle64((int64_t) 0, leq_arg0_176569);
                                                        bool y_176571 = slt64(leq_arg0_176569, j_m_i_176333);
                                                        bool bounds_check_176572 = x_176570 && y_176571;
                                                        bool index_certs_176573;
                                                        
                                                        if (!bounds_check_176572) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_176569, "] out of bounds for array of shape [", (long long) j_m_i_176333, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_176564 = start_176384 + zgze_lhs_176554;
                                                        int8_t leq_arg1_176565 = ((int8_t *) mem_param_180450.mem)[slice_176564];
                                                        int64_t leq_arg1_176566 = ((int64_t *) mem_param_180453.mem)[slice_176564];
                                                        int16_t leq_arg1_176567 = ((int16_t *) mem_param_180456.mem)[slice_176564];
                                                        int64_t slice_176574 = stride_176310 + leq_arg0_176569;
                                                        int64_t slice_176575 = start_176384 + slice_176574;
                                                        int8_t leq_arg0_176576 = ((int8_t *) mem_param_180450.mem)[slice_176575];
                                                        int64_t leq_arg0_176577 = ((int64_t *) mem_param_180453.mem)[slice_176575];
                                                        int16_t leq_arg0_176578 = ((int16_t *) mem_param_180456.mem)[slice_176575];
                                                        bool cond_176579 = leq_arg0_176576 == leq_arg1_176565;
                                                        bool defunc_0_leq_res_t_res_176580 = sle64(leq_arg0_176577, leq_arg1_176566);
                                                        bool defunc_0_leq_res_176581 = sle16(leq_arg0_176578, leq_arg1_176567);
                                                        bool x_176582 = cond_176579 && defunc_0_leq_res_t_res_176580;
                                                        bool x_176583 = !cond_176579;
                                                        bool y_176584 = defunc_0_leq_res_176581 && x_176583;
                                                        bool defunc_0_leq_res_176585 = x_176582 || y_176584;
                                                        
                                                        leq_y_x_176559 = defunc_0_leq_res_176585;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                    
                                                    if (leq_y_x_176559) {
                                                        int64_t tmp_179638 = add64(tt_176501, n_176552);
                                                        int64_t tmp_179639 = sub64(count_176503, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tmp_179638;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tt_176502;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = tmp_179639;
                                                    } else {
                                                        int64_t tmp_176591 = add64(tt_176501, n_176552);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176586 = tt_176501;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176587 = tmp_176591;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_176588 = count_176503;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_176519 = ss_176499;
                                                    defunc_0_lifted_step_res_f_res_f_res_176520 = defunc_0_lifted_step_res_f_res_f_res_f_res_176586;
                                                    defunc_0_lifted_step_res_f_res_f_res_176521 = defunc_0_lifted_step_res_f_res_f_res_f_res_176587;
                                                    defunc_0_lifted_step_res_f_res_f_res_176522 = defunc_0_lifted_step_res_f_res_f_res_f_res_176588;
                                                }
                                                defunc_0_lifted_step_res_f_res_176513 = defunc_0_lifted_step_res_f_res_f_res_176519;
                                                defunc_0_lifted_step_res_f_res_176514 = defunc_0_lifted_step_res_f_res_f_res_176520;
                                                defunc_0_lifted_step_res_f_res_176515 = defunc_0_lifted_step_res_f_res_f_res_176521;
                                                defunc_0_lifted_step_res_f_res_176516 = defunc_0_lifted_step_res_f_res_f_res_176522;
                                            }
                                            defunc_0_lifted_step_res_176506 = defunc_0_lifted_step_res_f_res_176513;
                                            defunc_0_lifted_step_res_176507 = defunc_0_lifted_step_res_f_res_176514;
                                            defunc_0_lifted_step_res_176508 = defunc_0_lifted_step_res_f_res_176515;
                                            defunc_0_lifted_step_res_176509 = defunc_0_lifted_step_res_f_res_176516;
                                        }
                                        
                                        int64_t loopres_176592;
                                        int64_t loopres_176593;
                                        int64_t loopres_176594;
                                        int64_t loopres_176595;
                                        int64_t loopres_176596;
                                        
                                        if (futrts_lifted_normalizze_9041(ctx, &loopres_176592, &loopres_176593, &loopres_176594, &loopres_176595, &loopres_176596, defunc_0_lifted_step_res_176506, ss_176500, defunc_0_lifted_step_res_176507, defunc_0_lifted_step_res_176508, defunc_0_lifted_step_res_176509) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_176597 = slt64((int64_t) 0, loopres_176596);
                                        bool loop_while_tmp_181876 = loop_cond_176597;
                                        int64_t ss_tmp_181877 = loopres_176592;
                                        int64_t ss_tmp_181878 = loopres_176593;
                                        int64_t tt_tmp_181879 = loopres_176594;
                                        int64_t tt_tmp_181880 = loopres_176595;
                                        int64_t count_tmp_181881 = loopres_176596;
                                        
                                        loop_while_176498 = loop_while_tmp_181876;
                                        ss_176499 = ss_tmp_181877;
                                        ss_176500 = ss_tmp_181878;
                                        tt_176501 = tt_tmp_181879;
                                        tt_176502 = tt_tmp_181880;
                                        count_176503 = count_tmp_181881;
                                    }
                                    defunc_0_split_count_res_176492 = loop_while_176498;
                                    defunc_0_split_count_res_176493 = ss_176499;
                                    defunc_0_split_count_res_176494 = ss_176500;
                                    defunc_0_split_count_res_176495 = tt_176501;
                                    defunc_0_split_count_res_176496 = tt_176502;
                                    defunc_0_split_count_res_176497 = count_176503;
                                    ((int64_t *) mem_180478)[i_180061] = defunc_0_split_count_res_176493;
                                    ((int64_t *) mem_180480)[i_180061] = defunc_0_split_count_res_176495;
                                }
                                if (mem_180494_cached_sizze_182256 < flat_dim_176334) {
                                    err = lexical_realloc(ctx, &mem_180494, &mem_180494_cached_sizze_182256, flat_dim_176334);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180497_cached_sizze_182257 < bytes_180496) {
                                    err = lexical_realloc(ctx, &mem_180497, &mem_180497_cached_sizze_182257, bytes_180496);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_180500_cached_sizze_182258 < bytes_180499) {
                                    err = lexical_realloc(ctx, &mem_180500, &mem_180500_cached_sizze_182258, bytes_180499);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180070 = 0; i_180070 < num_blocks_176331; i_180070++) {
                                    bool y_176604 = slt64(i_180070, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool index_certs_176606;
                                    
                                    if (!y_176604) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180070, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176607 = ((int64_t *) mem_180478)[i_180070];
                                    int64_t defunc_0_f_res_176608 = ((int64_t *) mem_180480)[i_180070];
                                    int64_t tmp_176609 = add64((int64_t) 1, i_180070);
                                    bool x_176610 = sle64((int64_t) 0, tmp_176609);
                                    bool y_176611 = slt64(tmp_176609, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332);
                                    bool bounds_check_176612 = x_176610 && y_176611;
                                    bool index_certs_176613;
                                    
                                    if (!bounds_check_176612) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_176609, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_176332, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_176614 = ((int64_t *) mem_180478)[tmp_176609];
                                    int64_t defunc_0_f_res_176615 = ((int64_t *) mem_180480)[tmp_176609];
                                    int64_t merge_sequential_arg2_176616 = add64(stride_176310, defunc_0_f_res_176608);
                                    int64_t merge_sequential_arg2_176617 = add64(stride_176310, defunc_0_f_res_176615);
                                    int64_t j_m_i_176618 = sub64(merge_sequential_arg2_176617, merge_sequential_arg2_176616);
                                    bool empty_slice_176619 = j_m_i_176618 == (int64_t) 0;
                                    int64_t m_176620 = sub64(j_m_i_176618, (int64_t) 1);
                                    int64_t i_p_m_t_s_176621 = add64(merge_sequential_arg2_176616, m_176620);
                                    bool zzero_leq_i_p_m_t_s_176622 = sle64((int64_t) 0, i_p_m_t_s_176621);
                                    bool i_p_m_t_s_leq_w_176623 = slt64(i_p_m_t_s_176621, next_stride_176311);
                                    bool zzero_lte_i_176624 = sle64((int64_t) 0, merge_sequential_arg2_176616);
                                    bool i_lte_j_176625 = sle64(merge_sequential_arg2_176616, merge_sequential_arg2_176617);
                                    bool y_176626 = i_p_m_t_s_leq_w_176623 && zzero_lte_i_176624;
                                    bool y_176627 = zzero_leq_i_p_m_t_s_176622 && y_176626;
                                    bool forwards_ok_176628 = i_lte_j_176625 && y_176627;
                                    bool ok_or_empty_176629 = empty_slice_176619 || forwards_ok_176628;
                                    bool index_certs_176630;
                                    
                                    if (!ok_or_empty_176629) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_176616, ":", (long long) merge_sequential_arg2_176617, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_176631 = sub64(defunc_0_f_res_176614, defunc_0_f_res_176607);
                                    bool empty_slice_176632 = j_m_i_176631 == (int64_t) 0;
                                    int64_t m_176633 = sub64(j_m_i_176631, (int64_t) 1);
                                    int64_t i_p_m_t_s_176634 = add64(defunc_0_f_res_176607, m_176633);
                                    bool zzero_leq_i_p_m_t_s_176635 = sle64((int64_t) 0, i_p_m_t_s_176634);
                                    bool i_p_m_t_s_leq_w_176636 = slt64(i_p_m_t_s_176634, next_stride_176311);
                                    bool zzero_lte_i_176637 = sle64((int64_t) 0, defunc_0_f_res_176607);
                                    bool i_lte_j_176638 = sle64(defunc_0_f_res_176607, defunc_0_f_res_176614);
                                    bool y_176639 = i_p_m_t_s_leq_w_176636 && zzero_lte_i_176637;
                                    bool y_176640 = zzero_leq_i_p_m_t_s_176635 && y_176639;
                                    bool forwards_ok_176641 = i_lte_j_176638 && y_176640;
                                    bool ok_or_empty_176642 = empty_slice_176632 || forwards_ok_176641;
                                    bool index_certs_176643;
                                    
                                    if (!ok_or_empty_176642) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_176607, ":", (long long) defunc_0_f_res_176614, "] out of bounds for array of shape [", (long long) next_stride_176311, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_176644 = slt64((int64_t) 0, j_m_i_176631);
                                    int8_t dummy_176645;
                                    int64_t dummy_176646;
                                    int16_t dummy_176647;
                                    
                                    if (cond_176644) {
                                        bool index_certs_179640;
                                        
                                        if (!cond_176644) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179641 = start_176384 + defunc_0_f_res_176607;
                                        int8_t head_res_179642 = ((int8_t *) mem_param_180450.mem)[slice_179641];
                                        int64_t head_res_179643 = ((int64_t *) mem_param_180453.mem)[slice_179641];
                                        int16_t head_res_179644 = ((int16_t *) mem_param_180456.mem)[slice_179641];
                                        
                                        dummy_176645 = head_res_179642;
                                        dummy_176646 = head_res_179643;
                                        dummy_176647 = head_res_179644;
                                    } else {
                                        bool y_176653 = slt64((int64_t) 0, j_m_i_176618);
                                        bool index_certs_176654;
                                        
                                        if (!y_176653) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_176655 = start_176384 + merge_sequential_arg2_176616;
                                        int8_t head_res_176656 = ((int8_t *) mem_param_180450.mem)[slice_176655];
                                        int64_t head_res_176657 = ((int64_t *) mem_param_180453.mem)[slice_176655];
                                        int16_t head_res_176658 = ((int16_t *) mem_param_180456.mem)[slice_176655];
                                        
                                        dummy_176645 = head_res_176656;
                                        dummy_176646 = head_res_176657;
                                        dummy_176647 = head_res_176658;
                                    }
                                    for (int64_t nest_i_181885 = 0; nest_i_181885 < merge_block_sizze_176148; nest_i_181885++) {
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + nest_i_181885] = dummy_176645;
                                    }
                                    for (int64_t nest_i_181886 = 0; nest_i_181886 < merge_block_sizze_176148; nest_i_181886++) {
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + nest_i_181886] = dummy_176646;
                                    }
                                    for (int64_t nest_i_181887 = 0; nest_i_181887 < merge_block_sizze_176148; nest_i_181887++) {
                                        ((int16_t *) mem_180500)[i_180070 * merge_block_sizze_176148 + nest_i_181887] = dummy_176647;
                                    }
                                    
                                    int64_t data_176662;
                                    int64_t i_176667 = (int64_t) 0;
                                    
                                    for (int64_t k_176666 = 0; k_176666 < merge_block_sizze_176148; k_176666++) {
                                        int64_t j_176671 = sub64(k_176666, i_176667);
                                        bool cond_176672 = j_176671 == j_m_i_176618;
                                        bool cond_176673;
                                        
                                        if (cond_176672) {
                                            cond_176673 = 1;
                                        } else {
                                            bool cond_176674 = slt64(i_176667, j_m_i_176631);
                                            bool cond_f_res_176675;
                                            
                                            if (cond_176674) {
                                                bool x_179645 = sle64((int64_t) 0, j_176671);
                                                bool y_179646 = slt64(j_176671, j_m_i_176618);
                                                bool bounds_check_179647 = x_179645 && y_179646;
                                                bool index_certs_179648;
                                                
                                                if (!bounds_check_179647) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179654 = sle64((int64_t) 0, i_176667);
                                                bool bounds_check_179655 = cond_176674 && x_179654;
                                                bool index_certs_179656;
                                                
                                                if (!bounds_check_179655) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179649 = merge_sequential_arg2_176616 + j_176671;
                                                int64_t slice_179650 = start_176384 + slice_179649;
                                                int8_t leq_arg1_179651 = ((int8_t *) mem_param_180450.mem)[slice_179650];
                                                int64_t leq_arg1_179652 = ((int64_t *) mem_param_180453.mem)[slice_179650];
                                                int16_t leq_arg1_179653 = ((int16_t *) mem_param_180456.mem)[slice_179650];
                                                int64_t slice_179657 = defunc_0_f_res_176607 + i_176667;
                                                int64_t slice_179658 = start_176384 + slice_179657;
                                                int8_t leq_arg0_179659 = ((int8_t *) mem_param_180450.mem)[slice_179658];
                                                int64_t leq_arg0_179660 = ((int64_t *) mem_param_180453.mem)[slice_179658];
                                                int16_t leq_arg0_179661 = ((int16_t *) mem_param_180456.mem)[slice_179658];
                                                bool cond_179662 = leq_arg0_179659 == leq_arg1_179651;
                                                bool defunc_0_leq_res_t_res_179663 = sle64(leq_arg0_179660, leq_arg1_179652);
                                                bool defunc_0_leq_res_179664 = sle16(leq_arg0_179661, leq_arg1_179653);
                                                bool x_179665 = cond_179662 && defunc_0_leq_res_t_res_179663;
                                                bool x_179666 = !cond_179662;
                                                bool y_179667 = defunc_0_leq_res_179664 && x_179666;
                                                bool defunc_0_leq_res_179668 = x_179665 || y_179667;
                                                
                                                cond_f_res_176675 = defunc_0_leq_res_179668;
                                            } else {
                                                cond_f_res_176675 = 0;
                                            }
                                            cond_176673 = cond_f_res_176675;
                                        }
                                        
                                        int64_t loopres_176700;
                                        int8_t loopres_176701;
                                        int64_t loopres_176702;
                                        int16_t loopres_176703;
                                        
                                        if (cond_176673) {
                                            bool x_179670 = sle64((int64_t) 0, i_176667);
                                            bool y_179671 = slt64(i_176667, j_m_i_176631);
                                            bool bounds_check_179672 = x_179670 && y_179671;
                                            bool index_certs_179673;
                                            
                                            if (!bounds_check_179672) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176667, "] out of bounds for array of shape [", (long long) j_m_i_176631, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179669 = add64((int64_t) 1, i_176667);
                                            int64_t slice_179674 = defunc_0_f_res_176607 + i_176667;
                                            int64_t slice_179675 = start_176384 + slice_179674;
                                            int8_t tmp_179676 = ((int8_t *) mem_param_180450.mem)[slice_179675];
                                            int64_t tmp_179677 = ((int64_t *) mem_param_180453.mem)[slice_179675];
                                            int16_t tmp_179678 = ((int16_t *) mem_param_180456.mem)[slice_179675];
                                            
                                            loopres_176700 = tmp_179669;
                                            loopres_176701 = tmp_179676;
                                            loopres_176702 = tmp_179677;
                                            loopres_176703 = tmp_179678;
                                        } else {
                                            bool x_176714 = sle64((int64_t) 0, j_176671);
                                            bool y_176715 = slt64(j_176671, j_m_i_176618);
                                            bool bounds_check_176716 = x_176714 && y_176715;
                                            bool index_certs_176717;
                                            
                                            if (!bounds_check_176716) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176671, "] out of bounds for array of shape [", (long long) j_m_i_176618, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_176718 = merge_sequential_arg2_176616 + j_176671;
                                            int64_t slice_176719 = start_176384 + slice_176718;
                                            int8_t tmp_176720 = ((int8_t *) mem_param_180450.mem)[slice_176719];
                                            int64_t tmp_176721 = ((int64_t *) mem_param_180453.mem)[slice_176719];
                                            int16_t tmp_176722 = ((int16_t *) mem_param_180456.mem)[slice_176719];
                                            
                                            loopres_176700 = i_176667;
                                            loopres_176701 = tmp_176720;
                                            loopres_176702 = tmp_176721;
                                            loopres_176703 = tmp_176722;
                                        }
                                        ((int8_t *) mem_180494)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176701;
                                        ((int64_t *) mem_180497)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176702;
                                        ((int16_t *) mem_180500)[i_180070 * merge_block_sizze_176148 + k_176666] = loopres_176703;
                                        
                                        int64_t i_tmp_181888 = loopres_176700;
                                        
                                        i_176667 = i_tmp_181888;
                                    }
                                    data_176662 = i_176667;
                                }
                                if (memblock_alloc(ctx, &mem_180549, flat_dim_176334, "mem_180549")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_180549.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint8_t *) mem_180494, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180553, bytes_180496, "mem_180553")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_180553.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint64_t *) mem_180497, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_alloc(ctx, &mem_180557, bytes_180499, "mem_180557")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_180557.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (uint16_t *) mem_180500, (int64_t) 0, (int64_t []) {merge_block_sizze_176148, (int64_t) 1}, (int64_t []) {num_blocks_176331, merge_block_sizze_176148});
                                if (memblock_set(ctx, &ext_mem_180590, &mem_180549, "mem_180549") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180587, &mem_180553, "mem_180553") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_180584, &mem_180557, "mem_180557") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_180458, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180590.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180461, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180587.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180464, i_180080 * next_stride_176311, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180584.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_176311});
                            if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_180604, bytes_180457, "mem_180604")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_180604.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint8_t *) mem_180458, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180608, bytes_180460, "mem_180608")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_180608.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint64_t *) mem_180461, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        if (memblock_alloc(ctx, &mem_180612, bytes_180463, "mem_180612")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_180612.mem, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (uint16_t *) mem_180464, (int64_t) 0, (int64_t []) {next_stride_176311, (int64_t) 1}, (int64_t []) {num_merges_176315, next_stride_176311});
                        
                        bool loop_cond_176736 = slt64(next_stride_176311, flat_dim_176143);
                        
                        if (memblock_set(ctx, &mem_param_tmp_181855, &mem_180604, "mem_180604") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181856, &mem_180608, "mem_180608") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_181857, &mem_180612, "mem_180612") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_181858 = bytes_180457;
                        bool loop_while_tmp_181859 = loop_cond_176736;
                        int64_t stride_tmp_181863 = next_stride_176311;
                        
                        if (memblock_set(ctx, &mem_param_180450, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180453, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_180456, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
                            return 1;
                        loop_dz2084Uz2082U_176305 = loop_dz2084Uz2082U_tmp_181858;
                        loop_while_176306 = loop_while_tmp_181859;
                        stride_176310 = stride_tmp_181863;
                    }
                    if (memblock_set(ctx, &ext_mem_180622, &mem_param_180450, "mem_param_180450") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180621, &mem_param_180453, "mem_param_180453") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180620, &mem_param_180456, "mem_param_180456") != 0)
                        return 1;
                    data_176299 = loop_dz2084Uz2082U_176305;
                    data_176300 = loop_while_176306;
                    data_176304 = stride_176310;
                    if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
                        return 1;
                    
                    bool empty_slice_176737 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_176738 = sle64((int64_t) 0, zs_lhs_176127);
                    bool i_p_m_t_s_leq_w_176739 = slt64(zs_lhs_176127, data_176299);
                    bool y_176740 = zzero_leq_i_p_m_t_s_176738 && i_p_m_t_s_leq_w_176739;
                    bool ok_or_empty_176741 = empty_slice_176737 || y_176740;
                    bool index_certs_176742;
                    
                    if (!ok_or_empty_176741) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176079, "] out of bounds for array of shape [", (long long) data_176299, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_180631, &ext_mem_180622, "ext_mem_180622") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180628, &ext_mem_180621, "ext_mem_180621") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_180625, &ext_mem_180620, "ext_mem_180620") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_180312.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_180631.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_180314.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_180628.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_180316.mem, ind_bottom_176080, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_180625.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176082});
                if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
                    return 1;
                
                bool loop_cond_176778 = slt64(ubs_176070, threads_120435);
                bool loop_while_tmp_181822 = loop_cond_176778;
                int64_t p_tmp_181823 = ubs_176070;
                
                loop_while_176059 = loop_while_tmp_181822;
                p_176060 = p_tmp_181823;
            }
            defunc_0_mergeFunc_seq_res_176054 = loop_while_176059;
            defunc_0_mergeFunc_seq_res_176055 = p_176060;
            
            int64_t index_concat_branch_177595;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179693 = ((int64_t *) mem_180297)[index_concat_i_177592];
                
                index_concat_branch_177595 = index_concat_179693;
            } else {
                index_concat_branch_177595 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_177589;
            
            if (index_concat_cmp_177591) {
                int64_t index_concat_179694 = ((int64_t *) mem_180299)[index_concat_i_177592];
                
                index_concat_branch_177589 = index_concat_179694;
            } else {
                index_concat_branch_177589 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181050, &mem_180312, "mem_180312") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181047, &mem_180314, "mem_180314") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181044, &mem_180316, "mem_180316") != 0)
                return 1;
            loopres_174818 = index_concat_branch_177595;
            loopres_174819 = index_concat_branch_177589;
        }
        for (int64_t i_180086 = 0; i_180086 < window_sizze_120434; i_180086++) {
            int8_t eta_p_176786 = ((int8_t *) ext_mem_181050.mem)[i_180086];
            int64_t eta_p_176787 = ((int64_t *) ext_mem_181047.mem)[i_180086];
            bool cond_176788 = eta_p_176786 == (int8_t) 0;
            int64_t tmp_176789;
            
            if (cond_176788) {
                int64_t tmp_t_res_179697 = add64(p_174790, eta_p_176787);
                
                tmp_176789 = tmp_t_res_179697;
            } else {
                int64_t tmp_f_res_176791 = add64(p_174791, eta_p_176787);
                
                tmp_176789 = tmp_f_res_176791;
            }
            ((int64_t *) mem_180284.mem)[ind_bottom_174794 + i_180086] = tmp_176789;
        }
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        
        int64_t next_lbs_176792 = add64(p_174790, loopres_174818);
        int64_t next_lbs_176793 = add64(p_174791, loopres_174819);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181050.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_120434});
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180286.mem, ind_bottom_174794, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181044.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_120434});
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        
        bool cond_176807 = slt64(next_lbs_176792, zl_rhs_174773);
        bool loop_cond_t_res_176808 = slt64(next_lbs_176793, zl_rhs_174775);
        bool x_176809 = cond_176807 && loop_cond_t_res_176808;
        bool loop_while_tmp_181706 = x_176809;
        int64_t p_tmp_181710 = next_lbs_176792;
        int64_t p_tmp_181711 = next_lbs_176793;
        
        loop_while_174786 = loop_while_tmp_181706;
        p_174790 = p_tmp_181710;
        p_174791 = p_tmp_181711;
    }
    defunc_0_merge_pipeline_res_174780 = loop_while_174786;
    defunc_0_merge_pipeline_res_174784 = p_174790;
    defunc_0_merge_pipeline_res_174785 = p_174791;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 = sub64(nb_120433, defunc_0_merge_pipeline_res_174785);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 = sub64(na_120432, defunc_0_merge_pipeline_res_174784);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    bool empty_slice_176813 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 == (int64_t) 0;
    int64_t m_176814 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 1);
    int64_t i_p_m_t_s_176815 = add64(defunc_0_merge_pipeline_res_174784, m_176814);
    bool zzero_leq_i_p_m_t_s_176816 = sle64((int64_t) 0, i_p_m_t_s_176815);
    bool i_p_m_t_s_leq_w_176817 = slt64(i_p_m_t_s_176815, na_120432);
    bool zzero_lte_i_176818 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174784);
    bool i_lte_j_176819 = sle64(defunc_0_merge_pipeline_res_174784, na_120432);
    bool y_176820 = i_p_m_t_s_leq_w_176817 && zzero_lte_i_176818;
    bool y_176821 = zzero_leq_i_p_m_t_s_176816 && y_176820;
    bool forwards_ok_176822 = i_lte_j_176819 && y_176821;
    bool ok_or_empty_176823 = empty_slice_176813 || forwards_ok_176822;
    bool index_certs_176824;
    
    if (!ok_or_empty_176823) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174784, ":", (long long) na_120432, "] out of bounds for array of shape [", (long long) na_120432, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176828 = slt64(na_120432, defunc_0_merge_pipeline_res_174784);
    bool valid_176829 = !bounds_invalid_upwards_176828;
    bool range_valid_c_176830;
    
    if (!valid_176829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174784, "..<", (long long) na_120432, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_176834 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810 == (int64_t) 0;
    int64_t m_176835 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810, (int64_t) 1);
    int64_t i_p_m_t_s_176836 = add64(defunc_0_merge_pipeline_res_174785, m_176835);
    bool zzero_leq_i_p_m_t_s_176837 = sle64((int64_t) 0, i_p_m_t_s_176836);
    bool i_p_m_t_s_leq_w_176838 = slt64(i_p_m_t_s_176836, nb_120433);
    bool zzero_lte_i_176839 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_174785);
    bool i_lte_j_176840 = sle64(defunc_0_merge_pipeline_res_174785, nb_120433);
    bool y_176841 = i_p_m_t_s_leq_w_176838 && zzero_lte_i_176839;
    bool y_176842 = zzero_leq_i_p_m_t_s_176837 && y_176841;
    bool forwards_ok_176843 = i_lte_j_176840 && y_176842;
    bool ok_or_empty_176844 = empty_slice_176834 || forwards_ok_176843;
    bool index_certs_176845;
    
    if (!ok_or_empty_176844) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_174785, ":", (long long) nb_120433, "] out of bounds for array of shape [", (long long) nb_120433, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176849 = slt64(nb_120433, defunc_0_merge_pipeline_res_174785);
    bool valid_176850 = !bounds_invalid_upwards_176849;
    bool range_valid_c_176851;
    
    if (!valid_176850) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_174785, "..<", (long long) nb_120433, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181075 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    int64_t bytes_181077 = (int64_t) 2 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool cond_176858 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zs_lhs_176859 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, (int64_t) 1);
    int64_t zp_rhs_176860 = sdiv_safe64(zs_lhs_176859, (int64_t) 20);
    int64_t min_num_blocks_176861 = add64((int64_t) 1, zp_rhs_176860);
    bool loop_cond_176862 = slt64((int64_t) 1, min_num_blocks_176861);
    bool smallest_pow_2_geq_than_res_176863;
    int64_t smallest_pow_2_geq_than_res_176864;
    bool loop_while_176865;
    int64_t x_176866;
    
    loop_while_176865 = loop_cond_176862;
    x_176866 = (int64_t) 1;
    while (loop_while_176865) {
        int64_t loopres_176867 = mul64((int64_t) 2, x_176866);
        bool loop_cond_176868 = slt64(loopres_176867, min_num_blocks_176861);
        bool loop_while_tmp_181893 = loop_cond_176868;
        int64_t x_tmp_181894 = loopres_176867;
        
        loop_while_176865 = loop_while_tmp_181893;
        x_176866 = x_tmp_181894;
    }
    smallest_pow_2_geq_than_res_176863 = loop_while_176865;
    smallest_pow_2_geq_than_res_176864 = x_176866;
    
    bool zzero_176869 = smallest_pow_2_geq_than_res_176864 == (int64_t) 0;
    bool nonzzero_176870 = !zzero_176869;
    bool protect_assert_disj_176871 = cond_176858 || nonzzero_176870;
    bool nonzzero_cert_176872;
    
    if (!protect_assert_disj_176871) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_176873 = sdiv_safe64(zs_lhs_176859, smallest_pow_2_geq_than_res_176864);
    int64_t block_sizze_176874 = add64((int64_t) 1, zp_rhs_176873);
    bool y_176881 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool protect_assert_disj_181403 = cond_176858 || y_176881;
    bool index_certs_176882;
    
    if (!protect_assert_disj_181403) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176908 = slt64(smallest_pow_2_geq_than_res_176864, (int64_t) 0);
    bool valid_176909 = !bounds_invalid_upwards_176908;
    bool protect_assert_disj_181413 = cond_176858 || valid_176909;
    bool range_valid_c_176910;
    
    if (!protect_assert_disj_181413) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176864, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176912 = slt64(block_sizze_176874, (int64_t) 0);
    bool valid_176913 = !bounds_invalid_upwards_176912;
    bool protect_assert_disj_181415 = cond_176858 || valid_176913;
    bool range_valid_c_176914;
    
    if (!protect_assert_disj_181415) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176874, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_176916 = sle64(block_sizze_176874, (int64_t) 1);
    int64_t tmp_176917 = sub64(block_sizze_176874, (int64_t) 2);
    bool bounds_invalid_upwards_176918 = slt64(tmp_176917, (int64_t) 0);
    bool valid_176920 = !bounds_invalid_upwards_176918;
    bool protect_assert_disj_176921 = cond_176916 || valid_176920;
    bool protect_assert_disj_181417 = cond_176858 || protect_assert_disj_176921;
    bool range_valid_c_176922;
    
    if (!protect_assert_disj_181417) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176917, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177483 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_177485 = sle64((int64_t) 0, zs_lhs_176859);
    bool i_p_m_t_s_leq_w_177486 = slt64(zs_lhs_176859, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
    bool y_177487 = zzero_leq_i_p_m_t_s_177485 && i_p_m_t_s_leq_w_177486;
    bool ok_or_empty_177488 = empty_slice_177483 || y_177487;
    bool index_certs_177489;
    
    if (!ok_or_empty_177488) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_177490 = add64(defunc_0_merge_pipeline_res_174784, defunc_0_merge_pipeline_res_174785);
    int64_t j_m_i_177491 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, final_buffer_177490);
    bool empty_slice_177492 = j_m_i_177491 == (int64_t) 0;
    int64_t m_177493 = sub64(j_m_i_177491, (int64_t) 1);
    int64_t i_p_m_t_s_177494 = add64(final_buffer_177490, m_177493);
    bool zzero_leq_i_p_m_t_s_177495 = sle64((int64_t) 0, i_p_m_t_s_177494);
    bool i_p_m_t_s_leq_w_177496 = slt64(i_p_m_t_s_177494, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool zzero_lte_i_177497 = sle64((int64_t) 0, final_buffer_177490);
    bool i_lte_j_177498 = sle64(final_buffer_177490, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769);
    bool y_177499 = i_p_m_t_s_leq_w_177496 && zzero_lte_i_177497;
    bool y_177500 = zzero_leq_i_p_m_t_s_177495 && y_177499;
    bool forwards_ok_177501 = i_lte_j_177498 && y_177500;
    bool ok_or_empty_177502 = empty_slice_177492 || forwards_ok_177501;
    bool index_certs_177503;
    
    if (!ok_or_empty_177502) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_177490, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_177504 = j_m_i_177491 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812;
    bool empty_or_match_cert_177505;
    
    if (!dim_match_177504) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_177491, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181074, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "mem_181074")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181895 = 0; nest_i_181895 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; nest_i_181895++) {
        ((int8_t *) mem_181074.mem)[nest_i_181895] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181076, bytes_181075, "mem_181076")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181896 = 0; i_181896 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811; i_181896++) {
        int64_t x_181897 = defunc_0_merge_pipeline_res_174784 + i_181896 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[i_181896] = x_181897;
    }
    for (int64_t nest_i_181898 = 0; nest_i_181898 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; nest_i_181898++) {
        ((int8_t *) mem_181074.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + nest_i_181898] = (int8_t) 1;
    }
    for (int64_t i_181899 = 0; i_181899 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810; i_181899++) {
        int64_t x_181900 = defunc_0_merge_pipeline_res_174785 + i_181899 * (int64_t) 1;
        
        ((int64_t *) mem_181076.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811 + i_181899] = x_181900;
    }
    
    int64_t tmp_offs_181901 = (int64_t) 0;
    
    if (!(tmp_offs_181901 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181901 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181074.mem, tmp_offs_181901, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181074.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181901 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t tmp_offs_181902 = (int64_t) 0;
    
    if (!(tmp_offs_181902 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    if (!(tmp_offs_181902 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181076.mem, tmp_offs_181902, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181076.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    }
    tmp_offs_181902 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    if (memblock_alloc(ctx, &mem_181078, bytes_181077, "mem_181078")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_181903 = (int64_t) 0;
    
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_180280.mem, defunc_0_merge_pipeline_res_174784, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181078.mem, tmp_offs_181903, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_180281.mem, defunc_0_merge_pipeline_res_174785, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810});
    tmp_offs_181903 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_176810;
    
    int64_t flat_dim_176875 = smallest_pow_2_geq_than_res_176864 * block_sizze_176874;
    bool x_181398 = !cond_176858;
    int64_t greatest_divisor_leq_than_arg1_176879 = mul64((int64_t) 2, block_sizze_176874);
    int64_t merge_block_sizze_176880;
    
    if (x_181398) {
        int64_t x_181400;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_181400, (int64_t) 8, greatest_divisor_leq_than_arg1_176879) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_176880 = x_181400;
    } else {
        merge_block_sizze_176880 = (int64_t) 0;
    }
    
    bool index_concat_cmp_177555 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, (int64_t) 0);
    int8_t index_concat_branch_177559 = btoi_bool_i8(index_concat_cmp_177555);
    int64_t index_concat_i_179699 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
    int64_t index_primexp_179700 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179699);
    int64_t index_concat_branch_177553;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177553 = index_primexp_179700;
    } else {
        index_concat_branch_177553 = defunc_0_merge_pipeline_res_174784;
    }
    
    bool x_181394 = !index_concat_cmp_177555;
    bool protect_cond_conj_181404 = x_181394 && x_181398;
    int16_t index_concat_177546;
    
    if (protect_cond_conj_181404) {
        int16_t x_181396 = ((int16_t *) a_list_mem_180280.mem)[defunc_0_merge_pipeline_res_174784];
        
        index_concat_177546 = x_181396;
    } else {
        index_concat_177546 = (int16_t) 0;
    }
    
    bool protect_cond_conj_181405 = index_concat_cmp_177555 && x_181398;
    int16_t index_concat_179703;
    
    if (protect_cond_conj_181405) {
        int16_t x_181392 = ((int16_t *) b_list_mem_180281.mem)[index_primexp_179700];
        
        index_concat_179703 = x_181392;
    } else {
        index_concat_179703 = (int16_t) 0;
    }
    
    int16_t index_concat_branch_177547;
    
    if (index_concat_cmp_177555) {
        index_concat_branch_177547 = index_concat_179703;
    } else {
        index_concat_branch_177547 = index_concat_177546;
    }
    
    int8_t defunc_0_reduce_res_179934;
    int64_t defunc_0_reduce_res_179935;
    int16_t defunc_0_reduce_res_179936;
    
    if (x_181398) {
        int8_t x_181406;
        int64_t x_181407;
        int16_t x_181408;
        int8_t redout_180088;
        int64_t redout_180089;
        int16_t redout_180090;
        
        redout_180088 = index_concat_branch_177559;
        redout_180089 = index_concat_branch_177553;
        redout_180090 = index_concat_branch_177547;
        for (int64_t i_180091 = 0; i_180091 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812; i_180091++) {
            bool index_concat_cmp_180162 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, i_180091);
            int8_t index_concat_branch_180166 = btoi_bool_i8(index_concat_cmp_180162);
            int64_t index_concat_branch_180160;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180157 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t index_primexp_180250 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_180157);
                
                index_concat_branch_180160 = index_primexp_180250;
            } else {
                int64_t index_primexp_180252 = add64(defunc_0_merge_pipeline_res_174784, i_180091);
                
                index_concat_branch_180160 = index_primexp_180252;
            }
            
            int16_t index_concat_branch_180154;
            
            if (index_concat_cmp_180162) {
                int64_t index_concat_i_180151 = sub64(i_180091, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                int64_t slice_180247 = defunc_0_merge_pipeline_res_174785 + index_concat_i_180151;
                int16_t index_concat_180152 = ((int16_t *) b_list_mem_180281.mem)[slice_180247];
                
                index_concat_branch_180154 = index_concat_180152;
            } else {
                int64_t slice_180248 = defunc_0_merge_pipeline_res_174784 + i_180091;
                int16_t index_concat_180153 = ((int16_t *) a_list_mem_180280.mem)[slice_180248];
                
                index_concat_branch_180154 = index_concat_180153;
            }
            
            bool eq_x_y_180265 = redout_180088 == (int8_t) 1;
            bool eq_x_zz_180266 = redout_180088 == (int8_t) 0;
            bool p_and_eq_x_y_180267 = index_concat_cmp_180162 && eq_x_y_180265;
            bool not_p_180268 = !index_concat_cmp_180162;
            bool p_and_eq_x_y_180269 = eq_x_zz_180266 && not_p_180268;
            bool cond_176898 = p_and_eq_x_y_180267 || p_and_eq_x_y_180269;
            bool defunc_0_leq_res_t_res_176899 = sle64(redout_180089, index_concat_branch_180160);
            bool defunc_0_leq_res_176900 = sle16(redout_180090, index_concat_branch_180154);
            bool x_176901 = cond_176898 && defunc_0_leq_res_t_res_176899;
            bool x_176902 = !cond_176898;
            bool y_176903 = defunc_0_leq_res_176900 && x_176902;
            bool defunc_0_leq_res_176904 = x_176901 || y_176903;
            int8_t defunc_0_op_res_176905;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176905 = index_concat_branch_180166;
            } else {
                defunc_0_op_res_176905 = redout_180088;
            }
            
            int64_t defunc_0_op_res_176906;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176906 = index_concat_branch_180160;
            } else {
                defunc_0_op_res_176906 = redout_180089;
            }
            
            int16_t defunc_0_op_res_176907;
            
            if (defunc_0_leq_res_176904) {
                defunc_0_op_res_176907 = index_concat_branch_180154;
            } else {
                defunc_0_op_res_176907 = redout_180090;
            }
            
            int8_t redout_tmp_181904 = defunc_0_op_res_176905;
            int64_t redout_tmp_181905 = defunc_0_op_res_176906;
            int16_t redout_tmp_181906 = defunc_0_op_res_176907;
            
            redout_180088 = redout_tmp_181904;
            redout_180089 = redout_tmp_181905;
            redout_180090 = redout_tmp_181906;
        }
        x_181406 = redout_180088;
        x_181407 = redout_180089;
        x_181408 = redout_180090;
        defunc_0_reduce_res_179934 = x_181406;
        defunc_0_reduce_res_179935 = x_181407;
        defunc_0_reduce_res_179936 = x_181408;
    } else {
        defunc_0_reduce_res_179934 = (int8_t) 0;
        defunc_0_reduce_res_179935 = (int64_t) 0;
        defunc_0_reduce_res_179936 = (int16_t) 0;
    }
    
    int64_t distance_176919 = add64((int64_t) 1, tmp_176917);
    int64_t binop_x_181081 = (int64_t) 8 * smallest_pow_2_geq_than_res_176864;
    int64_t bytes_181082 = block_sizze_176874 * binop_x_181081;
    int64_t binop_x_181084 = (int64_t) 2 * smallest_pow_2_geq_than_res_176864;
    int64_t bytes_181085 = block_sizze_176874 * binop_x_181084;
    int64_t bytes_181100 = (int64_t) 8 * block_sizze_176874;
    bool loop_cond_177028 = slt64(block_sizze_176874, flat_dim_176875);
    bool zzero_177029 = merge_block_sizze_176880 == (int64_t) 0;
    bool nonzzero_177030 = !zzero_177029;
    
    if (cond_176858) {
        if (memblock_set(ctx, &ext_mem_181373, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &mem_181078, "mem_181078") != 0)
            return 1;
    } else {
        if (mem_181080_cached_sizze_182279 < flat_dim_176875) {
            err = lexical_realloc(ctx, &mem_181080, &mem_181080_cached_sizze_182279, flat_dim_176875);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181083_cached_sizze_182280 < bytes_181082) {
            err = lexical_realloc(ctx, &mem_181083, &mem_181083_cached_sizze_182280, bytes_181082);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181086_cached_sizze_182281 < bytes_181085) {
            err = lexical_realloc(ctx, &mem_181086, &mem_181086_cached_sizze_182281, bytes_181085);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181099_cached_sizze_182282 < block_sizze_176874) {
            err = lexical_realloc(ctx, &mem_181099, &mem_181099_cached_sizze_182282, block_sizze_176874);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181101_cached_sizze_182283 < bytes_181100) {
            err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_182283, bytes_181100);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181103_cached_sizze_182284 < greatest_divisor_leq_than_arg1_176879) {
            err = lexical_realloc(ctx, &mem_181103, &mem_181103_cached_sizze_182284, greatest_divisor_leq_than_arg1_176879);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180108 = 0; i_180108 < smallest_pow_2_geq_than_res_176864; i_180108++) {
            int64_t zp_lhs_176927 = mul64(block_sizze_176874, i_180108);
            
            for (int64_t i_180098 = 0; i_180098 < block_sizze_176874; i_180098++) {
                int64_t k_176932 = add64(zp_lhs_176927, i_180098);
                bool cond_176933 = slt64(k_176932, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812);
                int8_t lifted_lambda_res_176934;
                int64_t lifted_lambda_res_176935;
                int16_t lifted_lambda_res_176936;
                
                if (cond_176933) {
                    bool x_179709 = sle64((int64_t) 0, k_176932);
                    bool bounds_check_179710 = cond_176933 && x_179709;
                    bool index_certs_179711;
                    
                    if (!bounds_check_179710) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176932, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_179712 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811, k_176932);
                    int8_t index_concat_branch_179713 = btoi_bool_i8(index_concat_cmp_179712);
                    int64_t index_concat_branch_179714;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179715 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t index_primexp_179716 = add64(defunc_0_merge_pipeline_res_174785, index_concat_i_179715);
                        
                        index_concat_branch_179714 = index_primexp_179716;
                    } else {
                        int64_t index_primexp_179717 = add64(defunc_0_merge_pipeline_res_174784, k_176932);
                        
                        index_concat_branch_179714 = index_primexp_179717;
                    }
                    
                    int16_t index_concat_branch_179718;
                    
                    if (index_concat_cmp_179712) {
                        int64_t index_concat_i_179719 = sub64(k_176932, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_176811);
                        int64_t slice_179720 = defunc_0_merge_pipeline_res_174785 + index_concat_i_179719;
                        int16_t index_concat_179721 = ((int16_t *) b_list_mem_180281.mem)[slice_179720];
                        
                        index_concat_branch_179718 = index_concat_179721;
                    } else {
                        int64_t slice_179722 = defunc_0_merge_pipeline_res_174784 + k_176932;
                        int16_t index_concat_179723 = ((int16_t *) a_list_mem_180280.mem)[slice_179722];
                        
                        index_concat_branch_179718 = index_concat_179723;
                    }
                    lifted_lambda_res_176934 = index_concat_branch_179713;
                    lifted_lambda_res_176935 = index_concat_branch_179714;
                    lifted_lambda_res_176936 = index_concat_branch_179718;
                } else {
                    lifted_lambda_res_176934 = defunc_0_reduce_res_179934;
                    lifted_lambda_res_176935 = defunc_0_reduce_res_179935;
                    lifted_lambda_res_176936 = defunc_0_reduce_res_179936;
                }
                ((int8_t *) mem_181099)[i_180098] = lifted_lambda_res_176934;
                ((int64_t *) mem_181101)[i_180098] = lifted_lambda_res_176935;
                ((int16_t *) mem_181103)[i_180098] = lifted_lambda_res_176936;
            }
            if (!cond_176916) {
                for (int64_t i_176949 = 0; i_176949 < distance_176919; i_176949++) {
                    int64_t gt_arg1_176953 = add64((int64_t) 1, i_176949);
                    bool x_176954 = sle64((int64_t) 0, gt_arg1_176953);
                    bool y_176955 = slt64(gt_arg1_176953, block_sizze_176874);
                    bool bounds_check_176956 = x_176954 && y_176955;
                    bool index_certs_176957;
                    
                    if (!bounds_check_176956) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176953, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_176961 = slt64(i_176949, block_sizze_176874);
                    bool index_certs_176962;
                    
                    if (!y_176961) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176949, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_176958 = ((int8_t *) mem_181099)[gt_arg1_176953];
                    int64_t gt_arg1_176959 = ((int64_t *) mem_181101)[gt_arg1_176953];
                    int16_t gt_arg1_176960 = ((int16_t *) mem_181103)[gt_arg1_176953];
                    int8_t gt_arg0_176963 = ((int8_t *) mem_181099)[i_176949];
                    int64_t gt_arg0_176964 = ((int64_t *) mem_181101)[i_176949];
                    int16_t gt_arg0_176965 = ((int16_t *) mem_181103)[i_176949];
                    bool cond_176966 = gt_arg0_176963 == gt_arg1_176958;
                    bool defunc_0_leq_res_t_res_176967 = sle64(gt_arg0_176964, gt_arg1_176959);
                    bool defunc_0_leq_res_176968 = sle16(gt_arg0_176965, gt_arg1_176960);
                    bool x_176969 = cond_176966 && defunc_0_leq_res_t_res_176967;
                    bool x_176970 = !cond_176966;
                    bool y_176971 = defunc_0_leq_res_176968 && x_176970;
                    bool defunc_0_leq_res_176972 = x_176969 || y_176971;
                    bool defunc_0_lifted_gt_res_176973 = !defunc_0_leq_res_176972;
                    bool s_176974;
                    int64_t s_176978;
                    bool loop_while_176979;
                    int64_t j_176983;
                    
                    loop_while_176979 = defunc_0_lifted_gt_res_176973;
                    j_176983 = i_176949;
                    while (loop_while_176979) {
                        bool x_176984 = sle64((int64_t) 0, j_176983);
                        bool y_176985 = slt64(j_176983, block_sizze_176874);
                        bool bounds_check_176986 = x_176984 && y_176985;
                        bool index_certs_176987;
                        
                        if (!bounds_check_176986) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_176983, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_176991 = add64((int64_t) 1, j_176983);
                        bool x_176992 = sle64((int64_t) 0, copy_arg0_176991);
                        bool y_176993 = slt64(copy_arg0_176991, block_sizze_176874);
                        bool bounds_check_176994 = x_176992 && y_176993;
                        bool index_certs_176995;
                        
                        if (!bounds_check_176994) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_176991, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_176988 = ((int8_t *) mem_181099)[j_176983];
                        int64_t copy_arg0_176989 = ((int64_t *) mem_181101)[j_176983];
                        int16_t copy_arg0_176990 = ((int16_t *) mem_181103)[j_176983];
                        int8_t copy_arg0_176996 = ((int8_t *) mem_181099)[copy_arg0_176991];
                        int64_t copy_arg0_176997 = ((int64_t *) mem_181101)[copy_arg0_176991];
                        int16_t copy_arg0_176998 = ((int16_t *) mem_181103)[copy_arg0_176991];
                        
                        ((int8_t *) mem_181099)[j_176983] = copy_arg0_176996;
                        ((int64_t *) mem_181101)[j_176983] = copy_arg0_176997;
                        ((int16_t *) mem_181103)[j_176983] = copy_arg0_176998;
                        ((int8_t *) mem_181099)[copy_arg0_176991] = copy_arg0_176988;
                        ((int64_t *) mem_181101)[copy_arg0_176991] = copy_arg0_176989;
                        ((int16_t *) mem_181103)[copy_arg0_176991] = copy_arg0_176990;
                        
                        int64_t tmp_177005 = sub64(j_176983, (int64_t) 1);
                        bool cond_177006 = sle64((int64_t) 0, tmp_177005);
                        bool loop_cond_177007;
                        
                        if (cond_177006) {
                            bool y_179727 = slt64(tmp_177005, block_sizze_176874);
                            bool bounds_check_179728 = cond_177006 && y_179727;
                            bool index_certs_179729;
                            
                            if (!bounds_check_179728) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177005, "] out of bounds for array of shape [", (long long) block_sizze_176874, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_179724 = ((int8_t *) mem_181099)[j_176983];
                            int64_t gt_arg1_179725 = ((int64_t *) mem_181101)[j_176983];
                            int16_t gt_arg1_179726 = ((int16_t *) mem_181103)[j_176983];
                            int8_t gt_arg0_179730 = ((int8_t *) mem_181099)[tmp_177005];
                            int64_t gt_arg0_179731 = ((int64_t *) mem_181101)[tmp_177005];
                            int16_t gt_arg0_179732 = ((int16_t *) mem_181103)[tmp_177005];
                            bool cond_179733 = gt_arg0_179730 == gt_arg1_179724;
                            bool defunc_0_leq_res_t_res_179734 = sle64(gt_arg0_179731, gt_arg1_179725);
                            bool defunc_0_leq_res_179735 = sle16(gt_arg0_179732, gt_arg1_179726);
                            bool x_179736 = cond_179733 && defunc_0_leq_res_t_res_179734;
                            bool x_179737 = !cond_179733;
                            bool y_179738 = defunc_0_leq_res_179735 && x_179737;
                            bool defunc_0_leq_res_179739 = x_179736 || y_179738;
                            bool defunc_0_lifted_gt_res_179740 = !defunc_0_leq_res_179739;
                            
                            loop_cond_177007 = defunc_0_lifted_gt_res_179740;
                        } else {
                            loop_cond_177007 = 0;
                        }
                        
                        bool loop_while_tmp_181916 = loop_cond_177007;
                        int64_t j_tmp_181920 = tmp_177005;
                        
                        loop_while_176979 = loop_while_tmp_181916;
                        j_176983 = j_tmp_181920;
                    }
                    s_176974 = loop_while_176979;
                    s_176978 = j_176983;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181080, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181099, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181083, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181101, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181086, i_180108 * block_sizze_176874, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181103, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176874});
        }
        if (memblock_alloc(ctx, &mem_181180, flat_dim_176875, "mem_181180")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181180.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint8_t *) mem_181080, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181184, bytes_181082, "mem_181184")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181184.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint64_t *) mem_181083, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        if (memblock_alloc(ctx, &mem_181188, bytes_181085, "mem_181188")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (uint16_t *) mem_181086, (int64_t) 0, (int64_t []) {block_sizze_176874, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176864, block_sizze_176874});
        
        int64_t data_177031;
        bool data_177032;
        int64_t data_177036;
        int64_t loop_dz2084Uz2082U_177037;
        bool loop_while_177038;
        int64_t stride_177042;
        
        if (memblock_set(ctx, &mem_param_181192, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181195, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181198, &mem_181188, "mem_181188") != 0)
            return 1;
        loop_dz2084Uz2082U_177037 = flat_dim_176875;
        loop_while_177038 = loop_cond_177028;
        stride_177042 = block_sizze_176874;
        while (loop_while_177038) {
            int64_t next_stride_177043 = mul64((int64_t) 2, stride_177042);
            bool zzero_177044 = next_stride_177043 == (int64_t) 0;
            bool nonzzero_177045 = !zzero_177044;
            bool nonzzero_cert_177046;
            
            if (!nonzzero_177045) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177047 = sdiv64(flat_dim_176875, next_stride_177043);
            bool bounds_invalid_upwards_177048 = slt64(num_merges_177047, (int64_t) 0);
            bool valid_177049 = !bounds_invalid_upwards_177048;
            bool range_valid_c_177050;
            
            if (!valid_177049) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177047, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177052 = sub64(next_stride_177043, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177053 = sle64((int64_t) 0, m_177052);
            bool cond_177055 = slt64(next_stride_177043, (int64_t) 10);
            bool protect_assert_disj_177056 = nonzzero_177030 || cond_177055;
            bool nonzzero_cert_177057;
            
            if (!protect_assert_disj_177056) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177058 = smod_safe64(next_stride_177043, merge_block_sizze_176880);
            bool num_blocks_177059 = zeze_lhs_177058 == (int64_t) 0;
            bool protect_assert_disj_177060 = cond_177055 || num_blocks_177059;
            bool assert_c_177061;
            
            if (!protect_assert_disj_177060) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177063 = sdiv_safe64(next_stride_177043, merge_block_sizze_176880);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064 = add64((int64_t) 1, num_blocks_177063);
            int64_t j_m_i_177065 = sub64(next_stride_177043, stride_177042);
            int64_t flat_dim_177066 = merge_block_sizze_176880 * num_blocks_177063;
            bool bounds_invalid_upwards_177067 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, (int64_t) 0);
            bool empty_slice_177068 = j_m_i_177065 == (int64_t) 0;
            int64_t m_177069 = sub64(j_m_i_177065, (int64_t) 1);
            bool zzero_lte_i_177070 = sle64((int64_t) 0, stride_177042);
            bool i_lte_j_177071 = sle64(stride_177042, next_stride_177043);
            bool empty_slice_177072 = stride_177042 == (int64_t) 0;
            int64_t m_177073 = sub64(stride_177042, (int64_t) 1);
            bool bounds_invalid_upwards_177074 = slt64(num_blocks_177063, (int64_t) 0);
            bool cond_177075 = slt64((int64_t) 0, stride_177042);
            bool valid_177076 = !bounds_invalid_upwards_177067;
            int64_t i_p_m_t_s_177077 = add64(stride_177042, m_177069);
            bool zzero_leq_i_p_m_t_s_177078 = sle64((int64_t) 0, m_177073);
            bool i_p_m_t_s_leq_w_177079 = slt64(m_177073, next_stride_177043);
            bool valid_177080 = !bounds_invalid_upwards_177074;
            bool i_p_m_t_s_leq_w_177081 = slt64(m_177052, flat_dim_177066);
            bool y_177082 = slt64((int64_t) 0, j_m_i_177065);
            bool protect_assert_disj_177083 = cond_177055 || valid_177076;
            bool range_valid_c_177084;
            
            if (!protect_assert_disj_177083) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177085 = sle64((int64_t) 0, i_p_m_t_s_177077);
            bool i_p_m_t_s_leq_w_177086 = slt64(i_p_m_t_s_177077, next_stride_177043);
            bool y_177087 = zzero_leq_i_p_m_t_s_177078 && i_p_m_t_s_leq_w_177079;
            bool protect_assert_disj_177088 = cond_177055 || valid_177080;
            bool range_valid_c_177089;
            
            if (!protect_assert_disj_177088) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177063, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177090 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177081;
            bool y_177091 = zzero_lte_i_177070 && i_p_m_t_s_leq_w_177086;
            bool forwards_ok_177092 = zzero_lte_i_177070 && y_177087;
            bool ok_or_empty_177093 = zzero_177044 || y_177090;
            bool protect_assert_disj_177094 = cond_177075 || y_177082;
            bool y_177095 = zzero_leq_i_p_m_t_s_177085 && y_177091;
            bool ok_or_empty_177096 = empty_slice_177072 || forwards_ok_177092;
            bool protect_assert_disj_177097 = cond_177055 || ok_or_empty_177093;
            bool index_certs_177098;
            
            if (!protect_assert_disj_177097) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) flat_dim_177066, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177099 = !cond_177055;
            bool protect_assert_disj_177100 = protect_assert_disj_177094 || loop_not_taken_177099;
            bool index_certs_177101;
            
            if (!protect_assert_disj_177100) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177102 = i_lte_j_177071 && y_177095;
            bool protect_assert_disj_177103 = cond_177055 || ok_or_empty_177096;
            bool index_certs_177104;
            
            if (!protect_assert_disj_177103) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177105 = ok_or_empty_177096 || loop_not_taken_177099;
            bool index_certs_177106;
            
            if (!protect_assert_disj_177105) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177042, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177107 = empty_slice_177068 || forwards_ok_177102;
            bool protect_assert_disj_177108 = cond_177055 || ok_or_empty_177107;
            bool index_certs_177109;
            
            if (!protect_assert_disj_177108) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177110 = loop_not_taken_177099 || ok_or_empty_177107;
            bool index_certs_177111;
            
            if (!protect_assert_disj_177110) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177042, ":] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181199 = next_stride_177043 * num_merges_177047;
            int64_t binop_x_181201 = (int64_t) 8 * num_merges_177047;
            int64_t bytes_181202 = next_stride_177043 * binop_x_181201;
            int64_t binop_x_181204 = (int64_t) 2 * num_merges_177047;
            int64_t bytes_181205 = next_stride_177043 * binop_x_181204;
            bool i_lte_j_177054 = sle64((int64_t) 0, next_stride_177043);
            
            if (mem_181200_cached_sizze_182285 < bytes_181199) {
                err = lexical_realloc(ctx, &mem_181200, &mem_181200_cached_sizze_182285, bytes_181199);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181203_cached_sizze_182286 < bytes_181202) {
                err = lexical_realloc(ctx, &mem_181203, &mem_181203_cached_sizze_182286, bytes_181202);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181206_cached_sizze_182287 < bytes_181205) {
                err = lexical_realloc(ctx, &mem_181206, &mem_181206_cached_sizze_182287, bytes_181205);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181219 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064;
            int64_t binop_x_181237 = (int64_t) 8 * num_blocks_177063;
            int64_t bytes_181238 = merge_block_sizze_176880 * binop_x_181237;
            int64_t binop_x_181240 = (int64_t) 2 * num_blocks_177063;
            int64_t bytes_181241 = merge_block_sizze_176880 * binop_x_181240;
            int64_t bytes_181302 = (int64_t) 16 * stride_177042;
            int64_t bytes_181304 = (int64_t) 4 * stride_177042;
            
            for (int64_t i_180135 = 0; i_180135 < num_merges_177047; i_180135++) {
                int64_t start_177116 = mul64(next_stride_177043, i_180135);
                int64_t j_m_i_177117 = sub64(loop_dz2084Uz2082U_177037, start_177116);
                bool empty_slice_177118 = j_m_i_177117 == (int64_t) 0;
                int64_t m_177119 = sub64(j_m_i_177117, (int64_t) 1);
                int64_t i_p_m_t_s_177120 = add64(start_177116, m_177119);
                bool zzero_leq_i_p_m_t_s_177121 = sle64((int64_t) 0, i_p_m_t_s_177120);
                bool i_p_m_t_s_leq_w_177122 = slt64(i_p_m_t_s_177120, loop_dz2084Uz2082U_177037);
                bool zzero_lte_i_177123 = sle64((int64_t) 0, start_177116);
                bool i_lte_j_177124 = sle64(start_177116, loop_dz2084Uz2082U_177037);
                bool y_177125 = i_p_m_t_s_leq_w_177122 && zzero_lte_i_177123;
                bool y_177126 = zzero_leq_i_p_m_t_s_177121 && y_177125;
                bool forwards_ok_177127 = i_lte_j_177124 && y_177126;
                bool ok_or_empty_177128 = empty_slice_177118 || forwards_ok_177127;
                bool index_certs_177129;
                
                if (!ok_or_empty_177128) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177116, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177037, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177130 = slt64(m_177052, j_m_i_177117);
                bool y_177131 = zzero_leq_i_p_m_t_s_177053 && i_p_m_t_s_leq_w_177130;
                bool forwards_ok_177132 = i_lte_j_177054 && y_177131;
                bool ok_or_empty_177133 = zzero_177044 || forwards_ok_177132;
                bool index_certs_177134;
                
                if (!ok_or_empty_177133) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177043, "] out of bounds for array of shape [", (long long) j_m_i_177117, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177055) {
                    int8_t dummy_179779;
                    int64_t dummy_179780;
                    int16_t dummy_179781;
                    
                    if (cond_177075) {
                        int8_t head_res_179782 = ((int8_t *) mem_param_181192.mem)[start_177116];
                        int64_t head_res_179783 = ((int64_t *) mem_param_181195.mem)[start_177116];
                        int16_t head_res_179784 = ((int16_t *) mem_param_181198.mem)[start_177116];
                        
                        dummy_179779 = head_res_179782;
                        dummy_179780 = head_res_179783;
                        dummy_179781 = head_res_179784;
                    } else {
                        int64_t slice_179785 = stride_177042 + start_177116;
                        int8_t head_res_179786 = ((int8_t *) mem_param_181192.mem)[slice_179785];
                        int64_t head_res_179787 = ((int64_t *) mem_param_181195.mem)[slice_179785];
                        int16_t head_res_179788 = ((int16_t *) mem_param_181198.mem)[slice_179785];
                        
                        dummy_179779 = head_res_179786;
                        dummy_179780 = head_res_179787;
                        dummy_179781 = head_res_179788;
                    }
                    if (memblock_alloc(ctx, &mem_181301, next_stride_177043, "mem_181301")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181933 = 0; nest_i_181933 < next_stride_177043; nest_i_181933++) {
                        ((int8_t *) mem_181301.mem)[nest_i_181933] = dummy_179779;
                    }
                    if (memblock_alloc(ctx, &mem_181303, bytes_181302, "mem_181303")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181934 = 0; nest_i_181934 < next_stride_177043; nest_i_181934++) {
                        ((int64_t *) mem_181303.mem)[nest_i_181934] = dummy_179780;
                    }
                    if (memblock_alloc(ctx, &mem_181305, bytes_181304, "mem_181305")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_181935 = 0; nest_i_181935 < next_stride_177043; nest_i_181935++) {
                        ((int16_t *) mem_181305.mem)[nest_i_181935] = dummy_179781;
                    }
                    
                    int64_t data_179792;
                    int64_t i_179797 = (int64_t) 0;
                    
                    for (int64_t k_179796 = 0; k_179796 < next_stride_177043; k_179796++) {
                        int64_t j_179801 = sub64(k_179796, i_179797);
                        bool cond_179802 = j_179801 == j_m_i_177065;
                        bool cond_179803;
                        
                        if (cond_179802) {
                            cond_179803 = 1;
                        } else {
                            bool cond_179804 = slt64(i_179797, stride_177042);
                            bool cond_f_res_179805;
                            
                            if (cond_179804) {
                                bool x_179806 = sle64((int64_t) 0, j_179801);
                                bool y_179807 = slt64(j_179801, j_m_i_177065);
                                bool bounds_check_179808 = x_179806 && y_179807;
                                bool index_certs_179809;
                                
                                if (!bounds_check_179808) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179815 = sle64((int64_t) 0, i_179797);
                                bool bounds_check_179816 = cond_179804 && x_179815;
                                bool index_certs_179817;
                                
                                if (!bounds_check_179816) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_179810 = stride_177042 + j_179801;
                                int64_t slice_179811 = start_177116 + slice_179810;
                                int8_t leq_arg1_179812 = ((int8_t *) mem_param_181192.mem)[slice_179811];
                                int64_t leq_arg1_179813 = ((int64_t *) mem_param_181195.mem)[slice_179811];
                                int16_t leq_arg1_179814 = ((int16_t *) mem_param_181198.mem)[slice_179811];
                                int64_t slice_179818 = start_177116 + i_179797;
                                int8_t leq_arg0_179819 = ((int8_t *) mem_param_181192.mem)[slice_179818];
                                int64_t leq_arg0_179820 = ((int64_t *) mem_param_181195.mem)[slice_179818];
                                int16_t leq_arg0_179821 = ((int16_t *) mem_param_181198.mem)[slice_179818];
                                bool cond_179822 = leq_arg0_179819 == leq_arg1_179812;
                                bool defunc_0_leq_res_t_res_179823 = sle64(leq_arg0_179820, leq_arg1_179813);
                                bool defunc_0_leq_res_179824 = sle16(leq_arg0_179821, leq_arg1_179814);
                                bool x_179825 = cond_179822 && defunc_0_leq_res_t_res_179823;
                                bool x_179826 = !cond_179822;
                                bool y_179827 = defunc_0_leq_res_179824 && x_179826;
                                bool defunc_0_leq_res_179828 = x_179825 || y_179827;
                                
                                cond_f_res_179805 = defunc_0_leq_res_179828;
                            } else {
                                cond_f_res_179805 = 0;
                            }
                            cond_179803 = cond_f_res_179805;
                        }
                        
                        int64_t loopres_179829;
                        int8_t loopres_179830;
                        int64_t loopres_179831;
                        int16_t loopres_179832;
                        
                        if (cond_179803) {
                            bool x_179834 = sle64((int64_t) 0, i_179797);
                            bool y_179835 = slt64(i_179797, stride_177042);
                            bool bounds_check_179836 = x_179834 && y_179835;
                            bool index_certs_179837;
                            
                            if (!bounds_check_179836) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179797, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_179833 = add64((int64_t) 1, i_179797);
                            int64_t slice_179838 = start_177116 + i_179797;
                            int8_t tmp_179839 = ((int8_t *) mem_param_181192.mem)[slice_179838];
                            int64_t tmp_179840 = ((int64_t *) mem_param_181195.mem)[slice_179838];
                            int16_t tmp_179841 = ((int16_t *) mem_param_181198.mem)[slice_179838];
                            
                            loopres_179829 = tmp_179833;
                            loopres_179830 = tmp_179839;
                            loopres_179831 = tmp_179840;
                            loopres_179832 = tmp_179841;
                        } else {
                            bool x_179842 = sle64((int64_t) 0, j_179801);
                            bool y_179843 = slt64(j_179801, j_m_i_177065);
                            bool bounds_check_179844 = x_179842 && y_179843;
                            bool index_certs_179845;
                            
                            if (!bounds_check_179844) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179801, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179846 = stride_177042 + j_179801;
                            int64_t slice_179847 = start_177116 + slice_179846;
                            int8_t tmp_179848 = ((int8_t *) mem_param_181192.mem)[slice_179847];
                            int64_t tmp_179849 = ((int64_t *) mem_param_181195.mem)[slice_179847];
                            int16_t tmp_179850 = ((int16_t *) mem_param_181198.mem)[slice_179847];
                            
                            loopres_179829 = i_179797;
                            loopres_179830 = tmp_179848;
                            loopres_179831 = tmp_179849;
                            loopres_179832 = tmp_179850;
                        }
                        ((int8_t *) mem_181301.mem)[k_179796] = loopres_179830;
                        ((int64_t *) mem_181303.mem)[k_179796] = loopres_179831;
                        ((int16_t *) mem_181305.mem)[k_179796] = loopres_179832;
                        
                        int64_t i_tmp_181936 = loopres_179829;
                        
                        i_179797 = i_tmp_181936;
                    }
                    data_179792 = i_179797;
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181301, "mem_181301") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181303, "mem_181303") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181305, "mem_181305") != 0)
                        return 1;
                } else {
                    if (mem_181220_cached_sizze_182288 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181220, &mem_181220_cached_sizze_182288, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181222_cached_sizze_182289 < bytes_181219) {
                        err = lexical_realloc(ctx, &mem_181222, &mem_181222_cached_sizze_182289, bytes_181219);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180116 = 0; i_180116 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064; i_180116++) {
                        int64_t split_count_arg3_177217 = mul64(merge_block_sizze_176880, i_180116);
                        int64_t defunc_0_split_count_res_177218;
                        int64_t defunc_0_split_count_res_177219;
                        int64_t defunc_0_split_count_res_177220;
                        int64_t defunc_0_split_count_res_177221;
                        int64_t defunc_0_split_count_res_177222;
                        
                        if (futrts_lifted_normalizze_9041(ctx, &defunc_0_split_count_res_177218, &defunc_0_split_count_res_177219, &defunc_0_split_count_res_177220, &defunc_0_split_count_res_177221, &defunc_0_split_count_res_177222, (int64_t) 0, stride_177042, (int64_t) 0, j_m_i_177065, split_count_arg3_177217) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177223 = slt64((int64_t) 0, defunc_0_split_count_res_177222);
                        bool defunc_0_split_count_res_177224;
                        int64_t defunc_0_split_count_res_177225;
                        int64_t defunc_0_split_count_res_177226;
                        int64_t defunc_0_split_count_res_177227;
                        int64_t defunc_0_split_count_res_177228;
                        int64_t defunc_0_split_count_res_177229;
                        bool loop_while_177230;
                        int64_t ss_177231;
                        int64_t ss_177232;
                        int64_t tt_177233;
                        int64_t tt_177234;
                        int64_t count_177235;
                        
                        loop_while_177230 = loop_cond_177223;
                        ss_177231 = defunc_0_split_count_res_177218;
                        ss_177232 = defunc_0_split_count_res_177219;
                        tt_177233 = defunc_0_split_count_res_177220;
                        tt_177234 = defunc_0_split_count_res_177221;
                        count_177235 = defunc_0_split_count_res_177222;
                        while (loop_while_177230) {
                            int64_t zlze_lhs_177236 = sub64(ss_177232, ss_177231);
                            bool cond_177237 = sle64(zlze_lhs_177236, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177238;
                            int64_t defunc_0_lifted_step_res_177239;
                            int64_t defunc_0_lifted_step_res_177240;
                            int64_t defunc_0_lifted_step_res_177241;
                            
                            if (cond_177237) {
                                int64_t tmp_179854 = add64(tt_177233, count_177235);
                                
                                defunc_0_lifted_step_res_177238 = ss_177231;
                                defunc_0_lifted_step_res_177239 = tmp_179854;
                                defunc_0_lifted_step_res_177240 = tt_177234;
                                defunc_0_lifted_step_res_177241 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177243 = sub64(tt_177234, tt_177233);
                                bool cond_177244 = sle64(zlze_lhs_177243, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177245;
                                int64_t defunc_0_lifted_step_res_f_res_177246;
                                int64_t defunc_0_lifted_step_res_f_res_177247;
                                int64_t defunc_0_lifted_step_res_f_res_177248;
                                
                                if (cond_177244) {
                                    int64_t tmp_179855 = add64(ss_177231, count_177235);
                                    
                                    defunc_0_lifted_step_res_f_res_177245 = tmp_179855;
                                    defunc_0_lifted_step_res_f_res_177246 = tt_177233;
                                    defunc_0_lifted_step_res_f_res_177247 = tt_177234;
                                    defunc_0_lifted_step_res_f_res_177248 = (int64_t) 0;
                                } else {
                                    bool cond_177250 = count_177235 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177251;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177252;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177253;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_177254;
                                    
                                    if (cond_177250) {
                                        bool x_179857 = sle64((int64_t) 0, ss_177231);
                                        bool y_179858 = slt64(ss_177231, stride_177042);
                                        bool bounds_check_179859 = x_179857 && y_179858;
                                        bool index_certs_179860;
                                        
                                        if (!bounds_check_179859) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177231, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179865 = sle64((int64_t) 0, tt_177233);
                                        bool y_179866 = slt64(tt_177233, j_m_i_177065);
                                        bool bounds_check_179867 = x_179865 && y_179866;
                                        bool index_certs_179868;
                                        
                                        if (!bounds_check_179867) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177233, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179861 = start_177116 + ss_177231;
                                        int8_t leq_arg1_179862 = ((int8_t *) mem_param_181192.mem)[slice_179861];
                                        int64_t leq_arg1_179863 = ((int64_t *) mem_param_181195.mem)[slice_179861];
                                        int16_t leq_arg1_179864 = ((int16_t *) mem_param_181198.mem)[slice_179861];
                                        int64_t slice_179869 = stride_177042 + tt_177233;
                                        int64_t slice_179870 = start_177116 + slice_179869;
                                        int8_t leq_arg0_179871 = ((int8_t *) mem_param_181192.mem)[slice_179870];
                                        int64_t leq_arg0_179872 = ((int64_t *) mem_param_181195.mem)[slice_179870];
                                        int16_t leq_arg0_179873 = ((int16_t *) mem_param_181198.mem)[slice_179870];
                                        bool cond_179874 = leq_arg0_179871 == leq_arg1_179862;
                                        bool defunc_0_leq_res_t_res_179875 = sle64(leq_arg0_179872, leq_arg1_179863);
                                        bool defunc_0_leq_res_179876 = sle16(leq_arg0_179873, leq_arg1_179864);
                                        bool x_179877 = cond_179874 && defunc_0_leq_res_t_res_179875;
                                        bool x_179878 = !cond_179874;
                                        bool y_179879 = defunc_0_leq_res_179876 && x_179878;
                                        bool defunc_0_leq_res_179880 = x_179877 || y_179879;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        
                                        if (defunc_0_leq_res_179880) {
                                            int64_t tmp_179883 = add64((int64_t) 1, tt_177233);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = ss_177231;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tmp_179883;
                                        } else {
                                            int64_t tmp_179884 = add64((int64_t) 1, ss_177231);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179881 = tmp_179884;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_179882 = tt_177233;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = defunc_0_lifted_step_res_f_res_f_res_t_res_179881;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_t_res_179882;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = tt_177234;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = (int64_t) 0;
                                    } else {
                                        int64_t m_177283 = sdiv64(count_177235, (int64_t) 2);
                                        int64_t n_177284 = sub64(count_177235, m_177283);
                                        bool cond_177285 = n_177284 == (int64_t) 0;
                                        int64_t zgze_lhs_177286 = add64(ss_177231, m_177283);
                                        bool cond_f_res_177287 = sle64(ss_177232, zgze_lhs_177286);
                                        bool x_177288 = !cond_177285;
                                        bool y_177289 = cond_f_res_177287 && x_177288;
                                        bool cond_177290 = cond_177285 || y_177289;
                                        bool leq_y_x_177291;
                                        
                                        if (cond_177290) {
                                            leq_y_x_177291 = 1;
                                        } else {
                                            bool x_177292 = sle64((int64_t) 0, zgze_lhs_177286);
                                            bool y_177293 = slt64(zgze_lhs_177286, stride_177042);
                                            bool bounds_check_177294 = x_177292 && y_177293;
                                            bool index_certs_177295;
                                            
                                            if (!bounds_check_177294) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177286, "] out of bounds for array of shape [", (long long) stride_177042, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_177300 = add64(tt_177233, n_177284);
                                            int64_t leq_arg0_177301 = sub64(zm_lhs_177300, (int64_t) 1);
                                            bool x_177302 = sle64((int64_t) 0, leq_arg0_177301);
                                            bool y_177303 = slt64(leq_arg0_177301, j_m_i_177065);
                                            bool bounds_check_177304 = x_177302 && y_177303;
                                            bool index_certs_177305;
                                            
                                            if (!bounds_check_177304) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177301, "] out of bounds for array of shape [", (long long) j_m_i_177065, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177296 = start_177116 + zgze_lhs_177286;
                                            int8_t leq_arg1_177297 = ((int8_t *) mem_param_181192.mem)[slice_177296];
                                            int64_t leq_arg1_177298 = ((int64_t *) mem_param_181195.mem)[slice_177296];
                                            int16_t leq_arg1_177299 = ((int16_t *) mem_param_181198.mem)[slice_177296];
                                            int64_t slice_177306 = stride_177042 + leq_arg0_177301;
                                            int64_t slice_177307 = start_177116 + slice_177306;
                                            int8_t leq_arg0_177308 = ((int8_t *) mem_param_181192.mem)[slice_177307];
                                            int64_t leq_arg0_177309 = ((int64_t *) mem_param_181195.mem)[slice_177307];
                                            int16_t leq_arg0_177310 = ((int16_t *) mem_param_181198.mem)[slice_177307];
                                            bool cond_177311 = leq_arg0_177308 == leq_arg1_177297;
                                            bool defunc_0_leq_res_t_res_177312 = sle64(leq_arg0_177309, leq_arg1_177298);
                                            bool defunc_0_leq_res_177313 = sle16(leq_arg0_177310, leq_arg1_177299);
                                            bool x_177314 = cond_177311 && defunc_0_leq_res_t_res_177312;
                                            bool x_177315 = !cond_177311;
                                            bool y_177316 = defunc_0_leq_res_177313 && x_177315;
                                            bool defunc_0_leq_res_177317 = x_177314 || y_177316;
                                            
                                            leq_y_x_177291 = defunc_0_leq_res_177317;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                        
                                        if (leq_y_x_177291) {
                                            int64_t tmp_179885 = add64(tt_177233, n_177284);
                                            int64_t tmp_179886 = sub64(count_177235, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tmp_179885;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tt_177234;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = tmp_179886;
                                        } else {
                                            int64_t tmp_177323 = add64(tt_177233, n_177284);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177318 = tt_177233;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177319 = tmp_177323;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_177320 = count_177235;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_177251 = ss_177231;
                                        defunc_0_lifted_step_res_f_res_f_res_177252 = defunc_0_lifted_step_res_f_res_f_res_f_res_177318;
                                        defunc_0_lifted_step_res_f_res_f_res_177253 = defunc_0_lifted_step_res_f_res_f_res_f_res_177319;
                                        defunc_0_lifted_step_res_f_res_f_res_177254 = defunc_0_lifted_step_res_f_res_f_res_f_res_177320;
                                    }
                                    defunc_0_lifted_step_res_f_res_177245 = defunc_0_lifted_step_res_f_res_f_res_177251;
                                    defunc_0_lifted_step_res_f_res_177246 = defunc_0_lifted_step_res_f_res_f_res_177252;
                                    defunc_0_lifted_step_res_f_res_177247 = defunc_0_lifted_step_res_f_res_f_res_177253;
                                    defunc_0_lifted_step_res_f_res_177248 = defunc_0_lifted_step_res_f_res_f_res_177254;
                                }
                                defunc_0_lifted_step_res_177238 = defunc_0_lifted_step_res_f_res_177245;
                                defunc_0_lifted_step_res_177239 = defunc_0_lifted_step_res_f_res_177246;
                                defunc_0_lifted_step_res_177240 = defunc_0_lifted_step_res_f_res_177247;
                                defunc_0_lifted_step_res_177241 = defunc_0_lifted_step_res_f_res_177248;
                            }
                            
                            int64_t loopres_177324;
                            int64_t loopres_177325;
                            int64_t loopres_177326;
                            int64_t loopres_177327;
                            int64_t loopres_177328;
                            
                            if (futrts_lifted_normalizze_9041(ctx, &loopres_177324, &loopres_177325, &loopres_177326, &loopres_177327, &loopres_177328, defunc_0_lifted_step_res_177238, ss_177232, defunc_0_lifted_step_res_177239, defunc_0_lifted_step_res_177240, defunc_0_lifted_step_res_177241) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_177329 = slt64((int64_t) 0, loopres_177328);
                            bool loop_while_tmp_181942 = loop_cond_177329;
                            int64_t ss_tmp_181943 = loopres_177324;
                            int64_t ss_tmp_181944 = loopres_177325;
                            int64_t tt_tmp_181945 = loopres_177326;
                            int64_t tt_tmp_181946 = loopres_177327;
                            int64_t count_tmp_181947 = loopres_177328;
                            
                            loop_while_177230 = loop_while_tmp_181942;
                            ss_177231 = ss_tmp_181943;
                            ss_177232 = ss_tmp_181944;
                            tt_177233 = tt_tmp_181945;
                            tt_177234 = tt_tmp_181946;
                            count_177235 = count_tmp_181947;
                        }
                        defunc_0_split_count_res_177224 = loop_while_177230;
                        defunc_0_split_count_res_177225 = ss_177231;
                        defunc_0_split_count_res_177226 = ss_177232;
                        defunc_0_split_count_res_177227 = tt_177233;
                        defunc_0_split_count_res_177228 = tt_177234;
                        defunc_0_split_count_res_177229 = count_177235;
                        ((int64_t *) mem_181220)[i_180116] = defunc_0_split_count_res_177225;
                        ((int64_t *) mem_181222)[i_180116] = defunc_0_split_count_res_177227;
                    }
                    if (mem_181236_cached_sizze_182290 < flat_dim_177066) {
                        err = lexical_realloc(ctx, &mem_181236, &mem_181236_cached_sizze_182290, flat_dim_177066);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181239_cached_sizze_182291 < bytes_181238) {
                        err = lexical_realloc(ctx, &mem_181239, &mem_181239_cached_sizze_182291, bytes_181238);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181242_cached_sizze_182292 < bytes_181241) {
                        err = lexical_realloc(ctx, &mem_181242, &mem_181242_cached_sizze_182292, bytes_181241);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180125 = 0; i_180125 < num_blocks_177063; i_180125++) {
                        bool y_177336 = slt64(i_180125, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool index_certs_177338;
                        
                        if (!y_177336) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180125, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177339 = ((int64_t *) mem_181220)[i_180125];
                        int64_t defunc_0_f_res_177340 = ((int64_t *) mem_181222)[i_180125];
                        int64_t tmp_177341 = add64((int64_t) 1, i_180125);
                        bool x_177342 = sle64((int64_t) 0, tmp_177341);
                        bool y_177343 = slt64(tmp_177341, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064);
                        bool bounds_check_177344 = x_177342 && y_177343;
                        bool index_certs_177345;
                        
                        if (!bounds_check_177344) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177341, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177064, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_177346 = ((int64_t *) mem_181220)[tmp_177341];
                        int64_t defunc_0_f_res_177347 = ((int64_t *) mem_181222)[tmp_177341];
                        int64_t merge_sequential_arg2_177348 = add64(stride_177042, defunc_0_f_res_177340);
                        int64_t merge_sequential_arg2_177349 = add64(stride_177042, defunc_0_f_res_177347);
                        int64_t j_m_i_177350 = sub64(merge_sequential_arg2_177349, merge_sequential_arg2_177348);
                        bool empty_slice_177351 = j_m_i_177350 == (int64_t) 0;
                        int64_t m_177352 = sub64(j_m_i_177350, (int64_t) 1);
                        int64_t i_p_m_t_s_177353 = add64(merge_sequential_arg2_177348, m_177352);
                        bool zzero_leq_i_p_m_t_s_177354 = sle64((int64_t) 0, i_p_m_t_s_177353);
                        bool i_p_m_t_s_leq_w_177355 = slt64(i_p_m_t_s_177353, next_stride_177043);
                        bool zzero_lte_i_177356 = sle64((int64_t) 0, merge_sequential_arg2_177348);
                        bool i_lte_j_177357 = sle64(merge_sequential_arg2_177348, merge_sequential_arg2_177349);
                        bool y_177358 = i_p_m_t_s_leq_w_177355 && zzero_lte_i_177356;
                        bool y_177359 = zzero_leq_i_p_m_t_s_177354 && y_177358;
                        bool forwards_ok_177360 = i_lte_j_177357 && y_177359;
                        bool ok_or_empty_177361 = empty_slice_177351 || forwards_ok_177360;
                        bool index_certs_177362;
                        
                        if (!ok_or_empty_177361) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177348, ":", (long long) merge_sequential_arg2_177349, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_177363 = sub64(defunc_0_f_res_177346, defunc_0_f_res_177339);
                        bool empty_slice_177364 = j_m_i_177363 == (int64_t) 0;
                        int64_t m_177365 = sub64(j_m_i_177363, (int64_t) 1);
                        int64_t i_p_m_t_s_177366 = add64(defunc_0_f_res_177339, m_177365);
                        bool zzero_leq_i_p_m_t_s_177367 = sle64((int64_t) 0, i_p_m_t_s_177366);
                        bool i_p_m_t_s_leq_w_177368 = slt64(i_p_m_t_s_177366, next_stride_177043);
                        bool zzero_lte_i_177369 = sle64((int64_t) 0, defunc_0_f_res_177339);
                        bool i_lte_j_177370 = sle64(defunc_0_f_res_177339, defunc_0_f_res_177346);
                        bool y_177371 = i_p_m_t_s_leq_w_177368 && zzero_lte_i_177369;
                        bool y_177372 = zzero_leq_i_p_m_t_s_177367 && y_177371;
                        bool forwards_ok_177373 = i_lte_j_177370 && y_177372;
                        bool ok_or_empty_177374 = empty_slice_177364 || forwards_ok_177373;
                        bool index_certs_177375;
                        
                        if (!ok_or_empty_177374) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177339, ":", (long long) defunc_0_f_res_177346, "] out of bounds for array of shape [", (long long) next_stride_177043, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_177376 = slt64((int64_t) 0, j_m_i_177363);
                        int8_t dummy_177377;
                        int64_t dummy_177378;
                        int16_t dummy_177379;
                        
                        if (cond_177376) {
                            bool index_certs_179887;
                            
                            if (!cond_177376) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_179888 = start_177116 + defunc_0_f_res_177339;
                            int8_t head_res_179889 = ((int8_t *) mem_param_181192.mem)[slice_179888];
                            int64_t head_res_179890 = ((int64_t *) mem_param_181195.mem)[slice_179888];
                            int16_t head_res_179891 = ((int16_t *) mem_param_181198.mem)[slice_179888];
                            
                            dummy_177377 = head_res_179889;
                            dummy_177378 = head_res_179890;
                            dummy_177379 = head_res_179891;
                        } else {
                            bool y_177385 = slt64((int64_t) 0, j_m_i_177350);
                            bool index_certs_177386;
                            
                            if (!y_177385) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_177387 = start_177116 + merge_sequential_arg2_177348;
                            int8_t head_res_177388 = ((int8_t *) mem_param_181192.mem)[slice_177387];
                            int64_t head_res_177389 = ((int64_t *) mem_param_181195.mem)[slice_177387];
                            int16_t head_res_177390 = ((int16_t *) mem_param_181198.mem)[slice_177387];
                            
                            dummy_177377 = head_res_177388;
                            dummy_177378 = head_res_177389;
                            dummy_177379 = head_res_177390;
                        }
                        for (int64_t nest_i_181951 = 0; nest_i_181951 < merge_block_sizze_176880; nest_i_181951++) {
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + nest_i_181951] = dummy_177377;
                        }
                        for (int64_t nest_i_181952 = 0; nest_i_181952 < merge_block_sizze_176880; nest_i_181952++) {
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + nest_i_181952] = dummy_177378;
                        }
                        for (int64_t nest_i_181953 = 0; nest_i_181953 < merge_block_sizze_176880; nest_i_181953++) {
                            ((int16_t *) mem_181242)[i_180125 * merge_block_sizze_176880 + nest_i_181953] = dummy_177379;
                        }
                        
                        int64_t data_177394;
                        int64_t i_177399 = (int64_t) 0;
                        
                        for (int64_t k_177398 = 0; k_177398 < merge_block_sizze_176880; k_177398++) {
                            int64_t j_177403 = sub64(k_177398, i_177399);
                            bool cond_177404 = j_177403 == j_m_i_177350;
                            bool cond_177405;
                            
                            if (cond_177404) {
                                cond_177405 = 1;
                            } else {
                                bool cond_177406 = slt64(i_177399, j_m_i_177363);
                                bool cond_f_res_177407;
                                
                                if (cond_177406) {
                                    bool x_179892 = sle64((int64_t) 0, j_177403);
                                    bool y_179893 = slt64(j_177403, j_m_i_177350);
                                    bool bounds_check_179894 = x_179892 && y_179893;
                                    bool index_certs_179895;
                                    
                                    if (!bounds_check_179894) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_179901 = sle64((int64_t) 0, i_177399);
                                    bool bounds_check_179902 = cond_177406 && x_179901;
                                    bool index_certs_179903;
                                    
                                    if (!bounds_check_179902) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179896 = merge_sequential_arg2_177348 + j_177403;
                                    int64_t slice_179897 = start_177116 + slice_179896;
                                    int8_t leq_arg1_179898 = ((int8_t *) mem_param_181192.mem)[slice_179897];
                                    int64_t leq_arg1_179899 = ((int64_t *) mem_param_181195.mem)[slice_179897];
                                    int16_t leq_arg1_179900 = ((int16_t *) mem_param_181198.mem)[slice_179897];
                                    int64_t slice_179904 = defunc_0_f_res_177339 + i_177399;
                                    int64_t slice_179905 = start_177116 + slice_179904;
                                    int8_t leq_arg0_179906 = ((int8_t *) mem_param_181192.mem)[slice_179905];
                                    int64_t leq_arg0_179907 = ((int64_t *) mem_param_181195.mem)[slice_179905];
                                    int16_t leq_arg0_179908 = ((int16_t *) mem_param_181198.mem)[slice_179905];
                                    bool cond_179909 = leq_arg0_179906 == leq_arg1_179898;
                                    bool defunc_0_leq_res_t_res_179910 = sle64(leq_arg0_179907, leq_arg1_179899);
                                    bool defunc_0_leq_res_179911 = sle16(leq_arg0_179908, leq_arg1_179900);
                                    bool x_179912 = cond_179909 && defunc_0_leq_res_t_res_179910;
                                    bool x_179913 = !cond_179909;
                                    bool y_179914 = defunc_0_leq_res_179911 && x_179913;
                                    bool defunc_0_leq_res_179915 = x_179912 || y_179914;
                                    
                                    cond_f_res_177407 = defunc_0_leq_res_179915;
                                } else {
                                    cond_f_res_177407 = 0;
                                }
                                cond_177405 = cond_f_res_177407;
                            }
                            
                            int64_t loopres_177432;
                            int8_t loopres_177433;
                            int64_t loopres_177434;
                            int16_t loopres_177435;
                            
                            if (cond_177405) {
                                bool x_179917 = sle64((int64_t) 0, i_177399);
                                bool y_179918 = slt64(i_177399, j_m_i_177363);
                                bool bounds_check_179919 = x_179917 && y_179918;
                                bool index_certs_179920;
                                
                                if (!bounds_check_179919) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177399, "] out of bounds for array of shape [", (long long) j_m_i_177363, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_179916 = add64((int64_t) 1, i_177399);
                                int64_t slice_179921 = defunc_0_f_res_177339 + i_177399;
                                int64_t slice_179922 = start_177116 + slice_179921;
                                int8_t tmp_179923 = ((int8_t *) mem_param_181192.mem)[slice_179922];
                                int64_t tmp_179924 = ((int64_t *) mem_param_181195.mem)[slice_179922];
                                int16_t tmp_179925 = ((int16_t *) mem_param_181198.mem)[slice_179922];
                                
                                loopres_177432 = tmp_179916;
                                loopres_177433 = tmp_179923;
                                loopres_177434 = tmp_179924;
                                loopres_177435 = tmp_179925;
                            } else {
                                bool x_177446 = sle64((int64_t) 0, j_177403);
                                bool y_177447 = slt64(j_177403, j_m_i_177350);
                                bool bounds_check_177448 = x_177446 && y_177447;
                                bool index_certs_177449;
                                
                                if (!bounds_check_177448) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177403, "] out of bounds for array of shape [", (long long) j_m_i_177350, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_177450 = merge_sequential_arg2_177348 + j_177403;
                                int64_t slice_177451 = start_177116 + slice_177450;
                                int8_t tmp_177452 = ((int8_t *) mem_param_181192.mem)[slice_177451];
                                int64_t tmp_177453 = ((int64_t *) mem_param_181195.mem)[slice_177451];
                                int16_t tmp_177454 = ((int16_t *) mem_param_181198.mem)[slice_177451];
                                
                                loopres_177432 = i_177399;
                                loopres_177433 = tmp_177452;
                                loopres_177434 = tmp_177453;
                                loopres_177435 = tmp_177454;
                            }
                            ((int8_t *) mem_181236)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177433;
                            ((int64_t *) mem_181239)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177434;
                            ((int16_t *) mem_181242)[i_180125 * merge_block_sizze_176880 + k_177398] = loopres_177435;
                            
                            int64_t i_tmp_181954 = loopres_177432;
                            
                            i_177399 = i_tmp_181954;
                        }
                        data_177394 = i_177399;
                    }
                    if (memblock_alloc(ctx, &mem_181291, flat_dim_177066, "mem_181291")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181291.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint8_t *) mem_181236, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181295, bytes_181238, "mem_181295")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181295.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint64_t *) mem_181239, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_alloc(ctx, &mem_181299, bytes_181241, "mem_181299")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181299.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (uint16_t *) mem_181242, (int64_t) 0, (int64_t []) {merge_block_sizze_176880, (int64_t) 1}, (int64_t []) {num_blocks_177063, merge_block_sizze_176880});
                    if (memblock_set(ctx, &ext_mem_181332, &mem_181291, "mem_181291") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181329, &mem_181295, "mem_181295") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181326, &mem_181299, "mem_181299") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181200, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181332.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181203, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181329.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181206, i_180135 * next_stride_177043, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181326.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177043});
                if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_181346, bytes_181199, "mem_181346")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_181346.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint8_t *) mem_181200, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181350, bytes_181202, "mem_181350")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181350.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint64_t *) mem_181203, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            if (memblock_alloc(ctx, &mem_181354, bytes_181205, "mem_181354")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_181354.mem, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (uint16_t *) mem_181206, (int64_t) 0, (int64_t []) {next_stride_177043, (int64_t) 1}, (int64_t []) {num_merges_177047, next_stride_177043});
            
            bool loop_cond_177468 = slt64(next_stride_177043, flat_dim_176875);
            
            if (memblock_set(ctx, &mem_param_tmp_181921, &mem_181346, "mem_181346") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181922, &mem_181350, "mem_181350") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_181923, &mem_181354, "mem_181354") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_181924 = bytes_181199;
            bool loop_while_tmp_181925 = loop_cond_177468;
            int64_t stride_tmp_181929 = next_stride_177043;
            
            if (memblock_set(ctx, &mem_param_181192, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181195, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181198, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
                return 1;
            loop_dz2084Uz2082U_177037 = loop_dz2084Uz2082U_tmp_181924;
            loop_while_177038 = loop_while_tmp_181925;
            stride_177042 = stride_tmp_181929;
        }
        if (memblock_set(ctx, &ext_mem_181364, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181363, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181362, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        data_177031 = loop_dz2084Uz2082U_177037;
        data_177032 = loop_while_177038;
        data_177036 = stride_177042;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_177471 = slt64(zs_lhs_176859, data_177031);
        bool y_177472 = i_p_m_t_s_leq_w_177471 && zzero_leq_i_p_m_t_s_177485;
        bool ok_or_empty_177473 = y_177472 || empty_slice_177483;
        bool index_certs_177474;
        
        if (!ok_or_empty_177473) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_176812, "] out of bounds for array of shape [", (long long) data_177031, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181373, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181370, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181367, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_180282.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181373.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180284.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181370.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
        return 1;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_180286.mem, final_buffer_177490, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181367.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_177491});
    if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180284, "mem_180284") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181701, &mem_180286, "mem_180286") != 0)
        return 1;
    prim_out_181702 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_174769;
    if (memblock_set(ctx, &*mem_out_p_182239, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182240, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182241, &mem_out_181701, "mem_out_181701") != 0)
        return 1;
    *out_prim_out_182242 = prim_out_181702;
    
  cleanup:
    {
        free(mem_180297);
        free(mem_180299);
        free(mem_180338);
        free(mem_180341);
        free(mem_180344);
        free(mem_180357);
        free(mem_180359);
        free(mem_180361);
        free(mem_180458);
        free(mem_180461);
        free(mem_180464);
        free(mem_180478);
        free(mem_180480);
        free(mem_180494);
        free(mem_180497);
        free(mem_180500);
        free(mem_180642);
        free(mem_180644);
        free(mem_180659);
        free(mem_180661);
        free(mem_180664);
        free(mem_180667);
        free(mem_180701);
        free(mem_180704);
        free(mem_180707);
        free(mem_180720);
        free(mem_180722);
        free(mem_180724);
        free(mem_180821);
        free(mem_180824);
        free(mem_180827);
        free(mem_180841);
        free(mem_180843);
        free(mem_180857);
        free(mem_180860);
        free(mem_180863);
        free(mem_181080);
        free(mem_181083);
        free(mem_181086);
        free(mem_181099);
        free(mem_181101);
        free(mem_181103);
        free(mem_181200);
        free(mem_181203);
        free(mem_181206);
        free(mem_181220);
        free(mem_181222);
        free(mem_181236);
        free(mem_181239);
        free(mem_181242);
        if (memblock_unref(ctx, &mem_param_tmp_181923, "mem_param_tmp_181923") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181922, "mem_param_tmp_181922") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181921, "mem_param_tmp_181921") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181354, "mem_181354") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181350, "mem_181350") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181346, "mem_181346") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181299, "mem_181299") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181295, "mem_181295") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181291, "mem_181291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181303, "mem_181303") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181326, "ext_mem_181326") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181329, "ext_mem_181329") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181332, "ext_mem_181332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181198, "mem_param_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181195, "mem_param_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181192, "mem_param_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181362, "ext_mem_181362") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181363, "ext_mem_181363") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181364, "ext_mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181184, "mem_181184") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181180, "mem_181180") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181367, "ext_mem_181367") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181370, "ext_mem_181370") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181078, "mem_181078") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181076, "mem_181076") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181074, "mem_181074") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181857, "mem_param_tmp_181857") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181856, "mem_param_tmp_181856") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181855, "mem_param_tmp_181855") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180612, "mem_180612") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180608, "mem_180608") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180604, "mem_180604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180557, "mem_180557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180553, "mem_180553") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180549, "mem_180549") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180563, "mem_180563") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180561, "mem_180561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180559, "mem_180559") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180584, "ext_mem_180584") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180587, "ext_mem_180587") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180590, "ext_mem_180590") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180456, "mem_param_180456") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180453, "mem_param_180453") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180450, "mem_param_180450") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180620, "ext_mem_180620") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180621, "ext_mem_180621") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180622, "ext_mem_180622") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180446, "mem_180446") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180442, "mem_180442") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180438, "mem_180438") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180625, "ext_mem_180625") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180628, "ext_mem_180628") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180631, "ext_mem_180631") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180336, "mem_180336") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180334, "mem_180334") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180332, "mem_180332") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180316, "mem_180316") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180314, "mem_180314") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180312, "mem_180312") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181023, "mem_181023") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181022, "mem_181022") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181020, "mem_181020") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181763, "mem_param_tmp_181763") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181762, "mem_param_tmp_181762") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_181761, "mem_param_tmp_181761") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180975, "mem_180975") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180971, "mem_180971") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180967, "mem_180967") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180920, "mem_180920") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180916, "mem_180916") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180912, "mem_180912") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180926, "mem_180926") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180924, "mem_180924") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180922, "mem_180922") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180947, "ext_mem_180947") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180950, "ext_mem_180950") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180953, "ext_mem_180953") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180819, "mem_param_180819") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180816, "mem_param_180816") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_180813, "mem_param_180813") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180983, "ext_mem_180983") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180984, "ext_mem_180984") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180985, "ext_mem_180985") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180809, "mem_180809") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180805, "mem_180805") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180801, "mem_180801") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180988, "ext_mem_180988") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180991, "ext_mem_180991") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180994, "ext_mem_180994") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180699, "mem_180699") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180697, "mem_180697") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180695, "mem_180695") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181044, "ext_mem_181044") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181047, "ext_mem_181047") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181050, "ext_mem_181050") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180286, "mem_180286") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180284, "mem_180284") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181701, "mem_out_181701") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_182293, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_109046, int64_t incr_109047, int64_t block_sizze_109048)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182294 = 0;
    unsigned char *mem_180283 = NULL;
    struct memblock mem_180291;
    
    mem_180291.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_109046;
    bool zzero_163928 = block_sizze_109048 == (int64_t) 0;
    bool nonzzero_163929 = !zzero_163928;
    bool nonzzero_cert_163930;
    
    if (!nonzzero_163929) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:23-29\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:63:1-65:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_180283_cached_sizze_182294 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182294, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_179942 = 0; i_179942 < n_109046; i_179942++) {
        int64_t eta_p_163924 = ((int64_t *) is_mem_180280.mem)[i_179942];
        int64_t lifted_lambda_res_163925 = sub64(eta_p_163924, incr_109047);
        
        ((int64_t *) mem_180283)[i_179942] = lifted_lambda_res_163925;
    }
    
    int64_t zm_lhs_163926 = add64(n_109046, block_sizze_109048);
    int64_t zs_lhs_163927 = sub64(zm_lhs_163926, (int64_t) 1);
    int64_t m_163931 = sdiv64(zs_lhs_163927, block_sizze_109048);
    
    if (memblock_alloc(ctx, &mem_180291, bytes_180282, "mem_180291")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181701 = 0; nest_i_181701 < n_109046; nest_i_181701++) {
        ((double *) mem_180291.mem)[nest_i_181701] = 0.0;
    }
    
    bool loop_cond_163933 = slt64((int64_t) 0, m_163931);
    bool partitioned_gather_res_163934;
    int64_t partitioned_gather_res_163936;
    bool loop_while_163937;
    int64_t p_163939;
    
    loop_while_163937 = loop_cond_163933;
    p_163939 = (int64_t) 0;
    while (loop_while_163937) {
        int64_t lower_bound_163940 = mul64(block_sizze_109048, p_163939);
        int64_t min_arg1_163941 = add64(block_sizze_109048, lower_bound_163940);
        int64_t min_res_163942 = smin64(n_109046, min_arg1_163941);
        int64_t j_m_i_163943 = sub64(min_res_163942, lower_bound_163940);
        bool empty_slice_163944 = j_m_i_163943 == (int64_t) 0;
        int64_t m_163945 = sub64(j_m_i_163943, (int64_t) 1);
        int64_t i_p_m_t_s_163946 = add64(lower_bound_163940, m_163945);
        bool zzero_leq_i_p_m_t_s_163947 = sle64((int64_t) 0, i_p_m_t_s_163946);
        bool i_p_m_t_s_leq_w_163948 = slt64(i_p_m_t_s_163946, n_109046);
        bool zzero_lte_i_163949 = sle64((int64_t) 0, lower_bound_163940);
        bool i_lte_j_163950 = sle64(lower_bound_163940, min_res_163942);
        bool y_163951 = i_p_m_t_s_leq_w_163948 && zzero_lte_i_163949;
        bool y_163952 = zzero_leq_i_p_m_t_s_163947 && y_163951;
        bool forwards_ok_163953 = i_lte_j_163950 && y_163952;
        bool ok_or_empty_163954 = empty_slice_163944 || forwards_ok_163953;
        bool index_certs_163955;
        
        if (!ok_or_empty_163954) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_163940, ":", (long long) min_res_163942, "] out of bounds for array of shape [", (long long) n_109046, "].", "-> #0  ftbasics.fut:49:48-75\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:63:1-65:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        for (int64_t i_179946 = 0; i_179946 < j_m_i_163943; i_179946++) {
            int64_t slice_180139 = lower_bound_163940 + i_179946;
            int64_t eta_p_163958 = ((int64_t *) mem_180283)[slice_180139];
            bool cond_163959 = sle64((int64_t) 0, eta_p_163958);
            bool cond_t_res_163960 = slt64(eta_p_163958, n_109046);
            bool x_163961 = cond_163959 && cond_t_res_163960;
            double lifted_lambda_res_163962;
            
            if (x_163961) {
                bool index_certs_177792;
                
                if (!x_163961) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163958, "] out of bounds for array of shape [", (long long) n_109046, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:63:1-65:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double lifted_lambda_res_t_res_177793 = ((double *) ys_mem_180281.mem)[eta_p_163958];
                
                lifted_lambda_res_163962 = lifted_lambda_res_t_res_177793;
            } else {
                lifted_lambda_res_163962 = 0.0;
            }
            ((double *) mem_180291.mem)[lower_bound_163940 + i_179946] = lifted_lambda_res_163962;
        }
        
        int64_t tmp_163965 = add64((int64_t) 1, p_163939);
        bool loop_cond_163969 = slt64(tmp_163965, m_163931);
        bool loop_while_tmp_181702 = loop_cond_163969;
        int64_t p_tmp_181704 = tmp_163965;
        
        loop_while_163937 = loop_while_tmp_181702;
        p_163939 = p_tmp_181704;
    }
    partitioned_gather_res_163934 = loop_while_163937;
    partitioned_gather_res_163936 = p_163939;
    if (memblock_set(ctx, &mem_out_181699, &mem_180291, "mem_180291") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182293, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        if (memblock_unref(ctx, &mem_180291, "mem_180291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_182295, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_108784, int64_t incr_108785, int64_t block_sizze_108786)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182296 = 0;
    unsigned char *mem_180283 = NULL;
    struct memblock mem_180291;
    
    mem_180291.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_108784;
    bool zzero_163928 = block_sizze_108786 == (int64_t) 0;
    bool nonzzero_163929 = !zzero_163928;
    bool nonzzero_cert_163930;
    
    if (!nonzzero_163929) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:23-29\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:59:1-61:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180290 = (int64_t) 4 * n_108784;
    
    if (mem_180283_cached_sizze_182296 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182296, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_179942 = 0; i_179942 < n_108784; i_179942++) {
        int64_t eta_p_163924 = ((int64_t *) is_mem_180280.mem)[i_179942];
        int64_t lifted_lambda_res_163925 = sub64(eta_p_163924, incr_108785);
        
        ((int64_t *) mem_180283)[i_179942] = lifted_lambda_res_163925;
    }
    
    int64_t zm_lhs_163926 = add64(n_108784, block_sizze_108786);
    int64_t zs_lhs_163927 = sub64(zm_lhs_163926, (int64_t) 1);
    int64_t m_163931 = sdiv64(zs_lhs_163927, block_sizze_108786);
    
    if (memblock_alloc(ctx, &mem_180291, bytes_180290, "mem_180291")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181701 = 0; nest_i_181701 < n_108784; nest_i_181701++) {
        ((float *) mem_180291.mem)[nest_i_181701] = 0.0F;
    }
    
    bool loop_cond_163933 = slt64((int64_t) 0, m_163931);
    bool partitioned_gather_res_163934;
    int64_t partitioned_gather_res_163936;
    bool loop_while_163937;
    int64_t p_163939;
    
    loop_while_163937 = loop_cond_163933;
    p_163939 = (int64_t) 0;
    while (loop_while_163937) {
        int64_t lower_bound_163940 = mul64(block_sizze_108786, p_163939);
        int64_t min_arg1_163941 = add64(block_sizze_108786, lower_bound_163940);
        int64_t min_res_163942 = smin64(n_108784, min_arg1_163941);
        int64_t j_m_i_163943 = sub64(min_res_163942, lower_bound_163940);
        bool empty_slice_163944 = j_m_i_163943 == (int64_t) 0;
        int64_t m_163945 = sub64(j_m_i_163943, (int64_t) 1);
        int64_t i_p_m_t_s_163946 = add64(lower_bound_163940, m_163945);
        bool zzero_leq_i_p_m_t_s_163947 = sle64((int64_t) 0, i_p_m_t_s_163946);
        bool i_p_m_t_s_leq_w_163948 = slt64(i_p_m_t_s_163946, n_108784);
        bool zzero_lte_i_163949 = sle64((int64_t) 0, lower_bound_163940);
        bool i_lte_j_163950 = sle64(lower_bound_163940, min_res_163942);
        bool y_163951 = i_p_m_t_s_leq_w_163948 && zzero_lte_i_163949;
        bool y_163952 = zzero_leq_i_p_m_t_s_163947 && y_163951;
        bool forwards_ok_163953 = i_lte_j_163950 && y_163952;
        bool ok_or_empty_163954 = empty_slice_163944 || forwards_ok_163953;
        bool index_certs_163955;
        
        if (!ok_or_empty_163954) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_163940, ":", (long long) min_res_163942, "] out of bounds for array of shape [", (long long) n_108784, "].", "-> #0  ftbasics.fut:49:48-75\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:59:1-61:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        for (int64_t i_179946 = 0; i_179946 < j_m_i_163943; i_179946++) {
            int64_t slice_180139 = lower_bound_163940 + i_179946;
            int64_t eta_p_163958 = ((int64_t *) mem_180283)[slice_180139];
            bool cond_163959 = sle64((int64_t) 0, eta_p_163958);
            bool cond_t_res_163960 = slt64(eta_p_163958, n_108784);
            bool x_163961 = cond_163959 && cond_t_res_163960;
            float lifted_lambda_res_163962;
            
            if (x_163961) {
                bool index_certs_177792;
                
                if (!x_163961) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163958, "] out of bounds for array of shape [", (long long) n_108784, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:59:1-61:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float lifted_lambda_res_t_res_177793 = ((float *) ys_mem_180281.mem)[eta_p_163958];
                
                lifted_lambda_res_163962 = lifted_lambda_res_t_res_177793;
            } else {
                lifted_lambda_res_163962 = 0.0F;
            }
            ((float *) mem_180291.mem)[lower_bound_163940 + i_179946] = lifted_lambda_res_163962;
        }
        
        int64_t tmp_163965 = add64((int64_t) 1, p_163939);
        bool loop_cond_163969 = slt64(tmp_163965, m_163931);
        bool loop_while_tmp_181702 = loop_cond_163969;
        int64_t p_tmp_181704 = tmp_163965;
        
        loop_while_163937 = loop_while_tmp_181702;
        p_163939 = p_tmp_181704;
    }
    partitioned_gather_res_163934 = loop_while_163937;
    partitioned_gather_res_163936 = p_163939;
    if (memblock_set(ctx, &mem_out_181699, &mem_180291, "mem_180291") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182295, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        if (memblock_unref(ctx, &mem_180291, "mem_180291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_182297, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_108263, int64_t incr_108264, int64_t block_sizze_108265)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182298 = 0;
    unsigned char *mem_180283 = NULL;
    struct memblock mem_180291;
    
    mem_180291.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_108263;
    bool zzero_163928 = block_sizze_108265 == (int64_t) 0;
    bool nonzzero_163929 = !zzero_163928;
    bool nonzzero_cert_163930;
    
    if (!nonzzero_163929) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:23-29\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:51:1-53:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180290 = (int64_t) 4 * n_108263;
    
    if (mem_180283_cached_sizze_182298 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182298, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_179942 = 0; i_179942 < n_108263; i_179942++) {
        int64_t eta_p_163924 = ((int64_t *) is_mem_180280.mem)[i_179942];
        int64_t lifted_lambda_res_163925 = sub64(eta_p_163924, incr_108264);
        
        ((int64_t *) mem_180283)[i_179942] = lifted_lambda_res_163925;
    }
    
    int64_t zm_lhs_163926 = add64(n_108263, block_sizze_108265);
    int64_t zs_lhs_163927 = sub64(zm_lhs_163926, (int64_t) 1);
    int64_t m_163931 = sdiv64(zs_lhs_163927, block_sizze_108265);
    
    if (memblock_alloc(ctx, &mem_180291, bytes_180290, "mem_180291")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181701 = 0; nest_i_181701 < n_108263; nest_i_181701++) {
        ((int32_t *) mem_180291.mem)[nest_i_181701] = 0;
    }
    
    bool loop_cond_163933 = slt64((int64_t) 0, m_163931);
    bool partitioned_gather_res_163934;
    int64_t partitioned_gather_res_163936;
    bool loop_while_163937;
    int64_t p_163939;
    
    loop_while_163937 = loop_cond_163933;
    p_163939 = (int64_t) 0;
    while (loop_while_163937) {
        int64_t lower_bound_163940 = mul64(block_sizze_108265, p_163939);
        int64_t min_arg1_163941 = add64(block_sizze_108265, lower_bound_163940);
        int64_t min_res_163942 = smin64(n_108263, min_arg1_163941);
        int64_t j_m_i_163943 = sub64(min_res_163942, lower_bound_163940);
        bool empty_slice_163944 = j_m_i_163943 == (int64_t) 0;
        int64_t m_163945 = sub64(j_m_i_163943, (int64_t) 1);
        int64_t i_p_m_t_s_163946 = add64(lower_bound_163940, m_163945);
        bool zzero_leq_i_p_m_t_s_163947 = sle64((int64_t) 0, i_p_m_t_s_163946);
        bool i_p_m_t_s_leq_w_163948 = slt64(i_p_m_t_s_163946, n_108263);
        bool zzero_lte_i_163949 = sle64((int64_t) 0, lower_bound_163940);
        bool i_lte_j_163950 = sle64(lower_bound_163940, min_res_163942);
        bool y_163951 = i_p_m_t_s_leq_w_163948 && zzero_lte_i_163949;
        bool y_163952 = zzero_leq_i_p_m_t_s_163947 && y_163951;
        bool forwards_ok_163953 = i_lte_j_163950 && y_163952;
        bool ok_or_empty_163954 = empty_slice_163944 || forwards_ok_163953;
        bool index_certs_163955;
        
        if (!ok_or_empty_163954) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_163940, ":", (long long) min_res_163942, "] out of bounds for array of shape [", (long long) n_108263, "].", "-> #0  ftbasics.fut:49:48-75\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:51:1-53:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        for (int64_t i_179946 = 0; i_179946 < j_m_i_163943; i_179946++) {
            int64_t slice_180139 = lower_bound_163940 + i_179946;
            int64_t eta_p_163958 = ((int64_t *) mem_180283)[slice_180139];
            bool cond_163959 = sle64((int64_t) 0, eta_p_163958);
            bool cond_t_res_163960 = slt64(eta_p_163958, n_108263);
            bool x_163961 = cond_163959 && cond_t_res_163960;
            int32_t lifted_lambda_res_163962;
            
            if (x_163961) {
                bool index_certs_177792;
                
                if (!x_163961) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163958, "] out of bounds for array of shape [", (long long) n_108263, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:51:1-53:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int32_t lifted_lambda_res_t_res_177793 = ((int32_t *) ys_mem_180281.mem)[eta_p_163958];
                
                lifted_lambda_res_163962 = lifted_lambda_res_t_res_177793;
            } else {
                lifted_lambda_res_163962 = 0;
            }
            ((int32_t *) mem_180291.mem)[lower_bound_163940 + i_179946] = lifted_lambda_res_163962;
        }
        
        int64_t tmp_163965 = add64((int64_t) 1, p_163939);
        bool loop_cond_163969 = slt64(tmp_163965, m_163931);
        bool loop_while_tmp_181702 = loop_cond_163969;
        int64_t p_tmp_181704 = tmp_163965;
        
        loop_while_163937 = loop_while_tmp_181702;
        p_163939 = p_tmp_181704;
    }
    partitioned_gather_res_163934 = loop_while_163937;
    partitioned_gather_res_163936 = p_163939;
    if (memblock_set(ctx, &mem_out_181699, &mem_180291, "mem_180291") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182297, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        if (memblock_unref(ctx, &mem_180291, "mem_180291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_182299, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_108522, int64_t incr_108523, int64_t block_sizze_108524)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182300 = 0;
    unsigned char *mem_180283 = NULL;
    struct memblock mem_180291;
    
    mem_180291.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_108522;
    bool zzero_163928 = block_sizze_108524 == (int64_t) 0;
    bool nonzzero_163929 = !zzero_163928;
    bool nonzzero_cert_163930;
    
    if (!nonzzero_163929) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:23-29\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:55:1-57:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_180283_cached_sizze_182300 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182300, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_179942 = 0; i_179942 < n_108522; i_179942++) {
        int64_t eta_p_163924 = ((int64_t *) is_mem_180280.mem)[i_179942];
        int64_t lifted_lambda_res_163925 = sub64(eta_p_163924, incr_108523);
        
        ((int64_t *) mem_180283)[i_179942] = lifted_lambda_res_163925;
    }
    
    int64_t zm_lhs_163926 = add64(n_108522, block_sizze_108524);
    int64_t zs_lhs_163927 = sub64(zm_lhs_163926, (int64_t) 1);
    int64_t m_163931 = sdiv64(zs_lhs_163927, block_sizze_108524);
    
    if (memblock_alloc(ctx, &mem_180291, bytes_180282, "mem_180291")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181701 = 0; nest_i_181701 < n_108522; nest_i_181701++) {
        ((int64_t *) mem_180291.mem)[nest_i_181701] = (int64_t) 0;
    }
    
    bool loop_cond_163933 = slt64((int64_t) 0, m_163931);
    bool partitioned_gather_res_163934;
    int64_t partitioned_gather_res_163936;
    bool loop_while_163937;
    int64_t p_163939;
    
    loop_while_163937 = loop_cond_163933;
    p_163939 = (int64_t) 0;
    while (loop_while_163937) {
        int64_t lower_bound_163940 = mul64(block_sizze_108524, p_163939);
        int64_t min_arg1_163941 = add64(block_sizze_108524, lower_bound_163940);
        int64_t min_res_163942 = smin64(n_108522, min_arg1_163941);
        int64_t j_m_i_163943 = sub64(min_res_163942, lower_bound_163940);
        bool empty_slice_163944 = j_m_i_163943 == (int64_t) 0;
        int64_t m_163945 = sub64(j_m_i_163943, (int64_t) 1);
        int64_t i_p_m_t_s_163946 = add64(lower_bound_163940, m_163945);
        bool zzero_leq_i_p_m_t_s_163947 = sle64((int64_t) 0, i_p_m_t_s_163946);
        bool i_p_m_t_s_leq_w_163948 = slt64(i_p_m_t_s_163946, n_108522);
        bool zzero_lte_i_163949 = sle64((int64_t) 0, lower_bound_163940);
        bool i_lte_j_163950 = sle64(lower_bound_163940, min_res_163942);
        bool y_163951 = i_p_m_t_s_leq_w_163948 && zzero_lte_i_163949;
        bool y_163952 = zzero_leq_i_p_m_t_s_163947 && y_163951;
        bool forwards_ok_163953 = i_lte_j_163950 && y_163952;
        bool ok_or_empty_163954 = empty_slice_163944 || forwards_ok_163953;
        bool index_certs_163955;
        
        if (!ok_or_empty_163954) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_163940, ":", (long long) min_res_163942, "] out of bounds for array of shape [", (long long) n_108522, "].", "-> #0  ftbasics.fut:49:48-75\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:55:1-57:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        for (int64_t i_179946 = 0; i_179946 < j_m_i_163943; i_179946++) {
            int64_t slice_180139 = lower_bound_163940 + i_179946;
            int64_t eta_p_163958 = ((int64_t *) mem_180283)[slice_180139];
            bool cond_163959 = sle64((int64_t) 0, eta_p_163958);
            bool cond_t_res_163960 = slt64(eta_p_163958, n_108522);
            bool x_163961 = cond_163959 && cond_t_res_163960;
            int64_t lifted_lambda_res_163962;
            
            if (x_163961) {
                bool index_certs_177792;
                
                if (!x_163961) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163958, "] out of bounds for array of shape [", (long long) n_108522, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:55:1-57:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t lifted_lambda_res_t_res_177793 = ((int64_t *) ys_mem_180281.mem)[eta_p_163958];
                
                lifted_lambda_res_163962 = lifted_lambda_res_t_res_177793;
            } else {
                lifted_lambda_res_163962 = (int64_t) 0;
            }
            ((int64_t *) mem_180291.mem)[lower_bound_163940 + i_179946] = lifted_lambda_res_163962;
        }
        
        int64_t tmp_163965 = add64((int64_t) 1, p_163939);
        bool loop_cond_163969 = slt64(tmp_163965, m_163931);
        bool loop_while_tmp_181702 = loop_cond_163969;
        int64_t p_tmp_181704 = tmp_163965;
        
        loop_while_163937 = loop_while_tmp_181702;
        p_163939 = p_tmp_181704;
    }
    partitioned_gather_res_163934 = loop_while_163937;
    partitioned_gather_res_163936 = p_163939;
    if (memblock_set(ctx, &mem_out_181699, &mem_180291, "mem_180291") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182299, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        if (memblock_unref(ctx, &mem_180291, "mem_180291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_182301, struct memblock is_mem_180280, struct memblock ys_mem_180281, int64_t n_108001, int64_t incr_108002, int64_t block_sizze_108003)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182302 = 0;
    unsigned char *mem_180283 = NULL;
    struct memblock mem_180291;
    
    mem_180291.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t bytes_180282 = (int64_t) 8 * n_108001;
    bool zzero_163928 = block_sizze_108003 == (int64_t) 0;
    bool nonzzero_163929 = !zzero_163928;
    bool nonzzero_cert_163930;
    
    if (!nonzzero_163929) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:23-29\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:47:1-49:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180290 = (int64_t) 2 * n_108001;
    
    if (mem_180283_cached_sizze_182302 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182302, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_179942 = 0; i_179942 < n_108001; i_179942++) {
        int64_t eta_p_163924 = ((int64_t *) is_mem_180280.mem)[i_179942];
        int64_t lifted_lambda_res_163925 = sub64(eta_p_163924, incr_108002);
        
        ((int64_t *) mem_180283)[i_179942] = lifted_lambda_res_163925;
    }
    
    int64_t zm_lhs_163926 = add64(n_108001, block_sizze_108003);
    int64_t zs_lhs_163927 = sub64(zm_lhs_163926, (int64_t) 1);
    int64_t m_163931 = sdiv64(zs_lhs_163927, block_sizze_108003);
    
    if (memblock_alloc(ctx, &mem_180291, bytes_180290, "mem_180291")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_181701 = 0; nest_i_181701 < n_108001; nest_i_181701++) {
        ((int16_t *) mem_180291.mem)[nest_i_181701] = (int16_t) 0;
    }
    
    bool loop_cond_163933 = slt64((int64_t) 0, m_163931);
    bool partitioned_gather_res_163934;
    int64_t partitioned_gather_res_163936;
    bool loop_while_163937;
    int64_t p_163939;
    
    loop_while_163937 = loop_cond_163933;
    p_163939 = (int64_t) 0;
    while (loop_while_163937) {
        int64_t lower_bound_163940 = mul64(block_sizze_108003, p_163939);
        int64_t min_arg1_163941 = add64(block_sizze_108003, lower_bound_163940);
        int64_t min_res_163942 = smin64(n_108001, min_arg1_163941);
        int64_t j_m_i_163943 = sub64(min_res_163942, lower_bound_163940);
        bool empty_slice_163944 = j_m_i_163943 == (int64_t) 0;
        int64_t m_163945 = sub64(j_m_i_163943, (int64_t) 1);
        int64_t i_p_m_t_s_163946 = add64(lower_bound_163940, m_163945);
        bool zzero_leq_i_p_m_t_s_163947 = sle64((int64_t) 0, i_p_m_t_s_163946);
        bool i_p_m_t_s_leq_w_163948 = slt64(i_p_m_t_s_163946, n_108001);
        bool zzero_lte_i_163949 = sle64((int64_t) 0, lower_bound_163940);
        bool i_lte_j_163950 = sle64(lower_bound_163940, min_res_163942);
        bool y_163951 = i_p_m_t_s_leq_w_163948 && zzero_lte_i_163949;
        bool y_163952 = zzero_leq_i_p_m_t_s_163947 && y_163951;
        bool forwards_ok_163953 = i_lte_j_163950 && y_163952;
        bool ok_or_empty_163954 = empty_slice_163944 || forwards_ok_163953;
        bool index_certs_163955;
        
        if (!ok_or_empty_163954) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lower_bound_163940, ":", (long long) min_res_163942, "] out of bounds for array of shape [", (long long) n_108001, "].", "-> #0  ftbasics.fut:49:48-75\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:47:1-49:48\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        for (int64_t i_179946 = 0; i_179946 < j_m_i_163943; i_179946++) {
            int64_t slice_180139 = lower_bound_163940 + i_179946;
            int64_t eta_p_163958 = ((int64_t *) mem_180283)[slice_180139];
            bool cond_163959 = sle64((int64_t) 0, eta_p_163958);
            bool cond_t_res_163960 = slt64(eta_p_163958, n_108001);
            bool x_163961 = cond_163959 && cond_t_res_163960;
            int16_t lifted_lambda_res_163962;
            
            if (x_163961) {
                bool index_certs_177792;
                
                if (!x_163961) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_163958, "] out of bounds for array of shape [", (long long) n_108001, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:47:1-49:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int16_t lifted_lambda_res_t_res_177793 = ((int16_t *) ys_mem_180281.mem)[eta_p_163958];
                
                lifted_lambda_res_163962 = lifted_lambda_res_t_res_177793;
            } else {
                lifted_lambda_res_163962 = (int16_t) 0;
            }
            ((int16_t *) mem_180291.mem)[lower_bound_163940 + i_179946] = lifted_lambda_res_163962;
        }
        
        int64_t tmp_163965 = add64((int64_t) 1, p_163939);
        bool loop_cond_163969 = slt64(tmp_163965, m_163931);
        bool loop_while_tmp_181702 = loop_cond_163969;
        int64_t p_tmp_181704 = tmp_163965;
        
        loop_while_163937 = loop_while_tmp_181702;
        p_163939 = p_tmp_181704;
    }
    partitioned_gather_res_163934 = loop_while_163937;
    partitioned_gather_res_163936 = p_163939;
    if (memblock_set(ctx, &mem_out_181699, &mem_180291, "mem_180291") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182301, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        if (memblock_unref(ctx, &mem_180291, "mem_180291") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182303, struct memblock *mem_out_p_182304, struct memblock xs_mem_180280, int64_t n_95906, int64_t incr_95907, int16_t block_sizze_95908)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182305 = 0;
    unsigned char *mem_180283 = NULL;
    int64_t mem_180285_cached_sizze_182306 = 0;
    unsigned char *mem_180285 = NULL;
    int64_t mem_180293_cached_sizze_182307 = 0;
    unsigned char *mem_180293 = NULL;
    int64_t mem_180295_cached_sizze_182308 = 0;
    unsigned char *mem_180295 = NULL;
    int64_t mem_180297_cached_sizze_182309 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182310 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_182311 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180333_cached_sizze_182312 = 0;
    unsigned char *mem_180333 = NULL;
    int64_t mem_180335_cached_sizze_182313 = 0;
    unsigned char *mem_180335 = NULL;
    int64_t mem_180348_cached_sizze_182314 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180349_cached_sizze_182315 = 0;
    unsigned char *mem_180349 = NULL;
    int64_t mem_180356_cached_sizze_182316 = 0;
    unsigned char *mem_180356 = NULL;
    int64_t mem_180359_cached_sizze_182317 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180362_cached_sizze_182318 = 0;
    unsigned char *mem_180362 = NULL;
    int64_t mem_180365_cached_sizze_182319 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180368_cached_sizze_182320 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180390_cached_sizze_182321 = 0;
    unsigned char *mem_180390 = NULL;
    int64_t mem_180392_cached_sizze_182322 = 0;
    unsigned char *mem_180392 = NULL;
    int64_t mem_180394_cached_sizze_182323 = 0;
    unsigned char *mem_180394 = NULL;
    int64_t mem_180396_cached_sizze_182324 = 0;
    unsigned char *mem_180396 = NULL;
    int64_t mem_180398_cached_sizze_182325 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180441_cached_sizze_182326 = 0;
    unsigned char *mem_180441 = NULL;
    int64_t mem_180442_cached_sizze_182327 = 0;
    unsigned char *mem_180442 = NULL;
    int64_t mem_180467_cached_sizze_182328 = 0;
    unsigned char *mem_180467 = NULL;
    int64_t mem_180475_cached_sizze_182329 = 0;
    unsigned char *mem_180475 = NULL;
    struct memblock mem_180503;
    
    mem_180503.references = NULL;
    
    struct memblock mem_180501;
    
    mem_180501.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    bool cond_171014 = n_95906 == (int64_t) 0;
    int32_t iters_171015;
    
    if (cond_171014) {
        iters_171015 = 0;
    } else {
        iters_171015 = 32;
    }
    
    int64_t i16_res_171016 = sext_i16_i64(block_sizze_95908);
    bool zzero_171017 = i16_res_171016 == (int64_t) 0;
    bool nonzzero_171018 = !zzero_171017;
    bool nonzzero_cert_171019;
    
    if (!nonzzero_171018) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:215:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171020 = sdiv64(n_95906, i16_res_171016);
    int64_t rest_171021 = smod64(n_95906, i16_res_171016);
    int64_t arg_171022 = mul64(i16_res_171016, n_blocks_171020);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023 = add64(rest_171021, arg_171022);
    bool dim_match_171024 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023 == n_95906;
    bool empty_or_match_cert_171025;
    
    if (!dim_match_171024) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_95906, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:215:95-98\n   #6  ftsort.fut:28:3-47\n   #7  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180282 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023;
    bool loop_nonempty_171029 = slt32(0, iters_171015);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030 = add64((int64_t) 1, n_blocks_171020);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030);
    bool empty_slice_171032 = arg_171022 == (int64_t) 0;
    int64_t m_171033 = sub64(arg_171022, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171034 = sle64((int64_t) 0, m_171033);
    bool i_p_m_t_s_leq_w_171035 = slt64(m_171033, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023);
    bool i_lte_j_171036 = sle64((int64_t) 0, arg_171022);
    bool y_171037 = zzero_leq_i_p_m_t_s_171034 && i_p_m_t_s_leq_w_171035;
    bool forwards_ok_171038 = i_lte_j_171036 && y_171037;
    bool ok_or_empty_171039 = empty_slice_171032 || forwards_ok_171038;
    bool loop_not_taken_171040 = !loop_nonempty_171029;
    bool protect_assert_disj_171041 = ok_or_empty_171039 || loop_not_taken_171040;
    bool index_certs_171042;
    
    if (!protect_assert_disj_171041) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171022, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171043 = rest_171021 == (int64_t) 0;
    int64_t m_171044 = sub64(rest_171021, (int64_t) 1);
    int64_t i_p_m_t_s_171045 = add64(arg_171022, m_171044);
    bool zzero_leq_i_p_m_t_s_171046 = sle64((int64_t) 0, i_p_m_t_s_171045);
    bool i_p_m_t_s_leq_w_171047 = slt64(i_p_m_t_s_171045, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023);
    bool i_lte_j_171048 = sle64(arg_171022, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023);
    bool y_171049 = zzero_leq_i_p_m_t_s_171046 && i_p_m_t_s_leq_w_171047;
    bool forwards_ok_171050 = i_lte_j_171048 && y_171049;
    bool ok_or_empty_171051 = empty_slice_171043 || forwards_ok_171050;
    bool protect_assert_disj_171052 = loop_not_taken_171040 || ok_or_empty_171051;
    bool index_certs_171053;
    
    if (!protect_assert_disj_171052) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171022, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171054 = sle64((int64_t) 0, n_blocks_171020);
    bool binop_y_171055 = sle64((int64_t) 0, i16_res_171016);
    bool binop_y_171056 = binop_x_171054 && binop_y_171055;
    bool protect_assert_disj_171057 = loop_not_taken_171040 || binop_y_171056;
    bool dim_ok_cert_171058;
    
    if (!protect_assert_disj_171057) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171022, "] to array of shape [", (long long) n_blocks_171020, "][", (long long) i16_res_171016, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171059 = sub64(i16_res_171016, (int64_t) 1);
    bool x_171060 = sle64((int64_t) 0, tmp_171059);
    bool y_171061 = slt64(tmp_171059, i16_res_171016);
    bool bounds_check_171062 = x_171060 && y_171061;
    bool protect_assert_disj_171063 = zzero_171017 || bounds_check_171062;
    bool protect_assert_disj_171064 = loop_not_taken_171040 || protect_assert_disj_171063;
    bool index_certs_171065;
    
    if (!protect_assert_disj_171064) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171059, "] out of bounds for array of shape [", (long long) i16_res_171016, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171067 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031);
    bool protect_assert_disj_171068 = loop_not_taken_171040 || y_171067;
    bool index_certs_171069;
    
    if (!protect_assert_disj_171068) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171071 = nonzzero_171018 || loop_not_taken_171040;
    bool nonzzero_cert_171072;
    
    if (!protect_assert_disj_171071) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171073 = sle64((int64_t) 0, m_171044);
    bool y_171074 = slt64(m_171044, rest_171021);
    bool bounds_check_171075 = x_171073 && y_171074;
    bool protect_assert_disj_171076 = empty_slice_171043 || bounds_check_171075;
    bool protect_assert_disj_171077 = loop_not_taken_171040 || protect_assert_disj_171076;
    bool index_certs_171078;
    
    if (!protect_assert_disj_171077) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171044, "] out of bounds for array of shape [", (long long) rest_171021, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180292 = (int64_t) 2 * rest_171021;
    int64_t bytes_180332 = (int64_t) 8 * rest_171021;
    int64_t binop_x_180357 = (int64_t) 8 * n_blocks_171020;
    int64_t bytes_180358 = i16_res_171016 * binop_x_180357;
    int64_t bytes_180364 = (int64_t) 32 * n_blocks_171020;
    int64_t bytes_180389 = (int64_t) 2 * i16_res_171016;
    int64_t bytes_180466 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030;
    bool dim_match_171351 = n_95906 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023;
    bool empty_or_match_cert_171352;
    
    if (!dim_match_171351) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "] cannot match shape of type `[", (long long) n_95906, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180500 = (int64_t) 8 * n_95906;
    
    if (futrts_indicesWithIncrement_9575(ctx, &ext_mem_180281, xs_mem_180280, n_95906, incr_95907) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180283_cached_sizze_182305 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182305, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180283, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_180280.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023});
    if (mem_180285_cached_sizze_182306 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180285, &mem_180285_cached_sizze_182306, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181701 = 0; i_181701 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023; i_181701++) {
        int64_t x_181702 = (int64_t) 0 + i_181701 * (int64_t) 1;
        
        ((int64_t *) mem_180285)[i_181701] = x_181702;
    }
    if (mem_180293_cached_sizze_182307 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180293, &mem_180293_cached_sizze_182307, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180295_cached_sizze_182308 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180295, &mem_180295_cached_sizze_182308, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180297_cached_sizze_182309 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182309, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180299_cached_sizze_182310 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182310, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180301_cached_sizze_182311 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_182311, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180333_cached_sizze_182312 < bytes_180332) {
        err = lexical_realloc(ctx, &mem_180333, &mem_180333_cached_sizze_182312, bytes_180332);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180335_cached_sizze_182313 < bytes_180332) {
        err = lexical_realloc(ctx, &mem_180335, &mem_180335_cached_sizze_182313, bytes_180332);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180348_cached_sizze_182314 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_182314, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180349_cached_sizze_182315 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180349, &mem_180349_cached_sizze_182315, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180356_cached_sizze_182316 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180356, &mem_180356_cached_sizze_182316, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180359_cached_sizze_182317 < bytes_180358) {
        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182317, bytes_180358);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180362_cached_sizze_182318 < bytes_180358) {
        err = lexical_realloc(ctx, &mem_180362, &mem_180362_cached_sizze_182318, bytes_180358);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180365_cached_sizze_182319 < bytes_180364) {
        err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_182319, bytes_180364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180368_cached_sizze_182320 < binop_x_180357) {
        err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_182320, binop_x_180357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180390_cached_sizze_182321 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180390, &mem_180390_cached_sizze_182321, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180392_cached_sizze_182322 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180392, &mem_180392_cached_sizze_182322, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180394_cached_sizze_182323 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180394, &mem_180394_cached_sizze_182323, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180396_cached_sizze_182324 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180396, &mem_180396_cached_sizze_182324, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180398_cached_sizze_182325 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_182325, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180441_cached_sizze_182326 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180441, &mem_180441_cached_sizze_182326, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180442_cached_sizze_182327 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180442, &mem_180442_cached_sizze_182327, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180467_cached_sizze_182328 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180467, &mem_180467_cached_sizze_182328, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180475_cached_sizze_182329 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180475, &mem_180475_cached_sizze_182329, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171081 = 0; i_171081 < iters_171015; i_171081++) {
        int32_t blocked_radix_sort_step_arg1_171084 = mul32(2, i_171081);
        int32_t get_bit_arg0_171089 = add32(1, blocked_radix_sort_step_arg1_171084);
        int64_t unsign_arg0_171090 = zext_i32_i64(get_bit_arg0_171089);
        bool cond_f_res_171091 = get_bit_arg0_171089 == 63;
        int64_t unsign_arg0_171092 = zext_i32_i64(blocked_radix_sort_step_arg1_171084);
        bool cond_f_res_171093 = blocked_radix_sort_step_arg1_171084 == 63;
        int16_t discard_179960;
        int16_t discard_179961;
        int16_t discard_179962;
        int16_t discard_179963;
        int16_t scanacc_179945;
        int16_t scanacc_179946;
        int16_t scanacc_179947;
        int16_t scanacc_179948;
        
        scanacc_179945 = (int16_t) 0;
        scanacc_179946 = (int16_t) 0;
        scanacc_179947 = (int16_t) 0;
        scanacc_179948 = (int16_t) 0;
        for (int64_t i_179954 = 0; i_179954 < rest_171021; i_179954++) {
            int64_t slice_180167 = arg_171022 + i_179954;
            double eta_p_177876 = ((double *) mem_180283)[slice_180167];
            int64_t i64_arg0_177877 = futrts_to_bits64(eta_p_177876);
            int64_t unsign_arg0_177878 = ashr64(i64_arg0_177877, unsign_arg0_171090);
            int64_t unsign_arg0_177879 = (int64_t) 1 & unsign_arg0_177878;
            int32_t to_i32_res_177880 = zext_i64_i32(unsign_arg0_177879);
            int64_t unsign_arg0_177881 = ashr64(i64_arg0_177877, (int64_t) 63);
            int64_t unsign_arg0_177882 = (int64_t) 1 & unsign_arg0_177881;
            int32_t to_i32_res_177883 = zext_i64_i32(unsign_arg0_177882);
            bool cond_177884 = to_i32_res_177883 == 1;
            bool x_177885 = !cond_177884;
            bool y_177886 = cond_f_res_171091 && x_177885;
            bool cond_177887 = cond_177884 || y_177886;
            int32_t defunc_0_get_bit_res_177888;
            
            if (cond_177887) {
                int32_t defunc_0_get_bit_res_t_res_178018 = 1 ^ to_i32_res_177880;
                
                defunc_0_get_bit_res_177888 = defunc_0_get_bit_res_t_res_178018;
            } else {
                defunc_0_get_bit_res_177888 = to_i32_res_177880;
            }
            
            int32_t zp_lhs_177890 = mul32(2, defunc_0_get_bit_res_177888);
            int64_t unsign_arg0_177891 = ashr64(i64_arg0_177877, unsign_arg0_171092);
            int64_t unsign_arg0_177892 = (int64_t) 1 & unsign_arg0_177891;
            int32_t to_i32_res_177893 = zext_i64_i32(unsign_arg0_177892);
            bool y_177894 = cond_f_res_171093 && x_177885;
            bool cond_177895 = cond_177884 || y_177894;
            int32_t defunc_0_get_bit_res_177896;
            
            if (cond_177895) {
                int32_t defunc_0_get_bit_res_t_res_178019 = 1 ^ to_i32_res_177893;
                
                defunc_0_get_bit_res_177896 = defunc_0_get_bit_res_t_res_178019;
            } else {
                defunc_0_get_bit_res_177896 = to_i32_res_177893;
            }
            
            int32_t i32_arg0_177898 = add32(zp_lhs_177890, defunc_0_get_bit_res_177896);
            int16_t i32_res_177899 = sext_i32_i16(i32_arg0_177898);
            int16_t defunc_0_f_res_177901;
            int16_t defunc_0_f_res_177902;
            int16_t defunc_0_f_res_177903;
            int16_t defunc_0_f_res_177904;
            
            if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177901, &defunc_0_f_res_177902, &defunc_0_f_res_177903, &defunc_0_f_res_177904, i32_res_177899) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171144 = add16(defunc_0_f_res_177901, scanacc_179945);
            int16_t defunc_0_op_res_171145 = add16(defunc_0_f_res_177902, scanacc_179946);
            int16_t defunc_0_op_res_171146 = add16(defunc_0_f_res_177903, scanacc_179947);
            int16_t defunc_0_op_res_171147 = add16(defunc_0_f_res_177904, scanacc_179948);
            
            ((int16_t *) mem_180293)[i_179954] = defunc_0_op_res_171144;
            ((int16_t *) mem_180295)[i_179954] = defunc_0_op_res_171145;
            ((int16_t *) mem_180297)[i_179954] = defunc_0_op_res_171146;
            ((int16_t *) mem_180299)[i_179954] = defunc_0_op_res_171147;
            ((int16_t *) mem_180301)[i_179954] = i32_res_177899;
            
            int16_t scanacc_tmp_181705 = defunc_0_op_res_171144;
            int16_t scanacc_tmp_181706 = defunc_0_op_res_171145;
            int16_t scanacc_tmp_181707 = defunc_0_op_res_171146;
            int16_t scanacc_tmp_181708 = defunc_0_op_res_171147;
            
            scanacc_179945 = scanacc_tmp_181705;
            scanacc_179946 = scanacc_tmp_181706;
            scanacc_179947 = scanacc_tmp_181707;
            scanacc_179948 = scanacc_tmp_181708;
        }
        discard_179960 = scanacc_179945;
        discard_179961 = scanacc_179946;
        discard_179962 = scanacc_179947;
        discard_179963 = scanacc_179948;
        
        int16_t defunc_0_radix_sort_step_i16_res_171148;
        int16_t defunc_0_radix_sort_step_i16_res_171149;
        int16_t defunc_0_radix_sort_step_i16_res_171150;
        int16_t defunc_0_radix_sort_step_i16_res_171151;
        
        if (empty_slice_171043) {
            defunc_0_radix_sort_step_i16_res_171148 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171149 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171150 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171151 = (int16_t) 0;
        } else {
            int16_t last_res_171152 = ((int16_t *) mem_180293)[m_171044];
            int16_t last_res_171153 = ((int16_t *) mem_180295)[m_171044];
            int16_t last_res_171154 = ((int16_t *) mem_180297)[m_171044];
            int16_t last_res_171155 = ((int16_t *) mem_180299)[m_171044];
            
            defunc_0_radix_sort_step_i16_res_171148 = last_res_171152;
            defunc_0_radix_sort_step_i16_res_171149 = last_res_171153;
            defunc_0_radix_sort_step_i16_res_171150 = last_res_171154;
            defunc_0_radix_sort_step_i16_res_171151 = last_res_171155;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180333, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + (int64_t) 1 * arg_171022, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171021});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180335, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180283, (int64_t) 0 + (int64_t) 1 * arg_171022, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171021});
        for (int64_t write_iter_179964 = 0; write_iter_179964 < rest_171021; write_iter_179964++) {
            int16_t write_iv_179967 = ((int16_t *) mem_180301)[write_iter_179964];
            int16_t write_iv_179968 = ((int16_t *) mem_180293)[write_iter_179964];
            int16_t write_iv_179969 = ((int16_t *) mem_180295)[write_iter_179964];
            int16_t write_iv_179970 = ((int16_t *) mem_180297)[write_iter_179964];
            int16_t write_iv_179971 = ((int16_t *) mem_180299)[write_iter_179964];
            int64_t slice_180166 = arg_171022 + write_iter_179964;
            double write_iv_179972 = ((double *) mem_180283)[slice_180166];
            int64_t write_iv_179973 = ((int64_t *) mem_180285)[slice_180166];
            int64_t defunc_0_f_res_177860;
            
            if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177860, defunc_0_radix_sort_step_i16_res_171148, defunc_0_radix_sort_step_i16_res_171149, defunc_0_radix_sort_step_i16_res_171150, write_iv_179967, write_iv_179968, write_iv_179969, write_iv_179970, write_iv_179971) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177860) && slt64(defunc_0_f_res_177860, rest_171021)) {
                ((double *) mem_180335)[defunc_0_f_res_177860] = write_iv_179972;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177860) && slt64(defunc_0_f_res_177860, rest_171021)) {
                ((int64_t *) mem_180333)[defunc_0_f_res_177860] = write_iv_179973;
            }
        }
        ((int16_t *) mem_180348)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171148;
        ((int16_t *) mem_180348)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171149;
        ((int16_t *) mem_180348)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171150;
        ((int16_t *) mem_180348)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171151;
        for (int64_t i_179978 = 0; i_179978 < (int64_t) 4; i_179978++) {
            int16_t eta_p_171172 = ((int16_t *) mem_180348)[i_179978];
            int64_t i16_res_171173 = sext_i16_i64(eta_p_171172);
            
            ((int64_t *) mem_180349)[i_179978] = i16_res_171173;
        }
        
        int16_t tmp_171174 = add16(defunc_0_radix_sort_step_i16_res_171148, defunc_0_radix_sort_step_i16_res_171149);
        int16_t tmp_171175 = add16(defunc_0_radix_sort_step_i16_res_171150, tmp_171174);
        
        ((int16_t *) mem_180356)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180356)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171148;
        ((int16_t *) mem_180356)[(int64_t) 2] = tmp_171174;
        ((int16_t *) mem_180356)[(int64_t) 3] = tmp_171175;
        for (int64_t i_180028 = 0; i_180028 < n_blocks_171020; i_180028++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180359, i_180028 * i16_res_171016, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180283, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_171016), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171016});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180362, i_180028 * i16_res_171016, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_171016), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171016});
            
            int64_t binop_x_180180 = i16_res_171016 * i_180028;
            int16_t discard_180000;
            int16_t discard_180001;
            int16_t discard_180002;
            int16_t discard_180003;
            int16_t scanacc_179985;
            int16_t scanacc_179986;
            int16_t scanacc_179987;
            int16_t scanacc_179988;
            
            scanacc_179985 = (int16_t) 0;
            scanacc_179986 = (int16_t) 0;
            scanacc_179987 = (int16_t) 0;
            scanacc_179988 = (int16_t) 0;
            for (int64_t i_179994 = 0; i_179994 < i16_res_171016; i_179994++) {
                int64_t new_index_180181 = i_179994 + binop_x_180180;
                double eta_p_177935 = ((double *) mem_180283)[new_index_180181];
                int64_t i64_arg0_177936 = futrts_to_bits64(eta_p_177935);
                int64_t unsign_arg0_177937 = ashr64(i64_arg0_177936, unsign_arg0_171090);
                int64_t unsign_arg0_177938 = (int64_t) 1 & unsign_arg0_177937;
                int32_t to_i32_res_177939 = zext_i64_i32(unsign_arg0_177938);
                int64_t unsign_arg0_177940 = ashr64(i64_arg0_177936, (int64_t) 63);
                int64_t unsign_arg0_177941 = (int64_t) 1 & unsign_arg0_177940;
                int32_t to_i32_res_177942 = zext_i64_i32(unsign_arg0_177941);
                bool cond_177943 = to_i32_res_177942 == 1;
                bool x_177944 = !cond_177943;
                bool y_177945 = cond_f_res_171091 && x_177944;
                bool cond_177946 = cond_177943 || y_177945;
                int32_t defunc_0_get_bit_res_177947;
                
                if (cond_177946) {
                    int32_t defunc_0_get_bit_res_t_res_178020 = 1 ^ to_i32_res_177939;
                    
                    defunc_0_get_bit_res_177947 = defunc_0_get_bit_res_t_res_178020;
                } else {
                    defunc_0_get_bit_res_177947 = to_i32_res_177939;
                }
                
                int32_t zp_lhs_177949 = mul32(2, defunc_0_get_bit_res_177947);
                int64_t unsign_arg0_177950 = ashr64(i64_arg0_177936, unsign_arg0_171092);
                int64_t unsign_arg0_177951 = (int64_t) 1 & unsign_arg0_177950;
                int32_t to_i32_res_177952 = zext_i64_i32(unsign_arg0_177951);
                bool y_177953 = cond_f_res_171093 && x_177944;
                bool cond_177954 = cond_177943 || y_177953;
                int32_t defunc_0_get_bit_res_177955;
                
                if (cond_177954) {
                    int32_t defunc_0_get_bit_res_t_res_178021 = 1 ^ to_i32_res_177952;
                    
                    defunc_0_get_bit_res_177955 = defunc_0_get_bit_res_t_res_178021;
                } else {
                    defunc_0_get_bit_res_177955 = to_i32_res_177952;
                }
                
                int32_t i32_arg0_177957 = add32(zp_lhs_177949, defunc_0_get_bit_res_177955);
                int16_t i32_res_177958 = sext_i32_i16(i32_arg0_177957);
                int16_t defunc_0_f_res_177960;
                int16_t defunc_0_f_res_177961;
                int16_t defunc_0_f_res_177962;
                int16_t defunc_0_f_res_177963;
                
                if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177960, &defunc_0_f_res_177961, &defunc_0_f_res_177962, &defunc_0_f_res_177963, i32_res_177958) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_171239 = add16(defunc_0_f_res_177960, scanacc_179985);
                int16_t defunc_0_op_res_171240 = add16(defunc_0_f_res_177961, scanacc_179986);
                int16_t defunc_0_op_res_171241 = add16(defunc_0_f_res_177962, scanacc_179987);
                int16_t defunc_0_op_res_171242 = add16(defunc_0_f_res_177963, scanacc_179988);
                
                ((int16_t *) mem_180390)[i_179994] = defunc_0_op_res_171239;
                ((int16_t *) mem_180392)[i_179994] = defunc_0_op_res_171240;
                ((int16_t *) mem_180394)[i_179994] = defunc_0_op_res_171241;
                ((int16_t *) mem_180396)[i_179994] = defunc_0_op_res_171242;
                ((int16_t *) mem_180398)[i_179994] = i32_res_177958;
                
                int16_t scanacc_tmp_181721 = defunc_0_op_res_171239;
                int16_t scanacc_tmp_181722 = defunc_0_op_res_171240;
                int16_t scanacc_tmp_181723 = defunc_0_op_res_171241;
                int16_t scanacc_tmp_181724 = defunc_0_op_res_171242;
                
                scanacc_179985 = scanacc_tmp_181721;
                scanacc_179986 = scanacc_tmp_181722;
                scanacc_179987 = scanacc_tmp_181723;
                scanacc_179988 = scanacc_tmp_181724;
            }
            discard_180000 = scanacc_179985;
            discard_180001 = scanacc_179986;
            discard_180002 = scanacc_179987;
            discard_180003 = scanacc_179988;
            
            int16_t defunc_0_f_res_171243;
            int16_t defunc_0_f_res_171244;
            int16_t defunc_0_f_res_171245;
            int16_t defunc_0_f_res_171246;
            
            if (zzero_171017) {
                defunc_0_f_res_171243 = (int16_t) 0;
                defunc_0_f_res_171244 = (int16_t) 0;
                defunc_0_f_res_171245 = (int16_t) 0;
                defunc_0_f_res_171246 = (int16_t) 0;
            } else {
                int16_t last_res_171247 = ((int16_t *) mem_180390)[tmp_171059];
                int16_t last_res_171248 = ((int16_t *) mem_180392)[tmp_171059];
                int16_t last_res_171249 = ((int16_t *) mem_180394)[tmp_171059];
                int16_t last_res_171250 = ((int16_t *) mem_180396)[tmp_171059];
                
                defunc_0_f_res_171243 = last_res_171247;
                defunc_0_f_res_171244 = last_res_171248;
                defunc_0_f_res_171245 = last_res_171249;
                defunc_0_f_res_171246 = last_res_171250;
            }
            for (int64_t write_iter_180004 = 0; write_iter_180004 < i16_res_171016; write_iter_180004++) {
                int16_t write_iv_180007 = ((int16_t *) mem_180398)[write_iter_180004];
                int16_t write_iv_180008 = ((int16_t *) mem_180390)[write_iter_180004];
                int16_t write_iv_180009 = ((int16_t *) mem_180392)[write_iter_180004];
                int16_t write_iv_180010 = ((int16_t *) mem_180394)[write_iter_180004];
                int16_t write_iv_180011 = ((int16_t *) mem_180396)[write_iter_180004];
                int64_t new_index_180177 = write_iter_180004 + binop_x_180180;
                double write_iv_180012 = ((double *) mem_180283)[new_index_180177];
                int64_t write_iv_180013 = ((int64_t *) mem_180285)[new_index_180177];
                int64_t defunc_0_f_res_177919;
                
                if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177919, defunc_0_f_res_171243, defunc_0_f_res_171244, defunc_0_f_res_171245, write_iv_180007, write_iv_180008, write_iv_180009, write_iv_180010, write_iv_180011) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177919) && slt64(defunc_0_f_res_177919, i16_res_171016)) {
                    ((double *) mem_180359)[i_180028 * i16_res_171016 + defunc_0_f_res_177919] = write_iv_180012;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177919) && slt64(defunc_0_f_res_177919, i16_res_171016)) {
                    ((int64_t *) mem_180362)[i_180028 * i16_res_171016 + defunc_0_f_res_177919] = write_iv_180013;
                }
            }
            ((int16_t *) mem_180441)[(int64_t) 0] = defunc_0_f_res_171243;
            ((int16_t *) mem_180441)[(int64_t) 1] = defunc_0_f_res_171244;
            ((int16_t *) mem_180441)[(int64_t) 2] = defunc_0_f_res_171245;
            ((int16_t *) mem_180441)[(int64_t) 3] = defunc_0_f_res_171246;
            for (int64_t i_180018 = 0; i_180018 < (int64_t) 4; i_180018++) {
                int16_t eta_p_171265 = ((int16_t *) mem_180441)[i_180018];
                int64_t i16_res_171266 = sext_i16_i64(eta_p_171265);
                
                ((int64_t *) mem_180442)[i_180018] = i16_res_171266;
            }
            
            int16_t tmp_171267 = add16(defunc_0_f_res_171243, defunc_0_f_res_171244);
            int16_t tmp_171268 = add16(defunc_0_f_res_171245, tmp_171267);
            
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_171243;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 2] = tmp_171267;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 3] = tmp_171268;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180365, i_180028 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180442, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180040;
        int64_t scanacc_180036 = (int64_t) 0;
        
        for (int64_t i_180038 = 0; i_180038 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031; i_180038++) {
            int64_t new_index_180155 = squot64(i_180038, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030);
            int64_t binop_y_180157 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030 * new_index_180155;
            int64_t new_index_180158 = i_180038 - binop_y_180157;
            bool index_concat_cmp_180160 = sle64(n_blocks_171020, new_index_180158);
            int64_t index_concat_branch_180164;
            
            if (index_concat_cmp_180160) {
                int64_t index_concat_180162 = ((int64_t *) mem_180349)[new_index_180155];
                
                index_concat_branch_180164 = index_concat_180162;
            } else {
                int64_t index_concat_180163 = ((int64_t *) mem_180365)[new_index_180158 * (int64_t) 4 + new_index_180155];
                
                index_concat_branch_180164 = index_concat_180163;
            }
            
            int64_t defunc_0_op_res_171282 = add64(scanacc_180036, index_concat_branch_180164);
            
            ((int64_t *) mem_180467)[i_180038] = defunc_0_op_res_171282;
            
            int64_t scanacc_tmp_181733 = defunc_0_op_res_171282;
            
            scanacc_180036 = scanacc_tmp_181733;
        }
        discard_180040 = scanacc_180036;
        for (int64_t i_180043 = 0; i_180043 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031; i_180043++) {
            int64_t zv_lhs_171285 = add64((int64_t) -1, i_180043);
            int64_t tmp_171286 = smod64(zv_lhs_171285, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031);
            int64_t lifted_lambda_res_171287 = ((int64_t *) mem_180467)[tmp_171286];
            
            ((int64_t *) mem_180475)[i_180043] = lifted_lambda_res_171287;
        }
        ((int64_t *) mem_180475)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180045 = 0; write_iter_180045 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023; write_iter_180045++) {
            bool index_concat_cmp_180146 = sle64(arg_171022, write_iter_180045);
            double index_concat_branch_177801;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_178030 = sub64(write_iter_180045, arg_171022);
                double index_concat_178031 = ((double *) mem_180335)[index_concat_i_178030];
                
                index_concat_branch_177801 = index_concat_178031;
            } else {
                int64_t new_index_177804 = squot64(write_iter_180045, i16_res_171016);
                int64_t binop_y_177805 = i16_res_171016 * new_index_177804;
                int64_t new_index_177806 = write_iter_180045 - binop_y_177805;
                double index_concat_177807 = ((double *) mem_180359)[new_index_177804 * i16_res_171016 + new_index_177806];
                
                index_concat_branch_177801 = index_concat_177807;
            }
            
            int64_t i64_arg0_177808 = futrts_to_bits64(index_concat_branch_177801);
            int64_t unsign_arg0_177809 = ashr64(i64_arg0_177808, (int64_t) 63);
            int64_t unsign_arg0_177810 = (int64_t) 1 & unsign_arg0_177809;
            int32_t to_i32_res_177811 = zext_i64_i32(unsign_arg0_177810);
            bool cond_177812 = to_i32_res_177811 == 1;
            bool x_177813 = !cond_177812;
            int32_t zlzb_rhs_177814;
            int32_t acc_177816 = 0;
            
            for (int32_t i_177815 = 0; i_177815 < 2; i_177815++) {
                int32_t get_bit_arg0_177817 = add32(blocked_radix_sort_step_arg1_171084, i_177815);
                int64_t unsign_arg0_177818 = zext_i32_i64(get_bit_arg0_177817);
                int64_t unsign_arg0_177819 = ashr64(i64_arg0_177808, unsign_arg0_177818);
                int64_t unsign_arg0_177820 = (int64_t) 1 & unsign_arg0_177819;
                int32_t to_i32_res_177821 = zext_i64_i32(unsign_arg0_177820);
                bool cond_f_res_177822 = get_bit_arg0_177817 == 63;
                bool y_177823 = x_177813 && cond_f_res_177822;
                bool cond_177824 = cond_177812 || y_177823;
                int32_t defunc_0_get_bit_res_177825;
                
                if (cond_177824) {
                    int32_t defunc_0_get_bit_res_t_res_178032 = 1 ^ to_i32_res_177821;
                    
                    defunc_0_get_bit_res_177825 = defunc_0_get_bit_res_t_res_178032;
                } else {
                    defunc_0_get_bit_res_177825 = to_i32_res_177821;
                }
                
                int32_t zp_rhs_177827 = shl32(defunc_0_get_bit_res_177825, i_177815);
                int32_t loopres_177828 = add32(acc_177816, zp_rhs_177827);
                int32_t acc_tmp_181738 = loopres_177828;
                
                acc_177816 = acc_tmp_181738;
            }
            zlzb_rhs_177814 = acc_177816;
            
            int64_t i32_res_177829 = sext_i32_i64(zlzb_rhs_177814);
            int64_t block_idx_177830 = sdiv64(write_iter_180045, i16_res_171016);
            bool x_177831 = sle64((int64_t) 0, block_idx_177830);
            bool y_177832 = slt64(block_idx_177830, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030);
            bool bounds_check_177833 = x_177831 && y_177832;
            bool index_certs_177834;
            
            if (!bounds_check_177833) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177830, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177835 = sle64((int64_t) 0, i32_res_177829);
            bool y_177836 = slt64(i32_res_177829, (int64_t) 4);
            bool bounds_check_177837 = x_177835 && y_177836;
            bool index_certs_177838;
            
            if (!bounds_check_177837) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177829, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double index_concat_branch_180150;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180147 = sub64(write_iter_180045, arg_171022);
                double index_concat_180148 = ((double *) mem_180335)[index_concat_i_180147];
                
                index_concat_branch_180150 = index_concat_180148;
            } else {
                int64_t new_index_180172 = squot64(write_iter_180045, i16_res_171016);
                int64_t binop_y_180174 = i16_res_171016 * new_index_180172;
                int64_t new_index_180175 = write_iter_180045 - binop_y_180174;
                double index_concat_180149 = ((double *) mem_180359)[new_index_180172 * i16_res_171016 + new_index_180175];
                
                index_concat_branch_180150 = index_concat_180149;
            }
            
            int64_t index_concat_branch_180144;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180141 = sub64(write_iter_180045, arg_171022);
                int64_t index_concat_180142 = ((int64_t *) mem_180333)[index_concat_i_180141];
                
                index_concat_branch_180144 = index_concat_180142;
            } else {
                int64_t new_index_180168 = squot64(write_iter_180045, i16_res_171016);
                int64_t binop_y_180170 = i16_res_171016 * new_index_180168;
                int64_t new_index_180171 = write_iter_180045 - binop_y_180170;
                int64_t index_concat_180143 = ((int64_t *) mem_180362)[new_index_180168 * i16_res_171016 + new_index_180171];
                
                index_concat_branch_180144 = index_concat_180143;
            }
            
            int64_t binop_x_177839 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030 * i32_res_177829;
            int64_t new_index_177840 = block_idx_177830 + binop_x_177839;
            int64_t new_offset_177841 = ((int64_t *) mem_180475)[new_index_177840];
            bool index_concat_cmp_177842 = sle64(n_blocks_171020, block_idx_177830);
            int16_t index_concat_branch_177843;
            
            if (index_concat_cmp_177842) {
                int16_t index_concat_178033 = ((int16_t *) mem_180356)[i32_res_177829];
                
                index_concat_branch_177843 = index_concat_178033;
            } else {
                int16_t index_concat_177845 = ((int16_t *) mem_180368)[block_idx_177830 * (int64_t) 4 + i32_res_177829];
                
                index_concat_branch_177843 = index_concat_177845;
            }
            
            int64_t i16_res_177846 = sext_i16_i64(index_concat_branch_177843);
            int64_t zp_lhs_177847 = mul64(i16_res_171016, block_idx_177830);
            int64_t old_offset_177848 = add64(i16_res_177846, zp_lhs_177847);
            int64_t zp_lhs_177849 = sub64(write_iter_180045, old_offset_177848);
            int64_t idx_177850 = add64(new_offset_177841, zp_lhs_177849);
            
            if (sle64((int64_t) 0, idx_177850) && slt64(idx_177850, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023)) {
                ((double *) mem_180283)[idx_177850] = index_concat_branch_180150;
            }
            if (sle64((int64_t) 0, idx_177850) && slt64(idx_177850, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023)) {
                ((int64_t *) mem_180285)[idx_177850] = index_concat_branch_180144;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180501, bytes_180500, "mem_180501")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180503, bytes_180500, "mem_180503")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180057 = 0; i_180057 < n_95906; i_180057++) {
        int64_t eta_p_171356 = ((int64_t *) mem_180285)[i_180057];
        bool x_171357 = sle64((int64_t) 0, eta_p_171356);
        bool y_171358 = slt64(eta_p_171356, n_95906);
        bool bounds_check_171359 = x_171357 && y_171358;
        bool index_certs_171360;
        
        if (!bounds_check_171359) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171356, "] out of bounds for array of shape [", (long long) n_95906, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:215:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171361 = ((int64_t *) ext_mem_180281.mem)[eta_p_171356];
        double lifted_lambda_res_171362 = ((double *) xs_mem_180280.mem)[eta_p_171356];
        
        ((int64_t *) mem_180501.mem)[i_180057] = lifted_lambda_res_171361;
        ((double *) mem_180503.mem)[i_180057] = lifted_lambda_res_171362;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180501, "mem_180501") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180503, "mem_180503") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182303, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182304, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        free(mem_180285);
        free(mem_180293);
        free(mem_180295);
        free(mem_180297);
        free(mem_180299);
        free(mem_180301);
        free(mem_180333);
        free(mem_180335);
        free(mem_180348);
        free(mem_180349);
        free(mem_180356);
        free(mem_180359);
        free(mem_180362);
        free(mem_180365);
        free(mem_180368);
        free(mem_180390);
        free(mem_180392);
        free(mem_180394);
        free(mem_180396);
        free(mem_180398);
        free(mem_180441);
        free(mem_180442);
        free(mem_180467);
        free(mem_180475);
        if (memblock_unref(ctx, &mem_180503, "mem_180503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180501, "mem_180501") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182330, struct memblock *mem_out_p_182331, struct memblock xs_mem_180280, int64_t n_93151, int64_t incr_93152, int16_t block_sizze_93153)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182332 = 0;
    unsigned char *mem_180283 = NULL;
    int64_t mem_180285_cached_sizze_182333 = 0;
    unsigned char *mem_180285 = NULL;
    int64_t mem_180293_cached_sizze_182334 = 0;
    unsigned char *mem_180293 = NULL;
    int64_t mem_180295_cached_sizze_182335 = 0;
    unsigned char *mem_180295 = NULL;
    int64_t mem_180297_cached_sizze_182336 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182337 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_182338 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180333_cached_sizze_182339 = 0;
    unsigned char *mem_180333 = NULL;
    int64_t mem_180335_cached_sizze_182340 = 0;
    unsigned char *mem_180335 = NULL;
    int64_t mem_180348_cached_sizze_182341 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180349_cached_sizze_182342 = 0;
    unsigned char *mem_180349 = NULL;
    int64_t mem_180356_cached_sizze_182343 = 0;
    unsigned char *mem_180356 = NULL;
    int64_t mem_180359_cached_sizze_182344 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180362_cached_sizze_182345 = 0;
    unsigned char *mem_180362 = NULL;
    int64_t mem_180365_cached_sizze_182346 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180368_cached_sizze_182347 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180390_cached_sizze_182348 = 0;
    unsigned char *mem_180390 = NULL;
    int64_t mem_180392_cached_sizze_182349 = 0;
    unsigned char *mem_180392 = NULL;
    int64_t mem_180394_cached_sizze_182350 = 0;
    unsigned char *mem_180394 = NULL;
    int64_t mem_180396_cached_sizze_182351 = 0;
    unsigned char *mem_180396 = NULL;
    int64_t mem_180398_cached_sizze_182352 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180441_cached_sizze_182353 = 0;
    unsigned char *mem_180441 = NULL;
    int64_t mem_180442_cached_sizze_182354 = 0;
    unsigned char *mem_180442 = NULL;
    int64_t mem_180467_cached_sizze_182355 = 0;
    unsigned char *mem_180467 = NULL;
    int64_t mem_180475_cached_sizze_182356 = 0;
    unsigned char *mem_180475 = NULL;
    struct memblock mem_180503;
    
    mem_180503.references = NULL;
    
    struct memblock mem_180501;
    
    mem_180501.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    bool cond_171014 = n_93151 == (int64_t) 0;
    int32_t iters_171015;
    
    if (cond_171014) {
        iters_171015 = 0;
    } else {
        iters_171015 = 16;
    }
    
    int64_t i16_res_171016 = sext_i16_i64(block_sizze_93153);
    bool zzero_171017 = i16_res_171016 == (int64_t) 0;
    bool nonzzero_171018 = !zzero_171017;
    bool nonzzero_cert_171019;
    
    if (!nonzzero_171018) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:215:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171020 = sdiv64(n_93151, i16_res_171016);
    int64_t rest_171021 = smod64(n_93151, i16_res_171016);
    int64_t arg_171022 = mul64(i16_res_171016, n_blocks_171020);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023 = add64(rest_171021, arg_171022);
    bool dim_match_171024 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023 == n_93151;
    bool empty_or_match_cert_171025;
    
    if (!dim_match_171024) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_93151, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:215:95-98\n   #6  ftsort.fut:25:3-46\n   #7  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180282 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023;
    int64_t bytes_180284 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023;
    bool loop_nonempty_171029 = slt32(0, iters_171015);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030 = add64((int64_t) 1, n_blocks_171020);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030);
    bool empty_slice_171032 = arg_171022 == (int64_t) 0;
    int64_t m_171033 = sub64(arg_171022, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171034 = sle64((int64_t) 0, m_171033);
    bool i_p_m_t_s_leq_w_171035 = slt64(m_171033, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023);
    bool i_lte_j_171036 = sle64((int64_t) 0, arg_171022);
    bool y_171037 = zzero_leq_i_p_m_t_s_171034 && i_p_m_t_s_leq_w_171035;
    bool forwards_ok_171038 = i_lte_j_171036 && y_171037;
    bool ok_or_empty_171039 = empty_slice_171032 || forwards_ok_171038;
    bool loop_not_taken_171040 = !loop_nonempty_171029;
    bool protect_assert_disj_171041 = ok_or_empty_171039 || loop_not_taken_171040;
    bool index_certs_171042;
    
    if (!protect_assert_disj_171041) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171022, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171043 = rest_171021 == (int64_t) 0;
    int64_t m_171044 = sub64(rest_171021, (int64_t) 1);
    int64_t i_p_m_t_s_171045 = add64(arg_171022, m_171044);
    bool zzero_leq_i_p_m_t_s_171046 = sle64((int64_t) 0, i_p_m_t_s_171045);
    bool i_p_m_t_s_leq_w_171047 = slt64(i_p_m_t_s_171045, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023);
    bool i_lte_j_171048 = sle64(arg_171022, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023);
    bool y_171049 = zzero_leq_i_p_m_t_s_171046 && i_p_m_t_s_leq_w_171047;
    bool forwards_ok_171050 = i_lte_j_171048 && y_171049;
    bool ok_or_empty_171051 = empty_slice_171043 || forwards_ok_171050;
    bool protect_assert_disj_171052 = loop_not_taken_171040 || ok_or_empty_171051;
    bool index_certs_171053;
    
    if (!protect_assert_disj_171052) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171022, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171054 = sle64((int64_t) 0, n_blocks_171020);
    bool binop_y_171055 = sle64((int64_t) 0, i16_res_171016);
    bool binop_y_171056 = binop_x_171054 && binop_y_171055;
    bool protect_assert_disj_171057 = loop_not_taken_171040 || binop_y_171056;
    bool dim_ok_cert_171058;
    
    if (!protect_assert_disj_171057) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171022, "] to array of shape [", (long long) n_blocks_171020, "][", (long long) i16_res_171016, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171059 = sub64(i16_res_171016, (int64_t) 1);
    bool x_171060 = sle64((int64_t) 0, tmp_171059);
    bool y_171061 = slt64(tmp_171059, i16_res_171016);
    bool bounds_check_171062 = x_171060 && y_171061;
    bool protect_assert_disj_171063 = zzero_171017 || bounds_check_171062;
    bool protect_assert_disj_171064 = loop_not_taken_171040 || protect_assert_disj_171063;
    bool index_certs_171065;
    
    if (!protect_assert_disj_171064) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171059, "] out of bounds for array of shape [", (long long) i16_res_171016, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171067 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031);
    bool protect_assert_disj_171068 = loop_not_taken_171040 || y_171067;
    bool index_certs_171069;
    
    if (!protect_assert_disj_171068) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171071 = nonzzero_171018 || loop_not_taken_171040;
    bool nonzzero_cert_171072;
    
    if (!protect_assert_disj_171071) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171073 = sle64((int64_t) 0, m_171044);
    bool y_171074 = slt64(m_171044, rest_171021);
    bool bounds_check_171075 = x_171073 && y_171074;
    bool protect_assert_disj_171076 = empty_slice_171043 || bounds_check_171075;
    bool protect_assert_disj_171077 = loop_not_taken_171040 || protect_assert_disj_171076;
    bool index_certs_171078;
    
    if (!protect_assert_disj_171077) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171044, "] out of bounds for array of shape [", (long long) rest_171021, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:215:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180292 = (int64_t) 2 * rest_171021;
    int64_t bytes_180332 = (int64_t) 8 * rest_171021;
    int64_t bytes_180334 = (int64_t) 4 * rest_171021;
    int64_t binop_x_180357 = (int64_t) 4 * n_blocks_171020;
    int64_t bytes_180358 = i16_res_171016 * binop_x_180357;
    int64_t binop_x_180360 = (int64_t) 8 * n_blocks_171020;
    int64_t bytes_180361 = i16_res_171016 * binop_x_180360;
    int64_t bytes_180364 = (int64_t) 32 * n_blocks_171020;
    int64_t bytes_180389 = (int64_t) 2 * i16_res_171016;
    int64_t bytes_180466 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030;
    bool dim_match_171340 = n_93151 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023;
    bool empty_or_match_cert_171341;
    
    if (!dim_match_171340) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023, "] cannot match shape of type `[", (long long) n_93151, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180500 = (int64_t) 8 * n_93151;
    int64_t bytes_180502 = (int64_t) 4 * n_93151;
    
    if (futrts_indicesWithIncrement_9466(ctx, &ext_mem_180281, xs_mem_180280, n_93151, incr_93152) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180283_cached_sizze_182332 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182332, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180283, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_180280.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023});
    if (mem_180285_cached_sizze_182333 < bytes_180284) {
        err = lexical_realloc(ctx, &mem_180285, &mem_180285_cached_sizze_182333, bytes_180284);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181701 = 0; i_181701 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023; i_181701++) {
        int64_t x_181702 = (int64_t) 0 + i_181701 * (int64_t) 1;
        
        ((int64_t *) mem_180285)[i_181701] = x_181702;
    }
    if (mem_180293_cached_sizze_182334 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180293, &mem_180293_cached_sizze_182334, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180295_cached_sizze_182335 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180295, &mem_180295_cached_sizze_182335, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180297_cached_sizze_182336 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182336, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180299_cached_sizze_182337 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182337, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180301_cached_sizze_182338 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_182338, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180333_cached_sizze_182339 < bytes_180332) {
        err = lexical_realloc(ctx, &mem_180333, &mem_180333_cached_sizze_182339, bytes_180332);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180335_cached_sizze_182340 < bytes_180334) {
        err = lexical_realloc(ctx, &mem_180335, &mem_180335_cached_sizze_182340, bytes_180334);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180348_cached_sizze_182341 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_182341, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180349_cached_sizze_182342 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180349, &mem_180349_cached_sizze_182342, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180356_cached_sizze_182343 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180356, &mem_180356_cached_sizze_182343, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180359_cached_sizze_182344 < bytes_180358) {
        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182344, bytes_180358);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180362_cached_sizze_182345 < bytes_180361) {
        err = lexical_realloc(ctx, &mem_180362, &mem_180362_cached_sizze_182345, bytes_180361);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180365_cached_sizze_182346 < bytes_180364) {
        err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_182346, bytes_180364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180368_cached_sizze_182347 < binop_x_180360) {
        err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_182347, binop_x_180360);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180390_cached_sizze_182348 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180390, &mem_180390_cached_sizze_182348, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180392_cached_sizze_182349 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180392, &mem_180392_cached_sizze_182349, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180394_cached_sizze_182350 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180394, &mem_180394_cached_sizze_182350, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180396_cached_sizze_182351 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180396, &mem_180396_cached_sizze_182351, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180398_cached_sizze_182352 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_182352, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180441_cached_sizze_182353 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180441, &mem_180441_cached_sizze_182353, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180442_cached_sizze_182354 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180442, &mem_180442_cached_sizze_182354, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180467_cached_sizze_182355 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180467, &mem_180467_cached_sizze_182355, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180475_cached_sizze_182356 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180475, &mem_180475_cached_sizze_182356, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171081 = 0; i_171081 < iters_171015; i_171081++) {
        int32_t blocked_radix_sort_step_arg1_171084 = mul32(2, i_171081);
        int32_t get_bit_arg0_171089 = add32(1, blocked_radix_sort_step_arg1_171084);
        bool cond_f_res_171090 = get_bit_arg0_171089 == 31;
        bool cond_f_res_171091 = blocked_radix_sort_step_arg1_171084 == 31;
        int16_t discard_179960;
        int16_t discard_179961;
        int16_t discard_179962;
        int16_t discard_179963;
        int16_t scanacc_179945;
        int16_t scanacc_179946;
        int16_t scanacc_179947;
        int16_t scanacc_179948;
        
        scanacc_179945 = (int16_t) 0;
        scanacc_179946 = (int16_t) 0;
        scanacc_179947 = (int16_t) 0;
        scanacc_179948 = (int16_t) 0;
        for (int64_t i_179954 = 0; i_179954 < rest_171021; i_179954++) {
            int64_t slice_180167 = arg_171022 + i_179954;
            float eta_p_177873 = ((float *) mem_180283)[slice_180167];
            int32_t i32_arg0_177874 = futrts_to_bits32(eta_p_177873);
            int32_t unsign_arg0_177875 = ashr32(i32_arg0_177874, get_bit_arg0_171089);
            int32_t unsign_arg0_177876 = 1 & unsign_arg0_177875;
            int32_t unsign_arg0_177877 = ashr32(i32_arg0_177874, 31);
            int32_t unsign_arg0_177878 = 1 & unsign_arg0_177877;
            bool cond_177879 = unsign_arg0_177878 == 1;
            bool x_177880 = !cond_177879;
            bool y_177881 = cond_f_res_171090 && x_177880;
            bool cond_177882 = cond_177879 || y_177881;
            int32_t defunc_0_get_bit_res_177883;
            
            if (cond_177882) {
                int32_t defunc_0_get_bit_res_t_res_178009 = 1 ^ unsign_arg0_177876;
                
                defunc_0_get_bit_res_177883 = defunc_0_get_bit_res_t_res_178009;
            } else {
                defunc_0_get_bit_res_177883 = unsign_arg0_177876;
            }
            
            int32_t zp_lhs_177885 = mul32(2, defunc_0_get_bit_res_177883);
            int32_t unsign_arg0_177886 = ashr32(i32_arg0_177874, blocked_radix_sort_step_arg1_171084);
            int32_t unsign_arg0_177887 = 1 & unsign_arg0_177886;
            bool y_177888 = cond_f_res_171091 && x_177880;
            bool cond_177889 = cond_177879 || y_177888;
            int32_t defunc_0_get_bit_res_177890;
            
            if (cond_177889) {
                int32_t defunc_0_get_bit_res_t_res_178010 = 1 ^ unsign_arg0_177887;
                
                defunc_0_get_bit_res_177890 = defunc_0_get_bit_res_t_res_178010;
            } else {
                defunc_0_get_bit_res_177890 = unsign_arg0_177887;
            }
            
            int32_t i32_arg0_177892 = add32(zp_lhs_177885, defunc_0_get_bit_res_177890);
            int16_t i32_res_177893 = sext_i32_i16(i32_arg0_177892);
            int16_t defunc_0_f_res_177895;
            int16_t defunc_0_f_res_177896;
            int16_t defunc_0_f_res_177897;
            int16_t defunc_0_f_res_177898;
            
            if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177895, &defunc_0_f_res_177896, &defunc_0_f_res_177897, &defunc_0_f_res_177898, i32_res_177893) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171139 = add16(defunc_0_f_res_177895, scanacc_179945);
            int16_t defunc_0_op_res_171140 = add16(defunc_0_f_res_177896, scanacc_179946);
            int16_t defunc_0_op_res_171141 = add16(defunc_0_f_res_177897, scanacc_179947);
            int16_t defunc_0_op_res_171142 = add16(defunc_0_f_res_177898, scanacc_179948);
            
            ((int16_t *) mem_180293)[i_179954] = defunc_0_op_res_171139;
            ((int16_t *) mem_180295)[i_179954] = defunc_0_op_res_171140;
            ((int16_t *) mem_180297)[i_179954] = defunc_0_op_res_171141;
            ((int16_t *) mem_180299)[i_179954] = defunc_0_op_res_171142;
            ((int16_t *) mem_180301)[i_179954] = i32_res_177893;
            
            int16_t scanacc_tmp_181705 = defunc_0_op_res_171139;
            int16_t scanacc_tmp_181706 = defunc_0_op_res_171140;
            int16_t scanacc_tmp_181707 = defunc_0_op_res_171141;
            int16_t scanacc_tmp_181708 = defunc_0_op_res_171142;
            
            scanacc_179945 = scanacc_tmp_181705;
            scanacc_179946 = scanacc_tmp_181706;
            scanacc_179947 = scanacc_tmp_181707;
            scanacc_179948 = scanacc_tmp_181708;
        }
        discard_179960 = scanacc_179945;
        discard_179961 = scanacc_179946;
        discard_179962 = scanacc_179947;
        discard_179963 = scanacc_179948;
        
        int16_t defunc_0_radix_sort_step_i16_res_171143;
        int16_t defunc_0_radix_sort_step_i16_res_171144;
        int16_t defunc_0_radix_sort_step_i16_res_171145;
        int16_t defunc_0_radix_sort_step_i16_res_171146;
        
        if (empty_slice_171043) {
            defunc_0_radix_sort_step_i16_res_171143 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171144 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171145 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171146 = (int16_t) 0;
        } else {
            int16_t last_res_171147 = ((int16_t *) mem_180293)[m_171044];
            int16_t last_res_171148 = ((int16_t *) mem_180295)[m_171044];
            int16_t last_res_171149 = ((int16_t *) mem_180297)[m_171044];
            int16_t last_res_171150 = ((int16_t *) mem_180299)[m_171044];
            
            defunc_0_radix_sort_step_i16_res_171143 = last_res_171147;
            defunc_0_radix_sort_step_i16_res_171144 = last_res_171148;
            defunc_0_radix_sort_step_i16_res_171145 = last_res_171149;
            defunc_0_radix_sort_step_i16_res_171146 = last_res_171150;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180333, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + (int64_t) 1 * arg_171022, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171021});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180335, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180283, (int64_t) 0 + (int64_t) 1 * arg_171022, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171021});
        for (int64_t write_iter_179964 = 0; write_iter_179964 < rest_171021; write_iter_179964++) {
            int16_t write_iv_179967 = ((int16_t *) mem_180301)[write_iter_179964];
            int16_t write_iv_179968 = ((int16_t *) mem_180293)[write_iter_179964];
            int16_t write_iv_179969 = ((int16_t *) mem_180295)[write_iter_179964];
            int16_t write_iv_179970 = ((int16_t *) mem_180297)[write_iter_179964];
            int16_t write_iv_179971 = ((int16_t *) mem_180299)[write_iter_179964];
            int64_t slice_180166 = arg_171022 + write_iter_179964;
            float write_iv_179972 = ((float *) mem_180283)[slice_180166];
            int64_t write_iv_179973 = ((int64_t *) mem_180285)[slice_180166];
            int64_t defunc_0_f_res_177857;
            
            if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177857, defunc_0_radix_sort_step_i16_res_171143, defunc_0_radix_sort_step_i16_res_171144, defunc_0_radix_sort_step_i16_res_171145, write_iv_179967, write_iv_179968, write_iv_179969, write_iv_179970, write_iv_179971) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177857) && slt64(defunc_0_f_res_177857, rest_171021)) {
                ((float *) mem_180335)[defunc_0_f_res_177857] = write_iv_179972;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177857) && slt64(defunc_0_f_res_177857, rest_171021)) {
                ((int64_t *) mem_180333)[defunc_0_f_res_177857] = write_iv_179973;
            }
        }
        ((int16_t *) mem_180348)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171143;
        ((int16_t *) mem_180348)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171144;
        ((int16_t *) mem_180348)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171145;
        ((int16_t *) mem_180348)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171146;
        for (int64_t i_179978 = 0; i_179978 < (int64_t) 4; i_179978++) {
            int16_t eta_p_171167 = ((int16_t *) mem_180348)[i_179978];
            int64_t i16_res_171168 = sext_i16_i64(eta_p_171167);
            
            ((int64_t *) mem_180349)[i_179978] = i16_res_171168;
        }
        
        int16_t tmp_171169 = add16(defunc_0_radix_sort_step_i16_res_171143, defunc_0_radix_sort_step_i16_res_171144);
        int16_t tmp_171170 = add16(defunc_0_radix_sort_step_i16_res_171145, tmp_171169);
        
        ((int16_t *) mem_180356)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180356)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171143;
        ((int16_t *) mem_180356)[(int64_t) 2] = tmp_171169;
        ((int16_t *) mem_180356)[(int64_t) 3] = tmp_171170;
        for (int64_t i_180028 = 0; i_180028 < n_blocks_171020; i_180028++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180359, i_180028 * i16_res_171016, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180283, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_171016), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171016});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180362, i_180028 * i16_res_171016, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_171016), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171016});
            
            int64_t binop_x_180180 = i16_res_171016 * i_180028;
            int16_t discard_180000;
            int16_t discard_180001;
            int16_t discard_180002;
            int16_t discard_180003;
            int16_t scanacc_179985;
            int16_t scanacc_179986;
            int16_t scanacc_179987;
            int16_t scanacc_179988;
            
            scanacc_179985 = (int16_t) 0;
            scanacc_179986 = (int16_t) 0;
            scanacc_179987 = (int16_t) 0;
            scanacc_179988 = (int16_t) 0;
            for (int64_t i_179994 = 0; i_179994 < i16_res_171016; i_179994++) {
                int64_t new_index_180181 = i_179994 + binop_x_180180;
                float eta_p_177929 = ((float *) mem_180283)[new_index_180181];
                int32_t i32_arg0_177930 = futrts_to_bits32(eta_p_177929);
                int32_t unsign_arg0_177931 = ashr32(i32_arg0_177930, get_bit_arg0_171089);
                int32_t unsign_arg0_177932 = 1 & unsign_arg0_177931;
                int32_t unsign_arg0_177933 = ashr32(i32_arg0_177930, 31);
                int32_t unsign_arg0_177934 = 1 & unsign_arg0_177933;
                bool cond_177935 = unsign_arg0_177934 == 1;
                bool x_177936 = !cond_177935;
                bool y_177937 = cond_f_res_171090 && x_177936;
                bool cond_177938 = cond_177935 || y_177937;
                int32_t defunc_0_get_bit_res_177939;
                
                if (cond_177938) {
                    int32_t defunc_0_get_bit_res_t_res_178011 = 1 ^ unsign_arg0_177932;
                    
                    defunc_0_get_bit_res_177939 = defunc_0_get_bit_res_t_res_178011;
                } else {
                    defunc_0_get_bit_res_177939 = unsign_arg0_177932;
                }
                
                int32_t zp_lhs_177941 = mul32(2, defunc_0_get_bit_res_177939);
                int32_t unsign_arg0_177942 = ashr32(i32_arg0_177930, blocked_radix_sort_step_arg1_171084);
                int32_t unsign_arg0_177943 = 1 & unsign_arg0_177942;
                bool y_177944 = cond_f_res_171091 && x_177936;
                bool cond_177945 = cond_177935 || y_177944;
                int32_t defunc_0_get_bit_res_177946;
                
                if (cond_177945) {
                    int32_t defunc_0_get_bit_res_t_res_178012 = 1 ^ unsign_arg0_177943;
                    
                    defunc_0_get_bit_res_177946 = defunc_0_get_bit_res_t_res_178012;
                } else {
                    defunc_0_get_bit_res_177946 = unsign_arg0_177943;
                }
                
                int32_t i32_arg0_177948 = add32(zp_lhs_177941, defunc_0_get_bit_res_177946);
                int16_t i32_res_177949 = sext_i32_i16(i32_arg0_177948);
                int16_t defunc_0_f_res_177951;
                int16_t defunc_0_f_res_177952;
                int16_t defunc_0_f_res_177953;
                int16_t defunc_0_f_res_177954;
                
                if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177951, &defunc_0_f_res_177952, &defunc_0_f_res_177953, &defunc_0_f_res_177954, i32_res_177949) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_171231 = add16(defunc_0_f_res_177951, scanacc_179985);
                int16_t defunc_0_op_res_171232 = add16(defunc_0_f_res_177952, scanacc_179986);
                int16_t defunc_0_op_res_171233 = add16(defunc_0_f_res_177953, scanacc_179987);
                int16_t defunc_0_op_res_171234 = add16(defunc_0_f_res_177954, scanacc_179988);
                
                ((int16_t *) mem_180390)[i_179994] = defunc_0_op_res_171231;
                ((int16_t *) mem_180392)[i_179994] = defunc_0_op_res_171232;
                ((int16_t *) mem_180394)[i_179994] = defunc_0_op_res_171233;
                ((int16_t *) mem_180396)[i_179994] = defunc_0_op_res_171234;
                ((int16_t *) mem_180398)[i_179994] = i32_res_177949;
                
                int16_t scanacc_tmp_181721 = defunc_0_op_res_171231;
                int16_t scanacc_tmp_181722 = defunc_0_op_res_171232;
                int16_t scanacc_tmp_181723 = defunc_0_op_res_171233;
                int16_t scanacc_tmp_181724 = defunc_0_op_res_171234;
                
                scanacc_179985 = scanacc_tmp_181721;
                scanacc_179986 = scanacc_tmp_181722;
                scanacc_179987 = scanacc_tmp_181723;
                scanacc_179988 = scanacc_tmp_181724;
            }
            discard_180000 = scanacc_179985;
            discard_180001 = scanacc_179986;
            discard_180002 = scanacc_179987;
            discard_180003 = scanacc_179988;
            
            int16_t defunc_0_f_res_171235;
            int16_t defunc_0_f_res_171236;
            int16_t defunc_0_f_res_171237;
            int16_t defunc_0_f_res_171238;
            
            if (zzero_171017) {
                defunc_0_f_res_171235 = (int16_t) 0;
                defunc_0_f_res_171236 = (int16_t) 0;
                defunc_0_f_res_171237 = (int16_t) 0;
                defunc_0_f_res_171238 = (int16_t) 0;
            } else {
                int16_t last_res_171239 = ((int16_t *) mem_180390)[tmp_171059];
                int16_t last_res_171240 = ((int16_t *) mem_180392)[tmp_171059];
                int16_t last_res_171241 = ((int16_t *) mem_180394)[tmp_171059];
                int16_t last_res_171242 = ((int16_t *) mem_180396)[tmp_171059];
                
                defunc_0_f_res_171235 = last_res_171239;
                defunc_0_f_res_171236 = last_res_171240;
                defunc_0_f_res_171237 = last_res_171241;
                defunc_0_f_res_171238 = last_res_171242;
            }
            for (int64_t write_iter_180004 = 0; write_iter_180004 < i16_res_171016; write_iter_180004++) {
                int16_t write_iv_180007 = ((int16_t *) mem_180398)[write_iter_180004];
                int16_t write_iv_180008 = ((int16_t *) mem_180390)[write_iter_180004];
                int16_t write_iv_180009 = ((int16_t *) mem_180392)[write_iter_180004];
                int16_t write_iv_180010 = ((int16_t *) mem_180394)[write_iter_180004];
                int16_t write_iv_180011 = ((int16_t *) mem_180396)[write_iter_180004];
                int64_t new_index_180177 = write_iter_180004 + binop_x_180180;
                float write_iv_180012 = ((float *) mem_180283)[new_index_180177];
                int64_t write_iv_180013 = ((int64_t *) mem_180285)[new_index_180177];
                int64_t defunc_0_f_res_177913;
                
                if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177913, defunc_0_f_res_171235, defunc_0_f_res_171236, defunc_0_f_res_171237, write_iv_180007, write_iv_180008, write_iv_180009, write_iv_180010, write_iv_180011) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177913) && slt64(defunc_0_f_res_177913, i16_res_171016)) {
                    ((float *) mem_180359)[i_180028 * i16_res_171016 + defunc_0_f_res_177913] = write_iv_180012;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177913) && slt64(defunc_0_f_res_177913, i16_res_171016)) {
                    ((int64_t *) mem_180362)[i_180028 * i16_res_171016 + defunc_0_f_res_177913] = write_iv_180013;
                }
            }
            ((int16_t *) mem_180441)[(int64_t) 0] = defunc_0_f_res_171235;
            ((int16_t *) mem_180441)[(int64_t) 1] = defunc_0_f_res_171236;
            ((int16_t *) mem_180441)[(int64_t) 2] = defunc_0_f_res_171237;
            ((int16_t *) mem_180441)[(int64_t) 3] = defunc_0_f_res_171238;
            for (int64_t i_180018 = 0; i_180018 < (int64_t) 4; i_180018++) {
                int16_t eta_p_171257 = ((int16_t *) mem_180441)[i_180018];
                int64_t i16_res_171258 = sext_i16_i64(eta_p_171257);
                
                ((int64_t *) mem_180442)[i_180018] = i16_res_171258;
            }
            
            int16_t tmp_171259 = add16(defunc_0_f_res_171235, defunc_0_f_res_171236);
            int16_t tmp_171260 = add16(defunc_0_f_res_171237, tmp_171259);
            
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_171235;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 2] = tmp_171259;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 3] = tmp_171260;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180365, i_180028 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180442, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180040;
        int64_t scanacc_180036 = (int64_t) 0;
        
        for (int64_t i_180038 = 0; i_180038 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031; i_180038++) {
            int64_t new_index_180155 = squot64(i_180038, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030);
            int64_t binop_y_180157 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030 * new_index_180155;
            int64_t new_index_180158 = i_180038 - binop_y_180157;
            bool index_concat_cmp_180160 = sle64(n_blocks_171020, new_index_180158);
            int64_t index_concat_branch_180164;
            
            if (index_concat_cmp_180160) {
                int64_t index_concat_180162 = ((int64_t *) mem_180349)[new_index_180155];
                
                index_concat_branch_180164 = index_concat_180162;
            } else {
                int64_t index_concat_180163 = ((int64_t *) mem_180365)[new_index_180158 * (int64_t) 4 + new_index_180155];
                
                index_concat_branch_180164 = index_concat_180163;
            }
            
            int64_t defunc_0_op_res_171274 = add64(scanacc_180036, index_concat_branch_180164);
            
            ((int64_t *) mem_180467)[i_180038] = defunc_0_op_res_171274;
            
            int64_t scanacc_tmp_181733 = defunc_0_op_res_171274;
            
            scanacc_180036 = scanacc_tmp_181733;
        }
        discard_180040 = scanacc_180036;
        for (int64_t i_180043 = 0; i_180043 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031; i_180043++) {
            int64_t zv_lhs_171277 = add64((int64_t) -1, i_180043);
            int64_t tmp_171278 = smod64(zv_lhs_171277, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171031);
            int64_t lifted_lambda_res_171279 = ((int64_t *) mem_180467)[tmp_171278];
            
            ((int64_t *) mem_180475)[i_180043] = lifted_lambda_res_171279;
        }
        ((int64_t *) mem_180475)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180045 = 0; write_iter_180045 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023; write_iter_180045++) {
            bool index_concat_cmp_180146 = sle64(arg_171022, write_iter_180045);
            float index_concat_branch_177801;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_178021 = sub64(write_iter_180045, arg_171022);
                float index_concat_178022 = ((float *) mem_180335)[index_concat_i_178021];
                
                index_concat_branch_177801 = index_concat_178022;
            } else {
                int64_t new_index_177804 = squot64(write_iter_180045, i16_res_171016);
                int64_t binop_y_177805 = i16_res_171016 * new_index_177804;
                int64_t new_index_177806 = write_iter_180045 - binop_y_177805;
                float index_concat_177807 = ((float *) mem_180359)[new_index_177804 * i16_res_171016 + new_index_177806];
                
                index_concat_branch_177801 = index_concat_177807;
            }
            
            int32_t i32_arg0_177808 = futrts_to_bits32(index_concat_branch_177801);
            int32_t unsign_arg0_177809 = ashr32(i32_arg0_177808, 31);
            int32_t unsign_arg0_177810 = 1 & unsign_arg0_177809;
            bool cond_177811 = unsign_arg0_177810 == 1;
            bool x_177812 = !cond_177811;
            int32_t zlzb_rhs_177813;
            int32_t acc_177815 = 0;
            
            for (int32_t i_177814 = 0; i_177814 < 2; i_177814++) {
                int32_t get_bit_arg0_177816 = add32(blocked_radix_sort_step_arg1_171084, i_177814);
                int32_t unsign_arg0_177817 = ashr32(i32_arg0_177808, get_bit_arg0_177816);
                int32_t unsign_arg0_177818 = 1 & unsign_arg0_177817;
                bool cond_f_res_177819 = get_bit_arg0_177816 == 31;
                bool y_177820 = x_177812 && cond_f_res_177819;
                bool cond_177821 = cond_177811 || y_177820;
                int32_t defunc_0_get_bit_res_177822;
                
                if (cond_177821) {
                    int32_t defunc_0_get_bit_res_t_res_178023 = 1 ^ unsign_arg0_177818;
                    
                    defunc_0_get_bit_res_177822 = defunc_0_get_bit_res_t_res_178023;
                } else {
                    defunc_0_get_bit_res_177822 = unsign_arg0_177818;
                }
                
                int32_t zp_rhs_177824 = shl32(defunc_0_get_bit_res_177822, i_177814);
                int32_t loopres_177825 = add32(acc_177815, zp_rhs_177824);
                int32_t acc_tmp_181738 = loopres_177825;
                
                acc_177815 = acc_tmp_181738;
            }
            zlzb_rhs_177813 = acc_177815;
            
            int64_t i32_res_177826 = sext_i32_i64(zlzb_rhs_177813);
            int64_t block_idx_177827 = sdiv64(write_iter_180045, i16_res_171016);
            bool x_177828 = sle64((int64_t) 0, block_idx_177827);
            bool y_177829 = slt64(block_idx_177827, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030);
            bool bounds_check_177830 = x_177828 && y_177829;
            bool index_certs_177831;
            
            if (!bounds_check_177830) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177827, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177832 = sle64((int64_t) 0, i32_res_177826);
            bool y_177833 = slt64(i32_res_177826, (int64_t) 4);
            bool bounds_check_177834 = x_177832 && y_177833;
            bool index_certs_177835;
            
            if (!bounds_check_177834) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177826, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:215:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            float index_concat_branch_180150;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180147 = sub64(write_iter_180045, arg_171022);
                float index_concat_180148 = ((float *) mem_180335)[index_concat_i_180147];
                
                index_concat_branch_180150 = index_concat_180148;
            } else {
                int64_t new_index_180172 = squot64(write_iter_180045, i16_res_171016);
                int64_t binop_y_180174 = i16_res_171016 * new_index_180172;
                int64_t new_index_180175 = write_iter_180045 - binop_y_180174;
                float index_concat_180149 = ((float *) mem_180359)[new_index_180172 * i16_res_171016 + new_index_180175];
                
                index_concat_branch_180150 = index_concat_180149;
            }
            
            int64_t index_concat_branch_180144;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180141 = sub64(write_iter_180045, arg_171022);
                int64_t index_concat_180142 = ((int64_t *) mem_180333)[index_concat_i_180141];
                
                index_concat_branch_180144 = index_concat_180142;
            } else {
                int64_t new_index_180168 = squot64(write_iter_180045, i16_res_171016);
                int64_t binop_y_180170 = i16_res_171016 * new_index_180168;
                int64_t new_index_180171 = write_iter_180045 - binop_y_180170;
                int64_t index_concat_180143 = ((int64_t *) mem_180362)[new_index_180168 * i16_res_171016 + new_index_180171];
                
                index_concat_branch_180144 = index_concat_180143;
            }
            
            int64_t binop_x_177836 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171030 * i32_res_177826;
            int64_t new_index_177837 = block_idx_177827 + binop_x_177836;
            int64_t new_offset_177838 = ((int64_t *) mem_180475)[new_index_177837];
            bool index_concat_cmp_177839 = sle64(n_blocks_171020, block_idx_177827);
            int16_t index_concat_branch_177840;
            
            if (index_concat_cmp_177839) {
                int16_t index_concat_178024 = ((int16_t *) mem_180356)[i32_res_177826];
                
                index_concat_branch_177840 = index_concat_178024;
            } else {
                int16_t index_concat_177842 = ((int16_t *) mem_180368)[block_idx_177827 * (int64_t) 4 + i32_res_177826];
                
                index_concat_branch_177840 = index_concat_177842;
            }
            
            int64_t i16_res_177843 = sext_i16_i64(index_concat_branch_177840);
            int64_t zp_lhs_177844 = mul64(i16_res_171016, block_idx_177827);
            int64_t old_offset_177845 = add64(i16_res_177843, zp_lhs_177844);
            int64_t zp_lhs_177846 = sub64(write_iter_180045, old_offset_177845);
            int64_t idx_177847 = add64(new_offset_177838, zp_lhs_177846);
            
            if (sle64((int64_t) 0, idx_177847) && slt64(idx_177847, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023)) {
                ((float *) mem_180283)[idx_177847] = index_concat_branch_180150;
            }
            if (sle64((int64_t) 0, idx_177847) && slt64(idx_177847, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171023)) {
                ((int64_t *) mem_180285)[idx_177847] = index_concat_branch_180144;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180501, bytes_180500, "mem_180501")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180503, bytes_180502, "mem_180503")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180057 = 0; i_180057 < n_93151; i_180057++) {
        int64_t eta_p_171345 = ((int64_t *) mem_180285)[i_180057];
        bool x_171346 = sle64((int64_t) 0, eta_p_171345);
        bool y_171347 = slt64(eta_p_171345, n_93151);
        bool bounds_check_171348 = x_171346 && y_171347;
        bool index_certs_171349;
        
        if (!bounds_check_171348) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_171345, "] out of bounds for array of shape [", (long long) n_93151, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:215:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_171350 = ((int64_t *) ext_mem_180281.mem)[eta_p_171345];
        float lifted_lambda_res_171351 = ((float *) xs_mem_180280.mem)[eta_p_171345];
        
        ((int64_t *) mem_180501.mem)[i_180057] = lifted_lambda_res_171350;
        ((float *) mem_180503.mem)[i_180057] = lifted_lambda_res_171351;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180501, "mem_180501") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180503, "mem_180503") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182330, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182331, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        free(mem_180285);
        free(mem_180293);
        free(mem_180295);
        free(mem_180297);
        free(mem_180299);
        free(mem_180301);
        free(mem_180333);
        free(mem_180335);
        free(mem_180348);
        free(mem_180349);
        free(mem_180356);
        free(mem_180359);
        free(mem_180362);
        free(mem_180365);
        free(mem_180368);
        free(mem_180390);
        free(mem_180392);
        free(mem_180394);
        free(mem_180396);
        free(mem_180398);
        free(mem_180441);
        free(mem_180442);
        free(mem_180467);
        free(mem_180475);
        if (memblock_unref(ctx, &mem_180503, "mem_180503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180501, "mem_180501") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182357, struct memblock *mem_out_p_182358, struct memblock xs_mem_180280, int64_t n_87800, int64_t incr_87801, int16_t block_sizze_87802)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182359 = 0;
    unsigned char *mem_180283 = NULL;
    int64_t mem_180285_cached_sizze_182360 = 0;
    unsigned char *mem_180285 = NULL;
    int64_t mem_180293_cached_sizze_182361 = 0;
    unsigned char *mem_180293 = NULL;
    int64_t mem_180295_cached_sizze_182362 = 0;
    unsigned char *mem_180295 = NULL;
    int64_t mem_180297_cached_sizze_182363 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182364 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_182365 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180333_cached_sizze_182366 = 0;
    unsigned char *mem_180333 = NULL;
    int64_t mem_180335_cached_sizze_182367 = 0;
    unsigned char *mem_180335 = NULL;
    int64_t mem_180348_cached_sizze_182368 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180349_cached_sizze_182369 = 0;
    unsigned char *mem_180349 = NULL;
    int64_t mem_180356_cached_sizze_182370 = 0;
    unsigned char *mem_180356 = NULL;
    int64_t mem_180359_cached_sizze_182371 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180362_cached_sizze_182372 = 0;
    unsigned char *mem_180362 = NULL;
    int64_t mem_180365_cached_sizze_182373 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180368_cached_sizze_182374 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180390_cached_sizze_182375 = 0;
    unsigned char *mem_180390 = NULL;
    int64_t mem_180392_cached_sizze_182376 = 0;
    unsigned char *mem_180392 = NULL;
    int64_t mem_180394_cached_sizze_182377 = 0;
    unsigned char *mem_180394 = NULL;
    int64_t mem_180396_cached_sizze_182378 = 0;
    unsigned char *mem_180396 = NULL;
    int64_t mem_180398_cached_sizze_182379 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180441_cached_sizze_182380 = 0;
    unsigned char *mem_180441 = NULL;
    int64_t mem_180442_cached_sizze_182381 = 0;
    unsigned char *mem_180442 = NULL;
    int64_t mem_180467_cached_sizze_182382 = 0;
    unsigned char *mem_180467 = NULL;
    int64_t mem_180475_cached_sizze_182383 = 0;
    unsigned char *mem_180475 = NULL;
    struct memblock mem_180503;
    
    mem_180503.references = NULL;
    
    struct memblock mem_180501;
    
    mem_180501.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    bool cond_167784 = n_87800 == (int64_t) 0;
    int32_t iters_167785;
    
    if (cond_167784) {
        iters_167785 = 0;
    } else {
        iters_167785 = 16;
    }
    
    int64_t i16_res_167786 = sext_i16_i64(block_sizze_87802);
    bool zzero_167787 = i16_res_167786 == (int64_t) 0;
    bool nonzzero_167788 = !zzero_167787;
    bool nonzzero_cert_167789;
    
    if (!nonzzero_167788) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_167790 = sdiv64(n_87800, i16_res_167786);
    int64_t rest_167791 = smod64(n_87800, i16_res_167786);
    int64_t arg_167792 = mul64(i16_res_167786, n_blocks_167790);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793 = add64(rest_167791, arg_167792);
    bool dim_match_167794 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793 == n_87800;
    bool empty_or_match_cert_167795;
    
    if (!dim_match_167794) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_87800, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:162:93-96\n   #6  ftsort.fut:19:3-44\n   #7  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180282 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793;
    int64_t bytes_180284 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793;
    bool loop_nonempty_167799 = slt32(0, iters_167785);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 = add64((int64_t) 1, n_blocks_167790);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
    bool empty_slice_167802 = arg_167792 == (int64_t) 0;
    int64_t m_167803 = sub64(arg_167792, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_167804 = sle64((int64_t) 0, m_167803);
    bool i_p_m_t_s_leq_w_167805 = slt64(m_167803, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool i_lte_j_167806 = sle64((int64_t) 0, arg_167792);
    bool y_167807 = zzero_leq_i_p_m_t_s_167804 && i_p_m_t_s_leq_w_167805;
    bool forwards_ok_167808 = i_lte_j_167806 && y_167807;
    bool ok_or_empty_167809 = empty_slice_167802 || forwards_ok_167808;
    bool loop_not_taken_167810 = !loop_nonempty_167799;
    bool protect_assert_disj_167811 = ok_or_empty_167809 || loop_not_taken_167810;
    bool index_certs_167812;
    
    if (!protect_assert_disj_167811) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_167792, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_167813 = rest_167791 == (int64_t) 0;
    int64_t m_167814 = sub64(rest_167791, (int64_t) 1);
    int64_t i_p_m_t_s_167815 = add64(arg_167792, m_167814);
    bool zzero_leq_i_p_m_t_s_167816 = sle64((int64_t) 0, i_p_m_t_s_167815);
    bool i_p_m_t_s_leq_w_167817 = slt64(i_p_m_t_s_167815, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool i_lte_j_167818 = sle64(arg_167792, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool y_167819 = zzero_leq_i_p_m_t_s_167816 && i_p_m_t_s_leq_w_167817;
    bool forwards_ok_167820 = i_lte_j_167818 && y_167819;
    bool ok_or_empty_167821 = empty_slice_167813 || forwards_ok_167820;
    bool protect_assert_disj_167822 = loop_not_taken_167810 || ok_or_empty_167821;
    bool index_certs_167823;
    
    if (!protect_assert_disj_167822) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_167792, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_167824 = sle64((int64_t) 0, n_blocks_167790);
    bool binop_y_167825 = sle64((int64_t) 0, i16_res_167786);
    bool binop_y_167826 = binop_x_167824 && binop_y_167825;
    bool protect_assert_disj_167827 = loop_not_taken_167810 || binop_y_167826;
    bool dim_ok_cert_167828;
    
    if (!protect_assert_disj_167827) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_167792, "] to array of shape [", (long long) n_blocks_167790, "][", (long long) i16_res_167786, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_167829 = sub64(i16_res_167786, (int64_t) 1);
    bool x_167830 = sle64((int64_t) 0, tmp_167829);
    bool y_167831 = slt64(tmp_167829, i16_res_167786);
    bool bounds_check_167832 = x_167830 && y_167831;
    bool protect_assert_disj_167833 = zzero_167787 || bounds_check_167832;
    bool protect_assert_disj_167834 = loop_not_taken_167810 || protect_assert_disj_167833;
    bool index_certs_167835;
    
    if (!protect_assert_disj_167834) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_167829, "] out of bounds for array of shape [", (long long) i16_res_167786, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_167837 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801);
    bool protect_assert_disj_167838 = loop_not_taken_167810 || y_167837;
    bool index_certs_167839;
    
    if (!protect_assert_disj_167838) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_167841 = nonzzero_167788 || loop_not_taken_167810;
    bool nonzzero_cert_167842;
    
    if (!protect_assert_disj_167841) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_167843 = sle64((int64_t) 0, m_167814);
    bool y_167844 = slt64(m_167814, rest_167791);
    bool bounds_check_167845 = x_167843 && y_167844;
    bool protect_assert_disj_167846 = empty_slice_167813 || bounds_check_167845;
    bool protect_assert_disj_167847 = loop_not_taken_167810 || protect_assert_disj_167846;
    bool index_certs_167848;
    
    if (!protect_assert_disj_167847) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_167814, "] out of bounds for array of shape [", (long long) rest_167791, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180292 = (int64_t) 2 * rest_167791;
    int64_t bytes_180332 = (int64_t) 8 * rest_167791;
    int64_t bytes_180334 = (int64_t) 4 * rest_167791;
    int64_t binop_x_180357 = (int64_t) 4 * n_blocks_167790;
    int64_t bytes_180358 = i16_res_167786 * binop_x_180357;
    int64_t binop_x_180360 = (int64_t) 8 * n_blocks_167790;
    int64_t bytes_180361 = i16_res_167786 * binop_x_180360;
    int64_t bytes_180364 = (int64_t) 32 * n_blocks_167790;
    int64_t bytes_180389 = (int64_t) 2 * i16_res_167786;
    int64_t bytes_180466 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800;
    bool dim_match_168080 = n_87800 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793;
    bool empty_or_match_cert_168081;
    
    if (!dim_match_168080) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "] cannot match shape of type `[", (long long) n_87800, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180500 = (int64_t) 8 * n_87800;
    int64_t bytes_180502 = (int64_t) 4 * n_87800;
    
    if (futrts_indicesWithIncrement_9256(ctx, &ext_mem_180281, xs_mem_180280, n_87800, incr_87801) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180283_cached_sizze_182359 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182359, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_180283, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_180280.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793});
    if (mem_180285_cached_sizze_182360 < bytes_180284) {
        err = lexical_realloc(ctx, &mem_180285, &mem_180285_cached_sizze_182360, bytes_180284);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181701 = 0; i_181701 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793; i_181701++) {
        int64_t x_181702 = (int64_t) 0 + i_181701 * (int64_t) 1;
        
        ((int64_t *) mem_180285)[i_181701] = x_181702;
    }
    if (mem_180293_cached_sizze_182361 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180293, &mem_180293_cached_sizze_182361, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180295_cached_sizze_182362 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180295, &mem_180295_cached_sizze_182362, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180297_cached_sizze_182363 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182363, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180299_cached_sizze_182364 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182364, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180301_cached_sizze_182365 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_182365, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180333_cached_sizze_182366 < bytes_180332) {
        err = lexical_realloc(ctx, &mem_180333, &mem_180333_cached_sizze_182366, bytes_180332);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180335_cached_sizze_182367 < bytes_180334) {
        err = lexical_realloc(ctx, &mem_180335, &mem_180335_cached_sizze_182367, bytes_180334);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180348_cached_sizze_182368 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_182368, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180349_cached_sizze_182369 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180349, &mem_180349_cached_sizze_182369, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180356_cached_sizze_182370 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180356, &mem_180356_cached_sizze_182370, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180359_cached_sizze_182371 < bytes_180358) {
        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182371, bytes_180358);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180362_cached_sizze_182372 < bytes_180361) {
        err = lexical_realloc(ctx, &mem_180362, &mem_180362_cached_sizze_182372, bytes_180361);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180365_cached_sizze_182373 < bytes_180364) {
        err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_182373, bytes_180364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180368_cached_sizze_182374 < binop_x_180360) {
        err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_182374, binop_x_180360);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180390_cached_sizze_182375 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180390, &mem_180390_cached_sizze_182375, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180392_cached_sizze_182376 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180392, &mem_180392_cached_sizze_182376, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180394_cached_sizze_182377 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180394, &mem_180394_cached_sizze_182377, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180396_cached_sizze_182378 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180396, &mem_180396_cached_sizze_182378, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180398_cached_sizze_182379 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_182379, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180441_cached_sizze_182380 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180441, &mem_180441_cached_sizze_182380, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180442_cached_sizze_182381 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180442, &mem_180442_cached_sizze_182381, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180467_cached_sizze_182382 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180467, &mem_180467_cached_sizze_182382, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180475_cached_sizze_182383 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180475, &mem_180475_cached_sizze_182383, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_167851 = 0; i_167851 < iters_167785; i_167851++) {
        int32_t blocked_radix_sort_step_arg1_167854 = mul32(2, i_167851);
        int32_t get_bit_arg0_167859 = add32(1, blocked_radix_sort_step_arg1_167854);
        bool cond_167860 = get_bit_arg0_167859 == 31;
        bool cond_167861 = blocked_radix_sort_step_arg1_167854 == 31;
        int16_t discard_179960;
        int16_t discard_179961;
        int16_t discard_179962;
        int16_t discard_179963;
        int16_t scanacc_179945;
        int16_t scanacc_179946;
        int16_t scanacc_179947;
        int16_t scanacc_179948;
        
        scanacc_179945 = (int16_t) 0;
        scanacc_179946 = (int16_t) 0;
        scanacc_179947 = (int16_t) 0;
        scanacc_179948 = (int16_t) 0;
        for (int64_t i_179954 = 0; i_179954 < rest_167791; i_179954++) {
            int64_t slice_180167 = arg_167792 + i_179954;
            int32_t eta_p_177866 = ((int32_t *) mem_180283)[slice_180167];
            int32_t zgzg_res_177867 = ashr32(eta_p_177866, get_bit_arg0_167859);
            int32_t za_res_177868 = 1 & zgzg_res_177867;
            int32_t defunc_0_get_bit_res_177869;
            
            if (cond_167860) {
                int32_t defunc_0_get_bit_res_t_res_177984 = 1 ^ za_res_177868;
                
                defunc_0_get_bit_res_177869 = defunc_0_get_bit_res_t_res_177984;
            } else {
                defunc_0_get_bit_res_177869 = za_res_177868;
            }
            
            int32_t zp_lhs_177871 = mul32(2, defunc_0_get_bit_res_177869);
            int32_t zgzg_res_177872 = ashr32(eta_p_177866, blocked_radix_sort_step_arg1_167854);
            int32_t za_res_177873 = 1 & zgzg_res_177872;
            int32_t defunc_0_get_bit_res_177874;
            
            if (cond_167861) {
                int32_t defunc_0_get_bit_res_t_res_177985 = 1 ^ za_res_177873;
                
                defunc_0_get_bit_res_177874 = defunc_0_get_bit_res_t_res_177985;
            } else {
                defunc_0_get_bit_res_177874 = za_res_177873;
            }
            
            int32_t i32_arg0_177876 = add32(zp_lhs_177871, defunc_0_get_bit_res_177874);
            int16_t i32_res_177877 = sext_i32_i16(i32_arg0_177876);
            int16_t defunc_0_f_res_177879;
            int16_t defunc_0_f_res_177880;
            int16_t defunc_0_f_res_177881;
            int16_t defunc_0_f_res_177882;
            
            if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177879, &defunc_0_f_res_177880, &defunc_0_f_res_177881, &defunc_0_f_res_177882, i32_res_177877) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_167898 = add16(defunc_0_f_res_177879, scanacc_179945);
            int16_t defunc_0_op_res_167899 = add16(defunc_0_f_res_177880, scanacc_179946);
            int16_t defunc_0_op_res_167900 = add16(defunc_0_f_res_177881, scanacc_179947);
            int16_t defunc_0_op_res_167901 = add16(defunc_0_f_res_177882, scanacc_179948);
            
            ((int16_t *) mem_180293)[i_179954] = defunc_0_op_res_167898;
            ((int16_t *) mem_180295)[i_179954] = defunc_0_op_res_167899;
            ((int16_t *) mem_180297)[i_179954] = defunc_0_op_res_167900;
            ((int16_t *) mem_180299)[i_179954] = defunc_0_op_res_167901;
            ((int16_t *) mem_180301)[i_179954] = i32_res_177877;
            
            int16_t scanacc_tmp_181705 = defunc_0_op_res_167898;
            int16_t scanacc_tmp_181706 = defunc_0_op_res_167899;
            int16_t scanacc_tmp_181707 = defunc_0_op_res_167900;
            int16_t scanacc_tmp_181708 = defunc_0_op_res_167901;
            
            scanacc_179945 = scanacc_tmp_181705;
            scanacc_179946 = scanacc_tmp_181706;
            scanacc_179947 = scanacc_tmp_181707;
            scanacc_179948 = scanacc_tmp_181708;
        }
        discard_179960 = scanacc_179945;
        discard_179961 = scanacc_179946;
        discard_179962 = scanacc_179947;
        discard_179963 = scanacc_179948;
        
        int16_t defunc_0_radix_sort_step_i16_res_167902;
        int16_t defunc_0_radix_sort_step_i16_res_167903;
        int16_t defunc_0_radix_sort_step_i16_res_167904;
        int16_t defunc_0_radix_sort_step_i16_res_167905;
        
        if (empty_slice_167813) {
            defunc_0_radix_sort_step_i16_res_167902 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167903 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167904 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167905 = (int16_t) 0;
        } else {
            int16_t last_res_167906 = ((int16_t *) mem_180293)[m_167814];
            int16_t last_res_167907 = ((int16_t *) mem_180295)[m_167814];
            int16_t last_res_167908 = ((int16_t *) mem_180297)[m_167814];
            int16_t last_res_167909 = ((int16_t *) mem_180299)[m_167814];
            
            defunc_0_radix_sort_step_i16_res_167902 = last_res_167906;
            defunc_0_radix_sort_step_i16_res_167903 = last_res_167907;
            defunc_0_radix_sort_step_i16_res_167904 = last_res_167908;
            defunc_0_radix_sort_step_i16_res_167905 = last_res_167909;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180333, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + (int64_t) 1 * arg_167792, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167791});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_180335, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180283, (int64_t) 0 + (int64_t) 1 * arg_167792, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167791});
        for (int64_t write_iter_179964 = 0; write_iter_179964 < rest_167791; write_iter_179964++) {
            int16_t write_iv_179967 = ((int16_t *) mem_180301)[write_iter_179964];
            int16_t write_iv_179968 = ((int16_t *) mem_180293)[write_iter_179964];
            int16_t write_iv_179969 = ((int16_t *) mem_180295)[write_iter_179964];
            int16_t write_iv_179970 = ((int16_t *) mem_180297)[write_iter_179964];
            int16_t write_iv_179971 = ((int16_t *) mem_180299)[write_iter_179964];
            int64_t slice_180166 = arg_167792 + write_iter_179964;
            int32_t write_iv_179972 = ((int32_t *) mem_180283)[slice_180166];
            int64_t write_iv_179973 = ((int64_t *) mem_180285)[slice_180166];
            int64_t defunc_0_f_res_177850;
            
            if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177850, defunc_0_radix_sort_step_i16_res_167902, defunc_0_radix_sort_step_i16_res_167903, defunc_0_radix_sort_step_i16_res_167904, write_iv_179967, write_iv_179968, write_iv_179969, write_iv_179970, write_iv_179971) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177850) && slt64(defunc_0_f_res_177850, rest_167791)) {
                ((int32_t *) mem_180335)[defunc_0_f_res_177850] = write_iv_179972;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177850) && slt64(defunc_0_f_res_177850, rest_167791)) {
                ((int64_t *) mem_180333)[defunc_0_f_res_177850] = write_iv_179973;
            }
        }
        ((int16_t *) mem_180348)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_167902;
        ((int16_t *) mem_180348)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167903;
        ((int16_t *) mem_180348)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_167904;
        ((int16_t *) mem_180348)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_167905;
        for (int64_t i_179978 = 0; i_179978 < (int64_t) 4; i_179978++) {
            int16_t eta_p_167926 = ((int16_t *) mem_180348)[i_179978];
            int64_t i16_res_167927 = sext_i16_i64(eta_p_167926);
            
            ((int64_t *) mem_180349)[i_179978] = i16_res_167927;
        }
        
        int16_t tmp_167928 = add16(defunc_0_radix_sort_step_i16_res_167902, defunc_0_radix_sort_step_i16_res_167903);
        int16_t tmp_167929 = add16(defunc_0_radix_sort_step_i16_res_167904, tmp_167928);
        
        ((int16_t *) mem_180356)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180356)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167902;
        ((int16_t *) mem_180356)[(int64_t) 2] = tmp_167928;
        ((int16_t *) mem_180356)[(int64_t) 3] = tmp_167929;
        for (int64_t i_180028 = 0; i_180028 < n_blocks_167790; i_180028++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_180359, i_180028 * i16_res_167786, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_180283, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_167786), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167786});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180362, i_180028 * i16_res_167786, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_167786), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167786});
            
            int64_t binop_x_180180 = i16_res_167786 * i_180028;
            int16_t discard_180000;
            int16_t discard_180001;
            int16_t discard_180002;
            int16_t discard_180003;
            int16_t scanacc_179985;
            int16_t scanacc_179986;
            int16_t scanacc_179987;
            int16_t scanacc_179988;
            
            scanacc_179985 = (int16_t) 0;
            scanacc_179986 = (int16_t) 0;
            scanacc_179987 = (int16_t) 0;
            scanacc_179988 = (int16_t) 0;
            for (int64_t i_179994 = 0; i_179994 < i16_res_167786; i_179994++) {
                int64_t new_index_180181 = i_179994 + binop_x_180180;
                int32_t eta_p_177913 = ((int32_t *) mem_180283)[new_index_180181];
                int32_t zgzg_res_177914 = ashr32(eta_p_177913, get_bit_arg0_167859);
                int32_t za_res_177915 = 1 & zgzg_res_177914;
                int32_t defunc_0_get_bit_res_177916;
                
                if (cond_167860) {
                    int32_t defunc_0_get_bit_res_t_res_177986 = 1 ^ za_res_177915;
                    
                    defunc_0_get_bit_res_177916 = defunc_0_get_bit_res_t_res_177986;
                } else {
                    defunc_0_get_bit_res_177916 = za_res_177915;
                }
                
                int32_t zp_lhs_177918 = mul32(2, defunc_0_get_bit_res_177916);
                int32_t zgzg_res_177919 = ashr32(eta_p_177913, blocked_radix_sort_step_arg1_167854);
                int32_t za_res_177920 = 1 & zgzg_res_177919;
                int32_t defunc_0_get_bit_res_177921;
                
                if (cond_167861) {
                    int32_t defunc_0_get_bit_res_t_res_177987 = 1 ^ za_res_177920;
                    
                    defunc_0_get_bit_res_177921 = defunc_0_get_bit_res_t_res_177987;
                } else {
                    defunc_0_get_bit_res_177921 = za_res_177920;
                }
                
                int32_t i32_arg0_177923 = add32(zp_lhs_177918, defunc_0_get_bit_res_177921);
                int16_t i32_res_177924 = sext_i32_i16(i32_arg0_177923);
                int16_t defunc_0_f_res_177926;
                int16_t defunc_0_f_res_177927;
                int16_t defunc_0_f_res_177928;
                int16_t defunc_0_f_res_177929;
                
                if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177926, &defunc_0_f_res_177927, &defunc_0_f_res_177928, &defunc_0_f_res_177929, i32_res_177924) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_167979 = add16(defunc_0_f_res_177926, scanacc_179985);
                int16_t defunc_0_op_res_167980 = add16(defunc_0_f_res_177927, scanacc_179986);
                int16_t defunc_0_op_res_167981 = add16(defunc_0_f_res_177928, scanacc_179987);
                int16_t defunc_0_op_res_167982 = add16(defunc_0_f_res_177929, scanacc_179988);
                
                ((int16_t *) mem_180390)[i_179994] = defunc_0_op_res_167979;
                ((int16_t *) mem_180392)[i_179994] = defunc_0_op_res_167980;
                ((int16_t *) mem_180394)[i_179994] = defunc_0_op_res_167981;
                ((int16_t *) mem_180396)[i_179994] = defunc_0_op_res_167982;
                ((int16_t *) mem_180398)[i_179994] = i32_res_177924;
                
                int16_t scanacc_tmp_181721 = defunc_0_op_res_167979;
                int16_t scanacc_tmp_181722 = defunc_0_op_res_167980;
                int16_t scanacc_tmp_181723 = defunc_0_op_res_167981;
                int16_t scanacc_tmp_181724 = defunc_0_op_res_167982;
                
                scanacc_179985 = scanacc_tmp_181721;
                scanacc_179986 = scanacc_tmp_181722;
                scanacc_179987 = scanacc_tmp_181723;
                scanacc_179988 = scanacc_tmp_181724;
            }
            discard_180000 = scanacc_179985;
            discard_180001 = scanacc_179986;
            discard_180002 = scanacc_179987;
            discard_180003 = scanacc_179988;
            
            int16_t defunc_0_f_res_167983;
            int16_t defunc_0_f_res_167984;
            int16_t defunc_0_f_res_167985;
            int16_t defunc_0_f_res_167986;
            
            if (zzero_167787) {
                defunc_0_f_res_167983 = (int16_t) 0;
                defunc_0_f_res_167984 = (int16_t) 0;
                defunc_0_f_res_167985 = (int16_t) 0;
                defunc_0_f_res_167986 = (int16_t) 0;
            } else {
                int16_t last_res_167987 = ((int16_t *) mem_180390)[tmp_167829];
                int16_t last_res_167988 = ((int16_t *) mem_180392)[tmp_167829];
                int16_t last_res_167989 = ((int16_t *) mem_180394)[tmp_167829];
                int16_t last_res_167990 = ((int16_t *) mem_180396)[tmp_167829];
                
                defunc_0_f_res_167983 = last_res_167987;
                defunc_0_f_res_167984 = last_res_167988;
                defunc_0_f_res_167985 = last_res_167989;
                defunc_0_f_res_167986 = last_res_167990;
            }
            for (int64_t write_iter_180004 = 0; write_iter_180004 < i16_res_167786; write_iter_180004++) {
                int16_t write_iv_180007 = ((int16_t *) mem_180398)[write_iter_180004];
                int16_t write_iv_180008 = ((int16_t *) mem_180390)[write_iter_180004];
                int16_t write_iv_180009 = ((int16_t *) mem_180392)[write_iter_180004];
                int16_t write_iv_180010 = ((int16_t *) mem_180394)[write_iter_180004];
                int16_t write_iv_180011 = ((int16_t *) mem_180396)[write_iter_180004];
                int64_t new_index_180177 = write_iter_180004 + binop_x_180180;
                int32_t write_iv_180012 = ((int32_t *) mem_180283)[new_index_180177];
                int64_t write_iv_180013 = ((int64_t *) mem_180285)[new_index_180177];
                int64_t defunc_0_f_res_177897;
                
                if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177897, defunc_0_f_res_167983, defunc_0_f_res_167984, defunc_0_f_res_167985, write_iv_180007, write_iv_180008, write_iv_180009, write_iv_180010, write_iv_180011) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177897) && slt64(defunc_0_f_res_177897, i16_res_167786)) {
                    ((int32_t *) mem_180359)[i_180028 * i16_res_167786 + defunc_0_f_res_177897] = write_iv_180012;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177897) && slt64(defunc_0_f_res_177897, i16_res_167786)) {
                    ((int64_t *) mem_180362)[i_180028 * i16_res_167786 + defunc_0_f_res_177897] = write_iv_180013;
                }
            }
            ((int16_t *) mem_180441)[(int64_t) 0] = defunc_0_f_res_167983;
            ((int16_t *) mem_180441)[(int64_t) 1] = defunc_0_f_res_167984;
            ((int16_t *) mem_180441)[(int64_t) 2] = defunc_0_f_res_167985;
            ((int16_t *) mem_180441)[(int64_t) 3] = defunc_0_f_res_167986;
            for (int64_t i_180018 = 0; i_180018 < (int64_t) 4; i_180018++) {
                int16_t eta_p_168005 = ((int16_t *) mem_180441)[i_180018];
                int64_t i16_res_168006 = sext_i16_i64(eta_p_168005);
                
                ((int64_t *) mem_180442)[i_180018] = i16_res_168006;
            }
            
            int16_t tmp_168007 = add16(defunc_0_f_res_167983, defunc_0_f_res_167984);
            int16_t tmp_168008 = add16(defunc_0_f_res_167985, tmp_168007);
            
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_167983;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 2] = tmp_168007;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 3] = tmp_168008;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180365, i_180028 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180442, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180040;
        int64_t scanacc_180036 = (int64_t) 0;
        
        for (int64_t i_180038 = 0; i_180038 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801; i_180038++) {
            int64_t new_index_180155 = squot64(i_180038, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
            int64_t binop_y_180157 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 * new_index_180155;
            int64_t new_index_180158 = i_180038 - binop_y_180157;
            bool index_concat_cmp_180160 = sle64(n_blocks_167790, new_index_180158);
            int64_t index_concat_branch_180164;
            
            if (index_concat_cmp_180160) {
                int64_t index_concat_180162 = ((int64_t *) mem_180349)[new_index_180155];
                
                index_concat_branch_180164 = index_concat_180162;
            } else {
                int64_t index_concat_180163 = ((int64_t *) mem_180365)[new_index_180158 * (int64_t) 4 + new_index_180155];
                
                index_concat_branch_180164 = index_concat_180163;
            }
            
            int64_t defunc_0_op_res_168020 = add64(scanacc_180036, index_concat_branch_180164);
            
            ((int64_t *) mem_180467)[i_180038] = defunc_0_op_res_168020;
            
            int64_t scanacc_tmp_181733 = defunc_0_op_res_168020;
            
            scanacc_180036 = scanacc_tmp_181733;
        }
        discard_180040 = scanacc_180036;
        for (int64_t i_180043 = 0; i_180043 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801; i_180043++) {
            int64_t zv_lhs_168023 = add64((int64_t) -1, i_180043);
            int64_t tmp_168024 = smod64(zv_lhs_168023, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801);
            int64_t lifted_lambda_res_168025 = ((int64_t *) mem_180467)[tmp_168024];
            
            ((int64_t *) mem_180475)[i_180043] = lifted_lambda_res_168025;
        }
        ((int64_t *) mem_180475)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180045 = 0; write_iter_180045 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793; write_iter_180045++) {
            bool index_concat_cmp_180146 = sle64(arg_167792, write_iter_180045);
            int32_t index_concat_branch_177801;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_177996 = sub64(write_iter_180045, arg_167792);
                int32_t index_concat_177997 = ((int32_t *) mem_180335)[index_concat_i_177996];
                
                index_concat_branch_177801 = index_concat_177997;
            } else {
                int64_t new_index_177804 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_177805 = i16_res_167786 * new_index_177804;
                int64_t new_index_177806 = write_iter_180045 - binop_y_177805;
                int32_t index_concat_177807 = ((int32_t *) mem_180359)[new_index_177804 * i16_res_167786 + new_index_177806];
                
                index_concat_branch_177801 = index_concat_177807;
            }
            
            int32_t zlzb_rhs_177808;
            int32_t acc_177810 = 0;
            
            for (int32_t i_177809 = 0; i_177809 < 2; i_177809++) {
                int32_t get_bit_arg0_177811 = add32(blocked_radix_sort_step_arg1_167854, i_177809);
                int32_t zgzg_res_177812 = ashr32(index_concat_branch_177801, get_bit_arg0_177811);
                int32_t za_res_177813 = 1 & zgzg_res_177812;
                bool cond_177814 = get_bit_arg0_177811 == 31;
                int32_t defunc_0_get_bit_res_177815;
                
                if (cond_177814) {
                    int32_t defunc_0_get_bit_res_t_res_177998 = 1 ^ za_res_177813;
                    
                    defunc_0_get_bit_res_177815 = defunc_0_get_bit_res_t_res_177998;
                } else {
                    defunc_0_get_bit_res_177815 = za_res_177813;
                }
                
                int32_t zp_rhs_177817 = shl32(defunc_0_get_bit_res_177815, i_177809);
                int32_t loopres_177818 = add32(acc_177810, zp_rhs_177817);
                int32_t acc_tmp_181738 = loopres_177818;
                
                acc_177810 = acc_tmp_181738;
            }
            zlzb_rhs_177808 = acc_177810;
            
            int64_t i32_res_177819 = sext_i32_i64(zlzb_rhs_177808);
            int64_t block_idx_177820 = sdiv64(write_iter_180045, i16_res_167786);
            bool x_177821 = sle64((int64_t) 0, block_idx_177820);
            bool y_177822 = slt64(block_idx_177820, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
            bool bounds_check_177823 = x_177821 && y_177822;
            bool index_certs_177824;
            
            if (!bounds_check_177823) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177820, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177825 = sle64((int64_t) 0, i32_res_177819);
            bool y_177826 = slt64(i32_res_177819, (int64_t) 4);
            bool bounds_check_177827 = x_177825 && y_177826;
            bool index_certs_177828;
            
            if (!bounds_check_177827) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177819, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t index_concat_branch_180150;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180147 = sub64(write_iter_180045, arg_167792);
                int32_t index_concat_180148 = ((int32_t *) mem_180335)[index_concat_i_180147];
                
                index_concat_branch_180150 = index_concat_180148;
            } else {
                int64_t new_index_180172 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_180174 = i16_res_167786 * new_index_180172;
                int64_t new_index_180175 = write_iter_180045 - binop_y_180174;
                int32_t index_concat_180149 = ((int32_t *) mem_180359)[new_index_180172 * i16_res_167786 + new_index_180175];
                
                index_concat_branch_180150 = index_concat_180149;
            }
            
            int64_t index_concat_branch_180144;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180141 = sub64(write_iter_180045, arg_167792);
                int64_t index_concat_180142 = ((int64_t *) mem_180333)[index_concat_i_180141];
                
                index_concat_branch_180144 = index_concat_180142;
            } else {
                int64_t new_index_180168 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_180170 = i16_res_167786 * new_index_180168;
                int64_t new_index_180171 = write_iter_180045 - binop_y_180170;
                int64_t index_concat_180143 = ((int64_t *) mem_180362)[new_index_180168 * i16_res_167786 + new_index_180171];
                
                index_concat_branch_180144 = index_concat_180143;
            }
            
            int64_t binop_x_177829 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 * i32_res_177819;
            int64_t new_index_177830 = block_idx_177820 + binop_x_177829;
            int64_t new_offset_177831 = ((int64_t *) mem_180475)[new_index_177830];
            bool index_concat_cmp_177832 = sle64(n_blocks_167790, block_idx_177820);
            int16_t index_concat_branch_177833;
            
            if (index_concat_cmp_177832) {
                int16_t index_concat_177999 = ((int16_t *) mem_180356)[i32_res_177819];
                
                index_concat_branch_177833 = index_concat_177999;
            } else {
                int16_t index_concat_177835 = ((int16_t *) mem_180368)[block_idx_177820 * (int64_t) 4 + i32_res_177819];
                
                index_concat_branch_177833 = index_concat_177835;
            }
            
            int64_t i16_res_177836 = sext_i16_i64(index_concat_branch_177833);
            int64_t zp_lhs_177837 = mul64(i16_res_167786, block_idx_177820);
            int64_t old_offset_177838 = add64(i16_res_177836, zp_lhs_177837);
            int64_t zp_lhs_177839 = sub64(write_iter_180045, old_offset_177838);
            int64_t idx_177840 = add64(new_offset_177831, zp_lhs_177839);
            
            if (sle64((int64_t) 0, idx_177840) && slt64(idx_177840, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793)) {
                ((int32_t *) mem_180283)[idx_177840] = index_concat_branch_180150;
            }
            if (sle64((int64_t) 0, idx_177840) && slt64(idx_177840, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793)) {
                ((int64_t *) mem_180285)[idx_177840] = index_concat_branch_180144;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180501, bytes_180500, "mem_180501")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180503, bytes_180502, "mem_180503")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180057 = 0; i_180057 < n_87800; i_180057++) {
        int64_t eta_p_168085 = ((int64_t *) mem_180285)[i_180057];
        bool x_168086 = sle64((int64_t) 0, eta_p_168085);
        bool y_168087 = slt64(eta_p_168085, n_87800);
        bool bounds_check_168088 = x_168086 && y_168087;
        bool index_certs_168089;
        
        if (!bounds_check_168088) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168085, "] out of bounds for array of shape [", (long long) n_87800, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168090 = ((int64_t *) ext_mem_180281.mem)[eta_p_168085];
        int32_t lifted_lambda_res_168091 = ((int32_t *) xs_mem_180280.mem)[eta_p_168085];
        
        ((int64_t *) mem_180501.mem)[i_180057] = lifted_lambda_res_168090;
        ((int32_t *) mem_180503.mem)[i_180057] = lifted_lambda_res_168091;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180501, "mem_180501") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180503, "mem_180503") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182357, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182358, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        free(mem_180285);
        free(mem_180293);
        free(mem_180295);
        free(mem_180297);
        free(mem_180299);
        free(mem_180301);
        free(mem_180333);
        free(mem_180335);
        free(mem_180348);
        free(mem_180349);
        free(mem_180356);
        free(mem_180359);
        free(mem_180362);
        free(mem_180365);
        free(mem_180368);
        free(mem_180390);
        free(mem_180392);
        free(mem_180394);
        free(mem_180396);
        free(mem_180398);
        free(mem_180441);
        free(mem_180442);
        free(mem_180467);
        free(mem_180475);
        if (memblock_unref(ctx, &mem_180503, "mem_180503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180501, "mem_180501") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182384, struct memblock *mem_out_p_182385, struct memblock xs_mem_180280, int64_t n_90400, int64_t incr_90401, int16_t block_sizze_90402)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182386 = 0;
    unsigned char *mem_180283 = NULL;
    int64_t mem_180285_cached_sizze_182387 = 0;
    unsigned char *mem_180285 = NULL;
    int64_t mem_180293_cached_sizze_182388 = 0;
    unsigned char *mem_180293 = NULL;
    int64_t mem_180295_cached_sizze_182389 = 0;
    unsigned char *mem_180295 = NULL;
    int64_t mem_180297_cached_sizze_182390 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182391 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_182392 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180333_cached_sizze_182393 = 0;
    unsigned char *mem_180333 = NULL;
    int64_t mem_180335_cached_sizze_182394 = 0;
    unsigned char *mem_180335 = NULL;
    int64_t mem_180348_cached_sizze_182395 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180349_cached_sizze_182396 = 0;
    unsigned char *mem_180349 = NULL;
    int64_t mem_180356_cached_sizze_182397 = 0;
    unsigned char *mem_180356 = NULL;
    int64_t mem_180359_cached_sizze_182398 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180362_cached_sizze_182399 = 0;
    unsigned char *mem_180362 = NULL;
    int64_t mem_180365_cached_sizze_182400 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180368_cached_sizze_182401 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180390_cached_sizze_182402 = 0;
    unsigned char *mem_180390 = NULL;
    int64_t mem_180392_cached_sizze_182403 = 0;
    unsigned char *mem_180392 = NULL;
    int64_t mem_180394_cached_sizze_182404 = 0;
    unsigned char *mem_180394 = NULL;
    int64_t mem_180396_cached_sizze_182405 = 0;
    unsigned char *mem_180396 = NULL;
    int64_t mem_180398_cached_sizze_182406 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180441_cached_sizze_182407 = 0;
    unsigned char *mem_180441 = NULL;
    int64_t mem_180442_cached_sizze_182408 = 0;
    unsigned char *mem_180442 = NULL;
    int64_t mem_180467_cached_sizze_182409 = 0;
    unsigned char *mem_180467 = NULL;
    int64_t mem_180475_cached_sizze_182410 = 0;
    unsigned char *mem_180475 = NULL;
    struct memblock mem_180503;
    
    mem_180503.references = NULL;
    
    struct memblock mem_180501;
    
    mem_180501.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    bool cond_167784 = n_90400 == (int64_t) 0;
    int32_t iters_167785;
    
    if (cond_167784) {
        iters_167785 = 0;
    } else {
        iters_167785 = 32;
    }
    
    int64_t i16_res_167786 = sext_i16_i64(block_sizze_90402);
    bool zzero_167787 = i16_res_167786 == (int64_t) 0;
    bool nonzzero_167788 = !zzero_167787;
    bool nonzzero_cert_167789;
    
    if (!nonzzero_167788) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_167790 = sdiv64(n_90400, i16_res_167786);
    int64_t rest_167791 = smod64(n_90400, i16_res_167786);
    int64_t arg_167792 = mul64(i16_res_167786, n_blocks_167790);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793 = add64(rest_167791, arg_167792);
    bool dim_match_167794 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793 == n_90400;
    bool empty_or_match_cert_167795;
    
    if (!dim_match_167794) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_90400, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:162:93-96\n   #6  ftsort.fut:22:3-45\n   #7  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180282 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793;
    bool loop_nonempty_167799 = slt32(0, iters_167785);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 = add64((int64_t) 1, n_blocks_167790);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
    bool empty_slice_167802 = arg_167792 == (int64_t) 0;
    int64_t m_167803 = sub64(arg_167792, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_167804 = sle64((int64_t) 0, m_167803);
    bool i_p_m_t_s_leq_w_167805 = slt64(m_167803, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool i_lte_j_167806 = sle64((int64_t) 0, arg_167792);
    bool y_167807 = zzero_leq_i_p_m_t_s_167804 && i_p_m_t_s_leq_w_167805;
    bool forwards_ok_167808 = i_lte_j_167806 && y_167807;
    bool ok_or_empty_167809 = empty_slice_167802 || forwards_ok_167808;
    bool loop_not_taken_167810 = !loop_nonempty_167799;
    bool protect_assert_disj_167811 = ok_or_empty_167809 || loop_not_taken_167810;
    bool index_certs_167812;
    
    if (!protect_assert_disj_167811) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_167792, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_167813 = rest_167791 == (int64_t) 0;
    int64_t m_167814 = sub64(rest_167791, (int64_t) 1);
    int64_t i_p_m_t_s_167815 = add64(arg_167792, m_167814);
    bool zzero_leq_i_p_m_t_s_167816 = sle64((int64_t) 0, i_p_m_t_s_167815);
    bool i_p_m_t_s_leq_w_167817 = slt64(i_p_m_t_s_167815, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool i_lte_j_167818 = sle64(arg_167792, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool y_167819 = zzero_leq_i_p_m_t_s_167816 && i_p_m_t_s_leq_w_167817;
    bool forwards_ok_167820 = i_lte_j_167818 && y_167819;
    bool ok_or_empty_167821 = empty_slice_167813 || forwards_ok_167820;
    bool protect_assert_disj_167822 = loop_not_taken_167810 || ok_or_empty_167821;
    bool index_certs_167823;
    
    if (!protect_assert_disj_167822) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_167792, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_167824 = sle64((int64_t) 0, n_blocks_167790);
    bool binop_y_167825 = sle64((int64_t) 0, i16_res_167786);
    bool binop_y_167826 = binop_x_167824 && binop_y_167825;
    bool protect_assert_disj_167827 = loop_not_taken_167810 || binop_y_167826;
    bool dim_ok_cert_167828;
    
    if (!protect_assert_disj_167827) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_167792, "] to array of shape [", (long long) n_blocks_167790, "][", (long long) i16_res_167786, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_167829 = sub64(i16_res_167786, (int64_t) 1);
    bool x_167830 = sle64((int64_t) 0, tmp_167829);
    bool y_167831 = slt64(tmp_167829, i16_res_167786);
    bool bounds_check_167832 = x_167830 && y_167831;
    bool protect_assert_disj_167833 = zzero_167787 || bounds_check_167832;
    bool protect_assert_disj_167834 = loop_not_taken_167810 || protect_assert_disj_167833;
    bool index_certs_167835;
    
    if (!protect_assert_disj_167834) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_167829, "] out of bounds for array of shape [", (long long) i16_res_167786, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_167837 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801);
    bool protect_assert_disj_167838 = loop_not_taken_167810 || y_167837;
    bool index_certs_167839;
    
    if (!protect_assert_disj_167838) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_167841 = nonzzero_167788 || loop_not_taken_167810;
    bool nonzzero_cert_167842;
    
    if (!protect_assert_disj_167841) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_167843 = sle64((int64_t) 0, m_167814);
    bool y_167844 = slt64(m_167814, rest_167791);
    bool bounds_check_167845 = x_167843 && y_167844;
    bool protect_assert_disj_167846 = empty_slice_167813 || bounds_check_167845;
    bool protect_assert_disj_167847 = loop_not_taken_167810 || protect_assert_disj_167846;
    bool index_certs_167848;
    
    if (!protect_assert_disj_167847) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_167814, "] out of bounds for array of shape [", (long long) rest_167791, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180292 = (int64_t) 2 * rest_167791;
    int64_t bytes_180332 = (int64_t) 8 * rest_167791;
    int64_t binop_x_180357 = (int64_t) 8 * n_blocks_167790;
    int64_t bytes_180358 = i16_res_167786 * binop_x_180357;
    int64_t bytes_180364 = (int64_t) 32 * n_blocks_167790;
    int64_t bytes_180389 = (int64_t) 2 * i16_res_167786;
    int64_t bytes_180466 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800;
    bool dim_match_168080 = n_90400 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793;
    bool empty_or_match_cert_168081;
    
    if (!dim_match_168080) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "] cannot match shape of type `[", (long long) n_90400, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180500 = (int64_t) 8 * n_90400;
    
    if (futrts_indicesWithIncrement_9366(ctx, &ext_mem_180281, xs_mem_180280, n_90400, incr_90401) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180283_cached_sizze_182386 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182386, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_180283, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_180280.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793});
    if (mem_180285_cached_sizze_182387 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180285, &mem_180285_cached_sizze_182387, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181701 = 0; i_181701 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793; i_181701++) {
        int64_t x_181702 = (int64_t) 0 + i_181701 * (int64_t) 1;
        
        ((int64_t *) mem_180285)[i_181701] = x_181702;
    }
    if (mem_180293_cached_sizze_182388 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180293, &mem_180293_cached_sizze_182388, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180295_cached_sizze_182389 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180295, &mem_180295_cached_sizze_182389, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180297_cached_sizze_182390 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182390, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180299_cached_sizze_182391 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182391, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180301_cached_sizze_182392 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_182392, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180333_cached_sizze_182393 < bytes_180332) {
        err = lexical_realloc(ctx, &mem_180333, &mem_180333_cached_sizze_182393, bytes_180332);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180335_cached_sizze_182394 < bytes_180332) {
        err = lexical_realloc(ctx, &mem_180335, &mem_180335_cached_sizze_182394, bytes_180332);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180348_cached_sizze_182395 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_182395, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180349_cached_sizze_182396 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180349, &mem_180349_cached_sizze_182396, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180356_cached_sizze_182397 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180356, &mem_180356_cached_sizze_182397, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180359_cached_sizze_182398 < bytes_180358) {
        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182398, bytes_180358);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180362_cached_sizze_182399 < bytes_180358) {
        err = lexical_realloc(ctx, &mem_180362, &mem_180362_cached_sizze_182399, bytes_180358);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180365_cached_sizze_182400 < bytes_180364) {
        err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_182400, bytes_180364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180368_cached_sizze_182401 < binop_x_180357) {
        err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_182401, binop_x_180357);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180390_cached_sizze_182402 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180390, &mem_180390_cached_sizze_182402, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180392_cached_sizze_182403 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180392, &mem_180392_cached_sizze_182403, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180394_cached_sizze_182404 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180394, &mem_180394_cached_sizze_182404, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180396_cached_sizze_182405 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180396, &mem_180396_cached_sizze_182405, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180398_cached_sizze_182406 < bytes_180389) {
        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_182406, bytes_180389);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180441_cached_sizze_182407 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180441, &mem_180441_cached_sizze_182407, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180442_cached_sizze_182408 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180442, &mem_180442_cached_sizze_182408, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180467_cached_sizze_182409 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180467, &mem_180467_cached_sizze_182409, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180475_cached_sizze_182410 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180475, &mem_180475_cached_sizze_182410, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_167851 = 0; i_167851 < iters_167785; i_167851++) {
        int32_t blocked_radix_sort_step_arg1_167854 = mul32(2, i_167851);
        int32_t get_bit_arg0_167859 = add32(1, blocked_radix_sort_step_arg1_167854);
        bool cond_167860 = get_bit_arg0_167859 == 63;
        bool cond_167861 = blocked_radix_sort_step_arg1_167854 == 63;
        int16_t discard_179960;
        int16_t discard_179961;
        int16_t discard_179962;
        int16_t discard_179963;
        int16_t scanacc_179945;
        int16_t scanacc_179946;
        int16_t scanacc_179947;
        int16_t scanacc_179948;
        
        scanacc_179945 = (int16_t) 0;
        scanacc_179946 = (int16_t) 0;
        scanacc_179947 = (int16_t) 0;
        scanacc_179948 = (int16_t) 0;
        for (int64_t i_179954 = 0; i_179954 < rest_167791; i_179954++) {
            int64_t slice_180167 = arg_167792 + i_179954;
            int64_t eta_p_177865 = ((int64_t *) mem_180283)[slice_180167];
            int32_t defunc_0_get_bit_res_177866;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177866, get_bit_arg0_167859, eta_p_177865) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_177867;
            
            if (cond_167860) {
                int32_t defunc_0_get_bit_res_t_res_177979 = 1 ^ defunc_0_get_bit_res_177866;
                
                defunc_0_get_bit_res_177867 = defunc_0_get_bit_res_t_res_177979;
            } else {
                defunc_0_get_bit_res_177867 = defunc_0_get_bit_res_177866;
            }
            
            int32_t zp_lhs_177869 = mul32(2, defunc_0_get_bit_res_177867);
            int32_t defunc_0_get_bit_res_177870;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177870, blocked_radix_sort_step_arg1_167854, eta_p_177865) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_177871;
            
            if (cond_167861) {
                int32_t defunc_0_get_bit_res_t_res_177980 = 1 ^ defunc_0_get_bit_res_177870;
                
                defunc_0_get_bit_res_177871 = defunc_0_get_bit_res_t_res_177980;
            } else {
                defunc_0_get_bit_res_177871 = defunc_0_get_bit_res_177870;
            }
            
            int32_t i32_arg0_177873 = add32(zp_lhs_177869, defunc_0_get_bit_res_177871);
            int16_t i32_res_177874 = sext_i32_i16(i32_arg0_177873);
            int16_t defunc_0_f_res_177876;
            int16_t defunc_0_f_res_177877;
            int16_t defunc_0_f_res_177878;
            int16_t defunc_0_f_res_177879;
            
            if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177876, &defunc_0_f_res_177877, &defunc_0_f_res_177878, &defunc_0_f_res_177879, i32_res_177874) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_167898 = add16(defunc_0_f_res_177876, scanacc_179945);
            int16_t defunc_0_op_res_167899 = add16(defunc_0_f_res_177877, scanacc_179946);
            int16_t defunc_0_op_res_167900 = add16(defunc_0_f_res_177878, scanacc_179947);
            int16_t defunc_0_op_res_167901 = add16(defunc_0_f_res_177879, scanacc_179948);
            
            ((int16_t *) mem_180293)[i_179954] = defunc_0_op_res_167898;
            ((int16_t *) mem_180295)[i_179954] = defunc_0_op_res_167899;
            ((int16_t *) mem_180297)[i_179954] = defunc_0_op_res_167900;
            ((int16_t *) mem_180299)[i_179954] = defunc_0_op_res_167901;
            ((int16_t *) mem_180301)[i_179954] = i32_res_177874;
            
            int16_t scanacc_tmp_181705 = defunc_0_op_res_167898;
            int16_t scanacc_tmp_181706 = defunc_0_op_res_167899;
            int16_t scanacc_tmp_181707 = defunc_0_op_res_167900;
            int16_t scanacc_tmp_181708 = defunc_0_op_res_167901;
            
            scanacc_179945 = scanacc_tmp_181705;
            scanacc_179946 = scanacc_tmp_181706;
            scanacc_179947 = scanacc_tmp_181707;
            scanacc_179948 = scanacc_tmp_181708;
        }
        discard_179960 = scanacc_179945;
        discard_179961 = scanacc_179946;
        discard_179962 = scanacc_179947;
        discard_179963 = scanacc_179948;
        
        int16_t defunc_0_radix_sort_step_i16_res_167902;
        int16_t defunc_0_radix_sort_step_i16_res_167903;
        int16_t defunc_0_radix_sort_step_i16_res_167904;
        int16_t defunc_0_radix_sort_step_i16_res_167905;
        
        if (empty_slice_167813) {
            defunc_0_radix_sort_step_i16_res_167902 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167903 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167904 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167905 = (int16_t) 0;
        } else {
            int16_t last_res_167906 = ((int16_t *) mem_180293)[m_167814];
            int16_t last_res_167907 = ((int16_t *) mem_180295)[m_167814];
            int16_t last_res_167908 = ((int16_t *) mem_180297)[m_167814];
            int16_t last_res_167909 = ((int16_t *) mem_180299)[m_167814];
            
            defunc_0_radix_sort_step_i16_res_167902 = last_res_167906;
            defunc_0_radix_sort_step_i16_res_167903 = last_res_167907;
            defunc_0_radix_sort_step_i16_res_167904 = last_res_167908;
            defunc_0_radix_sort_step_i16_res_167905 = last_res_167909;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180333, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + (int64_t) 1 * arg_167792, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167791});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180335, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180283, (int64_t) 0 + (int64_t) 1 * arg_167792, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167791});
        for (int64_t write_iter_179964 = 0; write_iter_179964 < rest_167791; write_iter_179964++) {
            int16_t write_iv_179967 = ((int16_t *) mem_180301)[write_iter_179964];
            int16_t write_iv_179968 = ((int16_t *) mem_180293)[write_iter_179964];
            int16_t write_iv_179969 = ((int16_t *) mem_180295)[write_iter_179964];
            int16_t write_iv_179970 = ((int16_t *) mem_180297)[write_iter_179964];
            int16_t write_iv_179971 = ((int16_t *) mem_180299)[write_iter_179964];
            int64_t slice_180166 = arg_167792 + write_iter_179964;
            int64_t write_iv_179972 = ((int64_t *) mem_180283)[slice_180166];
            int64_t write_iv_179973 = ((int64_t *) mem_180285)[slice_180166];
            int64_t defunc_0_f_res_177849;
            
            if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177849, defunc_0_radix_sort_step_i16_res_167902, defunc_0_radix_sort_step_i16_res_167903, defunc_0_radix_sort_step_i16_res_167904, write_iv_179967, write_iv_179968, write_iv_179969, write_iv_179970, write_iv_179971) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177849) && slt64(defunc_0_f_res_177849, rest_167791)) {
                ((int64_t *) mem_180335)[defunc_0_f_res_177849] = write_iv_179972;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177849) && slt64(defunc_0_f_res_177849, rest_167791)) {
                ((int64_t *) mem_180333)[defunc_0_f_res_177849] = write_iv_179973;
            }
        }
        ((int16_t *) mem_180348)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_167902;
        ((int16_t *) mem_180348)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167903;
        ((int16_t *) mem_180348)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_167904;
        ((int16_t *) mem_180348)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_167905;
        for (int64_t i_179978 = 0; i_179978 < (int64_t) 4; i_179978++) {
            int16_t eta_p_167926 = ((int16_t *) mem_180348)[i_179978];
            int64_t i16_res_167927 = sext_i16_i64(eta_p_167926);
            
            ((int64_t *) mem_180349)[i_179978] = i16_res_167927;
        }
        
        int16_t tmp_167928 = add16(defunc_0_radix_sort_step_i16_res_167902, defunc_0_radix_sort_step_i16_res_167903);
        int16_t tmp_167929 = add16(defunc_0_radix_sort_step_i16_res_167904, tmp_167928);
        
        ((int16_t *) mem_180356)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180356)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167902;
        ((int16_t *) mem_180356)[(int64_t) 2] = tmp_167928;
        ((int16_t *) mem_180356)[(int64_t) 3] = tmp_167929;
        for (int64_t i_180028 = 0; i_180028 < n_blocks_167790; i_180028++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180359, i_180028 * i16_res_167786, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180283, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_167786), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167786});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180362, i_180028 * i16_res_167786, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_167786), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167786});
            
            int64_t binop_x_180180 = i16_res_167786 * i_180028;
            int16_t discard_180000;
            int16_t discard_180001;
            int16_t discard_180002;
            int16_t discard_180003;
            int16_t scanacc_179985;
            int16_t scanacc_179986;
            int16_t scanacc_179987;
            int16_t scanacc_179988;
            
            scanacc_179985 = (int16_t) 0;
            scanacc_179986 = (int16_t) 0;
            scanacc_179987 = (int16_t) 0;
            scanacc_179988 = (int16_t) 0;
            for (int64_t i_179994 = 0; i_179994 < i16_res_167786; i_179994++) {
                int64_t new_index_180181 = i_179994 + binop_x_180180;
                int64_t eta_p_177910 = ((int64_t *) mem_180283)[new_index_180181];
                int32_t defunc_0_get_bit_res_177911;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177911, get_bit_arg0_167859, eta_p_177910) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_177912;
                
                if (cond_167860) {
                    int32_t defunc_0_get_bit_res_t_res_177981 = 1 ^ defunc_0_get_bit_res_177911;
                    
                    defunc_0_get_bit_res_177912 = defunc_0_get_bit_res_t_res_177981;
                } else {
                    defunc_0_get_bit_res_177912 = defunc_0_get_bit_res_177911;
                }
                
                int32_t zp_lhs_177914 = mul32(2, defunc_0_get_bit_res_177912);
                int32_t defunc_0_get_bit_res_177915;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177915, blocked_radix_sort_step_arg1_167854, eta_p_177910) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_177916;
                
                if (cond_167861) {
                    int32_t defunc_0_get_bit_res_t_res_177982 = 1 ^ defunc_0_get_bit_res_177915;
                    
                    defunc_0_get_bit_res_177916 = defunc_0_get_bit_res_t_res_177982;
                } else {
                    defunc_0_get_bit_res_177916 = defunc_0_get_bit_res_177915;
                }
                
                int32_t i32_arg0_177918 = add32(zp_lhs_177914, defunc_0_get_bit_res_177916);
                int16_t i32_res_177919 = sext_i32_i16(i32_arg0_177918);
                int16_t defunc_0_f_res_177921;
                int16_t defunc_0_f_res_177922;
                int16_t defunc_0_f_res_177923;
                int16_t defunc_0_f_res_177924;
                
                if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177921, &defunc_0_f_res_177922, &defunc_0_f_res_177923, &defunc_0_f_res_177924, i32_res_177919) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_167979 = add16(defunc_0_f_res_177921, scanacc_179985);
                int16_t defunc_0_op_res_167980 = add16(defunc_0_f_res_177922, scanacc_179986);
                int16_t defunc_0_op_res_167981 = add16(defunc_0_f_res_177923, scanacc_179987);
                int16_t defunc_0_op_res_167982 = add16(defunc_0_f_res_177924, scanacc_179988);
                
                ((int16_t *) mem_180390)[i_179994] = defunc_0_op_res_167979;
                ((int16_t *) mem_180392)[i_179994] = defunc_0_op_res_167980;
                ((int16_t *) mem_180394)[i_179994] = defunc_0_op_res_167981;
                ((int16_t *) mem_180396)[i_179994] = defunc_0_op_res_167982;
                ((int16_t *) mem_180398)[i_179994] = i32_res_177919;
                
                int16_t scanacc_tmp_181721 = defunc_0_op_res_167979;
                int16_t scanacc_tmp_181722 = defunc_0_op_res_167980;
                int16_t scanacc_tmp_181723 = defunc_0_op_res_167981;
                int16_t scanacc_tmp_181724 = defunc_0_op_res_167982;
                
                scanacc_179985 = scanacc_tmp_181721;
                scanacc_179986 = scanacc_tmp_181722;
                scanacc_179987 = scanacc_tmp_181723;
                scanacc_179988 = scanacc_tmp_181724;
            }
            discard_180000 = scanacc_179985;
            discard_180001 = scanacc_179986;
            discard_180002 = scanacc_179987;
            discard_180003 = scanacc_179988;
            
            int16_t defunc_0_f_res_167983;
            int16_t defunc_0_f_res_167984;
            int16_t defunc_0_f_res_167985;
            int16_t defunc_0_f_res_167986;
            
            if (zzero_167787) {
                defunc_0_f_res_167983 = (int16_t) 0;
                defunc_0_f_res_167984 = (int16_t) 0;
                defunc_0_f_res_167985 = (int16_t) 0;
                defunc_0_f_res_167986 = (int16_t) 0;
            } else {
                int16_t last_res_167987 = ((int16_t *) mem_180390)[tmp_167829];
                int16_t last_res_167988 = ((int16_t *) mem_180392)[tmp_167829];
                int16_t last_res_167989 = ((int16_t *) mem_180394)[tmp_167829];
                int16_t last_res_167990 = ((int16_t *) mem_180396)[tmp_167829];
                
                defunc_0_f_res_167983 = last_res_167987;
                defunc_0_f_res_167984 = last_res_167988;
                defunc_0_f_res_167985 = last_res_167989;
                defunc_0_f_res_167986 = last_res_167990;
            }
            for (int64_t write_iter_180004 = 0; write_iter_180004 < i16_res_167786; write_iter_180004++) {
                int16_t write_iv_180007 = ((int16_t *) mem_180398)[write_iter_180004];
                int16_t write_iv_180008 = ((int16_t *) mem_180390)[write_iter_180004];
                int16_t write_iv_180009 = ((int16_t *) mem_180392)[write_iter_180004];
                int16_t write_iv_180010 = ((int16_t *) mem_180394)[write_iter_180004];
                int16_t write_iv_180011 = ((int16_t *) mem_180396)[write_iter_180004];
                int64_t new_index_180177 = write_iter_180004 + binop_x_180180;
                int64_t write_iv_180012 = ((int64_t *) mem_180283)[new_index_180177];
                int64_t write_iv_180013 = ((int64_t *) mem_180285)[new_index_180177];
                int64_t defunc_0_f_res_177894;
                
                if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177894, defunc_0_f_res_167983, defunc_0_f_res_167984, defunc_0_f_res_167985, write_iv_180007, write_iv_180008, write_iv_180009, write_iv_180010, write_iv_180011) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177894) && slt64(defunc_0_f_res_177894, i16_res_167786)) {
                    ((int64_t *) mem_180359)[i_180028 * i16_res_167786 + defunc_0_f_res_177894] = write_iv_180012;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177894) && slt64(defunc_0_f_res_177894, i16_res_167786)) {
                    ((int64_t *) mem_180362)[i_180028 * i16_res_167786 + defunc_0_f_res_177894] = write_iv_180013;
                }
            }
            ((int16_t *) mem_180441)[(int64_t) 0] = defunc_0_f_res_167983;
            ((int16_t *) mem_180441)[(int64_t) 1] = defunc_0_f_res_167984;
            ((int16_t *) mem_180441)[(int64_t) 2] = defunc_0_f_res_167985;
            ((int16_t *) mem_180441)[(int64_t) 3] = defunc_0_f_res_167986;
            for (int64_t i_180018 = 0; i_180018 < (int64_t) 4; i_180018++) {
                int16_t eta_p_168005 = ((int16_t *) mem_180441)[i_180018];
                int64_t i16_res_168006 = sext_i16_i64(eta_p_168005);
                
                ((int64_t *) mem_180442)[i_180018] = i16_res_168006;
            }
            
            int16_t tmp_168007 = add16(defunc_0_f_res_167983, defunc_0_f_res_167984);
            int16_t tmp_168008 = add16(defunc_0_f_res_167985, tmp_168007);
            
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_167983;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 2] = tmp_168007;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 3] = tmp_168008;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180365, i_180028 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180442, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180040;
        int64_t scanacc_180036 = (int64_t) 0;
        
        for (int64_t i_180038 = 0; i_180038 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801; i_180038++) {
            int64_t new_index_180155 = squot64(i_180038, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
            int64_t binop_y_180157 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 * new_index_180155;
            int64_t new_index_180158 = i_180038 - binop_y_180157;
            bool index_concat_cmp_180160 = sle64(n_blocks_167790, new_index_180158);
            int64_t index_concat_branch_180164;
            
            if (index_concat_cmp_180160) {
                int64_t index_concat_180162 = ((int64_t *) mem_180349)[new_index_180155];
                
                index_concat_branch_180164 = index_concat_180162;
            } else {
                int64_t index_concat_180163 = ((int64_t *) mem_180365)[new_index_180158 * (int64_t) 4 + new_index_180155];
                
                index_concat_branch_180164 = index_concat_180163;
            }
            
            int64_t defunc_0_op_res_168020 = add64(scanacc_180036, index_concat_branch_180164);
            
            ((int64_t *) mem_180467)[i_180038] = defunc_0_op_res_168020;
            
            int64_t scanacc_tmp_181733 = defunc_0_op_res_168020;
            
            scanacc_180036 = scanacc_tmp_181733;
        }
        discard_180040 = scanacc_180036;
        for (int64_t i_180043 = 0; i_180043 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801; i_180043++) {
            int64_t zv_lhs_168023 = add64((int64_t) -1, i_180043);
            int64_t tmp_168024 = smod64(zv_lhs_168023, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801);
            int64_t lifted_lambda_res_168025 = ((int64_t *) mem_180467)[tmp_168024];
            
            ((int64_t *) mem_180475)[i_180043] = lifted_lambda_res_168025;
        }
        ((int64_t *) mem_180475)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180045 = 0; write_iter_180045 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793; write_iter_180045++) {
            bool index_concat_cmp_180146 = sle64(arg_167792, write_iter_180045);
            int64_t index_concat_branch_177801;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_177991 = sub64(write_iter_180045, arg_167792);
                int64_t index_concat_177992 = ((int64_t *) mem_180335)[index_concat_i_177991];
                
                index_concat_branch_177801 = index_concat_177992;
            } else {
                int64_t new_index_177804 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_177805 = i16_res_167786 * new_index_177804;
                int64_t new_index_177806 = write_iter_180045 - binop_y_177805;
                int64_t index_concat_177807 = ((int64_t *) mem_180359)[new_index_177804 * i16_res_167786 + new_index_177806];
                
                index_concat_branch_177801 = index_concat_177807;
            }
            
            int32_t zlzb_rhs_177808;
            int32_t acc_177810 = 0;
            
            for (int32_t i_177809 = 0; i_177809 < 2; i_177809++) {
                int32_t get_bit_arg0_177811 = add32(blocked_radix_sort_step_arg1_167854, i_177809);
                int32_t defunc_0_get_bit_res_177812;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_177812, get_bit_arg0_177811, index_concat_branch_177801) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_177813 = get_bit_arg0_177811 == 63;
                int32_t defunc_0_get_bit_res_177814;
                
                if (cond_177813) {
                    int32_t defunc_0_get_bit_res_t_res_177993 = 1 ^ defunc_0_get_bit_res_177812;
                    
                    defunc_0_get_bit_res_177814 = defunc_0_get_bit_res_t_res_177993;
                } else {
                    defunc_0_get_bit_res_177814 = defunc_0_get_bit_res_177812;
                }
                
                int32_t zp_rhs_177816 = shl32(defunc_0_get_bit_res_177814, i_177809);
                int32_t loopres_177817 = add32(acc_177810, zp_rhs_177816);
                int32_t acc_tmp_181738 = loopres_177817;
                
                acc_177810 = acc_tmp_181738;
            }
            zlzb_rhs_177808 = acc_177810;
            
            int64_t i32_res_177818 = sext_i32_i64(zlzb_rhs_177808);
            int64_t block_idx_177819 = sdiv64(write_iter_180045, i16_res_167786);
            bool x_177820 = sle64((int64_t) 0, block_idx_177819);
            bool y_177821 = slt64(block_idx_177819, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
            bool bounds_check_177822 = x_177820 && y_177821;
            bool index_certs_177823;
            
            if (!bounds_check_177822) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177819, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177824 = sle64((int64_t) 0, i32_res_177818);
            bool y_177825 = slt64(i32_res_177818, (int64_t) 4);
            bool bounds_check_177826 = x_177824 && y_177825;
            bool index_certs_177827;
            
            if (!bounds_check_177826) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177818, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t index_concat_branch_180150;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180147 = sub64(write_iter_180045, arg_167792);
                int64_t index_concat_180148 = ((int64_t *) mem_180335)[index_concat_i_180147];
                
                index_concat_branch_180150 = index_concat_180148;
            } else {
                int64_t new_index_180172 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_180174 = i16_res_167786 * new_index_180172;
                int64_t new_index_180175 = write_iter_180045 - binop_y_180174;
                int64_t index_concat_180149 = ((int64_t *) mem_180359)[new_index_180172 * i16_res_167786 + new_index_180175];
                
                index_concat_branch_180150 = index_concat_180149;
            }
            
            int64_t index_concat_branch_180144;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180141 = sub64(write_iter_180045, arg_167792);
                int64_t index_concat_180142 = ((int64_t *) mem_180333)[index_concat_i_180141];
                
                index_concat_branch_180144 = index_concat_180142;
            } else {
                int64_t new_index_180168 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_180170 = i16_res_167786 * new_index_180168;
                int64_t new_index_180171 = write_iter_180045 - binop_y_180170;
                int64_t index_concat_180143 = ((int64_t *) mem_180362)[new_index_180168 * i16_res_167786 + new_index_180171];
                
                index_concat_branch_180144 = index_concat_180143;
            }
            
            int64_t binop_x_177828 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 * i32_res_177818;
            int64_t new_index_177829 = block_idx_177819 + binop_x_177828;
            int64_t new_offset_177830 = ((int64_t *) mem_180475)[new_index_177829];
            bool index_concat_cmp_177831 = sle64(n_blocks_167790, block_idx_177819);
            int16_t index_concat_branch_177832;
            
            if (index_concat_cmp_177831) {
                int16_t index_concat_177994 = ((int16_t *) mem_180356)[i32_res_177818];
                
                index_concat_branch_177832 = index_concat_177994;
            } else {
                int16_t index_concat_177834 = ((int16_t *) mem_180368)[block_idx_177819 * (int64_t) 4 + i32_res_177818];
                
                index_concat_branch_177832 = index_concat_177834;
            }
            
            int64_t i16_res_177835 = sext_i16_i64(index_concat_branch_177832);
            int64_t zp_lhs_177836 = mul64(i16_res_167786, block_idx_177819);
            int64_t old_offset_177837 = add64(i16_res_177835, zp_lhs_177836);
            int64_t zp_lhs_177838 = sub64(write_iter_180045, old_offset_177837);
            int64_t idx_177839 = add64(new_offset_177830, zp_lhs_177838);
            
            if (sle64((int64_t) 0, idx_177839) && slt64(idx_177839, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793)) {
                ((int64_t *) mem_180283)[idx_177839] = index_concat_branch_180150;
            }
            if (sle64((int64_t) 0, idx_177839) && slt64(idx_177839, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793)) {
                ((int64_t *) mem_180285)[idx_177839] = index_concat_branch_180144;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180501, bytes_180500, "mem_180501")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180503, bytes_180500, "mem_180503")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180057 = 0; i_180057 < n_90400; i_180057++) {
        int64_t eta_p_168085 = ((int64_t *) mem_180285)[i_180057];
        bool x_168086 = sle64((int64_t) 0, eta_p_168085);
        bool y_168087 = slt64(eta_p_168085, n_90400);
        bool bounds_check_168088 = x_168086 && y_168087;
        bool index_certs_168089;
        
        if (!bounds_check_168088) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168085, "] out of bounds for array of shape [", (long long) n_90400, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168090 = ((int64_t *) ext_mem_180281.mem)[eta_p_168085];
        int64_t lifted_lambda_res_168091 = ((int64_t *) xs_mem_180280.mem)[eta_p_168085];
        
        ((int64_t *) mem_180501.mem)[i_180057] = lifted_lambda_res_168090;
        ((int64_t *) mem_180503.mem)[i_180057] = lifted_lambda_res_168091;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180501, "mem_180501") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180503, "mem_180503") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182384, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182385, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        free(mem_180285);
        free(mem_180293);
        free(mem_180295);
        free(mem_180297);
        free(mem_180299);
        free(mem_180301);
        free(mem_180333);
        free(mem_180335);
        free(mem_180348);
        free(mem_180349);
        free(mem_180356);
        free(mem_180359);
        free(mem_180362);
        free(mem_180365);
        free(mem_180368);
        free(mem_180390);
        free(mem_180392);
        free(mem_180394);
        free(mem_180396);
        free(mem_180398);
        free(mem_180441);
        free(mem_180442);
        free(mem_180467);
        free(mem_180475);
        if (memblock_unref(ctx, &mem_180503, "mem_180503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180501, "mem_180501") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182411, struct memblock *mem_out_p_182412, struct memblock xs_mem_180280, int64_t n_85183, int64_t incr_85184, int16_t block_sizze_85185)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_180283_cached_sizze_182413 = 0;
    unsigned char *mem_180283 = NULL;
    int64_t mem_180285_cached_sizze_182414 = 0;
    unsigned char *mem_180285 = NULL;
    int64_t mem_180293_cached_sizze_182415 = 0;
    unsigned char *mem_180293 = NULL;
    int64_t mem_180295_cached_sizze_182416 = 0;
    unsigned char *mem_180295 = NULL;
    int64_t mem_180297_cached_sizze_182417 = 0;
    unsigned char *mem_180297 = NULL;
    int64_t mem_180299_cached_sizze_182418 = 0;
    unsigned char *mem_180299 = NULL;
    int64_t mem_180301_cached_sizze_182419 = 0;
    unsigned char *mem_180301 = NULL;
    int64_t mem_180333_cached_sizze_182420 = 0;
    unsigned char *mem_180333 = NULL;
    int64_t mem_180335_cached_sizze_182421 = 0;
    unsigned char *mem_180335 = NULL;
    int64_t mem_180348_cached_sizze_182422 = 0;
    unsigned char *mem_180348 = NULL;
    int64_t mem_180349_cached_sizze_182423 = 0;
    unsigned char *mem_180349 = NULL;
    int64_t mem_180356_cached_sizze_182424 = 0;
    unsigned char *mem_180356 = NULL;
    int64_t mem_180359_cached_sizze_182425 = 0;
    unsigned char *mem_180359 = NULL;
    int64_t mem_180362_cached_sizze_182426 = 0;
    unsigned char *mem_180362 = NULL;
    int64_t mem_180365_cached_sizze_182427 = 0;
    unsigned char *mem_180365 = NULL;
    int64_t mem_180368_cached_sizze_182428 = 0;
    unsigned char *mem_180368 = NULL;
    int64_t mem_180390_cached_sizze_182429 = 0;
    unsigned char *mem_180390 = NULL;
    int64_t mem_180392_cached_sizze_182430 = 0;
    unsigned char *mem_180392 = NULL;
    int64_t mem_180394_cached_sizze_182431 = 0;
    unsigned char *mem_180394 = NULL;
    int64_t mem_180396_cached_sizze_182432 = 0;
    unsigned char *mem_180396 = NULL;
    int64_t mem_180398_cached_sizze_182433 = 0;
    unsigned char *mem_180398 = NULL;
    int64_t mem_180441_cached_sizze_182434 = 0;
    unsigned char *mem_180441 = NULL;
    int64_t mem_180442_cached_sizze_182435 = 0;
    unsigned char *mem_180442 = NULL;
    int64_t mem_180467_cached_sizze_182436 = 0;
    unsigned char *mem_180467 = NULL;
    int64_t mem_180475_cached_sizze_182437 = 0;
    unsigned char *mem_180475 = NULL;
    struct memblock mem_180503;
    
    mem_180503.references = NULL;
    
    struct memblock mem_180501;
    
    mem_180501.references = NULL;
    
    struct memblock ext_mem_180281;
    
    ext_mem_180281.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    bool cond_167784 = n_85183 == (int64_t) 0;
    int32_t iters_167785;
    
    if (cond_167784) {
        iters_167785 = 0;
    } else {
        iters_167785 = 8;
    }
    
    int64_t i16_res_167786 = sext_i16_i64(block_sizze_85185);
    bool zzero_167787 = i16_res_167786 == (int64_t) 0;
    bool nonzzero_167788 = !zzero_167787;
    bool nonzzero_cert_167789;
    
    if (!nonzzero_167788) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_167790 = sdiv64(n_85183, i16_res_167786);
    int64_t rest_167791 = smod64(n_85183, i16_res_167786);
    int64_t arg_167792 = mul64(i16_res_167786, n_blocks_167790);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793 = add64(rest_167791, arg_167792);
    bool dim_match_167794 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793 == n_85183;
    bool empty_or_match_cert_167795;
    
    if (!dim_match_167794) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_85183, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:162:93-96\n   #6  ftsort.fut:16:3-46\n   #7  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180282 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793;
    int64_t bytes_180284 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793;
    bool loop_nonempty_167799 = slt32(0, iters_167785);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 = add64((int64_t) 1, n_blocks_167790);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
    bool empty_slice_167802 = arg_167792 == (int64_t) 0;
    int64_t m_167803 = sub64(arg_167792, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_167804 = sle64((int64_t) 0, m_167803);
    bool i_p_m_t_s_leq_w_167805 = slt64(m_167803, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool i_lte_j_167806 = sle64((int64_t) 0, arg_167792);
    bool y_167807 = zzero_leq_i_p_m_t_s_167804 && i_p_m_t_s_leq_w_167805;
    bool forwards_ok_167808 = i_lte_j_167806 && y_167807;
    bool ok_or_empty_167809 = empty_slice_167802 || forwards_ok_167808;
    bool loop_not_taken_167810 = !loop_nonempty_167799;
    bool protect_assert_disj_167811 = ok_or_empty_167809 || loop_not_taken_167810;
    bool index_certs_167812;
    
    if (!protect_assert_disj_167811) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_167792, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_167813 = rest_167791 == (int64_t) 0;
    int64_t m_167814 = sub64(rest_167791, (int64_t) 1);
    int64_t i_p_m_t_s_167815 = add64(arg_167792, m_167814);
    bool zzero_leq_i_p_m_t_s_167816 = sle64((int64_t) 0, i_p_m_t_s_167815);
    bool i_p_m_t_s_leq_w_167817 = slt64(i_p_m_t_s_167815, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool i_lte_j_167818 = sle64(arg_167792, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793);
    bool y_167819 = zzero_leq_i_p_m_t_s_167816 && i_p_m_t_s_leq_w_167817;
    bool forwards_ok_167820 = i_lte_j_167818 && y_167819;
    bool ok_or_empty_167821 = empty_slice_167813 || forwards_ok_167820;
    bool protect_assert_disj_167822 = loop_not_taken_167810 || ok_or_empty_167821;
    bool index_certs_167823;
    
    if (!protect_assert_disj_167822) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_167792, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_167824 = sle64((int64_t) 0, n_blocks_167790);
    bool binop_y_167825 = sle64((int64_t) 0, i16_res_167786);
    bool binop_y_167826 = binop_x_167824 && binop_y_167825;
    bool protect_assert_disj_167827 = loop_not_taken_167810 || binop_y_167826;
    bool dim_ok_cert_167828;
    
    if (!protect_assert_disj_167827) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_167792, "] to array of shape [", (long long) n_blocks_167790, "][", (long long) i16_res_167786, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:162:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_167829 = sub64(i16_res_167786, (int64_t) 1);
    bool x_167830 = sle64((int64_t) 0, tmp_167829);
    bool y_167831 = slt64(tmp_167829, i16_res_167786);
    bool bounds_check_167832 = x_167830 && y_167831;
    bool protect_assert_disj_167833 = zzero_167787 || bounds_check_167832;
    bool protect_assert_disj_167834 = loop_not_taken_167810 || protect_assert_disj_167833;
    bool index_certs_167835;
    
    if (!protect_assert_disj_167834) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_167829, "] out of bounds for array of shape [", (long long) i16_res_167786, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_167837 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801);
    bool protect_assert_disj_167838 = loop_not_taken_167810 || y_167837;
    bool index_certs_167839;
    
    if (!protect_assert_disj_167838) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_167841 = nonzzero_167788 || loop_not_taken_167810;
    bool nonzzero_cert_167842;
    
    if (!protect_assert_disj_167841) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_167843 = sle64((int64_t) 0, m_167814);
    bool y_167844 = slt64(m_167814, rest_167791);
    bool bounds_check_167845 = x_167843 && y_167844;
    bool protect_assert_disj_167846 = empty_slice_167813 || bounds_check_167845;
    bool protect_assert_disj_167847 = loop_not_taken_167810 || protect_assert_disj_167846;
    bool index_certs_167848;
    
    if (!protect_assert_disj_167847) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_167814, "] out of bounds for array of shape [", (long long) rest_167791, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180292 = (int64_t) 2 * rest_167791;
    int64_t bytes_180332 = (int64_t) 8 * rest_167791;
    int64_t binop_x_180357 = (int64_t) 2 * n_blocks_167790;
    int64_t bytes_180358 = i16_res_167786 * binop_x_180357;
    int64_t binop_x_180360 = (int64_t) 8 * n_blocks_167790;
    int64_t bytes_180361 = i16_res_167786 * binop_x_180360;
    int64_t bytes_180364 = (int64_t) 32 * n_blocks_167790;
    int64_t bytes_180385 = (int64_t) 2 * i16_res_167786;
    int64_t bytes_180466 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800;
    bool dim_match_168080 = n_85183 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793;
    bool empty_or_match_cert_168081;
    
    if (!dim_match_168080) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793, "] cannot match shape of type `[", (long long) n_85183, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:162:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180500 = (int64_t) 8 * n_85183;
    int64_t bytes_180502 = (int64_t) 2 * n_85183;
    
    if (futrts_indicesWithIncrement_9101(ctx, &ext_mem_180281, xs_mem_180280, n_85183, incr_85184) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_180283_cached_sizze_182413 < bytes_180282) {
        err = lexical_realloc(ctx, &mem_180283, &mem_180283_cached_sizze_182413, bytes_180282);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_180283, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) xs_mem_180280.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793});
    if (mem_180285_cached_sizze_182414 < bytes_180284) {
        err = lexical_realloc(ctx, &mem_180285, &mem_180285_cached_sizze_182414, bytes_180284);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_181701 = 0; i_181701 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793; i_181701++) {
        int64_t x_181702 = (int64_t) 0 + i_181701 * (int64_t) 1;
        
        ((int64_t *) mem_180285)[i_181701] = x_181702;
    }
    if (mem_180293_cached_sizze_182415 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180293, &mem_180293_cached_sizze_182415, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180295_cached_sizze_182416 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180295, &mem_180295_cached_sizze_182416, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180297_cached_sizze_182417 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180297, &mem_180297_cached_sizze_182417, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180299_cached_sizze_182418 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180299, &mem_180299_cached_sizze_182418, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180301_cached_sizze_182419 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180301, &mem_180301_cached_sizze_182419, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180333_cached_sizze_182420 < bytes_180332) {
        err = lexical_realloc(ctx, &mem_180333, &mem_180333_cached_sizze_182420, bytes_180332);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180335_cached_sizze_182421 < bytes_180292) {
        err = lexical_realloc(ctx, &mem_180335, &mem_180335_cached_sizze_182421, bytes_180292);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180348_cached_sizze_182422 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180348, &mem_180348_cached_sizze_182422, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180349_cached_sizze_182423 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180349, &mem_180349_cached_sizze_182423, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180356_cached_sizze_182424 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180356, &mem_180356_cached_sizze_182424, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180359_cached_sizze_182425 < bytes_180358) {
        err = lexical_realloc(ctx, &mem_180359, &mem_180359_cached_sizze_182425, bytes_180358);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180362_cached_sizze_182426 < bytes_180361) {
        err = lexical_realloc(ctx, &mem_180362, &mem_180362_cached_sizze_182426, bytes_180361);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180365_cached_sizze_182427 < bytes_180364) {
        err = lexical_realloc(ctx, &mem_180365, &mem_180365_cached_sizze_182427, bytes_180364);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180368_cached_sizze_182428 < binop_x_180360) {
        err = lexical_realloc(ctx, &mem_180368, &mem_180368_cached_sizze_182428, binop_x_180360);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180390_cached_sizze_182429 < bytes_180385) {
        err = lexical_realloc(ctx, &mem_180390, &mem_180390_cached_sizze_182429, bytes_180385);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180392_cached_sizze_182430 < bytes_180385) {
        err = lexical_realloc(ctx, &mem_180392, &mem_180392_cached_sizze_182430, bytes_180385);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180394_cached_sizze_182431 < bytes_180385) {
        err = lexical_realloc(ctx, &mem_180394, &mem_180394_cached_sizze_182431, bytes_180385);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180396_cached_sizze_182432 < bytes_180385) {
        err = lexical_realloc(ctx, &mem_180396, &mem_180396_cached_sizze_182432, bytes_180385);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180398_cached_sizze_182433 < bytes_180385) {
        err = lexical_realloc(ctx, &mem_180398, &mem_180398_cached_sizze_182433, bytes_180385);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180441_cached_sizze_182434 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_180441, &mem_180441_cached_sizze_182434, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180442_cached_sizze_182435 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_180442, &mem_180442_cached_sizze_182435, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180467_cached_sizze_182436 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180467, &mem_180467_cached_sizze_182436, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_180475_cached_sizze_182437 < bytes_180466) {
        err = lexical_realloc(ctx, &mem_180475, &mem_180475_cached_sizze_182437, bytes_180466);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_167851 = 0; i_167851 < iters_167785; i_167851++) {
        int32_t blocked_radix_sort_step_arg1_167854 = mul32(2, i_167851);
        int32_t get_bit_arg0_167859 = add32(1, blocked_radix_sort_step_arg1_167854);
        bool cond_167860 = get_bit_arg0_167859 == 15;
        bool cond_167861 = blocked_radix_sort_step_arg1_167854 == 15;
        int16_t discard_179960;
        int16_t discard_179961;
        int16_t discard_179962;
        int16_t discard_179963;
        int16_t scanacc_179945;
        int16_t scanacc_179946;
        int16_t scanacc_179947;
        int16_t scanacc_179948;
        
        scanacc_179945 = (int16_t) 0;
        scanacc_179946 = (int16_t) 0;
        scanacc_179947 = (int16_t) 0;
        scanacc_179948 = (int16_t) 0;
        for (int64_t i_179954 = 0; i_179954 < rest_167791; i_179954++) {
            int64_t slice_180167 = arg_167792 + i_179954;
            int16_t eta_p_177865 = ((int16_t *) mem_180283)[slice_180167];
            int32_t defunc_0_get_bit_res_177866;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177866, get_bit_arg0_167859, eta_p_177865) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_177867;
            
            if (cond_167860) {
                int32_t defunc_0_get_bit_res_t_res_177979 = 1 ^ defunc_0_get_bit_res_177866;
                
                defunc_0_get_bit_res_177867 = defunc_0_get_bit_res_t_res_177979;
            } else {
                defunc_0_get_bit_res_177867 = defunc_0_get_bit_res_177866;
            }
            
            int32_t zp_lhs_177869 = mul32(2, defunc_0_get_bit_res_177867);
            int32_t defunc_0_get_bit_res_177870;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177870, blocked_radix_sort_step_arg1_167854, eta_p_177865) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_177871;
            
            if (cond_167861) {
                int32_t defunc_0_get_bit_res_t_res_177980 = 1 ^ defunc_0_get_bit_res_177870;
                
                defunc_0_get_bit_res_177871 = defunc_0_get_bit_res_t_res_177980;
            } else {
                defunc_0_get_bit_res_177871 = defunc_0_get_bit_res_177870;
            }
            
            int32_t i32_arg0_177873 = add32(zp_lhs_177869, defunc_0_get_bit_res_177871);
            int16_t i32_res_177874 = sext_i32_i16(i32_arg0_177873);
            int16_t defunc_0_f_res_177876;
            int16_t defunc_0_f_res_177877;
            int16_t defunc_0_f_res_177878;
            int16_t defunc_0_f_res_177879;
            
            if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177876, &defunc_0_f_res_177877, &defunc_0_f_res_177878, &defunc_0_f_res_177879, i32_res_177874) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_167898 = add16(defunc_0_f_res_177876, scanacc_179945);
            int16_t defunc_0_op_res_167899 = add16(defunc_0_f_res_177877, scanacc_179946);
            int16_t defunc_0_op_res_167900 = add16(defunc_0_f_res_177878, scanacc_179947);
            int16_t defunc_0_op_res_167901 = add16(defunc_0_f_res_177879, scanacc_179948);
            
            ((int16_t *) mem_180293)[i_179954] = defunc_0_op_res_167898;
            ((int16_t *) mem_180295)[i_179954] = defunc_0_op_res_167899;
            ((int16_t *) mem_180297)[i_179954] = defunc_0_op_res_167900;
            ((int16_t *) mem_180299)[i_179954] = defunc_0_op_res_167901;
            ((int16_t *) mem_180301)[i_179954] = i32_res_177874;
            
            int16_t scanacc_tmp_181705 = defunc_0_op_res_167898;
            int16_t scanacc_tmp_181706 = defunc_0_op_res_167899;
            int16_t scanacc_tmp_181707 = defunc_0_op_res_167900;
            int16_t scanacc_tmp_181708 = defunc_0_op_res_167901;
            
            scanacc_179945 = scanacc_tmp_181705;
            scanacc_179946 = scanacc_tmp_181706;
            scanacc_179947 = scanacc_tmp_181707;
            scanacc_179948 = scanacc_tmp_181708;
        }
        discard_179960 = scanacc_179945;
        discard_179961 = scanacc_179946;
        discard_179962 = scanacc_179947;
        discard_179963 = scanacc_179948;
        
        int16_t defunc_0_radix_sort_step_i16_res_167902;
        int16_t defunc_0_radix_sort_step_i16_res_167903;
        int16_t defunc_0_radix_sort_step_i16_res_167904;
        int16_t defunc_0_radix_sort_step_i16_res_167905;
        
        if (empty_slice_167813) {
            defunc_0_radix_sort_step_i16_res_167902 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167903 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167904 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_167905 = (int16_t) 0;
        } else {
            int16_t last_res_167906 = ((int16_t *) mem_180293)[m_167814];
            int16_t last_res_167907 = ((int16_t *) mem_180295)[m_167814];
            int16_t last_res_167908 = ((int16_t *) mem_180297)[m_167814];
            int16_t last_res_167909 = ((int16_t *) mem_180299)[m_167814];
            
            defunc_0_radix_sort_step_i16_res_167902 = last_res_167906;
            defunc_0_radix_sort_step_i16_res_167903 = last_res_167907;
            defunc_0_radix_sort_step_i16_res_167904 = last_res_167908;
            defunc_0_radix_sort_step_i16_res_167905 = last_res_167909;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_180333, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + (int64_t) 1 * arg_167792, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167791});
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_180335, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180283, (int64_t) 0 + (int64_t) 1 * arg_167792, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_167791});
        for (int64_t write_iter_179964 = 0; write_iter_179964 < rest_167791; write_iter_179964++) {
            int16_t write_iv_179967 = ((int16_t *) mem_180301)[write_iter_179964];
            int16_t write_iv_179968 = ((int16_t *) mem_180293)[write_iter_179964];
            int16_t write_iv_179969 = ((int16_t *) mem_180295)[write_iter_179964];
            int16_t write_iv_179970 = ((int16_t *) mem_180297)[write_iter_179964];
            int16_t write_iv_179971 = ((int16_t *) mem_180299)[write_iter_179964];
            int64_t slice_180166 = arg_167792 + write_iter_179964;
            int16_t write_iv_179972 = ((int16_t *) mem_180283)[slice_180166];
            int64_t write_iv_179973 = ((int64_t *) mem_180285)[slice_180166];
            int64_t defunc_0_f_res_177849;
            
            if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177849, defunc_0_radix_sort_step_i16_res_167902, defunc_0_radix_sort_step_i16_res_167903, defunc_0_radix_sort_step_i16_res_167904, write_iv_179967, write_iv_179968, write_iv_179969, write_iv_179970, write_iv_179971) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177849) && slt64(defunc_0_f_res_177849, rest_167791)) {
                ((int16_t *) mem_180335)[defunc_0_f_res_177849] = write_iv_179972;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_177849) && slt64(defunc_0_f_res_177849, rest_167791)) {
                ((int64_t *) mem_180333)[defunc_0_f_res_177849] = write_iv_179973;
            }
        }
        ((int16_t *) mem_180348)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_167902;
        ((int16_t *) mem_180348)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167903;
        ((int16_t *) mem_180348)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_167904;
        ((int16_t *) mem_180348)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_167905;
        for (int64_t i_179978 = 0; i_179978 < (int64_t) 4; i_179978++) {
            int16_t eta_p_167926 = ((int16_t *) mem_180348)[i_179978];
            int64_t i16_res_167927 = sext_i16_i64(eta_p_167926);
            
            ((int64_t *) mem_180349)[i_179978] = i16_res_167927;
        }
        
        int16_t tmp_167928 = add16(defunc_0_radix_sort_step_i16_res_167902, defunc_0_radix_sort_step_i16_res_167903);
        int16_t tmp_167929 = add16(defunc_0_radix_sort_step_i16_res_167904, tmp_167928);
        
        ((int16_t *) mem_180356)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_180356)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_167902;
        ((int16_t *) mem_180356)[(int64_t) 2] = tmp_167928;
        ((int16_t *) mem_180356)[(int64_t) 3] = tmp_167929;
        for (int64_t i_180028 = 0; i_180028 < n_blocks_167790; i_180028++) {
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_180359, i_180028 * i16_res_167786, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_180283, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_167786), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167786});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180362, i_180028 * i16_res_167786, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180285, (int64_t) 0 + i_180028 * ((int64_t) 1 * i16_res_167786), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_167786});
            
            int64_t binop_x_180180 = i16_res_167786 * i_180028;
            int16_t discard_180000;
            int16_t discard_180001;
            int16_t discard_180002;
            int16_t discard_180003;
            int16_t scanacc_179985;
            int16_t scanacc_179986;
            int16_t scanacc_179987;
            int16_t scanacc_179988;
            
            scanacc_179985 = (int16_t) 0;
            scanacc_179986 = (int16_t) 0;
            scanacc_179987 = (int16_t) 0;
            scanacc_179988 = (int16_t) 0;
            for (int64_t i_179994 = 0; i_179994 < i16_res_167786; i_179994++) {
                int64_t new_index_180181 = i_179994 + binop_x_180180;
                int16_t eta_p_177910 = ((int16_t *) mem_180283)[new_index_180181];
                int32_t defunc_0_get_bit_res_177911;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177911, get_bit_arg0_167859, eta_p_177910) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_177912;
                
                if (cond_167860) {
                    int32_t defunc_0_get_bit_res_t_res_177981 = 1 ^ defunc_0_get_bit_res_177911;
                    
                    defunc_0_get_bit_res_177912 = defunc_0_get_bit_res_t_res_177981;
                } else {
                    defunc_0_get_bit_res_177912 = defunc_0_get_bit_res_177911;
                }
                
                int32_t zp_lhs_177914 = mul32(2, defunc_0_get_bit_res_177912);
                int32_t defunc_0_get_bit_res_177915;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177915, blocked_radix_sort_step_arg1_167854, eta_p_177910) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_177916;
                
                if (cond_167861) {
                    int32_t defunc_0_get_bit_res_t_res_177982 = 1 ^ defunc_0_get_bit_res_177915;
                    
                    defunc_0_get_bit_res_177916 = defunc_0_get_bit_res_t_res_177982;
                } else {
                    defunc_0_get_bit_res_177916 = defunc_0_get_bit_res_177915;
                }
                
                int32_t i32_arg0_177918 = add32(zp_lhs_177914, defunc_0_get_bit_res_177916);
                int16_t i32_res_177919 = sext_i32_i16(i32_arg0_177918);
                int16_t defunc_0_f_res_177921;
                int16_t defunc_0_f_res_177922;
                int16_t defunc_0_f_res_177923;
                int16_t defunc_0_f_res_177924;
                
                if (futrts_lifted_lambda_9064(ctx, &defunc_0_f_res_177921, &defunc_0_f_res_177922, &defunc_0_f_res_177923, &defunc_0_f_res_177924, i32_res_177919) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_167979 = add16(defunc_0_f_res_177921, scanacc_179985);
                int16_t defunc_0_op_res_167980 = add16(defunc_0_f_res_177922, scanacc_179986);
                int16_t defunc_0_op_res_167981 = add16(defunc_0_f_res_177923, scanacc_179987);
                int16_t defunc_0_op_res_167982 = add16(defunc_0_f_res_177924, scanacc_179988);
                
                ((int16_t *) mem_180390)[i_179994] = defunc_0_op_res_167979;
                ((int16_t *) mem_180392)[i_179994] = defunc_0_op_res_167980;
                ((int16_t *) mem_180394)[i_179994] = defunc_0_op_res_167981;
                ((int16_t *) mem_180396)[i_179994] = defunc_0_op_res_167982;
                ((int16_t *) mem_180398)[i_179994] = i32_res_177919;
                
                int16_t scanacc_tmp_181721 = defunc_0_op_res_167979;
                int16_t scanacc_tmp_181722 = defunc_0_op_res_167980;
                int16_t scanacc_tmp_181723 = defunc_0_op_res_167981;
                int16_t scanacc_tmp_181724 = defunc_0_op_res_167982;
                
                scanacc_179985 = scanacc_tmp_181721;
                scanacc_179986 = scanacc_tmp_181722;
                scanacc_179987 = scanacc_tmp_181723;
                scanacc_179988 = scanacc_tmp_181724;
            }
            discard_180000 = scanacc_179985;
            discard_180001 = scanacc_179986;
            discard_180002 = scanacc_179987;
            discard_180003 = scanacc_179988;
            
            int16_t defunc_0_f_res_167983;
            int16_t defunc_0_f_res_167984;
            int16_t defunc_0_f_res_167985;
            int16_t defunc_0_f_res_167986;
            
            if (zzero_167787) {
                defunc_0_f_res_167983 = (int16_t) 0;
                defunc_0_f_res_167984 = (int16_t) 0;
                defunc_0_f_res_167985 = (int16_t) 0;
                defunc_0_f_res_167986 = (int16_t) 0;
            } else {
                int16_t last_res_167987 = ((int16_t *) mem_180390)[tmp_167829];
                int16_t last_res_167988 = ((int16_t *) mem_180392)[tmp_167829];
                int16_t last_res_167989 = ((int16_t *) mem_180394)[tmp_167829];
                int16_t last_res_167990 = ((int16_t *) mem_180396)[tmp_167829];
                
                defunc_0_f_res_167983 = last_res_167987;
                defunc_0_f_res_167984 = last_res_167988;
                defunc_0_f_res_167985 = last_res_167989;
                defunc_0_f_res_167986 = last_res_167990;
            }
            for (int64_t write_iter_180004 = 0; write_iter_180004 < i16_res_167786; write_iter_180004++) {
                int16_t write_iv_180007 = ((int16_t *) mem_180398)[write_iter_180004];
                int16_t write_iv_180008 = ((int16_t *) mem_180390)[write_iter_180004];
                int16_t write_iv_180009 = ((int16_t *) mem_180392)[write_iter_180004];
                int16_t write_iv_180010 = ((int16_t *) mem_180394)[write_iter_180004];
                int16_t write_iv_180011 = ((int16_t *) mem_180396)[write_iter_180004];
                int64_t new_index_180177 = write_iter_180004 + binop_x_180180;
                int16_t write_iv_180012 = ((int16_t *) mem_180283)[new_index_180177];
                int64_t write_iv_180013 = ((int64_t *) mem_180285)[new_index_180177];
                int64_t defunc_0_f_res_177894;
                
                if (futrts_lifted_f_9065(ctx, &defunc_0_f_res_177894, defunc_0_f_res_167983, defunc_0_f_res_167984, defunc_0_f_res_167985, write_iv_180007, write_iv_180008, write_iv_180009, write_iv_180010, write_iv_180011) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177894) && slt64(defunc_0_f_res_177894, i16_res_167786)) {
                    ((int16_t *) mem_180359)[i_180028 * i16_res_167786 + defunc_0_f_res_177894] = write_iv_180012;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_177894) && slt64(defunc_0_f_res_177894, i16_res_167786)) {
                    ((int64_t *) mem_180362)[i_180028 * i16_res_167786 + defunc_0_f_res_177894] = write_iv_180013;
                }
            }
            ((int16_t *) mem_180441)[(int64_t) 0] = defunc_0_f_res_167983;
            ((int16_t *) mem_180441)[(int64_t) 1] = defunc_0_f_res_167984;
            ((int16_t *) mem_180441)[(int64_t) 2] = defunc_0_f_res_167985;
            ((int16_t *) mem_180441)[(int64_t) 3] = defunc_0_f_res_167986;
            for (int64_t i_180018 = 0; i_180018 < (int64_t) 4; i_180018++) {
                int16_t eta_p_168005 = ((int16_t *) mem_180441)[i_180018];
                int64_t i16_res_168006 = sext_i16_i64(eta_p_168005);
                
                ((int64_t *) mem_180442)[i_180018] = i16_res_168006;
            }
            
            int16_t tmp_168007 = add16(defunc_0_f_res_167983, defunc_0_f_res_167984);
            int16_t tmp_168008 = add16(defunc_0_f_res_167985, tmp_168007);
            
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_167983;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 2] = tmp_168007;
            ((int16_t *) mem_180368)[i_180028 * (int64_t) 4 + (int64_t) 3] = tmp_168008;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_180365, i_180028 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_180442, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180040;
        int64_t scanacc_180036 = (int64_t) 0;
        
        for (int64_t i_180038 = 0; i_180038 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801; i_180038++) {
            int64_t new_index_180155 = squot64(i_180038, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
            int64_t binop_y_180157 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 * new_index_180155;
            int64_t new_index_180158 = i_180038 - binop_y_180157;
            bool index_concat_cmp_180160 = sle64(n_blocks_167790, new_index_180158);
            int64_t index_concat_branch_180164;
            
            if (index_concat_cmp_180160) {
                int64_t index_concat_180162 = ((int64_t *) mem_180349)[new_index_180155];
                
                index_concat_branch_180164 = index_concat_180162;
            } else {
                int64_t index_concat_180163 = ((int64_t *) mem_180365)[new_index_180158 * (int64_t) 4 + new_index_180155];
                
                index_concat_branch_180164 = index_concat_180163;
            }
            
            int64_t defunc_0_op_res_168020 = add64(scanacc_180036, index_concat_branch_180164);
            
            ((int64_t *) mem_180467)[i_180038] = defunc_0_op_res_168020;
            
            int64_t scanacc_tmp_181733 = defunc_0_op_res_168020;
            
            scanacc_180036 = scanacc_tmp_181733;
        }
        discard_180040 = scanacc_180036;
        for (int64_t i_180043 = 0; i_180043 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801; i_180043++) {
            int64_t zv_lhs_168023 = add64((int64_t) -1, i_180043);
            int64_t tmp_168024 = smod64(zv_lhs_168023, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_167801);
            int64_t lifted_lambda_res_168025 = ((int64_t *) mem_180467)[tmp_168024];
            
            ((int64_t *) mem_180475)[i_180043] = lifted_lambda_res_168025;
        }
        ((int64_t *) mem_180475)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180045 = 0; write_iter_180045 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793; write_iter_180045++) {
            bool index_concat_cmp_180146 = sle64(arg_167792, write_iter_180045);
            int16_t index_concat_branch_177801;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_177991 = sub64(write_iter_180045, arg_167792);
                int16_t index_concat_177992 = ((int16_t *) mem_180335)[index_concat_i_177991];
                
                index_concat_branch_177801 = index_concat_177992;
            } else {
                int64_t new_index_177804 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_177805 = i16_res_167786 * new_index_177804;
                int64_t new_index_177806 = write_iter_180045 - binop_y_177805;
                int16_t index_concat_177807 = ((int16_t *) mem_180359)[new_index_177804 * i16_res_167786 + new_index_177806];
                
                index_concat_branch_177801 = index_concat_177807;
            }
            
            int32_t zlzb_rhs_177808;
            int32_t acc_177810 = 0;
            
            for (int32_t i_177809 = 0; i_177809 < 2; i_177809++) {
                int32_t get_bit_arg0_177811 = add32(blocked_radix_sort_step_arg1_167854, i_177809);
                int32_t defunc_0_get_bit_res_177812;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_177812, get_bit_arg0_177811, index_concat_branch_177801) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_177813 = get_bit_arg0_177811 == 15;
                int32_t defunc_0_get_bit_res_177814;
                
                if (cond_177813) {
                    int32_t defunc_0_get_bit_res_t_res_177993 = 1 ^ defunc_0_get_bit_res_177812;
                    
                    defunc_0_get_bit_res_177814 = defunc_0_get_bit_res_t_res_177993;
                } else {
                    defunc_0_get_bit_res_177814 = defunc_0_get_bit_res_177812;
                }
                
                int32_t zp_rhs_177816 = shl32(defunc_0_get_bit_res_177814, i_177809);
                int32_t loopres_177817 = add32(acc_177810, zp_rhs_177816);
                int32_t acc_tmp_181738 = loopres_177817;
                
                acc_177810 = acc_tmp_181738;
            }
            zlzb_rhs_177808 = acc_177810;
            
            int64_t i32_res_177818 = sext_i32_i64(zlzb_rhs_177808);
            int64_t block_idx_177819 = sdiv64(write_iter_180045, i16_res_167786);
            bool x_177820 = sle64((int64_t) 0, block_idx_177819);
            bool y_177821 = slt64(block_idx_177819, dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800);
            bool bounds_check_177822 = x_177820 && y_177821;
            bool index_certs_177823;
            
            if (!bounds_check_177822) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_177819, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_177824 = sle64((int64_t) 0, i32_res_177818);
            bool y_177825 = slt64(i32_res_177818, (int64_t) 4);
            bool bounds_check_177826 = x_177824 && y_177825;
            bool index_certs_177827;
            
            if (!bounds_check_177826) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_177818, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:162:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int16_t index_concat_branch_180150;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180147 = sub64(write_iter_180045, arg_167792);
                int16_t index_concat_180148 = ((int16_t *) mem_180335)[index_concat_i_180147];
                
                index_concat_branch_180150 = index_concat_180148;
            } else {
                int64_t new_index_180172 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_180174 = i16_res_167786 * new_index_180172;
                int64_t new_index_180175 = write_iter_180045 - binop_y_180174;
                int16_t index_concat_180149 = ((int16_t *) mem_180359)[new_index_180172 * i16_res_167786 + new_index_180175];
                
                index_concat_branch_180150 = index_concat_180149;
            }
            
            int64_t index_concat_branch_180144;
            
            if (index_concat_cmp_180146) {
                int64_t index_concat_i_180141 = sub64(write_iter_180045, arg_167792);
                int64_t index_concat_180142 = ((int64_t *) mem_180333)[index_concat_i_180141];
                
                index_concat_branch_180144 = index_concat_180142;
            } else {
                int64_t new_index_180168 = squot64(write_iter_180045, i16_res_167786);
                int64_t binop_y_180170 = i16_res_167786 * new_index_180168;
                int64_t new_index_180171 = write_iter_180045 - binop_y_180170;
                int64_t index_concat_180143 = ((int64_t *) mem_180362)[new_index_180168 * i16_res_167786 + new_index_180171];
                
                index_concat_branch_180144 = index_concat_180143;
            }
            
            int64_t binop_x_177828 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_167800 * i32_res_177818;
            int64_t new_index_177829 = block_idx_177819 + binop_x_177828;
            int64_t new_offset_177830 = ((int64_t *) mem_180475)[new_index_177829];
            bool index_concat_cmp_177831 = sle64(n_blocks_167790, block_idx_177819);
            int16_t index_concat_branch_177832;
            
            if (index_concat_cmp_177831) {
                int16_t index_concat_177994 = ((int16_t *) mem_180356)[i32_res_177818];
                
                index_concat_branch_177832 = index_concat_177994;
            } else {
                int16_t index_concat_177834 = ((int16_t *) mem_180368)[block_idx_177819 * (int64_t) 4 + i32_res_177818];
                
                index_concat_branch_177832 = index_concat_177834;
            }
            
            int64_t i16_res_177835 = sext_i16_i64(index_concat_branch_177832);
            int64_t zp_lhs_177836 = mul64(i16_res_167786, block_idx_177819);
            int64_t old_offset_177837 = add64(i16_res_177835, zp_lhs_177836);
            int64_t zp_lhs_177838 = sub64(write_iter_180045, old_offset_177837);
            int64_t idx_177839 = add64(new_offset_177830, zp_lhs_177838);
            
            if (sle64((int64_t) 0, idx_177839) && slt64(idx_177839, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793)) {
                ((int16_t *) mem_180283)[idx_177839] = index_concat_branch_180150;
            }
            if (sle64((int64_t) 0, idx_177839) && slt64(idx_177839, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_167793)) {
                ((int64_t *) mem_180285)[idx_177839] = index_concat_branch_180144;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_180501, bytes_180500, "mem_180501")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_180503, bytes_180502, "mem_180503")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180057 = 0; i_180057 < n_85183; i_180057++) {
        int64_t eta_p_168085 = ((int64_t *) mem_180285)[i_180057];
        bool x_168086 = sle64((int64_t) 0, eta_p_168085);
        bool y_168087 = slt64(eta_p_168085, n_85183);
        bool bounds_check_168088 = x_168086 && y_168087;
        bool index_certs_168089;
        
        if (!bounds_check_168088) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168085, "] out of bounds for array of shape [", (long long) n_85183, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:162:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168090 = ((int64_t *) ext_mem_180281.mem)[eta_p_168085];
        int16_t lifted_lambda_res_168091 = ((int16_t *) xs_mem_180280.mem)[eta_p_168085];
        
        ((int64_t *) mem_180501.mem)[i_180057] = lifted_lambda_res_168090;
        ((int16_t *) mem_180503.mem)[i_180057] = lifted_lambda_res_168091;
    }
    if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181699, &mem_180501, "mem_180501") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_181700, &mem_180503, "mem_180503") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182411, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182412, &mem_out_181700, "mem_out_181700") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_180283);
        free(mem_180285);
        free(mem_180293);
        free(mem_180295);
        free(mem_180297);
        free(mem_180299);
        free(mem_180301);
        free(mem_180333);
        free(mem_180335);
        free(mem_180348);
        free(mem_180349);
        free(mem_180356);
        free(mem_180359);
        free(mem_180362);
        free(mem_180365);
        free(mem_180368);
        free(mem_180390);
        free(mem_180392);
        free(mem_180394);
        free(mem_180396);
        free(mem_180398);
        free(mem_180441);
        free(mem_180442);
        free(mem_180467);
        free(mem_180475);
        if (memblock_unref(ctx, &mem_180503, "mem_180503") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_180501, "mem_180501") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_180281, "ext_mem_180281") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181700, "mem_out_181700") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_182438, int32_t bit_83031, int16_t x_83032)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_181699;
    int16_t i32_res_162559 = sext_i32_i16(bit_83031);
    int16_t zgzg_res_162562 = ashr16(x_83032, i32_res_162559);
    int16_t za_res_162567 = (int16_t) 1 & zgzg_res_162562;
    int32_t to_i32_res_162569 = sext_i16_i32(za_res_162567);
    
    prim_out_181699 = to_i32_res_162569;
    *out_prim_out_182438 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_182439, int32_t bit_88248, int64_t x_88249)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_181699;
    int64_t i32_res_162559 = sext_i32_i64(bit_88248);
    int64_t zgzg_res_162562 = ashr64(x_88249, i32_res_162559);
    int64_t za_res_162567 = (int64_t) 1 & zgzg_res_162562;
    int32_t to_i32_res_162569 = sext_i64_i32(za_res_162567);
    
    prim_out_181699 = to_i32_res_162569;
    *out_prim_out_182439 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_182440, int64_t upper_bound_95930, int64_t n_95931)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181699;
    bool upper_bound_95932 = sle64((int64_t) 1, upper_bound_95930);
    bool assert_c_95934;
    
    if (!upper_bound_95932) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_95943 = slt64(upper_bound_95930, n_95931);
    bool d_95952;
    int64_t d_95953;
    bool loop_while_95954;
    int64_t d_95955;
    
    loop_while_95954 = cond_95943;
    d_95955 = (int64_t) 1;
    while (loop_while_95954) {
        int64_t loopres_95956 = add64((int64_t) 1, d_95955);
        bool zzero_95958 = loopres_95956 == (int64_t) 0;
        bool nonzzero_95959 = !zzero_95958;
        bool nonzzero_cert_95960;
        
        if (!nonzzero_95959) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_95961 = sdiv64(n_95931, loopres_95956);
        bool cond_95963 = slt64(upper_bound_95930, zg_lhs_95961);
        bool loop_cond_95964;
        
        if (cond_95963) {
            loop_cond_95964 = 1;
        } else {
            int64_t znze_lhs_95968 = smod64(n_95931, loopres_95956);
            bool loop_cond_f_res_95970 = znze_lhs_95968 == (int64_t) 0;
            bool loop_cond_f_res_95971 = !loop_cond_f_res_95970;
            
            loop_cond_95964 = loop_cond_f_res_95971;
        }
        
        bool loop_while_tmp_181700 = loop_cond_95964;
        int64_t d_tmp_181701 = loopres_95956;
        
        loop_while_95954 = loop_while_tmp_181700;
        d_95955 = d_tmp_181701;
    }
    d_95952 = loop_while_95954;
    d_95953 = d_95955;
    
    bool zzero_95973 = d_95953 == (int64_t) 0;
    bool nonzzero_95974 = !zzero_95973;
    bool nonzzero_cert_95975;
    
    if (!nonzzero_95974) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_95976 = sdiv64(n_95931, d_95953);
    
    prim_out_181699 = greatest_divisor_leq_than_res_95976;
    *out_prim_out_182440 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9101(struct futhark_context *ctx, struct memblock *mem_out_p_182441, struct memblock xs_mem_180280, int64_t n_82328, int64_t incr_82329)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t rng_82334 = add64(n_82328, incr_82329);
    bool bounds_invalid_upwards_82338 = slt64(rng_82334, incr_82329);
    bool valid_82343 = !bounds_invalid_upwards_82338;
    bool range_valid_c_82344;
    
    if (!valid_82343) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_82329, "..<", (long long) rng_82334, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180281 = (int64_t) 8 * n_82328;
    
    if (memblock_alloc(ctx, &mem_180282, bytes_180281, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181700 = 0; i_181700 < n_82328; i_181700++) {
        int64_t x_181701 = incr_82329 + i_181700 * (int64_t) 1;
        
        ((int64_t *) mem_180282.mem)[i_181700] = x_181701;
    }
    if (memblock_set(ctx, &mem_out_181699, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182441, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9256(struct futhark_context *ctx, struct memblock *mem_out_p_182442, struct memblock xs_mem_180280, int64_t n_85208, int64_t incr_85209)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t rng_85214 = add64(n_85208, incr_85209);
    bool bounds_invalid_upwards_85218 = slt64(rng_85214, incr_85209);
    bool valid_85223 = !bounds_invalid_upwards_85218;
    bool range_valid_c_85224;
    
    if (!valid_85223) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_85209, "..<", (long long) rng_85214, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180281 = (int64_t) 8 * n_85208;
    
    if (memblock_alloc(ctx, &mem_180282, bytes_180281, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181700 = 0; i_181700 < n_85208; i_181700++) {
        int64_t x_181701 = incr_85209 + i_181700 * (int64_t) 1;
        
        ((int64_t *) mem_180282.mem)[i_181700] = x_181701;
    }
    if (memblock_set(ctx, &mem_out_181699, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182442, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9366(struct futhark_context *ctx, struct memblock *mem_out_p_182443, struct memblock xs_mem_180280, int64_t n_87825, int64_t incr_87826)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t rng_87831 = add64(n_87825, incr_87826);
    bool bounds_invalid_upwards_87835 = slt64(rng_87831, incr_87826);
    bool valid_87840 = !bounds_invalid_upwards_87835;
    bool range_valid_c_87841;
    
    if (!valid_87840) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_87826, "..<", (long long) rng_87831, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180281 = (int64_t) 8 * n_87825;
    
    if (memblock_alloc(ctx, &mem_180282, bytes_180281, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181700 = 0; i_181700 < n_87825; i_181700++) {
        int64_t x_181701 = incr_87826 + i_181700 * (int64_t) 1;
        
        ((int64_t *) mem_180282.mem)[i_181700] = x_181701;
    }
    if (memblock_set(ctx, &mem_out_181699, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182443, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9466(struct futhark_context *ctx, struct memblock *mem_out_p_182444, struct memblock xs_mem_180280, int64_t n_90425, int64_t incr_90426)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t rng_90431 = add64(n_90425, incr_90426);
    bool bounds_invalid_upwards_90435 = slt64(rng_90431, incr_90426);
    bool valid_90440 = !bounds_invalid_upwards_90435;
    bool range_valid_c_90441;
    
    if (!valid_90440) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_90426, "..<", (long long) rng_90431, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180281 = (int64_t) 8 * n_90425;
    
    if (memblock_alloc(ctx, &mem_180282, bytes_180281, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181700 = 0; i_181700 < n_90425; i_181700++) {
        int64_t x_181701 = incr_90426 + i_181700 * (int64_t) 1;
        
        ((int64_t *) mem_180282.mem)[i_181700] = x_181701;
    }
    if (memblock_set(ctx, &mem_out_181699, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182444, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9575(struct futhark_context *ctx, struct memblock *mem_out_p_182445, struct memblock xs_mem_180280, int64_t n_93176, int64_t incr_93177)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_180282;
    
    mem_180282.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    int64_t rng_93182 = add64(n_93176, incr_93177);
    bool bounds_invalid_upwards_93186 = slt64(rng_93182, incr_93177);
    bool valid_93191 = !bounds_invalid_upwards_93186;
    bool range_valid_c_93192;
    
    if (!valid_93191) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_93177, "..<", (long long) rng_93182, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_180281 = (int64_t) 8 * n_93176;
    
    if (memblock_alloc(ctx, &mem_180282, bytes_180281, "mem_180282")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_181700 = 0; i_181700 < n_93176; i_181700++) {
        int64_t x_181701 = incr_93177 + i_181700 * (int64_t) 1;
        
        ((int64_t *) mem_180282.mem)[i_181700] = x_181701;
    }
    if (memblock_set(ctx, &mem_out_181699, &mem_180282, "mem_180282") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182445, &mem_out_181699, "mem_out_181699") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_180282, "mem_180282") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_181699, "mem_out_181699") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_f_9065(struct futhark_context *ctx, int64_t *out_prim_out_182446, int16_t na_82555, int16_t nb_82556, int16_t nc_82557, int16_t bin_82558, int16_t a_82559, int16_t b_82560, int16_t c_82561, int16_t d_82562)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181699;
    bool bool_arg0_82563 = bin_82558 == (int16_t) 0;
    int16_t bool_res_162559 = btoi_bool_i16(bool_arg0_82563);
    int16_t zp_rhs_82567 = mul16(a_82559, bool_res_162559);
    int16_t zp_lhs_82570 = add16((int16_t) -1, zp_rhs_82567);
    bool bool_arg0_82572 = slt16((int16_t) 0, bin_82558);
    int16_t bool_res_162561 = btoi_bool_i16(bool_arg0_82572);
    int16_t zp_rhs_82576 = mul16(na_82555, bool_res_162561);
    int16_t zp_lhs_82578 = add16(zp_lhs_82570, zp_rhs_82576);
    bool bool_arg0_82580 = bin_82558 == (int16_t) 1;
    int16_t bool_res_162563 = btoi_bool_i16(bool_arg0_82580);
    int16_t zp_rhs_82584 = mul16(b_82560, bool_res_162563);
    int16_t zp_lhs_82586 = add16(zp_lhs_82578, zp_rhs_82584);
    bool bool_arg0_82588 = slt16((int16_t) 1, bin_82558);
    int16_t bool_res_162565 = btoi_bool_i16(bool_arg0_82588);
    int16_t zp_rhs_82592 = mul16(nb_82556, bool_res_162565);
    int16_t zp_lhs_82594 = add16(zp_lhs_82586, zp_rhs_82592);
    bool bool_arg0_82596 = bin_82558 == (int16_t) 2;
    int16_t bool_res_162567 = btoi_bool_i16(bool_arg0_82596);
    int16_t zp_rhs_82600 = mul16(c_82561, bool_res_162567);
    int16_t zp_lhs_82602 = add16(zp_lhs_82594, zp_rhs_82600);
    bool bool_arg0_82604 = slt16((int16_t) 2, bin_82558);
    int16_t bool_res_162569 = btoi_bool_i16(bool_arg0_82604);
    int16_t zp_rhs_82608 = mul16(nc_82557, bool_res_162569);
    int16_t zp_lhs_82610 = add16(zp_lhs_82602, zp_rhs_82608);
    bool bool_arg0_82612 = bin_82558 == (int16_t) 3;
    int16_t bool_res_162571 = btoi_bool_i16(bool_arg0_82612);
    int16_t zp_rhs_82616 = mul16(d_82562, bool_res_162571);
    int16_t i16_arg0_82618 = add16(zp_lhs_82610, zp_rhs_82616);
    int64_t i16_res_162573 = sext_i16_i64(i16_arg0_82618);
    
    prim_out_181699 = i16_res_162573;
    *out_prim_out_182446 = prim_out_181699;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9064(struct futhark_context *ctx, int16_t *out_prim_out_182447, int16_t *out_prim_out_182448, int16_t *out_prim_out_182449, int16_t *out_prim_out_182450, int16_t x_82498)
{
    (void) ctx;
    
    int err = 0;
    int16_t prim_out_181699;
    int16_t prim_out_181700;
    int16_t prim_out_181701;
    int16_t prim_out_181702;
    bool bool_arg0_82499 = x_82498 == (int16_t) 0;
    int16_t bool_res_162559 = btoi_bool_i16(bool_arg0_82499);
    bool bool_arg0_82503 = x_82498 == (int16_t) 1;
    int16_t bool_res_162561 = btoi_bool_i16(bool_arg0_82503);
    bool bool_arg0_82507 = x_82498 == (int16_t) 2;
    int16_t bool_res_162563 = btoi_bool_i16(bool_arg0_82507);
    bool bool_arg0_82511 = x_82498 == (int16_t) 3;
    int16_t bool_res_162565 = btoi_bool_i16(bool_arg0_82511);
    
    prim_out_181699 = bool_res_162559;
    prim_out_181700 = bool_res_162561;
    prim_out_181701 = bool_res_162563;
    prim_out_181702 = bool_res_162565;
    *out_prim_out_182447 = prim_out_181699;
    *out_prim_out_182448 = prim_out_181700;
    *out_prim_out_182449 = prim_out_181701;
    *out_prim_out_182450 = prim_out_181702;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9041(struct futhark_context *ctx, int64_t *out_prim_out_182451, int64_t *out_prim_out_182452, int64_t *out_prim_out_182453, int64_t *out_prim_out_182454, int64_t *out_prim_out_182455, int64_t slo_96149, int64_t shi_96150, int64_t tlo_96151, int64_t thi_96152, int64_t count_96153)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_181699;
    int64_t prim_out_181700;
    int64_t prim_out_181701;
    int64_t prim_out_181702;
    int64_t prim_out_181703;
    int64_t min_arg1_96156 = add64(slo_96149, count_96153);
    int64_t min_res_162560 = smin64(shi_96150, min_arg1_96156);
    int64_t min_arg1_96160 = add64(tlo_96151, count_96153);
    int64_t min_res_162563 = smin64(thi_96152, min_arg1_96160);
    int64_t zp_lhs_96164 = sub64(min_res_162560, slo_96149);
    int64_t zp_rhs_96166 = sub64(min_res_162563, tlo_96151);
    int64_t zm_lhs_96168 = add64(zp_lhs_96164, zp_rhs_96166);
    int64_t slack_96170 = sub64(zm_lhs_96168, count_96153);
    int64_t min_res_162566 = smin64(zp_lhs_96164, slack_96170);
    int64_t min_res_162569 = smin64(zp_rhs_96166, min_res_162566);
    int64_t max_arg1_96180 = sub64(min_res_162560, min_res_162569);
    int64_t max_res_162572 = smax64(slo_96149, max_arg1_96180);
    int64_t max_arg1_96184 = sub64(min_res_162563, min_res_162569);
    int64_t max_res_162575 = smax64(tlo_96151, max_arg1_96184);
    int64_t zm_rhs_96188 = sub64(max_res_162572, slo_96149);
    int64_t zm_lhs_96190 = sub64(count_96153, zm_rhs_96188);
    int64_t zm_rhs_96192 = sub64(max_res_162575, tlo_96151);
    int64_t count_96194 = sub64(zm_lhs_96190, zm_rhs_96192);
    
    prim_out_181699 = max_res_162572;
    prim_out_181700 = min_res_162560;
    prim_out_181701 = max_res_162575;
    prim_out_181702 = min_res_162563;
    prim_out_181703 = count_96194;
    *out_prim_out_182451 = prim_out_181699;
    *out_prim_out_182452 = prim_out_181700;
    *out_prim_out_182453 = prim_out_181701;
    *out_prim_out_182454 = prim_out_181702;
    *out_prim_out_182455 = prim_out_181703;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0)
{
    int64_t n_109885 = (int64_t) 0;
    int64_t prim_out_181699 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180280;
    
    ks_mem_180280.references = NULL;
    ks_mem_180280 = in0->mem;
    n_109885 = in0->shape[0];
    if (!(n_109885 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_double(ctx, &prim_out_181699, ks_mem_180280, n_109885);
        if (ret == 0) {
            *out0 = prim_out_181699;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0)
{
    int64_t n_109716 = (int64_t) 0;
    int64_t prim_out_181699 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180280;
    
    ks_mem_180280.references = NULL;
    ks_mem_180280 = in0->mem;
    n_109716 = in0->shape[0];
    if (!(n_109716 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_float(ctx, &prim_out_181699, ks_mem_180280, n_109716);
        if (ret == 0) {
            *out0 = prim_out_181699;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0)
{
    int64_t n_109381 = (int64_t) 0;
    int64_t prim_out_181699 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180280;
    
    ks_mem_180280.references = NULL;
    ks_mem_180280 = in0->mem;
    n_109381 = in0->shape[0];
    if (!(n_109381 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_int(ctx, &prim_out_181699, ks_mem_180280, n_109381);
        if (ret == 0) {
            *out0 = prim_out_181699;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0)
{
    int64_t n_109547 = (int64_t) 0;
    int64_t prim_out_181699 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180280;
    
    ks_mem_180280.references = NULL;
    ks_mem_180280 = in0->mem;
    n_109547 = in0->shape[0];
    if (!(n_109547 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_long(ctx, &prim_out_181699, ks_mem_180280, n_109547);
        if (ret == 0) {
            *out0 = prim_out_181699;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0)
{
    int64_t n_109215 = (int64_t) 0;
    int64_t prim_out_181699 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_180280;
    
    ks_mem_180280.references = NULL;
    ks_mem_180280 = in0->mem;
    n_109215 = in0->shape[0];
    if (!(n_109215 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_short(ctx, &prim_out_181699, ks_mem_180280, n_109215);
        if (ret == 0) {
            *out0 = prim_out_181699;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1)
{
    int64_t n_107737 = (int64_t) 0;
    int64_t incr_107738 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_107738 = in0;
    xs_mem_180280 = in1->mem;
    n_107737 = in1->shape[0];
    if (!(n_107737 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_double(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_107737, incr_107738);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_107737;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_107737;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1)
{
    int64_t n_105393 = (int64_t) 0;
    int64_t incr_105394 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_105394 = in0;
    xs_mem_180280 = in1->mem;
    n_105393 = in1->shape[0];
    if (!(n_105393 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_float(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_105393, incr_105394);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_105393;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_105393;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1)
{
    int64_t n_100706 = (int64_t) 0;
    int64_t incr_100707 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_100707 = in0;
    xs_mem_180280 = in1->mem;
    n_100706 = in1->shape[0];
    if (!(n_100706 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_int(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_100706, incr_100707);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_100706;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_100706;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1)
{
    int64_t n_103049 = (int64_t) 0;
    int64_t incr_103050 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_103050 = in0;
    xs_mem_180280 = in1->mem;
    n_103049 = in1->shape[0];
    if (!(n_103049 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_long(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_103049, incr_103050);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_103049;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_103049;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1)
{
    int64_t n_98362 = (int64_t) 0;
    int64_t incr_98363 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_98363 = in0;
    xs_mem_180280 = in1->mem;
    n_98362 = in1->shape[0];
    if (!(n_98362 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_short(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_98362, incr_98363);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_98362;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_98362;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4)
{
    int64_t na_162524 = (int64_t) 0;
    int64_t nb_162525 = (int64_t) 0;
    int64_t window_sizze_162526 = (int64_t) 0;
    int64_t threads_162527 = (int64_t) 0;
    bool inParallel_162530 = 0;
    int64_t prim_out_181702 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock b_list_mem_180281;
    
    b_list_mem_180281.references = NULL;
    
    struct memblock a_list_mem_180280;
    
    a_list_mem_180280.references = NULL;
    window_sizze_162526 = in0;
    threads_162527 = in1;
    a_list_mem_180280 = in2->mem;
    na_162524 = in2->shape[0];
    b_list_mem_180281 = in3->mem;
    nb_162525 = in3->shape[0];
    inParallel_162530 = in4;
    if (!(na_162524 == in2->shape[0] && nb_162525 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_double(ctx, &mem_out_181699, &mem_out_181700, &mem_out_181701, &prim_out_181702, a_list_mem_180280, b_list_mem_180281, na_162524, nb_162525, window_sizze_162526, threads_162527, inParallel_162530);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_double *) malloc(sizeof(struct futhark_opaque_mergeInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = prim_out_181702;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = prim_out_181702;
            assert(((*out0)->v2 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181701;
            (*out0)->v2->shape[0] = prim_out_181702;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4)
{
    int64_t na_152001 = (int64_t) 0;
    int64_t nb_152002 = (int64_t) 0;
    int64_t window_sizze_152003 = (int64_t) 0;
    int64_t threads_152004 = (int64_t) 0;
    bool inParallel_152007 = 0;
    int64_t prim_out_181702 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock b_list_mem_180281;
    
    b_list_mem_180281.references = NULL;
    
    struct memblock a_list_mem_180280;
    
    a_list_mem_180280.references = NULL;
    window_sizze_152003 = in0;
    threads_152004 = in1;
    a_list_mem_180280 = in2->mem;
    na_152001 = in2->shape[0];
    b_list_mem_180281 = in3->mem;
    nb_152002 = in3->shape[0];
    inParallel_152007 = in4;
    if (!(na_152001 == in2->shape[0] && nb_152002 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_float(ctx, &mem_out_181699, &mem_out_181700, &mem_out_181701, &prim_out_181702, a_list_mem_180280, b_list_mem_180281, na_152001, nb_152002, window_sizze_152003, threads_152004, inParallel_152007);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_float *) malloc(sizeof(struct futhark_opaque_mergeInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = prim_out_181702;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = prim_out_181702;
            assert(((*out0)->v2 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181701;
            (*out0)->v2->shape[0] = prim_out_181702;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4)
{
    int64_t na_130955 = (int64_t) 0;
    int64_t nb_130956 = (int64_t) 0;
    int64_t window_sizze_130957 = (int64_t) 0;
    int64_t threads_130958 = (int64_t) 0;
    bool inParallel_130961 = 0;
    int64_t prim_out_181702 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock b_list_mem_180281;
    
    b_list_mem_180281.references = NULL;
    
    struct memblock a_list_mem_180280;
    
    a_list_mem_180280.references = NULL;
    window_sizze_130957 = in0;
    threads_130958 = in1;
    a_list_mem_180280 = in2->mem;
    na_130955 = in2->shape[0];
    b_list_mem_180281 = in3->mem;
    nb_130956 = in3->shape[0];
    inParallel_130961 = in4;
    if (!(na_130955 == in2->shape[0] && nb_130956 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_int(ctx, &mem_out_181699, &mem_out_181700, &mem_out_181701, &prim_out_181702, a_list_mem_180280, b_list_mem_180281, na_130955, nb_130956, window_sizze_130957, threads_130958, inParallel_130961);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_int *) malloc(sizeof(struct futhark_opaque_mergeInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = prim_out_181702;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = prim_out_181702;
            assert(((*out0)->v2 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181701;
            (*out0)->v2->shape[0] = prim_out_181702;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4)
{
    int64_t na_141478 = (int64_t) 0;
    int64_t nb_141479 = (int64_t) 0;
    int64_t window_sizze_141480 = (int64_t) 0;
    int64_t threads_141481 = (int64_t) 0;
    bool inParallel_141484 = 0;
    int64_t prim_out_181702 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock b_list_mem_180281;
    
    b_list_mem_180281.references = NULL;
    
    struct memblock a_list_mem_180280;
    
    a_list_mem_180280.references = NULL;
    window_sizze_141480 = in0;
    threads_141481 = in1;
    a_list_mem_180280 = in2->mem;
    na_141478 = in2->shape[0];
    b_list_mem_180281 = in3->mem;
    nb_141479 = in3->shape[0];
    inParallel_141484 = in4;
    if (!(na_141478 == in2->shape[0] && nb_141479 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_long(ctx, &mem_out_181699, &mem_out_181700, &mem_out_181701, &prim_out_181702, a_list_mem_180280, b_list_mem_180281, na_141478, nb_141479, window_sizze_141480, threads_141481, inParallel_141484);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_long *) malloc(sizeof(struct futhark_opaque_mergeInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = prim_out_181702;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = prim_out_181702;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181701;
            (*out0)->v2->shape[0] = prim_out_181702;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4)
{
    int64_t na_120432 = (int64_t) 0;
    int64_t nb_120433 = (int64_t) 0;
    int64_t window_sizze_120434 = (int64_t) 0;
    int64_t threads_120435 = (int64_t) 0;
    bool inParallel_120438 = 0;
    int64_t prim_out_181702 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181701;
    
    mem_out_181701.references = NULL;
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock b_list_mem_180281;
    
    b_list_mem_180281.references = NULL;
    
    struct memblock a_list_mem_180280;
    
    a_list_mem_180280.references = NULL;
    window_sizze_120434 = in0;
    threads_120435 = in1;
    a_list_mem_180280 = in2->mem;
    na_120432 = in2->shape[0];
    b_list_mem_180281 = in3->mem;
    nb_120433 = in3->shape[0];
    inParallel_120438 = in4;
    if (!(na_120432 == in2->shape[0] && nb_120433 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_short(ctx, &mem_out_181699, &mem_out_181700, &mem_out_181701, &prim_out_181702, a_list_mem_180280, b_list_mem_180281, na_120432, nb_120433, window_sizze_120434, threads_120435, inParallel_120438);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_short *) malloc(sizeof(struct futhark_opaque_mergeInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = prim_out_181702;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = prim_out_181702;
            assert(((*out0)->v2 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v2->mem = mem_out_181701;
            (*out0)->v2->shape[0] = prim_out_181702;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3)
{
    int64_t n_109046 = (int64_t) 0;
    int64_t incr_109047 = (int64_t) 0;
    int64_t block_sizze_109048 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock ys_mem_180281;
    
    ys_mem_180281.references = NULL;
    
    struct memblock is_mem_180280;
    
    is_mem_180280.references = NULL;
    incr_109047 = in0;
    block_sizze_109048 = in1;
    is_mem_180280 = in2->mem;
    n_109046 = in2->shape[0];
    ys_mem_180281 = in3->mem;
    n_109046 = in3->shape[0];
    if (!(n_109046 == in2->shape[0] && n_109046 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_double(ctx, &mem_out_181699, is_mem_180280, ys_mem_180281, n_109046, incr_109047, block_sizze_109048);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->mem = mem_out_181699;
            (*out0)->shape[0] = n_109046;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3)
{
    int64_t n_108784 = (int64_t) 0;
    int64_t incr_108785 = (int64_t) 0;
    int64_t block_sizze_108786 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock ys_mem_180281;
    
    ys_mem_180281.references = NULL;
    
    struct memblock is_mem_180280;
    
    is_mem_180280.references = NULL;
    incr_108785 = in0;
    block_sizze_108786 = in1;
    is_mem_180280 = in2->mem;
    n_108784 = in2->shape[0];
    ys_mem_180281 = in3->mem;
    n_108784 = in3->shape[0];
    if (!(n_108784 == in2->shape[0] && n_108784 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_float(ctx, &mem_out_181699, is_mem_180280, ys_mem_180281, n_108784, incr_108785, block_sizze_108786);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->mem = mem_out_181699;
            (*out0)->shape[0] = n_108784;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3)
{
    int64_t n_108263 = (int64_t) 0;
    int64_t incr_108264 = (int64_t) 0;
    int64_t block_sizze_108265 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock ys_mem_180281;
    
    ys_mem_180281.references = NULL;
    
    struct memblock is_mem_180280;
    
    is_mem_180280.references = NULL;
    incr_108264 = in0;
    block_sizze_108265 = in1;
    is_mem_180280 = in2->mem;
    n_108263 = in2->shape[0];
    ys_mem_180281 = in3->mem;
    n_108263 = in3->shape[0];
    if (!(n_108263 == in2->shape[0] && n_108263 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_int(ctx, &mem_out_181699, is_mem_180280, ys_mem_180281, n_108263, incr_108264, block_sizze_108265);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->mem = mem_out_181699;
            (*out0)->shape[0] = n_108263;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t n_108522 = (int64_t) 0;
    int64_t incr_108523 = (int64_t) 0;
    int64_t block_sizze_108524 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock ys_mem_180281;
    
    ys_mem_180281.references = NULL;
    
    struct memblock is_mem_180280;
    
    is_mem_180280.references = NULL;
    incr_108523 = in0;
    block_sizze_108524 = in1;
    is_mem_180280 = in2->mem;
    n_108522 = in2->shape[0];
    ys_mem_180281 = in3->mem;
    n_108522 = in3->shape[0];
    if (!(n_108522 == in2->shape[0] && n_108522 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_long(ctx, &mem_out_181699, is_mem_180280, ys_mem_180281, n_108522, incr_108523, block_sizze_108524);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->mem = mem_out_181699;
            (*out0)->shape[0] = n_108522;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3)
{
    int64_t n_108001 = (int64_t) 0;
    int64_t incr_108002 = (int64_t) 0;
    int64_t block_sizze_108003 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock ys_mem_180281;
    
    ys_mem_180281.references = NULL;
    
    struct memblock is_mem_180280;
    
    is_mem_180280.references = NULL;
    incr_108002 = in0;
    block_sizze_108003 = in1;
    is_mem_180280 = in2->mem;
    n_108001 = in2->shape[0];
    ys_mem_180281 = in3->mem;
    n_108001 = in3->shape[0];
    if (!(n_108001 == in2->shape[0] && n_108001 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_short(ctx, &mem_out_181699, is_mem_180280, ys_mem_180281, n_108001, incr_108002, block_sizze_108003);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->mem = mem_out_181699;
            (*out0)->shape[0] = n_108001;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2)
{
    int64_t n_95906 = (int64_t) 0;
    int64_t incr_95907 = (int64_t) 0;
    int16_t block_sizze_95908 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_95907 = in0;
    block_sizze_95908 = in1;
    xs_mem_180280 = in2->mem;
    n_95906 = in2->shape[0];
    if (!(n_95906 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_double(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_95906, incr_95907, block_sizze_95908);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_95906;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_95906;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2)
{
    int64_t n_93151 = (int64_t) 0;
    int64_t incr_93152 = (int64_t) 0;
    int16_t block_sizze_93153 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_93152 = in0;
    block_sizze_93153 = in1;
    xs_mem_180280 = in2->mem;
    n_93151 = in2->shape[0];
    if (!(n_93151 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_float(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_93151, incr_93152, block_sizze_93153);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_93151;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_93151;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2)
{
    int64_t n_87800 = (int64_t) 0;
    int64_t incr_87801 = (int64_t) 0;
    int16_t block_sizze_87802 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_87801 = in0;
    block_sizze_87802 = in1;
    xs_mem_180280 = in2->mem;
    n_87800 = in2->shape[0];
    if (!(n_87800 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_int(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_87800, incr_87801, block_sizze_87802);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_87800;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_87800;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2)
{
    int64_t n_90400 = (int64_t) 0;
    int64_t incr_90401 = (int64_t) 0;
    int16_t block_sizze_90402 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_90401 = in0;
    block_sizze_90402 = in1;
    xs_mem_180280 = in2->mem;
    n_90400 = in2->shape[0];
    if (!(n_90400 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_long(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_90400, incr_90401, block_sizze_90402);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_90400;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_90400;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2)
{
    int64_t n_85183 = (int64_t) 0;
    int64_t incr_85184 = (int64_t) 0;
    int16_t block_sizze_85185 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_181700;
    
    mem_out_181700.references = NULL;
    
    struct memblock mem_out_181699;
    
    mem_out_181699.references = NULL;
    
    struct memblock xs_mem_180280;
    
    xs_mem_180280.references = NULL;
    incr_85184 = in0;
    block_sizze_85185 = in1;
    xs_mem_180280 = in2->mem;
    n_85183 = in2->shape[0];
    if (!(n_85183 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_short(ctx, &mem_out_181699, &mem_out_181700, xs_mem_180280, n_85183, incr_85184, block_sizze_85185);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_181699;
            (*out0)->v0->shape[0] = n_85183;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_181700;
            (*out0)->v1->shape[0] = n_85183;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
