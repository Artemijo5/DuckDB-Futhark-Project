// Generated by Futhark 0.26.0 (prerelease - include info below when reporting bugs).
// git: 1de4f0c (Fri Jan 24 11:10:52 2025 +0100)
// Compiled with GHC 9.4.8.

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wunused-const-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#pragma clang diagnostic ignored "-Wunused-but-set-variable"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wunused-const-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_f32_1d;
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0);
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data);
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr);
struct futhark_f64_1d;
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0);
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data);
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr);
struct futhark_i16_1d;
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0);
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data);
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr);
struct futhark_i32_1d;
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0);
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data);
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr);
struct futhark_i64_1d;
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0);
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data);
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr);
struct futhark_i8_1d;
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0);
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0);
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data);
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0);
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr);

// Opaque values
struct futhark_opaque_mergeInfo_double;
struct futhark_opaque_mergeInfo_float;
struct futhark_opaque_mergeInfo_int;
struct futhark_opaque_mergeInfo_long;
struct futhark_opaque_mergeInfo_short;
struct futhark_opaque_sortInfo_double;
struct futhark_opaque_sortInfo_float;
struct futhark_opaque_sortInfo_int;
struct futhark_opaque_sortInfo_long;
struct futhark_opaque_sortInfo_short;
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj);
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj);
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs);
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj);
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj);
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs);
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj);
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj);
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs);
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj);
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj);
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs);
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj);
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj);
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs);
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj);
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj);
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs);
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj);
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj);
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs);
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj);
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj);
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs);
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj);
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj);
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs);
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj);
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n);
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p);
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj);
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs);

// Entry points
int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0);
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0);
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0);
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0);
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0);
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1);
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1);
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1);
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1);
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1);
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4);
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4);
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4);
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3);
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3);
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3);
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3);
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3);
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2);
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2);
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2);
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2);
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
char *futhark_context_report(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_c
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
#define SCALAR_FUN_ATTR static inline
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

static void str_builder_str(struct str_builder *b, const char *s) {
  size_t needed = strlen(s);
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  strcpy(b->str+b->used, s);
  b->used += needed;
}

static void str_builder_char(struct str_builder *b, char c) {
  size_t needed = 1;
  if (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }
  b->str[b->used] = c;
  b->str[b->used+1] = 0;
  b->used += needed;
}

static void str_builder_json_str(struct str_builder* sb, const char* s) {
  str_builder_char(sb, '"');
  for (int j = 0; s[j]; j++) {
    char c = s[j];
    switch (c) {
    case '\n':
      str_builder_str(sb, "\\n");
      break;
    case '"':
      str_builder_str(sb, "\\\"");
      break;
    default:
      str_builder_char(sb, c);
    }
  }
  str_builder_char(sb, '"');
}

static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// Assumes NULL-terminated.
static char *strconcat(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

SCALAR_FUN_ATTR uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

SCALAR_FUN_ATTR float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

SCALAR_FUN_ATTR uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

static int64_t get_wall_time_ns(void) {
  return get_wall_time() * 1000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
// Start of event_list.h

typedef int (*event_report_fn)(struct str_builder*, void*);

struct event {
  void* data;
  event_report_fn f;
  const char* name;
  char *description;
};

struct event_list {
  struct event *events;
  int num_events;
  int capacity;
};

static void event_list_init(struct event_list *l) {
  l->capacity = 100;
  l->num_events = 0;
  l->events = calloc(l->capacity, sizeof(struct event));
}

static void event_list_free(struct event_list *l) {
  free(l->events);
}

static void add_event_to_list(struct event_list *l,
                              const char* name,
                              char* description,
                              void* data,
                              event_report_fn f) {
  if (l->num_events == l->capacity) {
    l->capacity *= 2;
    l->events = realloc(l->events, l->capacity * sizeof(struct event));
  }
  l->events[l->num_events].name = name;
  l->events[l->num_events].description = description;
  l->events[l->num_events].data = data;
  l->events[l->num_events].f = f;
  l->num_events++;
}

static int report_events_in_list(struct event_list *l,
                                 struct str_builder* sb) {
  int ret = 0;
  for (int i = 0; i < l->num_events; i++) {
    if (i != 0) {
      str_builder_str(sb, ",");
    }
    str_builder_str(sb, "{\"name\":");
    str_builder_json_str(sb, l->events[i].name);
    str_builder_str(sb, ",\"description\":");
    str_builder_json_str(sb, l->events[i].description);
    free(l->events[i].description);
    if (l->events[i].f(sb, l->events[i].data) != 0) {
      ret = 1;
      break;
    }
    str_builder(sb, "}");
  }
  event_list_free(l);
  event_list_init(l);
  return ret;
}

// End of event_list.h

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x);
SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x);

SCALAR_FUN_ATTR uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

SCALAR_FUN_ATTR uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

SCALAR_FUN_ATTR uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

SCALAR_FUN_ATTR uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }


  return x % ys;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : (x + y - 1) / ys;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x % ys;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x / ys;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return y == 0 ? 0 : x % ys;
}

#else

SCALAR_FUN_ATTR uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

SCALAR_FUN_ATTR uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

SCALAR_FUN_ATTR int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

SCALAR_FUN_ATTR int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

SCALAR_FUN_ATTR int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

SCALAR_FUN_ATTR int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

SCALAR_FUN_ATTR int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

SCALAR_FUN_ATTR int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

SCALAR_FUN_ATTR int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

SCALAR_FUN_ATTR int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

SCALAR_FUN_ATTR int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

SCALAR_FUN_ATTR int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

SCALAR_FUN_ATTR int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

SCALAR_FUN_ATTR int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

SCALAR_FUN_ATTR int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

SCALAR_FUN_ATTR int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

SCALAR_FUN_ATTR int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

SCALAR_FUN_ATTR int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

SCALAR_FUN_ATTR int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

SCALAR_FUN_ATTR int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

SCALAR_FUN_ATTR int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

SCALAR_FUN_ATTR int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

SCALAR_FUN_ATTR uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

SCALAR_FUN_ATTR uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

SCALAR_FUN_ATTR uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

SCALAR_FUN_ATTR uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

SCALAR_FUN_ATTR uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

SCALAR_FUN_ATTR uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

SCALAR_FUN_ATTR uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

SCALAR_FUN_ATTR bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool slt8(int8_t x, int8_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt16(int16_t x, int16_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt32(int32_t x, int32_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool slt64(int64_t x, int64_t y) {
  return x < y;
}

SCALAR_FUN_ATTR bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

SCALAR_FUN_ATTR uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

SCALAR_FUN_ATTR bool itob_i8_bool(int8_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i16_bool(int16_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i32_bool(int32_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR bool itob_i64_bool(int64_t x) {
  return x != 0;
}

SCALAR_FUN_ATTR int8_t btoi_bool_i8(bool x) {
  return x;
}

SCALAR_FUN_ATTR int16_t btoi_bool_i16(bool x) {
  return x;
}

SCALAR_FUN_ATTR int32_t btoi_bool_i32(bool x) {
  return x;
}

SCALAR_FUN_ATTR int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

SCALAR_FUN_ATTR int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

SCALAR_FUN_ATTR int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

SCALAR_FUN_ATTR int32_t abs32(int32_t x) {
  return abs(x);
}

SCALAR_FUN_ATTR int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

SCALAR_FUN_ATTR int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

SCALAR_FUN_ATTR int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

SCALAR_FUN_ATTR int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
SCALAR_FUN_ATTR  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
SCALAR_FUN_ATTR  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
SCALAR_FUN_ATTR uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
SCALAR_FUN_ATTR  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
SCALAR_FUN_ATTR uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
SCALAR_FUN_ATTR uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
SCALAR_FUN_ATTR uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
SCALAR_FUN_ATTR uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
SCALAR_FUN_ATTR int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
SCALAR_FUN_ATTR int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
SCALAR_FUN_ATTR int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
SCALAR_FUN_ATTR int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

SCALAR_FUN_ATTR  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
SCALAR_FUN_ATTR  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
SCALAR_FUN_ATTR uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
SCALAR_FUN_ATTR uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
SCALAR_FUN_ATTR uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

SCALAR_FUN_ATTR int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

SCALAR_FUN_ATTR int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

SCALAR_FUN_ATTR int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

SCALAR_FUN_ATTR int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

SCALAR_FUN_ATTR float fdiv32(float x, float y) {
  return x / y;
}

SCALAR_FUN_ATTR float fadd32(float x, float y) {
  return x + y;
}

SCALAR_FUN_ATTR float fsub32(float x, float y) {
  return x - y;
}

SCALAR_FUN_ATTR float fmul32(float x, float y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt32(float x, float y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple32(float x, float y) {
  return x <= y;
}

SCALAR_FUN_ATTR float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

SCALAR_FUN_ATTR float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float fabs32(float x) {
  return fabs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

SCALAR_FUN_ATTR float fabs32(float x) {
  return abs(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

SCALAR_FUN_ATTR float fabs32(float x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR float fmax32(float x, float y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR float fmin32(float x, float y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

SCALAR_FUN_ATTR bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

SCALAR_FUN_ATTR int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

SCALAR_FUN_ATTR uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f32_bool(float x) {
  return x != 0;
}

SCALAR_FUN_ATTR float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR float futrts_log32(float x) {
  return log(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1p(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return cosh(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinh(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanh(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acosh(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinh(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanh(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erf(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfc(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rint(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return exp(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cos(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sin(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tan(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acos(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asin(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atan(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
SCALAR_FUN_ATTR float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return round(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floor(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  int32_t xb = futrts_to_bits32(x);
  int32_t yb = futrts_to_bits32(y);
  return futrts_from_bits32((xb & ~(1<<31)) | (yb & (1<<31)));
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

SCALAR_FUN_ATTR float futrts_log32(float x) {
  return logf(x);
}

SCALAR_FUN_ATTR float futrts_log2_32(float x) {
  return log2f(x);
}

SCALAR_FUN_ATTR float futrts_log10_32(float x) {
  return log10f(x);
}

SCALAR_FUN_ATTR float futrts_log1p_32(float x) {
  return log1pf(x);
}

SCALAR_FUN_ATTR float futrts_sqrt32(float x) {
  return sqrtf(x);
}

SCALAR_FUN_ATTR float futrts_cbrt32(float x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR float futrts_exp32(float x) {
  return expf(x);
}

SCALAR_FUN_ATTR float futrts_cos32(float x) {
  return cosf(x);
}

SCALAR_FUN_ATTR float futrts_sin32(float x) {
  return sinf(x);
}

SCALAR_FUN_ATTR float futrts_tan32(float x) {
  return tanf(x);
}

SCALAR_FUN_ATTR float futrts_acos32(float x) {
  return acosf(x);
}

SCALAR_FUN_ATTR float futrts_asin32(float x) {
  return asinf(x);
}

SCALAR_FUN_ATTR float futrts_atan32(float x) {
  return atanf(x);
}

SCALAR_FUN_ATTR float futrts_cosh32(float x) {
  return coshf(x);
}

SCALAR_FUN_ATTR float futrts_sinh32(float x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR float futrts_tanh32(float x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR float futrts_acosh32(float x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR float futrts_asinh32(float x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR float futrts_atanh32(float x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR float futrts_gamma32(float x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR float futrts_lgamma32(float x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR float futrts_erf32(float x) {
  return erff(x);
}

SCALAR_FUN_ATTR float futrts_erfc32(float x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR float fmod32(float x, float y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR float futrts_round32(float x) {
  return rintf(x);
}

SCALAR_FUN_ATTR float futrts_floor32(float x) {
  return floorf(x);
}

SCALAR_FUN_ATTR float futrts_ceil32(float x) {
  return ceilf(x);
}

SCALAR_FUN_ATTR float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

SCALAR_FUN_ATTR float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR float futrts_ldexp32(float x, int32_t y) {
  return ldexpf(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign32(float x, float y) {
  return copysignf(x, y);
}

SCALAR_FUN_ATTR float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
SCALAR_FUN_ATTR int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

SCALAR_FUN_ATTR float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x);
SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x);

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

SCALAR_FUN_ATTR bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return abs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
SCALAR_FUN_ATTR double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return round(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
SCALAR_FUN_ATTR float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0.0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return x * pow((double)2.0, (double)y);
}

SCALAR_FUN_ATTR double futrts_copysign64(double x, double y) {
  int64_t xb = futrts_to_bits64(x);
  int64_t yb = futrts_to_bits64(y);
  return futrts_from_bits64((xb & ~(((int64_t)1)<<63)) | (yb & (((int64_t)1)<<63)));
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

SCALAR_FUN_ATTR double fdiv64(double x, double y) {
  return x / y;
}

SCALAR_FUN_ATTR double fadd64(double x, double y) {
  return x + y;
}

SCALAR_FUN_ATTR double fsub64(double x, double y) {
  return x - y;
}

SCALAR_FUN_ATTR double fmul64(double x, double y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt64(double x, double y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple64(double x, double y) {
  return x <= y;
}

SCALAR_FUN_ATTR double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

SCALAR_FUN_ATTR double fabs64(double x) {
  return fabs(x);
}

SCALAR_FUN_ATTR double fmax64(double x, double y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR double fmin64(double x, double y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR double fpow64(double x, double y) {
  return pow(x, y);
}

SCALAR_FUN_ATTR double futrts_log64(double x) {
  return log(x);
}

SCALAR_FUN_ATTR double futrts_log2_64(double x) {
  return log2(x);
}

SCALAR_FUN_ATTR double futrts_log10_64(double x) {
  return log10(x);
}

SCALAR_FUN_ATTR double futrts_log1p_64(double x) {
  return log1p(x);
}

SCALAR_FUN_ATTR double futrts_sqrt64(double x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR double futrts_cbrt64(double x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR double futrts_exp64(double x) {
  return exp(x);
}

SCALAR_FUN_ATTR double futrts_cos64(double x) {
  return cos(x);
}

SCALAR_FUN_ATTR double futrts_sin64(double x) {
  return sin(x);
}

SCALAR_FUN_ATTR double futrts_tan64(double x) {
  return tan(x);
}

SCALAR_FUN_ATTR double futrts_acos64(double x) {
  return acos(x);
}

SCALAR_FUN_ATTR double futrts_asin64(double x) {
  return asin(x);
}

SCALAR_FUN_ATTR double futrts_atan64(double x) {
  return atan(x);
}

SCALAR_FUN_ATTR double futrts_cosh64(double x) {
  return cosh(x);
}

SCALAR_FUN_ATTR double futrts_sinh64(double x) {
  return sinh(x);
}

SCALAR_FUN_ATTR double futrts_tanh64(double x) {
  return tanh(x);
}

SCALAR_FUN_ATTR double futrts_acosh64(double x) {
  return acosh(x);
}

SCALAR_FUN_ATTR double futrts_asinh64(double x) {
  return asinh(x);
}

SCALAR_FUN_ATTR double futrts_atanh64(double x) {
  return atanh(x);
}

SCALAR_FUN_ATTR double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR double futrts_gamma64(double x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR double futrts_lgamma64(double x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR double futrts_erf64(double x) {
  return erf(x);
}

SCALAR_FUN_ATTR double futrts_erfc64(double x) {
  return erfc(x);
}

SCALAR_FUN_ATTR double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

SCALAR_FUN_ATTR double futrts_round64(double x) {
  return rint(x);
}

SCALAR_FUN_ATTR double futrts_ceil64(double x) {
  return ceil(x);
}

SCALAR_FUN_ATTR float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR double futrts_floor64(double x) {
  return floor(x);
}

SCALAR_FUN_ATTR bool futrts_isnan64(double x) {
  return isnan(x);
}

SCALAR_FUN_ATTR bool futrts_isinf64(double x) {
  return isinf(x);
}

SCALAR_FUN_ATTR int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

SCALAR_FUN_ATTR int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

SCALAR_FUN_ATTR int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

SCALAR_FUN_ATTR int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

SCALAR_FUN_ATTR uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

SCALAR_FUN_ATTR uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

SCALAR_FUN_ATTR uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

SCALAR_FUN_ATTR uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

SCALAR_FUN_ATTR bool ftob_f64_bool(double x) {
  return x != 0;
}

SCALAR_FUN_ATTR double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

SCALAR_FUN_ATTR int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR double fmod64(double x, double y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

SCALAR_FUN_ATTR double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

SCALAR_FUN_ATTR double futrts_ldexp64(double x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR float futrts_copysign64(double x, double y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

SCALAR_FUN_ATTR float fpconv_f32_f32(float x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f32_f64(float x) {
  return (double) x;
}

SCALAR_FUN_ATTR float fpconv_f64_f32(double x) {
  return (float) x;
}

SCALAR_FUN_ATTR double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

SCALAR_FUN_ATTR f16 fadd16(f16 x, f16 y) {
  return x + y;
}

SCALAR_FUN_ATTR f16 fsub16(f16 x, f16 y) {
  return x - y;
}

SCALAR_FUN_ATTR f16 fmul16(f16 x, f16 y) {
  return x * y;
}

SCALAR_FUN_ATTR bool cmplt16(f16 x, f16 y) {
  return x < y;
}

SCALAR_FUN_ATTR bool cmple16(f16 x, f16 y) {
  return x <= y;
}

SCALAR_FUN_ATTR f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

SCALAR_FUN_ATTR int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

SCALAR_FUN_ATTR int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

SCALAR_FUN_ATTR int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

SCALAR_FUN_ATTR int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

SCALAR_FUN_ATTR uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

SCALAR_FUN_ATTR uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

SCALAR_FUN_ATTR uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

SCALAR_FUN_ATTR uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

SCALAR_FUN_ATTR bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

SCALAR_FUN_ATTR f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return abs(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#else // Assuming CUDA.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabsf(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
SCALAR_FUN_ATTR bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
SCALAR_FUN_ATTR bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return log(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return log2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return log10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return cos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return sin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tan(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acos(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asin(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atan(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erf(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rint(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return floor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return ldexp(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return copysign(x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return exp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return hlog(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return hexp(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return hcos(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return hsin(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return tanf(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return acosf(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return asinf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return atanf(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return erff(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return rintf(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

SCALAR_FUN_ATTR f16 fabs16(f16 x) {
  return fabs32(x);
}

SCALAR_FUN_ATTR f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

SCALAR_FUN_ATTR f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

SCALAR_FUN_ATTR f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

SCALAR_FUN_ATTR bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

SCALAR_FUN_ATTR bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

SCALAR_FUN_ATTR f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

SCALAR_FUN_ATTR f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

SCALAR_FUN_ATTR f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

SCALAR_FUN_ATTR f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

SCALAR_FUN_ATTR f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

SCALAR_FUN_ATTR f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

SCALAR_FUN_ATTR f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

SCALAR_FUN_ATTR f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

SCALAR_FUN_ATTR f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

SCALAR_FUN_ATTR f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

SCALAR_FUN_ATTR f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

SCALAR_FUN_ATTR f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

SCALAR_FUN_ATTR f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

SCALAR_FUN_ATTR f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

SCALAR_FUN_ATTR f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

SCALAR_FUN_ATTR f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

SCALAR_FUN_ATTR f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

SCALAR_FUN_ATTR f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

SCALAR_FUN_ATTR f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

SCALAR_FUN_ATTR f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

SCALAR_FUN_ATTR f16 futrts_ldexp16(f16 x, int32_t y) {
  return futrts_ldexp32(x, y);
}

SCALAR_FUN_ATTR f16 futrts_copysign16(f16 x, f16 y) {
  return futrts_copysign32((float)x, y);
}

SCALAR_FUN_ATTR f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

SCALAR_FUN_ATTR f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

SCALAR_FUN_ATTR int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

SCALAR_FUN_ATTR f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

SCALAR_FUN_ATTR f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

SCALAR_FUN_ATTR float fpconv_f16_f16(f16 x) {
  return x;
}

SCALAR_FUN_ATTR float fpconv_f16_f32(f16 x) {
  return x;
}

SCALAR_FUN_ATTR f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

SCALAR_FUN_ATTR double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
SCALAR_FUN_ATTR f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Log that a copy has occurred.
static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]);

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t m, int64_t n);

static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]);

static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]);

static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]);

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
};
struct tuning_params {
    int dummy;
};
static const int num_tuning_params = 0;
static const char *tuning_param_names[] = {NULL};
static const char *tuning_param_vars[] = {NULL};
static const char *tuning_param_classes[] = {NULL};
static int64_t tuning_param_defaults[] = {0};
// Start of backends/c.h

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  char *cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
};

static void backend_context_config_setup(struct futhark_context_config* cfg) {
  (void)cfg;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  (void)cfg;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config* cfg, const char *param_name, size_t param_value) {
  (void)cfg; (void)param_name; (void)param_value;
  return 1;
}

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list free_list;
  struct event_list event_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  struct program* program;
  bool program_initialised;
};

int backend_context_setup(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  (void)ctx;
}

int futhark_context_sync(struct futhark_context* ctx) {
  (void)ctx;
  return 0;
}

// End of backends/c.h

struct program {
    int dummy;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    free(ctx->program);
}
static void set_tuning_params(struct futhark_context *ctx)
{
    (void) ctx;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (currently allocated: %lld bytes).\n", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default);
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        
        long long new_usage = ctx->cur_mem_usage_default + size;
        
        if (ctx->detail_memory)
            fprintf(ctx->log, "Received block of %lld bytes; now allocated: %lld bytes", (long long) block->size, new_usage);
        ctx->cur_mem_usage_default = new_usage;
        if (new_usage > ctx->peak_mem_usage_default) {
            ctx->peak_mem_usage_default = new_usage;
            if (ctx->detail_memory)
                fprintf(ctx->log, " (new peak).\n");
        } else if (ctx->detail_memory)
            fprintf(ctx->log, ".\n");
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder_char(&builder, '{');
    str_builder_str(&builder, "\"memory\":{");
    str_builder(&builder, "\"default space\": %lld", (long long) ctx->peak_mem_usage_default);
    str_builder_str(&builder, "},\"events\":[");
    if (report_events_in_list(&ctx->event_list, &builder) != 0) {
        free(builder.str);
        return NULL;
    } else {
        str_builder_str(&builder, "]}");
        return builder.str;
    }
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

static void add_event(struct futhark_context* ctx,
                      const char* name,
                      char* description,
                      void* data,
                      event_report_fn f) {
  if (ctx->logging) {
    fprintf(ctx->log, "Event: %s\n%s\n", name, description);
  }
  add_event_to_list(&ctx->event_list, name, description, data, f);
}

char *futhark_context_get_error(struct futhark_context *ctx) {
  char *error = ctx->error;
  ctx->error = NULL;
  return error;
}

void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}

void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag) {
    cfg->profiling = flag;
}

void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag) {
    cfg->logging = flag;
}

void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f) {
  cfg->cache_fname = strdup(f);
}

int futhark_get_tuning_param_count(void) {
  return num_tuning_params;
}

const char *futhark_get_tuning_param_name(int i) {
  return tuning_param_names[i];
}

const char *futhark_get_tuning_param_class(int i) {
    return tuning_param_classes[i];
}

void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f){
  ctx->log = f;
}

void futhark_context_pause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 1;
}

void futhark_context_unpause_profiling(struct futhark_context *ctx) {
  ctx->profiling_paused = 0;
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->cache_fname);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  ctx->program_initialised = false;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  event_list_init(&ctx->event_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->detail_memory = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  set_tuning_params(ctx);
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    ctx->program_initialised = true;
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  if (ctx->program_initialised) {
    free_constants(ctx);
    teardown_program(ctx);
  }
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  event_list_free(&ctx->event_list);
  free(ctx->constants);
  free(ctx->error);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

// Start of copy.h

// Cache-oblivious map-transpose function.
#define GEN_MAP_TRANSPOSE(NAME, ELEM_TYPE)                              \
  static void map_transpose_##NAME                                      \
  (ELEM_TYPE* dst, ELEM_TYPE* src,                                      \
   int64_t k, int64_t m, int64_t n,                                     \
   int64_t cb, int64_t ce, int64_t rb, int64_t re)                      \
  {                                                                     \
  int32_t r = re - rb;                                                  \
  int32_t c = ce - cb;                                                  \
  if (k == 1) {                                                         \
    if (r <= 64 && c <= 64) {                                           \
      for (int64_t j = 0; j < c; j++) {                                 \
        for (int64_t i = 0; i < r; i++) {                               \
          dst[(j + cb) * n + (i + rb)] = src[(i + rb) * m + (j + cb)];  \
        }                                                               \
      }                                                                 \
    } else if (c <= r) {                                                \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb, rb + r/2);    \
      map_transpose_##NAME(dst, src, k, m, n, cb, ce, rb + r/2, re);    \
    } else {                                                            \
      map_transpose_##NAME(dst, src, k, m, n, cb, cb + c/2, rb, re);    \
      map_transpose_##NAME(dst, src, k, m, n, cb + c/2, ce, rb, re);    \
    }                                                                   \
  } else {                                                              \
  for (int64_t i = 0; i < k; i++) {                                     \
    map_transpose_##NAME(dst + i * m * n, src + i * m * n, 1, m, n, cb, ce, rb, re); \
  }\
} \
}

// Straightforward LMAD copy function.
#define GEN_LMAD_COPY_ELEMENTS(NAME, ELEM_TYPE)                         \
  static void lmad_copy_elements_##NAME(int r,                          \
                                        ELEM_TYPE* dst, int64_t dst_strides[r], \
                                        ELEM_TYPE *src, int64_t src_strides[r], \
                                        int64_t shape[r]) {             \
    if (r == 1) {                                                       \
      for (int i = 0; i < shape[0]; i++) {                              \
        dst[i*dst_strides[0]] = src[i*src_strides[0]];                  \
      }                                                                 \
    } else if (r > 1) {                                                 \
      for (int i = 0; i < shape[0]; i++) {                              \
        lmad_copy_elements_##NAME(r-1,                                  \
                                  dst+i*dst_strides[0], dst_strides+1,  \
                                  src+i*src_strides[0], src_strides+1,  \
                                  shape+1);                             \
      }                                                                 \
    }                                                                   \
  }                                                                     \

// Check whether this LMAD can be seen as a transposed 2D array.  This
// is done by checking every possible splitting point.
static bool lmad_is_tr(int64_t *n_out, int64_t *m_out,
                       int r,
                       const int64_t strides[r],
                       const int64_t shape[r]) {
  for (int i = 1; i < r; i++) {
    int n = 1, m = 1;
    bool ok = true;
    int64_t expected = 1;
    // Check strides before 'i'.
    for (int j = i-1; j >= 0; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      n *= shape[j];
    }
    // Check strides after 'i'.
    for (int j = r-1; j >= i; j--) {
      ok = ok && strides[j] == expected;
      expected *= shape[j];
      m *= shape[j];
    }
    if (ok) {
      *n_out = n;
      *m_out = m;
      return true;
    }
  }
  return false;
}

// This function determines whether the a 'dst' LMAD is row-major and
// 'src' LMAD is column-major.  Both LMADs are for arrays of the same
// shape.  Both LMADs are allowed to have additional dimensions "on
// top".  Essentially, this function determines whether a copy from
// 'src' to 'dst' is a "map(transpose)" that we know how to implement
// efficiently.  The LMADs can have arbitrary rank, and the main
// challenge here is checking whether the src LMAD actually
// corresponds to a 2D column-major layout by morally collapsing
// dimensions.  There is a lot of looping here, but the actual trip
// count is going to be very low in practice.
//
// Returns true if this is indeed a map(transpose), and writes the
// number of arrays, and moral array size to appropriate output
// parameters.
static bool lmad_map_tr(int64_t *num_arrays_out, int64_t *n_out, int64_t *m_out,
                        int r,
                        const int64_t dst_strides[r],
                        const int64_t src_strides[r],
                        const int64_t shape[r]) {
  int64_t rowmajor_strides[r];
  rowmajor_strides[r-1] = 1;

  for (int i = r-2; i >= 0; i--) {
    rowmajor_strides[i] = rowmajor_strides[i+1] * shape[i+1];
  }

  // map_r will be the number of mapped dimensions on top.
  int map_r = 0;
  int64_t num_arrays = 1;
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != rowmajor_strides[i] ||
        src_strides[i] != rowmajor_strides[i]) {
      break;
    } else {
      num_arrays *= shape[i];
      map_r++;
    }
  }

  *num_arrays_out = num_arrays;

  if (r==map_r) {
    return false;
  }

  if (memcmp(&rowmajor_strides[map_r],
             &dst_strides[map_r],
             sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(n_out, m_out, r-map_r, src_strides+map_r, shape+map_r);
  } else if (memcmp(&rowmajor_strides[map_r],
                    &src_strides[map_r],
                    sizeof(int64_t)*(r-map_r)) == 0) {
    return lmad_is_tr(m_out, n_out, r-map_r, dst_strides+map_r, shape+map_r);
  }
  return false;
}

// Check if the strides correspond to row-major strides of *any*
// permutation of the shape.  This is done by recursive search with
// backtracking.  This is worst-case exponential, but hopefully the
// arrays we encounter do not have that many dimensions.
static bool lmad_contiguous_search(int checked, int64_t expected,
                                   int r,
                                   int64_t strides[r], int64_t shape[r], bool used[r]) {
  for (int i = 0; i < r; i++) {
    for (int j = 0; j < r; j++) {
      if (!used[j] && strides[j] == expected && strides[j] >= 0) {
        used[j] = true;
        if (checked+1 == r ||
            lmad_contiguous_search(checked+1, expected * shape[j], r, strides, shape, used)) {
          return true;
        }
        used[j] = false;
      }
    }
  }
  return false;
}

// Does this LMAD correspond to an array with positive strides and no
// holes?
static bool lmad_contiguous(int r, int64_t strides[r], int64_t shape[r]) {
  bool used[r];
  for (int i = 0; i < r; i++) {
    used[i] = false;
  }
  return lmad_contiguous_search(0, 1, r, strides, shape, used);
}

// Does this copy correspond to something that could be done with a
// memcpy()-like operation?  I.e. do the LMADs actually represent the
// same in-memory layout and are they contiguous?
static bool lmad_memcpyable(int r,
                            int64_t dst_strides[r], int64_t src_strides[r], int64_t shape[r]) {
  if (!lmad_contiguous(r, dst_strides, shape)) {
    return false;
  }
  for (int i = 0; i < r; i++) {
    if (dst_strides[i] != src_strides[i] && shape[i] != 1) {
      return false;
    }
  }
  return true;
}


static void log_copy(struct futhark_context* ctx,
                     const char *kind, int r,
                     int64_t dst_offset, int64_t dst_strides[r],
                     int64_t src_offset, int64_t src_strides[r],
                     int64_t shape[r]) {
  if (ctx->logging) {
    fprintf(ctx->log, "\n# Copy %s\n", kind);
    fprintf(ctx->log, "Shape: ");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, "[%ld]", (long int)shape[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Dst offset: %ld\n", (long int)dst_offset);
    fprintf(ctx->log, "Dst strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)dst_strides[i]); }
    fprintf(ctx->log, "\n");
    fprintf(ctx->log, "Src offset: %ld\n", (long int)src_offset);
    fprintf(ctx->log, "Src strides:");
    for (int i = 0; i < r; i++) { fprintf(ctx->log, " %ld", (long int)src_strides[i]); }
    fprintf(ctx->log, "\n");
  }
}

static void log_transpose(struct futhark_context* ctx,
                          int64_t k, int64_t n, int64_t m) {
  if (ctx->logging) {
    fprintf(ctx->log, "## Transpose\n");
    fprintf(ctx->log, "Arrays     : %ld\n", (long int)k);
    fprintf(ctx->log, "X elements : %ld\n", (long int)m);
    fprintf(ctx->log, "Y elements : %ld\n", (long int)n);
    fprintf(ctx->log, "\n");
  }
}

#define GEN_LMAD_COPY(NAME, ELEM_TYPE)                                  \
  static void lmad_copy_##NAME                                          \
  (struct futhark_context *ctx, int r,                                  \
   ELEM_TYPE* dst, int64_t dst_offset, int64_t dst_strides[r],          \
   ELEM_TYPE *src, int64_t src_offset, int64_t src_strides[r],          \
   int64_t shape[r]) {                                                  \
    log_copy(ctx, "CPU to CPU", r, dst_offset, dst_strides,             \
             src_offset, src_strides, shape);                           \
    int64_t size = 1;                                                   \
    for (int i = 0; i < r; i++) { size *= shape[i]; }                   \
    if (size == 0) { return; }                                          \
    int64_t k, n, m;                                                    \
    if (lmad_map_tr(&k, &n, &m,                                         \
                    r, dst_strides, src_strides, shape)) {              \
      log_transpose(ctx, k, n, m);                                      \
      map_transpose_##NAME                                              \
        (dst+dst_offset, src+src_offset, k, n, m, 0, n, 0, m);          \
    } else if (lmad_memcpyable(r, dst_strides, src_strides, shape)) {   \
      if (ctx->logging) {fprintf(ctx->log, "## Flat copy\n\n");}          \
      memcpy(dst+dst_offset, src+src_offset, size*sizeof(*dst));        \
    } else {                                                            \
      if (ctx->logging) {fprintf(ctx->log, "## General copy\n\n");}       \
      lmad_copy_elements_##NAME                                         \
        (r,                                                             \
         dst+dst_offset, dst_strides,                                   \
         src+src_offset, src_strides, shape);                           \
    }                                                                   \
  }

GEN_MAP_TRANSPOSE(1b, uint8_t)
GEN_MAP_TRANSPOSE(2b, uint16_t)
GEN_MAP_TRANSPOSE(4b, uint32_t)
GEN_MAP_TRANSPOSE(8b, uint64_t)

GEN_LMAD_COPY_ELEMENTS(1b, uint8_t)
GEN_LMAD_COPY_ELEMENTS(2b, uint16_t)
GEN_LMAD_COPY_ELEMENTS(4b, uint32_t)
GEN_LMAD_COPY_ELEMENTS(8b, uint64_t)

GEN_LMAD_COPY(1b, uint8_t)
GEN_LMAD_COPY(2b, uint16_t)
GEN_LMAD_COPY(4b, uint32_t)
GEN_LMAD_COPY(8b, uint64_t)

// End of copy.h

#define FUTHARK_FUN_ATTR static

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_182705, struct memblock ks_mem_181032, int64_t n_110637);
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_182706, struct memblock ks_mem_181032, int64_t n_110468);
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_182707, struct memblock ks_mem_181032, int64_t n_110133);
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_182708, struct memblock ks_mem_181032, int64_t n_110299);
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_182709, struct memblock ks_mem_181032, int64_t n_109967);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182710, struct memblock *mem_out_p_182711, struct memblock xs_mem_181032, int64_t n_108111, int64_t incr_108112);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182722, struct memblock *mem_out_p_182723, struct memblock xs_mem_181032, int64_t n_105767, int64_t incr_105768);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182734, struct memblock *mem_out_p_182735, struct memblock xs_mem_181032, int64_t n_101080, int64_t incr_101081);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182746, struct memblock *mem_out_p_182747, struct memblock xs_mem_181032, int64_t n_103423, int64_t incr_103424);
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182758, struct memblock *mem_out_p_182759, struct memblock xs_mem_181032, int64_t n_98736, int64_t incr_98737);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182770, struct memblock *mem_out_p_182771, struct memblock *mem_out_p_182772, int64_t *out_prim_out_182773, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_163276, int64_t nb_163277, int64_t window_sizze_163278, int64_t threads_163279, bool inParallel_163282);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182824, struct memblock *mem_out_p_182825, struct memblock *mem_out_p_182826, int64_t *out_prim_out_182827, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_152753, int64_t nb_152754, int64_t window_sizze_152755, int64_t threads_152756, bool inParallel_152759);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182878, struct memblock *mem_out_p_182879, struct memblock *mem_out_p_182880, int64_t *out_prim_out_182881, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_131707, int64_t nb_131708, int64_t window_sizze_131709, int64_t threads_131710, bool inParallel_131713);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_182932, struct memblock *mem_out_p_182933, struct memblock *mem_out_p_182934, int64_t *out_prim_out_182935, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_142230, int64_t nb_142231, int64_t window_sizze_142232, int64_t threads_142233, bool inParallel_142236);
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_182986, struct memblock *mem_out_p_182987, struct memblock *mem_out_p_182988, int64_t *out_prim_out_182989, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_121184, int64_t nb_121185, int64_t window_sizze_121186, int64_t threads_121187, bool inParallel_121190);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_183040, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_109798, int64_t incr_109799, int64_t block_sizze_109800);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_183042, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_109462, int64_t incr_109463, int64_t block_sizze_109464);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_183044, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_108793, int64_t incr_108794, int64_t block_sizze_108795);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_183046, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_109126, int64_t incr_109127, int64_t block_sizze_109128);
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_183048, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_108457, int64_t incr_108458, int64_t block_sizze_108459);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_183050, struct memblock *mem_out_p_183051, struct memblock xs_mem_181032, int64_t n_96280, int64_t incr_96281, int16_t block_sizze_96282);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_183077, struct memblock *mem_out_p_183078, struct memblock xs_mem_181032, int64_t n_93525, int64_t incr_93526, int16_t block_sizze_93527);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_183104, struct memblock *mem_out_p_183105, struct memblock xs_mem_181032, int64_t n_88174, int64_t incr_88175, int16_t block_sizze_88176);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_183131, struct memblock *mem_out_p_183132, struct memblock xs_mem_181032, int64_t n_90774, int64_t incr_90775, int16_t block_sizze_90776);
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_183158, struct memblock *mem_out_p_183159, struct memblock xs_mem_181032, int64_t n_85557, int64_t incr_85558, int16_t block_sizze_85559);
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_183185, int32_t bit_83405, int16_t x_83406);
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_183186, int32_t bit_88622, int64_t x_88623);
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_183187, int64_t upper_bound_96304, int64_t n_96305);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9131(struct futhark_context *ctx, struct memblock *mem_out_p_183188, struct memblock xs_mem_181032, int64_t n_82702, int64_t incr_82703);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9286(struct futhark_context *ctx, struct memblock *mem_out_p_183189, struct memblock xs_mem_181032, int64_t n_85582, int64_t incr_85583);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9396(struct futhark_context *ctx, struct memblock *mem_out_p_183190, struct memblock xs_mem_181032, int64_t n_88199, int64_t incr_88200);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9496(struct futhark_context *ctx, struct memblock *mem_out_p_183191, struct memblock xs_mem_181032, int64_t n_90799, int64_t incr_90800);
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9605(struct futhark_context *ctx, struct memblock *mem_out_p_183192, struct memblock xs_mem_181032, int64_t n_93550, int64_t incr_93551);
FUTHARK_FUN_ATTR int futrts_lifted_f_9093(struct futhark_context *ctx, int64_t *out_prim_out_183193, int16_t na_82929, int16_t nb_82930, int16_t nc_82931, int16_t bin_82932, int16_t a_82933, int16_t b_82934, int16_t c_82935, int16_t d_82936);
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9092(struct futhark_context *ctx, int16_t *out_prim_out_183194, int16_t *out_prim_out_183195, int16_t *out_prim_out_183196, int16_t *out_prim_out_183197, int16_t x_82872);
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9069(struct futhark_context *ctx, int64_t *out_prim_out_183198, int64_t *out_prim_out_183199, int64_t *out_prim_out_183200, int64_t *out_prim_out_183201, int64_t *out_prim_out_183202, int64_t slo_96523, int64_t shi_96524, int64_t tlo_96525, int64_t thi_96526, int64_t count_96527);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_i8_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i8_1d *futhark_new_i8_1d(struct futhark_context *ctx, const int8_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 1 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 1);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i8_1d *futhark_new_raw_i8_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i8_1d *bad = NULL;
    struct futhark_i8_1d *arr = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr, int8_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 1 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 1);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i8_1d(struct futhark_context *ctx, int8_t *out, struct futhark_i8_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (1 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 1 * (i0 * 1), 1);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i8_1d(struct futhark_context *ctx, struct futhark_i8_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i16_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i16_1d *futhark_new_i16_1d(struct futhark_context *ctx, const int16_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 2, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 2 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 2);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i16_1d *futhark_new_raw_i16_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i16_1d *bad = NULL;
    struct futhark_i16_1d *arr = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr, int16_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 2 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 2);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i16_1d(struct futhark_context *ctx, int16_t *out, struct futhark_i16_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (2 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 2 * (i0 * 1), 2);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i16_1d(struct futhark_context *ctx, struct futhark_i16_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i32_1d *futhark_new_i32_1d(struct futhark_context *ctx, const int32_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i32_1d *futhark_new_raw_i32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i32_1d *bad = NULL;
    struct futhark_i32_1d *arr = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr, int32_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i32_1d(struct futhark_context *ctx, int32_t *out, struct futhark_i32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i32_1d(struct futhark_context *ctx, struct futhark_i32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_i64_1d *futhark_new_i64_1d(struct futhark_context *ctx, const int64_t *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_i64_1d *futhark_new_raw_i64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_i64_1d *bad = NULL;
    struct futhark_i64_1d *arr = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr, int64_t *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_i64_1d(struct futhark_context *ctx, int64_t *out, struct futhark_i64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i64_1d(struct futhark_context *ctx, struct futhark_i64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f32_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f32_1d *futhark_new_f32_1d(struct futhark_context *ctx, const float *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 4, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 4 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 4);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f32_1d *futhark_new_raw_f32_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f32_1d *bad = NULL;
    struct futhark_f32_1d *arr = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr, float *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 4 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 4);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f32_1d(struct futhark_context *ctx, float *out, struct futhark_f32_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (4 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 4 * (i0 * 1), 4);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f32_1d(struct futhark_context *ctx, struct futhark_f32_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_f64_1d {
    struct memblock mem;
    int64_t shape[1];
};
struct futhark_f64_1d *futhark_new_f64_1d(struct futhark_context *ctx, const double *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * 8, "arr->mem"))
        err = 1;
    arr->shape[0] = dim0;
    if ((size_t) dim0 * 8 > 0)
        memmove(arr->mem.mem + 0, (const unsigned char *) data + 0, (size_t) dim0 * 8);
    lock_unlock(&ctx->lock);
    if (err != 0) {
        free(arr);
        return bad;
    }
    return arr;
}
struct futhark_f64_1d *futhark_new_raw_f64_1d(struct futhark_context *ctx, unsigned char *data, int64_t dim0)
{
    int err = 0;
    struct futhark_f64_1d *bad = NULL;
    struct futhark_f64_1d *arr = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    arr->mem.references = NULL;
    arr->mem.mem = data;
    arr->shape[0] = dim0;
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    lock_lock(&ctx->lock);
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr, double *data)
{
    int err = 0;
    
    lock_lock(&ctx->lock);
    if ((size_t) arr->shape[0] * 8 > 0)
        memmove((unsigned char *) data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 8);
    lock_unlock(&ctx->lock);
    return err;
}
int futhark_index_f64_1d(struct futhark_context *ctx, double *out, struct futhark_f64_1d *arr, int64_t i0)
{
    int err = 0;
    
    if (i0 >= 0 && i0 < arr->shape[0]) {
        lock_lock(&ctx->lock);
        if (8 > 0)
            memmove((unsigned char *) out + 0, arr->mem.mem + 8 * (i0 * 1), 8);
        lock_unlock(&ctx->lock);
    } else {
        err = 1;
        set_error(ctx, strdup("Index out of bounds."));
    }
    return err;
}
unsigned char *futhark_values_raw_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_f64_1d(struct futhark_context *ctx, struct futhark_f64_1d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_opaque_sortInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i16_1d *v1;
};
int futhark_project_opaque_sortInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_short_xs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i16_1d *f_xs)
{
    struct futhark_opaque_sortInfo_short *v = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i16_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_short(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v1)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_short *futhark_restore_opaque_sortInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_short *obj = malloc(sizeof(struct futhark_opaque_sortInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i16_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i32_1d *v1;
};
int futhark_project_opaque_sortInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_int_xs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_int *v = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_int(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v1)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_int *futhark_restore_opaque_sortInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_int *obj = malloc(sizeof(struct futhark_opaque_sortInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i64_1d *v1;
};
int futhark_project_opaque_sortInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_long_xs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_long *v = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_long(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v1)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_sortInfo_long *futhark_restore_opaque_sortInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_long *obj = malloc(sizeof(struct futhark_opaque_sortInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_f32_1d *v1;
};
int futhark_project_opaque_sortInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_float_xs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_f32_1d *f_xs)
{
    struct futhark_opaque_sortInfo_float *v = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f32_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_float(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v1)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_sortInfo_float *futhark_restore_opaque_sortInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_float *obj = malloc(sizeof(struct futhark_opaque_sortInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f32_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_sortInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_f64_1d *v1;
};
int futhark_project_opaque_sortInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_sortInfo_double_xs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_f64_1d *f_xs)
{
    struct futhark_opaque_sortInfo_double *v = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_f64_1d));
        *v->v1 = *f_xs;
        (void) (*v->v1->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_sortInfo_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_sortInfo_double(struct futhark_context *ctx, const struct futhark_opaque_sortInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    
    *n = size_0 + size_1;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v1)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_sortInfo_double *futhark_restore_opaque_sortInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_sortInfo_double *obj = malloc(sizeof(struct futhark_opaque_sortInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_f64_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_short {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i16_1d *v2;
};
int futhark_project_opaque_mergeInfo_short_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_short_vs(struct futhark_context *ctx, struct futhark_i16_1d **out, const struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    struct futhark_i16_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i16_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i16_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i16_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_short *v = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i16_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_short(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_short *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i16", 4);
        out += 4;
        memcpy(out, futhark_shape_i16_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i16_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i16_1d(ctx, obj->v2)[0] * sizeof(int16_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_short *futhark_restore_opaque_mergeInfo_short(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_short *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_short));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i16", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int16_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i16_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i16_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_int {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i32_1d *v2;
};
int futhark_project_opaque_mergeInfo_int_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_int_vs(struct futhark_context *ctx, struct futhark_i32_1d **out, const struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    struct futhark_i32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_int *v = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_int(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_int *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i32", 4);
        out += 4;
        memcpy(out, futhark_shape_i32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i32_1d(ctx, obj->v2)[0] * sizeof(int32_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_int *futhark_restore_opaque_mergeInfo_int(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_int *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_int));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int32_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_long {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_i64_1d *v2;
};
int futhark_project_opaque_mergeInfo_long_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_long_vs(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_i64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_long *v = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_i64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_long(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_long *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v2)[0] * sizeof(int64_t);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_long *futhark_restore_opaque_mergeInfo_long(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_long *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_long));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(int64_t);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_i64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_float {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f32_1d *v2;
};
int futhark_project_opaque_mergeInfo_float_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_float_vs(struct futhark_context *ctx, struct futhark_f32_1d **out, const struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    struct futhark_f32_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f32_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f32_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f32_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_float *v = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f32_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_float(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_float *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f32", 4);
        out += 4;
        memcpy(out, futhark_shape_f32_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f32_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f32_1d(ctx, obj->v2)[0] * sizeof(float);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_float *futhark_restore_opaque_mergeInfo_float(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_float *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_float));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f32", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(float);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f32_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f32_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}
struct futhark_opaque_mergeInfo_double {
    struct futhark_i64_1d *v0;
    struct futhark_i8_1d *v1;
    struct futhark_f64_1d *v2;
};
int futhark_project_opaque_mergeInfo_double_is(struct futhark_context *ctx, struct futhark_i64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i64_1d));
    memcpy(v, obj->v0, sizeof(struct futhark_i64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_rs(struct futhark_context *ctx, struct futhark_i8_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_i8_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_i8_1d));
    memcpy(v, obj->v1, sizeof(struct futhark_i8_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_project_opaque_mergeInfo_double_vs(struct futhark_context *ctx, struct futhark_f64_1d **out, const struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    struct futhark_f64_1d *v;
    
    lock_lock(&ctx->lock);
    v = malloc(sizeof(struct futhark_f64_1d));
    memcpy(v, obj->v2, sizeof(struct futhark_f64_1d));
    (void) (*v->mem.references)++;
    lock_unlock(&ctx->lock);
    *out = v;
    return 0;
}
int futhark_new_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out, const struct futhark_i64_1d *f_is, const struct futhark_i8_1d *f_rs, const struct futhark_f64_1d *f_vs)
{
    struct futhark_opaque_mergeInfo_double *v = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    
    lock_lock(&ctx->lock);
    {
        v->v0 = malloc(sizeof(struct futhark_i64_1d));
        *v->v0 = *f_is;
        (void) (*v->v0->mem.references)++;
    }
    {
        v->v1 = malloc(sizeof(struct futhark_i8_1d));
        *v->v1 = *f_rs;
        (void) (*v->v1->mem.references)++;
    }
    {
        v->v2 = malloc(sizeof(struct futhark_f64_1d));
        *v->v2 = *f_vs;
        (void) (*v->v2->mem.references)++;
    }
    lock_unlock(&ctx->lock);
    *out = v;
    return FUTHARK_SUCCESS;
}
int futhark_free_opaque_mergeInfo_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double *obj)
{
    (void) ctx;
    
    int ret = 0, tmp;
    
    if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
        ret = tmp;
    if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
        ret = tmp;
    if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
        ret = tmp;
    free(obj);
    return ret;
}
int futhark_store_opaque_mergeInfo_double(struct futhark_context *ctx, const struct futhark_opaque_mergeInfo_double *obj, void **p, size_t *n)
{
    (void) ctx;
    
    int ret = 0;
    int64_t size_0 = 7 + 1 * sizeof(int64_t) + futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
    int64_t size_1 = 7 + 1 * sizeof(int64_t) + futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
    int64_t size_2 = 7 + 1 * sizeof(int64_t) + futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    
    *n = size_0 + size_1 + size_2;
    if (p != NULL && *p == NULL)
        *p = malloc(*n);
    if (p != NULL) {
        unsigned char *out = *p;
        
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " i64", 4);
        out += 4;
        memcpy(out, futhark_shape_i64_1d(ctx, obj->v0), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i64_1d(ctx, obj->v0, (void *) out);
        out += futhark_shape_i64_1d(ctx, obj->v0)[0] * sizeof(int64_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, "  i8", 4);
        out += 4;
        memcpy(out, futhark_shape_i8_1d(ctx, obj->v1), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_i8_1d(ctx, obj->v1, (void *) out);
        out += futhark_shape_i8_1d(ctx, obj->v1)[0] * sizeof(int8_t);
        *out++ = 'b';
        *out++ = 2;
        *out++ = 1;
        memcpy(out, " f64", 4);
        out += 4;
        memcpy(out, futhark_shape_f64_1d(ctx, obj->v2), 1 * sizeof(int64_t));
        out += 1 * sizeof(int64_t);
        ret |= futhark_values_f64_1d(ctx, obj->v2, (void *) out);
        out += futhark_shape_f64_1d(ctx, obj->v2)[0] * sizeof(double);
    }
    return ret;
}
struct futhark_opaque_mergeInfo_double *futhark_restore_opaque_mergeInfo_double(struct futhark_context *ctx, const void *p)
{
    (void) ctx;
    
    int err = 0;
    const unsigned char *src = p;
    struct futhark_opaque_mergeInfo_double *obj = malloc(sizeof(struct futhark_opaque_mergeInfo_double));
    int64_t shape_0[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " i64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_0, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_0 = src;
    
    obj->v0 = NULL;
    src += shape_0[0] * sizeof(int64_t);
    
    int64_t shape_1[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, "  i8", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_1, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_1 = src;
    
    obj->v1 = NULL;
    src += shape_1[0] * sizeof(int8_t);
    
    int64_t shape_2[1] = {0};
    
    err |= *src++ != 'b';
    err |= *src++ != 2;
    err |= *src++ != 1;
    err |= memcmp(src, " f64", 4) != 0;
    src += 4;
    if (err == 0) {
        memcpy(shape_2, src, 1 * sizeof(int64_t));
        src += 1 * sizeof(int64_t);
    }
    
    const void *data_2 = src;
    
    obj->v2 = NULL;
    src += shape_2[0] * sizeof(double);
    if (err == 0) {
        obj->v0 = futhark_new_i64_1d(ctx, data_0, shape_0[0]);
        if (obj->v0 == NULL)
            err = 1;
        obj->v1 = futhark_new_i8_1d(ctx, data_1, shape_1[0]);
        if (obj->v1 == NULL)
            err = 1;
        obj->v2 = futhark_new_f64_1d(ctx, data_2, shape_2[0]);
        if (obj->v2 == NULL)
            err = 1;
    }
    if (err != 0) {
        int ret = 0, tmp;
        
        if (obj->v0 != NULL && (tmp = futhark_free_i64_1d(ctx, obj->v0)) != 0)
            ret = tmp;
        if (obj->v1 != NULL && (tmp = futhark_free_i8_1d(ctx, obj->v1)) != 0)
            ret = tmp;
        if (obj->v2 != NULL && (tmp = futhark_free_f64_1d(ctx, obj->v2)) != 0)
            ret = tmp;
        free(obj);
        obj = NULL;
    }
    return obj;
}

FUTHARK_FUN_ATTR int futrts_entry_argmin_double(struct futhark_context *ctx, int64_t *out_prim_out_182705, struct memblock ks_mem_181032, int64_t n_110637)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182446;
    int64_t defunc_0_reduce_comm_res_178544;
    double defunc_0_reduce_comm_res_178545;
    int64_t redout_180692;
    double redout_180693;
    
    redout_180692 = n_110637;
    redout_180693 = INFINITY;
    for (int64_t i_180694 = 0; i_180694 < n_110637; i_180694++) {
        double x_164539 = ((double *) ks_mem_181032.mem)[i_180694];
        bool defunc_0_lt_res_164544 = redout_180693 < x_164539;
        bool defunc_0_eq_res_164546 = redout_180693 == x_164539;
        bool cond_f_res_t_res_164547 = slt64(redout_180692, i_180694);
        bool x_164548 = defunc_0_eq_res_164546 && cond_f_res_t_res_164547;
        bool x_178277 = !defunc_0_lt_res_164544;
        bool y_178278 = x_164548 && x_178277;
        bool cond_164545 = defunc_0_lt_res_164544 || y_178278;
        int64_t defunc_0_op_res_164549;
        
        if (cond_164545) {
            defunc_0_op_res_164549 = redout_180692;
        } else {
            defunc_0_op_res_164549 = i_180694;
        }
        
        double defunc_0_op_res_164550;
        
        if (cond_164545) {
            defunc_0_op_res_164550 = redout_180693;
        } else {
            defunc_0_op_res_164550 = x_164539;
        }
        
        int64_t redout_tmp_182447 = defunc_0_op_res_164549;
        double redout_tmp_182448 = defunc_0_op_res_164550;
        
        redout_180692 = redout_tmp_182447;
        redout_180693 = redout_tmp_182448;
    }
    defunc_0_reduce_comm_res_178544 = redout_180692;
    defunc_0_reduce_comm_res_178545 = redout_180693;
    prim_out_182446 = defunc_0_reduce_comm_res_178544;
    *out_prim_out_182705 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_float(struct futhark_context *ctx, int64_t *out_prim_out_182706, struct memblock ks_mem_181032, int64_t n_110468)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182446;
    int64_t defunc_0_reduce_comm_res_178544;
    float defunc_0_reduce_comm_res_178545;
    int64_t redout_180692;
    float redout_180693;
    
    redout_180692 = n_110468;
    redout_180693 = INFINITY;
    for (int64_t i_180694 = 0; i_180694 < n_110468; i_180694++) {
        float x_164539 = ((float *) ks_mem_181032.mem)[i_180694];
        bool defunc_0_lt_res_164544 = redout_180693 < x_164539;
        bool defunc_0_eq_res_164546 = redout_180693 == x_164539;
        bool cond_f_res_t_res_164547 = slt64(redout_180692, i_180694);
        bool x_164548 = defunc_0_eq_res_164546 && cond_f_res_t_res_164547;
        bool x_178277 = !defunc_0_lt_res_164544;
        bool y_178278 = x_164548 && x_178277;
        bool cond_164545 = defunc_0_lt_res_164544 || y_178278;
        int64_t defunc_0_op_res_164549;
        
        if (cond_164545) {
            defunc_0_op_res_164549 = redout_180692;
        } else {
            defunc_0_op_res_164549 = i_180694;
        }
        
        float defunc_0_op_res_164550;
        
        if (cond_164545) {
            defunc_0_op_res_164550 = redout_180693;
        } else {
            defunc_0_op_res_164550 = x_164539;
        }
        
        int64_t redout_tmp_182447 = defunc_0_op_res_164549;
        float redout_tmp_182448 = defunc_0_op_res_164550;
        
        redout_180692 = redout_tmp_182447;
        redout_180693 = redout_tmp_182448;
    }
    defunc_0_reduce_comm_res_178544 = redout_180692;
    defunc_0_reduce_comm_res_178545 = redout_180693;
    prim_out_182446 = defunc_0_reduce_comm_res_178544;
    *out_prim_out_182706 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_int(struct futhark_context *ctx, int64_t *out_prim_out_182707, struct memblock ks_mem_181032, int64_t n_110133)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182446;
    int64_t defunc_0_reduce_comm_res_178544;
    int32_t defunc_0_reduce_comm_res_178545;
    int64_t redout_180692;
    int32_t redout_180693;
    
    redout_180692 = n_110133;
    redout_180693 = 2147483647;
    for (int64_t i_180694 = 0; i_180694 < n_110133; i_180694++) {
        int32_t x_164539 = ((int32_t *) ks_mem_181032.mem)[i_180694];
        bool defunc_0_lt_res_164544 = slt32(redout_180693, x_164539);
        bool defunc_0_eq_res_164546 = redout_180693 == x_164539;
        bool cond_f_res_t_res_164547 = slt64(redout_180692, i_180694);
        bool x_164548 = defunc_0_eq_res_164546 && cond_f_res_t_res_164547;
        bool x_178277 = !defunc_0_lt_res_164544;
        bool y_178278 = x_164548 && x_178277;
        bool cond_164545 = defunc_0_lt_res_164544 || y_178278;
        int64_t defunc_0_op_res_164549;
        
        if (cond_164545) {
            defunc_0_op_res_164549 = redout_180692;
        } else {
            defunc_0_op_res_164549 = i_180694;
        }
        
        int32_t defunc_0_op_res_164550;
        
        if (cond_164545) {
            defunc_0_op_res_164550 = redout_180693;
        } else {
            defunc_0_op_res_164550 = x_164539;
        }
        
        int64_t redout_tmp_182447 = defunc_0_op_res_164549;
        int32_t redout_tmp_182448 = defunc_0_op_res_164550;
        
        redout_180692 = redout_tmp_182447;
        redout_180693 = redout_tmp_182448;
    }
    defunc_0_reduce_comm_res_178544 = redout_180692;
    defunc_0_reduce_comm_res_178545 = redout_180693;
    prim_out_182446 = defunc_0_reduce_comm_res_178544;
    *out_prim_out_182707 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_long(struct futhark_context *ctx, int64_t *out_prim_out_182708, struct memblock ks_mem_181032, int64_t n_110299)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182446;
    int64_t defunc_0_reduce_comm_res_178544;
    int64_t defunc_0_reduce_comm_res_178545;
    int64_t redout_180692;
    int64_t redout_180693;
    
    redout_180692 = n_110299;
    redout_180693 = (int64_t) 9223372036854775807;
    for (int64_t i_180694 = 0; i_180694 < n_110299; i_180694++) {
        int64_t x_164539 = ((int64_t *) ks_mem_181032.mem)[i_180694];
        bool defunc_0_lt_res_164544 = slt64(redout_180693, x_164539);
        bool defunc_0_eq_res_164546 = redout_180693 == x_164539;
        bool cond_f_res_t_res_164547 = slt64(redout_180692, i_180694);
        bool x_164548 = defunc_0_eq_res_164546 && cond_f_res_t_res_164547;
        bool x_178277 = !defunc_0_lt_res_164544;
        bool y_178278 = x_164548 && x_178277;
        bool cond_164545 = defunc_0_lt_res_164544 || y_178278;
        int64_t defunc_0_op_res_164549;
        
        if (cond_164545) {
            defunc_0_op_res_164549 = redout_180692;
        } else {
            defunc_0_op_res_164549 = i_180694;
        }
        
        int64_t defunc_0_op_res_164550;
        
        if (cond_164545) {
            defunc_0_op_res_164550 = redout_180693;
        } else {
            defunc_0_op_res_164550 = x_164539;
        }
        
        int64_t redout_tmp_182447 = defunc_0_op_res_164549;
        int64_t redout_tmp_182448 = defunc_0_op_res_164550;
        
        redout_180692 = redout_tmp_182447;
        redout_180693 = redout_tmp_182448;
    }
    defunc_0_reduce_comm_res_178544 = redout_180692;
    defunc_0_reduce_comm_res_178545 = redout_180693;
    prim_out_182446 = defunc_0_reduce_comm_res_178544;
    *out_prim_out_182708 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_argmin_short(struct futhark_context *ctx, int64_t *out_prim_out_182709, struct memblock ks_mem_181032, int64_t n_109967)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182446;
    int64_t defunc_0_reduce_comm_res_178544;
    int16_t defunc_0_reduce_comm_res_178545;
    int64_t redout_180692;
    int16_t redout_180693;
    
    redout_180692 = n_109967;
    redout_180693 = (int16_t) 32767;
    for (int64_t i_180694 = 0; i_180694 < n_109967; i_180694++) {
        int16_t x_164539 = ((int16_t *) ks_mem_181032.mem)[i_180694];
        bool defunc_0_lt_res_164544 = slt16(redout_180693, x_164539);
        bool defunc_0_eq_res_164546 = redout_180693 == x_164539;
        bool cond_f_res_t_res_164547 = slt64(redout_180692, i_180694);
        bool x_164548 = defunc_0_eq_res_164546 && cond_f_res_t_res_164547;
        bool x_178277 = !defunc_0_lt_res_164544;
        bool y_178278 = x_164548 && x_178277;
        bool cond_164545 = defunc_0_lt_res_164544 || y_178278;
        int64_t defunc_0_op_res_164549;
        
        if (cond_164545) {
            defunc_0_op_res_164549 = redout_180692;
        } else {
            defunc_0_op_res_164549 = i_180694;
        }
        
        int16_t defunc_0_op_res_164550;
        
        if (cond_164545) {
            defunc_0_op_res_164550 = redout_180693;
        } else {
            defunc_0_op_res_164550 = x_164539;
        }
        
        int64_t redout_tmp_182447 = defunc_0_op_res_164549;
        int16_t redout_tmp_182448 = defunc_0_op_res_164550;
        
        redout_180692 = redout_tmp_182447;
        redout_180693 = redout_tmp_182448;
    }
    defunc_0_reduce_comm_res_178544 = redout_180692;
    defunc_0_reduce_comm_res_178545 = redout_180693;
    prim_out_182446 = defunc_0_reduce_comm_res_178544;
    *out_prim_out_182709 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_182710, struct memblock *mem_out_p_182711, struct memblock xs_mem_181032, int64_t n_108111, int64_t incr_108112)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181038_cached_sizze_182712 = 0;
    unsigned char *mem_181038 = NULL;
    int64_t mem_181041_cached_sizze_182713 = 0;
    unsigned char *mem_181041 = NULL;
    int64_t mem_181051_cached_sizze_182714 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_182715 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181120_cached_sizze_182716 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182717 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181133_cached_sizze_182718 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181135_cached_sizze_182719 = 0;
    unsigned char *mem_181135 = NULL;
    int64_t mem_181150_cached_sizze_182720 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181153_cached_sizze_182721 = 0;
    unsigned char *mem_181153 = NULL;
    struct memblock mem_181244;
    
    mem_181244.references = NULL;
    
    struct memblock mem_181242;
    
    mem_181242.references = NULL;
    
    struct memblock mem_param_tmp_182465;
    
    mem_param_tmp_182465.references = NULL;
    
    struct memblock mem_param_tmp_182464;
    
    mem_param_tmp_182464.references = NULL;
    
    struct memblock mem_181230;
    
    mem_181230.references = NULL;
    
    struct memblock mem_181226;
    
    mem_181226.references = NULL;
    
    struct memblock mem_181192;
    
    mem_181192.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181197;
    
    mem_181197.references = NULL;
    
    struct memblock mem_181195;
    
    mem_181195.references = NULL;
    
    struct memblock ext_mem_181212;
    
    ext_mem_181212.references = NULL;
    
    struct memblock ext_mem_181215;
    
    ext_mem_181215.references = NULL;
    
    struct memblock mem_param_181117;
    
    mem_param_181117.references = NULL;
    
    struct memblock mem_param_181114;
    
    mem_param_181114.references = NULL;
    
    struct memblock ext_mem_181236;
    
    ext_mem_181236.references = NULL;
    
    struct memblock ext_mem_181237;
    
    ext_mem_181237.references = NULL;
    
    struct memblock mem_181110;
    
    mem_181110.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock ext_mem_181240;
    
    ext_mem_181240.references = NULL;
    
    struct memblock mem_181035;
    
    mem_181035.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_108111;
    bool cond_171766 = sle64(n_108111, (int64_t) 1);
    int64_t zs_lhs_171767 = sub64(n_108111, (int64_t) 1);
    int64_t zp_rhs_171768 = sdiv_safe64(zs_lhs_171767, (int64_t) 20);
    int64_t min_num_blocks_171769 = add64((int64_t) 1, zp_rhs_171768);
    bool loop_cond_171770 = slt64((int64_t) 1, min_num_blocks_171769);
    bool smallest_pow_2_geq_than_res_171771;
    int64_t smallest_pow_2_geq_than_res_171772;
    bool loop_while_171773;
    int64_t x_171774;
    
    loop_while_171773 = loop_cond_171770;
    x_171774 = (int64_t) 1;
    while (loop_while_171773) {
        int64_t loopres_171775 = mul64((int64_t) 2, x_171774);
        bool loop_cond_171776 = slt64(loopres_171775, min_num_blocks_171769);
        bool loop_while_tmp_182448 = loop_cond_171776;
        int64_t x_tmp_182449 = loopres_171775;
        
        loop_while_171773 = loop_while_tmp_182448;
        x_171774 = x_tmp_182449;
    }
    smallest_pow_2_geq_than_res_171771 = loop_while_171773;
    smallest_pow_2_geq_than_res_171772 = x_171774;
    
    bool zzero_171777 = smallest_pow_2_geq_than_res_171772 == (int64_t) 0;
    bool nonzzero_171778 = !zzero_171777;
    bool protect_assert_disj_171779 = cond_171766 || nonzzero_171778;
    bool nonzzero_cert_171780;
    
    if (!protect_assert_disj_171779) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:212:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171781 = sdiv_safe64(zs_lhs_171767, smallest_pow_2_geq_than_res_171772);
    int64_t block_sizze_171782 = add64((int64_t) 1, zp_rhs_171781);
    bool y_171787 = slt64((int64_t) 0, n_108111);
    bool protect_assert_disj_182145 = cond_171766 || y_171787;
    bool index_certs_171788;
    
    if (!protect_assert_disj_182145) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_108111, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:212:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171801 = slt64(smallest_pow_2_geq_than_res_171772, (int64_t) 0);
    bool valid_171802 = !bounds_invalid_upwards_171801;
    bool protect_assert_disj_182153 = cond_171766 || valid_171802;
    bool range_valid_c_171803;
    
    if (!protect_assert_disj_182153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171772, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:212:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171805 = slt64(block_sizze_171782, (int64_t) 0);
    bool valid_171806 = !bounds_invalid_upwards_171805;
    bool protect_assert_disj_182155 = cond_171766 || valid_171806;
    bool range_valid_c_171807;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171809 = sle64(block_sizze_171782, (int64_t) 1);
    int64_t tmp_171810 = sub64(block_sizze_171782, (int64_t) 2);
    bool bounds_invalid_upwards_171811 = slt64(tmp_171810, (int64_t) 0);
    bool valid_171813 = !bounds_invalid_upwards_171811;
    bool protect_assert_disj_171814 = cond_171809 || valid_171813;
    bool protect_assert_disj_182157 = cond_171766 || protect_assert_disj_171814;
    bool range_valid_c_171815;
    
    if (!protect_assert_disj_182157) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171810, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9605(ctx, &ext_mem_181033, xs_mem_181032, n_108111, incr_108112) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181035, bytes_181034, "mem_181035")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182450 = 0; i_182450 < n_108111; i_182450++) {
        int64_t x_182451 = (int64_t) 0 + i_182450 * (int64_t) 1;
        
        ((int64_t *) mem_181035.mem)[i_182450] = x_182451;
    }
    
    int64_t flat_dim_171783 = smallest_pow_2_geq_than_res_171772 * block_sizze_171782;
    bool x_182140 = !cond_171766;
    int64_t greatest_divisor_leq_than_arg1_171785 = mul64((int64_t) 2, block_sizze_171782);
    int64_t merge_block_sizze_171786;
    
    if (x_182140) {
        int64_t x_182142;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182142, (int64_t) 8, greatest_divisor_leq_than_arg1_171785) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171786 = x_182142;
    } else {
        merge_block_sizze_171786 = (int64_t) 0;
    }
    
    double reduce_arg1_171789;
    
    if (x_182140) {
        double x_182146 = ((double *) xs_mem_181032.mem)[(int64_t) 0];
        
        reduce_arg1_171789 = x_182146;
    } else {
        reduce_arg1_171789 = 0.0;
    }
    
    double defunc_0_reduce_res_178691;
    int64_t defunc_0_reduce_res_178692;
    
    if (x_182140) {
        double x_182148;
        int64_t x_182149;
        double redout_180692;
        int64_t redout_180693;
        
        redout_180692 = reduce_arg1_171789;
        redout_180693 = (int64_t) 0;
        for (int64_t i_180694 = 0; i_180694 < n_108111; i_180694++) {
            double x_171792 = ((double *) xs_mem_181032.mem)[i_180694];
            bool zlze_res_171798 = redout_180692 <= x_171792;
            double defunc_0_op_res_171799;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171799 = x_171792;
            } else {
                defunc_0_op_res_171799 = redout_180692;
            }
            
            int64_t defunc_0_op_res_171800;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171800 = i_180694;
            } else {
                defunc_0_op_res_171800 = redout_180693;
            }
            
            double redout_tmp_182452 = defunc_0_op_res_171799;
            int64_t redout_tmp_182453 = defunc_0_op_res_171800;
            
            redout_180692 = redout_tmp_182452;
            redout_180693 = redout_tmp_182453;
        }
        x_182148 = redout_180692;
        x_182149 = redout_180693;
        defunc_0_reduce_res_178691 = x_182148;
        defunc_0_reduce_res_178692 = x_182149;
    } else {
        defunc_0_reduce_res_178691 = 0.0;
        defunc_0_reduce_res_178692 = (int64_t) 0;
    }
    
    int64_t distance_171812 = add64((int64_t) 1, tmp_171810);
    int64_t binop_x_181036 = (int64_t) 8 * smallest_pow_2_geq_than_res_171772;
    int64_t bytes_181037 = block_sizze_171782 * binop_x_181036;
    int64_t bytes_181050 = (int64_t) 8 * block_sizze_171782;
    bool loop_cond_171886 = slt64(block_sizze_171782, flat_dim_171783);
    bool zzero_171887 = merge_block_sizze_171786 == (int64_t) 0;
    bool nonzzero_171888 = !zzero_171887;
    
    if (cond_171766) {
        if (memblock_set(ctx, &ext_mem_181240, &mem_181035, "mem_181035") != 0)
            return 1;
    } else {
        if (mem_181038_cached_sizze_182712 < bytes_181037) {
            err = lexical_realloc(ctx, &mem_181038, &mem_181038_cached_sizze_182712, bytes_181037);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181041_cached_sizze_182713 < bytes_181037) {
            err = lexical_realloc(ctx, &mem_181041, &mem_181041_cached_sizze_182713, bytes_181037);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181051_cached_sizze_182714 < bytes_181050) {
            err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182714, bytes_181050);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181053_cached_sizze_182715 < bytes_181050) {
            err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_182715, bytes_181050);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180706 = 0; i_180706 < smallest_pow_2_geq_than_res_171772; i_180706++) {
            int64_t zp_lhs_171819 = mul64(block_sizze_171782, i_180706);
            
            for (int64_t i_180699 = 0; i_180699 < block_sizze_171782; i_180699++) {
                int64_t k_171823 = add64(zp_lhs_171819, i_180699);
                bool cond_171824 = slt64(k_171823, n_108111);
                double lifted_lambda_res_171825;
                int64_t lifted_lambda_res_171826;
                
                if (cond_171824) {
                    bool x_178544 = sle64((int64_t) 0, k_171823);
                    bool bounds_check_178545 = cond_171824 && x_178544;
                    bool index_certs_178546;
                    
                    if (!bounds_check_178545) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171823, "] out of bounds for array of shape [", (long long) n_108111, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double lifted_lambda_res_t_res_178547 = ((double *) xs_mem_181032.mem)[k_171823];
                    
                    lifted_lambda_res_171825 = lifted_lambda_res_t_res_178547;
                    lifted_lambda_res_171826 = k_171823;
                } else {
                    lifted_lambda_res_171825 = defunc_0_reduce_res_178691;
                    lifted_lambda_res_171826 = defunc_0_reduce_res_178692;
                }
                ((double *) mem_181051)[i_180699] = lifted_lambda_res_171825;
                ((int64_t *) mem_181053)[i_180699] = lifted_lambda_res_171826;
            }
            if (!cond_171809) {
                for (int64_t i_171835 = 0; i_171835 < distance_171812; i_171835++) {
                    int64_t gt_arg1_171838 = add64((int64_t) 1, i_171835);
                    bool x_171839 = sle64((int64_t) 0, gt_arg1_171838);
                    bool y_171840 = slt64(gt_arg1_171838, block_sizze_171782);
                    bool bounds_check_171841 = x_171839 && y_171840;
                    bool index_certs_171842;
                    
                    if (!bounds_check_171841) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171838, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171844 = slt64(i_171835, block_sizze_171782);
                    bool index_certs_171845;
                    
                    if (!y_171844) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171835, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    double gt_arg1_171843 = ((double *) mem_181051)[gt_arg1_171838];
                    double gt_arg0_171846 = ((double *) mem_181051)[i_171835];
                    bool zlze_res_171847 = gt_arg0_171846 <= gt_arg1_171843;
                    bool defunc_0_lifted_gt_res_171848 = !zlze_res_171847;
                    bool s_171849;
                    int64_t s_171852;
                    bool loop_while_171853;
                    int64_t j_171856;
                    
                    loop_while_171853 = defunc_0_lifted_gt_res_171848;
                    j_171856 = i_171835;
                    while (loop_while_171853) {
                        bool x_171857 = sle64((int64_t) 0, j_171856);
                        bool y_171858 = slt64(j_171856, block_sizze_171782);
                        bool bounds_check_171859 = x_171857 && y_171858;
                        bool index_certs_171860;
                        
                        if (!bounds_check_171859) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171856, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171863 = add64((int64_t) 1, j_171856);
                        bool x_171864 = sle64((int64_t) 0, copy_arg0_171863);
                        bool y_171865 = slt64(copy_arg0_171863, block_sizze_171782);
                        bool bounds_check_171866 = x_171864 && y_171865;
                        bool index_certs_171867;
                        
                        if (!bounds_check_171866) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171863, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        double copy_arg0_171861 = ((double *) mem_181051)[j_171856];
                        int64_t copy_arg0_171862 = ((int64_t *) mem_181053)[j_171856];
                        double copy_arg0_171868 = ((double *) mem_181051)[copy_arg0_171863];
                        int64_t copy_arg0_171869 = ((int64_t *) mem_181053)[copy_arg0_171863];
                        
                        ((double *) mem_181051)[j_171856] = copy_arg0_171868;
                        ((int64_t *) mem_181053)[j_171856] = copy_arg0_171869;
                        ((double *) mem_181051)[copy_arg0_171863] = copy_arg0_171861;
                        ((int64_t *) mem_181053)[copy_arg0_171863] = copy_arg0_171862;
                        
                        int64_t tmp_171874 = sub64(j_171856, (int64_t) 1);
                        bool cond_171875 = sle64((int64_t) 0, tmp_171874);
                        bool loop_cond_171876;
                        
                        if (cond_171875) {
                            bool y_178549 = slt64(tmp_171874, block_sizze_171782);
                            bool bounds_check_178550 = cond_171875 && y_178549;
                            bool index_certs_178551;
                            
                            if (!bounds_check_178550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171874, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double gt_arg1_178548 = ((double *) mem_181051)[j_171856];
                            double gt_arg0_178552 = ((double *) mem_181051)[tmp_171874];
                            bool zlze_res_178553 = gt_arg0_178552 <= gt_arg1_178548;
                            bool defunc_0_lifted_gt_res_178554 = !zlze_res_178553;
                            
                            loop_cond_171876 = defunc_0_lifted_gt_res_178554;
                        } else {
                            loop_cond_171876 = 0;
                        }
                        
                        bool loop_while_tmp_182460 = loop_cond_171876;
                        int64_t j_tmp_182463 = tmp_171874;
                        
                        loop_while_171853 = loop_while_tmp_182460;
                        j_171856 = j_tmp_182463;
                    }
                    s_171849 = loop_while_171853;
                    s_171852 = j_171856;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181038, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181051, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181041, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181053, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
        }
        if (memblock_alloc(ctx, &mem_181106, bytes_181037, "mem_181106")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint64_t *) mem_181038, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        if (memblock_alloc(ctx, &mem_181110, bytes_181037, "mem_181110")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181110.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint64_t *) mem_181041, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        
        int64_t data_171889;
        bool data_171890;
        int64_t data_171893;
        int64_t loop_dz2084Uz2082U_171894;
        bool loop_while_171895;
        int64_t stride_171898;
        
        if (memblock_set(ctx, &mem_param_181114, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181117, &mem_181110, "mem_181110") != 0)
            return 1;
        loop_dz2084Uz2082U_171894 = flat_dim_171783;
        loop_while_171895 = loop_cond_171886;
        stride_171898 = block_sizze_171782;
        while (loop_while_171895) {
            int64_t next_stride_171899 = mul64((int64_t) 2, stride_171898);
            bool zzero_171900 = next_stride_171899 == (int64_t) 0;
            bool nonzzero_171901 = !zzero_171900;
            bool nonzzero_cert_171902;
            
            if (!nonzzero_171901) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:212:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171903 = sdiv64(flat_dim_171783, next_stride_171899);
            bool bounds_invalid_upwards_171904 = slt64(num_merges_171903, (int64_t) 0);
            bool valid_171905 = !bounds_invalid_upwards_171904;
            bool range_valid_c_171906;
            
            if (!valid_171905) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171903, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:212:54-57\n   #6  ftsort.fut:44:3-28\n   #7  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171908 = sub64(next_stride_171899, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171909 = sle64((int64_t) 0, m_171908);
            bool cond_171911 = slt64(next_stride_171899, (int64_t) 10);
            bool protect_assert_disj_171912 = nonzzero_171888 || cond_171911;
            bool nonzzero_cert_171913;
            
            if (!protect_assert_disj_171912) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171914 = smod_safe64(next_stride_171899, merge_block_sizze_171786);
            bool num_blocks_171915 = zeze_lhs_171914 == (int64_t) 0;
            bool protect_assert_disj_171916 = cond_171911 || num_blocks_171915;
            bool assert_c_171917;
            
            if (!protect_assert_disj_171916) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171919 = sdiv_safe64(next_stride_171899, merge_block_sizze_171786);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920 = add64((int64_t) 1, num_blocks_171919);
            int64_t j_m_i_171921 = sub64(next_stride_171899, stride_171898);
            int64_t flat_dim_171922 = merge_block_sizze_171786 * num_blocks_171919;
            bool bounds_invalid_upwards_171923 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, (int64_t) 0);
            bool zzero_lte_i_171924 = sle64((int64_t) 0, stride_171898);
            bool i_lte_j_171925 = sle64(stride_171898, next_stride_171899);
            bool empty_slice_171926 = stride_171898 == (int64_t) 0;
            int64_t m_171927 = sub64(stride_171898, (int64_t) 1);
            bool bounds_invalid_upwards_171928 = slt64(num_blocks_171919, (int64_t) 0);
            bool empty_slice_171929 = j_m_i_171921 == (int64_t) 0;
            int64_t m_171930 = sub64(j_m_i_171921, (int64_t) 1);
            bool cond_171931 = slt64((int64_t) 0, stride_171898);
            bool valid_171932 = !bounds_invalid_upwards_171923;
            bool zzero_leq_i_p_m_t_s_171933 = sle64((int64_t) 0, m_171927);
            bool i_p_m_t_s_leq_w_171934 = slt64(m_171927, next_stride_171899);
            bool valid_171935 = !bounds_invalid_upwards_171928;
            bool i_p_m_t_s_leq_w_171936 = slt64(m_171908, flat_dim_171922);
            int64_t i_p_m_t_s_171937 = add64(stride_171898, m_171930);
            bool y_171938 = slt64((int64_t) 0, j_m_i_171921);
            bool protect_assert_disj_171939 = cond_171911 || valid_171932;
            bool range_valid_c_171940;
            
            if (!protect_assert_disj_171939) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171941 = zzero_leq_i_p_m_t_s_171933 && i_p_m_t_s_leq_w_171934;
            bool protect_assert_disj_171942 = cond_171911 || valid_171935;
            bool range_valid_c_171943;
            
            if (!protect_assert_disj_171942) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171919, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171944 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171936;
            bool zzero_leq_i_p_m_t_s_171945 = sle64((int64_t) 0, i_p_m_t_s_171937);
            bool i_p_m_t_s_leq_w_171946 = slt64(i_p_m_t_s_171937, next_stride_171899);
            bool forwards_ok_171947 = zzero_lte_i_171924 && y_171941;
            bool ok_or_empty_171948 = zzero_171900 || y_171944;
            bool y_171949 = zzero_lte_i_171924 && i_p_m_t_s_leq_w_171946;
            bool protect_assert_disj_171950 = cond_171931 || y_171938;
            bool ok_or_empty_171951 = empty_slice_171926 || forwards_ok_171947;
            bool protect_assert_disj_171952 = cond_171911 || ok_or_empty_171948;
            bool index_certs_171953;
            
            if (!protect_assert_disj_171952) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) flat_dim_171922, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171954 = zzero_leq_i_p_m_t_s_171945 && y_171949;
            bool loop_not_taken_171955 = !cond_171911;
            bool protect_assert_disj_171956 = protect_assert_disj_171950 || loop_not_taken_171955;
            bool index_certs_171957;
            
            if (!protect_assert_disj_171956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171958 = cond_171911 || ok_or_empty_171951;
            bool index_certs_171959;
            
            if (!protect_assert_disj_171958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171960 = i_lte_j_171925 && y_171954;
            bool protect_assert_disj_171961 = ok_or_empty_171951 || loop_not_taken_171955;
            bool index_certs_171962;
            
            if (!protect_assert_disj_171961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171963 = empty_slice_171929 || forwards_ok_171960;
            bool protect_assert_disj_171964 = loop_not_taken_171955 || ok_or_empty_171963;
            bool index_certs_171965;
            
            if (!protect_assert_disj_171964) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171966 = cond_171911 || ok_or_empty_171963;
            bool index_certs_171967;
            
            if (!protect_assert_disj_171966) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181118 = (int64_t) 8 * num_merges_171903;
            int64_t bytes_181119 = next_stride_171899 * binop_x_181118;
            bool i_lte_j_171910 = sle64((int64_t) 0, next_stride_171899);
            
            if (mem_181120_cached_sizze_182716 < bytes_181119) {
                err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182716, bytes_181119);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181123_cached_sizze_182717 < bytes_181119) {
                err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182717, bytes_181119);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181132 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920;
            int64_t binop_x_181148 = (int64_t) 8 * num_blocks_171919;
            int64_t bytes_181149 = merge_block_sizze_171786 * binop_x_181148;
            int64_t bytes_181194 = (int64_t) 16 * stride_171898;
            
            for (int64_t i_180727 = 0; i_180727 < num_merges_171903; i_180727++) {
                int64_t start_171971 = mul64(next_stride_171899, i_180727);
                int64_t j_m_i_171972 = sub64(loop_dz2084Uz2082U_171894, start_171971);
                bool empty_slice_171973 = j_m_i_171972 == (int64_t) 0;
                int64_t m_171974 = sub64(j_m_i_171972, (int64_t) 1);
                int64_t i_p_m_t_s_171975 = add64(start_171971, m_171974);
                bool zzero_leq_i_p_m_t_s_171976 = sle64((int64_t) 0, i_p_m_t_s_171975);
                bool i_p_m_t_s_leq_w_171977 = slt64(i_p_m_t_s_171975, loop_dz2084Uz2082U_171894);
                bool zzero_lte_i_171978 = sle64((int64_t) 0, start_171971);
                bool i_lte_j_171979 = sle64(start_171971, loop_dz2084Uz2082U_171894);
                bool y_171980 = i_p_m_t_s_leq_w_171977 && zzero_lte_i_171978;
                bool y_171981 = zzero_leq_i_p_m_t_s_171976 && y_171980;
                bool forwards_ok_171982 = i_lte_j_171979 && y_171981;
                bool ok_or_empty_171983 = empty_slice_171973 || forwards_ok_171982;
                bool index_certs_171984;
                
                if (!ok_or_empty_171983) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171971, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171894, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171985 = slt64(m_171908, j_m_i_171972);
                bool y_171986 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171985;
                bool forwards_ok_171987 = i_lte_j_171910 && y_171986;
                bool ok_or_empty_171988 = zzero_171900 || forwards_ok_171987;
                bool index_certs_171989;
                
                if (!ok_or_empty_171988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) j_m_i_171972, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:44:3-28\n   #9  ftsort.fut:43:1-44:28\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171911) {
                    double dummy_178580;
                    int64_t dummy_178581;
                    
                    if (cond_171931) {
                        double head_res_178582 = ((double *) mem_param_181114.mem)[start_171971];
                        int64_t head_res_178583 = ((int64_t *) mem_param_181117.mem)[start_171971];
                        
                        dummy_178580 = head_res_178582;
                        dummy_178581 = head_res_178583;
                    } else {
                        int64_t slice_178584 = stride_171898 + start_171971;
                        double head_res_178585 = ((double *) mem_param_181114.mem)[slice_178584];
                        int64_t head_res_178586 = ((int64_t *) mem_param_181117.mem)[slice_178584];
                        
                        dummy_178580 = head_res_178585;
                        dummy_178581 = head_res_178586;
                    }
                    if (memblock_alloc(ctx, &mem_181195, bytes_181194, "mem_181195")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182473 = 0; nest_i_182473 < next_stride_171899; nest_i_182473++) {
                        ((double *) mem_181195.mem)[nest_i_182473] = dummy_178580;
                    }
                    if (memblock_alloc(ctx, &mem_181197, bytes_181194, "mem_181197")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182474 = 0; nest_i_182474 < next_stride_171899; nest_i_182474++) {
                        ((int64_t *) mem_181197.mem)[nest_i_182474] = dummy_178581;
                    }
                    
                    int64_t data_178589;
                    int64_t i_178593 = (int64_t) 0;
                    
                    for (int64_t k_178592 = 0; k_178592 < next_stride_171899; k_178592++) {
                        int64_t j_178596 = sub64(k_178592, i_178593);
                        bool cond_178597 = j_178596 == j_m_i_171921;
                        bool cond_178598;
                        
                        if (cond_178597) {
                            cond_178598 = 1;
                        } else {
                            bool cond_178599 = slt64(i_178593, stride_171898);
                            bool cond_f_res_178600;
                            
                            if (cond_178599) {
                                bool x_178601 = sle64((int64_t) 0, j_178596);
                                bool y_178602 = slt64(j_178596, j_m_i_171921);
                                bool bounds_check_178603 = x_178601 && y_178602;
                                bool index_certs_178604;
                                
                                if (!bounds_check_178603) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178608 = sle64((int64_t) 0, i_178593);
                                bool bounds_check_178609 = cond_178599 && x_178608;
                                bool index_certs_178610;
                                
                                if (!bounds_check_178609) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178605 = stride_171898 + j_178596;
                                int64_t slice_178606 = start_171971 + slice_178605;
                                double leq_arg1_178607 = ((double *) mem_param_181114.mem)[slice_178606];
                                int64_t slice_178611 = start_171971 + i_178593;
                                double leq_arg0_178612 = ((double *) mem_param_181114.mem)[slice_178611];
                                bool zlze_res_178613 = leq_arg0_178612 <= leq_arg1_178607;
                                
                                cond_f_res_178600 = zlze_res_178613;
                            } else {
                                cond_f_res_178600 = 0;
                            }
                            cond_178598 = cond_f_res_178600;
                        }
                        
                        int64_t loopres_178614;
                        double loopres_178615;
                        int64_t loopres_178616;
                        
                        if (cond_178598) {
                            bool x_178618 = sle64((int64_t) 0, i_178593);
                            bool y_178619 = slt64(i_178593, stride_171898);
                            bool bounds_check_178620 = x_178618 && y_178619;
                            bool index_certs_178621;
                            
                            if (!bounds_check_178620) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178617 = add64((int64_t) 1, i_178593);
                            int64_t slice_178622 = start_171971 + i_178593;
                            double tmp_178623 = ((double *) mem_param_181114.mem)[slice_178622];
                            int64_t tmp_178624 = ((int64_t *) mem_param_181117.mem)[slice_178622];
                            
                            loopres_178614 = tmp_178617;
                            loopres_178615 = tmp_178623;
                            loopres_178616 = tmp_178624;
                        } else {
                            bool x_178625 = sle64((int64_t) 0, j_178596);
                            bool y_178626 = slt64(j_178596, j_m_i_171921);
                            bool bounds_check_178627 = x_178625 && y_178626;
                            bool index_certs_178628;
                            
                            if (!bounds_check_178627) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:44:3-28\n   #10 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178629 = stride_171898 + j_178596;
                            int64_t slice_178630 = start_171971 + slice_178629;
                            double tmp_178631 = ((double *) mem_param_181114.mem)[slice_178630];
                            int64_t tmp_178632 = ((int64_t *) mem_param_181117.mem)[slice_178630];
                            
                            loopres_178614 = i_178593;
                            loopres_178615 = tmp_178631;
                            loopres_178616 = tmp_178632;
                        }
                        ((double *) mem_181195.mem)[k_178592] = loopres_178615;
                        ((int64_t *) mem_181197.mem)[k_178592] = loopres_178616;
                        
                        int64_t i_tmp_182475 = loopres_178614;
                        
                        i_178593 = i_tmp_182475;
                    }
                    data_178589 = i_178593;
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181195, "mem_181195") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181197, "mem_181197") != 0)
                        return 1;
                } else {
                    if (mem_181133_cached_sizze_182718 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182718, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181135_cached_sizze_182719 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181135, &mem_181135_cached_sizze_182719, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180713 = 0; i_180713 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920; i_180713++) {
                        int64_t split_count_arg3_172051 = mul64(merge_block_sizze_171786, i_180713);
                        int64_t defunc_0_split_count_res_172052;
                        int64_t defunc_0_split_count_res_172053;
                        int64_t defunc_0_split_count_res_172054;
                        int64_t defunc_0_split_count_res_172055;
                        int64_t defunc_0_split_count_res_172056;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_172052, &defunc_0_split_count_res_172053, &defunc_0_split_count_res_172054, &defunc_0_split_count_res_172055, &defunc_0_split_count_res_172056, (int64_t) 0, stride_171898, (int64_t) 0, j_m_i_171921, split_count_arg3_172051) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172057 = slt64((int64_t) 0, defunc_0_split_count_res_172056);
                        bool defunc_0_split_count_res_172058;
                        int64_t defunc_0_split_count_res_172059;
                        int64_t defunc_0_split_count_res_172060;
                        int64_t defunc_0_split_count_res_172061;
                        int64_t defunc_0_split_count_res_172062;
                        int64_t defunc_0_split_count_res_172063;
                        bool loop_while_172064;
                        int64_t ss_172065;
                        int64_t ss_172066;
                        int64_t tt_172067;
                        int64_t tt_172068;
                        int64_t count_172069;
                        
                        loop_while_172064 = loop_cond_172057;
                        ss_172065 = defunc_0_split_count_res_172052;
                        ss_172066 = defunc_0_split_count_res_172053;
                        tt_172067 = defunc_0_split_count_res_172054;
                        tt_172068 = defunc_0_split_count_res_172055;
                        count_172069 = defunc_0_split_count_res_172056;
                        while (loop_while_172064) {
                            int64_t zlze_lhs_172070 = sub64(ss_172066, ss_172065);
                            bool cond_172071 = sle64(zlze_lhs_172070, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172072;
                            int64_t defunc_0_lifted_step_res_172073;
                            int64_t defunc_0_lifted_step_res_172074;
                            int64_t defunc_0_lifted_step_res_172075;
                            
                            if (cond_172071) {
                                int64_t tmp_178635 = add64(tt_172067, count_172069);
                                
                                defunc_0_lifted_step_res_172072 = ss_172065;
                                defunc_0_lifted_step_res_172073 = tmp_178635;
                                defunc_0_lifted_step_res_172074 = tt_172068;
                                defunc_0_lifted_step_res_172075 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172077 = sub64(tt_172068, tt_172067);
                                bool cond_172078 = sle64(zlze_lhs_172077, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172079;
                                int64_t defunc_0_lifted_step_res_f_res_172080;
                                int64_t defunc_0_lifted_step_res_f_res_172081;
                                int64_t defunc_0_lifted_step_res_f_res_172082;
                                
                                if (cond_172078) {
                                    int64_t tmp_178636 = add64(ss_172065, count_172069);
                                    
                                    defunc_0_lifted_step_res_f_res_172079 = tmp_178636;
                                    defunc_0_lifted_step_res_f_res_172080 = tt_172067;
                                    defunc_0_lifted_step_res_f_res_172081 = tt_172068;
                                    defunc_0_lifted_step_res_f_res_172082 = (int64_t) 0;
                                } else {
                                    bool cond_172084 = count_172069 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172085;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172086;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172087;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172088;
                                    
                                    if (cond_172084) {
                                        bool x_178638 = sle64((int64_t) 0, ss_172065);
                                        bool y_178639 = slt64(ss_172065, stride_171898);
                                        bool bounds_check_178640 = x_178638 && y_178639;
                                        bool index_certs_178641;
                                        
                                        if (!bounds_check_178640) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172065, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:212:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178644 = sle64((int64_t) 0, tt_172067);
                                        bool y_178645 = slt64(tt_172067, j_m_i_171921);
                                        bool bounds_check_178646 = x_178644 && y_178645;
                                        bool index_certs_178647;
                                        
                                        if (!bounds_check_178646) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172067, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:212:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178642 = start_171971 + ss_172065;
                                        double leq_arg1_178643 = ((double *) mem_param_181114.mem)[slice_178642];
                                        int64_t slice_178648 = stride_171898 + tt_172067;
                                        int64_t slice_178649 = start_171971 + slice_178648;
                                        double leq_arg0_178650 = ((double *) mem_param_181114.mem)[slice_178649];
                                        bool zlze_res_178651 = leq_arg0_178650 <= leq_arg1_178643;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        
                                        if (zlze_res_178651) {
                                            int64_t tmp_178654 = add64((int64_t) 1, tt_172067);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = ss_172065;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tmp_178654;
                                        } else {
                                            int64_t tmp_178655 = add64((int64_t) 1, ss_172065);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = tmp_178655;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tt_172067;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = tt_172068;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = (int64_t) 0;
                                    } else {
                                        int64_t m_172107 = sdiv64(count_172069, (int64_t) 2);
                                        int64_t n_172108 = sub64(count_172069, m_172107);
                                        bool cond_172109 = n_172108 == (int64_t) 0;
                                        int64_t zgze_lhs_172110 = add64(ss_172065, m_172107);
                                        bool cond_f_res_172111 = sle64(ss_172066, zgze_lhs_172110);
                                        bool x_172112 = !cond_172109;
                                        bool y_172113 = cond_f_res_172111 && x_172112;
                                        bool cond_172114 = cond_172109 || y_172113;
                                        bool leq_y_x_172115;
                                        
                                        if (cond_172114) {
                                            leq_y_x_172115 = 1;
                                        } else {
                                            bool x_172116 = sle64((int64_t) 0, zgze_lhs_172110);
                                            bool y_172117 = slt64(zgze_lhs_172110, stride_171898);
                                            bool bounds_check_172118 = x_172116 && y_172117;
                                            bool index_certs_172119;
                                            
                                            if (!bounds_check_172118) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172110, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:212:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172122 = add64(tt_172067, n_172108);
                                            int64_t leq_arg0_172123 = sub64(zm_lhs_172122, (int64_t) 1);
                                            bool x_172124 = sle64((int64_t) 0, leq_arg0_172123);
                                            bool y_172125 = slt64(leq_arg0_172123, j_m_i_171921);
                                            bool bounds_check_172126 = x_172124 && y_172125;
                                            bool index_certs_172127;
                                            
                                            if (!bounds_check_172126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172123, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:212:54-57\n   #13 ftsort.fut:44:3-28\n   #14 ftsort.fut:43:1-44:28\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172120 = start_171971 + zgze_lhs_172110;
                                            double leq_arg1_172121 = ((double *) mem_param_181114.mem)[slice_172120];
                                            int64_t slice_172128 = stride_171898 + leq_arg0_172123;
                                            int64_t slice_172129 = start_171971 + slice_172128;
                                            double leq_arg0_172130 = ((double *) mem_param_181114.mem)[slice_172129];
                                            bool zlze_res_172131 = leq_arg0_172130 <= leq_arg1_172121;
                                            
                                            leq_y_x_172115 = zlze_res_172131;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                        
                                        if (leq_y_x_172115) {
                                            int64_t tmp_178656 = add64(tt_172067, n_172108);
                                            int64_t tmp_178657 = sub64(count_172069, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tmp_178656;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tt_172068;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = tmp_178657;
                                        } else {
                                            int64_t tmp_172137 = add64(tt_172067, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tt_172067;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tmp_172137;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = count_172069;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = ss_172065;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                    }
                                    defunc_0_lifted_step_res_f_res_172079 = defunc_0_lifted_step_res_f_res_f_res_172085;
                                    defunc_0_lifted_step_res_f_res_172080 = defunc_0_lifted_step_res_f_res_f_res_172086;
                                    defunc_0_lifted_step_res_f_res_172081 = defunc_0_lifted_step_res_f_res_f_res_172087;
                                    defunc_0_lifted_step_res_f_res_172082 = defunc_0_lifted_step_res_f_res_f_res_172088;
                                }
                                defunc_0_lifted_step_res_172072 = defunc_0_lifted_step_res_f_res_172079;
                                defunc_0_lifted_step_res_172073 = defunc_0_lifted_step_res_f_res_172080;
                                defunc_0_lifted_step_res_172074 = defunc_0_lifted_step_res_f_res_172081;
                                defunc_0_lifted_step_res_172075 = defunc_0_lifted_step_res_f_res_172082;
                            }
                            
                            int64_t loopres_172138;
                            int64_t loopres_172139;
                            int64_t loopres_172140;
                            int64_t loopres_172141;
                            int64_t loopres_172142;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_172138, &loopres_172139, &loopres_172140, &loopres_172141, &loopres_172142, defunc_0_lifted_step_res_172072, ss_172066, defunc_0_lifted_step_res_172073, defunc_0_lifted_step_res_172074, defunc_0_lifted_step_res_172075) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172143 = slt64((int64_t) 0, loopres_172142);
                            bool loop_while_tmp_182480 = loop_cond_172143;
                            int64_t ss_tmp_182481 = loopres_172138;
                            int64_t ss_tmp_182482 = loopres_172139;
                            int64_t tt_tmp_182483 = loopres_172140;
                            int64_t tt_tmp_182484 = loopres_172141;
                            int64_t count_tmp_182485 = loopres_172142;
                            
                            loop_while_172064 = loop_while_tmp_182480;
                            ss_172065 = ss_tmp_182481;
                            ss_172066 = ss_tmp_182482;
                            tt_172067 = tt_tmp_182483;
                            tt_172068 = tt_tmp_182484;
                            count_172069 = count_tmp_182485;
                        }
                        defunc_0_split_count_res_172058 = loop_while_172064;
                        defunc_0_split_count_res_172059 = ss_172065;
                        defunc_0_split_count_res_172060 = ss_172066;
                        defunc_0_split_count_res_172061 = tt_172067;
                        defunc_0_split_count_res_172062 = tt_172068;
                        defunc_0_split_count_res_172063 = count_172069;
                        ((int64_t *) mem_181133)[i_180713] = defunc_0_split_count_res_172059;
                        ((int64_t *) mem_181135)[i_180713] = defunc_0_split_count_res_172061;
                    }
                    if (mem_181150_cached_sizze_182720 < bytes_181149) {
                        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_182720, bytes_181149);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181153_cached_sizze_182721 < bytes_181149) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182721, bytes_181149);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180720 = 0; i_180720 < num_blocks_171919; i_180720++) {
                        bool y_172149 = slt64(i_180720, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool index_certs_172151;
                        
                        if (!y_172149) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180720, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172152 = ((int64_t *) mem_181133)[i_180720];
                        int64_t defunc_0_f_res_172153 = ((int64_t *) mem_181135)[i_180720];
                        int64_t tmp_172154 = add64((int64_t) 1, i_180720);
                        bool x_172155 = sle64((int64_t) 0, tmp_172154);
                        bool y_172156 = slt64(tmp_172154, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool bounds_check_172157 = x_172155 && y_172156;
                        bool index_certs_172158;
                        
                        if (!bounds_check_172157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172154, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172159 = ((int64_t *) mem_181133)[tmp_172154];
                        int64_t defunc_0_f_res_172160 = ((int64_t *) mem_181135)[tmp_172154];
                        int64_t merge_sequential_arg2_172161 = add64(stride_171898, defunc_0_f_res_172153);
                        int64_t merge_sequential_arg2_172162 = add64(stride_171898, defunc_0_f_res_172160);
                        int64_t j_m_i_172163 = sub64(merge_sequential_arg2_172162, merge_sequential_arg2_172161);
                        bool empty_slice_172164 = j_m_i_172163 == (int64_t) 0;
                        int64_t m_172165 = sub64(j_m_i_172163, (int64_t) 1);
                        int64_t i_p_m_t_s_172166 = add64(merge_sequential_arg2_172161, m_172165);
                        bool zzero_leq_i_p_m_t_s_172167 = sle64((int64_t) 0, i_p_m_t_s_172166);
                        bool i_p_m_t_s_leq_w_172168 = slt64(i_p_m_t_s_172166, next_stride_171899);
                        bool zzero_lte_i_172169 = sle64((int64_t) 0, merge_sequential_arg2_172161);
                        bool i_lte_j_172170 = sle64(merge_sequential_arg2_172161, merge_sequential_arg2_172162);
                        bool y_172171 = i_p_m_t_s_leq_w_172168 && zzero_lte_i_172169;
                        bool y_172172 = zzero_leq_i_p_m_t_s_172167 && y_172171;
                        bool forwards_ok_172173 = i_lte_j_172170 && y_172172;
                        bool ok_or_empty_172174 = empty_slice_172164 || forwards_ok_172173;
                        bool index_certs_172175;
                        
                        if (!ok_or_empty_172174) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172161, ":", (long long) merge_sequential_arg2_172162, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172176 = sub64(defunc_0_f_res_172159, defunc_0_f_res_172152);
                        bool empty_slice_172177 = j_m_i_172176 == (int64_t) 0;
                        int64_t m_172178 = sub64(j_m_i_172176, (int64_t) 1);
                        int64_t i_p_m_t_s_172179 = add64(defunc_0_f_res_172152, m_172178);
                        bool zzero_leq_i_p_m_t_s_172180 = sle64((int64_t) 0, i_p_m_t_s_172179);
                        bool i_p_m_t_s_leq_w_172181 = slt64(i_p_m_t_s_172179, next_stride_171899);
                        bool zzero_lte_i_172182 = sle64((int64_t) 0, defunc_0_f_res_172152);
                        bool i_lte_j_172183 = sle64(defunc_0_f_res_172152, defunc_0_f_res_172159);
                        bool y_172184 = i_p_m_t_s_leq_w_172181 && zzero_lte_i_172182;
                        bool y_172185 = zzero_leq_i_p_m_t_s_172180 && y_172184;
                        bool forwards_ok_172186 = i_lte_j_172183 && y_172185;
                        bool ok_or_empty_172187 = empty_slice_172177 || forwards_ok_172186;
                        bool index_certs_172188;
                        
                        if (!ok_or_empty_172187) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172152, ":", (long long) defunc_0_f_res_172159, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:44:3-28\n   #11 ftsort.fut:43:1-44:28\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172189 = slt64((int64_t) 0, j_m_i_172176);
                        double dummy_172190;
                        int64_t dummy_172191;
                        
                        if (cond_172189) {
                            bool index_certs_178658;
                            
                            if (!cond_172189) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:212:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178659 = start_171971 + defunc_0_f_res_172152;
                            double head_res_178660 = ((double *) mem_param_181114.mem)[slice_178659];
                            int64_t head_res_178661 = ((int64_t *) mem_param_181117.mem)[slice_178659];
                            
                            dummy_172190 = head_res_178660;
                            dummy_172191 = head_res_178661;
                        } else {
                            bool y_172196 = slt64((int64_t) 0, j_m_i_172163);
                            bool index_certs_172197;
                            
                            if (!y_172196) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:212:54-57\n   #12 ftsort.fut:44:3-28\n   #13 ftsort.fut:43:1-44:28\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172198 = start_171971 + merge_sequential_arg2_172161;
                            double head_res_172199 = ((double *) mem_param_181114.mem)[slice_172198];
                            int64_t head_res_172200 = ((int64_t *) mem_param_181117.mem)[slice_172198];
                            
                            dummy_172190 = head_res_172199;
                            dummy_172191 = head_res_172200;
                        }
                        for (int64_t nest_i_182488 = 0; nest_i_182488 < merge_block_sizze_171786; nest_i_182488++) {
                            ((double *) mem_181150)[i_180720 * merge_block_sizze_171786 + nest_i_182488] = dummy_172190;
                        }
                        for (int64_t nest_i_182489 = 0; nest_i_182489 < merge_block_sizze_171786; nest_i_182489++) {
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + nest_i_182489] = dummy_172191;
                        }
                        
                        int64_t data_172203;
                        int64_t i_172207 = (int64_t) 0;
                        
                        for (int64_t k_172206 = 0; k_172206 < merge_block_sizze_171786; k_172206++) {
                            int64_t j_172210 = sub64(k_172206, i_172207);
                            bool cond_172211 = j_172210 == j_m_i_172163;
                            bool cond_172212;
                            
                            if (cond_172211) {
                                cond_172212 = 1;
                            } else {
                                bool cond_172213 = slt64(i_172207, j_m_i_172176);
                                bool cond_f_res_172214;
                                
                                if (cond_172213) {
                                    bool x_178662 = sle64((int64_t) 0, j_172210);
                                    bool y_178663 = slt64(j_172210, j_m_i_172163);
                                    bool bounds_check_178664 = x_178662 && y_178663;
                                    bool index_certs_178665;
                                    
                                    if (!bounds_check_178664) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178669 = sle64((int64_t) 0, i_172207);
                                    bool bounds_check_178670 = cond_172213 && x_178669;
                                    bool index_certs_178671;
                                    
                                    if (!bounds_check_178670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178666 = merge_sequential_arg2_172161 + j_172210;
                                    int64_t slice_178667 = start_171971 + slice_178666;
                                    double leq_arg1_178668 = ((double *) mem_param_181114.mem)[slice_178667];
                                    int64_t slice_178672 = defunc_0_f_res_172152 + i_172207;
                                    int64_t slice_178673 = start_171971 + slice_178672;
                                    double leq_arg0_178674 = ((double *) mem_param_181114.mem)[slice_178673];
                                    bool zlze_res_178675 = leq_arg0_178674 <= leq_arg1_178668;
                                    
                                    cond_f_res_172214 = zlze_res_178675;
                                } else {
                                    cond_f_res_172214 = 0;
                                }
                                cond_172212 = cond_f_res_172214;
                            }
                            
                            int64_t loopres_172229;
                            double loopres_172230;
                            int64_t loopres_172231;
                            
                            if (cond_172212) {
                                bool x_178677 = sle64((int64_t) 0, i_172207);
                                bool y_178678 = slt64(i_172207, j_m_i_172176);
                                bool bounds_check_178679 = x_178677 && y_178678;
                                bool index_certs_178680;
                                
                                if (!bounds_check_178679) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178676 = add64((int64_t) 1, i_172207);
                                int64_t slice_178681 = defunc_0_f_res_172152 + i_172207;
                                int64_t slice_178682 = start_171971 + slice_178681;
                                double tmp_178683 = ((double *) mem_param_181114.mem)[slice_178682];
                                int64_t tmp_178684 = ((int64_t *) mem_param_181117.mem)[slice_178682];
                                
                                loopres_172229 = tmp_178676;
                                loopres_172230 = tmp_178683;
                                loopres_172231 = tmp_178684;
                            } else {
                                bool x_172241 = sle64((int64_t) 0, j_172210);
                                bool y_172242 = slt64(j_172210, j_m_i_172163);
                                bool bounds_check_172243 = x_172241 && y_172242;
                                bool index_certs_172244;
                                
                                if (!bounds_check_172243) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:44:3-28\n   #12 ftsort.fut:43:1-44:28\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172245 = merge_sequential_arg2_172161 + j_172210;
                                int64_t slice_172246 = start_171971 + slice_172245;
                                double tmp_172247 = ((double *) mem_param_181114.mem)[slice_172246];
                                int64_t tmp_172248 = ((int64_t *) mem_param_181117.mem)[slice_172246];
                                
                                loopres_172229 = i_172207;
                                loopres_172230 = tmp_172247;
                                loopres_172231 = tmp_172248;
                            }
                            ((double *) mem_181150)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172230;
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172231;
                            
                            int64_t i_tmp_182490 = loopres_172229;
                            
                            i_172207 = i_tmp_182490;
                        }
                        data_172203 = i_172207;
                    }
                    if (memblock_alloc(ctx, &mem_181188, bytes_181149, "mem_181188")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint64_t *) mem_181150, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_alloc(ctx, &mem_181192, bytes_181149, "mem_181192")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181192.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint64_t *) mem_181153, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181188, "mem_181188") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181192, "mem_181192") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181120, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181215.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181123, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181212.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172255 = next_stride_171899 * num_merges_171903;
            
            if (memblock_alloc(ctx, &mem_181226, bytes_181119, "mem_181226")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181226.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint64_t *) mem_181120, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            if (memblock_alloc(ctx, &mem_181230, bytes_181119, "mem_181230")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181230.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint64_t *) mem_181123, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            
            bool loop_cond_172258 = slt64(next_stride_171899, flat_dim_171783);
            
            if (memblock_set(ctx, &mem_param_tmp_182464, &mem_181226, "mem_181226") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182465, &mem_181230, "mem_181230") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182466 = flat_dim_172255;
            bool loop_while_tmp_182467 = loop_cond_172258;
            int64_t stride_tmp_182470 = next_stride_171899;
            
            if (memblock_set(ctx, &mem_param_181114, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181117, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
                return 1;
            loop_dz2084Uz2082U_171894 = loop_dz2084Uz2082U_tmp_182466;
            loop_while_171895 = loop_while_tmp_182467;
            stride_171898 = stride_tmp_182470;
        }
        if (memblock_set(ctx, &ext_mem_181237, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181236, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        data_171889 = loop_dz2084Uz2082U_171894;
        data_171890 = loop_while_171895;
        data_171893 = stride_171898;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        
        bool empty_slice_172259 = n_108111 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172260 = sle64((int64_t) 0, zs_lhs_171767);
        bool i_p_m_t_s_leq_w_172261 = slt64(zs_lhs_171767, data_171889);
        bool y_172262 = zzero_leq_i_p_m_t_s_172260 && i_p_m_t_s_leq_w_172261;
        bool ok_or_empty_172263 = empty_slice_172259 || y_172262;
        bool index_certs_172264;
        
        if (!ok_or_empty_172263) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_108111, "] out of bounds for array of shape [", (long long) data_171889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:212:54-57\n   #5  ftsort.fut:44:3-28\n   #6  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181240, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181242, bytes_181034, "mem_181242")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181244, bytes_181034, "mem_181244")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180734 = 0; i_180734 < n_108111; i_180734++) {
        int64_t eta_p_172268 = ((int64_t *) ext_mem_181240.mem)[i_180734];
        bool x_172269 = sle64((int64_t) 0, eta_p_172268);
        bool y_172270 = slt64(eta_p_172268, n_108111);
        bool bounds_check_172271 = x_172269 && y_172270;
        bool index_certs_172272;
        
        if (!bounds_check_172271) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172268, "] out of bounds for array of shape [", (long long) n_108111, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:212:54-57\n   #4  ftsort.fut:44:3-28\n   #5  ftsort.fut:43:1-44:28\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172273 = ((int64_t *) ext_mem_181033.mem)[eta_p_172268];
        double lifted_lambda_res_172274 = ((double *) xs_mem_181032.mem)[eta_p_172268];
        
        ((int64_t *) mem_181242.mem)[i_180734] = lifted_lambda_res_172273;
        ((double *) mem_181244.mem)[i_180734] = lifted_lambda_res_172274;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181242, "mem_181242") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181244, "mem_181244") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182710, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182711, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181038);
        free(mem_181041);
        free(mem_181051);
        free(mem_181053);
        free(mem_181120);
        free(mem_181123);
        free(mem_181133);
        free(mem_181135);
        free(mem_181150);
        free(mem_181153);
        if (memblock_unref(ctx, &mem_181244, "mem_181244") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181242, "mem_181242") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181230, "mem_181230") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181226, "mem_181226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181192, "mem_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181197, "mem_181197") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181195, "mem_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181237, "ext_mem_181237") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_182722, struct memblock *mem_out_p_182723, struct memblock xs_mem_181032, int64_t n_105767, int64_t incr_105768)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181038_cached_sizze_182724 = 0;
    unsigned char *mem_181038 = NULL;
    int64_t mem_181041_cached_sizze_182725 = 0;
    unsigned char *mem_181041 = NULL;
    int64_t mem_181051_cached_sizze_182726 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_182727 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181120_cached_sizze_182728 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182729 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181133_cached_sizze_182730 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181135_cached_sizze_182731 = 0;
    unsigned char *mem_181135 = NULL;
    int64_t mem_181150_cached_sizze_182732 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181153_cached_sizze_182733 = 0;
    unsigned char *mem_181153 = NULL;
    struct memblock mem_181244;
    
    mem_181244.references = NULL;
    
    struct memblock mem_181242;
    
    mem_181242.references = NULL;
    
    struct memblock mem_param_tmp_182465;
    
    mem_param_tmp_182465.references = NULL;
    
    struct memblock mem_param_tmp_182464;
    
    mem_param_tmp_182464.references = NULL;
    
    struct memblock mem_181230;
    
    mem_181230.references = NULL;
    
    struct memblock mem_181226;
    
    mem_181226.references = NULL;
    
    struct memblock mem_181192;
    
    mem_181192.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181197;
    
    mem_181197.references = NULL;
    
    struct memblock mem_181195;
    
    mem_181195.references = NULL;
    
    struct memblock ext_mem_181212;
    
    ext_mem_181212.references = NULL;
    
    struct memblock ext_mem_181215;
    
    ext_mem_181215.references = NULL;
    
    struct memblock mem_param_181117;
    
    mem_param_181117.references = NULL;
    
    struct memblock mem_param_181114;
    
    mem_param_181114.references = NULL;
    
    struct memblock ext_mem_181236;
    
    ext_mem_181236.references = NULL;
    
    struct memblock ext_mem_181237;
    
    ext_mem_181237.references = NULL;
    
    struct memblock mem_181110;
    
    mem_181110.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock ext_mem_181240;
    
    ext_mem_181240.references = NULL;
    
    struct memblock mem_181035;
    
    mem_181035.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_105767;
    bool cond_171766 = sle64(n_105767, (int64_t) 1);
    int64_t zs_lhs_171767 = sub64(n_105767, (int64_t) 1);
    int64_t zp_rhs_171768 = sdiv_safe64(zs_lhs_171767, (int64_t) 20);
    int64_t min_num_blocks_171769 = add64((int64_t) 1, zp_rhs_171768);
    bool loop_cond_171770 = slt64((int64_t) 1, min_num_blocks_171769);
    bool smallest_pow_2_geq_than_res_171771;
    int64_t smallest_pow_2_geq_than_res_171772;
    bool loop_while_171773;
    int64_t x_171774;
    
    loop_while_171773 = loop_cond_171770;
    x_171774 = (int64_t) 1;
    while (loop_while_171773) {
        int64_t loopres_171775 = mul64((int64_t) 2, x_171774);
        bool loop_cond_171776 = slt64(loopres_171775, min_num_blocks_171769);
        bool loop_while_tmp_182448 = loop_cond_171776;
        int64_t x_tmp_182449 = loopres_171775;
        
        loop_while_171773 = loop_while_tmp_182448;
        x_171774 = x_tmp_182449;
    }
    smallest_pow_2_geq_than_res_171771 = loop_while_171773;
    smallest_pow_2_geq_than_res_171772 = x_171774;
    
    bool zzero_171777 = smallest_pow_2_geq_than_res_171772 == (int64_t) 0;
    bool nonzzero_171778 = !zzero_171777;
    bool protect_assert_disj_171779 = cond_171766 || nonzzero_171778;
    bool nonzzero_cert_171780;
    
    if (!protect_assert_disj_171779) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:212:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171781 = sdiv_safe64(zs_lhs_171767, smallest_pow_2_geq_than_res_171772);
    int64_t block_sizze_171782 = add64((int64_t) 1, zp_rhs_171781);
    bool y_171787 = slt64((int64_t) 0, n_105767);
    bool protect_assert_disj_182145 = cond_171766 || y_171787;
    bool index_certs_171788;
    
    if (!protect_assert_disj_182145) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_105767, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:212:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171801 = slt64(smallest_pow_2_geq_than_res_171772, (int64_t) 0);
    bool valid_171802 = !bounds_invalid_upwards_171801;
    bool protect_assert_disj_182153 = cond_171766 || valid_171802;
    bool range_valid_c_171803;
    
    if (!protect_assert_disj_182153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171772, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:212:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171805 = slt64(block_sizze_171782, (int64_t) 0);
    bool valid_171806 = !bounds_invalid_upwards_171805;
    bool protect_assert_disj_182155 = cond_171766 || valid_171806;
    bool range_valid_c_171807;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171809 = sle64(block_sizze_171782, (int64_t) 1);
    int64_t tmp_171810 = sub64(block_sizze_171782, (int64_t) 2);
    bool bounds_invalid_upwards_171811 = slt64(tmp_171810, (int64_t) 0);
    bool valid_171813 = !bounds_invalid_upwards_171811;
    bool protect_assert_disj_171814 = cond_171809 || valid_171813;
    bool protect_assert_disj_182157 = cond_171766 || protect_assert_disj_171814;
    bool range_valid_c_171815;
    
    if (!protect_assert_disj_182157) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171810, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181243 = (int64_t) 4 * n_105767;
    
    if (futrts_indicesWithIncrement_9496(ctx, &ext_mem_181033, xs_mem_181032, n_105767, incr_105768) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181035, bytes_181034, "mem_181035")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182450 = 0; i_182450 < n_105767; i_182450++) {
        int64_t x_182451 = (int64_t) 0 + i_182450 * (int64_t) 1;
        
        ((int64_t *) mem_181035.mem)[i_182450] = x_182451;
    }
    
    int64_t flat_dim_171783 = smallest_pow_2_geq_than_res_171772 * block_sizze_171782;
    bool x_182140 = !cond_171766;
    int64_t greatest_divisor_leq_than_arg1_171785 = mul64((int64_t) 2, block_sizze_171782);
    int64_t merge_block_sizze_171786;
    
    if (x_182140) {
        int64_t x_182142;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182142, (int64_t) 8, greatest_divisor_leq_than_arg1_171785) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171786 = x_182142;
    } else {
        merge_block_sizze_171786 = (int64_t) 0;
    }
    
    float reduce_arg1_171789;
    
    if (x_182140) {
        float x_182146 = ((float *) xs_mem_181032.mem)[(int64_t) 0];
        
        reduce_arg1_171789 = x_182146;
    } else {
        reduce_arg1_171789 = 0.0F;
    }
    
    float defunc_0_reduce_res_178691;
    int64_t defunc_0_reduce_res_178692;
    
    if (x_182140) {
        float x_182148;
        int64_t x_182149;
        float redout_180692;
        int64_t redout_180693;
        
        redout_180692 = reduce_arg1_171789;
        redout_180693 = (int64_t) 0;
        for (int64_t i_180694 = 0; i_180694 < n_105767; i_180694++) {
            float x_171792 = ((float *) xs_mem_181032.mem)[i_180694];
            bool zlze_res_171798 = redout_180692 <= x_171792;
            float defunc_0_op_res_171799;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171799 = x_171792;
            } else {
                defunc_0_op_res_171799 = redout_180692;
            }
            
            int64_t defunc_0_op_res_171800;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171800 = i_180694;
            } else {
                defunc_0_op_res_171800 = redout_180693;
            }
            
            float redout_tmp_182452 = defunc_0_op_res_171799;
            int64_t redout_tmp_182453 = defunc_0_op_res_171800;
            
            redout_180692 = redout_tmp_182452;
            redout_180693 = redout_tmp_182453;
        }
        x_182148 = redout_180692;
        x_182149 = redout_180693;
        defunc_0_reduce_res_178691 = x_182148;
        defunc_0_reduce_res_178692 = x_182149;
    } else {
        defunc_0_reduce_res_178691 = 0.0F;
        defunc_0_reduce_res_178692 = (int64_t) 0;
    }
    
    int64_t distance_171812 = add64((int64_t) 1, tmp_171810);
    int64_t binop_x_181036 = (int64_t) 4 * smallest_pow_2_geq_than_res_171772;
    int64_t bytes_181037 = block_sizze_171782 * binop_x_181036;
    int64_t binop_x_181039 = (int64_t) 8 * smallest_pow_2_geq_than_res_171772;
    int64_t bytes_181040 = block_sizze_171782 * binop_x_181039;
    int64_t bytes_181050 = (int64_t) 4 * block_sizze_171782;
    int64_t bytes_181052 = (int64_t) 8 * block_sizze_171782;
    bool loop_cond_171886 = slt64(block_sizze_171782, flat_dim_171783);
    bool zzero_171887 = merge_block_sizze_171786 == (int64_t) 0;
    bool nonzzero_171888 = !zzero_171887;
    
    if (cond_171766) {
        if (memblock_set(ctx, &ext_mem_181240, &mem_181035, "mem_181035") != 0)
            return 1;
    } else {
        if (mem_181038_cached_sizze_182724 < bytes_181037) {
            err = lexical_realloc(ctx, &mem_181038, &mem_181038_cached_sizze_182724, bytes_181037);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181041_cached_sizze_182725 < bytes_181040) {
            err = lexical_realloc(ctx, &mem_181041, &mem_181041_cached_sizze_182725, bytes_181040);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181051_cached_sizze_182726 < bytes_181050) {
            err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182726, bytes_181050);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181053_cached_sizze_182727 < bytes_181052) {
            err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_182727, bytes_181052);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180706 = 0; i_180706 < smallest_pow_2_geq_than_res_171772; i_180706++) {
            int64_t zp_lhs_171819 = mul64(block_sizze_171782, i_180706);
            
            for (int64_t i_180699 = 0; i_180699 < block_sizze_171782; i_180699++) {
                int64_t k_171823 = add64(zp_lhs_171819, i_180699);
                bool cond_171824 = slt64(k_171823, n_105767);
                float lifted_lambda_res_171825;
                int64_t lifted_lambda_res_171826;
                
                if (cond_171824) {
                    bool x_178544 = sle64((int64_t) 0, k_171823);
                    bool bounds_check_178545 = cond_171824 && x_178544;
                    bool index_certs_178546;
                    
                    if (!bounds_check_178545) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171823, "] out of bounds for array of shape [", (long long) n_105767, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float lifted_lambda_res_t_res_178547 = ((float *) xs_mem_181032.mem)[k_171823];
                    
                    lifted_lambda_res_171825 = lifted_lambda_res_t_res_178547;
                    lifted_lambda_res_171826 = k_171823;
                } else {
                    lifted_lambda_res_171825 = defunc_0_reduce_res_178691;
                    lifted_lambda_res_171826 = defunc_0_reduce_res_178692;
                }
                ((float *) mem_181051)[i_180699] = lifted_lambda_res_171825;
                ((int64_t *) mem_181053)[i_180699] = lifted_lambda_res_171826;
            }
            if (!cond_171809) {
                for (int64_t i_171835 = 0; i_171835 < distance_171812; i_171835++) {
                    int64_t gt_arg1_171838 = add64((int64_t) 1, i_171835);
                    bool x_171839 = sle64((int64_t) 0, gt_arg1_171838);
                    bool y_171840 = slt64(gt_arg1_171838, block_sizze_171782);
                    bool bounds_check_171841 = x_171839 && y_171840;
                    bool index_certs_171842;
                    
                    if (!bounds_check_171841) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171838, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171844 = slt64(i_171835, block_sizze_171782);
                    bool index_certs_171845;
                    
                    if (!y_171844) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171835, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    float gt_arg1_171843 = ((float *) mem_181051)[gt_arg1_171838];
                    float gt_arg0_171846 = ((float *) mem_181051)[i_171835];
                    bool zlze_res_171847 = gt_arg0_171846 <= gt_arg1_171843;
                    bool defunc_0_lifted_gt_res_171848 = !zlze_res_171847;
                    bool s_171849;
                    int64_t s_171852;
                    bool loop_while_171853;
                    int64_t j_171856;
                    
                    loop_while_171853 = defunc_0_lifted_gt_res_171848;
                    j_171856 = i_171835;
                    while (loop_while_171853) {
                        bool x_171857 = sle64((int64_t) 0, j_171856);
                        bool y_171858 = slt64(j_171856, block_sizze_171782);
                        bool bounds_check_171859 = x_171857 && y_171858;
                        bool index_certs_171860;
                        
                        if (!bounds_check_171859) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171856, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171863 = add64((int64_t) 1, j_171856);
                        bool x_171864 = sle64((int64_t) 0, copy_arg0_171863);
                        bool y_171865 = slt64(copy_arg0_171863, block_sizze_171782);
                        bool bounds_check_171866 = x_171864 && y_171865;
                        bool index_certs_171867;
                        
                        if (!bounds_check_171866) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171863, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        float copy_arg0_171861 = ((float *) mem_181051)[j_171856];
                        int64_t copy_arg0_171862 = ((int64_t *) mem_181053)[j_171856];
                        float copy_arg0_171868 = ((float *) mem_181051)[copy_arg0_171863];
                        int64_t copy_arg0_171869 = ((int64_t *) mem_181053)[copy_arg0_171863];
                        
                        ((float *) mem_181051)[j_171856] = copy_arg0_171868;
                        ((int64_t *) mem_181053)[j_171856] = copy_arg0_171869;
                        ((float *) mem_181051)[copy_arg0_171863] = copy_arg0_171861;
                        ((int64_t *) mem_181053)[copy_arg0_171863] = copy_arg0_171862;
                        
                        int64_t tmp_171874 = sub64(j_171856, (int64_t) 1);
                        bool cond_171875 = sle64((int64_t) 0, tmp_171874);
                        bool loop_cond_171876;
                        
                        if (cond_171875) {
                            bool y_178549 = slt64(tmp_171874, block_sizze_171782);
                            bool bounds_check_178550 = cond_171875 && y_178549;
                            bool index_certs_178551;
                            
                            if (!bounds_check_178550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171874, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float gt_arg1_178548 = ((float *) mem_181051)[j_171856];
                            float gt_arg0_178552 = ((float *) mem_181051)[tmp_171874];
                            bool zlze_res_178553 = gt_arg0_178552 <= gt_arg1_178548;
                            bool defunc_0_lifted_gt_res_178554 = !zlze_res_178553;
                            
                            loop_cond_171876 = defunc_0_lifted_gt_res_178554;
                        } else {
                            loop_cond_171876 = 0;
                        }
                        
                        bool loop_while_tmp_182460 = loop_cond_171876;
                        int64_t j_tmp_182463 = tmp_171874;
                        
                        loop_while_171853 = loop_while_tmp_182460;
                        j_171856 = j_tmp_182463;
                    }
                    s_171849 = loop_while_171853;
                    s_171852 = j_171856;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181038, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181051, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181041, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181053, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
        }
        if (memblock_alloc(ctx, &mem_181106, bytes_181037, "mem_181106")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint32_t *) mem_181038, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        if (memblock_alloc(ctx, &mem_181110, bytes_181040, "mem_181110")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181110.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint64_t *) mem_181041, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        
        int64_t data_171889;
        bool data_171890;
        int64_t data_171893;
        int64_t loop_dz2084Uz2082U_171894;
        bool loop_while_171895;
        int64_t stride_171898;
        
        if (memblock_set(ctx, &mem_param_181114, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181117, &mem_181110, "mem_181110") != 0)
            return 1;
        loop_dz2084Uz2082U_171894 = flat_dim_171783;
        loop_while_171895 = loop_cond_171886;
        stride_171898 = block_sizze_171782;
        while (loop_while_171895) {
            int64_t next_stride_171899 = mul64((int64_t) 2, stride_171898);
            bool zzero_171900 = next_stride_171899 == (int64_t) 0;
            bool nonzzero_171901 = !zzero_171900;
            bool nonzzero_cert_171902;
            
            if (!nonzzero_171901) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:212:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171903 = sdiv64(flat_dim_171783, next_stride_171899);
            bool bounds_invalid_upwards_171904 = slt64(num_merges_171903, (int64_t) 0);
            bool valid_171905 = !bounds_invalid_upwards_171904;
            bool range_valid_c_171906;
            
            if (!valid_171905) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171903, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:212:54-57\n   #6  ftsort.fut:41:3-27\n   #7  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171908 = sub64(next_stride_171899, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171909 = sle64((int64_t) 0, m_171908);
            bool cond_171911 = slt64(next_stride_171899, (int64_t) 10);
            bool protect_assert_disj_171912 = nonzzero_171888 || cond_171911;
            bool nonzzero_cert_171913;
            
            if (!protect_assert_disj_171912) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171914 = smod_safe64(next_stride_171899, merge_block_sizze_171786);
            bool num_blocks_171915 = zeze_lhs_171914 == (int64_t) 0;
            bool protect_assert_disj_171916 = cond_171911 || num_blocks_171915;
            bool assert_c_171917;
            
            if (!protect_assert_disj_171916) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171919 = sdiv_safe64(next_stride_171899, merge_block_sizze_171786);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920 = add64((int64_t) 1, num_blocks_171919);
            int64_t j_m_i_171921 = sub64(next_stride_171899, stride_171898);
            int64_t flat_dim_171922 = merge_block_sizze_171786 * num_blocks_171919;
            bool bounds_invalid_upwards_171923 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, (int64_t) 0);
            bool zzero_lte_i_171924 = sle64((int64_t) 0, stride_171898);
            bool i_lte_j_171925 = sle64(stride_171898, next_stride_171899);
            bool empty_slice_171926 = stride_171898 == (int64_t) 0;
            int64_t m_171927 = sub64(stride_171898, (int64_t) 1);
            bool bounds_invalid_upwards_171928 = slt64(num_blocks_171919, (int64_t) 0);
            bool empty_slice_171929 = j_m_i_171921 == (int64_t) 0;
            int64_t m_171930 = sub64(j_m_i_171921, (int64_t) 1);
            bool cond_171931 = slt64((int64_t) 0, stride_171898);
            bool valid_171932 = !bounds_invalid_upwards_171923;
            bool zzero_leq_i_p_m_t_s_171933 = sle64((int64_t) 0, m_171927);
            bool i_p_m_t_s_leq_w_171934 = slt64(m_171927, next_stride_171899);
            bool valid_171935 = !bounds_invalid_upwards_171928;
            bool i_p_m_t_s_leq_w_171936 = slt64(m_171908, flat_dim_171922);
            int64_t i_p_m_t_s_171937 = add64(stride_171898, m_171930);
            bool y_171938 = slt64((int64_t) 0, j_m_i_171921);
            bool protect_assert_disj_171939 = cond_171911 || valid_171932;
            bool range_valid_c_171940;
            
            if (!protect_assert_disj_171939) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171941 = zzero_leq_i_p_m_t_s_171933 && i_p_m_t_s_leq_w_171934;
            bool protect_assert_disj_171942 = cond_171911 || valid_171935;
            bool range_valid_c_171943;
            
            if (!protect_assert_disj_171942) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171919, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171944 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171936;
            bool zzero_leq_i_p_m_t_s_171945 = sle64((int64_t) 0, i_p_m_t_s_171937);
            bool i_p_m_t_s_leq_w_171946 = slt64(i_p_m_t_s_171937, next_stride_171899);
            bool forwards_ok_171947 = zzero_lte_i_171924 && y_171941;
            bool ok_or_empty_171948 = zzero_171900 || y_171944;
            bool y_171949 = zzero_lte_i_171924 && i_p_m_t_s_leq_w_171946;
            bool protect_assert_disj_171950 = cond_171931 || y_171938;
            bool ok_or_empty_171951 = empty_slice_171926 || forwards_ok_171947;
            bool protect_assert_disj_171952 = cond_171911 || ok_or_empty_171948;
            bool index_certs_171953;
            
            if (!protect_assert_disj_171952) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) flat_dim_171922, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171954 = zzero_leq_i_p_m_t_s_171945 && y_171949;
            bool loop_not_taken_171955 = !cond_171911;
            bool protect_assert_disj_171956 = protect_assert_disj_171950 || loop_not_taken_171955;
            bool index_certs_171957;
            
            if (!protect_assert_disj_171956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171958 = cond_171911 || ok_or_empty_171951;
            bool index_certs_171959;
            
            if (!protect_assert_disj_171958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171960 = i_lte_j_171925 && y_171954;
            bool protect_assert_disj_171961 = ok_or_empty_171951 || loop_not_taken_171955;
            bool index_certs_171962;
            
            if (!protect_assert_disj_171961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171963 = empty_slice_171929 || forwards_ok_171960;
            bool protect_assert_disj_171964 = loop_not_taken_171955 || ok_or_empty_171963;
            bool index_certs_171965;
            
            if (!protect_assert_disj_171964) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171966 = cond_171911 || ok_or_empty_171963;
            bool index_certs_171967;
            
            if (!protect_assert_disj_171966) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181118 = (int64_t) 4 * num_merges_171903;
            int64_t bytes_181119 = next_stride_171899 * binop_x_181118;
            int64_t binop_x_181121 = (int64_t) 8 * num_merges_171903;
            int64_t bytes_181122 = next_stride_171899 * binop_x_181121;
            bool i_lte_j_171910 = sle64((int64_t) 0, next_stride_171899);
            
            if (mem_181120_cached_sizze_182728 < bytes_181119) {
                err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182728, bytes_181119);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181123_cached_sizze_182729 < bytes_181122) {
                err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182729, bytes_181122);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181132 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920;
            int64_t binop_x_181148 = (int64_t) 4 * num_blocks_171919;
            int64_t bytes_181149 = merge_block_sizze_171786 * binop_x_181148;
            int64_t binop_x_181151 = (int64_t) 8 * num_blocks_171919;
            int64_t bytes_181152 = merge_block_sizze_171786 * binop_x_181151;
            int64_t bytes_181194 = (int64_t) 8 * stride_171898;
            int64_t bytes_181196 = (int64_t) 16 * stride_171898;
            
            for (int64_t i_180727 = 0; i_180727 < num_merges_171903; i_180727++) {
                int64_t start_171971 = mul64(next_stride_171899, i_180727);
                int64_t j_m_i_171972 = sub64(loop_dz2084Uz2082U_171894, start_171971);
                bool empty_slice_171973 = j_m_i_171972 == (int64_t) 0;
                int64_t m_171974 = sub64(j_m_i_171972, (int64_t) 1);
                int64_t i_p_m_t_s_171975 = add64(start_171971, m_171974);
                bool zzero_leq_i_p_m_t_s_171976 = sle64((int64_t) 0, i_p_m_t_s_171975);
                bool i_p_m_t_s_leq_w_171977 = slt64(i_p_m_t_s_171975, loop_dz2084Uz2082U_171894);
                bool zzero_lte_i_171978 = sle64((int64_t) 0, start_171971);
                bool i_lte_j_171979 = sle64(start_171971, loop_dz2084Uz2082U_171894);
                bool y_171980 = i_p_m_t_s_leq_w_171977 && zzero_lte_i_171978;
                bool y_171981 = zzero_leq_i_p_m_t_s_171976 && y_171980;
                bool forwards_ok_171982 = i_lte_j_171979 && y_171981;
                bool ok_or_empty_171983 = empty_slice_171973 || forwards_ok_171982;
                bool index_certs_171984;
                
                if (!ok_or_empty_171983) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171971, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171894, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171985 = slt64(m_171908, j_m_i_171972);
                bool y_171986 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171985;
                bool forwards_ok_171987 = i_lte_j_171910 && y_171986;
                bool ok_or_empty_171988 = zzero_171900 || forwards_ok_171987;
                bool index_certs_171989;
                
                if (!ok_or_empty_171988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) j_m_i_171972, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:212:54-57\n   #8  ftsort.fut:41:3-27\n   #9  ftsort.fut:40:1-41:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171911) {
                    float dummy_178580;
                    int64_t dummy_178581;
                    
                    if (cond_171931) {
                        float head_res_178582 = ((float *) mem_param_181114.mem)[start_171971];
                        int64_t head_res_178583 = ((int64_t *) mem_param_181117.mem)[start_171971];
                        
                        dummy_178580 = head_res_178582;
                        dummy_178581 = head_res_178583;
                    } else {
                        int64_t slice_178584 = stride_171898 + start_171971;
                        float head_res_178585 = ((float *) mem_param_181114.mem)[slice_178584];
                        int64_t head_res_178586 = ((int64_t *) mem_param_181117.mem)[slice_178584];
                        
                        dummy_178580 = head_res_178585;
                        dummy_178581 = head_res_178586;
                    }
                    if (memblock_alloc(ctx, &mem_181195, bytes_181194, "mem_181195")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182473 = 0; nest_i_182473 < next_stride_171899; nest_i_182473++) {
                        ((float *) mem_181195.mem)[nest_i_182473] = dummy_178580;
                    }
                    if (memblock_alloc(ctx, &mem_181197, bytes_181196, "mem_181197")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182474 = 0; nest_i_182474 < next_stride_171899; nest_i_182474++) {
                        ((int64_t *) mem_181197.mem)[nest_i_182474] = dummy_178581;
                    }
                    
                    int64_t data_178589;
                    int64_t i_178593 = (int64_t) 0;
                    
                    for (int64_t k_178592 = 0; k_178592 < next_stride_171899; k_178592++) {
                        int64_t j_178596 = sub64(k_178592, i_178593);
                        bool cond_178597 = j_178596 == j_m_i_171921;
                        bool cond_178598;
                        
                        if (cond_178597) {
                            cond_178598 = 1;
                        } else {
                            bool cond_178599 = slt64(i_178593, stride_171898);
                            bool cond_f_res_178600;
                            
                            if (cond_178599) {
                                bool x_178601 = sle64((int64_t) 0, j_178596);
                                bool y_178602 = slt64(j_178596, j_m_i_171921);
                                bool bounds_check_178603 = x_178601 && y_178602;
                                bool index_certs_178604;
                                
                                if (!bounds_check_178603) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178608 = sle64((int64_t) 0, i_178593);
                                bool bounds_check_178609 = cond_178599 && x_178608;
                                bool index_certs_178610;
                                
                                if (!bounds_check_178609) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178605 = stride_171898 + j_178596;
                                int64_t slice_178606 = start_171971 + slice_178605;
                                float leq_arg1_178607 = ((float *) mem_param_181114.mem)[slice_178606];
                                int64_t slice_178611 = start_171971 + i_178593;
                                float leq_arg0_178612 = ((float *) mem_param_181114.mem)[slice_178611];
                                bool zlze_res_178613 = leq_arg0_178612 <= leq_arg1_178607;
                                
                                cond_f_res_178600 = zlze_res_178613;
                            } else {
                                cond_f_res_178600 = 0;
                            }
                            cond_178598 = cond_f_res_178600;
                        }
                        
                        int64_t loopres_178614;
                        float loopres_178615;
                        int64_t loopres_178616;
                        
                        if (cond_178598) {
                            bool x_178618 = sle64((int64_t) 0, i_178593);
                            bool y_178619 = slt64(i_178593, stride_171898);
                            bool bounds_check_178620 = x_178618 && y_178619;
                            bool index_certs_178621;
                            
                            if (!bounds_check_178620) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178617 = add64((int64_t) 1, i_178593);
                            int64_t slice_178622 = start_171971 + i_178593;
                            float tmp_178623 = ((float *) mem_param_181114.mem)[slice_178622];
                            int64_t tmp_178624 = ((int64_t *) mem_param_181117.mem)[slice_178622];
                            
                            loopres_178614 = tmp_178617;
                            loopres_178615 = tmp_178623;
                            loopres_178616 = tmp_178624;
                        } else {
                            bool x_178625 = sle64((int64_t) 0, j_178596);
                            bool y_178626 = slt64(j_178596, j_m_i_171921);
                            bool bounds_check_178627 = x_178625 && y_178626;
                            bool index_certs_178628;
                            
                            if (!bounds_check_178627) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:212:54-57\n   #9  ftsort.fut:41:3-27\n   #10 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178629 = stride_171898 + j_178596;
                            int64_t slice_178630 = start_171971 + slice_178629;
                            float tmp_178631 = ((float *) mem_param_181114.mem)[slice_178630];
                            int64_t tmp_178632 = ((int64_t *) mem_param_181117.mem)[slice_178630];
                            
                            loopres_178614 = i_178593;
                            loopres_178615 = tmp_178631;
                            loopres_178616 = tmp_178632;
                        }
                        ((float *) mem_181195.mem)[k_178592] = loopres_178615;
                        ((int64_t *) mem_181197.mem)[k_178592] = loopres_178616;
                        
                        int64_t i_tmp_182475 = loopres_178614;
                        
                        i_178593 = i_tmp_182475;
                    }
                    data_178589 = i_178593;
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181195, "mem_181195") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181197, "mem_181197") != 0)
                        return 1;
                } else {
                    if (mem_181133_cached_sizze_182730 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182730, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181135_cached_sizze_182731 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181135, &mem_181135_cached_sizze_182731, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180713 = 0; i_180713 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920; i_180713++) {
                        int64_t split_count_arg3_172051 = mul64(merge_block_sizze_171786, i_180713);
                        int64_t defunc_0_split_count_res_172052;
                        int64_t defunc_0_split_count_res_172053;
                        int64_t defunc_0_split_count_res_172054;
                        int64_t defunc_0_split_count_res_172055;
                        int64_t defunc_0_split_count_res_172056;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_172052, &defunc_0_split_count_res_172053, &defunc_0_split_count_res_172054, &defunc_0_split_count_res_172055, &defunc_0_split_count_res_172056, (int64_t) 0, stride_171898, (int64_t) 0, j_m_i_171921, split_count_arg3_172051) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172057 = slt64((int64_t) 0, defunc_0_split_count_res_172056);
                        bool defunc_0_split_count_res_172058;
                        int64_t defunc_0_split_count_res_172059;
                        int64_t defunc_0_split_count_res_172060;
                        int64_t defunc_0_split_count_res_172061;
                        int64_t defunc_0_split_count_res_172062;
                        int64_t defunc_0_split_count_res_172063;
                        bool loop_while_172064;
                        int64_t ss_172065;
                        int64_t ss_172066;
                        int64_t tt_172067;
                        int64_t tt_172068;
                        int64_t count_172069;
                        
                        loop_while_172064 = loop_cond_172057;
                        ss_172065 = defunc_0_split_count_res_172052;
                        ss_172066 = defunc_0_split_count_res_172053;
                        tt_172067 = defunc_0_split_count_res_172054;
                        tt_172068 = defunc_0_split_count_res_172055;
                        count_172069 = defunc_0_split_count_res_172056;
                        while (loop_while_172064) {
                            int64_t zlze_lhs_172070 = sub64(ss_172066, ss_172065);
                            bool cond_172071 = sle64(zlze_lhs_172070, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172072;
                            int64_t defunc_0_lifted_step_res_172073;
                            int64_t defunc_0_lifted_step_res_172074;
                            int64_t defunc_0_lifted_step_res_172075;
                            
                            if (cond_172071) {
                                int64_t tmp_178635 = add64(tt_172067, count_172069);
                                
                                defunc_0_lifted_step_res_172072 = ss_172065;
                                defunc_0_lifted_step_res_172073 = tmp_178635;
                                defunc_0_lifted_step_res_172074 = tt_172068;
                                defunc_0_lifted_step_res_172075 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172077 = sub64(tt_172068, tt_172067);
                                bool cond_172078 = sle64(zlze_lhs_172077, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172079;
                                int64_t defunc_0_lifted_step_res_f_res_172080;
                                int64_t defunc_0_lifted_step_res_f_res_172081;
                                int64_t defunc_0_lifted_step_res_f_res_172082;
                                
                                if (cond_172078) {
                                    int64_t tmp_178636 = add64(ss_172065, count_172069);
                                    
                                    defunc_0_lifted_step_res_f_res_172079 = tmp_178636;
                                    defunc_0_lifted_step_res_f_res_172080 = tt_172067;
                                    defunc_0_lifted_step_res_f_res_172081 = tt_172068;
                                    defunc_0_lifted_step_res_f_res_172082 = (int64_t) 0;
                                } else {
                                    bool cond_172084 = count_172069 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172085;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172086;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172087;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172088;
                                    
                                    if (cond_172084) {
                                        bool x_178638 = sle64((int64_t) 0, ss_172065);
                                        bool y_178639 = slt64(ss_172065, stride_171898);
                                        bool bounds_check_178640 = x_178638 && y_178639;
                                        bool index_certs_178641;
                                        
                                        if (!bounds_check_178640) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172065, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:212:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178644 = sle64((int64_t) 0, tt_172067);
                                        bool y_178645 = slt64(tt_172067, j_m_i_171921);
                                        bool bounds_check_178646 = x_178644 && y_178645;
                                        bool index_certs_178647;
                                        
                                        if (!bounds_check_178646) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172067, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:212:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178642 = start_171971 + ss_172065;
                                        float leq_arg1_178643 = ((float *) mem_param_181114.mem)[slice_178642];
                                        int64_t slice_178648 = stride_171898 + tt_172067;
                                        int64_t slice_178649 = start_171971 + slice_178648;
                                        float leq_arg0_178650 = ((float *) mem_param_181114.mem)[slice_178649];
                                        bool zlze_res_178651 = leq_arg0_178650 <= leq_arg1_178643;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        
                                        if (zlze_res_178651) {
                                            int64_t tmp_178654 = add64((int64_t) 1, tt_172067);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = ss_172065;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tmp_178654;
                                        } else {
                                            int64_t tmp_178655 = add64((int64_t) 1, ss_172065);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = tmp_178655;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tt_172067;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = tt_172068;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = (int64_t) 0;
                                    } else {
                                        int64_t m_172107 = sdiv64(count_172069, (int64_t) 2);
                                        int64_t n_172108 = sub64(count_172069, m_172107);
                                        bool cond_172109 = n_172108 == (int64_t) 0;
                                        int64_t zgze_lhs_172110 = add64(ss_172065, m_172107);
                                        bool cond_f_res_172111 = sle64(ss_172066, zgze_lhs_172110);
                                        bool x_172112 = !cond_172109;
                                        bool y_172113 = cond_f_res_172111 && x_172112;
                                        bool cond_172114 = cond_172109 || y_172113;
                                        bool leq_y_x_172115;
                                        
                                        if (cond_172114) {
                                            leq_y_x_172115 = 1;
                                        } else {
                                            bool x_172116 = sle64((int64_t) 0, zgze_lhs_172110);
                                            bool y_172117 = slt64(zgze_lhs_172110, stride_171898);
                                            bool bounds_check_172118 = x_172116 && y_172117;
                                            bool index_certs_172119;
                                            
                                            if (!bounds_check_172118) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172110, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:212:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172122 = add64(tt_172067, n_172108);
                                            int64_t leq_arg0_172123 = sub64(zm_lhs_172122, (int64_t) 1);
                                            bool x_172124 = sle64((int64_t) 0, leq_arg0_172123);
                                            bool y_172125 = slt64(leq_arg0_172123, j_m_i_171921);
                                            bool bounds_check_172126 = x_172124 && y_172125;
                                            bool index_certs_172127;
                                            
                                            if (!bounds_check_172126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172123, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:212:54-57\n   #13 ftsort.fut:41:3-27\n   #14 ftsort.fut:40:1-41:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172120 = start_171971 + zgze_lhs_172110;
                                            float leq_arg1_172121 = ((float *) mem_param_181114.mem)[slice_172120];
                                            int64_t slice_172128 = stride_171898 + leq_arg0_172123;
                                            int64_t slice_172129 = start_171971 + slice_172128;
                                            float leq_arg0_172130 = ((float *) mem_param_181114.mem)[slice_172129];
                                            bool zlze_res_172131 = leq_arg0_172130 <= leq_arg1_172121;
                                            
                                            leq_y_x_172115 = zlze_res_172131;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                        
                                        if (leq_y_x_172115) {
                                            int64_t tmp_178656 = add64(tt_172067, n_172108);
                                            int64_t tmp_178657 = sub64(count_172069, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tmp_178656;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tt_172068;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = tmp_178657;
                                        } else {
                                            int64_t tmp_172137 = add64(tt_172067, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tt_172067;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tmp_172137;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = count_172069;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = ss_172065;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                    }
                                    defunc_0_lifted_step_res_f_res_172079 = defunc_0_lifted_step_res_f_res_f_res_172085;
                                    defunc_0_lifted_step_res_f_res_172080 = defunc_0_lifted_step_res_f_res_f_res_172086;
                                    defunc_0_lifted_step_res_f_res_172081 = defunc_0_lifted_step_res_f_res_f_res_172087;
                                    defunc_0_lifted_step_res_f_res_172082 = defunc_0_lifted_step_res_f_res_f_res_172088;
                                }
                                defunc_0_lifted_step_res_172072 = defunc_0_lifted_step_res_f_res_172079;
                                defunc_0_lifted_step_res_172073 = defunc_0_lifted_step_res_f_res_172080;
                                defunc_0_lifted_step_res_172074 = defunc_0_lifted_step_res_f_res_172081;
                                defunc_0_lifted_step_res_172075 = defunc_0_lifted_step_res_f_res_172082;
                            }
                            
                            int64_t loopres_172138;
                            int64_t loopres_172139;
                            int64_t loopres_172140;
                            int64_t loopres_172141;
                            int64_t loopres_172142;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_172138, &loopres_172139, &loopres_172140, &loopres_172141, &loopres_172142, defunc_0_lifted_step_res_172072, ss_172066, defunc_0_lifted_step_res_172073, defunc_0_lifted_step_res_172074, defunc_0_lifted_step_res_172075) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172143 = slt64((int64_t) 0, loopres_172142);
                            bool loop_while_tmp_182480 = loop_cond_172143;
                            int64_t ss_tmp_182481 = loopres_172138;
                            int64_t ss_tmp_182482 = loopres_172139;
                            int64_t tt_tmp_182483 = loopres_172140;
                            int64_t tt_tmp_182484 = loopres_172141;
                            int64_t count_tmp_182485 = loopres_172142;
                            
                            loop_while_172064 = loop_while_tmp_182480;
                            ss_172065 = ss_tmp_182481;
                            ss_172066 = ss_tmp_182482;
                            tt_172067 = tt_tmp_182483;
                            tt_172068 = tt_tmp_182484;
                            count_172069 = count_tmp_182485;
                        }
                        defunc_0_split_count_res_172058 = loop_while_172064;
                        defunc_0_split_count_res_172059 = ss_172065;
                        defunc_0_split_count_res_172060 = ss_172066;
                        defunc_0_split_count_res_172061 = tt_172067;
                        defunc_0_split_count_res_172062 = tt_172068;
                        defunc_0_split_count_res_172063 = count_172069;
                        ((int64_t *) mem_181133)[i_180713] = defunc_0_split_count_res_172059;
                        ((int64_t *) mem_181135)[i_180713] = defunc_0_split_count_res_172061;
                    }
                    if (mem_181150_cached_sizze_182732 < bytes_181149) {
                        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_182732, bytes_181149);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181153_cached_sizze_182733 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182733, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180720 = 0; i_180720 < num_blocks_171919; i_180720++) {
                        bool y_172149 = slt64(i_180720, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool index_certs_172151;
                        
                        if (!y_172149) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180720, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172152 = ((int64_t *) mem_181133)[i_180720];
                        int64_t defunc_0_f_res_172153 = ((int64_t *) mem_181135)[i_180720];
                        int64_t tmp_172154 = add64((int64_t) 1, i_180720);
                        bool x_172155 = sle64((int64_t) 0, tmp_172154);
                        bool y_172156 = slt64(tmp_172154, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool bounds_check_172157 = x_172155 && y_172156;
                        bool index_certs_172158;
                        
                        if (!bounds_check_172157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172154, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172159 = ((int64_t *) mem_181133)[tmp_172154];
                        int64_t defunc_0_f_res_172160 = ((int64_t *) mem_181135)[tmp_172154];
                        int64_t merge_sequential_arg2_172161 = add64(stride_171898, defunc_0_f_res_172153);
                        int64_t merge_sequential_arg2_172162 = add64(stride_171898, defunc_0_f_res_172160);
                        int64_t j_m_i_172163 = sub64(merge_sequential_arg2_172162, merge_sequential_arg2_172161);
                        bool empty_slice_172164 = j_m_i_172163 == (int64_t) 0;
                        int64_t m_172165 = sub64(j_m_i_172163, (int64_t) 1);
                        int64_t i_p_m_t_s_172166 = add64(merge_sequential_arg2_172161, m_172165);
                        bool zzero_leq_i_p_m_t_s_172167 = sle64((int64_t) 0, i_p_m_t_s_172166);
                        bool i_p_m_t_s_leq_w_172168 = slt64(i_p_m_t_s_172166, next_stride_171899);
                        bool zzero_lte_i_172169 = sle64((int64_t) 0, merge_sequential_arg2_172161);
                        bool i_lte_j_172170 = sle64(merge_sequential_arg2_172161, merge_sequential_arg2_172162);
                        bool y_172171 = i_p_m_t_s_leq_w_172168 && zzero_lte_i_172169;
                        bool y_172172 = zzero_leq_i_p_m_t_s_172167 && y_172171;
                        bool forwards_ok_172173 = i_lte_j_172170 && y_172172;
                        bool ok_or_empty_172174 = empty_slice_172164 || forwards_ok_172173;
                        bool index_certs_172175;
                        
                        if (!ok_or_empty_172174) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172161, ":", (long long) merge_sequential_arg2_172162, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172176 = sub64(defunc_0_f_res_172159, defunc_0_f_res_172152);
                        bool empty_slice_172177 = j_m_i_172176 == (int64_t) 0;
                        int64_t m_172178 = sub64(j_m_i_172176, (int64_t) 1);
                        int64_t i_p_m_t_s_172179 = add64(defunc_0_f_res_172152, m_172178);
                        bool zzero_leq_i_p_m_t_s_172180 = sle64((int64_t) 0, i_p_m_t_s_172179);
                        bool i_p_m_t_s_leq_w_172181 = slt64(i_p_m_t_s_172179, next_stride_171899);
                        bool zzero_lte_i_172182 = sle64((int64_t) 0, defunc_0_f_res_172152);
                        bool i_lte_j_172183 = sle64(defunc_0_f_res_172152, defunc_0_f_res_172159);
                        bool y_172184 = i_p_m_t_s_leq_w_172181 && zzero_lte_i_172182;
                        bool y_172185 = zzero_leq_i_p_m_t_s_172180 && y_172184;
                        bool forwards_ok_172186 = i_lte_j_172183 && y_172185;
                        bool ok_or_empty_172187 = empty_slice_172177 || forwards_ok_172186;
                        bool index_certs_172188;
                        
                        if (!ok_or_empty_172187) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172152, ":", (long long) defunc_0_f_res_172159, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:212:54-57\n   #10 ftsort.fut:41:3-27\n   #11 ftsort.fut:40:1-41:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172189 = slt64((int64_t) 0, j_m_i_172176);
                        float dummy_172190;
                        int64_t dummy_172191;
                        
                        if (cond_172189) {
                            bool index_certs_178658;
                            
                            if (!cond_172189) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:212:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178659 = start_171971 + defunc_0_f_res_172152;
                            float head_res_178660 = ((float *) mem_param_181114.mem)[slice_178659];
                            int64_t head_res_178661 = ((int64_t *) mem_param_181117.mem)[slice_178659];
                            
                            dummy_172190 = head_res_178660;
                            dummy_172191 = head_res_178661;
                        } else {
                            bool y_172196 = slt64((int64_t) 0, j_m_i_172163);
                            bool index_certs_172197;
                            
                            if (!y_172196) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:212:54-57\n   #12 ftsort.fut:41:3-27\n   #13 ftsort.fut:40:1-41:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172198 = start_171971 + merge_sequential_arg2_172161;
                            float head_res_172199 = ((float *) mem_param_181114.mem)[slice_172198];
                            int64_t head_res_172200 = ((int64_t *) mem_param_181117.mem)[slice_172198];
                            
                            dummy_172190 = head_res_172199;
                            dummy_172191 = head_res_172200;
                        }
                        for (int64_t nest_i_182488 = 0; nest_i_182488 < merge_block_sizze_171786; nest_i_182488++) {
                            ((float *) mem_181150)[i_180720 * merge_block_sizze_171786 + nest_i_182488] = dummy_172190;
                        }
                        for (int64_t nest_i_182489 = 0; nest_i_182489 < merge_block_sizze_171786; nest_i_182489++) {
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + nest_i_182489] = dummy_172191;
                        }
                        
                        int64_t data_172203;
                        int64_t i_172207 = (int64_t) 0;
                        
                        for (int64_t k_172206 = 0; k_172206 < merge_block_sizze_171786; k_172206++) {
                            int64_t j_172210 = sub64(k_172206, i_172207);
                            bool cond_172211 = j_172210 == j_m_i_172163;
                            bool cond_172212;
                            
                            if (cond_172211) {
                                cond_172212 = 1;
                            } else {
                                bool cond_172213 = slt64(i_172207, j_m_i_172176);
                                bool cond_f_res_172214;
                                
                                if (cond_172213) {
                                    bool x_178662 = sle64((int64_t) 0, j_172210);
                                    bool y_178663 = slt64(j_172210, j_m_i_172163);
                                    bool bounds_check_178664 = x_178662 && y_178663;
                                    bool index_certs_178665;
                                    
                                    if (!bounds_check_178664) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178669 = sle64((int64_t) 0, i_172207);
                                    bool bounds_check_178670 = cond_172213 && x_178669;
                                    bool index_certs_178671;
                                    
                                    if (!bounds_check_178670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178666 = merge_sequential_arg2_172161 + j_172210;
                                    int64_t slice_178667 = start_171971 + slice_178666;
                                    float leq_arg1_178668 = ((float *) mem_param_181114.mem)[slice_178667];
                                    int64_t slice_178672 = defunc_0_f_res_172152 + i_172207;
                                    int64_t slice_178673 = start_171971 + slice_178672;
                                    float leq_arg0_178674 = ((float *) mem_param_181114.mem)[slice_178673];
                                    bool zlze_res_178675 = leq_arg0_178674 <= leq_arg1_178668;
                                    
                                    cond_f_res_172214 = zlze_res_178675;
                                } else {
                                    cond_f_res_172214 = 0;
                                }
                                cond_172212 = cond_f_res_172214;
                            }
                            
                            int64_t loopres_172229;
                            float loopres_172230;
                            int64_t loopres_172231;
                            
                            if (cond_172212) {
                                bool x_178677 = sle64((int64_t) 0, i_172207);
                                bool y_178678 = slt64(i_172207, j_m_i_172176);
                                bool bounds_check_178679 = x_178677 && y_178678;
                                bool index_certs_178680;
                                
                                if (!bounds_check_178679) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178676 = add64((int64_t) 1, i_172207);
                                int64_t slice_178681 = defunc_0_f_res_172152 + i_172207;
                                int64_t slice_178682 = start_171971 + slice_178681;
                                float tmp_178683 = ((float *) mem_param_181114.mem)[slice_178682];
                                int64_t tmp_178684 = ((int64_t *) mem_param_181117.mem)[slice_178682];
                                
                                loopres_172229 = tmp_178676;
                                loopres_172230 = tmp_178683;
                                loopres_172231 = tmp_178684;
                            } else {
                                bool x_172241 = sle64((int64_t) 0, j_172210);
                                bool y_172242 = slt64(j_172210, j_m_i_172163);
                                bool bounds_check_172243 = x_172241 && y_172242;
                                bool index_certs_172244;
                                
                                if (!bounds_check_172243) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:212:54-57\n   #11 ftsort.fut:41:3-27\n   #12 ftsort.fut:40:1-41:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172245 = merge_sequential_arg2_172161 + j_172210;
                                int64_t slice_172246 = start_171971 + slice_172245;
                                float tmp_172247 = ((float *) mem_param_181114.mem)[slice_172246];
                                int64_t tmp_172248 = ((int64_t *) mem_param_181117.mem)[slice_172246];
                                
                                loopres_172229 = i_172207;
                                loopres_172230 = tmp_172247;
                                loopres_172231 = tmp_172248;
                            }
                            ((float *) mem_181150)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172230;
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172231;
                            
                            int64_t i_tmp_182490 = loopres_172229;
                            
                            i_172207 = i_tmp_182490;
                        }
                        data_172203 = i_172207;
                    }
                    if (memblock_alloc(ctx, &mem_181188, bytes_181149, "mem_181188")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint32_t *) mem_181150, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_alloc(ctx, &mem_181192, bytes_181152, "mem_181192")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181192.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint64_t *) mem_181153, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181188, "mem_181188") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181192, "mem_181192") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181120, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181215.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181123, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181212.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172255 = next_stride_171899 * num_merges_171903;
            
            if (memblock_alloc(ctx, &mem_181226, bytes_181119, "mem_181226")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181226.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint32_t *) mem_181120, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            if (memblock_alloc(ctx, &mem_181230, bytes_181122, "mem_181230")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181230.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint64_t *) mem_181123, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            
            bool loop_cond_172258 = slt64(next_stride_171899, flat_dim_171783);
            
            if (memblock_set(ctx, &mem_param_tmp_182464, &mem_181226, "mem_181226") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182465, &mem_181230, "mem_181230") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182466 = flat_dim_172255;
            bool loop_while_tmp_182467 = loop_cond_172258;
            int64_t stride_tmp_182470 = next_stride_171899;
            
            if (memblock_set(ctx, &mem_param_181114, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181117, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
                return 1;
            loop_dz2084Uz2082U_171894 = loop_dz2084Uz2082U_tmp_182466;
            loop_while_171895 = loop_while_tmp_182467;
            stride_171898 = stride_tmp_182470;
        }
        if (memblock_set(ctx, &ext_mem_181237, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181236, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        data_171889 = loop_dz2084Uz2082U_171894;
        data_171890 = loop_while_171895;
        data_171893 = stride_171898;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        
        bool empty_slice_172259 = n_105767 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172260 = sle64((int64_t) 0, zs_lhs_171767);
        bool i_p_m_t_s_leq_w_172261 = slt64(zs_lhs_171767, data_171889);
        bool y_172262 = zzero_leq_i_p_m_t_s_172260 && i_p_m_t_s_leq_w_172261;
        bool ok_or_empty_172263 = empty_slice_172259 || y_172262;
        bool index_certs_172264;
        
        if (!ok_or_empty_172263) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_105767, "] out of bounds for array of shape [", (long long) data_171889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:212:54-57\n   #5  ftsort.fut:41:3-27\n   #6  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181240, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181242, bytes_181034, "mem_181242")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181244, bytes_181243, "mem_181244")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180734 = 0; i_180734 < n_105767; i_180734++) {
        int64_t eta_p_172268 = ((int64_t *) ext_mem_181240.mem)[i_180734];
        bool x_172269 = sle64((int64_t) 0, eta_p_172268);
        bool y_172270 = slt64(eta_p_172268, n_105767);
        bool bounds_check_172271 = x_172269 && y_172270;
        bool index_certs_172272;
        
        if (!bounds_check_172271) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172268, "] out of bounds for array of shape [", (long long) n_105767, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:212:54-57\n   #4  ftsort.fut:41:3-27\n   #5  ftsort.fut:40:1-41:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172273 = ((int64_t *) ext_mem_181033.mem)[eta_p_172268];
        float lifted_lambda_res_172274 = ((float *) xs_mem_181032.mem)[eta_p_172268];
        
        ((int64_t *) mem_181242.mem)[i_180734] = lifted_lambda_res_172273;
        ((float *) mem_181244.mem)[i_180734] = lifted_lambda_res_172274;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181242, "mem_181242") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181244, "mem_181244") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182722, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182723, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181038);
        free(mem_181041);
        free(mem_181051);
        free(mem_181053);
        free(mem_181120);
        free(mem_181123);
        free(mem_181133);
        free(mem_181135);
        free(mem_181150);
        free(mem_181153);
        if (memblock_unref(ctx, &mem_181244, "mem_181244") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181242, "mem_181242") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181230, "mem_181230") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181226, "mem_181226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181192, "mem_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181197, "mem_181197") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181195, "mem_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181237, "ext_mem_181237") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_182734, struct memblock *mem_out_p_182735, struct memblock xs_mem_181032, int64_t n_101080, int64_t incr_101081)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181038_cached_sizze_182736 = 0;
    unsigned char *mem_181038 = NULL;
    int64_t mem_181041_cached_sizze_182737 = 0;
    unsigned char *mem_181041 = NULL;
    int64_t mem_181051_cached_sizze_182738 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_182739 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181120_cached_sizze_182740 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182741 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181133_cached_sizze_182742 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181135_cached_sizze_182743 = 0;
    unsigned char *mem_181135 = NULL;
    int64_t mem_181150_cached_sizze_182744 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181153_cached_sizze_182745 = 0;
    unsigned char *mem_181153 = NULL;
    struct memblock mem_181244;
    
    mem_181244.references = NULL;
    
    struct memblock mem_181242;
    
    mem_181242.references = NULL;
    
    struct memblock mem_param_tmp_182465;
    
    mem_param_tmp_182465.references = NULL;
    
    struct memblock mem_param_tmp_182464;
    
    mem_param_tmp_182464.references = NULL;
    
    struct memblock mem_181230;
    
    mem_181230.references = NULL;
    
    struct memblock mem_181226;
    
    mem_181226.references = NULL;
    
    struct memblock mem_181192;
    
    mem_181192.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181197;
    
    mem_181197.references = NULL;
    
    struct memblock mem_181195;
    
    mem_181195.references = NULL;
    
    struct memblock ext_mem_181212;
    
    ext_mem_181212.references = NULL;
    
    struct memblock ext_mem_181215;
    
    ext_mem_181215.references = NULL;
    
    struct memblock mem_param_181117;
    
    mem_param_181117.references = NULL;
    
    struct memblock mem_param_181114;
    
    mem_param_181114.references = NULL;
    
    struct memblock ext_mem_181236;
    
    ext_mem_181236.references = NULL;
    
    struct memblock ext_mem_181237;
    
    ext_mem_181237.references = NULL;
    
    struct memblock mem_181110;
    
    mem_181110.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock ext_mem_181240;
    
    ext_mem_181240.references = NULL;
    
    struct memblock mem_181035;
    
    mem_181035.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_101080;
    bool cond_171766 = sle64(n_101080, (int64_t) 1);
    int64_t zs_lhs_171767 = sub64(n_101080, (int64_t) 1);
    int64_t zp_rhs_171768 = sdiv_safe64(zs_lhs_171767, (int64_t) 20);
    int64_t min_num_blocks_171769 = add64((int64_t) 1, zp_rhs_171768);
    bool loop_cond_171770 = slt64((int64_t) 1, min_num_blocks_171769);
    bool smallest_pow_2_geq_than_res_171771;
    int64_t smallest_pow_2_geq_than_res_171772;
    bool loop_while_171773;
    int64_t x_171774;
    
    loop_while_171773 = loop_cond_171770;
    x_171774 = (int64_t) 1;
    while (loop_while_171773) {
        int64_t loopres_171775 = mul64((int64_t) 2, x_171774);
        bool loop_cond_171776 = slt64(loopres_171775, min_num_blocks_171769);
        bool loop_while_tmp_182448 = loop_cond_171776;
        int64_t x_tmp_182449 = loopres_171775;
        
        loop_while_171773 = loop_while_tmp_182448;
        x_171774 = x_tmp_182449;
    }
    smallest_pow_2_geq_than_res_171771 = loop_while_171773;
    smallest_pow_2_geq_than_res_171772 = x_171774;
    
    bool zzero_171777 = smallest_pow_2_geq_than_res_171772 == (int64_t) 0;
    bool nonzzero_171778 = !zzero_171777;
    bool protect_assert_disj_171779 = cond_171766 || nonzzero_171778;
    bool nonzzero_cert_171780;
    
    if (!protect_assert_disj_171779) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171781 = sdiv_safe64(zs_lhs_171767, smallest_pow_2_geq_than_res_171772);
    int64_t block_sizze_171782 = add64((int64_t) 1, zp_rhs_171781);
    bool y_171787 = slt64((int64_t) 0, n_101080);
    bool protect_assert_disj_182145 = cond_171766 || y_171787;
    bool index_certs_171788;
    
    if (!protect_assert_disj_182145) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_101080, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171801 = slt64(smallest_pow_2_geq_than_res_171772, (int64_t) 0);
    bool valid_171802 = !bounds_invalid_upwards_171801;
    bool protect_assert_disj_182153 = cond_171766 || valid_171802;
    bool range_valid_c_171803;
    
    if (!protect_assert_disj_182153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171772, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:159:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171805 = slt64(block_sizze_171782, (int64_t) 0);
    bool valid_171806 = !bounds_invalid_upwards_171805;
    bool protect_assert_disj_182155 = cond_171766 || valid_171806;
    bool range_valid_c_171807;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171809 = sle64(block_sizze_171782, (int64_t) 1);
    int64_t tmp_171810 = sub64(block_sizze_171782, (int64_t) 2);
    bool bounds_invalid_upwards_171811 = slt64(tmp_171810, (int64_t) 0);
    bool valid_171813 = !bounds_invalid_upwards_171811;
    bool protect_assert_disj_171814 = cond_171809 || valid_171813;
    bool protect_assert_disj_182157 = cond_171766 || protect_assert_disj_171814;
    bool range_valid_c_171815;
    
    if (!protect_assert_disj_182157) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171810, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181243 = (int64_t) 4 * n_101080;
    
    if (futrts_indicesWithIncrement_9286(ctx, &ext_mem_181033, xs_mem_181032, n_101080, incr_101081) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181035, bytes_181034, "mem_181035")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182450 = 0; i_182450 < n_101080; i_182450++) {
        int64_t x_182451 = (int64_t) 0 + i_182450 * (int64_t) 1;
        
        ((int64_t *) mem_181035.mem)[i_182450] = x_182451;
    }
    
    int64_t flat_dim_171783 = smallest_pow_2_geq_than_res_171772 * block_sizze_171782;
    bool x_182140 = !cond_171766;
    int64_t greatest_divisor_leq_than_arg1_171785 = mul64((int64_t) 2, block_sizze_171782);
    int64_t merge_block_sizze_171786;
    
    if (x_182140) {
        int64_t x_182142;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182142, (int64_t) 8, greatest_divisor_leq_than_arg1_171785) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171786 = x_182142;
    } else {
        merge_block_sizze_171786 = (int64_t) 0;
    }
    
    int32_t reduce_arg1_171789;
    
    if (x_182140) {
        int32_t x_182146 = ((int32_t *) xs_mem_181032.mem)[(int64_t) 0];
        
        reduce_arg1_171789 = x_182146;
    } else {
        reduce_arg1_171789 = 0;
    }
    
    int32_t defunc_0_reduce_res_178691;
    int64_t defunc_0_reduce_res_178692;
    
    if (x_182140) {
        int32_t x_182148;
        int64_t x_182149;
        int32_t redout_180692;
        int64_t redout_180693;
        
        redout_180692 = reduce_arg1_171789;
        redout_180693 = (int64_t) 0;
        for (int64_t i_180694 = 0; i_180694 < n_101080; i_180694++) {
            int32_t x_171792 = ((int32_t *) xs_mem_181032.mem)[i_180694];
            bool zlze_res_171798 = sle32(redout_180692, x_171792);
            int32_t defunc_0_op_res_171799;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171799 = x_171792;
            } else {
                defunc_0_op_res_171799 = redout_180692;
            }
            
            int64_t defunc_0_op_res_171800;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171800 = i_180694;
            } else {
                defunc_0_op_res_171800 = redout_180693;
            }
            
            int32_t redout_tmp_182452 = defunc_0_op_res_171799;
            int64_t redout_tmp_182453 = defunc_0_op_res_171800;
            
            redout_180692 = redout_tmp_182452;
            redout_180693 = redout_tmp_182453;
        }
        x_182148 = redout_180692;
        x_182149 = redout_180693;
        defunc_0_reduce_res_178691 = x_182148;
        defunc_0_reduce_res_178692 = x_182149;
    } else {
        defunc_0_reduce_res_178691 = 0;
        defunc_0_reduce_res_178692 = (int64_t) 0;
    }
    
    int64_t distance_171812 = add64((int64_t) 1, tmp_171810);
    int64_t binop_x_181036 = (int64_t) 4 * smallest_pow_2_geq_than_res_171772;
    int64_t bytes_181037 = block_sizze_171782 * binop_x_181036;
    int64_t binop_x_181039 = (int64_t) 8 * smallest_pow_2_geq_than_res_171772;
    int64_t bytes_181040 = block_sizze_171782 * binop_x_181039;
    int64_t bytes_181050 = (int64_t) 4 * block_sizze_171782;
    int64_t bytes_181052 = (int64_t) 8 * block_sizze_171782;
    bool loop_cond_171886 = slt64(block_sizze_171782, flat_dim_171783);
    bool zzero_171887 = merge_block_sizze_171786 == (int64_t) 0;
    bool nonzzero_171888 = !zzero_171887;
    
    if (cond_171766) {
        if (memblock_set(ctx, &ext_mem_181240, &mem_181035, "mem_181035") != 0)
            return 1;
    } else {
        if (mem_181038_cached_sizze_182736 < bytes_181037) {
            err = lexical_realloc(ctx, &mem_181038, &mem_181038_cached_sizze_182736, bytes_181037);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181041_cached_sizze_182737 < bytes_181040) {
            err = lexical_realloc(ctx, &mem_181041, &mem_181041_cached_sizze_182737, bytes_181040);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181051_cached_sizze_182738 < bytes_181050) {
            err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182738, bytes_181050);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181053_cached_sizze_182739 < bytes_181052) {
            err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_182739, bytes_181052);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180706 = 0; i_180706 < smallest_pow_2_geq_than_res_171772; i_180706++) {
            int64_t zp_lhs_171819 = mul64(block_sizze_171782, i_180706);
            
            for (int64_t i_180699 = 0; i_180699 < block_sizze_171782; i_180699++) {
                int64_t k_171823 = add64(zp_lhs_171819, i_180699);
                bool cond_171824 = slt64(k_171823, n_101080);
                int32_t lifted_lambda_res_171825;
                int64_t lifted_lambda_res_171826;
                
                if (cond_171824) {
                    bool x_178544 = sle64((int64_t) 0, k_171823);
                    bool bounds_check_178545 = cond_171824 && x_178544;
                    bool index_certs_178546;
                    
                    if (!bounds_check_178545) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171823, "] out of bounds for array of shape [", (long long) n_101080, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t lifted_lambda_res_t_res_178547 = ((int32_t *) xs_mem_181032.mem)[k_171823];
                    
                    lifted_lambda_res_171825 = lifted_lambda_res_t_res_178547;
                    lifted_lambda_res_171826 = k_171823;
                } else {
                    lifted_lambda_res_171825 = defunc_0_reduce_res_178691;
                    lifted_lambda_res_171826 = defunc_0_reduce_res_178692;
                }
                ((int32_t *) mem_181051)[i_180699] = lifted_lambda_res_171825;
                ((int64_t *) mem_181053)[i_180699] = lifted_lambda_res_171826;
            }
            if (!cond_171809) {
                for (int64_t i_171835 = 0; i_171835 < distance_171812; i_171835++) {
                    int64_t gt_arg1_171838 = add64((int64_t) 1, i_171835);
                    bool x_171839 = sle64((int64_t) 0, gt_arg1_171838);
                    bool y_171840 = slt64(gt_arg1_171838, block_sizze_171782);
                    bool bounds_check_171841 = x_171839 && y_171840;
                    bool index_certs_171842;
                    
                    if (!bounds_check_171841) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171838, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171844 = slt64(i_171835, block_sizze_171782);
                    bool index_certs_171845;
                    
                    if (!y_171844) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171835, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int32_t gt_arg1_171843 = ((int32_t *) mem_181051)[gt_arg1_171838];
                    int32_t gt_arg0_171846 = ((int32_t *) mem_181051)[i_171835];
                    bool zlze_res_171847 = sle32(gt_arg0_171846, gt_arg1_171843);
                    bool defunc_0_lifted_gt_res_171848 = !zlze_res_171847;
                    bool s_171849;
                    int64_t s_171852;
                    bool loop_while_171853;
                    int64_t j_171856;
                    
                    loop_while_171853 = defunc_0_lifted_gt_res_171848;
                    j_171856 = i_171835;
                    while (loop_while_171853) {
                        bool x_171857 = sle64((int64_t) 0, j_171856);
                        bool y_171858 = slt64(j_171856, block_sizze_171782);
                        bool bounds_check_171859 = x_171857 && y_171858;
                        bool index_certs_171860;
                        
                        if (!bounds_check_171859) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171856, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171863 = add64((int64_t) 1, j_171856);
                        bool x_171864 = sle64((int64_t) 0, copy_arg0_171863);
                        bool y_171865 = slt64(copy_arg0_171863, block_sizze_171782);
                        bool bounds_check_171866 = x_171864 && y_171865;
                        bool index_certs_171867;
                        
                        if (!bounds_check_171866) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171863, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int32_t copy_arg0_171861 = ((int32_t *) mem_181051)[j_171856];
                        int64_t copy_arg0_171862 = ((int64_t *) mem_181053)[j_171856];
                        int32_t copy_arg0_171868 = ((int32_t *) mem_181051)[copy_arg0_171863];
                        int64_t copy_arg0_171869 = ((int64_t *) mem_181053)[copy_arg0_171863];
                        
                        ((int32_t *) mem_181051)[j_171856] = copy_arg0_171868;
                        ((int64_t *) mem_181053)[j_171856] = copy_arg0_171869;
                        ((int32_t *) mem_181051)[copy_arg0_171863] = copy_arg0_171861;
                        ((int64_t *) mem_181053)[copy_arg0_171863] = copy_arg0_171862;
                        
                        int64_t tmp_171874 = sub64(j_171856, (int64_t) 1);
                        bool cond_171875 = sle64((int64_t) 0, tmp_171874);
                        bool loop_cond_171876;
                        
                        if (cond_171875) {
                            bool y_178549 = slt64(tmp_171874, block_sizze_171782);
                            bool bounds_check_178550 = cond_171875 && y_178549;
                            bool index_certs_178551;
                            
                            if (!bounds_check_178550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171874, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t gt_arg1_178548 = ((int32_t *) mem_181051)[j_171856];
                            int32_t gt_arg0_178552 = ((int32_t *) mem_181051)[tmp_171874];
                            bool zlze_res_178553 = sle32(gt_arg0_178552, gt_arg1_178548);
                            bool defunc_0_lifted_gt_res_178554 = !zlze_res_178553;
                            
                            loop_cond_171876 = defunc_0_lifted_gt_res_178554;
                        } else {
                            loop_cond_171876 = 0;
                        }
                        
                        bool loop_while_tmp_182460 = loop_cond_171876;
                        int64_t j_tmp_182463 = tmp_171874;
                        
                        loop_while_171853 = loop_while_tmp_182460;
                        j_171856 = j_tmp_182463;
                    }
                    s_171849 = loop_while_171853;
                    s_171852 = j_171856;
                }
            }
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181038, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181051, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181041, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181053, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
        }
        if (memblock_alloc(ctx, &mem_181106, bytes_181037, "mem_181106")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint32_t *) mem_181038, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        if (memblock_alloc(ctx, &mem_181110, bytes_181040, "mem_181110")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181110.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint64_t *) mem_181041, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        
        int64_t data_171889;
        bool data_171890;
        int64_t data_171893;
        int64_t loop_dz2084Uz2082U_171894;
        bool loop_while_171895;
        int64_t stride_171898;
        
        if (memblock_set(ctx, &mem_param_181114, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181117, &mem_181110, "mem_181110") != 0)
            return 1;
        loop_dz2084Uz2082U_171894 = flat_dim_171783;
        loop_while_171895 = loop_cond_171886;
        stride_171898 = block_sizze_171782;
        while (loop_while_171895) {
            int64_t next_stride_171899 = mul64((int64_t) 2, stride_171898);
            bool zzero_171900 = next_stride_171899 == (int64_t) 0;
            bool nonzzero_171901 = !zzero_171900;
            bool nonzzero_cert_171902;
            
            if (!nonzzero_171901) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171903 = sdiv64(flat_dim_171783, next_stride_171899);
            bool bounds_invalid_upwards_171904 = slt64(num_merges_171903, (int64_t) 0);
            bool valid_171905 = !bounds_invalid_upwards_171904;
            bool range_valid_c_171906;
            
            if (!valid_171905) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171903, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:159:54-57\n   #6  ftsort.fut:35:3-25\n   #7  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171908 = sub64(next_stride_171899, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171909 = sle64((int64_t) 0, m_171908);
            bool cond_171911 = slt64(next_stride_171899, (int64_t) 10);
            bool protect_assert_disj_171912 = nonzzero_171888 || cond_171911;
            bool nonzzero_cert_171913;
            
            if (!protect_assert_disj_171912) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171914 = smod_safe64(next_stride_171899, merge_block_sizze_171786);
            bool num_blocks_171915 = zeze_lhs_171914 == (int64_t) 0;
            bool protect_assert_disj_171916 = cond_171911 || num_blocks_171915;
            bool assert_c_171917;
            
            if (!protect_assert_disj_171916) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171919 = sdiv_safe64(next_stride_171899, merge_block_sizze_171786);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920 = add64((int64_t) 1, num_blocks_171919);
            int64_t j_m_i_171921 = sub64(next_stride_171899, stride_171898);
            int64_t flat_dim_171922 = merge_block_sizze_171786 * num_blocks_171919;
            bool bounds_invalid_upwards_171923 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, (int64_t) 0);
            bool zzero_lte_i_171924 = sle64((int64_t) 0, stride_171898);
            bool i_lte_j_171925 = sle64(stride_171898, next_stride_171899);
            bool empty_slice_171926 = stride_171898 == (int64_t) 0;
            int64_t m_171927 = sub64(stride_171898, (int64_t) 1);
            bool bounds_invalid_upwards_171928 = slt64(num_blocks_171919, (int64_t) 0);
            bool empty_slice_171929 = j_m_i_171921 == (int64_t) 0;
            int64_t m_171930 = sub64(j_m_i_171921, (int64_t) 1);
            bool cond_171931 = slt64((int64_t) 0, stride_171898);
            bool valid_171932 = !bounds_invalid_upwards_171923;
            bool zzero_leq_i_p_m_t_s_171933 = sle64((int64_t) 0, m_171927);
            bool i_p_m_t_s_leq_w_171934 = slt64(m_171927, next_stride_171899);
            bool valid_171935 = !bounds_invalid_upwards_171928;
            bool i_p_m_t_s_leq_w_171936 = slt64(m_171908, flat_dim_171922);
            int64_t i_p_m_t_s_171937 = add64(stride_171898, m_171930);
            bool y_171938 = slt64((int64_t) 0, j_m_i_171921);
            bool protect_assert_disj_171939 = cond_171911 || valid_171932;
            bool range_valid_c_171940;
            
            if (!protect_assert_disj_171939) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171941 = zzero_leq_i_p_m_t_s_171933 && i_p_m_t_s_leq_w_171934;
            bool protect_assert_disj_171942 = cond_171911 || valid_171935;
            bool range_valid_c_171943;
            
            if (!protect_assert_disj_171942) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171919, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171944 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171936;
            bool zzero_leq_i_p_m_t_s_171945 = sle64((int64_t) 0, i_p_m_t_s_171937);
            bool i_p_m_t_s_leq_w_171946 = slt64(i_p_m_t_s_171937, next_stride_171899);
            bool forwards_ok_171947 = zzero_lte_i_171924 && y_171941;
            bool ok_or_empty_171948 = zzero_171900 || y_171944;
            bool y_171949 = zzero_lte_i_171924 && i_p_m_t_s_leq_w_171946;
            bool protect_assert_disj_171950 = cond_171931 || y_171938;
            bool ok_or_empty_171951 = empty_slice_171926 || forwards_ok_171947;
            bool protect_assert_disj_171952 = cond_171911 || ok_or_empty_171948;
            bool index_certs_171953;
            
            if (!protect_assert_disj_171952) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) flat_dim_171922, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171954 = zzero_leq_i_p_m_t_s_171945 && y_171949;
            bool loop_not_taken_171955 = !cond_171911;
            bool protect_assert_disj_171956 = protect_assert_disj_171950 || loop_not_taken_171955;
            bool index_certs_171957;
            
            if (!protect_assert_disj_171956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171958 = cond_171911 || ok_or_empty_171951;
            bool index_certs_171959;
            
            if (!protect_assert_disj_171958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171960 = i_lte_j_171925 && y_171954;
            bool protect_assert_disj_171961 = ok_or_empty_171951 || loop_not_taken_171955;
            bool index_certs_171962;
            
            if (!protect_assert_disj_171961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171963 = empty_slice_171929 || forwards_ok_171960;
            bool protect_assert_disj_171964 = loop_not_taken_171955 || ok_or_empty_171963;
            bool index_certs_171965;
            
            if (!protect_assert_disj_171964) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171966 = cond_171911 || ok_or_empty_171963;
            bool index_certs_171967;
            
            if (!protect_assert_disj_171966) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181118 = (int64_t) 4 * num_merges_171903;
            int64_t bytes_181119 = next_stride_171899 * binop_x_181118;
            int64_t binop_x_181121 = (int64_t) 8 * num_merges_171903;
            int64_t bytes_181122 = next_stride_171899 * binop_x_181121;
            bool i_lte_j_171910 = sle64((int64_t) 0, next_stride_171899);
            
            if (mem_181120_cached_sizze_182740 < bytes_181119) {
                err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182740, bytes_181119);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181123_cached_sizze_182741 < bytes_181122) {
                err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182741, bytes_181122);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181132 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920;
            int64_t binop_x_181148 = (int64_t) 4 * num_blocks_171919;
            int64_t bytes_181149 = merge_block_sizze_171786 * binop_x_181148;
            int64_t binop_x_181151 = (int64_t) 8 * num_blocks_171919;
            int64_t bytes_181152 = merge_block_sizze_171786 * binop_x_181151;
            int64_t bytes_181194 = (int64_t) 8 * stride_171898;
            int64_t bytes_181196 = (int64_t) 16 * stride_171898;
            
            for (int64_t i_180727 = 0; i_180727 < num_merges_171903; i_180727++) {
                int64_t start_171971 = mul64(next_stride_171899, i_180727);
                int64_t j_m_i_171972 = sub64(loop_dz2084Uz2082U_171894, start_171971);
                bool empty_slice_171973 = j_m_i_171972 == (int64_t) 0;
                int64_t m_171974 = sub64(j_m_i_171972, (int64_t) 1);
                int64_t i_p_m_t_s_171975 = add64(start_171971, m_171974);
                bool zzero_leq_i_p_m_t_s_171976 = sle64((int64_t) 0, i_p_m_t_s_171975);
                bool i_p_m_t_s_leq_w_171977 = slt64(i_p_m_t_s_171975, loop_dz2084Uz2082U_171894);
                bool zzero_lte_i_171978 = sle64((int64_t) 0, start_171971);
                bool i_lte_j_171979 = sle64(start_171971, loop_dz2084Uz2082U_171894);
                bool y_171980 = i_p_m_t_s_leq_w_171977 && zzero_lte_i_171978;
                bool y_171981 = zzero_leq_i_p_m_t_s_171976 && y_171980;
                bool forwards_ok_171982 = i_lte_j_171979 && y_171981;
                bool ok_or_empty_171983 = empty_slice_171973 || forwards_ok_171982;
                bool index_certs_171984;
                
                if (!ok_or_empty_171983) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171971, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171894, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171985 = slt64(m_171908, j_m_i_171972);
                bool y_171986 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171985;
                bool forwards_ok_171987 = i_lte_j_171910 && y_171986;
                bool ok_or_empty_171988 = zzero_171900 || forwards_ok_171987;
                bool index_certs_171989;
                
                if (!ok_or_empty_171988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) j_m_i_171972, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:35:3-25\n   #9  ftsort.fut:34:1-35:25\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171911) {
                    int32_t dummy_178580;
                    int64_t dummy_178581;
                    
                    if (cond_171931) {
                        int32_t head_res_178582 = ((int32_t *) mem_param_181114.mem)[start_171971];
                        int64_t head_res_178583 = ((int64_t *) mem_param_181117.mem)[start_171971];
                        
                        dummy_178580 = head_res_178582;
                        dummy_178581 = head_res_178583;
                    } else {
                        int64_t slice_178584 = stride_171898 + start_171971;
                        int32_t head_res_178585 = ((int32_t *) mem_param_181114.mem)[slice_178584];
                        int64_t head_res_178586 = ((int64_t *) mem_param_181117.mem)[slice_178584];
                        
                        dummy_178580 = head_res_178585;
                        dummy_178581 = head_res_178586;
                    }
                    if (memblock_alloc(ctx, &mem_181195, bytes_181194, "mem_181195")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182473 = 0; nest_i_182473 < next_stride_171899; nest_i_182473++) {
                        ((int32_t *) mem_181195.mem)[nest_i_182473] = dummy_178580;
                    }
                    if (memblock_alloc(ctx, &mem_181197, bytes_181196, "mem_181197")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182474 = 0; nest_i_182474 < next_stride_171899; nest_i_182474++) {
                        ((int64_t *) mem_181197.mem)[nest_i_182474] = dummy_178581;
                    }
                    
                    int64_t data_178589;
                    int64_t i_178593 = (int64_t) 0;
                    
                    for (int64_t k_178592 = 0; k_178592 < next_stride_171899; k_178592++) {
                        int64_t j_178596 = sub64(k_178592, i_178593);
                        bool cond_178597 = j_178596 == j_m_i_171921;
                        bool cond_178598;
                        
                        if (cond_178597) {
                            cond_178598 = 1;
                        } else {
                            bool cond_178599 = slt64(i_178593, stride_171898);
                            bool cond_f_res_178600;
                            
                            if (cond_178599) {
                                bool x_178601 = sle64((int64_t) 0, j_178596);
                                bool y_178602 = slt64(j_178596, j_m_i_171921);
                                bool bounds_check_178603 = x_178601 && y_178602;
                                bool index_certs_178604;
                                
                                if (!bounds_check_178603) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178608 = sle64((int64_t) 0, i_178593);
                                bool bounds_check_178609 = cond_178599 && x_178608;
                                bool index_certs_178610;
                                
                                if (!bounds_check_178609) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178605 = stride_171898 + j_178596;
                                int64_t slice_178606 = start_171971 + slice_178605;
                                int32_t leq_arg1_178607 = ((int32_t *) mem_param_181114.mem)[slice_178606];
                                int64_t slice_178611 = start_171971 + i_178593;
                                int32_t leq_arg0_178612 = ((int32_t *) mem_param_181114.mem)[slice_178611];
                                bool zlze_res_178613 = sle32(leq_arg0_178612, leq_arg1_178607);
                                
                                cond_f_res_178600 = zlze_res_178613;
                            } else {
                                cond_f_res_178600 = 0;
                            }
                            cond_178598 = cond_f_res_178600;
                        }
                        
                        int64_t loopres_178614;
                        int32_t loopres_178615;
                        int64_t loopres_178616;
                        
                        if (cond_178598) {
                            bool x_178618 = sle64((int64_t) 0, i_178593);
                            bool y_178619 = slt64(i_178593, stride_171898);
                            bool bounds_check_178620 = x_178618 && y_178619;
                            bool index_certs_178621;
                            
                            if (!bounds_check_178620) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178617 = add64((int64_t) 1, i_178593);
                            int64_t slice_178622 = start_171971 + i_178593;
                            int32_t tmp_178623 = ((int32_t *) mem_param_181114.mem)[slice_178622];
                            int64_t tmp_178624 = ((int64_t *) mem_param_181117.mem)[slice_178622];
                            
                            loopres_178614 = tmp_178617;
                            loopres_178615 = tmp_178623;
                            loopres_178616 = tmp_178624;
                        } else {
                            bool x_178625 = sle64((int64_t) 0, j_178596);
                            bool y_178626 = slt64(j_178596, j_m_i_171921);
                            bool bounds_check_178627 = x_178625 && y_178626;
                            bool index_certs_178628;
                            
                            if (!bounds_check_178627) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:35:3-25\n   #10 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178629 = stride_171898 + j_178596;
                            int64_t slice_178630 = start_171971 + slice_178629;
                            int32_t tmp_178631 = ((int32_t *) mem_param_181114.mem)[slice_178630];
                            int64_t tmp_178632 = ((int64_t *) mem_param_181117.mem)[slice_178630];
                            
                            loopres_178614 = i_178593;
                            loopres_178615 = tmp_178631;
                            loopres_178616 = tmp_178632;
                        }
                        ((int32_t *) mem_181195.mem)[k_178592] = loopres_178615;
                        ((int64_t *) mem_181197.mem)[k_178592] = loopres_178616;
                        
                        int64_t i_tmp_182475 = loopres_178614;
                        
                        i_178593 = i_tmp_182475;
                    }
                    data_178589 = i_178593;
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181195, "mem_181195") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181197, "mem_181197") != 0)
                        return 1;
                } else {
                    if (mem_181133_cached_sizze_182742 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182742, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181135_cached_sizze_182743 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181135, &mem_181135_cached_sizze_182743, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180713 = 0; i_180713 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920; i_180713++) {
                        int64_t split_count_arg3_172051 = mul64(merge_block_sizze_171786, i_180713);
                        int64_t defunc_0_split_count_res_172052;
                        int64_t defunc_0_split_count_res_172053;
                        int64_t defunc_0_split_count_res_172054;
                        int64_t defunc_0_split_count_res_172055;
                        int64_t defunc_0_split_count_res_172056;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_172052, &defunc_0_split_count_res_172053, &defunc_0_split_count_res_172054, &defunc_0_split_count_res_172055, &defunc_0_split_count_res_172056, (int64_t) 0, stride_171898, (int64_t) 0, j_m_i_171921, split_count_arg3_172051) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172057 = slt64((int64_t) 0, defunc_0_split_count_res_172056);
                        bool defunc_0_split_count_res_172058;
                        int64_t defunc_0_split_count_res_172059;
                        int64_t defunc_0_split_count_res_172060;
                        int64_t defunc_0_split_count_res_172061;
                        int64_t defunc_0_split_count_res_172062;
                        int64_t defunc_0_split_count_res_172063;
                        bool loop_while_172064;
                        int64_t ss_172065;
                        int64_t ss_172066;
                        int64_t tt_172067;
                        int64_t tt_172068;
                        int64_t count_172069;
                        
                        loop_while_172064 = loop_cond_172057;
                        ss_172065 = defunc_0_split_count_res_172052;
                        ss_172066 = defunc_0_split_count_res_172053;
                        tt_172067 = defunc_0_split_count_res_172054;
                        tt_172068 = defunc_0_split_count_res_172055;
                        count_172069 = defunc_0_split_count_res_172056;
                        while (loop_while_172064) {
                            int64_t zlze_lhs_172070 = sub64(ss_172066, ss_172065);
                            bool cond_172071 = sle64(zlze_lhs_172070, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172072;
                            int64_t defunc_0_lifted_step_res_172073;
                            int64_t defunc_0_lifted_step_res_172074;
                            int64_t defunc_0_lifted_step_res_172075;
                            
                            if (cond_172071) {
                                int64_t tmp_178635 = add64(tt_172067, count_172069);
                                
                                defunc_0_lifted_step_res_172072 = ss_172065;
                                defunc_0_lifted_step_res_172073 = tmp_178635;
                                defunc_0_lifted_step_res_172074 = tt_172068;
                                defunc_0_lifted_step_res_172075 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172077 = sub64(tt_172068, tt_172067);
                                bool cond_172078 = sle64(zlze_lhs_172077, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172079;
                                int64_t defunc_0_lifted_step_res_f_res_172080;
                                int64_t defunc_0_lifted_step_res_f_res_172081;
                                int64_t defunc_0_lifted_step_res_f_res_172082;
                                
                                if (cond_172078) {
                                    int64_t tmp_178636 = add64(ss_172065, count_172069);
                                    
                                    defunc_0_lifted_step_res_f_res_172079 = tmp_178636;
                                    defunc_0_lifted_step_res_f_res_172080 = tt_172067;
                                    defunc_0_lifted_step_res_f_res_172081 = tt_172068;
                                    defunc_0_lifted_step_res_f_res_172082 = (int64_t) 0;
                                } else {
                                    bool cond_172084 = count_172069 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172085;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172086;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172087;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172088;
                                    
                                    if (cond_172084) {
                                        bool x_178638 = sle64((int64_t) 0, ss_172065);
                                        bool y_178639 = slt64(ss_172065, stride_171898);
                                        bool bounds_check_178640 = x_178638 && y_178639;
                                        bool index_certs_178641;
                                        
                                        if (!bounds_check_178640) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172065, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178644 = sle64((int64_t) 0, tt_172067);
                                        bool y_178645 = slt64(tt_172067, j_m_i_171921);
                                        bool bounds_check_178646 = x_178644 && y_178645;
                                        bool index_certs_178647;
                                        
                                        if (!bounds_check_178646) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172067, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178642 = start_171971 + ss_172065;
                                        int32_t leq_arg1_178643 = ((int32_t *) mem_param_181114.mem)[slice_178642];
                                        int64_t slice_178648 = stride_171898 + tt_172067;
                                        int64_t slice_178649 = start_171971 + slice_178648;
                                        int32_t leq_arg0_178650 = ((int32_t *) mem_param_181114.mem)[slice_178649];
                                        bool zlze_res_178651 = sle32(leq_arg0_178650, leq_arg1_178643);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        
                                        if (zlze_res_178651) {
                                            int64_t tmp_178654 = add64((int64_t) 1, tt_172067);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = ss_172065;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tmp_178654;
                                        } else {
                                            int64_t tmp_178655 = add64((int64_t) 1, ss_172065);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = tmp_178655;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tt_172067;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = tt_172068;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = (int64_t) 0;
                                    } else {
                                        int64_t m_172107 = sdiv64(count_172069, (int64_t) 2);
                                        int64_t n_172108 = sub64(count_172069, m_172107);
                                        bool cond_172109 = n_172108 == (int64_t) 0;
                                        int64_t zgze_lhs_172110 = add64(ss_172065, m_172107);
                                        bool cond_f_res_172111 = sle64(ss_172066, zgze_lhs_172110);
                                        bool x_172112 = !cond_172109;
                                        bool y_172113 = cond_f_res_172111 && x_172112;
                                        bool cond_172114 = cond_172109 || y_172113;
                                        bool leq_y_x_172115;
                                        
                                        if (cond_172114) {
                                            leq_y_x_172115 = 1;
                                        } else {
                                            bool x_172116 = sle64((int64_t) 0, zgze_lhs_172110);
                                            bool y_172117 = slt64(zgze_lhs_172110, stride_171898);
                                            bool bounds_check_172118 = x_172116 && y_172117;
                                            bool index_certs_172119;
                                            
                                            if (!bounds_check_172118) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172110, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172122 = add64(tt_172067, n_172108);
                                            int64_t leq_arg0_172123 = sub64(zm_lhs_172122, (int64_t) 1);
                                            bool x_172124 = sle64((int64_t) 0, leq_arg0_172123);
                                            bool y_172125 = slt64(leq_arg0_172123, j_m_i_171921);
                                            bool bounds_check_172126 = x_172124 && y_172125;
                                            bool index_certs_172127;
                                            
                                            if (!bounds_check_172126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172123, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:35:3-25\n   #14 ftsort.fut:34:1-35:25\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172120 = start_171971 + zgze_lhs_172110;
                                            int32_t leq_arg1_172121 = ((int32_t *) mem_param_181114.mem)[slice_172120];
                                            int64_t slice_172128 = stride_171898 + leq_arg0_172123;
                                            int64_t slice_172129 = start_171971 + slice_172128;
                                            int32_t leq_arg0_172130 = ((int32_t *) mem_param_181114.mem)[slice_172129];
                                            bool zlze_res_172131 = sle32(leq_arg0_172130, leq_arg1_172121);
                                            
                                            leq_y_x_172115 = zlze_res_172131;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                        
                                        if (leq_y_x_172115) {
                                            int64_t tmp_178656 = add64(tt_172067, n_172108);
                                            int64_t tmp_178657 = sub64(count_172069, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tmp_178656;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tt_172068;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = tmp_178657;
                                        } else {
                                            int64_t tmp_172137 = add64(tt_172067, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tt_172067;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tmp_172137;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = count_172069;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = ss_172065;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                    }
                                    defunc_0_lifted_step_res_f_res_172079 = defunc_0_lifted_step_res_f_res_f_res_172085;
                                    defunc_0_lifted_step_res_f_res_172080 = defunc_0_lifted_step_res_f_res_f_res_172086;
                                    defunc_0_lifted_step_res_f_res_172081 = defunc_0_lifted_step_res_f_res_f_res_172087;
                                    defunc_0_lifted_step_res_f_res_172082 = defunc_0_lifted_step_res_f_res_f_res_172088;
                                }
                                defunc_0_lifted_step_res_172072 = defunc_0_lifted_step_res_f_res_172079;
                                defunc_0_lifted_step_res_172073 = defunc_0_lifted_step_res_f_res_172080;
                                defunc_0_lifted_step_res_172074 = defunc_0_lifted_step_res_f_res_172081;
                                defunc_0_lifted_step_res_172075 = defunc_0_lifted_step_res_f_res_172082;
                            }
                            
                            int64_t loopres_172138;
                            int64_t loopres_172139;
                            int64_t loopres_172140;
                            int64_t loopres_172141;
                            int64_t loopres_172142;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_172138, &loopres_172139, &loopres_172140, &loopres_172141, &loopres_172142, defunc_0_lifted_step_res_172072, ss_172066, defunc_0_lifted_step_res_172073, defunc_0_lifted_step_res_172074, defunc_0_lifted_step_res_172075) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172143 = slt64((int64_t) 0, loopres_172142);
                            bool loop_while_tmp_182480 = loop_cond_172143;
                            int64_t ss_tmp_182481 = loopres_172138;
                            int64_t ss_tmp_182482 = loopres_172139;
                            int64_t tt_tmp_182483 = loopres_172140;
                            int64_t tt_tmp_182484 = loopres_172141;
                            int64_t count_tmp_182485 = loopres_172142;
                            
                            loop_while_172064 = loop_while_tmp_182480;
                            ss_172065 = ss_tmp_182481;
                            ss_172066 = ss_tmp_182482;
                            tt_172067 = tt_tmp_182483;
                            tt_172068 = tt_tmp_182484;
                            count_172069 = count_tmp_182485;
                        }
                        defunc_0_split_count_res_172058 = loop_while_172064;
                        defunc_0_split_count_res_172059 = ss_172065;
                        defunc_0_split_count_res_172060 = ss_172066;
                        defunc_0_split_count_res_172061 = tt_172067;
                        defunc_0_split_count_res_172062 = tt_172068;
                        defunc_0_split_count_res_172063 = count_172069;
                        ((int64_t *) mem_181133)[i_180713] = defunc_0_split_count_res_172059;
                        ((int64_t *) mem_181135)[i_180713] = defunc_0_split_count_res_172061;
                    }
                    if (mem_181150_cached_sizze_182744 < bytes_181149) {
                        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_182744, bytes_181149);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181153_cached_sizze_182745 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182745, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180720 = 0; i_180720 < num_blocks_171919; i_180720++) {
                        bool y_172149 = slt64(i_180720, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool index_certs_172151;
                        
                        if (!y_172149) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180720, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172152 = ((int64_t *) mem_181133)[i_180720];
                        int64_t defunc_0_f_res_172153 = ((int64_t *) mem_181135)[i_180720];
                        int64_t tmp_172154 = add64((int64_t) 1, i_180720);
                        bool x_172155 = sle64((int64_t) 0, tmp_172154);
                        bool y_172156 = slt64(tmp_172154, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool bounds_check_172157 = x_172155 && y_172156;
                        bool index_certs_172158;
                        
                        if (!bounds_check_172157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172154, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172159 = ((int64_t *) mem_181133)[tmp_172154];
                        int64_t defunc_0_f_res_172160 = ((int64_t *) mem_181135)[tmp_172154];
                        int64_t merge_sequential_arg2_172161 = add64(stride_171898, defunc_0_f_res_172153);
                        int64_t merge_sequential_arg2_172162 = add64(stride_171898, defunc_0_f_res_172160);
                        int64_t j_m_i_172163 = sub64(merge_sequential_arg2_172162, merge_sequential_arg2_172161);
                        bool empty_slice_172164 = j_m_i_172163 == (int64_t) 0;
                        int64_t m_172165 = sub64(j_m_i_172163, (int64_t) 1);
                        int64_t i_p_m_t_s_172166 = add64(merge_sequential_arg2_172161, m_172165);
                        bool zzero_leq_i_p_m_t_s_172167 = sle64((int64_t) 0, i_p_m_t_s_172166);
                        bool i_p_m_t_s_leq_w_172168 = slt64(i_p_m_t_s_172166, next_stride_171899);
                        bool zzero_lte_i_172169 = sle64((int64_t) 0, merge_sequential_arg2_172161);
                        bool i_lte_j_172170 = sle64(merge_sequential_arg2_172161, merge_sequential_arg2_172162);
                        bool y_172171 = i_p_m_t_s_leq_w_172168 && zzero_lte_i_172169;
                        bool y_172172 = zzero_leq_i_p_m_t_s_172167 && y_172171;
                        bool forwards_ok_172173 = i_lte_j_172170 && y_172172;
                        bool ok_or_empty_172174 = empty_slice_172164 || forwards_ok_172173;
                        bool index_certs_172175;
                        
                        if (!ok_or_empty_172174) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172161, ":", (long long) merge_sequential_arg2_172162, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172176 = sub64(defunc_0_f_res_172159, defunc_0_f_res_172152);
                        bool empty_slice_172177 = j_m_i_172176 == (int64_t) 0;
                        int64_t m_172178 = sub64(j_m_i_172176, (int64_t) 1);
                        int64_t i_p_m_t_s_172179 = add64(defunc_0_f_res_172152, m_172178);
                        bool zzero_leq_i_p_m_t_s_172180 = sle64((int64_t) 0, i_p_m_t_s_172179);
                        bool i_p_m_t_s_leq_w_172181 = slt64(i_p_m_t_s_172179, next_stride_171899);
                        bool zzero_lte_i_172182 = sle64((int64_t) 0, defunc_0_f_res_172152);
                        bool i_lte_j_172183 = sle64(defunc_0_f_res_172152, defunc_0_f_res_172159);
                        bool y_172184 = i_p_m_t_s_leq_w_172181 && zzero_lte_i_172182;
                        bool y_172185 = zzero_leq_i_p_m_t_s_172180 && y_172184;
                        bool forwards_ok_172186 = i_lte_j_172183 && y_172185;
                        bool ok_or_empty_172187 = empty_slice_172177 || forwards_ok_172186;
                        bool index_certs_172188;
                        
                        if (!ok_or_empty_172187) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172152, ":", (long long) defunc_0_f_res_172159, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:35:3-25\n   #11 ftsort.fut:34:1-35:25\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172189 = slt64((int64_t) 0, j_m_i_172176);
                        int32_t dummy_172190;
                        int64_t dummy_172191;
                        
                        if (cond_172189) {
                            bool index_certs_178658;
                            
                            if (!cond_172189) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:159:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178659 = start_171971 + defunc_0_f_res_172152;
                            int32_t head_res_178660 = ((int32_t *) mem_param_181114.mem)[slice_178659];
                            int64_t head_res_178661 = ((int64_t *) mem_param_181117.mem)[slice_178659];
                            
                            dummy_172190 = head_res_178660;
                            dummy_172191 = head_res_178661;
                        } else {
                            bool y_172196 = slt64((int64_t) 0, j_m_i_172163);
                            bool index_certs_172197;
                            
                            if (!y_172196) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:159:54-57\n   #12 ftsort.fut:35:3-25\n   #13 ftsort.fut:34:1-35:25\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172198 = start_171971 + merge_sequential_arg2_172161;
                            int32_t head_res_172199 = ((int32_t *) mem_param_181114.mem)[slice_172198];
                            int64_t head_res_172200 = ((int64_t *) mem_param_181117.mem)[slice_172198];
                            
                            dummy_172190 = head_res_172199;
                            dummy_172191 = head_res_172200;
                        }
                        for (int64_t nest_i_182488 = 0; nest_i_182488 < merge_block_sizze_171786; nest_i_182488++) {
                            ((int32_t *) mem_181150)[i_180720 * merge_block_sizze_171786 + nest_i_182488] = dummy_172190;
                        }
                        for (int64_t nest_i_182489 = 0; nest_i_182489 < merge_block_sizze_171786; nest_i_182489++) {
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + nest_i_182489] = dummy_172191;
                        }
                        
                        int64_t data_172203;
                        int64_t i_172207 = (int64_t) 0;
                        
                        for (int64_t k_172206 = 0; k_172206 < merge_block_sizze_171786; k_172206++) {
                            int64_t j_172210 = sub64(k_172206, i_172207);
                            bool cond_172211 = j_172210 == j_m_i_172163;
                            bool cond_172212;
                            
                            if (cond_172211) {
                                cond_172212 = 1;
                            } else {
                                bool cond_172213 = slt64(i_172207, j_m_i_172176);
                                bool cond_f_res_172214;
                                
                                if (cond_172213) {
                                    bool x_178662 = sle64((int64_t) 0, j_172210);
                                    bool y_178663 = slt64(j_172210, j_m_i_172163);
                                    bool bounds_check_178664 = x_178662 && y_178663;
                                    bool index_certs_178665;
                                    
                                    if (!bounds_check_178664) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178669 = sle64((int64_t) 0, i_172207);
                                    bool bounds_check_178670 = cond_172213 && x_178669;
                                    bool index_certs_178671;
                                    
                                    if (!bounds_check_178670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178666 = merge_sequential_arg2_172161 + j_172210;
                                    int64_t slice_178667 = start_171971 + slice_178666;
                                    int32_t leq_arg1_178668 = ((int32_t *) mem_param_181114.mem)[slice_178667];
                                    int64_t slice_178672 = defunc_0_f_res_172152 + i_172207;
                                    int64_t slice_178673 = start_171971 + slice_178672;
                                    int32_t leq_arg0_178674 = ((int32_t *) mem_param_181114.mem)[slice_178673];
                                    bool zlze_res_178675 = sle32(leq_arg0_178674, leq_arg1_178668);
                                    
                                    cond_f_res_172214 = zlze_res_178675;
                                } else {
                                    cond_f_res_172214 = 0;
                                }
                                cond_172212 = cond_f_res_172214;
                            }
                            
                            int64_t loopres_172229;
                            int32_t loopres_172230;
                            int64_t loopres_172231;
                            
                            if (cond_172212) {
                                bool x_178677 = sle64((int64_t) 0, i_172207);
                                bool y_178678 = slt64(i_172207, j_m_i_172176);
                                bool bounds_check_178679 = x_178677 && y_178678;
                                bool index_certs_178680;
                                
                                if (!bounds_check_178679) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178676 = add64((int64_t) 1, i_172207);
                                int64_t slice_178681 = defunc_0_f_res_172152 + i_172207;
                                int64_t slice_178682 = start_171971 + slice_178681;
                                int32_t tmp_178683 = ((int32_t *) mem_param_181114.mem)[slice_178682];
                                int64_t tmp_178684 = ((int64_t *) mem_param_181117.mem)[slice_178682];
                                
                                loopres_172229 = tmp_178676;
                                loopres_172230 = tmp_178683;
                                loopres_172231 = tmp_178684;
                            } else {
                                bool x_172241 = sle64((int64_t) 0, j_172210);
                                bool y_172242 = slt64(j_172210, j_m_i_172163);
                                bool bounds_check_172243 = x_172241 && y_172242;
                                bool index_certs_172244;
                                
                                if (!bounds_check_172243) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:35:3-25\n   #12 ftsort.fut:34:1-35:25\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172245 = merge_sequential_arg2_172161 + j_172210;
                                int64_t slice_172246 = start_171971 + slice_172245;
                                int32_t tmp_172247 = ((int32_t *) mem_param_181114.mem)[slice_172246];
                                int64_t tmp_172248 = ((int64_t *) mem_param_181117.mem)[slice_172246];
                                
                                loopres_172229 = i_172207;
                                loopres_172230 = tmp_172247;
                                loopres_172231 = tmp_172248;
                            }
                            ((int32_t *) mem_181150)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172230;
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172231;
                            
                            int64_t i_tmp_182490 = loopres_172229;
                            
                            i_172207 = i_tmp_182490;
                        }
                        data_172203 = i_172207;
                    }
                    if (memblock_alloc(ctx, &mem_181188, bytes_181149, "mem_181188")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint32_t *) mem_181150, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_alloc(ctx, &mem_181192, bytes_181152, "mem_181192")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181192.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint64_t *) mem_181153, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181188, "mem_181188") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181192, "mem_181192") != 0)
                        return 1;
                }
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181120, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181215.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181123, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181212.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172255 = next_stride_171899 * num_merges_171903;
            
            if (memblock_alloc(ctx, &mem_181226, bytes_181119, "mem_181226")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_181226.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint32_t *) mem_181120, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            if (memblock_alloc(ctx, &mem_181230, bytes_181122, "mem_181230")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181230.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint64_t *) mem_181123, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            
            bool loop_cond_172258 = slt64(next_stride_171899, flat_dim_171783);
            
            if (memblock_set(ctx, &mem_param_tmp_182464, &mem_181226, "mem_181226") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182465, &mem_181230, "mem_181230") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182466 = flat_dim_172255;
            bool loop_while_tmp_182467 = loop_cond_172258;
            int64_t stride_tmp_182470 = next_stride_171899;
            
            if (memblock_set(ctx, &mem_param_181114, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181117, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
                return 1;
            loop_dz2084Uz2082U_171894 = loop_dz2084Uz2082U_tmp_182466;
            loop_while_171895 = loop_while_tmp_182467;
            stride_171898 = stride_tmp_182470;
        }
        if (memblock_set(ctx, &ext_mem_181237, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181236, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        data_171889 = loop_dz2084Uz2082U_171894;
        data_171890 = loop_while_171895;
        data_171893 = stride_171898;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        
        bool empty_slice_172259 = n_101080 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172260 = sle64((int64_t) 0, zs_lhs_171767);
        bool i_p_m_t_s_leq_w_172261 = slt64(zs_lhs_171767, data_171889);
        bool y_172262 = zzero_leq_i_p_m_t_s_172260 && i_p_m_t_s_leq_w_172261;
        bool ok_or_empty_172263 = empty_slice_172259 || y_172262;
        bool index_certs_172264;
        
        if (!ok_or_empty_172263) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_101080, "] out of bounds for array of shape [", (long long) data_171889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:159:54-57\n   #5  ftsort.fut:35:3-25\n   #6  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181240, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181242, bytes_181034, "mem_181242")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181244, bytes_181243, "mem_181244")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180734 = 0; i_180734 < n_101080; i_180734++) {
        int64_t eta_p_172268 = ((int64_t *) ext_mem_181240.mem)[i_180734];
        bool x_172269 = sle64((int64_t) 0, eta_p_172268);
        bool y_172270 = slt64(eta_p_172268, n_101080);
        bool bounds_check_172271 = x_172269 && y_172270;
        bool index_certs_172272;
        
        if (!bounds_check_172271) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172268, "] out of bounds for array of shape [", (long long) n_101080, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:35:3-25\n   #5  ftsort.fut:34:1-35:25\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172273 = ((int64_t *) ext_mem_181033.mem)[eta_p_172268];
        int32_t lifted_lambda_res_172274 = ((int32_t *) xs_mem_181032.mem)[eta_p_172268];
        
        ((int64_t *) mem_181242.mem)[i_180734] = lifted_lambda_res_172273;
        ((int32_t *) mem_181244.mem)[i_180734] = lifted_lambda_res_172274;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181242, "mem_181242") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181244, "mem_181244") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182734, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182735, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181038);
        free(mem_181041);
        free(mem_181051);
        free(mem_181053);
        free(mem_181120);
        free(mem_181123);
        free(mem_181133);
        free(mem_181135);
        free(mem_181150);
        free(mem_181153);
        if (memblock_unref(ctx, &mem_181244, "mem_181244") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181242, "mem_181242") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181230, "mem_181230") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181226, "mem_181226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181192, "mem_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181197, "mem_181197") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181195, "mem_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181237, "ext_mem_181237") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_182746, struct memblock *mem_out_p_182747, struct memblock xs_mem_181032, int64_t n_103423, int64_t incr_103424)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181038_cached_sizze_182748 = 0;
    unsigned char *mem_181038 = NULL;
    int64_t mem_181041_cached_sizze_182749 = 0;
    unsigned char *mem_181041 = NULL;
    int64_t mem_181051_cached_sizze_182750 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_182751 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181120_cached_sizze_182752 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182753 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181133_cached_sizze_182754 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181135_cached_sizze_182755 = 0;
    unsigned char *mem_181135 = NULL;
    int64_t mem_181150_cached_sizze_182756 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181153_cached_sizze_182757 = 0;
    unsigned char *mem_181153 = NULL;
    struct memblock mem_181244;
    
    mem_181244.references = NULL;
    
    struct memblock mem_181242;
    
    mem_181242.references = NULL;
    
    struct memblock mem_param_tmp_182465;
    
    mem_param_tmp_182465.references = NULL;
    
    struct memblock mem_param_tmp_182464;
    
    mem_param_tmp_182464.references = NULL;
    
    struct memblock mem_181230;
    
    mem_181230.references = NULL;
    
    struct memblock mem_181226;
    
    mem_181226.references = NULL;
    
    struct memblock mem_181192;
    
    mem_181192.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181197;
    
    mem_181197.references = NULL;
    
    struct memblock mem_181195;
    
    mem_181195.references = NULL;
    
    struct memblock ext_mem_181212;
    
    ext_mem_181212.references = NULL;
    
    struct memblock ext_mem_181215;
    
    ext_mem_181215.references = NULL;
    
    struct memblock mem_param_181117;
    
    mem_param_181117.references = NULL;
    
    struct memblock mem_param_181114;
    
    mem_param_181114.references = NULL;
    
    struct memblock ext_mem_181236;
    
    ext_mem_181236.references = NULL;
    
    struct memblock ext_mem_181237;
    
    ext_mem_181237.references = NULL;
    
    struct memblock mem_181110;
    
    mem_181110.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock ext_mem_181240;
    
    ext_mem_181240.references = NULL;
    
    struct memblock mem_181035;
    
    mem_181035.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_103423;
    bool cond_171766 = sle64(n_103423, (int64_t) 1);
    int64_t zs_lhs_171767 = sub64(n_103423, (int64_t) 1);
    int64_t zp_rhs_171768 = sdiv_safe64(zs_lhs_171767, (int64_t) 20);
    int64_t min_num_blocks_171769 = add64((int64_t) 1, zp_rhs_171768);
    bool loop_cond_171770 = slt64((int64_t) 1, min_num_blocks_171769);
    bool smallest_pow_2_geq_than_res_171771;
    int64_t smallest_pow_2_geq_than_res_171772;
    bool loop_while_171773;
    int64_t x_171774;
    
    loop_while_171773 = loop_cond_171770;
    x_171774 = (int64_t) 1;
    while (loop_while_171773) {
        int64_t loopres_171775 = mul64((int64_t) 2, x_171774);
        bool loop_cond_171776 = slt64(loopres_171775, min_num_blocks_171769);
        bool loop_while_tmp_182448 = loop_cond_171776;
        int64_t x_tmp_182449 = loopres_171775;
        
        loop_while_171773 = loop_while_tmp_182448;
        x_171774 = x_tmp_182449;
    }
    smallest_pow_2_geq_than_res_171771 = loop_while_171773;
    smallest_pow_2_geq_than_res_171772 = x_171774;
    
    bool zzero_171777 = smallest_pow_2_geq_than_res_171772 == (int64_t) 0;
    bool nonzzero_171778 = !zzero_171777;
    bool protect_assert_disj_171779 = cond_171766 || nonzzero_171778;
    bool nonzzero_cert_171780;
    
    if (!protect_assert_disj_171779) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171781 = sdiv_safe64(zs_lhs_171767, smallest_pow_2_geq_than_res_171772);
    int64_t block_sizze_171782 = add64((int64_t) 1, zp_rhs_171781);
    bool y_171787 = slt64((int64_t) 0, n_103423);
    bool protect_assert_disj_182145 = cond_171766 || y_171787;
    bool index_certs_171788;
    
    if (!protect_assert_disj_182145) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_103423, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171801 = slt64(smallest_pow_2_geq_than_res_171772, (int64_t) 0);
    bool valid_171802 = !bounds_invalid_upwards_171801;
    bool protect_assert_disj_182153 = cond_171766 || valid_171802;
    bool range_valid_c_171803;
    
    if (!protect_assert_disj_182153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171772, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:159:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171805 = slt64(block_sizze_171782, (int64_t) 0);
    bool valid_171806 = !bounds_invalid_upwards_171805;
    bool protect_assert_disj_182155 = cond_171766 || valid_171806;
    bool range_valid_c_171807;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171809 = sle64(block_sizze_171782, (int64_t) 1);
    int64_t tmp_171810 = sub64(block_sizze_171782, (int64_t) 2);
    bool bounds_invalid_upwards_171811 = slt64(tmp_171810, (int64_t) 0);
    bool valid_171813 = !bounds_invalid_upwards_171811;
    bool protect_assert_disj_171814 = cond_171809 || valid_171813;
    bool protect_assert_disj_182157 = cond_171766 || protect_assert_disj_171814;
    bool range_valid_c_171815;
    
    if (!protect_assert_disj_182157) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171810, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (futrts_indicesWithIncrement_9396(ctx, &ext_mem_181033, xs_mem_181032, n_103423, incr_103424) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181035, bytes_181034, "mem_181035")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182450 = 0; i_182450 < n_103423; i_182450++) {
        int64_t x_182451 = (int64_t) 0 + i_182450 * (int64_t) 1;
        
        ((int64_t *) mem_181035.mem)[i_182450] = x_182451;
    }
    
    int64_t flat_dim_171783 = smallest_pow_2_geq_than_res_171772 * block_sizze_171782;
    bool x_182140 = !cond_171766;
    int64_t greatest_divisor_leq_than_arg1_171785 = mul64((int64_t) 2, block_sizze_171782);
    int64_t merge_block_sizze_171786;
    
    if (x_182140) {
        int64_t x_182142;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182142, (int64_t) 8, greatest_divisor_leq_than_arg1_171785) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171786 = x_182142;
    } else {
        merge_block_sizze_171786 = (int64_t) 0;
    }
    
    int64_t reduce_arg1_171789;
    
    if (x_182140) {
        int64_t x_182146 = ((int64_t *) xs_mem_181032.mem)[(int64_t) 0];
        
        reduce_arg1_171789 = x_182146;
    } else {
        reduce_arg1_171789 = (int64_t) 0;
    }
    
    int64_t defunc_0_reduce_res_178691;
    int64_t defunc_0_reduce_res_178692;
    
    if (x_182140) {
        int64_t x_182148;
        int64_t x_182149;
        int64_t redout_180692;
        int64_t redout_180693;
        
        redout_180692 = reduce_arg1_171789;
        redout_180693 = (int64_t) 0;
        for (int64_t i_180694 = 0; i_180694 < n_103423; i_180694++) {
            int64_t x_171792 = ((int64_t *) xs_mem_181032.mem)[i_180694];
            bool zlze_res_171798 = sle64(redout_180692, x_171792);
            int64_t defunc_0_op_res_171799;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171799 = x_171792;
            } else {
                defunc_0_op_res_171799 = redout_180692;
            }
            
            int64_t defunc_0_op_res_171800;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171800 = i_180694;
            } else {
                defunc_0_op_res_171800 = redout_180693;
            }
            
            int64_t redout_tmp_182452 = defunc_0_op_res_171799;
            int64_t redout_tmp_182453 = defunc_0_op_res_171800;
            
            redout_180692 = redout_tmp_182452;
            redout_180693 = redout_tmp_182453;
        }
        x_182148 = redout_180692;
        x_182149 = redout_180693;
        defunc_0_reduce_res_178691 = x_182148;
        defunc_0_reduce_res_178692 = x_182149;
    } else {
        defunc_0_reduce_res_178691 = (int64_t) 0;
        defunc_0_reduce_res_178692 = (int64_t) 0;
    }
    
    int64_t distance_171812 = add64((int64_t) 1, tmp_171810);
    int64_t binop_x_181036 = (int64_t) 8 * smallest_pow_2_geq_than_res_171772;
    int64_t bytes_181037 = block_sizze_171782 * binop_x_181036;
    int64_t bytes_181050 = (int64_t) 8 * block_sizze_171782;
    bool loop_cond_171886 = slt64(block_sizze_171782, flat_dim_171783);
    bool zzero_171887 = merge_block_sizze_171786 == (int64_t) 0;
    bool nonzzero_171888 = !zzero_171887;
    
    if (cond_171766) {
        if (memblock_set(ctx, &ext_mem_181240, &mem_181035, "mem_181035") != 0)
            return 1;
    } else {
        if (mem_181038_cached_sizze_182748 < bytes_181037) {
            err = lexical_realloc(ctx, &mem_181038, &mem_181038_cached_sizze_182748, bytes_181037);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181041_cached_sizze_182749 < bytes_181037) {
            err = lexical_realloc(ctx, &mem_181041, &mem_181041_cached_sizze_182749, bytes_181037);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181051_cached_sizze_182750 < bytes_181050) {
            err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182750, bytes_181050);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181053_cached_sizze_182751 < bytes_181050) {
            err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_182751, bytes_181050);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180706 = 0; i_180706 < smallest_pow_2_geq_than_res_171772; i_180706++) {
            int64_t zp_lhs_171819 = mul64(block_sizze_171782, i_180706);
            
            for (int64_t i_180699 = 0; i_180699 < block_sizze_171782; i_180699++) {
                int64_t k_171823 = add64(zp_lhs_171819, i_180699);
                bool cond_171824 = slt64(k_171823, n_103423);
                int64_t lifted_lambda_res_171825;
                int64_t lifted_lambda_res_171826;
                
                if (cond_171824) {
                    bool x_178544 = sle64((int64_t) 0, k_171823);
                    bool bounds_check_178545 = cond_171824 && x_178544;
                    bool index_certs_178546;
                    
                    if (!bounds_check_178545) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171823, "] out of bounds for array of shape [", (long long) n_103423, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t lifted_lambda_res_t_res_178547 = ((int64_t *) xs_mem_181032.mem)[k_171823];
                    
                    lifted_lambda_res_171825 = lifted_lambda_res_t_res_178547;
                    lifted_lambda_res_171826 = k_171823;
                } else {
                    lifted_lambda_res_171825 = defunc_0_reduce_res_178691;
                    lifted_lambda_res_171826 = defunc_0_reduce_res_178692;
                }
                ((int64_t *) mem_181051)[i_180699] = lifted_lambda_res_171825;
                ((int64_t *) mem_181053)[i_180699] = lifted_lambda_res_171826;
            }
            if (!cond_171809) {
                for (int64_t i_171835 = 0; i_171835 < distance_171812; i_171835++) {
                    int64_t gt_arg1_171838 = add64((int64_t) 1, i_171835);
                    bool x_171839 = sle64((int64_t) 0, gt_arg1_171838);
                    bool y_171840 = slt64(gt_arg1_171838, block_sizze_171782);
                    bool bounds_check_171841 = x_171839 && y_171840;
                    bool index_certs_171842;
                    
                    if (!bounds_check_171841) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171838, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171844 = slt64(i_171835, block_sizze_171782);
                    bool index_certs_171845;
                    
                    if (!y_171844) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171835, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int64_t gt_arg1_171843 = ((int64_t *) mem_181051)[gt_arg1_171838];
                    int64_t gt_arg0_171846 = ((int64_t *) mem_181051)[i_171835];
                    bool zlze_res_171847 = sle64(gt_arg0_171846, gt_arg1_171843);
                    bool defunc_0_lifted_gt_res_171848 = !zlze_res_171847;
                    bool s_171849;
                    int64_t s_171852;
                    bool loop_while_171853;
                    int64_t j_171856;
                    
                    loop_while_171853 = defunc_0_lifted_gt_res_171848;
                    j_171856 = i_171835;
                    while (loop_while_171853) {
                        bool x_171857 = sle64((int64_t) 0, j_171856);
                        bool y_171858 = slt64(j_171856, block_sizze_171782);
                        bool bounds_check_171859 = x_171857 && y_171858;
                        bool index_certs_171860;
                        
                        if (!bounds_check_171859) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171856, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171863 = add64((int64_t) 1, j_171856);
                        bool x_171864 = sle64((int64_t) 0, copy_arg0_171863);
                        bool y_171865 = slt64(copy_arg0_171863, block_sizze_171782);
                        bool bounds_check_171866 = x_171864 && y_171865;
                        bool index_certs_171867;
                        
                        if (!bounds_check_171866) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171863, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171861 = ((int64_t *) mem_181051)[j_171856];
                        int64_t copy_arg0_171862 = ((int64_t *) mem_181053)[j_171856];
                        int64_t copy_arg0_171868 = ((int64_t *) mem_181051)[copy_arg0_171863];
                        int64_t copy_arg0_171869 = ((int64_t *) mem_181053)[copy_arg0_171863];
                        
                        ((int64_t *) mem_181051)[j_171856] = copy_arg0_171868;
                        ((int64_t *) mem_181053)[j_171856] = copy_arg0_171869;
                        ((int64_t *) mem_181051)[copy_arg0_171863] = copy_arg0_171861;
                        ((int64_t *) mem_181053)[copy_arg0_171863] = copy_arg0_171862;
                        
                        int64_t tmp_171874 = sub64(j_171856, (int64_t) 1);
                        bool cond_171875 = sle64((int64_t) 0, tmp_171874);
                        bool loop_cond_171876;
                        
                        if (cond_171875) {
                            bool y_178549 = slt64(tmp_171874, block_sizze_171782);
                            bool bounds_check_178550 = cond_171875 && y_178549;
                            bool index_certs_178551;
                            
                            if (!bounds_check_178550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171874, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t gt_arg1_178548 = ((int64_t *) mem_181051)[j_171856];
                            int64_t gt_arg0_178552 = ((int64_t *) mem_181051)[tmp_171874];
                            bool zlze_res_178553 = sle64(gt_arg0_178552, gt_arg1_178548);
                            bool defunc_0_lifted_gt_res_178554 = !zlze_res_178553;
                            
                            loop_cond_171876 = defunc_0_lifted_gt_res_178554;
                        } else {
                            loop_cond_171876 = 0;
                        }
                        
                        bool loop_while_tmp_182460 = loop_cond_171876;
                        int64_t j_tmp_182463 = tmp_171874;
                        
                        loop_while_171853 = loop_while_tmp_182460;
                        j_171856 = j_tmp_182463;
                    }
                    s_171849 = loop_while_171853;
                    s_171852 = j_171856;
                }
            }
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181038, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181051, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181041, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181053, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
        }
        if (memblock_alloc(ctx, &mem_181106, bytes_181037, "mem_181106")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint64_t *) mem_181038, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        if (memblock_alloc(ctx, &mem_181110, bytes_181037, "mem_181110")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181110.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint64_t *) mem_181041, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        
        int64_t data_171889;
        bool data_171890;
        int64_t data_171893;
        int64_t loop_dz2084Uz2082U_171894;
        bool loop_while_171895;
        int64_t stride_171898;
        
        if (memblock_set(ctx, &mem_param_181114, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181117, &mem_181110, "mem_181110") != 0)
            return 1;
        loop_dz2084Uz2082U_171894 = flat_dim_171783;
        loop_while_171895 = loop_cond_171886;
        stride_171898 = block_sizze_171782;
        while (loop_while_171895) {
            int64_t next_stride_171899 = mul64((int64_t) 2, stride_171898);
            bool zzero_171900 = next_stride_171899 == (int64_t) 0;
            bool nonzzero_171901 = !zzero_171900;
            bool nonzzero_cert_171902;
            
            if (!nonzzero_171901) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171903 = sdiv64(flat_dim_171783, next_stride_171899);
            bool bounds_invalid_upwards_171904 = slt64(num_merges_171903, (int64_t) 0);
            bool valid_171905 = !bounds_invalid_upwards_171904;
            bool range_valid_c_171906;
            
            if (!valid_171905) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171903, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:159:54-57\n   #6  ftsort.fut:38:3-26\n   #7  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171908 = sub64(next_stride_171899, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171909 = sle64((int64_t) 0, m_171908);
            bool cond_171911 = slt64(next_stride_171899, (int64_t) 10);
            bool protect_assert_disj_171912 = nonzzero_171888 || cond_171911;
            bool nonzzero_cert_171913;
            
            if (!protect_assert_disj_171912) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171914 = smod_safe64(next_stride_171899, merge_block_sizze_171786);
            bool num_blocks_171915 = zeze_lhs_171914 == (int64_t) 0;
            bool protect_assert_disj_171916 = cond_171911 || num_blocks_171915;
            bool assert_c_171917;
            
            if (!protect_assert_disj_171916) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171919 = sdiv_safe64(next_stride_171899, merge_block_sizze_171786);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920 = add64((int64_t) 1, num_blocks_171919);
            int64_t j_m_i_171921 = sub64(next_stride_171899, stride_171898);
            int64_t flat_dim_171922 = merge_block_sizze_171786 * num_blocks_171919;
            bool bounds_invalid_upwards_171923 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, (int64_t) 0);
            bool zzero_lte_i_171924 = sle64((int64_t) 0, stride_171898);
            bool i_lte_j_171925 = sle64(stride_171898, next_stride_171899);
            bool empty_slice_171926 = stride_171898 == (int64_t) 0;
            int64_t m_171927 = sub64(stride_171898, (int64_t) 1);
            bool bounds_invalid_upwards_171928 = slt64(num_blocks_171919, (int64_t) 0);
            bool empty_slice_171929 = j_m_i_171921 == (int64_t) 0;
            int64_t m_171930 = sub64(j_m_i_171921, (int64_t) 1);
            bool cond_171931 = slt64((int64_t) 0, stride_171898);
            bool valid_171932 = !bounds_invalid_upwards_171923;
            bool zzero_leq_i_p_m_t_s_171933 = sle64((int64_t) 0, m_171927);
            bool i_p_m_t_s_leq_w_171934 = slt64(m_171927, next_stride_171899);
            bool valid_171935 = !bounds_invalid_upwards_171928;
            bool i_p_m_t_s_leq_w_171936 = slt64(m_171908, flat_dim_171922);
            int64_t i_p_m_t_s_171937 = add64(stride_171898, m_171930);
            bool y_171938 = slt64((int64_t) 0, j_m_i_171921);
            bool protect_assert_disj_171939 = cond_171911 || valid_171932;
            bool range_valid_c_171940;
            
            if (!protect_assert_disj_171939) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171941 = zzero_leq_i_p_m_t_s_171933 && i_p_m_t_s_leq_w_171934;
            bool protect_assert_disj_171942 = cond_171911 || valid_171935;
            bool range_valid_c_171943;
            
            if (!protect_assert_disj_171942) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171919, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171944 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171936;
            bool zzero_leq_i_p_m_t_s_171945 = sle64((int64_t) 0, i_p_m_t_s_171937);
            bool i_p_m_t_s_leq_w_171946 = slt64(i_p_m_t_s_171937, next_stride_171899);
            bool forwards_ok_171947 = zzero_lte_i_171924 && y_171941;
            bool ok_or_empty_171948 = zzero_171900 || y_171944;
            bool y_171949 = zzero_lte_i_171924 && i_p_m_t_s_leq_w_171946;
            bool protect_assert_disj_171950 = cond_171931 || y_171938;
            bool ok_or_empty_171951 = empty_slice_171926 || forwards_ok_171947;
            bool protect_assert_disj_171952 = cond_171911 || ok_or_empty_171948;
            bool index_certs_171953;
            
            if (!protect_assert_disj_171952) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) flat_dim_171922, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171954 = zzero_leq_i_p_m_t_s_171945 && y_171949;
            bool loop_not_taken_171955 = !cond_171911;
            bool protect_assert_disj_171956 = protect_assert_disj_171950 || loop_not_taken_171955;
            bool index_certs_171957;
            
            if (!protect_assert_disj_171956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171958 = cond_171911 || ok_or_empty_171951;
            bool index_certs_171959;
            
            if (!protect_assert_disj_171958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171960 = i_lte_j_171925 && y_171954;
            bool protect_assert_disj_171961 = ok_or_empty_171951 || loop_not_taken_171955;
            bool index_certs_171962;
            
            if (!protect_assert_disj_171961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171963 = empty_slice_171929 || forwards_ok_171960;
            bool protect_assert_disj_171964 = loop_not_taken_171955 || ok_or_empty_171963;
            bool index_certs_171965;
            
            if (!protect_assert_disj_171964) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171966 = cond_171911 || ok_or_empty_171963;
            bool index_certs_171967;
            
            if (!protect_assert_disj_171966) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181118 = (int64_t) 8 * num_merges_171903;
            int64_t bytes_181119 = next_stride_171899 * binop_x_181118;
            bool i_lte_j_171910 = sle64((int64_t) 0, next_stride_171899);
            
            if (mem_181120_cached_sizze_182752 < bytes_181119) {
                err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182752, bytes_181119);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181123_cached_sizze_182753 < bytes_181119) {
                err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182753, bytes_181119);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181132 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920;
            int64_t binop_x_181148 = (int64_t) 8 * num_blocks_171919;
            int64_t bytes_181149 = merge_block_sizze_171786 * binop_x_181148;
            int64_t bytes_181194 = (int64_t) 16 * stride_171898;
            
            for (int64_t i_180727 = 0; i_180727 < num_merges_171903; i_180727++) {
                int64_t start_171971 = mul64(next_stride_171899, i_180727);
                int64_t j_m_i_171972 = sub64(loop_dz2084Uz2082U_171894, start_171971);
                bool empty_slice_171973 = j_m_i_171972 == (int64_t) 0;
                int64_t m_171974 = sub64(j_m_i_171972, (int64_t) 1);
                int64_t i_p_m_t_s_171975 = add64(start_171971, m_171974);
                bool zzero_leq_i_p_m_t_s_171976 = sle64((int64_t) 0, i_p_m_t_s_171975);
                bool i_p_m_t_s_leq_w_171977 = slt64(i_p_m_t_s_171975, loop_dz2084Uz2082U_171894);
                bool zzero_lte_i_171978 = sle64((int64_t) 0, start_171971);
                bool i_lte_j_171979 = sle64(start_171971, loop_dz2084Uz2082U_171894);
                bool y_171980 = i_p_m_t_s_leq_w_171977 && zzero_lte_i_171978;
                bool y_171981 = zzero_leq_i_p_m_t_s_171976 && y_171980;
                bool forwards_ok_171982 = i_lte_j_171979 && y_171981;
                bool ok_or_empty_171983 = empty_slice_171973 || forwards_ok_171982;
                bool index_certs_171984;
                
                if (!ok_or_empty_171983) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171971, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171894, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171985 = slt64(m_171908, j_m_i_171972);
                bool y_171986 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171985;
                bool forwards_ok_171987 = i_lte_j_171910 && y_171986;
                bool ok_or_empty_171988 = zzero_171900 || forwards_ok_171987;
                bool index_certs_171989;
                
                if (!ok_or_empty_171988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) j_m_i_171972, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:38:3-26\n   #9  ftsort.fut:37:1-38:26\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171911) {
                    int64_t dummy_178580;
                    int64_t dummy_178581;
                    
                    if (cond_171931) {
                        int64_t head_res_178582 = ((int64_t *) mem_param_181114.mem)[start_171971];
                        int64_t head_res_178583 = ((int64_t *) mem_param_181117.mem)[start_171971];
                        
                        dummy_178580 = head_res_178582;
                        dummy_178581 = head_res_178583;
                    } else {
                        int64_t slice_178584 = stride_171898 + start_171971;
                        int64_t head_res_178585 = ((int64_t *) mem_param_181114.mem)[slice_178584];
                        int64_t head_res_178586 = ((int64_t *) mem_param_181117.mem)[slice_178584];
                        
                        dummy_178580 = head_res_178585;
                        dummy_178581 = head_res_178586;
                    }
                    if (memblock_alloc(ctx, &mem_181195, bytes_181194, "mem_181195")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182473 = 0; nest_i_182473 < next_stride_171899; nest_i_182473++) {
                        ((int64_t *) mem_181195.mem)[nest_i_182473] = dummy_178580;
                    }
                    if (memblock_alloc(ctx, &mem_181197, bytes_181194, "mem_181197")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182474 = 0; nest_i_182474 < next_stride_171899; nest_i_182474++) {
                        ((int64_t *) mem_181197.mem)[nest_i_182474] = dummy_178581;
                    }
                    
                    int64_t data_178589;
                    int64_t i_178593 = (int64_t) 0;
                    
                    for (int64_t k_178592 = 0; k_178592 < next_stride_171899; k_178592++) {
                        int64_t j_178596 = sub64(k_178592, i_178593);
                        bool cond_178597 = j_178596 == j_m_i_171921;
                        bool cond_178598;
                        
                        if (cond_178597) {
                            cond_178598 = 1;
                        } else {
                            bool cond_178599 = slt64(i_178593, stride_171898);
                            bool cond_f_res_178600;
                            
                            if (cond_178599) {
                                bool x_178601 = sle64((int64_t) 0, j_178596);
                                bool y_178602 = slt64(j_178596, j_m_i_171921);
                                bool bounds_check_178603 = x_178601 && y_178602;
                                bool index_certs_178604;
                                
                                if (!bounds_check_178603) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178608 = sle64((int64_t) 0, i_178593);
                                bool bounds_check_178609 = cond_178599 && x_178608;
                                bool index_certs_178610;
                                
                                if (!bounds_check_178609) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178605 = stride_171898 + j_178596;
                                int64_t slice_178606 = start_171971 + slice_178605;
                                int64_t leq_arg1_178607 = ((int64_t *) mem_param_181114.mem)[slice_178606];
                                int64_t slice_178611 = start_171971 + i_178593;
                                int64_t leq_arg0_178612 = ((int64_t *) mem_param_181114.mem)[slice_178611];
                                bool zlze_res_178613 = sle64(leq_arg0_178612, leq_arg1_178607);
                                
                                cond_f_res_178600 = zlze_res_178613;
                            } else {
                                cond_f_res_178600 = 0;
                            }
                            cond_178598 = cond_f_res_178600;
                        }
                        
                        int64_t loopres_178614;
                        int64_t loopres_178615;
                        int64_t loopres_178616;
                        
                        if (cond_178598) {
                            bool x_178618 = sle64((int64_t) 0, i_178593);
                            bool y_178619 = slt64(i_178593, stride_171898);
                            bool bounds_check_178620 = x_178618 && y_178619;
                            bool index_certs_178621;
                            
                            if (!bounds_check_178620) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178617 = add64((int64_t) 1, i_178593);
                            int64_t slice_178622 = start_171971 + i_178593;
                            int64_t tmp_178623 = ((int64_t *) mem_param_181114.mem)[slice_178622];
                            int64_t tmp_178624 = ((int64_t *) mem_param_181117.mem)[slice_178622];
                            
                            loopres_178614 = tmp_178617;
                            loopres_178615 = tmp_178623;
                            loopres_178616 = tmp_178624;
                        } else {
                            bool x_178625 = sle64((int64_t) 0, j_178596);
                            bool y_178626 = slt64(j_178596, j_m_i_171921);
                            bool bounds_check_178627 = x_178625 && y_178626;
                            bool index_certs_178628;
                            
                            if (!bounds_check_178627) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:38:3-26\n   #10 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178629 = stride_171898 + j_178596;
                            int64_t slice_178630 = start_171971 + slice_178629;
                            int64_t tmp_178631 = ((int64_t *) mem_param_181114.mem)[slice_178630];
                            int64_t tmp_178632 = ((int64_t *) mem_param_181117.mem)[slice_178630];
                            
                            loopres_178614 = i_178593;
                            loopres_178615 = tmp_178631;
                            loopres_178616 = tmp_178632;
                        }
                        ((int64_t *) mem_181195.mem)[k_178592] = loopres_178615;
                        ((int64_t *) mem_181197.mem)[k_178592] = loopres_178616;
                        
                        int64_t i_tmp_182475 = loopres_178614;
                        
                        i_178593 = i_tmp_182475;
                    }
                    data_178589 = i_178593;
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181195, "mem_181195") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181197, "mem_181197") != 0)
                        return 1;
                } else {
                    if (mem_181133_cached_sizze_182754 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182754, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181135_cached_sizze_182755 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181135, &mem_181135_cached_sizze_182755, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180713 = 0; i_180713 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920; i_180713++) {
                        int64_t split_count_arg3_172051 = mul64(merge_block_sizze_171786, i_180713);
                        int64_t defunc_0_split_count_res_172052;
                        int64_t defunc_0_split_count_res_172053;
                        int64_t defunc_0_split_count_res_172054;
                        int64_t defunc_0_split_count_res_172055;
                        int64_t defunc_0_split_count_res_172056;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_172052, &defunc_0_split_count_res_172053, &defunc_0_split_count_res_172054, &defunc_0_split_count_res_172055, &defunc_0_split_count_res_172056, (int64_t) 0, stride_171898, (int64_t) 0, j_m_i_171921, split_count_arg3_172051) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172057 = slt64((int64_t) 0, defunc_0_split_count_res_172056);
                        bool defunc_0_split_count_res_172058;
                        int64_t defunc_0_split_count_res_172059;
                        int64_t defunc_0_split_count_res_172060;
                        int64_t defunc_0_split_count_res_172061;
                        int64_t defunc_0_split_count_res_172062;
                        int64_t defunc_0_split_count_res_172063;
                        bool loop_while_172064;
                        int64_t ss_172065;
                        int64_t ss_172066;
                        int64_t tt_172067;
                        int64_t tt_172068;
                        int64_t count_172069;
                        
                        loop_while_172064 = loop_cond_172057;
                        ss_172065 = defunc_0_split_count_res_172052;
                        ss_172066 = defunc_0_split_count_res_172053;
                        tt_172067 = defunc_0_split_count_res_172054;
                        tt_172068 = defunc_0_split_count_res_172055;
                        count_172069 = defunc_0_split_count_res_172056;
                        while (loop_while_172064) {
                            int64_t zlze_lhs_172070 = sub64(ss_172066, ss_172065);
                            bool cond_172071 = sle64(zlze_lhs_172070, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172072;
                            int64_t defunc_0_lifted_step_res_172073;
                            int64_t defunc_0_lifted_step_res_172074;
                            int64_t defunc_0_lifted_step_res_172075;
                            
                            if (cond_172071) {
                                int64_t tmp_178635 = add64(tt_172067, count_172069);
                                
                                defunc_0_lifted_step_res_172072 = ss_172065;
                                defunc_0_lifted_step_res_172073 = tmp_178635;
                                defunc_0_lifted_step_res_172074 = tt_172068;
                                defunc_0_lifted_step_res_172075 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172077 = sub64(tt_172068, tt_172067);
                                bool cond_172078 = sle64(zlze_lhs_172077, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172079;
                                int64_t defunc_0_lifted_step_res_f_res_172080;
                                int64_t defunc_0_lifted_step_res_f_res_172081;
                                int64_t defunc_0_lifted_step_res_f_res_172082;
                                
                                if (cond_172078) {
                                    int64_t tmp_178636 = add64(ss_172065, count_172069);
                                    
                                    defunc_0_lifted_step_res_f_res_172079 = tmp_178636;
                                    defunc_0_lifted_step_res_f_res_172080 = tt_172067;
                                    defunc_0_lifted_step_res_f_res_172081 = tt_172068;
                                    defunc_0_lifted_step_res_f_res_172082 = (int64_t) 0;
                                } else {
                                    bool cond_172084 = count_172069 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172085;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172086;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172087;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172088;
                                    
                                    if (cond_172084) {
                                        bool x_178638 = sle64((int64_t) 0, ss_172065);
                                        bool y_178639 = slt64(ss_172065, stride_171898);
                                        bool bounds_check_178640 = x_178638 && y_178639;
                                        bool index_certs_178641;
                                        
                                        if (!bounds_check_178640) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172065, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178644 = sle64((int64_t) 0, tt_172067);
                                        bool y_178645 = slt64(tt_172067, j_m_i_171921);
                                        bool bounds_check_178646 = x_178644 && y_178645;
                                        bool index_certs_178647;
                                        
                                        if (!bounds_check_178646) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172067, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178642 = start_171971 + ss_172065;
                                        int64_t leq_arg1_178643 = ((int64_t *) mem_param_181114.mem)[slice_178642];
                                        int64_t slice_178648 = stride_171898 + tt_172067;
                                        int64_t slice_178649 = start_171971 + slice_178648;
                                        int64_t leq_arg0_178650 = ((int64_t *) mem_param_181114.mem)[slice_178649];
                                        bool zlze_res_178651 = sle64(leq_arg0_178650, leq_arg1_178643);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        
                                        if (zlze_res_178651) {
                                            int64_t tmp_178654 = add64((int64_t) 1, tt_172067);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = ss_172065;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tmp_178654;
                                        } else {
                                            int64_t tmp_178655 = add64((int64_t) 1, ss_172065);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = tmp_178655;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tt_172067;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = tt_172068;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = (int64_t) 0;
                                    } else {
                                        int64_t m_172107 = sdiv64(count_172069, (int64_t) 2);
                                        int64_t n_172108 = sub64(count_172069, m_172107);
                                        bool cond_172109 = n_172108 == (int64_t) 0;
                                        int64_t zgze_lhs_172110 = add64(ss_172065, m_172107);
                                        bool cond_f_res_172111 = sle64(ss_172066, zgze_lhs_172110);
                                        bool x_172112 = !cond_172109;
                                        bool y_172113 = cond_f_res_172111 && x_172112;
                                        bool cond_172114 = cond_172109 || y_172113;
                                        bool leq_y_x_172115;
                                        
                                        if (cond_172114) {
                                            leq_y_x_172115 = 1;
                                        } else {
                                            bool x_172116 = sle64((int64_t) 0, zgze_lhs_172110);
                                            bool y_172117 = slt64(zgze_lhs_172110, stride_171898);
                                            bool bounds_check_172118 = x_172116 && y_172117;
                                            bool index_certs_172119;
                                            
                                            if (!bounds_check_172118) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172110, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172122 = add64(tt_172067, n_172108);
                                            int64_t leq_arg0_172123 = sub64(zm_lhs_172122, (int64_t) 1);
                                            bool x_172124 = sle64((int64_t) 0, leq_arg0_172123);
                                            bool y_172125 = slt64(leq_arg0_172123, j_m_i_171921);
                                            bool bounds_check_172126 = x_172124 && y_172125;
                                            bool index_certs_172127;
                                            
                                            if (!bounds_check_172126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172123, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:38:3-26\n   #14 ftsort.fut:37:1-38:26\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172120 = start_171971 + zgze_lhs_172110;
                                            int64_t leq_arg1_172121 = ((int64_t *) mem_param_181114.mem)[slice_172120];
                                            int64_t slice_172128 = stride_171898 + leq_arg0_172123;
                                            int64_t slice_172129 = start_171971 + slice_172128;
                                            int64_t leq_arg0_172130 = ((int64_t *) mem_param_181114.mem)[slice_172129];
                                            bool zlze_res_172131 = sle64(leq_arg0_172130, leq_arg1_172121);
                                            
                                            leq_y_x_172115 = zlze_res_172131;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                        
                                        if (leq_y_x_172115) {
                                            int64_t tmp_178656 = add64(tt_172067, n_172108);
                                            int64_t tmp_178657 = sub64(count_172069, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tmp_178656;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tt_172068;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = tmp_178657;
                                        } else {
                                            int64_t tmp_172137 = add64(tt_172067, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tt_172067;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tmp_172137;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = count_172069;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = ss_172065;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                    }
                                    defunc_0_lifted_step_res_f_res_172079 = defunc_0_lifted_step_res_f_res_f_res_172085;
                                    defunc_0_lifted_step_res_f_res_172080 = defunc_0_lifted_step_res_f_res_f_res_172086;
                                    defunc_0_lifted_step_res_f_res_172081 = defunc_0_lifted_step_res_f_res_f_res_172087;
                                    defunc_0_lifted_step_res_f_res_172082 = defunc_0_lifted_step_res_f_res_f_res_172088;
                                }
                                defunc_0_lifted_step_res_172072 = defunc_0_lifted_step_res_f_res_172079;
                                defunc_0_lifted_step_res_172073 = defunc_0_lifted_step_res_f_res_172080;
                                defunc_0_lifted_step_res_172074 = defunc_0_lifted_step_res_f_res_172081;
                                defunc_0_lifted_step_res_172075 = defunc_0_lifted_step_res_f_res_172082;
                            }
                            
                            int64_t loopres_172138;
                            int64_t loopres_172139;
                            int64_t loopres_172140;
                            int64_t loopres_172141;
                            int64_t loopres_172142;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_172138, &loopres_172139, &loopres_172140, &loopres_172141, &loopres_172142, defunc_0_lifted_step_res_172072, ss_172066, defunc_0_lifted_step_res_172073, defunc_0_lifted_step_res_172074, defunc_0_lifted_step_res_172075) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172143 = slt64((int64_t) 0, loopres_172142);
                            bool loop_while_tmp_182480 = loop_cond_172143;
                            int64_t ss_tmp_182481 = loopres_172138;
                            int64_t ss_tmp_182482 = loopres_172139;
                            int64_t tt_tmp_182483 = loopres_172140;
                            int64_t tt_tmp_182484 = loopres_172141;
                            int64_t count_tmp_182485 = loopres_172142;
                            
                            loop_while_172064 = loop_while_tmp_182480;
                            ss_172065 = ss_tmp_182481;
                            ss_172066 = ss_tmp_182482;
                            tt_172067 = tt_tmp_182483;
                            tt_172068 = tt_tmp_182484;
                            count_172069 = count_tmp_182485;
                        }
                        defunc_0_split_count_res_172058 = loop_while_172064;
                        defunc_0_split_count_res_172059 = ss_172065;
                        defunc_0_split_count_res_172060 = ss_172066;
                        defunc_0_split_count_res_172061 = tt_172067;
                        defunc_0_split_count_res_172062 = tt_172068;
                        defunc_0_split_count_res_172063 = count_172069;
                        ((int64_t *) mem_181133)[i_180713] = defunc_0_split_count_res_172059;
                        ((int64_t *) mem_181135)[i_180713] = defunc_0_split_count_res_172061;
                    }
                    if (mem_181150_cached_sizze_182756 < bytes_181149) {
                        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_182756, bytes_181149);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181153_cached_sizze_182757 < bytes_181149) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182757, bytes_181149);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180720 = 0; i_180720 < num_blocks_171919; i_180720++) {
                        bool y_172149 = slt64(i_180720, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool index_certs_172151;
                        
                        if (!y_172149) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180720, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172152 = ((int64_t *) mem_181133)[i_180720];
                        int64_t defunc_0_f_res_172153 = ((int64_t *) mem_181135)[i_180720];
                        int64_t tmp_172154 = add64((int64_t) 1, i_180720);
                        bool x_172155 = sle64((int64_t) 0, tmp_172154);
                        bool y_172156 = slt64(tmp_172154, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool bounds_check_172157 = x_172155 && y_172156;
                        bool index_certs_172158;
                        
                        if (!bounds_check_172157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172154, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172159 = ((int64_t *) mem_181133)[tmp_172154];
                        int64_t defunc_0_f_res_172160 = ((int64_t *) mem_181135)[tmp_172154];
                        int64_t merge_sequential_arg2_172161 = add64(stride_171898, defunc_0_f_res_172153);
                        int64_t merge_sequential_arg2_172162 = add64(stride_171898, defunc_0_f_res_172160);
                        int64_t j_m_i_172163 = sub64(merge_sequential_arg2_172162, merge_sequential_arg2_172161);
                        bool empty_slice_172164 = j_m_i_172163 == (int64_t) 0;
                        int64_t m_172165 = sub64(j_m_i_172163, (int64_t) 1);
                        int64_t i_p_m_t_s_172166 = add64(merge_sequential_arg2_172161, m_172165);
                        bool zzero_leq_i_p_m_t_s_172167 = sle64((int64_t) 0, i_p_m_t_s_172166);
                        bool i_p_m_t_s_leq_w_172168 = slt64(i_p_m_t_s_172166, next_stride_171899);
                        bool zzero_lte_i_172169 = sle64((int64_t) 0, merge_sequential_arg2_172161);
                        bool i_lte_j_172170 = sle64(merge_sequential_arg2_172161, merge_sequential_arg2_172162);
                        bool y_172171 = i_p_m_t_s_leq_w_172168 && zzero_lte_i_172169;
                        bool y_172172 = zzero_leq_i_p_m_t_s_172167 && y_172171;
                        bool forwards_ok_172173 = i_lte_j_172170 && y_172172;
                        bool ok_or_empty_172174 = empty_slice_172164 || forwards_ok_172173;
                        bool index_certs_172175;
                        
                        if (!ok_or_empty_172174) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172161, ":", (long long) merge_sequential_arg2_172162, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172176 = sub64(defunc_0_f_res_172159, defunc_0_f_res_172152);
                        bool empty_slice_172177 = j_m_i_172176 == (int64_t) 0;
                        int64_t m_172178 = sub64(j_m_i_172176, (int64_t) 1);
                        int64_t i_p_m_t_s_172179 = add64(defunc_0_f_res_172152, m_172178);
                        bool zzero_leq_i_p_m_t_s_172180 = sle64((int64_t) 0, i_p_m_t_s_172179);
                        bool i_p_m_t_s_leq_w_172181 = slt64(i_p_m_t_s_172179, next_stride_171899);
                        bool zzero_lte_i_172182 = sle64((int64_t) 0, defunc_0_f_res_172152);
                        bool i_lte_j_172183 = sle64(defunc_0_f_res_172152, defunc_0_f_res_172159);
                        bool y_172184 = i_p_m_t_s_leq_w_172181 && zzero_lte_i_172182;
                        bool y_172185 = zzero_leq_i_p_m_t_s_172180 && y_172184;
                        bool forwards_ok_172186 = i_lte_j_172183 && y_172185;
                        bool ok_or_empty_172187 = empty_slice_172177 || forwards_ok_172186;
                        bool index_certs_172188;
                        
                        if (!ok_or_empty_172187) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172152, ":", (long long) defunc_0_f_res_172159, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:38:3-26\n   #11 ftsort.fut:37:1-38:26\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172189 = slt64((int64_t) 0, j_m_i_172176);
                        int64_t dummy_172190;
                        int64_t dummy_172191;
                        
                        if (cond_172189) {
                            bool index_certs_178658;
                            
                            if (!cond_172189) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:159:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178659 = start_171971 + defunc_0_f_res_172152;
                            int64_t head_res_178660 = ((int64_t *) mem_param_181114.mem)[slice_178659];
                            int64_t head_res_178661 = ((int64_t *) mem_param_181117.mem)[slice_178659];
                            
                            dummy_172190 = head_res_178660;
                            dummy_172191 = head_res_178661;
                        } else {
                            bool y_172196 = slt64((int64_t) 0, j_m_i_172163);
                            bool index_certs_172197;
                            
                            if (!y_172196) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:159:54-57\n   #12 ftsort.fut:38:3-26\n   #13 ftsort.fut:37:1-38:26\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172198 = start_171971 + merge_sequential_arg2_172161;
                            int64_t head_res_172199 = ((int64_t *) mem_param_181114.mem)[slice_172198];
                            int64_t head_res_172200 = ((int64_t *) mem_param_181117.mem)[slice_172198];
                            
                            dummy_172190 = head_res_172199;
                            dummy_172191 = head_res_172200;
                        }
                        for (int64_t nest_i_182488 = 0; nest_i_182488 < merge_block_sizze_171786; nest_i_182488++) {
                            ((int64_t *) mem_181150)[i_180720 * merge_block_sizze_171786 + nest_i_182488] = dummy_172190;
                        }
                        for (int64_t nest_i_182489 = 0; nest_i_182489 < merge_block_sizze_171786; nest_i_182489++) {
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + nest_i_182489] = dummy_172191;
                        }
                        
                        int64_t data_172203;
                        int64_t i_172207 = (int64_t) 0;
                        
                        for (int64_t k_172206 = 0; k_172206 < merge_block_sizze_171786; k_172206++) {
                            int64_t j_172210 = sub64(k_172206, i_172207);
                            bool cond_172211 = j_172210 == j_m_i_172163;
                            bool cond_172212;
                            
                            if (cond_172211) {
                                cond_172212 = 1;
                            } else {
                                bool cond_172213 = slt64(i_172207, j_m_i_172176);
                                bool cond_f_res_172214;
                                
                                if (cond_172213) {
                                    bool x_178662 = sle64((int64_t) 0, j_172210);
                                    bool y_178663 = slt64(j_172210, j_m_i_172163);
                                    bool bounds_check_178664 = x_178662 && y_178663;
                                    bool index_certs_178665;
                                    
                                    if (!bounds_check_178664) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178669 = sle64((int64_t) 0, i_172207);
                                    bool bounds_check_178670 = cond_172213 && x_178669;
                                    bool index_certs_178671;
                                    
                                    if (!bounds_check_178670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178666 = merge_sequential_arg2_172161 + j_172210;
                                    int64_t slice_178667 = start_171971 + slice_178666;
                                    int64_t leq_arg1_178668 = ((int64_t *) mem_param_181114.mem)[slice_178667];
                                    int64_t slice_178672 = defunc_0_f_res_172152 + i_172207;
                                    int64_t slice_178673 = start_171971 + slice_178672;
                                    int64_t leq_arg0_178674 = ((int64_t *) mem_param_181114.mem)[slice_178673];
                                    bool zlze_res_178675 = sle64(leq_arg0_178674, leq_arg1_178668);
                                    
                                    cond_f_res_172214 = zlze_res_178675;
                                } else {
                                    cond_f_res_172214 = 0;
                                }
                                cond_172212 = cond_f_res_172214;
                            }
                            
                            int64_t loopres_172229;
                            int64_t loopres_172230;
                            int64_t loopres_172231;
                            
                            if (cond_172212) {
                                bool x_178677 = sle64((int64_t) 0, i_172207);
                                bool y_178678 = slt64(i_172207, j_m_i_172176);
                                bool bounds_check_178679 = x_178677 && y_178678;
                                bool index_certs_178680;
                                
                                if (!bounds_check_178679) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178676 = add64((int64_t) 1, i_172207);
                                int64_t slice_178681 = defunc_0_f_res_172152 + i_172207;
                                int64_t slice_178682 = start_171971 + slice_178681;
                                int64_t tmp_178683 = ((int64_t *) mem_param_181114.mem)[slice_178682];
                                int64_t tmp_178684 = ((int64_t *) mem_param_181117.mem)[slice_178682];
                                
                                loopres_172229 = tmp_178676;
                                loopres_172230 = tmp_178683;
                                loopres_172231 = tmp_178684;
                            } else {
                                bool x_172241 = sle64((int64_t) 0, j_172210);
                                bool y_172242 = slt64(j_172210, j_m_i_172163);
                                bool bounds_check_172243 = x_172241 && y_172242;
                                bool index_certs_172244;
                                
                                if (!bounds_check_172243) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:38:3-26\n   #12 ftsort.fut:37:1-38:26\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172245 = merge_sequential_arg2_172161 + j_172210;
                                int64_t slice_172246 = start_171971 + slice_172245;
                                int64_t tmp_172247 = ((int64_t *) mem_param_181114.mem)[slice_172246];
                                int64_t tmp_172248 = ((int64_t *) mem_param_181117.mem)[slice_172246];
                                
                                loopres_172229 = i_172207;
                                loopres_172230 = tmp_172247;
                                loopres_172231 = tmp_172248;
                            }
                            ((int64_t *) mem_181150)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172230;
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172231;
                            
                            int64_t i_tmp_182490 = loopres_172229;
                            
                            i_172207 = i_tmp_182490;
                        }
                        data_172203 = i_172207;
                    }
                    if (memblock_alloc(ctx, &mem_181188, bytes_181149, "mem_181188")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint64_t *) mem_181150, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_alloc(ctx, &mem_181192, bytes_181149, "mem_181192")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181192.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint64_t *) mem_181153, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181188, "mem_181188") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181192, "mem_181192") != 0)
                        return 1;
                }
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181120, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181215.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181123, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181212.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172255 = next_stride_171899 * num_merges_171903;
            
            if (memblock_alloc(ctx, &mem_181226, bytes_181119, "mem_181226")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181226.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint64_t *) mem_181120, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            if (memblock_alloc(ctx, &mem_181230, bytes_181119, "mem_181230")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181230.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint64_t *) mem_181123, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            
            bool loop_cond_172258 = slt64(next_stride_171899, flat_dim_171783);
            
            if (memblock_set(ctx, &mem_param_tmp_182464, &mem_181226, "mem_181226") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182465, &mem_181230, "mem_181230") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182466 = flat_dim_172255;
            bool loop_while_tmp_182467 = loop_cond_172258;
            int64_t stride_tmp_182470 = next_stride_171899;
            
            if (memblock_set(ctx, &mem_param_181114, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181117, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
                return 1;
            loop_dz2084Uz2082U_171894 = loop_dz2084Uz2082U_tmp_182466;
            loop_while_171895 = loop_while_tmp_182467;
            stride_171898 = stride_tmp_182470;
        }
        if (memblock_set(ctx, &ext_mem_181237, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181236, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        data_171889 = loop_dz2084Uz2082U_171894;
        data_171890 = loop_while_171895;
        data_171893 = stride_171898;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        
        bool empty_slice_172259 = n_103423 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172260 = sle64((int64_t) 0, zs_lhs_171767);
        bool i_p_m_t_s_leq_w_172261 = slt64(zs_lhs_171767, data_171889);
        bool y_172262 = zzero_leq_i_p_m_t_s_172260 && i_p_m_t_s_leq_w_172261;
        bool ok_or_empty_172263 = empty_slice_172259 || y_172262;
        bool index_certs_172264;
        
        if (!ok_or_empty_172263) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_103423, "] out of bounds for array of shape [", (long long) data_171889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:159:54-57\n   #5  ftsort.fut:38:3-26\n   #6  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181240, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181242, bytes_181034, "mem_181242")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181244, bytes_181034, "mem_181244")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180734 = 0; i_180734 < n_103423; i_180734++) {
        int64_t eta_p_172268 = ((int64_t *) ext_mem_181240.mem)[i_180734];
        bool x_172269 = sle64((int64_t) 0, eta_p_172268);
        bool y_172270 = slt64(eta_p_172268, n_103423);
        bool bounds_check_172271 = x_172269 && y_172270;
        bool index_certs_172272;
        
        if (!bounds_check_172271) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172268, "] out of bounds for array of shape [", (long long) n_103423, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:38:3-26\n   #5  ftsort.fut:37:1-38:26\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172273 = ((int64_t *) ext_mem_181033.mem)[eta_p_172268];
        int64_t lifted_lambda_res_172274 = ((int64_t *) xs_mem_181032.mem)[eta_p_172268];
        
        ((int64_t *) mem_181242.mem)[i_180734] = lifted_lambda_res_172273;
        ((int64_t *) mem_181244.mem)[i_180734] = lifted_lambda_res_172274;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181242, "mem_181242") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181244, "mem_181244") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182746, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182747, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181038);
        free(mem_181041);
        free(mem_181051);
        free(mem_181053);
        free(mem_181120);
        free(mem_181123);
        free(mem_181133);
        free(mem_181135);
        free(mem_181150);
        free(mem_181153);
        if (memblock_unref(ctx, &mem_181244, "mem_181244") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181242, "mem_181242") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181230, "mem_181230") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181226, "mem_181226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181192, "mem_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181197, "mem_181197") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181195, "mem_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181237, "ext_mem_181237") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_182758, struct memblock *mem_out_p_182759, struct memblock xs_mem_181032, int64_t n_98736, int64_t incr_98737)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181038_cached_sizze_182760 = 0;
    unsigned char *mem_181038 = NULL;
    int64_t mem_181041_cached_sizze_182761 = 0;
    unsigned char *mem_181041 = NULL;
    int64_t mem_181051_cached_sizze_182762 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_182763 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181120_cached_sizze_182764 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181123_cached_sizze_182765 = 0;
    unsigned char *mem_181123 = NULL;
    int64_t mem_181133_cached_sizze_182766 = 0;
    unsigned char *mem_181133 = NULL;
    int64_t mem_181135_cached_sizze_182767 = 0;
    unsigned char *mem_181135 = NULL;
    int64_t mem_181150_cached_sizze_182768 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181153_cached_sizze_182769 = 0;
    unsigned char *mem_181153 = NULL;
    struct memblock mem_181244;
    
    mem_181244.references = NULL;
    
    struct memblock mem_181242;
    
    mem_181242.references = NULL;
    
    struct memblock mem_param_tmp_182465;
    
    mem_param_tmp_182465.references = NULL;
    
    struct memblock mem_param_tmp_182464;
    
    mem_param_tmp_182464.references = NULL;
    
    struct memblock mem_181230;
    
    mem_181230.references = NULL;
    
    struct memblock mem_181226;
    
    mem_181226.references = NULL;
    
    struct memblock mem_181192;
    
    mem_181192.references = NULL;
    
    struct memblock mem_181188;
    
    mem_181188.references = NULL;
    
    struct memblock mem_181197;
    
    mem_181197.references = NULL;
    
    struct memblock mem_181195;
    
    mem_181195.references = NULL;
    
    struct memblock ext_mem_181212;
    
    ext_mem_181212.references = NULL;
    
    struct memblock ext_mem_181215;
    
    ext_mem_181215.references = NULL;
    
    struct memblock mem_param_181117;
    
    mem_param_181117.references = NULL;
    
    struct memblock mem_param_181114;
    
    mem_param_181114.references = NULL;
    
    struct memblock ext_mem_181236;
    
    ext_mem_181236.references = NULL;
    
    struct memblock ext_mem_181237;
    
    ext_mem_181237.references = NULL;
    
    struct memblock mem_181110;
    
    mem_181110.references = NULL;
    
    struct memblock mem_181106;
    
    mem_181106.references = NULL;
    
    struct memblock ext_mem_181240;
    
    ext_mem_181240.references = NULL;
    
    struct memblock mem_181035;
    
    mem_181035.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_98736;
    bool cond_171766 = sle64(n_98736, (int64_t) 1);
    int64_t zs_lhs_171767 = sub64(n_98736, (int64_t) 1);
    int64_t zp_rhs_171768 = sdiv_safe64(zs_lhs_171767, (int64_t) 20);
    int64_t min_num_blocks_171769 = add64((int64_t) 1, zp_rhs_171768);
    bool loop_cond_171770 = slt64((int64_t) 1, min_num_blocks_171769);
    bool smallest_pow_2_geq_than_res_171771;
    int64_t smallest_pow_2_geq_than_res_171772;
    bool loop_while_171773;
    int64_t x_171774;
    
    loop_while_171773 = loop_cond_171770;
    x_171774 = (int64_t) 1;
    while (loop_while_171773) {
        int64_t loopres_171775 = mul64((int64_t) 2, x_171774);
        bool loop_cond_171776 = slt64(loopres_171775, min_num_blocks_171769);
        bool loop_while_tmp_182448 = loop_cond_171776;
        int64_t x_tmp_182449 = loopres_171775;
        
        loop_while_171773 = loop_while_tmp_182448;
        x_171774 = x_tmp_182449;
    }
    smallest_pow_2_geq_than_res_171771 = loop_while_171773;
    smallest_pow_2_geq_than_res_171772 = x_171774;
    
    bool zzero_171777 = smallest_pow_2_geq_than_res_171772 == (int64_t) 0;
    bool nonzzero_171778 = !zzero_171777;
    bool protect_assert_disj_171779 = cond_171766 || nonzzero_171778;
    bool nonzzero_cert_171780;
    
    if (!protect_assert_disj_171779) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_171781 = sdiv_safe64(zs_lhs_171767, smallest_pow_2_geq_than_res_171772);
    int64_t block_sizze_171782 = add64((int64_t) 1, zp_rhs_171781);
    bool y_171787 = slt64((int64_t) 0, n_98736);
    bool protect_assert_disj_182145 = cond_171766 || y_171787;
    bool index_certs_171788;
    
    if (!protect_assert_disj_182145) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) n_98736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171801 = slt64(smallest_pow_2_geq_than_res_171772, (int64_t) 0);
    bool valid_171802 = !bounds_invalid_upwards_171801;
    bool protect_assert_disj_182153 = cond_171766 || valid_171802;
    bool range_valid_c_171803;
    
    if (!protect_assert_disj_182153) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_171772, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:159:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_171805 = slt64(block_sizze_171782, (int64_t) 0);
    bool valid_171806 = !bounds_invalid_upwards_171805;
    bool protect_assert_disj_182155 = cond_171766 || valid_171806;
    bool range_valid_c_171807;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_171782, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_171809 = sle64(block_sizze_171782, (int64_t) 1);
    int64_t tmp_171810 = sub64(block_sizze_171782, (int64_t) 2);
    bool bounds_invalid_upwards_171811 = slt64(tmp_171810, (int64_t) 0);
    bool valid_171813 = !bounds_invalid_upwards_171811;
    bool protect_assert_disj_171814 = cond_171809 || valid_171813;
    bool protect_assert_disj_182157 = cond_171766 || protect_assert_disj_171814;
    bool range_valid_c_171815;
    
    if (!protect_assert_disj_182157) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_171810, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181243 = (int64_t) 2 * n_98736;
    
    if (futrts_indicesWithIncrement_9131(ctx, &ext_mem_181033, xs_mem_181032, n_98736, incr_98737) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181035, bytes_181034, "mem_181035")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182450 = 0; i_182450 < n_98736; i_182450++) {
        int64_t x_182451 = (int64_t) 0 + i_182450 * (int64_t) 1;
        
        ((int64_t *) mem_181035.mem)[i_182450] = x_182451;
    }
    
    int64_t flat_dim_171783 = smallest_pow_2_geq_than_res_171772 * block_sizze_171782;
    bool x_182140 = !cond_171766;
    int64_t greatest_divisor_leq_than_arg1_171785 = mul64((int64_t) 2, block_sizze_171782);
    int64_t merge_block_sizze_171786;
    
    if (x_182140) {
        int64_t x_182142;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182142, (int64_t) 8, greatest_divisor_leq_than_arg1_171785) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_171786 = x_182142;
    } else {
        merge_block_sizze_171786 = (int64_t) 0;
    }
    
    int16_t reduce_arg1_171789;
    
    if (x_182140) {
        int16_t x_182146 = ((int16_t *) xs_mem_181032.mem)[(int64_t) 0];
        
        reduce_arg1_171789 = x_182146;
    } else {
        reduce_arg1_171789 = (int16_t) 0;
    }
    
    int16_t defunc_0_reduce_res_178691;
    int64_t defunc_0_reduce_res_178692;
    
    if (x_182140) {
        int16_t x_182148;
        int64_t x_182149;
        int16_t redout_180692;
        int64_t redout_180693;
        
        redout_180692 = reduce_arg1_171789;
        redout_180693 = (int64_t) 0;
        for (int64_t i_180694 = 0; i_180694 < n_98736; i_180694++) {
            int16_t x_171792 = ((int16_t *) xs_mem_181032.mem)[i_180694];
            bool zlze_res_171798 = sle16(redout_180692, x_171792);
            int16_t defunc_0_op_res_171799;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171799 = x_171792;
            } else {
                defunc_0_op_res_171799 = redout_180692;
            }
            
            int64_t defunc_0_op_res_171800;
            
            if (zlze_res_171798) {
                defunc_0_op_res_171800 = i_180694;
            } else {
                defunc_0_op_res_171800 = redout_180693;
            }
            
            int16_t redout_tmp_182452 = defunc_0_op_res_171799;
            int64_t redout_tmp_182453 = defunc_0_op_res_171800;
            
            redout_180692 = redout_tmp_182452;
            redout_180693 = redout_tmp_182453;
        }
        x_182148 = redout_180692;
        x_182149 = redout_180693;
        defunc_0_reduce_res_178691 = x_182148;
        defunc_0_reduce_res_178692 = x_182149;
    } else {
        defunc_0_reduce_res_178691 = (int16_t) 0;
        defunc_0_reduce_res_178692 = (int64_t) 0;
    }
    
    int64_t distance_171812 = add64((int64_t) 1, tmp_171810);
    int64_t binop_x_181036 = (int64_t) 2 * smallest_pow_2_geq_than_res_171772;
    int64_t bytes_181037 = block_sizze_171782 * binop_x_181036;
    int64_t binop_x_181039 = (int64_t) 8 * smallest_pow_2_geq_than_res_171772;
    int64_t bytes_181040 = block_sizze_171782 * binop_x_181039;
    int64_t bytes_181052 = (int64_t) 8 * block_sizze_171782;
    bool loop_cond_171886 = slt64(block_sizze_171782, flat_dim_171783);
    bool zzero_171887 = merge_block_sizze_171786 == (int64_t) 0;
    bool nonzzero_171888 = !zzero_171887;
    
    if (cond_171766) {
        if (memblock_set(ctx, &ext_mem_181240, &mem_181035, "mem_181035") != 0)
            return 1;
    } else {
        if (mem_181038_cached_sizze_182760 < bytes_181037) {
            err = lexical_realloc(ctx, &mem_181038, &mem_181038_cached_sizze_182760, bytes_181037);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181041_cached_sizze_182761 < bytes_181040) {
            err = lexical_realloc(ctx, &mem_181041, &mem_181041_cached_sizze_182761, bytes_181040);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181051_cached_sizze_182762 < greatest_divisor_leq_than_arg1_171785) {
            err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182762, greatest_divisor_leq_than_arg1_171785);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181053_cached_sizze_182763 < bytes_181052) {
            err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_182763, bytes_181052);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180706 = 0; i_180706 < smallest_pow_2_geq_than_res_171772; i_180706++) {
            int64_t zp_lhs_171819 = mul64(block_sizze_171782, i_180706);
            
            for (int64_t i_180699 = 0; i_180699 < block_sizze_171782; i_180699++) {
                int64_t k_171823 = add64(zp_lhs_171819, i_180699);
                bool cond_171824 = slt64(k_171823, n_98736);
                int16_t lifted_lambda_res_171825;
                int64_t lifted_lambda_res_171826;
                
                if (cond_171824) {
                    bool x_178544 = sle64((int64_t) 0, k_171823);
                    bool bounds_check_178545 = cond_171824 && x_178544;
                    bool index_certs_178546;
                    
                    if (!bounds_check_178545) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_171823, "] out of bounds for array of shape [", (long long) n_98736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:244:40-246:44\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t lifted_lambda_res_t_res_178547 = ((int16_t *) xs_mem_181032.mem)[k_171823];
                    
                    lifted_lambda_res_171825 = lifted_lambda_res_t_res_178547;
                    lifted_lambda_res_171826 = k_171823;
                } else {
                    lifted_lambda_res_171825 = defunc_0_reduce_res_178691;
                    lifted_lambda_res_171826 = defunc_0_reduce_res_178692;
                }
                ((int16_t *) mem_181051)[i_180699] = lifted_lambda_res_171825;
                ((int64_t *) mem_181053)[i_180699] = lifted_lambda_res_171826;
            }
            if (!cond_171809) {
                for (int64_t i_171835 = 0; i_171835 < distance_171812; i_171835++) {
                    int64_t gt_arg1_171838 = add64((int64_t) 1, i_171835);
                    bool x_171839 = sle64((int64_t) 0, gt_arg1_171838);
                    bool y_171840 = slt64(gt_arg1_171838, block_sizze_171782);
                    bool bounds_check_171841 = x_171839 && y_171840;
                    bool index_certs_171842;
                    
                    if (!bounds_check_171841) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_171838, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_171844 = slt64(i_171835, block_sizze_171782);
                    bool index_certs_171845;
                    
                    if (!y_171844) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_171835, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int16_t gt_arg1_171843 = ((int16_t *) mem_181051)[gt_arg1_171838];
                    int16_t gt_arg0_171846 = ((int16_t *) mem_181051)[i_171835];
                    bool zlze_res_171847 = sle16(gt_arg0_171846, gt_arg1_171843);
                    bool defunc_0_lifted_gt_res_171848 = !zlze_res_171847;
                    bool s_171849;
                    int64_t s_171852;
                    bool loop_while_171853;
                    int64_t j_171856;
                    
                    loop_while_171853 = defunc_0_lifted_gt_res_171848;
                    j_171856 = i_171835;
                    while (loop_while_171853) {
                        bool x_171857 = sle64((int64_t) 0, j_171856);
                        bool y_171858 = slt64(j_171856, block_sizze_171782);
                        bool bounds_check_171859 = x_171857 && y_171858;
                        bool index_certs_171860;
                        
                        if (!bounds_check_171859) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_171856, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_171863 = add64((int64_t) 1, j_171856);
                        bool x_171864 = sle64((int64_t) 0, copy_arg0_171863);
                        bool y_171865 = slt64(copy_arg0_171863, block_sizze_171782);
                        bool bounds_check_171866 = x_171864 && y_171865;
                        bool index_certs_171867;
                        
                        if (!bounds_check_171866) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_171863, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int16_t copy_arg0_171861 = ((int16_t *) mem_181051)[j_171856];
                        int64_t copy_arg0_171862 = ((int64_t *) mem_181053)[j_171856];
                        int16_t copy_arg0_171868 = ((int16_t *) mem_181051)[copy_arg0_171863];
                        int64_t copy_arg0_171869 = ((int64_t *) mem_181053)[copy_arg0_171863];
                        
                        ((int16_t *) mem_181051)[j_171856] = copy_arg0_171868;
                        ((int64_t *) mem_181053)[j_171856] = copy_arg0_171869;
                        ((int16_t *) mem_181051)[copy_arg0_171863] = copy_arg0_171861;
                        ((int64_t *) mem_181053)[copy_arg0_171863] = copy_arg0_171862;
                        
                        int64_t tmp_171874 = sub64(j_171856, (int64_t) 1);
                        bool cond_171875 = sle64((int64_t) 0, tmp_171874);
                        bool loop_cond_171876;
                        
                        if (cond_171875) {
                            bool y_178549 = slt64(tmp_171874, block_sizze_171782);
                            bool bounds_check_178550 = cond_171875 && y_178549;
                            bool index_certs_178551;
                            
                            if (!bounds_check_178550) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171874, "] out of bounds for array of shape [", (long long) block_sizze_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:243:35-248:37\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t gt_arg1_178548 = ((int16_t *) mem_181051)[j_171856];
                            int16_t gt_arg0_178552 = ((int16_t *) mem_181051)[tmp_171874];
                            bool zlze_res_178553 = sle16(gt_arg0_178552, gt_arg1_178548);
                            bool defunc_0_lifted_gt_res_178554 = !zlze_res_178553;
                            
                            loop_cond_171876 = defunc_0_lifted_gt_res_178554;
                        } else {
                            loop_cond_171876 = 0;
                        }
                        
                        bool loop_while_tmp_182460 = loop_cond_171876;
                        int64_t j_tmp_182463 = tmp_171874;
                        
                        loop_while_171853 = loop_while_tmp_182460;
                        j_171856 = j_tmp_182463;
                    }
                    s_171849 = loop_while_171853;
                    s_171852 = j_171856;
                }
            }
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181038, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181051, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181041, i_180706 * block_sizze_171782, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181053, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_171782});
        }
        if (memblock_alloc(ctx, &mem_181106, bytes_181037, "mem_181106")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181106.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint16_t *) mem_181038, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        if (memblock_alloc(ctx, &mem_181110, bytes_181040, "mem_181110")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181110.mem, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (uint64_t *) mem_181041, (int64_t) 0, (int64_t []) {block_sizze_171782, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_171772, block_sizze_171782});
        
        int64_t data_171889;
        bool data_171890;
        int64_t data_171893;
        int64_t loop_dz2084Uz2082U_171894;
        bool loop_while_171895;
        int64_t stride_171898;
        
        if (memblock_set(ctx, &mem_param_181114, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181117, &mem_181110, "mem_181110") != 0)
            return 1;
        loop_dz2084Uz2082U_171894 = flat_dim_171783;
        loop_while_171895 = loop_cond_171886;
        stride_171898 = block_sizze_171782;
        while (loop_while_171895) {
            int64_t next_stride_171899 = mul64((int64_t) 2, stride_171898);
            bool zzero_171900 = next_stride_171899 == (int64_t) 0;
            bool nonzzero_171901 = !zzero_171900;
            bool nonzzero_cert_171902;
            
            if (!nonzzero_171901) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_171903 = sdiv64(flat_dim_171783, next_stride_171899);
            bool bounds_invalid_upwards_171904 = slt64(num_merges_171903, (int64_t) 0);
            bool valid_171905 = !bounds_invalid_upwards_171904;
            bool range_valid_c_171906;
            
            if (!valid_171905) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_171903, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftbasics.fut:159:54-57\n   #6  ftsort.fut:32:3-27\n   #7  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_171908 = sub64(next_stride_171899, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_171909 = sle64((int64_t) 0, m_171908);
            bool cond_171911 = slt64(next_stride_171899, (int64_t) 10);
            bool protect_assert_disj_171912 = nonzzero_171888 || cond_171911;
            bool nonzzero_cert_171913;
            
            if (!protect_assert_disj_171912) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_171914 = smod_safe64(next_stride_171899, merge_block_sizze_171786);
            bool num_blocks_171915 = zeze_lhs_171914 == (int64_t) 0;
            bool protect_assert_disj_171916 = cond_171911 || num_blocks_171915;
            bool assert_c_171917;
            
            if (!protect_assert_disj_171916) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_171919 = sdiv_safe64(next_stride_171899, merge_block_sizze_171786);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920 = add64((int64_t) 1, num_blocks_171919);
            int64_t j_m_i_171921 = sub64(next_stride_171899, stride_171898);
            int64_t flat_dim_171922 = merge_block_sizze_171786 * num_blocks_171919;
            bool bounds_invalid_upwards_171923 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, (int64_t) 0);
            bool zzero_lte_i_171924 = sle64((int64_t) 0, stride_171898);
            bool i_lte_j_171925 = sle64(stride_171898, next_stride_171899);
            bool empty_slice_171926 = stride_171898 == (int64_t) 0;
            int64_t m_171927 = sub64(stride_171898, (int64_t) 1);
            bool bounds_invalid_upwards_171928 = slt64(num_blocks_171919, (int64_t) 0);
            bool empty_slice_171929 = j_m_i_171921 == (int64_t) 0;
            int64_t m_171930 = sub64(j_m_i_171921, (int64_t) 1);
            bool cond_171931 = slt64((int64_t) 0, stride_171898);
            bool valid_171932 = !bounds_invalid_upwards_171923;
            bool zzero_leq_i_p_m_t_s_171933 = sle64((int64_t) 0, m_171927);
            bool i_p_m_t_s_leq_w_171934 = slt64(m_171927, next_stride_171899);
            bool valid_171935 = !bounds_invalid_upwards_171928;
            bool i_p_m_t_s_leq_w_171936 = slt64(m_171908, flat_dim_171922);
            int64_t i_p_m_t_s_171937 = add64(stride_171898, m_171930);
            bool y_171938 = slt64((int64_t) 0, j_m_i_171921);
            bool protect_assert_disj_171939 = cond_171911 || valid_171932;
            bool range_valid_c_171940;
            
            if (!protect_assert_disj_171939) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171941 = zzero_leq_i_p_m_t_s_171933 && i_p_m_t_s_leq_w_171934;
            bool protect_assert_disj_171942 = cond_171911 || valid_171935;
            bool range_valid_c_171943;
            
            if (!protect_assert_disj_171942) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_171919, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171944 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171936;
            bool zzero_leq_i_p_m_t_s_171945 = sle64((int64_t) 0, i_p_m_t_s_171937);
            bool i_p_m_t_s_leq_w_171946 = slt64(i_p_m_t_s_171937, next_stride_171899);
            bool forwards_ok_171947 = zzero_lte_i_171924 && y_171941;
            bool ok_or_empty_171948 = zzero_171900 || y_171944;
            bool y_171949 = zzero_lte_i_171924 && i_p_m_t_s_leq_w_171946;
            bool protect_assert_disj_171950 = cond_171931 || y_171938;
            bool ok_or_empty_171951 = empty_slice_171926 || forwards_ok_171947;
            bool protect_assert_disj_171952 = cond_171911 || ok_or_empty_171948;
            bool index_certs_171953;
            
            if (!protect_assert_disj_171952) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) flat_dim_171922, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_171954 = zzero_leq_i_p_m_t_s_171945 && y_171949;
            bool loop_not_taken_171955 = !cond_171911;
            bool protect_assert_disj_171956 = protect_assert_disj_171950 || loop_not_taken_171955;
            bool index_certs_171957;
            
            if (!protect_assert_disj_171956) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171958 = cond_171911 || ok_or_empty_171951;
            bool index_certs_171959;
            
            if (!protect_assert_disj_171958) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_171960 = i_lte_j_171925 && y_171954;
            bool protect_assert_disj_171961 = ok_or_empty_171951 || loop_not_taken_171955;
            bool index_certs_171962;
            
            if (!protect_assert_disj_171961) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_171898, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_171963 = empty_slice_171929 || forwards_ok_171960;
            bool protect_assert_disj_171964 = loop_not_taken_171955 || ok_or_empty_171963;
            bool index_certs_171965;
            
            if (!protect_assert_disj_171964) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_171966 = cond_171911 || ok_or_empty_171963;
            bool index_certs_171967;
            
            if (!protect_assert_disj_171966) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_171898, ":] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t binop_x_181118 = (int64_t) 2 * num_merges_171903;
            int64_t bytes_181119 = next_stride_171899 * binop_x_181118;
            int64_t binop_x_181121 = (int64_t) 8 * num_merges_171903;
            int64_t bytes_181122 = next_stride_171899 * binop_x_181121;
            bool i_lte_j_171910 = sle64((int64_t) 0, next_stride_171899);
            
            if (mem_181120_cached_sizze_182764 < bytes_181119) {
                err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_182764, bytes_181119);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181123_cached_sizze_182765 < bytes_181122) {
                err = lexical_realloc(ctx, &mem_181123, &mem_181123_cached_sizze_182765, bytes_181122);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181132 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920;
            int64_t binop_x_181148 = (int64_t) 2 * num_blocks_171919;
            int64_t bytes_181149 = merge_block_sizze_171786 * binop_x_181148;
            int64_t binop_x_181151 = (int64_t) 8 * num_blocks_171919;
            int64_t bytes_181152 = merge_block_sizze_171786 * binop_x_181151;
            int64_t bytes_181194 = (int64_t) 4 * stride_171898;
            int64_t bytes_181196 = (int64_t) 16 * stride_171898;
            
            for (int64_t i_180727 = 0; i_180727 < num_merges_171903; i_180727++) {
                int64_t start_171971 = mul64(next_stride_171899, i_180727);
                int64_t j_m_i_171972 = sub64(loop_dz2084Uz2082U_171894, start_171971);
                bool empty_slice_171973 = j_m_i_171972 == (int64_t) 0;
                int64_t m_171974 = sub64(j_m_i_171972, (int64_t) 1);
                int64_t i_p_m_t_s_171975 = add64(start_171971, m_171974);
                bool zzero_leq_i_p_m_t_s_171976 = sle64((int64_t) 0, i_p_m_t_s_171975);
                bool i_p_m_t_s_leq_w_171977 = slt64(i_p_m_t_s_171975, loop_dz2084Uz2082U_171894);
                bool zzero_lte_i_171978 = sle64((int64_t) 0, start_171971);
                bool i_lte_j_171979 = sle64(start_171971, loop_dz2084Uz2082U_171894);
                bool y_171980 = i_p_m_t_s_leq_w_171977 && zzero_lte_i_171978;
                bool y_171981 = zzero_leq_i_p_m_t_s_171976 && y_171980;
                bool forwards_ok_171982 = i_lte_j_171979 && y_171981;
                bool ok_or_empty_171983 = empty_slice_171973 || forwards_ok_171982;
                bool index_certs_171984;
                
                if (!ok_or_empty_171983) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_171971, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_171894, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_171985 = slt64(m_171908, j_m_i_171972);
                bool y_171986 = zzero_leq_i_p_m_t_s_171909 && i_p_m_t_s_leq_w_171985;
                bool forwards_ok_171987 = i_lte_j_171910 && y_171986;
                bool ok_or_empty_171988 = zzero_171900 || forwards_ok_171987;
                bool index_certs_171989;
                
                if (!ok_or_empty_171988) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_171899, "] out of bounds for array of shape [", (long long) j_m_i_171972, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftbasics.fut:159:54-57\n   #8  ftsort.fut:32:3-27\n   #9  ftsort.fut:31:1-32:27\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_171911) {
                    int16_t dummy_178580;
                    int64_t dummy_178581;
                    
                    if (cond_171931) {
                        int16_t head_res_178582 = ((int16_t *) mem_param_181114.mem)[start_171971];
                        int64_t head_res_178583 = ((int64_t *) mem_param_181117.mem)[start_171971];
                        
                        dummy_178580 = head_res_178582;
                        dummy_178581 = head_res_178583;
                    } else {
                        int64_t slice_178584 = stride_171898 + start_171971;
                        int16_t head_res_178585 = ((int16_t *) mem_param_181114.mem)[slice_178584];
                        int64_t head_res_178586 = ((int64_t *) mem_param_181117.mem)[slice_178584];
                        
                        dummy_178580 = head_res_178585;
                        dummy_178581 = head_res_178586;
                    }
                    if (memblock_alloc(ctx, &mem_181195, bytes_181194, "mem_181195")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182473 = 0; nest_i_182473 < next_stride_171899; nest_i_182473++) {
                        ((int16_t *) mem_181195.mem)[nest_i_182473] = dummy_178580;
                    }
                    if (memblock_alloc(ctx, &mem_181197, bytes_181196, "mem_181197")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182474 = 0; nest_i_182474 < next_stride_171899; nest_i_182474++) {
                        ((int64_t *) mem_181197.mem)[nest_i_182474] = dummy_178581;
                    }
                    
                    int64_t data_178589;
                    int64_t i_178593 = (int64_t) 0;
                    
                    for (int64_t k_178592 = 0; k_178592 < next_stride_171899; k_178592++) {
                        int64_t j_178596 = sub64(k_178592, i_178593);
                        bool cond_178597 = j_178596 == j_m_i_171921;
                        bool cond_178598;
                        
                        if (cond_178597) {
                            cond_178598 = 1;
                        } else {
                            bool cond_178599 = slt64(i_178593, stride_171898);
                            bool cond_f_res_178600;
                            
                            if (cond_178599) {
                                bool x_178601 = sle64((int64_t) 0, j_178596);
                                bool y_178602 = slt64(j_178596, j_m_i_171921);
                                bool bounds_check_178603 = x_178601 && y_178602;
                                bool index_certs_178604;
                                
                                if (!bounds_check_178603) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_178608 = sle64((int64_t) 0, i_178593);
                                bool bounds_check_178609 = cond_178599 && x_178608;
                                bool index_certs_178610;
                                
                                if (!bounds_check_178609) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178605 = stride_171898 + j_178596;
                                int64_t slice_178606 = start_171971 + slice_178605;
                                int16_t leq_arg1_178607 = ((int16_t *) mem_param_181114.mem)[slice_178606];
                                int64_t slice_178611 = start_171971 + i_178593;
                                int16_t leq_arg0_178612 = ((int16_t *) mem_param_181114.mem)[slice_178611];
                                bool zlze_res_178613 = sle16(leq_arg0_178612, leq_arg1_178607);
                                
                                cond_f_res_178600 = zlze_res_178613;
                            } else {
                                cond_f_res_178600 = 0;
                            }
                            cond_178598 = cond_f_res_178600;
                        }
                        
                        int64_t loopres_178614;
                        int16_t loopres_178615;
                        int64_t loopres_178616;
                        
                        if (cond_178598) {
                            bool x_178618 = sle64((int64_t) 0, i_178593);
                            bool y_178619 = slt64(i_178593, stride_171898);
                            bool bounds_check_178620 = x_178618 && y_178619;
                            bool index_certs_178621;
                            
                            if (!bounds_check_178620) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178593, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_178617 = add64((int64_t) 1, i_178593);
                            int64_t slice_178622 = start_171971 + i_178593;
                            int16_t tmp_178623 = ((int16_t *) mem_param_181114.mem)[slice_178622];
                            int64_t tmp_178624 = ((int64_t *) mem_param_181117.mem)[slice_178622];
                            
                            loopres_178614 = tmp_178617;
                            loopres_178615 = tmp_178623;
                            loopres_178616 = tmp_178624;
                        } else {
                            bool x_178625 = sle64((int64_t) 0, j_178596);
                            bool y_178626 = slt64(j_178596, j_m_i_171921);
                            bool bounds_check_178627 = x_178625 && y_178626;
                            bool index_certs_178628;
                            
                            if (!bounds_check_178627) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178596, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftbasics.fut:159:54-57\n   #9  ftsort.fut:32:3-27\n   #10 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178629 = stride_171898 + j_178596;
                            int64_t slice_178630 = start_171971 + slice_178629;
                            int16_t tmp_178631 = ((int16_t *) mem_param_181114.mem)[slice_178630];
                            int64_t tmp_178632 = ((int64_t *) mem_param_181117.mem)[slice_178630];
                            
                            loopres_178614 = i_178593;
                            loopres_178615 = tmp_178631;
                            loopres_178616 = tmp_178632;
                        }
                        ((int16_t *) mem_181195.mem)[k_178592] = loopres_178615;
                        ((int64_t *) mem_181197.mem)[k_178592] = loopres_178616;
                        
                        int64_t i_tmp_182475 = loopres_178614;
                        
                        i_178593 = i_tmp_182475;
                    }
                    data_178589 = i_178593;
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181195, "mem_181195") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181197, "mem_181197") != 0)
                        return 1;
                } else {
                    if (mem_181133_cached_sizze_182766 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181133, &mem_181133_cached_sizze_182766, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181135_cached_sizze_182767 < bytes_181132) {
                        err = lexical_realloc(ctx, &mem_181135, &mem_181135_cached_sizze_182767, bytes_181132);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180713 = 0; i_180713 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920; i_180713++) {
                        int64_t split_count_arg3_172051 = mul64(merge_block_sizze_171786, i_180713);
                        int64_t defunc_0_split_count_res_172052;
                        int64_t defunc_0_split_count_res_172053;
                        int64_t defunc_0_split_count_res_172054;
                        int64_t defunc_0_split_count_res_172055;
                        int64_t defunc_0_split_count_res_172056;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_172052, &defunc_0_split_count_res_172053, &defunc_0_split_count_res_172054, &defunc_0_split_count_res_172055, &defunc_0_split_count_res_172056, (int64_t) 0, stride_171898, (int64_t) 0, j_m_i_171921, split_count_arg3_172051) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_172057 = slt64((int64_t) 0, defunc_0_split_count_res_172056);
                        bool defunc_0_split_count_res_172058;
                        int64_t defunc_0_split_count_res_172059;
                        int64_t defunc_0_split_count_res_172060;
                        int64_t defunc_0_split_count_res_172061;
                        int64_t defunc_0_split_count_res_172062;
                        int64_t defunc_0_split_count_res_172063;
                        bool loop_while_172064;
                        int64_t ss_172065;
                        int64_t ss_172066;
                        int64_t tt_172067;
                        int64_t tt_172068;
                        int64_t count_172069;
                        
                        loop_while_172064 = loop_cond_172057;
                        ss_172065 = defunc_0_split_count_res_172052;
                        ss_172066 = defunc_0_split_count_res_172053;
                        tt_172067 = defunc_0_split_count_res_172054;
                        tt_172068 = defunc_0_split_count_res_172055;
                        count_172069 = defunc_0_split_count_res_172056;
                        while (loop_while_172064) {
                            int64_t zlze_lhs_172070 = sub64(ss_172066, ss_172065);
                            bool cond_172071 = sle64(zlze_lhs_172070, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_172072;
                            int64_t defunc_0_lifted_step_res_172073;
                            int64_t defunc_0_lifted_step_res_172074;
                            int64_t defunc_0_lifted_step_res_172075;
                            
                            if (cond_172071) {
                                int64_t tmp_178635 = add64(tt_172067, count_172069);
                                
                                defunc_0_lifted_step_res_172072 = ss_172065;
                                defunc_0_lifted_step_res_172073 = tmp_178635;
                                defunc_0_lifted_step_res_172074 = tt_172068;
                                defunc_0_lifted_step_res_172075 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_172077 = sub64(tt_172068, tt_172067);
                                bool cond_172078 = sle64(zlze_lhs_172077, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_172079;
                                int64_t defunc_0_lifted_step_res_f_res_172080;
                                int64_t defunc_0_lifted_step_res_f_res_172081;
                                int64_t defunc_0_lifted_step_res_f_res_172082;
                                
                                if (cond_172078) {
                                    int64_t tmp_178636 = add64(ss_172065, count_172069);
                                    
                                    defunc_0_lifted_step_res_f_res_172079 = tmp_178636;
                                    defunc_0_lifted_step_res_f_res_172080 = tt_172067;
                                    defunc_0_lifted_step_res_f_res_172081 = tt_172068;
                                    defunc_0_lifted_step_res_f_res_172082 = (int64_t) 0;
                                } else {
                                    bool cond_172084 = count_172069 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172085;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172086;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172087;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_172088;
                                    
                                    if (cond_172084) {
                                        bool x_178638 = sle64((int64_t) 0, ss_172065);
                                        bool y_178639 = slt64(ss_172065, stride_171898);
                                        bool bounds_check_178640 = x_178638 && y_178639;
                                        bool index_certs_178641;
                                        
                                        if (!bounds_check_178640) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_172065, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_178644 = sle64((int64_t) 0, tt_172067);
                                        bool y_178645 = slt64(tt_172067, j_m_i_171921);
                                        bool bounds_check_178646 = x_178644 && y_178645;
                                        bool index_certs_178647;
                                        
                                        if (!bounds_check_178646) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_172067, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_178642 = start_171971 + ss_172065;
                                        int16_t leq_arg1_178643 = ((int16_t *) mem_param_181114.mem)[slice_178642];
                                        int64_t slice_178648 = stride_171898 + tt_172067;
                                        int64_t slice_178649 = start_171971 + slice_178648;
                                        int16_t leq_arg0_178650 = ((int16_t *) mem_param_181114.mem)[slice_178649];
                                        bool zlze_res_178651 = sle16(leq_arg0_178650, leq_arg1_178643);
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        
                                        if (zlze_res_178651) {
                                            int64_t tmp_178654 = add64((int64_t) 1, tt_172067);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = ss_172065;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tmp_178654;
                                        } else {
                                            int64_t tmp_178655 = add64((int64_t) 1, ss_172065);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178652 = tmp_178655;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_178653 = tt_172067;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = defunc_0_lifted_step_res_f_res_f_res_t_res_178652;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_t_res_178653;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = tt_172068;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = (int64_t) 0;
                                    } else {
                                        int64_t m_172107 = sdiv64(count_172069, (int64_t) 2);
                                        int64_t n_172108 = sub64(count_172069, m_172107);
                                        bool cond_172109 = n_172108 == (int64_t) 0;
                                        int64_t zgze_lhs_172110 = add64(ss_172065, m_172107);
                                        bool cond_f_res_172111 = sle64(ss_172066, zgze_lhs_172110);
                                        bool x_172112 = !cond_172109;
                                        bool y_172113 = cond_f_res_172111 && x_172112;
                                        bool cond_172114 = cond_172109 || y_172113;
                                        bool leq_y_x_172115;
                                        
                                        if (cond_172114) {
                                            leq_y_x_172115 = 1;
                                        } else {
                                            bool x_172116 = sle64((int64_t) 0, zgze_lhs_172110);
                                            bool y_172117 = slt64(zgze_lhs_172110, stride_171898);
                                            bool bounds_check_172118 = x_172116 && y_172117;
                                            bool index_certs_172119;
                                            
                                            if (!bounds_check_172118) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_172110, "] out of bounds for array of shape [", (long long) stride_171898, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_172122 = add64(tt_172067, n_172108);
                                            int64_t leq_arg0_172123 = sub64(zm_lhs_172122, (int64_t) 1);
                                            bool x_172124 = sle64((int64_t) 0, leq_arg0_172123);
                                            bool y_172125 = slt64(leq_arg0_172123, j_m_i_171921);
                                            bool bounds_check_172126 = x_172124 && y_172125;
                                            bool index_certs_172127;
                                            
                                            if (!bounds_check_172126) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_172123, "] out of bounds for array of shape [", (long long) j_m_i_171921, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #10 lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftbasics.fut:159:54-57\n   #13 ftsort.fut:32:3-27\n   #14 ftsort.fut:31:1-32:27\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_172120 = start_171971 + zgze_lhs_172110;
                                            int16_t leq_arg1_172121 = ((int16_t *) mem_param_181114.mem)[slice_172120];
                                            int64_t slice_172128 = stride_171898 + leq_arg0_172123;
                                            int64_t slice_172129 = start_171971 + slice_172128;
                                            int16_t leq_arg0_172130 = ((int16_t *) mem_param_181114.mem)[slice_172129];
                                            bool zlze_res_172131 = sle16(leq_arg0_172130, leq_arg1_172121);
                                            
                                            leq_y_x_172115 = zlze_res_172131;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                        
                                        if (leq_y_x_172115) {
                                            int64_t tmp_178656 = add64(tt_172067, n_172108);
                                            int64_t tmp_178657 = sub64(count_172069, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tmp_178656;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tt_172068;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = tmp_178657;
                                        } else {
                                            int64_t tmp_172137 = add64(tt_172067, n_172108);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172132 = tt_172067;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172133 = tmp_172137;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_172134 = count_172069;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_172085 = ss_172065;
                                        defunc_0_lifted_step_res_f_res_f_res_172086 = defunc_0_lifted_step_res_f_res_f_res_f_res_172132;
                                        defunc_0_lifted_step_res_f_res_f_res_172087 = defunc_0_lifted_step_res_f_res_f_res_f_res_172133;
                                        defunc_0_lifted_step_res_f_res_f_res_172088 = defunc_0_lifted_step_res_f_res_f_res_f_res_172134;
                                    }
                                    defunc_0_lifted_step_res_f_res_172079 = defunc_0_lifted_step_res_f_res_f_res_172085;
                                    defunc_0_lifted_step_res_f_res_172080 = defunc_0_lifted_step_res_f_res_f_res_172086;
                                    defunc_0_lifted_step_res_f_res_172081 = defunc_0_lifted_step_res_f_res_f_res_172087;
                                    defunc_0_lifted_step_res_f_res_172082 = defunc_0_lifted_step_res_f_res_f_res_172088;
                                }
                                defunc_0_lifted_step_res_172072 = defunc_0_lifted_step_res_f_res_172079;
                                defunc_0_lifted_step_res_172073 = defunc_0_lifted_step_res_f_res_172080;
                                defunc_0_lifted_step_res_172074 = defunc_0_lifted_step_res_f_res_172081;
                                defunc_0_lifted_step_res_172075 = defunc_0_lifted_step_res_f_res_172082;
                            }
                            
                            int64_t loopres_172138;
                            int64_t loopres_172139;
                            int64_t loopres_172140;
                            int64_t loopres_172141;
                            int64_t loopres_172142;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_172138, &loopres_172139, &loopres_172140, &loopres_172141, &loopres_172142, defunc_0_lifted_step_res_172072, ss_172066, defunc_0_lifted_step_res_172073, defunc_0_lifted_step_res_172074, defunc_0_lifted_step_res_172075) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_172143 = slt64((int64_t) 0, loopres_172142);
                            bool loop_while_tmp_182480 = loop_cond_172143;
                            int64_t ss_tmp_182481 = loopres_172138;
                            int64_t ss_tmp_182482 = loopres_172139;
                            int64_t tt_tmp_182483 = loopres_172140;
                            int64_t tt_tmp_182484 = loopres_172141;
                            int64_t count_tmp_182485 = loopres_172142;
                            
                            loop_while_172064 = loop_while_tmp_182480;
                            ss_172065 = ss_tmp_182481;
                            ss_172066 = ss_tmp_182482;
                            tt_172067 = tt_tmp_182483;
                            tt_172068 = tt_tmp_182484;
                            count_172069 = count_tmp_182485;
                        }
                        defunc_0_split_count_res_172058 = loop_while_172064;
                        defunc_0_split_count_res_172059 = ss_172065;
                        defunc_0_split_count_res_172060 = ss_172066;
                        defunc_0_split_count_res_172061 = tt_172067;
                        defunc_0_split_count_res_172062 = tt_172068;
                        defunc_0_split_count_res_172063 = count_172069;
                        ((int64_t *) mem_181133)[i_180713] = defunc_0_split_count_res_172059;
                        ((int64_t *) mem_181135)[i_180713] = defunc_0_split_count_res_172061;
                    }
                    if (mem_181150_cached_sizze_182768 < bytes_181149) {
                        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_182768, bytes_181149);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181153_cached_sizze_182769 < bytes_181152) {
                        err = lexical_realloc(ctx, &mem_181153, &mem_181153_cached_sizze_182769, bytes_181152);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180720 = 0; i_180720 < num_blocks_171919; i_180720++) {
                        bool y_172149 = slt64(i_180720, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool index_certs_172151;
                        
                        if (!y_172149) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180720, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172152 = ((int64_t *) mem_181133)[i_180720];
                        int64_t defunc_0_f_res_172153 = ((int64_t *) mem_181135)[i_180720];
                        int64_t tmp_172154 = add64((int64_t) 1, i_180720);
                        bool x_172155 = sle64((int64_t) 0, tmp_172154);
                        bool y_172156 = slt64(tmp_172154, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920);
                        bool bounds_check_172157 = x_172155 && y_172156;
                        bool index_certs_172158;
                        
                        if (!bounds_check_172157) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_172154, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_171920, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_172159 = ((int64_t *) mem_181133)[tmp_172154];
                        int64_t defunc_0_f_res_172160 = ((int64_t *) mem_181135)[tmp_172154];
                        int64_t merge_sequential_arg2_172161 = add64(stride_171898, defunc_0_f_res_172153);
                        int64_t merge_sequential_arg2_172162 = add64(stride_171898, defunc_0_f_res_172160);
                        int64_t j_m_i_172163 = sub64(merge_sequential_arg2_172162, merge_sequential_arg2_172161);
                        bool empty_slice_172164 = j_m_i_172163 == (int64_t) 0;
                        int64_t m_172165 = sub64(j_m_i_172163, (int64_t) 1);
                        int64_t i_p_m_t_s_172166 = add64(merge_sequential_arg2_172161, m_172165);
                        bool zzero_leq_i_p_m_t_s_172167 = sle64((int64_t) 0, i_p_m_t_s_172166);
                        bool i_p_m_t_s_leq_w_172168 = slt64(i_p_m_t_s_172166, next_stride_171899);
                        bool zzero_lte_i_172169 = sle64((int64_t) 0, merge_sequential_arg2_172161);
                        bool i_lte_j_172170 = sle64(merge_sequential_arg2_172161, merge_sequential_arg2_172162);
                        bool y_172171 = i_p_m_t_s_leq_w_172168 && zzero_lte_i_172169;
                        bool y_172172 = zzero_leq_i_p_m_t_s_172167 && y_172171;
                        bool forwards_ok_172173 = i_lte_j_172170 && y_172172;
                        bool ok_or_empty_172174 = empty_slice_172164 || forwards_ok_172173;
                        bool index_certs_172175;
                        
                        if (!ok_or_empty_172174) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_172161, ":", (long long) merge_sequential_arg2_172162, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_172176 = sub64(defunc_0_f_res_172159, defunc_0_f_res_172152);
                        bool empty_slice_172177 = j_m_i_172176 == (int64_t) 0;
                        int64_t m_172178 = sub64(j_m_i_172176, (int64_t) 1);
                        int64_t i_p_m_t_s_172179 = add64(defunc_0_f_res_172152, m_172178);
                        bool zzero_leq_i_p_m_t_s_172180 = sle64((int64_t) 0, i_p_m_t_s_172179);
                        bool i_p_m_t_s_leq_w_172181 = slt64(i_p_m_t_s_172179, next_stride_171899);
                        bool zzero_lte_i_172182 = sle64((int64_t) 0, defunc_0_f_res_172152);
                        bool i_lte_j_172183 = sle64(defunc_0_f_res_172152, defunc_0_f_res_172159);
                        bool y_172184 = i_p_m_t_s_leq_w_172181 && zzero_lte_i_172182;
                        bool y_172185 = zzero_leq_i_p_m_t_s_172180 && y_172184;
                        bool forwards_ok_172186 = i_lte_j_172183 && y_172185;
                        bool ok_or_empty_172187 = empty_slice_172177 || forwards_ok_172186;
                        bool index_certs_172188;
                        
                        if (!ok_or_empty_172187) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_172152, ":", (long long) defunc_0_f_res_172159, "] out of bounds for array of shape [", (long long) next_stride_171899, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftbasics.fut:159:54-57\n   #10 ftsort.fut:32:3-27\n   #11 ftsort.fut:31:1-32:27\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_172189 = slt64((int64_t) 0, j_m_i_172176);
                        int16_t dummy_172190;
                        int64_t dummy_172191;
                        
                        if (cond_172189) {
                            bool index_certs_178658;
                            
                            if (!cond_172189) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:159:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178659 = start_171971 + defunc_0_f_res_172152;
                            int16_t head_res_178660 = ((int16_t *) mem_param_181114.mem)[slice_178659];
                            int64_t head_res_178661 = ((int64_t *) mem_param_181117.mem)[slice_178659];
                            
                            dummy_172190 = head_res_178660;
                            dummy_172191 = head_res_178661;
                        } else {
                            bool y_172196 = slt64((int64_t) 0, j_m_i_172163);
                            bool index_certs_172197;
                            
                            if (!y_172196) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftbasics.fut:159:54-57\n   #12 ftsort.fut:32:3-27\n   #13 ftsort.fut:31:1-32:27\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_172198 = start_171971 + merge_sequential_arg2_172161;
                            int16_t head_res_172199 = ((int16_t *) mem_param_181114.mem)[slice_172198];
                            int64_t head_res_172200 = ((int64_t *) mem_param_181117.mem)[slice_172198];
                            
                            dummy_172190 = head_res_172199;
                            dummy_172191 = head_res_172200;
                        }
                        for (int64_t nest_i_182488 = 0; nest_i_182488 < merge_block_sizze_171786; nest_i_182488++) {
                            ((int16_t *) mem_181150)[i_180720 * merge_block_sizze_171786 + nest_i_182488] = dummy_172190;
                        }
                        for (int64_t nest_i_182489 = 0; nest_i_182489 < merge_block_sizze_171786; nest_i_182489++) {
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + nest_i_182489] = dummy_172191;
                        }
                        
                        int64_t data_172203;
                        int64_t i_172207 = (int64_t) 0;
                        
                        for (int64_t k_172206 = 0; k_172206 < merge_block_sizze_171786; k_172206++) {
                            int64_t j_172210 = sub64(k_172206, i_172207);
                            bool cond_172211 = j_172210 == j_m_i_172163;
                            bool cond_172212;
                            
                            if (cond_172211) {
                                cond_172212 = 1;
                            } else {
                                bool cond_172213 = slt64(i_172207, j_m_i_172176);
                                bool cond_f_res_172214;
                                
                                if (cond_172213) {
                                    bool x_178662 = sle64((int64_t) 0, j_172210);
                                    bool y_178663 = slt64(j_172210, j_m_i_172163);
                                    bool bounds_check_178664 = x_178662 && y_178663;
                                    bool index_certs_178665;
                                    
                                    if (!bounds_check_178664) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_178669 = sle64((int64_t) 0, i_172207);
                                    bool bounds_check_178670 = cond_172213 && x_178669;
                                    bool index_certs_178671;
                                    
                                    if (!bounds_check_178670) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178666 = merge_sequential_arg2_172161 + j_172210;
                                    int64_t slice_178667 = start_171971 + slice_178666;
                                    int16_t leq_arg1_178668 = ((int16_t *) mem_param_181114.mem)[slice_178667];
                                    int64_t slice_178672 = defunc_0_f_res_172152 + i_172207;
                                    int64_t slice_178673 = start_171971 + slice_178672;
                                    int16_t leq_arg0_178674 = ((int16_t *) mem_param_181114.mem)[slice_178673];
                                    bool zlze_res_178675 = sle16(leq_arg0_178674, leq_arg1_178668);
                                    
                                    cond_f_res_172214 = zlze_res_178675;
                                } else {
                                    cond_f_res_172214 = 0;
                                }
                                cond_172212 = cond_f_res_172214;
                            }
                            
                            int64_t loopres_172229;
                            int16_t loopres_172230;
                            int64_t loopres_172231;
                            
                            if (cond_172212) {
                                bool x_178677 = sle64((int64_t) 0, i_172207);
                                bool y_178678 = slt64(i_172207, j_m_i_172176);
                                bool bounds_check_178679 = x_178677 && y_178678;
                                bool index_certs_178680;
                                
                                if (!bounds_check_178679) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_172207, "] out of bounds for array of shape [", (long long) j_m_i_172176, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_178676 = add64((int64_t) 1, i_172207);
                                int64_t slice_178681 = defunc_0_f_res_172152 + i_172207;
                                int64_t slice_178682 = start_171971 + slice_178681;
                                int16_t tmp_178683 = ((int16_t *) mem_param_181114.mem)[slice_178682];
                                int64_t tmp_178684 = ((int64_t *) mem_param_181117.mem)[slice_178682];
                                
                                loopres_172229 = tmp_178676;
                                loopres_172230 = tmp_178683;
                                loopres_172231 = tmp_178684;
                            } else {
                                bool x_172241 = sle64((int64_t) 0, j_172210);
                                bool y_172242 = slt64(j_172210, j_m_i_172163);
                                bool bounds_check_172243 = x_172241 && y_172242;
                                bool index_certs_172244;
                                
                                if (!bounds_check_172243) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_172210, "] out of bounds for array of shape [", (long long) j_m_i_172163, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:256:39-260:59\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftbasics.fut:159:54-57\n   #11 ftsort.fut:32:3-27\n   #12 ftsort.fut:31:1-32:27\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_172245 = merge_sequential_arg2_172161 + j_172210;
                                int64_t slice_172246 = start_171971 + slice_172245;
                                int16_t tmp_172247 = ((int16_t *) mem_param_181114.mem)[slice_172246];
                                int64_t tmp_172248 = ((int64_t *) mem_param_181117.mem)[slice_172246];
                                
                                loopres_172229 = i_172207;
                                loopres_172230 = tmp_172247;
                                loopres_172231 = tmp_172248;
                            }
                            ((int16_t *) mem_181150)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172230;
                            ((int64_t *) mem_181153)[i_180720 * merge_block_sizze_171786 + k_172206] = loopres_172231;
                            
                            int64_t i_tmp_182490 = loopres_172229;
                            
                            i_172207 = i_tmp_182490;
                        }
                        data_172203 = i_172207;
                    }
                    if (memblock_alloc(ctx, &mem_181188, bytes_181149, "mem_181188")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181188.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint16_t *) mem_181150, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_alloc(ctx, &mem_181192, bytes_181152, "mem_181192")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181192.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (uint64_t *) mem_181153, (int64_t) 0, (int64_t []) {merge_block_sizze_171786, (int64_t) 1}, (int64_t []) {num_blocks_171919, merge_block_sizze_171786});
                    if (memblock_set(ctx, &ext_mem_181215, &mem_181188, "mem_181188") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181212, &mem_181192, "mem_181192") != 0)
                        return 1;
                }
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181120, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181215.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181123, i_180727 * next_stride_171899, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181212.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_171899});
                if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
                    return 1;
            }
            
            int64_t flat_dim_172255 = next_stride_171899 * num_merges_171903;
            
            if (memblock_alloc(ctx, &mem_181226, bytes_181119, "mem_181226")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_181226.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint16_t *) mem_181120, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            if (memblock_alloc(ctx, &mem_181230, bytes_181122, "mem_181230")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_181230.mem, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (uint64_t *) mem_181123, (int64_t) 0, (int64_t []) {next_stride_171899, (int64_t) 1}, (int64_t []) {num_merges_171903, next_stride_171899});
            
            bool loop_cond_172258 = slt64(next_stride_171899, flat_dim_171783);
            
            if (memblock_set(ctx, &mem_param_tmp_182464, &mem_181226, "mem_181226") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182465, &mem_181230, "mem_181230") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182466 = flat_dim_172255;
            bool loop_while_tmp_182467 = loop_cond_172258;
            int64_t stride_tmp_182470 = next_stride_171899;
            
            if (memblock_set(ctx, &mem_param_181114, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181117, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
                return 1;
            loop_dz2084Uz2082U_171894 = loop_dz2084Uz2082U_tmp_182466;
            loop_while_171895 = loop_while_tmp_182467;
            stride_171898 = stride_tmp_182470;
        }
        if (memblock_set(ctx, &ext_mem_181237, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_181236, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        data_171889 = loop_dz2084Uz2082U_171894;
        data_171890 = loop_while_171895;
        data_171893 = stride_171898;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        
        bool empty_slice_172259 = n_98736 == (int64_t) 0;
        bool zzero_leq_i_p_m_t_s_172260 = sle64((int64_t) 0, zs_lhs_171767);
        bool i_p_m_t_s_leq_w_172261 = slt64(zs_lhs_171767, data_171889);
        bool y_172262 = zzero_leq_i_p_m_t_s_172260 && i_p_m_t_s_leq_w_172261;
        bool ok_or_empty_172263 = empty_slice_172259 || y_172262;
        bool index_certs_172264;
        
        if (!ok_or_empty_172263) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) n_98736, "] out of bounds for array of shape [", (long long) data_171889, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftbasics.fut:159:54-57\n   #5  ftsort.fut:32:3-27\n   #6  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_181240, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
        return 1;
    if (memblock_alloc(ctx, &mem_181242, bytes_181034, "mem_181242")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181244, bytes_181243, "mem_181244")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180734 = 0; i_180734 < n_98736; i_180734++) {
        int64_t eta_p_172268 = ((int64_t *) ext_mem_181240.mem)[i_180734];
        bool x_172269 = sle64((int64_t) 0, eta_p_172268);
        bool y_172270 = slt64(eta_p_172268, n_98736);
        bool bounds_check_172271 = x_172269 && y_172270;
        bool index_certs_172272;
        
        if (!bounds_check_172271) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172268, "] out of bounds for array of shape [", (long long) n_98736, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:277:24-28\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:277:8-29\n   #3  ftbasics.fut:159:54-57\n   #4  ftsort.fut:32:3-27\n   #5  ftsort.fut:31:1-32:27\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172273 = ((int64_t *) ext_mem_181033.mem)[eta_p_172268];
        int16_t lifted_lambda_res_172274 = ((int16_t *) xs_mem_181032.mem)[eta_p_172268];
        
        ((int64_t *) mem_181242.mem)[i_180734] = lifted_lambda_res_172273;
        ((int16_t *) mem_181244.mem)[i_180734] = lifted_lambda_res_172274;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181242, "mem_181242") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181244, "mem_181244") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182758, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182759, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181038);
        free(mem_181041);
        free(mem_181051);
        free(mem_181053);
        free(mem_181120);
        free(mem_181123);
        free(mem_181133);
        free(mem_181135);
        free(mem_181150);
        free(mem_181153);
        if (memblock_unref(ctx, &mem_181244, "mem_181244") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181242, "mem_181242") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182465, "mem_param_tmp_182465") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182464, "mem_param_tmp_182464") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181230, "mem_181230") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181226, "mem_181226") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181192, "mem_181192") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181188, "mem_181188") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181197, "mem_181197") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181195, "mem_181195") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181212, "ext_mem_181212") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181215, "ext_mem_181215") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181117, "mem_param_181117") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181114, "mem_param_181114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181236, "ext_mem_181236") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181237, "ext_mem_181237") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181110, "mem_181110") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181106, "mem_181106") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181240, "ext_mem_181240") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181035, "mem_181035") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_double(struct futhark_context *ctx, struct memblock *mem_out_p_182770, struct memblock *mem_out_p_182771, struct memblock *mem_out_p_182772, int64_t *out_prim_out_182773, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_163276, int64_t nb_163277, int64_t window_sizze_163278, int64_t threads_163279, bool inParallel_163282)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181049_cached_sizze_182774 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_182775 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181090_cached_sizze_182776 = 0;
    unsigned char *mem_181090 = NULL;
    int64_t mem_181093_cached_sizze_182777 = 0;
    unsigned char *mem_181093 = NULL;
    int64_t mem_181096_cached_sizze_182778 = 0;
    unsigned char *mem_181096 = NULL;
    int64_t mem_181109_cached_sizze_182779 = 0;
    unsigned char *mem_181109 = NULL;
    int64_t mem_181111_cached_sizze_182780 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181113_cached_sizze_182781 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181210_cached_sizze_182782 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181213_cached_sizze_182783 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181216_cached_sizze_182784 = 0;
    unsigned char *mem_181216 = NULL;
    int64_t mem_181230_cached_sizze_182785 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181232_cached_sizze_182786 = 0;
    unsigned char *mem_181232 = NULL;
    int64_t mem_181246_cached_sizze_182787 = 0;
    unsigned char *mem_181246 = NULL;
    int64_t mem_181249_cached_sizze_182788 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181252_cached_sizze_182789 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181394_cached_sizze_182790 = 0;
    unsigned char *mem_181394 = NULL;
    int64_t mem_181396_cached_sizze_182791 = 0;
    unsigned char *mem_181396 = NULL;
    int64_t mem_181411_cached_sizze_182792 = 0;
    unsigned char *mem_181411 = NULL;
    int64_t mem_181413_cached_sizze_182793 = 0;
    unsigned char *mem_181413 = NULL;
    int64_t mem_181416_cached_sizze_182794 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181419_cached_sizze_182795 = 0;
    unsigned char *mem_181419 = NULL;
    int64_t mem_181453_cached_sizze_182796 = 0;
    unsigned char *mem_181453 = NULL;
    int64_t mem_181456_cached_sizze_182797 = 0;
    unsigned char *mem_181456 = NULL;
    int64_t mem_181459_cached_sizze_182798 = 0;
    unsigned char *mem_181459 = NULL;
    int64_t mem_181472_cached_sizze_182799 = 0;
    unsigned char *mem_181472 = NULL;
    int64_t mem_181474_cached_sizze_182800 = 0;
    unsigned char *mem_181474 = NULL;
    int64_t mem_181476_cached_sizze_182801 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181573_cached_sizze_182802 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181576_cached_sizze_182803 = 0;
    unsigned char *mem_181576 = NULL;
    int64_t mem_181579_cached_sizze_182804 = 0;
    unsigned char *mem_181579 = NULL;
    int64_t mem_181593_cached_sizze_182805 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181595_cached_sizze_182806 = 0;
    unsigned char *mem_181595 = NULL;
    int64_t mem_181609_cached_sizze_182807 = 0;
    unsigned char *mem_181609 = NULL;
    int64_t mem_181612_cached_sizze_182808 = 0;
    unsigned char *mem_181612 = NULL;
    int64_t mem_181615_cached_sizze_182809 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181832_cached_sizze_182810 = 0;
    unsigned char *mem_181832 = NULL;
    int64_t mem_181835_cached_sizze_182811 = 0;
    unsigned char *mem_181835 = NULL;
    int64_t mem_181838_cached_sizze_182812 = 0;
    unsigned char *mem_181838 = NULL;
    int64_t mem_181851_cached_sizze_182813 = 0;
    unsigned char *mem_181851 = NULL;
    int64_t mem_181853_cached_sizze_182814 = 0;
    unsigned char *mem_181853 = NULL;
    int64_t mem_181855_cached_sizze_182815 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181952_cached_sizze_182816 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181955_cached_sizze_182817 = 0;
    unsigned char *mem_181955 = NULL;
    int64_t mem_181958_cached_sizze_182818 = 0;
    unsigned char *mem_181958 = NULL;
    int64_t mem_181972_cached_sizze_182819 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181974_cached_sizze_182820 = 0;
    unsigned char *mem_181974 = NULL;
    int64_t mem_181988_cached_sizze_182821 = 0;
    unsigned char *mem_181988 = NULL;
    int64_t mem_181991_cached_sizze_182822 = 0;
    unsigned char *mem_181991 = NULL;
    int64_t mem_181994_cached_sizze_182823 = 0;
    unsigned char *mem_181994 = NULL;
    struct memblock mem_param_tmp_182670;
    
    mem_param_tmp_182670.references = NULL;
    
    struct memblock mem_param_tmp_182669;
    
    mem_param_tmp_182669.references = NULL;
    
    struct memblock mem_param_tmp_182668;
    
    mem_param_tmp_182668.references = NULL;
    
    struct memblock mem_182106;
    
    mem_182106.references = NULL;
    
    struct memblock mem_182102;
    
    mem_182102.references = NULL;
    
    struct memblock mem_182098;
    
    mem_182098.references = NULL;
    
    struct memblock mem_182051;
    
    mem_182051.references = NULL;
    
    struct memblock mem_182047;
    
    mem_182047.references = NULL;
    
    struct memblock mem_182043;
    
    mem_182043.references = NULL;
    
    struct memblock mem_182057;
    
    mem_182057.references = NULL;
    
    struct memblock mem_182055;
    
    mem_182055.references = NULL;
    
    struct memblock mem_182053;
    
    mem_182053.references = NULL;
    
    struct memblock ext_mem_182078;
    
    ext_mem_182078.references = NULL;
    
    struct memblock ext_mem_182081;
    
    ext_mem_182081.references = NULL;
    
    struct memblock ext_mem_182084;
    
    ext_mem_182084.references = NULL;
    
    struct memblock mem_param_181950;
    
    mem_param_181950.references = NULL;
    
    struct memblock mem_param_181947;
    
    mem_param_181947.references = NULL;
    
    struct memblock mem_param_181944;
    
    mem_param_181944.references = NULL;
    
    struct memblock ext_mem_182114;
    
    ext_mem_182114.references = NULL;
    
    struct memblock ext_mem_182115;
    
    ext_mem_182115.references = NULL;
    
    struct memblock ext_mem_182116;
    
    ext_mem_182116.references = NULL;
    
    struct memblock mem_181940;
    
    mem_181940.references = NULL;
    
    struct memblock mem_181936;
    
    mem_181936.references = NULL;
    
    struct memblock mem_181932;
    
    mem_181932.references = NULL;
    
    struct memblock ext_mem_182119;
    
    ext_mem_182119.references = NULL;
    
    struct memblock ext_mem_182122;
    
    ext_mem_182122.references = NULL;
    
    struct memblock ext_mem_182125;
    
    ext_mem_182125.references = NULL;
    
    struct memblock mem_181830;
    
    mem_181830.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181826;
    
    mem_181826.references = NULL;
    
    struct memblock mem_param_tmp_182604;
    
    mem_param_tmp_182604.references = NULL;
    
    struct memblock mem_param_tmp_182603;
    
    mem_param_tmp_182603.references = NULL;
    
    struct memblock mem_param_tmp_182602;
    
    mem_param_tmp_182602.references = NULL;
    
    struct memblock mem_181364;
    
    mem_181364.references = NULL;
    
    struct memblock mem_181360;
    
    mem_181360.references = NULL;
    
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181309;
    
    mem_181309.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock mem_181315;
    
    mem_181315.references = NULL;
    
    struct memblock mem_181313;
    
    mem_181313.references = NULL;
    
    struct memblock mem_181311;
    
    mem_181311.references = NULL;
    
    struct memblock ext_mem_181336;
    
    ext_mem_181336.references = NULL;
    
    struct memblock ext_mem_181339;
    
    ext_mem_181339.references = NULL;
    
    struct memblock ext_mem_181342;
    
    ext_mem_181342.references = NULL;
    
    struct memblock mem_param_181208;
    
    mem_param_181208.references = NULL;
    
    struct memblock mem_param_181205;
    
    mem_param_181205.references = NULL;
    
    struct memblock mem_param_181202;
    
    mem_param_181202.references = NULL;
    
    struct memblock ext_mem_181372;
    
    ext_mem_181372.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock ext_mem_181374;
    
    ext_mem_181374.references = NULL;
    
    struct memblock mem_181198;
    
    mem_181198.references = NULL;
    
    struct memblock mem_181194;
    
    mem_181194.references = NULL;
    
    struct memblock mem_181190;
    
    mem_181190.references = NULL;
    
    struct memblock ext_mem_181377;
    
    ext_mem_181377.references = NULL;
    
    struct memblock ext_mem_181380;
    
    ext_mem_181380.references = NULL;
    
    struct memblock ext_mem_181383;
    
    ext_mem_181383.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181068;
    
    mem_181068.references = NULL;
    
    struct memblock mem_181066;
    
    mem_181066.references = NULL;
    
    struct memblock mem_181064;
    
    mem_181064.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock mem_181774;
    
    mem_181774.references = NULL;
    
    struct memblock mem_181772;
    
    mem_181772.references = NULL;
    
    struct memblock mem_param_tmp_182510;
    
    mem_param_tmp_182510.references = NULL;
    
    struct memblock mem_param_tmp_182509;
    
    mem_param_tmp_182509.references = NULL;
    
    struct memblock mem_param_tmp_182508;
    
    mem_param_tmp_182508.references = NULL;
    
    struct memblock mem_181727;
    
    mem_181727.references = NULL;
    
    struct memblock mem_181723;
    
    mem_181723.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181672;
    
    mem_181672.references = NULL;
    
    struct memblock mem_181668;
    
    mem_181668.references = NULL;
    
    struct memblock mem_181664;
    
    mem_181664.references = NULL;
    
    struct memblock mem_181678;
    
    mem_181678.references = NULL;
    
    struct memblock mem_181676;
    
    mem_181676.references = NULL;
    
    struct memblock mem_181674;
    
    mem_181674.references = NULL;
    
    struct memblock ext_mem_181699;
    
    ext_mem_181699.references = NULL;
    
    struct memblock ext_mem_181702;
    
    ext_mem_181702.references = NULL;
    
    struct memblock ext_mem_181705;
    
    ext_mem_181705.references = NULL;
    
    struct memblock mem_param_181571;
    
    mem_param_181571.references = NULL;
    
    struct memblock mem_param_181568;
    
    mem_param_181568.references = NULL;
    
    struct memblock mem_param_181565;
    
    mem_param_181565.references = NULL;
    
    struct memblock ext_mem_181735;
    
    ext_mem_181735.references = NULL;
    
    struct memblock ext_mem_181736;
    
    ext_mem_181736.references = NULL;
    
    struct memblock ext_mem_181737;
    
    ext_mem_181737.references = NULL;
    
    struct memblock mem_181561;
    
    mem_181561.references = NULL;
    
    struct memblock mem_181557;
    
    mem_181557.references = NULL;
    
    struct memblock mem_181553;
    
    mem_181553.references = NULL;
    
    struct memblock ext_mem_181740;
    
    ext_mem_181740.references = NULL;
    
    struct memblock ext_mem_181743;
    
    ext_mem_181743.references = NULL;
    
    struct memblock ext_mem_181746;
    
    ext_mem_181746.references = NULL;
    
    struct memblock mem_181451;
    
    mem_181451.references = NULL;
    
    struct memblock mem_181449;
    
    mem_181449.references = NULL;
    
    struct memblock mem_181447;
    
    mem_181447.references = NULL;
    
    struct memblock ext_mem_181796;
    
    ext_mem_181796.references = NULL;
    
    struct memblock ext_mem_181799;
    
    ext_mem_181799.references = NULL;
    
    struct memblock ext_mem_181802;
    
    ext_mem_181802.references = NULL;
    
    struct memblock mem_181038;
    
    mem_181038.references = NULL;
    
    struct memblock mem_181036;
    
    mem_181036.references = NULL;
    
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t prim_out_182449;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521 = add64(na_163276, nb_163277);
    
    if (memblock_alloc(ctx, &mem_181034, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182450 = 0; nest_i_182450 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182450++) {
        ((int8_t *) mem_181034.mem)[nest_i_182450] = (int8_t) -1;
    }
    
    int64_t bytes_181035 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    
    if (memblock_alloc(ctx, &mem_181036, bytes_181035, "mem_181036")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182451 = 0; nest_i_182451 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182451++) {
        ((int64_t *) mem_181036.mem)[nest_i_182451] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_181038, bytes_181035, "mem_181038")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182452 = 0; nest_i_182452 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182452++) {
        ((double *) mem_181038.mem)[nest_i_182452] = 0.0;
    }
    
    int64_t zl_rhs_175525 = sub64(na_163276, window_sizze_163278);
    bool cond_175526 = slt64((int64_t) 0, zl_rhs_175525);
    int64_t zl_rhs_175527 = sub64(nb_163277, window_sizze_163278);
    bool loop_cond_t_res_175528 = slt64((int64_t) 0, zl_rhs_175527);
    bool x_175529 = cond_175526 && loop_cond_t_res_175528;
    bool empty_slice_175530 = window_sizze_163278 == (int64_t) 0;
    int64_t m_175531 = sub64(window_sizze_163278, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556 = add64((int64_t) 1, threads_163279);
    int64_t partitionFunc_arg0_176557 = mul64((int64_t) 2, threads_163279);
    bool y_176559 = slt64((int64_t) 0, window_sizze_163278);
    bool loop_cond_176805 = slt64((int64_t) 0, threads_163279);
    bool zzero_175576 = threads_163279 == (int64_t) 0;
    bool nonzzero_175577 = !zzero_175576;
    bool loop_not_taken_178334 = !inParallel_163282;
    bool protect_assert_disj_178335 = nonzzero_175577 || loop_not_taken_178334;
    bool loop_not_taken_178424 = !x_175529;
    bool protect_assert_disj_178425 = protect_assert_disj_178335 || loop_not_taken_178424;
    bool nonzzero_cert_175578;
    
    if (!protect_assert_disj_178425) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175579 = sdiv_safe64(window_sizze_163278, threads_163279);
    int64_t perThread_175580 = add64((int64_t) 1, zp_rhs_175579);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581 = mul64(threads_163279, perThread_175580);
    bool protect_assert_disj_178471 = inParallel_163282 || y_176559;
    bool protect_assert_disj_178475 = loop_not_taken_178424 || protect_assert_disj_178471;
    bool index_certs_176560;
    
    if (!protect_assert_disj_178475) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176575 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, (int64_t) 1);
    bool y_177532 = slt64(threads_163279, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
    bool protect_assert_disj_178440 = y_176559 || loop_not_taken_178334;
    bool protect_assert_disj_178479 = loop_not_taken_178424 || protect_assert_disj_178440;
    bool index_certs_175584;
    
    if (!protect_assert_disj_178479) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176577 = !bounds_invalid_upwards_176575;
    bool protect_assert_disj_178487 = inParallel_163282 || y_177532;
    bool protect_assert_disj_178489 = loop_not_taken_178424 || protect_assert_disj_178487;
    bool index_certs_177534;
    
    if (!protect_assert_disj_178489) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_163279, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178483 = y_177532 || loop_not_taken_178334;
    bool protect_assert_disj_178491 = loop_not_taken_178424 || protect_assert_disj_178483;
    bool index_certs_176538;
    
    if (!protect_assert_disj_178491) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_163279, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178499 = inParallel_163282 || valid_176577;
    bool protect_assert_disj_178501 = loop_not_taken_178424 || protect_assert_disj_178499;
    bool range_valid_c_176578;
    
    if (!protect_assert_disj_178501) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178343 = sle64((int64_t) 1, threads_163279);
    bool protect_assert_disj_178495 = valid_176577 || loop_not_taken_178334;
    bool protect_assert_disj_178503 = loop_not_taken_178424 || protect_assert_disj_178495;
    bool range_valid_c_175591;
    
    if (!protect_assert_disj_178503) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176580 = add64(window_sizze_163278, window_sizze_163278);
    bool zzero_176581 = partitionFunc_arg0_176557 == (int64_t) 0;
    int64_t index_concat_i_178344 = sub64(threads_163279, (int64_t) 1);
    bool nonzzero_176582 = !zzero_176581;
    bool protect_assert_disj_178511 = inParallel_163282 || nonzzero_176582;
    bool protect_assert_disj_178517 = loop_not_taken_178424 || protect_assert_disj_178511;
    bool nonzzero_cert_176583;
    
    if (!protect_assert_disj_178517) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178507 = nonzzero_176582 || loop_not_taken_178334;
    bool protect_assert_disj_178523 = loop_not_taken_178424 || protect_assert_disj_178507;
    bool nonzzero_cert_175596;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181048 = (int64_t) 8 * threads_163279;
    int64_t bytes_181065 = (int64_t) 8 * window_sizze_163278;
    int64_t bytes_181410 = perThread_175580 * bytes_181048;
    bool defunc_0_merge_pipeline_res_175532;
    int64_t defunc_0_merge_pipeline_res_175536;
    int64_t defunc_0_merge_pipeline_res_175537;
    bool loop_while_175538;
    int64_t p_175542;
    int64_t p_175543;
    
    loop_while_175538 = x_175529;
    p_175542 = (int64_t) 0;
    p_175543 = (int64_t) 0;
    while (loop_while_175538) {
        int64_t ubs_175544 = add64(window_sizze_163278, p_175542);
        int64_t ubs_175545 = add64(window_sizze_163278, p_175543);
        int64_t ind_bottom_175546 = add64(p_175542, p_175543);
        int64_t ind_top_175547 = add64(window_sizze_163278, ind_bottom_175546);
        int64_t i_p_m_t_s_175548 = add64(m_175531, p_175542);
        bool zzero_leq_i_p_m_t_s_175549 = sle64((int64_t) 0, i_p_m_t_s_175548);
        bool i_p_m_t_s_leq_w_175550 = slt64(i_p_m_t_s_175548, na_163276);
        bool zzero_lte_i_175551 = sle64((int64_t) 0, p_175542);
        bool i_lte_j_175552 = sle64(p_175542, ubs_175544);
        bool y_175553 = i_p_m_t_s_leq_w_175550 && zzero_lte_i_175551;
        bool y_175554 = zzero_leq_i_p_m_t_s_175549 && y_175553;
        bool forwards_ok_175555 = i_lte_j_175552 && y_175554;
        bool ok_or_empty_175556 = empty_slice_175530 || forwards_ok_175555;
        bool index_certs_175557;
        
        if (!ok_or_empty_175556) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175542, ":", (long long) ubs_175544, "] out of bounds for array of shape [", (long long) na_163276, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175559 = add64(m_175531, p_175543);
        bool zzero_leq_i_p_m_t_s_175560 = sle64((int64_t) 0, i_p_m_t_s_175559);
        bool i_p_m_t_s_leq_w_175561 = slt64(i_p_m_t_s_175559, nb_163277);
        bool zzero_lte_i_175562 = sle64((int64_t) 0, p_175543);
        bool i_lte_j_175563 = sle64(p_175543, ubs_175545);
        bool y_175564 = i_p_m_t_s_leq_w_175561 && zzero_lte_i_175562;
        bool y_175565 = zzero_leq_i_p_m_t_s_175560 && y_175564;
        bool forwards_ok_175566 = i_lte_j_175563 && y_175565;
        bool ok_or_empty_175567 = empty_slice_175530 || forwards_ok_175566;
        bool index_certs_175568;
        
        if (!ok_or_empty_175567) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175543, ":", (long long) ubs_175545, "] out of bounds for array of shape [", (long long) nb_163277, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177546 = add64(m_175531, ind_bottom_175546);
        bool zzero_leq_i_p_m_t_s_177547 = sle64((int64_t) 0, i_p_m_t_s_177546);
        bool i_p_m_t_s_leq_w_177548 = slt64(i_p_m_t_s_177546, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
        bool zzero_lte_i_177549 = sle64((int64_t) 0, ind_bottom_175546);
        bool i_lte_j_177550 = sle64(ind_bottom_175546, ind_top_175547);
        bool y_177551 = i_p_m_t_s_leq_w_177548 && zzero_lte_i_177549;
        bool y_177552 = zzero_leq_i_p_m_t_s_177547 && y_177551;
        bool forwards_ok_177553 = i_lte_j_177550 && y_177552;
        bool ok_or_empty_177554 = empty_slice_175530 || forwards_ok_177553;
        bool index_certs_177555;
        
        if (!ok_or_empty_177554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175546, ":", (long long) ind_top_175547, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175570;
        int64_t loopres_175571;
        
        if (inParallel_163282) {
            double leq_lhs_179004 = ((double *) a_list_mem_181032.mem)[p_175542];
            double leq_rhs_179005 = ((double *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_179006 = leq_lhs_179004 <= leq_rhs_179005;
            double lowest_179007;
            
            if (defunc_0_leq_res_179006) {
                lowest_179007 = leq_lhs_179004;
            } else {
                lowest_179007 = leq_rhs_179005;
            }
            if (mem_181394_cached_sizze_182790 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181394, &mem_181394_cached_sizze_182790, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181396_cached_sizze_182791 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181396, &mem_181396_cached_sizze_182791, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180696 = 0; i_180696 < threads_163279; i_180696++) {
                int64_t index_primexp_180968 = add64((int64_t) 1, i_180696);
                int64_t zs_lhs_179012 = mul64(zt_rhs_176580, index_primexp_180968);
                int64_t index_179013 = sdiv64(zs_lhs_179012, partitionFunc_arg0_176557);
                bool cond_179014 = slt64(window_sizze_163278, index_179013);
                int64_t loop_over_179015;
                
                if (cond_179014) {
                    loop_over_179015 = window_sizze_163278;
                } else {
                    loop_over_179015 = index_179013;
                }
                
                int64_t loop_over_179016;
                
                if (cond_179014) {
                    int64_t loop_over_t_res_179017 = sub64(index_179013, window_sizze_163278);
                    
                    loop_over_179016 = loop_over_t_res_179017;
                } else {
                    loop_over_179016 = (int64_t) 0;
                }
                
                int64_t loop_over_179018;
                
                if (cond_179014) {
                    int64_t zm_lhs_179019 = sub64(index_179013, window_sizze_163278);
                    int64_t loop_over_t_res_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                    
                    loop_over_179018 = loop_over_t_res_179020;
                } else {
                    loop_over_179018 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179021;
                int64_t defunc_0_f_res_179022;
                int64_t defunc_0_f_res_179023;
                int64_t defunc_0_f_res_179024;
                bool loop_while_179025;
                int64_t p_179026;
                int64_t p_179027;
                int64_t p_179028;
                
                loop_while_179025 = 1;
                p_179026 = loop_over_179018;
                p_179027 = loop_over_179015;
                p_179028 = loop_over_179016;
                while (loop_while_179025) {
                    int64_t zs_lhs_179029 = sub64(p_179027, p_179026);
                    int64_t offset_179030 = sdiv64(zs_lhs_179029, (int64_t) 2);
                    int64_t ai_179031 = sub64(p_179027, offset_179030);
                    int64_t max_arg1_179032 = add64(p_179028, offset_179030);
                    int64_t max_res_179033 = smax64((int64_t) 0, max_arg1_179032);
                    bool cond_179034 = slt64((int64_t) 0, max_res_179033);
                    double b_prev_179035;
                    
                    if (cond_179034) {
                        int64_t tmp_179036 = sub64(max_res_179033, (int64_t) 1);
                        bool x_179037 = sle64((int64_t) 0, tmp_179036);
                        bool y_179038 = slt64(tmp_179036, window_sizze_163278);
                        bool bounds_check_179039 = x_179037 && y_179038;
                        bool index_certs_179040;
                        
                        if (!bounds_check_179039) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179036, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179041 = p_175543 + tmp_179036;
                        double b_prev_t_res_179042 = ((double *) b_list_mem_181033.mem)[slice_179041];
                        
                        b_prev_179035 = b_prev_t_res_179042;
                    } else {
                        b_prev_179035 = lowest_179007;
                    }
                    
                    bool cond_179043 = sle64(ai_179031, (int64_t) 0);
                    int64_t loopres_179044;
                    int64_t loopres_179045;
                    int64_t loopres_179046;
                    bool loopres_179047;
                    
                    if (cond_179043) {
                        loopres_179044 = p_179026;
                        loopres_179045 = (int64_t) 0;
                        loopres_179046 = max_res_179033;
                        loopres_179047 = 0;
                    } else {
                        bool cond_179048 = sle64(window_sizze_163278, max_res_179033);
                        int64_t loopres_f_res_179049;
                        int64_t loopres_f_res_179050;
                        int64_t loopres_f_res_179051;
                        bool loopres_f_res_179052;
                        
                        if (cond_179048) {
                            int64_t min_res_179054 = smin64(m_175531, ai_179031);
                            bool x_179055 = sle64((int64_t) 0, m_175531);
                            bool y_179056 = slt64(m_175531, window_sizze_163278);
                            bool bounds_check_179057 = x_179055 && y_179056;
                            bool index_certs_179058;
                            
                            if (!bounds_check_179057) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179061 = sle64((int64_t) 0, min_res_179054);
                            bool y_179062 = slt64(min_res_179054, window_sizze_163278);
                            bool bounds_check_179063 = x_179061 && y_179062;
                            bool index_certs_179064;
                            
                            if (!bounds_check_179063) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179054, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_179060 = ((double *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_179065 = p_175542 + min_res_179054;
                            double leq_rhs_179066 = ((double *) a_list_mem_181032.mem)[slice_179065];
                            bool defunc_0_leq_res_179067 = leq_lhs_179060 <= leq_rhs_179066;
                            int64_t loopres_f_res_t_res_179068;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179068 = ai_179031;
                            } else {
                                loopres_f_res_t_res_179068 = p_179027;
                            }
                            
                            bool x_179069 = !defunc_0_leq_res_179067;
                            int64_t loopres_f_res_t_res_179070;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179070 = window_sizze_163278;
                            } else {
                                int64_t tmp_179071 = sub64(m_175531, offset_179030);
                                
                                loopres_f_res_t_res_179070 = tmp_179071;
                            }
                            loopres_f_res_179049 = p_179026;
                            loopres_f_res_179050 = loopres_f_res_t_res_179068;
                            loopres_f_res_179051 = loopres_f_res_t_res_179070;
                            loopres_f_res_179052 = x_179069;
                        } else {
                            bool cond_179072 = sle64(window_sizze_163278, ai_179031);
                            int64_t loopres_f_res_f_res_179073;
                            int64_t loopres_f_res_f_res_179074;
                            int64_t loopres_f_res_f_res_179075;
                            bool loopres_f_res_f_res_179076;
                            
                            if (cond_179072) {
                                int64_t min_res_179078 = smin64(m_175531, max_res_179033);
                                bool x_179079 = sle64((int64_t) 0, m_175531);
                                bool y_179080 = slt64(m_175531, window_sizze_163278);
                                bool bounds_check_179081 = x_179079 && y_179080;
                                bool index_certs_179082;
                                
                                if (!bounds_check_179081) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179085 = sle64((int64_t) 0, min_res_179078);
                                bool y_179086 = slt64(min_res_179078, window_sizze_163278);
                                bool bounds_check_179087 = x_179085 && y_179086;
                                bool index_certs_179088;
                                
                                if (!bounds_check_179087) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179078, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_179084 = ((double *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_179089 = p_175543 + min_res_179078;
                                double leq_rhs_179090 = ((double *) b_list_mem_181033.mem)[slice_179089];
                                bool defunc_0_leq_res_179091 = leq_lhs_179084 <= leq_rhs_179090;
                                int64_t loopres_f_res_f_res_t_res_179092;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179092 = max_res_179033;
                                } else {
                                    loopres_f_res_f_res_t_res_179092 = p_179028;
                                }
                                
                                bool x_179093 = !defunc_0_leq_res_179091;
                                int64_t loopres_f_res_f_res_t_res_179094;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179094 = window_sizze_163278;
                                } else {
                                    loopres_f_res_f_res_t_res_179094 = m_175531;
                                }
                                loopres_f_res_f_res_179073 = p_179026;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_t_res_179094;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_t_res_179092;
                                loopres_f_res_f_res_179076 = x_179093;
                            } else {
                                bool cond_179095 = sle64(p_179027, p_179026);
                                int64_t loopres_f_res_f_res_f_res_179096;
                                int64_t loopres_f_res_f_res_f_res_179097;
                                int64_t loopres_f_res_f_res_f_res_179098;
                                bool loopres_f_res_f_res_f_res_179099;
                                
                                if (cond_179095) {
                                    bool cond_179100 = slt64(ai_179031, window_sizze_163278);
                                    int64_t ai_179101;
                                    
                                    if (cond_179100) {
                                        ai_179101 = ai_179031;
                                    } else {
                                        ai_179101 = m_175531;
                                    }
                                    
                                    bool x_179114 = sle64((int64_t) 0, ai_179101);
                                    bool y_179115 = slt64(ai_179101, window_sizze_163278);
                                    bool bounds_check_179116 = x_179114 && y_179115;
                                    bool index_certs_179117;
                                    
                                    if (!bounds_check_179116) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179101, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_179103;
                                    
                                    if (cond_179034) {
                                        int64_t tmp_179104 = sub64(max_res_179033, (int64_t) 1);
                                        bool x_179105 = sle64((int64_t) 0, tmp_179104);
                                        bool y_179106 = slt64(tmp_179104, window_sizze_163278);
                                        bool bounds_check_179107 = x_179105 && y_179106;
                                        bool index_certs_179108;
                                        
                                        if (!bounds_check_179107) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179104, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179109 = p_175543 + tmp_179104;
                                        double b_prev_t_res_179110 = ((double *) b_list_mem_181033.mem)[slice_179109];
                                        
                                        b_prev_179103 = b_prev_t_res_179110;
                                    } else {
                                        bool index_certs_179112;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179103 = leq_rhs_179005;
                                    }
                                    
                                    int64_t slice_179118 = p_175542 + ai_179101;
                                    double gt_lhs_179119 = ((double *) a_list_mem_181032.mem)[slice_179118];
                                    bool defunc_0_gt_res_179120 = b_prev_179103 < gt_lhs_179119;
                                    int64_t defunc_0_partFunc_sequential_search_res_179121;
                                    int64_t defunc_0_partFunc_sequential_search_res_179122;
                                    
                                    if (defunc_0_gt_res_179120) {
                                        int64_t zl_rhs_179123 = sub64(window_sizze_163278, max_res_179033);
                                        bool loop_cond_179124 = slt64((int64_t) 0, zl_rhs_179123);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179125;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179127;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179128;
                                        bool loop_while_179129;
                                        int64_t p_179130;
                                        int64_t p_179131;
                                        int64_t p_179132;
                                        
                                        loop_while_179129 = loop_cond_179124;
                                        p_179130 = ai_179101;
                                        p_179131 = max_res_179033;
                                        p_179132 = (int64_t) 0;
                                        while (loop_while_179129) {
                                            int64_t i_a_179133 = sub64(ai_179101, p_179132);
                                            int64_t i_b_179134 = add64(max_res_179033, p_179132);
                                            int64_t leq_lhs_179135 = sub64(i_a_179133, (int64_t) 1);
                                            bool x_179136 = sle64((int64_t) 0, leq_lhs_179135);
                                            bool y_179137 = slt64(leq_lhs_179135, window_sizze_163278);
                                            bool bounds_check_179138 = x_179136 && y_179137;
                                            bool index_certs_179139;
                                            
                                            if (!bounds_check_179138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179135, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179142 = sle64((int64_t) 0, i_b_179134);
                                            bool y_179143 = slt64(i_b_179134, window_sizze_163278);
                                            bool bounds_check_179144 = x_179142 && y_179143;
                                            bool index_certs_179145;
                                            
                                            if (!bounds_check_179144) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179134, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179140 = p_175542 + leq_lhs_179135;
                                            double leq_lhs_179141 = ((double *) a_list_mem_181032.mem)[slice_179140];
                                            int64_t slice_179146 = p_175543 + i_b_179134;
                                            double leq_rhs_179147 = ((double *) b_list_mem_181033.mem)[slice_179146];
                                            bool defunc_0_leq_res_179148 = leq_lhs_179141 <= leq_rhs_179147;
                                            int64_t loopres_179149;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179149 = i_a_179133;
                                            } else {
                                                loopres_179149 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179150;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179150 = i_b_179134;
                                            } else {
                                                loopres_179150 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179151;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179151 = zl_rhs_179123;
                                            } else {
                                                int64_t tmp_179152 = add64((int64_t) 1, p_179132);
                                                
                                                loopres_179151 = tmp_179152;
                                            }
                                            
                                            bool loop_cond_179153 = slt64(loopres_179151, zl_rhs_179123);
                                            bool loop_while_tmp_182465 = loop_cond_179153;
                                            int64_t p_tmp_182466 = loopres_179149;
                                            int64_t p_tmp_182467 = loopres_179150;
                                            int64_t p_tmp_182468 = loopres_179151;
                                            
                                            loop_while_179129 = loop_while_tmp_182465;
                                            p_179130 = p_tmp_182466;
                                            p_179131 = p_tmp_182467;
                                            p_179132 = p_tmp_182468;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179125 = loop_while_179129;
                                        defunc_0_partFunc_sequential_search_res_t_res_179126 = p_179130;
                                        defunc_0_partFunc_sequential_search_res_t_res_179127 = p_179131;
                                        defunc_0_partFunc_sequential_search_res_t_res_179128 = p_179132;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_t_res_179127;
                                    } else {
                                        int64_t zl_rhs_179154 = sub64(max_res_179033, (int64_t) 1);
                                        bool loop_cond_179155 = slt64((int64_t) 0, zl_rhs_179154);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179156;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179158;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179159;
                                        bool loop_while_179160;
                                        int64_t p_179161;
                                        int64_t p_179162;
                                        int64_t p_179163;
                                        
                                        loop_while_179160 = loop_cond_179155;
                                        p_179161 = ai_179101;
                                        p_179162 = max_res_179033;
                                        p_179163 = (int64_t) 0;
                                        while (loop_while_179160) {
                                            int64_t zp_lhs_179164 = add64(ai_179101, p_179163);
                                            int64_t hi_a_179165 = add64((int64_t) 1, zp_lhs_179164);
                                            bool cond_179166 = slt64(hi_a_179165, window_sizze_163278);
                                            int64_t i_a_179167;
                                            
                                            if (cond_179166) {
                                                i_a_179167 = hi_a_179165;
                                            } else {
                                                i_a_179167 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_179169 = sub64(max_res_179033, p_179163);
                                            int64_t i_b_179170 = sub64(zm_lhs_179169, (int64_t) 1);
                                            bool x_179171 = sle64((int64_t) 0, i_a_179167);
                                            bool y_179172 = slt64(i_a_179167, window_sizze_163278);
                                            bool bounds_check_179173 = x_179171 && y_179172;
                                            bool index_certs_179174;
                                            
                                            if (!bounds_check_179173) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179167, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179177 = sle64((int64_t) 0, i_b_179170);
                                            bool y_179178 = slt64(i_b_179170, window_sizze_163278);
                                            bool bounds_check_179179 = x_179177 && y_179178;
                                            bool index_certs_179180;
                                            
                                            if (!bounds_check_179179) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179170, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179175 = p_175542 + i_a_179167;
                                            double gt_lhs_179176 = ((double *) a_list_mem_181032.mem)[slice_179175];
                                            int64_t slice_179181 = p_175543 + i_b_179170;
                                            double gt_rhs_179182 = ((double *) b_list_mem_181033.mem)[slice_179181];
                                            bool defunc_0_gt_res_179183 = gt_rhs_179182 < gt_lhs_179176;
                                            int64_t loopres_179184;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179184 = i_a_179167;
                                            } else {
                                                loopres_179184 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179185;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179185 = zm_lhs_179169;
                                            } else {
                                                loopres_179185 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179186;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179186 = zl_rhs_179154;
                                            } else {
                                                int64_t tmp_179187 = add64((int64_t) 1, p_179163);
                                                
                                                loopres_179186 = tmp_179187;
                                            }
                                            
                                            bool loop_cond_179188 = slt64(loopres_179186, zl_rhs_179154);
                                            bool loop_while_tmp_182469 = loop_cond_179188;
                                            int64_t p_tmp_182470 = loopres_179184;
                                            int64_t p_tmp_182471 = loopres_179185;
                                            int64_t p_tmp_182472 = loopres_179186;
                                            
                                            loop_while_179160 = loop_while_tmp_182469;
                                            p_179161 = p_tmp_182470;
                                            p_179162 = p_tmp_182471;
                                            p_179163 = p_tmp_182472;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179156 = loop_while_179160;
                                        defunc_0_partFunc_sequential_search_res_f_res_179157 = p_179161;
                                        defunc_0_partFunc_sequential_search_res_f_res_179158 = p_179162;
                                        defunc_0_partFunc_sequential_search_res_f_res_179159 = p_179163;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_f_res_179158;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = p_179026;
                                    loopres_f_res_f_res_f_res_179097 = defunc_0_partFunc_sequential_search_res_179121;
                                    loopres_f_res_f_res_f_res_179098 = defunc_0_partFunc_sequential_search_res_179122;
                                    loopres_f_res_f_res_f_res_179099 = 0;
                                } else {
                                    bool x_179189 = sle64((int64_t) 0, ai_179031);
                                    bool y_179190 = slt64(ai_179031, window_sizze_163278);
                                    bool bounds_check_179191 = x_179189 && y_179190;
                                    bool index_certs_179192;
                                    
                                    if (!bounds_check_179191) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179031, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179193 = p_175542 + ai_179031;
                                    double gt_lhs_179194 = ((double *) a_list_mem_181032.mem)[slice_179193];
                                    bool defunc_0_gt_res_179195 = b_prev_179035 < gt_lhs_179194;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179196;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179197;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179198;
                                    bool loopres_f_res_f_res_f_res_f_res_179199;
                                    
                                    if (defunc_0_gt_res_179195) {
                                        int64_t leq_lhs_179200 = sub64(ai_179031, (int64_t) 1);
                                        bool x_179201 = sle64((int64_t) 0, leq_lhs_179200);
                                        bool y_179202 = slt64(leq_lhs_179200, window_sizze_163278);
                                        bool bounds_check_179203 = x_179201 && y_179202;
                                        bool index_certs_179204;
                                        
                                        if (!bounds_check_179203) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179200, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179207 = sle64((int64_t) 0, max_res_179033);
                                        bool y_179208 = slt64(max_res_179033, window_sizze_163278);
                                        bool bounds_check_179209 = x_179207 && y_179208;
                                        bool index_certs_179210;
                                        
                                        if (!bounds_check_179209) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179033, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179205 = p_175542 + leq_lhs_179200;
                                        double leq_lhs_179206 = ((double *) a_list_mem_181032.mem)[slice_179205];
                                        int64_t slice_179211 = p_175543 + max_res_179033;
                                        double leq_rhs_179212 = ((double *) b_list_mem_181033.mem)[slice_179211];
                                        bool defunc_0_leq_res_179213 = leq_lhs_179206 <= leq_rhs_179212;
                                        bool x_179214 = !defunc_0_leq_res_179213;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = ai_179031;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = leq_lhs_179200;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = max_res_179033;
                                        } else {
                                            int64_t tmp_179217 = add64((int64_t) 1, max_res_179033);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = tmp_179217;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179196 = p_179026;
                                        loopres_f_res_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        loopres_f_res_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        loopres_f_res_f_res_f_res_f_res_179199 = x_179214;
                                    } else {
                                        int64_t tmp_179218 = add64((int64_t) 1, ai_179031);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179196 = tmp_179218;
                                        loopres_f_res_f_res_f_res_f_res_179197 = p_179027;
                                        loopres_f_res_f_res_f_res_f_res_179198 = p_179028;
                                        loopres_f_res_f_res_f_res_f_res_179199 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = loopres_f_res_f_res_f_res_f_res_179196;
                                    loopres_f_res_f_res_f_res_179097 = loopres_f_res_f_res_f_res_f_res_179197;
                                    loopres_f_res_f_res_f_res_179098 = loopres_f_res_f_res_f_res_f_res_179198;
                                    loopres_f_res_f_res_f_res_179099 = loopres_f_res_f_res_f_res_f_res_179199;
                                }
                                loopres_f_res_f_res_179073 = loopres_f_res_f_res_f_res_179096;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_f_res_179097;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_f_res_179098;
                                loopres_f_res_f_res_179076 = loopres_f_res_f_res_f_res_179099;
                            }
                            loopres_f_res_179049 = loopres_f_res_f_res_179073;
                            loopres_f_res_179050 = loopres_f_res_f_res_179074;
                            loopres_f_res_179051 = loopres_f_res_f_res_179075;
                            loopres_f_res_179052 = loopres_f_res_f_res_179076;
                        }
                        loopres_179044 = loopres_f_res_179049;
                        loopres_179045 = loopres_f_res_179050;
                        loopres_179046 = loopres_f_res_179051;
                        loopres_179047 = loopres_f_res_179052;
                    }
                    
                    bool loop_while_tmp_182461 = loopres_179047;
                    int64_t p_tmp_182462 = loopres_179044;
                    int64_t p_tmp_182463 = loopres_179045;
                    int64_t p_tmp_182464 = loopres_179046;
                    
                    loop_while_179025 = loop_while_tmp_182461;
                    p_179026 = p_tmp_182462;
                    p_179027 = p_tmp_182463;
                    p_179028 = p_tmp_182464;
                }
                defunc_0_f_res_179021 = loop_while_179025;
                defunc_0_f_res_179022 = p_179026;
                defunc_0_f_res_179023 = p_179027;
                defunc_0_f_res_179024 = p_179028;
                ((int64_t *) mem_181394)[i_180696] = defunc_0_f_res_179023;
                ((int64_t *) mem_181396)[i_180696] = defunc_0_f_res_179024;
            }
            if (mem_181411_cached_sizze_182792 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181411, &mem_181411_cached_sizze_182792, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181413_cached_sizze_182793 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581) {
                err = lexical_realloc(ctx, &mem_181413, &mem_181413_cached_sizze_182793, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_182794 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_182794, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181419_cached_sizze_182795 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181419, &mem_181419_cached_sizze_182795, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180762 = 0; i_180762 < threads_163279; i_180762++) {
                bool y_179232 = slt64(i_180762, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool index_certs_179234;
                
                if (!y_179232) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180762, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179235 = sle64((int64_t) 1, i_180762);
                int64_t index_concat_i_179236 = sub64(i_180762, (int64_t) 1);
                int64_t index_concat_179237;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179238 = ((int64_t *) mem_181394)[index_concat_i_179236];
                    
                    index_concat_179237 = x_179238;
                } else {
                    index_concat_179237 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179239;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179239 = index_concat_179237;
                } else {
                    index_concat_branch_179239 = (int64_t) 0;
                }
                
                int64_t index_concat_179240;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179241 = ((int64_t *) mem_181396)[index_concat_i_179236];
                    
                    index_concat_179240 = x_179241;
                } else {
                    index_concat_179240 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179242;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179242 = index_concat_179240;
                } else {
                    index_concat_branch_179242 = (int64_t) 0;
                }
                
                int64_t ubs_179243 = add64((int64_t) 1, i_180762);
                bool x_179244 = sle64((int64_t) 0, ubs_179243);
                bool y_179245 = slt64(ubs_179243, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_179246 = x_179244 && y_179245;
                bool index_certs_179247;
                
                if (!bounds_check_179246) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179243, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179248 = sle64((int64_t) 1, ubs_179243);
                int64_t index_concat_179249;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179250 = ((int64_t *) mem_181394)[i_180762];
                    
                    index_concat_179249 = x_179250;
                } else {
                    index_concat_179249 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179251;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179251 = index_concat_179249;
                } else {
                    index_concat_branch_179251 = (int64_t) 0;
                }
                
                int64_t index_concat_179252;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179253 = ((int64_t *) mem_181396)[i_180762];
                    
                    index_concat_179252 = x_179253;
                } else {
                    index_concat_179252 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179254;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179254 = index_concat_179252;
                } else {
                    index_concat_branch_179254 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 = sub64(index_concat_branch_179254, index_concat_branch_179242);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 = sub64(index_concat_branch_179251, index_concat_branch_179239);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t zm_lhs_179258 = add64(index_concat_branch_179251, index_concat_branch_179254);
                int64_t zm_rhs_179259 = add64(index_concat_branch_179239, index_concat_branch_179242);
                int64_t card_179260 = sub64(zm_lhs_179258, zm_rhs_179259);
                bool empty_slice_179261 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 == (int64_t) 0;
                int64_t m_179262 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 1);
                int64_t i_p_m_t_s_179263 = add64(index_concat_branch_179239, m_179262);
                bool zzero_leq_i_p_m_t_s_179264 = sle64((int64_t) 0, i_p_m_t_s_179263);
                bool i_p_m_t_s_leq_w_179265 = slt64(i_p_m_t_s_179263, window_sizze_163278);
                bool zzero_lte_i_179266 = sle64((int64_t) 0, index_concat_branch_179239);
                bool i_lte_j_179267 = sle64(index_concat_branch_179239, index_concat_branch_179251);
                bool y_179268 = i_p_m_t_s_leq_w_179265 && zzero_lte_i_179266;
                bool y_179269 = zzero_leq_i_p_m_t_s_179264 && y_179268;
                bool forwards_ok_179270 = i_lte_j_179267 && y_179269;
                bool ok_or_empty_179271 = empty_slice_179261 || forwards_ok_179270;
                bool index_certs_179272;
                
                if (!ok_or_empty_179271) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179239, ":", (long long) index_concat_branch_179251, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179273 = slt64(index_concat_branch_179251, index_concat_branch_179239);
                bool valid_179274 = !bounds_invalid_upwards_179273;
                bool range_valid_c_179275;
                
                if (!valid_179274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179239, "..<", (long long) index_concat_branch_179251, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179280 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 == (int64_t) 0;
                int64_t m_179281 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, (int64_t) 1);
                int64_t i_p_m_t_s_179282 = add64(index_concat_branch_179242, m_179281);
                bool zzero_leq_i_p_m_t_s_179283 = sle64((int64_t) 0, i_p_m_t_s_179282);
                bool i_p_m_t_s_leq_w_179284 = slt64(i_p_m_t_s_179282, window_sizze_163278);
                bool zzero_lte_i_179285 = sle64((int64_t) 0, index_concat_branch_179242);
                bool i_lte_j_179286 = sle64(index_concat_branch_179242, index_concat_branch_179254);
                bool y_179287 = i_p_m_t_s_leq_w_179284 && zzero_lte_i_179285;
                bool y_179288 = zzero_leq_i_p_m_t_s_179283 && y_179287;
                bool forwards_ok_179289 = i_lte_j_179286 && y_179288;
                bool ok_or_empty_179290 = empty_slice_179280 || forwards_ok_179289;
                bool index_certs_179291;
                
                if (!ok_or_empty_179290) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179242, ":", (long long) index_concat_branch_179254, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179292 = slt64(index_concat_branch_179254, index_concat_branch_179242);
                bool valid_179293 = !bounds_invalid_upwards_179292;
                bool range_valid_c_179294;
                
                if (!valid_179293) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179242, "..<", (long long) index_concat_branch_179254, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181448 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool cond_179302 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zs_lhs_179303 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zp_rhs_179304 = sdiv_safe64(zs_lhs_179303, (int64_t) 20);
                int64_t min_num_blocks_179305 = add64((int64_t) 1, zp_rhs_179304);
                bool loop_cond_179306 = slt64((int64_t) 1, min_num_blocks_179305);
                bool smallest_pow_2_geq_than_res_179307;
                int64_t smallest_pow_2_geq_than_res_179308;
                bool loop_while_179309;
                int64_t x_179310;
                
                loop_while_179309 = loop_cond_179306;
                x_179310 = (int64_t) 1;
                while (loop_while_179309) {
                    int64_t loopres_179311 = mul64((int64_t) 2, x_179310);
                    bool loop_cond_179312 = slt64(loopres_179311, min_num_blocks_179305);
                    bool loop_while_tmp_182477 = loop_cond_179312;
                    int64_t x_tmp_182478 = loopres_179311;
                    
                    loop_while_179309 = loop_while_tmp_182477;
                    x_179310 = x_tmp_182478;
                }
                smallest_pow_2_geq_than_res_179307 = loop_while_179309;
                smallest_pow_2_geq_than_res_179308 = x_179310;
                
                bool zzero_179313 = smallest_pow_2_geq_than_res_179308 == (int64_t) 0;
                bool nonzzero_179314 = !zzero_179313;
                bool protect_assert_disj_179315 = cond_179302 || nonzzero_179314;
                bool nonzzero_cert_179316;
                
                if (!protect_assert_disj_179315) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179317 = sdiv_safe64(zs_lhs_179303, smallest_pow_2_geq_than_res_179308);
                int64_t block_sizze_179318 = add64((int64_t) 1, zp_rhs_179317);
                bool y_179325 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                bool protect_assert_disj_182194 = cond_179302 || y_179325;
                bool index_certs_179326;
                
                if (!protect_assert_disj_182194) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179363 = slt64(smallest_pow_2_geq_than_res_179308, (int64_t) 0);
                bool valid_179364 = !bounds_invalid_upwards_179363;
                bool protect_assert_disj_182204 = cond_179302 || valid_179364;
                bool range_valid_c_179365;
                
                if (!protect_assert_disj_182204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179308, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179367 = slt64(block_sizze_179318, (int64_t) 0);
                bool valid_179368 = !bounds_invalid_upwards_179367;
                bool protect_assert_disj_182206 = cond_179302 || valid_179368;
                bool range_valid_c_179369;
                
                if (!protect_assert_disj_182206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179318, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179371 = sle64(block_sizze_179318, (int64_t) 1);
                int64_t tmp_179372 = sub64(block_sizze_179318, (int64_t) 2);
                bool bounds_invalid_upwards_179373 = slt64(tmp_179372, (int64_t) 0);
                bool valid_179375 = !bounds_invalid_upwards_179373;
                bool protect_assert_disj_179376 = cond_179371 || valid_179375;
                bool protect_assert_disj_182208 = cond_179302 || protect_assert_disj_179376;
                bool range_valid_c_179377;
                
                if (!protect_assert_disj_182208) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179372, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179957 = card_179260 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool empty_or_match_cert_179958;
                
                if (!dim_match_179957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] cannot match shape of type `[", (long long) card_179260, "](i8, i64, f64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179959 = card_179260 == (int64_t) 0;
                int64_t m_179960 = sub64(card_179260, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179961 = sle64((int64_t) 0, m_179960);
                bool i_p_m_t_s_leq_w_179962 = slt64(m_179960, card_179260);
                bool y_179963 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179962;
                bool ok_or_empty_179964 = empty_slice_179959 || y_179963;
                bool index_certs_179965;
                
                if (!ok_or_empty_179964) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) card_179260, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179966 = slt64(m_179960, perThread_175580);
                bool y_179967 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179966;
                bool ok_or_empty_179968 = empty_slice_179959 || y_179967;
                bool index_certs_179969;
                
                if (!ok_or_empty_179968) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182479 = 0; nest_i_182479 < perThread_175580; nest_i_182479++) {
                    ((int8_t *) mem_181413)[i_180762 * perThread_175580 + nest_i_182479] = (int8_t) -1;
                }
                for (int64_t nest_i_182480 = 0; nest_i_182480 < perThread_175580; nest_i_182480++) {
                    ((int64_t *) mem_181416)[i_180762 * perThread_175580 + nest_i_182480] = (int64_t) -1;
                }
                for (int64_t nest_i_182481 = 0; nest_i_182481 < perThread_175580; nest_i_182481++) {
                    ((double *) mem_181419)[i_180762 * perThread_175580 + nest_i_182481] = 0.0;
                }
                
                int64_t slice_179276 = p_175542 + index_concat_branch_179239;
                
                if (memblock_alloc(ctx, &mem_181447, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "mem_181447")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182482 = 0; nest_i_182482 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; nest_i_182482++) {
                    ((int8_t *) mem_181447.mem)[nest_i_182482] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181449, bytes_181448, "mem_181449")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182483 = 0; i_182483 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; i_182483++) {
                    int64_t x_182484 = index_concat_branch_179239 + i_182483 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[i_182483] = x_182484;
                }
                
                int64_t slice_179295 = p_175543 + index_concat_branch_179242;
                
                for (int64_t nest_i_182485 = 0; nest_i_182485 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; nest_i_182485++) {
                    ((int8_t *) mem_181447.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + nest_i_182485] = (int8_t) 1;
                }
                for (int64_t i_182486 = 0; i_182486 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; i_182486++) {
                    int64_t x_182487 = index_concat_branch_179242 + i_182486 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + i_182486] = x_182487;
                }
                
                int64_t tmp_offs_182488 = (int64_t) 0;
                
                if (!(tmp_offs_182488 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182488 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t tmp_offs_182489 = (int64_t) 0;
                
                if (!(tmp_offs_182489 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182489 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                if (memblock_alloc(ctx, &mem_181451, bytes_181448, "mem_181451")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182490 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181032.mem, slice_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181033.mem, slice_179295, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t flat_dim_179319 = smallest_pow_2_geq_than_res_179308 * block_sizze_179318;
                bool x_182189 = !cond_179302;
                int64_t greatest_divisor_leq_than_arg1_179323 = mul64((int64_t) 2, block_sizze_179318);
                int64_t merge_block_sizze_179324;
                
                if (x_182189) {
                    int64_t x_182191;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182191, (int64_t) 8, greatest_divisor_leq_than_arg1_179323) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179324 = x_182191;
                } else {
                    merge_block_sizze_179324 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179327 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 0);
                int8_t index_concat_branch_179328 = btoi_bool_i8(index_concat_cmp_179327);
                int64_t index_concat_i_179330 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t index_primexp_179331 = add64(index_concat_branch_179242, index_concat_i_179330);
                int64_t index_concat_branch_179329;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179329 = index_primexp_179331;
                } else {
                    index_concat_branch_179329 = index_concat_branch_179239;
                }
                
                bool x_182185 = !index_concat_cmp_179327;
                bool protect_cond_conj_182195 = x_182185 && x_182189;
                double index_concat_179337;
                
                if (protect_cond_conj_182195) {
                    double x_182187 = ((double *) a_list_mem_181032.mem)[slice_179276];
                    
                    index_concat_179337 = x_182187;
                } else {
                    index_concat_179337 = 0.0;
                }
                
                int64_t slice_179335 = p_175543 + index_primexp_179331;
                bool protect_cond_conj_182196 = index_concat_cmp_179327 && x_182189;
                double index_concat_179336;
                
                if (protect_cond_conj_182196) {
                    double x_182183 = ((double *) b_list_mem_181033.mem)[slice_179335];
                    
                    index_concat_179336 = x_182183;
                } else {
                    index_concat_179336 = 0.0;
                }
                
                double index_concat_branch_179332;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179332 = index_concat_179336;
                } else {
                    index_concat_branch_179332 = index_concat_179337;
                }
                
                int8_t defunc_0_reduce_res_179338;
                int64_t defunc_0_reduce_res_179339;
                double defunc_0_reduce_res_179340;
                
                if (x_182189) {
                    int8_t x_182197;
                    int64_t x_182198;
                    double x_182199;
                    int8_t redout_180699;
                    int64_t redout_180700;
                    double redout_180701;
                    
                    redout_180699 = index_concat_branch_179328;
                    redout_180700 = index_concat_branch_179329;
                    redout_180701 = index_concat_branch_179332;
                    for (int64_t i_180702 = 0; i_180702 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257; i_180702++) {
                        bool index_concat_cmp_180960 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, i_180702);
                        int8_t index_concat_branch_180964 = btoi_bool_i8(index_concat_cmp_180960);
                        int64_t index_concat_branch_180958;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180955 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t index_primexp_181008 = add64(index_concat_branch_179242, index_concat_i_180955);
                            
                            index_concat_branch_180958 = index_primexp_181008;
                        } else {
                            int64_t index_primexp_181010 = add64(index_concat_branch_179239, i_180702);
                            
                            index_concat_branch_180958 = index_primexp_181010;
                        }
                        
                        double index_concat_branch_180952;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180949 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t slice_181005 = slice_179295 + index_concat_i_180949;
                            double index_concat_180950 = ((double *) b_list_mem_181033.mem)[slice_181005];
                            
                            index_concat_branch_180952 = index_concat_180950;
                        } else {
                            int64_t slice_181006 = slice_179276 + i_180702;
                            double index_concat_180951 = ((double *) a_list_mem_181032.mem)[slice_181006];
                            
                            index_concat_branch_180952 = index_concat_180951;
                        }
                        
                        bool eq_x_y_181022 = redout_180699 == (int8_t) 1;
                        bool eq_x_zz_181023 = redout_180699 == (int8_t) 0;
                        bool p_and_eq_x_y_181024 = index_concat_cmp_180960 && eq_x_y_181022;
                        bool not_p_181025 = !index_concat_cmp_180960;
                        bool p_and_eq_x_y_181026 = eq_x_zz_181023 && not_p_181025;
                        bool cond_179350 = p_and_eq_x_y_181024 || p_and_eq_x_y_181026;
                        bool defunc_0_leq_res_t_res_179351 = sle64(redout_180700, index_concat_branch_180958);
                        bool defunc_0_leq_res_179352 = redout_180701 <= index_concat_branch_180952;
                        bool x_179353 = cond_179350 && defunc_0_leq_res_t_res_179351;
                        bool x_179354 = !cond_179350;
                        bool y_179355 = defunc_0_leq_res_179352 && x_179354;
                        bool defunc_0_leq_res_179356 = x_179353 || y_179355;
                        int8_t defunc_0_op_res_179357;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179357 = index_concat_branch_180964;
                        } else {
                            defunc_0_op_res_179357 = redout_180699;
                        }
                        
                        int64_t defunc_0_op_res_179358;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179358 = index_concat_branch_180958;
                        } else {
                            defunc_0_op_res_179358 = redout_180700;
                        }
                        
                        double defunc_0_op_res_179359;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179359 = index_concat_branch_180952;
                        } else {
                            defunc_0_op_res_179359 = redout_180701;
                        }
                        
                        int8_t redout_tmp_182491 = defunc_0_op_res_179357;
                        int64_t redout_tmp_182492 = defunc_0_op_res_179358;
                        double redout_tmp_182493 = defunc_0_op_res_179359;
                        
                        redout_180699 = redout_tmp_182491;
                        redout_180700 = redout_tmp_182492;
                        redout_180701 = redout_tmp_182493;
                    }
                    x_182197 = redout_180699;
                    x_182198 = redout_180700;
                    x_182199 = redout_180701;
                    defunc_0_reduce_res_179338 = x_182197;
                    defunc_0_reduce_res_179339 = x_182198;
                    defunc_0_reduce_res_179340 = x_182199;
                } else {
                    defunc_0_reduce_res_179338 = (int8_t) 0;
                    defunc_0_reduce_res_179339 = (int64_t) 0;
                    defunc_0_reduce_res_179340 = 0.0;
                }
                
                int64_t distance_179374 = add64((int64_t) 1, tmp_179372);
                int64_t binop_x_181454 = (int64_t) 8 * smallest_pow_2_geq_than_res_179308;
                int64_t bytes_181455 = block_sizze_179318 * binop_x_181454;
                int64_t bytes_181473 = (int64_t) 8 * block_sizze_179318;
                bool loop_cond_179500 = slt64(block_sizze_179318, flat_dim_179319);
                bool zzero_179501 = merge_block_sizze_179324 == (int64_t) 0;
                bool nonzzero_179502 = !zzero_179501;
                
                if (cond_179302) {
                    if (memblock_set(ctx, &ext_mem_181746, &mem_181447, "mem_181447") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &mem_181449, "mem_181449") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &mem_181451, "mem_181451") != 0)
                        return 1;
                } else {
                    if (mem_181453_cached_sizze_182796 < flat_dim_179319) {
                        err = lexical_realloc(ctx, &mem_181453, &mem_181453_cached_sizze_182796, flat_dim_179319);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181456_cached_sizze_182797 < bytes_181455) {
                        err = lexical_realloc(ctx, &mem_181456, &mem_181456_cached_sizze_182797, bytes_181455);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181459_cached_sizze_182798 < bytes_181455) {
                        err = lexical_realloc(ctx, &mem_181459, &mem_181459_cached_sizze_182798, bytes_181455);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181472_cached_sizze_182799 < block_sizze_179318) {
                        err = lexical_realloc(ctx, &mem_181472, &mem_181472_cached_sizze_182799, block_sizze_179318);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181474_cached_sizze_182800 < bytes_181473) {
                        err = lexical_realloc(ctx, &mem_181474, &mem_181474_cached_sizze_182800, bytes_181473);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_182801 < bytes_181473) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_182801, bytes_181473);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180719 = 0; i_180719 < smallest_pow_2_geq_than_res_179308; i_180719++) {
                        int64_t zp_lhs_179382 = mul64(block_sizze_179318, i_180719);
                        
                        for (int64_t i_180709 = 0; i_180709 < block_sizze_179318; i_180709++) {
                            int64_t k_179387 = add64(zp_lhs_179382, i_180709);
                            bool cond_179388 = slt64(k_179387, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                            int8_t lifted_lambda_res_179389;
                            int64_t lifted_lambda_res_179390;
                            double lifted_lambda_res_179391;
                            
                            if (cond_179388) {
                                bool x_179392 = sle64((int64_t) 0, k_179387);
                                bool bounds_check_179393 = cond_179388 && x_179392;
                                bool index_certs_179394;
                                
                                if (!bounds_check_179393) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179387, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179395 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, k_179387);
                                int8_t index_concat_branch_179396 = btoi_bool_i8(index_concat_cmp_179395);
                                int64_t index_concat_branch_179397;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179398 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t index_primexp_179399 = add64(index_concat_branch_179242, index_concat_i_179398);
                                    
                                    index_concat_branch_179397 = index_primexp_179399;
                                } else {
                                    int64_t index_primexp_179400 = add64(index_concat_branch_179239, k_179387);
                                    
                                    index_concat_branch_179397 = index_primexp_179400;
                                }
                                
                                double index_concat_branch_179401;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179402 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t slice_179403 = index_concat_branch_179242 + index_concat_i_179402;
                                    int64_t slice_179404 = p_175543 + slice_179403;
                                    double index_concat_179405 = ((double *) b_list_mem_181033.mem)[slice_179404];
                                    
                                    index_concat_branch_179401 = index_concat_179405;
                                } else {
                                    int64_t slice_179406 = index_concat_branch_179239 + k_179387;
                                    int64_t slice_179407 = p_175542 + slice_179406;
                                    double index_concat_179408 = ((double *) a_list_mem_181032.mem)[slice_179407];
                                    
                                    index_concat_branch_179401 = index_concat_179408;
                                }
                                lifted_lambda_res_179389 = index_concat_branch_179396;
                                lifted_lambda_res_179390 = index_concat_branch_179397;
                                lifted_lambda_res_179391 = index_concat_branch_179401;
                            } else {
                                lifted_lambda_res_179389 = defunc_0_reduce_res_179338;
                                lifted_lambda_res_179390 = defunc_0_reduce_res_179339;
                                lifted_lambda_res_179391 = defunc_0_reduce_res_179340;
                            }
                            ((int8_t *) mem_181472)[i_180709] = lifted_lambda_res_179389;
                            ((int64_t *) mem_181474)[i_180709] = lifted_lambda_res_179390;
                            ((double *) mem_181476)[i_180709] = lifted_lambda_res_179391;
                        }
                        if (!cond_179371) {
                            for (int64_t i_179418 = 0; i_179418 < distance_179374; i_179418++) {
                                int64_t gt_arg1_179422 = add64((int64_t) 1, i_179418);
                                bool x_179423 = sle64((int64_t) 0, gt_arg1_179422);
                                bool y_179424 = slt64(gt_arg1_179422, block_sizze_179318);
                                bool bounds_check_179425 = x_179423 && y_179424;
                                bool index_certs_179426;
                                
                                if (!bounds_check_179425) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179422, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179430 = slt64(i_179418, block_sizze_179318);
                                bool index_certs_179431;
                                
                                if (!y_179430) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179418, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179427 = ((int8_t *) mem_181472)[gt_arg1_179422];
                                int64_t gt_arg1_179428 = ((int64_t *) mem_181474)[gt_arg1_179422];
                                double gt_arg1_179429 = ((double *) mem_181476)[gt_arg1_179422];
                                int8_t gt_arg0_179432 = ((int8_t *) mem_181472)[i_179418];
                                int64_t gt_arg0_179433 = ((int64_t *) mem_181474)[i_179418];
                                double gt_arg0_179434 = ((double *) mem_181476)[i_179418];
                                bool cond_179435 = gt_arg0_179432 == gt_arg1_179427;
                                bool defunc_0_leq_res_t_res_179436 = sle64(gt_arg0_179433, gt_arg1_179428);
                                bool defunc_0_leq_res_179437 = gt_arg0_179434 <= gt_arg1_179429;
                                bool x_179438 = cond_179435 && defunc_0_leq_res_t_res_179436;
                                bool x_179439 = !cond_179435;
                                bool y_179440 = defunc_0_leq_res_179437 && x_179439;
                                bool defunc_0_leq_res_179441 = x_179438 || y_179440;
                                bool defunc_0_lifted_gt_res_179442 = !defunc_0_leq_res_179441;
                                bool s_179443;
                                int64_t s_179447;
                                bool loop_while_179448;
                                int64_t j_179452;
                                
                                loop_while_179448 = defunc_0_lifted_gt_res_179442;
                                j_179452 = i_179418;
                                while (loop_while_179448) {
                                    bool x_179453 = sle64((int64_t) 0, j_179452);
                                    bool y_179454 = slt64(j_179452, block_sizze_179318);
                                    bool bounds_check_179455 = x_179453 && y_179454;
                                    bool index_certs_179456;
                                    
                                    if (!bounds_check_179455) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179452, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179460 = add64((int64_t) 1, j_179452);
                                    bool x_179461 = sle64((int64_t) 0, copy_arg0_179460);
                                    bool y_179462 = slt64(copy_arg0_179460, block_sizze_179318);
                                    bool bounds_check_179463 = x_179461 && y_179462;
                                    bool index_certs_179464;
                                    
                                    if (!bounds_check_179463) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179460, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179457 = ((int8_t *) mem_181472)[j_179452];
                                    int64_t copy_arg0_179458 = ((int64_t *) mem_181474)[j_179452];
                                    double copy_arg0_179459 = ((double *) mem_181476)[j_179452];
                                    int8_t copy_arg0_179465 = ((int8_t *) mem_181472)[copy_arg0_179460];
                                    int64_t copy_arg0_179466 = ((int64_t *) mem_181474)[copy_arg0_179460];
                                    double copy_arg0_179467 = ((double *) mem_181476)[copy_arg0_179460];
                                    
                                    ((int8_t *) mem_181472)[j_179452] = copy_arg0_179465;
                                    ((int64_t *) mem_181474)[j_179452] = copy_arg0_179466;
                                    ((double *) mem_181476)[j_179452] = copy_arg0_179467;
                                    ((int8_t *) mem_181472)[copy_arg0_179460] = copy_arg0_179457;
                                    ((int64_t *) mem_181474)[copy_arg0_179460] = copy_arg0_179458;
                                    ((double *) mem_181476)[copy_arg0_179460] = copy_arg0_179459;
                                    
                                    int64_t tmp_179474 = sub64(j_179452, (int64_t) 1);
                                    bool cond_179475 = sle64((int64_t) 0, tmp_179474);
                                    bool loop_cond_179476;
                                    
                                    if (cond_179475) {
                                        bool y_179480 = slt64(tmp_179474, block_sizze_179318);
                                        bool bounds_check_179481 = cond_179475 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179474, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_181472)[j_179452];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_181474)[j_179452];
                                        double gt_arg1_179479 = ((double *) mem_181476)[j_179452];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_181472)[tmp_179474];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_181474)[tmp_179474];
                                        double gt_arg0_179485 = ((double *) mem_181476)[tmp_179474];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = gt_arg0_179485 <= gt_arg1_179479;
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_179476 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_179476 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182503 = loop_cond_179476;
                                    int64_t j_tmp_182507 = tmp_179474;
                                    
                                    loop_while_179448 = loop_while_tmp_182503;
                                    j_179452 = j_tmp_182507;
                                }
                                s_179443 = loop_while_179448;
                                s_179447 = j_179452;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181453, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181472, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181456, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181474, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181459, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181476, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                    }
                    if (memblock_alloc(ctx, &mem_181553, flat_dim_179319, "mem_181553")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181553.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint8_t *) mem_181453, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181557, bytes_181455, "mem_181557")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181557.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint64_t *) mem_181456, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181561, bytes_181455, "mem_181561")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181561.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint64_t *) mem_181459, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    
                    int64_t data_179503;
                    bool data_179504;
                    int64_t data_179508;
                    int64_t loop_dz2084Uz2082U_179509;
                    bool loop_while_179510;
                    int64_t stride_179514;
                    
                    if (memblock_set(ctx, &mem_param_181565, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181568, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181571, &mem_181561, "mem_181561") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179509 = flat_dim_179319;
                    loop_while_179510 = loop_cond_179500;
                    stride_179514 = block_sizze_179318;
                    while (loop_while_179510) {
                        int64_t next_stride_179515 = mul64((int64_t) 2, stride_179514);
                        bool zzero_179516 = next_stride_179515 == (int64_t) 0;
                        bool nonzzero_179517 = !zzero_179516;
                        bool nonzzero_cert_179518;
                        
                        if (!nonzzero_179517) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179519 = sdiv64(flat_dim_179319, next_stride_179515);
                        bool bounds_invalid_upwards_179520 = slt64(num_merges_179519, (int64_t) 0);
                        bool valid_179521 = !bounds_invalid_upwards_179520;
                        bool range_valid_c_179522;
                        
                        if (!valid_179521) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179519, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179524 = sub64(next_stride_179515, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179525 = sle64((int64_t) 0, m_179524);
                        bool cond_179527 = slt64(next_stride_179515, (int64_t) 10);
                        bool protect_assert_disj_179528 = nonzzero_179502 || cond_179527;
                        bool nonzzero_cert_179529;
                        
                        if (!protect_assert_disj_179528) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179530 = smod_safe64(next_stride_179515, merge_block_sizze_179324);
                        bool num_blocks_179531 = zeze_lhs_179530 == (int64_t) 0;
                        bool protect_assert_disj_179532 = cond_179527 || num_blocks_179531;
                        bool assert_c_179533;
                        
                        if (!protect_assert_disj_179532) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179534 = sdiv_safe64(next_stride_179515, merge_block_sizze_179324);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535 = add64((int64_t) 1, num_blocks_179534);
                        int64_t j_m_i_179536 = sub64(next_stride_179515, stride_179514);
                        int64_t flat_dim_179537 = merge_block_sizze_179324 * num_blocks_179534;
                        bool bounds_invalid_upwards_179538 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, (int64_t) 0);
                        bool empty_slice_179539 = j_m_i_179536 == (int64_t) 0;
                        int64_t m_179540 = sub64(j_m_i_179536, (int64_t) 1);
                        bool zzero_lte_i_179541 = sle64((int64_t) 0, stride_179514);
                        bool i_lte_j_179542 = sle64(stride_179514, next_stride_179515);
                        bool empty_slice_179543 = stride_179514 == (int64_t) 0;
                        int64_t m_179544 = sub64(stride_179514, (int64_t) 1);
                        bool bounds_invalid_upwards_179545 = slt64(num_blocks_179534, (int64_t) 0);
                        bool cond_179546 = slt64((int64_t) 0, stride_179514);
                        bool valid_179547 = !bounds_invalid_upwards_179538;
                        int64_t i_p_m_t_s_179548 = add64(stride_179514, m_179540);
                        bool zzero_leq_i_p_m_t_s_179549 = sle64((int64_t) 0, m_179544);
                        bool i_p_m_t_s_leq_w_179550 = slt64(m_179544, next_stride_179515);
                        bool valid_179551 = !bounds_invalid_upwards_179545;
                        bool i_p_m_t_s_leq_w_179552 = slt64(m_179524, flat_dim_179537);
                        bool y_179553 = slt64((int64_t) 0, j_m_i_179536);
                        bool protect_assert_disj_179554 = cond_179527 || valid_179547;
                        bool range_valid_c_179555;
                        
                        if (!protect_assert_disj_179554) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179556 = sle64((int64_t) 0, i_p_m_t_s_179548);
                        bool i_p_m_t_s_leq_w_179557 = slt64(i_p_m_t_s_179548, next_stride_179515);
                        bool y_179558 = zzero_leq_i_p_m_t_s_179549 && i_p_m_t_s_leq_w_179550;
                        bool protect_assert_disj_179559 = cond_179527 || valid_179551;
                        bool range_valid_c_179560;
                        
                        if (!protect_assert_disj_179559) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179534, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179561 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179552;
                        bool y_179562 = zzero_lte_i_179541 && i_p_m_t_s_leq_w_179557;
                        bool forwards_ok_179563 = zzero_lte_i_179541 && y_179558;
                        bool ok_or_empty_179564 = zzero_179516 || y_179561;
                        bool protect_assert_disj_179565 = cond_179546 || y_179553;
                        bool y_179566 = zzero_leq_i_p_m_t_s_179556 && y_179562;
                        bool ok_or_empty_179567 = empty_slice_179543 || forwards_ok_179563;
                        bool protect_assert_disj_179568 = cond_179527 || ok_or_empty_179564;
                        bool index_certs_179569;
                        
                        if (!protect_assert_disj_179568) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) flat_dim_179537, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179570 = !cond_179527;
                        bool protect_assert_disj_179571 = protect_assert_disj_179565 || loop_not_taken_179570;
                        bool index_certs_179572;
                        
                        if (!protect_assert_disj_179571) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179573 = i_lte_j_179542 && y_179566;
                        bool protect_assert_disj_179574 = cond_179527 || ok_or_empty_179567;
                        bool index_certs_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179576 = ok_or_empty_179567 || loop_not_taken_179570;
                        bool index_certs_179577;
                        
                        if (!protect_assert_disj_179576) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179578 = empty_slice_179539 || forwards_ok_179573;
                        bool protect_assert_disj_179579 = cond_179527 || ok_or_empty_179578;
                        bool index_certs_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179581 = loop_not_taken_179570 || ok_or_empty_179578;
                        bool index_certs_179582;
                        
                        if (!protect_assert_disj_179581) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181572 = next_stride_179515 * num_merges_179519;
                        int64_t binop_x_181574 = (int64_t) 8 * num_merges_179519;
                        int64_t bytes_181575 = next_stride_179515 * binop_x_181574;
                        bool i_lte_j_179526 = sle64((int64_t) 0, next_stride_179515);
                        
                        if (mem_181573_cached_sizze_182802 < bytes_181572) {
                            err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_182802, bytes_181572);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181576_cached_sizze_182803 < bytes_181575) {
                            err = lexical_realloc(ctx, &mem_181576, &mem_181576_cached_sizze_182803, bytes_181575);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181579_cached_sizze_182804 < bytes_181575) {
                            err = lexical_realloc(ctx, &mem_181579, &mem_181579_cached_sizze_182804, bytes_181575);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181592 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535;
                        int64_t binop_x_181610 = (int64_t) 8 * num_blocks_179534;
                        int64_t bytes_181611 = merge_block_sizze_179324 * binop_x_181610;
                        int64_t bytes_181675 = (int64_t) 16 * stride_179514;
                        
                        for (int64_t i_180746 = 0; i_180746 < num_merges_179519; i_180746++) {
                            int64_t start_179587 = mul64(next_stride_179515, i_180746);
                            int64_t j_m_i_179588 = sub64(loop_dz2084Uz2082U_179509, start_179587);
                            bool empty_slice_179589 = j_m_i_179588 == (int64_t) 0;
                            int64_t m_179590 = sub64(j_m_i_179588, (int64_t) 1);
                            int64_t i_p_m_t_s_179591 = add64(start_179587, m_179590);
                            bool zzero_leq_i_p_m_t_s_179592 = sle64((int64_t) 0, i_p_m_t_s_179591);
                            bool i_p_m_t_s_leq_w_179593 = slt64(i_p_m_t_s_179591, loop_dz2084Uz2082U_179509);
                            bool zzero_lte_i_179594 = sle64((int64_t) 0, start_179587);
                            bool i_lte_j_179595 = sle64(start_179587, loop_dz2084Uz2082U_179509);
                            bool y_179596 = i_p_m_t_s_leq_w_179593 && zzero_lte_i_179594;
                            bool y_179597 = zzero_leq_i_p_m_t_s_179592 && y_179596;
                            bool forwards_ok_179598 = i_lte_j_179595 && y_179597;
                            bool ok_or_empty_179599 = empty_slice_179589 || forwards_ok_179598;
                            bool index_certs_179600;
                            
                            if (!ok_or_empty_179599) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179587, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179509, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179601 = slt64(m_179524, j_m_i_179588);
                            bool y_179602 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179601;
                            bool forwards_ok_179603 = i_lte_j_179526 && y_179602;
                            bool ok_or_empty_179604 = zzero_179516 || forwards_ok_179603;
                            bool index_certs_179605;
                            
                            if (!ok_or_empty_179604) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) j_m_i_179588, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179527) {
                                int8_t dummy_179609;
                                int64_t dummy_179610;
                                double dummy_179611;
                                
                                if (cond_179546) {
                                    int8_t head_res_179612 = ((int8_t *) mem_param_181565.mem)[start_179587];
                                    int64_t head_res_179613 = ((int64_t *) mem_param_181568.mem)[start_179587];
                                    double head_res_179614 = ((double *) mem_param_181571.mem)[start_179587];
                                    
                                    dummy_179609 = head_res_179612;
                                    dummy_179610 = head_res_179613;
                                    dummy_179611 = head_res_179614;
                                } else {
                                    int64_t slice_179615 = stride_179514 + start_179587;
                                    int8_t head_res_179616 = ((int8_t *) mem_param_181565.mem)[slice_179615];
                                    int64_t head_res_179617 = ((int64_t *) mem_param_181568.mem)[slice_179615];
                                    double head_res_179618 = ((double *) mem_param_181571.mem)[slice_179615];
                                    
                                    dummy_179609 = head_res_179616;
                                    dummy_179610 = head_res_179617;
                                    dummy_179611 = head_res_179618;
                                }
                                if (memblock_alloc(ctx, &mem_181674, next_stride_179515, "mem_181674")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182520 = 0; nest_i_182520 < next_stride_179515; nest_i_182520++) {
                                    ((int8_t *) mem_181674.mem)[nest_i_182520] = dummy_179609;
                                }
                                if (memblock_alloc(ctx, &mem_181676, bytes_181675, "mem_181676")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182521 = 0; nest_i_182521 < next_stride_179515; nest_i_182521++) {
                                    ((int64_t *) mem_181676.mem)[nest_i_182521] = dummy_179610;
                                }
                                if (memblock_alloc(ctx, &mem_181678, bytes_181675, "mem_181678")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182522 = 0; nest_i_182522 < next_stride_179515; nest_i_182522++) {
                                    ((double *) mem_181678.mem)[nest_i_182522] = dummy_179611;
                                }
                                
                                int64_t data_179622;
                                int64_t i_179627 = (int64_t) 0;
                                
                                for (int64_t k_179626 = 0; k_179626 < next_stride_179515; k_179626++) {
                                    int64_t j_179631 = sub64(k_179626, i_179627);
                                    bool cond_179632 = j_179631 == j_m_i_179536;
                                    bool cond_179633;
                                    
                                    if (cond_179632) {
                                        cond_179633 = 1;
                                    } else {
                                        bool cond_179634 = slt64(i_179627, stride_179514);
                                        bool cond_f_res_179635;
                                        
                                        if (cond_179634) {
                                            bool x_179636 = sle64((int64_t) 0, j_179631);
                                            bool y_179637 = slt64(j_179631, j_m_i_179536);
                                            bool bounds_check_179638 = x_179636 && y_179637;
                                            bool index_certs_179639;
                                            
                                            if (!bounds_check_179638) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179645 = sle64((int64_t) 0, i_179627);
                                            bool bounds_check_179646 = cond_179634 && x_179645;
                                            bool index_certs_179647;
                                            
                                            if (!bounds_check_179646) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179640 = stride_179514 + j_179631;
                                            int64_t slice_179641 = start_179587 + slice_179640;
                                            int8_t leq_arg1_179642 = ((int8_t *) mem_param_181565.mem)[slice_179641];
                                            int64_t leq_arg1_179643 = ((int64_t *) mem_param_181568.mem)[slice_179641];
                                            double leq_arg1_179644 = ((double *) mem_param_181571.mem)[slice_179641];
                                            int64_t slice_179648 = start_179587 + i_179627;
                                            int8_t leq_arg0_179649 = ((int8_t *) mem_param_181565.mem)[slice_179648];
                                            int64_t leq_arg0_179650 = ((int64_t *) mem_param_181568.mem)[slice_179648];
                                            double leq_arg0_179651 = ((double *) mem_param_181571.mem)[slice_179648];
                                            bool cond_179652 = leq_arg0_179649 == leq_arg1_179642;
                                            bool defunc_0_leq_res_t_res_179653 = sle64(leq_arg0_179650, leq_arg1_179643);
                                            bool defunc_0_leq_res_179654 = leq_arg0_179651 <= leq_arg1_179644;
                                            bool x_179655 = cond_179652 && defunc_0_leq_res_t_res_179653;
                                            bool x_179656 = !cond_179652;
                                            bool y_179657 = defunc_0_leq_res_179654 && x_179656;
                                            bool defunc_0_leq_res_179658 = x_179655 || y_179657;
                                            
                                            cond_f_res_179635 = defunc_0_leq_res_179658;
                                        } else {
                                            cond_f_res_179635 = 0;
                                        }
                                        cond_179633 = cond_f_res_179635;
                                    }
                                    
                                    int64_t loopres_179659;
                                    int8_t loopres_179660;
                                    int64_t loopres_179661;
                                    double loopres_179662;
                                    
                                    if (cond_179633) {
                                        bool x_179664 = sle64((int64_t) 0, i_179627);
                                        bool y_179665 = slt64(i_179627, stride_179514);
                                        bool bounds_check_179666 = x_179664 && y_179665;
                                        bool index_certs_179667;
                                        
                                        if (!bounds_check_179666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179663 = add64((int64_t) 1, i_179627);
                                        int64_t slice_179668 = start_179587 + i_179627;
                                        int8_t tmp_179669 = ((int8_t *) mem_param_181565.mem)[slice_179668];
                                        int64_t tmp_179670 = ((int64_t *) mem_param_181568.mem)[slice_179668];
                                        double tmp_179671 = ((double *) mem_param_181571.mem)[slice_179668];
                                        
                                        loopres_179659 = tmp_179663;
                                        loopres_179660 = tmp_179669;
                                        loopres_179661 = tmp_179670;
                                        loopres_179662 = tmp_179671;
                                    } else {
                                        bool x_179672 = sle64((int64_t) 0, j_179631);
                                        bool y_179673 = slt64(j_179631, j_m_i_179536);
                                        bool bounds_check_179674 = x_179672 && y_179673;
                                        bool index_certs_179675;
                                        
                                        if (!bounds_check_179674) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179676 = stride_179514 + j_179631;
                                        int64_t slice_179677 = start_179587 + slice_179676;
                                        int8_t tmp_179678 = ((int8_t *) mem_param_181565.mem)[slice_179677];
                                        int64_t tmp_179679 = ((int64_t *) mem_param_181568.mem)[slice_179677];
                                        double tmp_179680 = ((double *) mem_param_181571.mem)[slice_179677];
                                        
                                        loopres_179659 = i_179627;
                                        loopres_179660 = tmp_179678;
                                        loopres_179661 = tmp_179679;
                                        loopres_179662 = tmp_179680;
                                    }
                                    ((int8_t *) mem_181674.mem)[k_179626] = loopres_179660;
                                    ((int64_t *) mem_181676.mem)[k_179626] = loopres_179661;
                                    ((double *) mem_181678.mem)[k_179626] = loopres_179662;
                                    
                                    int64_t i_tmp_182523 = loopres_179659;
                                    
                                    i_179627 = i_tmp_182523;
                                }
                                data_179622 = i_179627;
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181674, "mem_181674") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181676, "mem_181676") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181678, "mem_181678") != 0)
                                    return 1;
                            } else {
                                if (mem_181593_cached_sizze_182805 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_182805, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181595_cached_sizze_182806 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181595, &mem_181595_cached_sizze_182806, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180727 = 0; i_180727 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535; i_180727++) {
                                    int64_t split_count_arg3_179688 = mul64(merge_block_sizze_179324, i_180727);
                                    int64_t defunc_0_split_count_res_179689;
                                    int64_t defunc_0_split_count_res_179690;
                                    int64_t defunc_0_split_count_res_179691;
                                    int64_t defunc_0_split_count_res_179692;
                                    int64_t defunc_0_split_count_res_179693;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_179689, &defunc_0_split_count_res_179690, &defunc_0_split_count_res_179691, &defunc_0_split_count_res_179692, &defunc_0_split_count_res_179693, (int64_t) 0, stride_179514, (int64_t) 0, j_m_i_179536, split_count_arg3_179688) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179694 = slt64((int64_t) 0, defunc_0_split_count_res_179693);
                                    bool defunc_0_split_count_res_179695;
                                    int64_t defunc_0_split_count_res_179696;
                                    int64_t defunc_0_split_count_res_179697;
                                    int64_t defunc_0_split_count_res_179698;
                                    int64_t defunc_0_split_count_res_179699;
                                    int64_t defunc_0_split_count_res_179700;
                                    bool loop_while_179701;
                                    int64_t ss_179702;
                                    int64_t ss_179703;
                                    int64_t tt_179704;
                                    int64_t tt_179705;
                                    int64_t count_179706;
                                    
                                    loop_while_179701 = loop_cond_179694;
                                    ss_179702 = defunc_0_split_count_res_179689;
                                    ss_179703 = defunc_0_split_count_res_179690;
                                    tt_179704 = defunc_0_split_count_res_179691;
                                    tt_179705 = defunc_0_split_count_res_179692;
                                    count_179706 = defunc_0_split_count_res_179693;
                                    while (loop_while_179701) {
                                        int64_t zlze_lhs_179707 = sub64(ss_179703, ss_179702);
                                        bool cond_179708 = sle64(zlze_lhs_179707, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179709;
                                        int64_t defunc_0_lifted_step_res_179710;
                                        int64_t defunc_0_lifted_step_res_179711;
                                        int64_t defunc_0_lifted_step_res_179712;
                                        
                                        if (cond_179708) {
                                            int64_t tmp_179713 = add64(tt_179704, count_179706);
                                            
                                            defunc_0_lifted_step_res_179709 = ss_179702;
                                            defunc_0_lifted_step_res_179710 = tmp_179713;
                                            defunc_0_lifted_step_res_179711 = tt_179705;
                                            defunc_0_lifted_step_res_179712 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179714 = sub64(tt_179705, tt_179704);
                                            bool cond_179715 = sle64(zlze_lhs_179714, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179716;
                                            int64_t defunc_0_lifted_step_res_f_res_179717;
                                            int64_t defunc_0_lifted_step_res_f_res_179718;
                                            int64_t defunc_0_lifted_step_res_f_res_179719;
                                            
                                            if (cond_179715) {
                                                int64_t tmp_179720 = add64(ss_179702, count_179706);
                                                
                                                defunc_0_lifted_step_res_f_res_179716 = tmp_179720;
                                                defunc_0_lifted_step_res_f_res_179717 = tt_179704;
                                                defunc_0_lifted_step_res_f_res_179718 = tt_179705;
                                                defunc_0_lifted_step_res_f_res_179719 = (int64_t) 0;
                                            } else {
                                                bool cond_179721 = count_179706 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179722;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179723;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179724;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179725;
                                                
                                                if (cond_179721) {
                                                    bool x_179726 = sle64((int64_t) 0, ss_179702);
                                                    bool y_179727 = slt64(ss_179702, stride_179514);
                                                    bool bounds_check_179728 = x_179726 && y_179727;
                                                    bool index_certs_179729;
                                                    
                                                    if (!bounds_check_179728) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179702, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179734 = sle64((int64_t) 0, tt_179704);
                                                    bool y_179735 = slt64(tt_179704, j_m_i_179536);
                                                    bool bounds_check_179736 = x_179734 && y_179735;
                                                    bool index_certs_179737;
                                                    
                                                    if (!bounds_check_179736) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179704, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179730 = start_179587 + ss_179702;
                                                    int8_t leq_arg1_179731 = ((int8_t *) mem_param_181565.mem)[slice_179730];
                                                    int64_t leq_arg1_179732 = ((int64_t *) mem_param_181568.mem)[slice_179730];
                                                    double leq_arg1_179733 = ((double *) mem_param_181571.mem)[slice_179730];
                                                    int64_t slice_179738 = stride_179514 + tt_179704;
                                                    int64_t slice_179739 = start_179587 + slice_179738;
                                                    int8_t leq_arg0_179740 = ((int8_t *) mem_param_181565.mem)[slice_179739];
                                                    int64_t leq_arg0_179741 = ((int64_t *) mem_param_181568.mem)[slice_179739];
                                                    double leq_arg0_179742 = ((double *) mem_param_181571.mem)[slice_179739];
                                                    bool cond_179743 = leq_arg0_179740 == leq_arg1_179731;
                                                    bool defunc_0_leq_res_t_res_179744 = sle64(leq_arg0_179741, leq_arg1_179732);
                                                    bool defunc_0_leq_res_179745 = leq_arg0_179742 <= leq_arg1_179733;
                                                    bool x_179746 = cond_179743 && defunc_0_leq_res_t_res_179744;
                                                    bool x_179747 = !cond_179743;
                                                    bool y_179748 = defunc_0_leq_res_179745 && x_179747;
                                                    bool defunc_0_leq_res_179749 = x_179746 || y_179748;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    
                                                    if (defunc_0_leq_res_179749) {
                                                        int64_t tmp_179752 = add64((int64_t) 1, tt_179704);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = ss_179702;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tmp_179752;
                                                    } else {
                                                        int64_t tmp_179753 = add64((int64_t) 1, ss_179702);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = tmp_179753;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tt_179704;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = tt_179705;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179754 = sdiv64(count_179706, (int64_t) 2);
                                                    int64_t n_179755 = sub64(count_179706, m_179754);
                                                    bool cond_179756 = n_179755 == (int64_t) 0;
                                                    int64_t zgze_lhs_179757 = add64(ss_179702, m_179754);
                                                    bool cond_f_res_179758 = sle64(ss_179703, zgze_lhs_179757);
                                                    bool x_179759 = !cond_179756;
                                                    bool y_179760 = cond_f_res_179758 && x_179759;
                                                    bool cond_179761 = cond_179756 || y_179760;
                                                    bool leq_y_x_179762;
                                                    
                                                    if (cond_179761) {
                                                        leq_y_x_179762 = 1;
                                                    } else {
                                                        bool x_179763 = sle64((int64_t) 0, zgze_lhs_179757);
                                                        bool y_179764 = slt64(zgze_lhs_179757, stride_179514);
                                                        bool bounds_check_179765 = x_179763 && y_179764;
                                                        bool index_certs_179766;
                                                        
                                                        if (!bounds_check_179765) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179757, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179771 = add64(tt_179704, n_179755);
                                                        int64_t leq_arg0_179772 = sub64(zm_lhs_179771, (int64_t) 1);
                                                        bool x_179773 = sle64((int64_t) 0, leq_arg0_179772);
                                                        bool y_179774 = slt64(leq_arg0_179772, j_m_i_179536);
                                                        bool bounds_check_179775 = x_179773 && y_179774;
                                                        bool index_certs_179776;
                                                        
                                                        if (!bounds_check_179775) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179772, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:407:63-73\n   #13 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179767 = start_179587 + zgze_lhs_179757;
                                                        int8_t leq_arg1_179768 = ((int8_t *) mem_param_181565.mem)[slice_179767];
                                                        int64_t leq_arg1_179769 = ((int64_t *) mem_param_181568.mem)[slice_179767];
                                                        double leq_arg1_179770 = ((double *) mem_param_181571.mem)[slice_179767];
                                                        int64_t slice_179777 = stride_179514 + leq_arg0_179772;
                                                        int64_t slice_179778 = start_179587 + slice_179777;
                                                        int8_t leq_arg0_179779 = ((int8_t *) mem_param_181565.mem)[slice_179778];
                                                        int64_t leq_arg0_179780 = ((int64_t *) mem_param_181568.mem)[slice_179778];
                                                        double leq_arg0_179781 = ((double *) mem_param_181571.mem)[slice_179778];
                                                        bool cond_179782 = leq_arg0_179779 == leq_arg1_179768;
                                                        bool defunc_0_leq_res_t_res_179783 = sle64(leq_arg0_179780, leq_arg1_179769);
                                                        bool defunc_0_leq_res_179784 = leq_arg0_179781 <= leq_arg1_179770;
                                                        bool x_179785 = cond_179782 && defunc_0_leq_res_t_res_179783;
                                                        bool x_179786 = !cond_179782;
                                                        bool y_179787 = defunc_0_leq_res_179784 && x_179786;
                                                        bool defunc_0_leq_res_179788 = x_179785 || y_179787;
                                                        
                                                        leq_y_x_179762 = defunc_0_leq_res_179788;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                    
                                                    if (leq_y_x_179762) {
                                                        int64_t tmp_179792 = add64(tt_179704, n_179755);
                                                        int64_t tmp_179793 = sub64(count_179706, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tmp_179792;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tt_179705;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = tmp_179793;
                                                    } else {
                                                        int64_t tmp_179794 = add64(tt_179704, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tt_179704;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tmp_179794;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = count_179706;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = ss_179702;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                }
                                                defunc_0_lifted_step_res_f_res_179716 = defunc_0_lifted_step_res_f_res_f_res_179722;
                                                defunc_0_lifted_step_res_f_res_179717 = defunc_0_lifted_step_res_f_res_f_res_179723;
                                                defunc_0_lifted_step_res_f_res_179718 = defunc_0_lifted_step_res_f_res_f_res_179724;
                                                defunc_0_lifted_step_res_f_res_179719 = defunc_0_lifted_step_res_f_res_f_res_179725;
                                            }
                                            defunc_0_lifted_step_res_179709 = defunc_0_lifted_step_res_f_res_179716;
                                            defunc_0_lifted_step_res_179710 = defunc_0_lifted_step_res_f_res_179717;
                                            defunc_0_lifted_step_res_179711 = defunc_0_lifted_step_res_f_res_179718;
                                            defunc_0_lifted_step_res_179712 = defunc_0_lifted_step_res_f_res_179719;
                                        }
                                        
                                        int64_t loopres_179795;
                                        int64_t loopres_179796;
                                        int64_t loopres_179797;
                                        int64_t loopres_179798;
                                        int64_t loopres_179799;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_179795, &loopres_179796, &loopres_179797, &loopres_179798, &loopres_179799, defunc_0_lifted_step_res_179709, ss_179703, defunc_0_lifted_step_res_179710, defunc_0_lifted_step_res_179711, defunc_0_lifted_step_res_179712) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179800 = slt64((int64_t) 0, loopres_179799);
                                        bool loop_while_tmp_182529 = loop_cond_179800;
                                        int64_t ss_tmp_182530 = loopres_179795;
                                        int64_t ss_tmp_182531 = loopres_179796;
                                        int64_t tt_tmp_182532 = loopres_179797;
                                        int64_t tt_tmp_182533 = loopres_179798;
                                        int64_t count_tmp_182534 = loopres_179799;
                                        
                                        loop_while_179701 = loop_while_tmp_182529;
                                        ss_179702 = ss_tmp_182530;
                                        ss_179703 = ss_tmp_182531;
                                        tt_179704 = tt_tmp_182532;
                                        tt_179705 = tt_tmp_182533;
                                        count_179706 = count_tmp_182534;
                                    }
                                    defunc_0_split_count_res_179695 = loop_while_179701;
                                    defunc_0_split_count_res_179696 = ss_179702;
                                    defunc_0_split_count_res_179697 = ss_179703;
                                    defunc_0_split_count_res_179698 = tt_179704;
                                    defunc_0_split_count_res_179699 = tt_179705;
                                    defunc_0_split_count_res_179700 = count_179706;
                                    ((int64_t *) mem_181593)[i_180727] = defunc_0_split_count_res_179696;
                                    ((int64_t *) mem_181595)[i_180727] = defunc_0_split_count_res_179698;
                                }
                                if (mem_181609_cached_sizze_182807 < flat_dim_179537) {
                                    err = lexical_realloc(ctx, &mem_181609, &mem_181609_cached_sizze_182807, flat_dim_179537);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181612_cached_sizze_182808 < bytes_181611) {
                                    err = lexical_realloc(ctx, &mem_181612, &mem_181612_cached_sizze_182808, bytes_181611);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_182809 < bytes_181611) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_182809, bytes_181611);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180736 = 0; i_180736 < num_blocks_179534; i_180736++) {
                                    bool y_179809 = slt64(i_180736, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool index_certs_179811;
                                    
                                    if (!y_179809) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180736, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179812 = ((int64_t *) mem_181593)[i_180736];
                                    int64_t defunc_0_f_res_179813 = ((int64_t *) mem_181595)[i_180736];
                                    int64_t tmp_179814 = add64((int64_t) 1, i_180736);
                                    bool x_179815 = sle64((int64_t) 0, tmp_179814);
                                    bool y_179816 = slt64(tmp_179814, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool bounds_check_179817 = x_179815 && y_179816;
                                    bool index_certs_179818;
                                    
                                    if (!bounds_check_179817) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179814, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179819 = ((int64_t *) mem_181593)[tmp_179814];
                                    int64_t defunc_0_f_res_179820 = ((int64_t *) mem_181595)[tmp_179814];
                                    int64_t merge_sequential_arg2_179821 = add64(stride_179514, defunc_0_f_res_179813);
                                    int64_t merge_sequential_arg2_179822 = add64(stride_179514, defunc_0_f_res_179820);
                                    int64_t j_m_i_179823 = sub64(merge_sequential_arg2_179822, merge_sequential_arg2_179821);
                                    bool empty_slice_179824 = j_m_i_179823 == (int64_t) 0;
                                    int64_t m_179825 = sub64(j_m_i_179823, (int64_t) 1);
                                    int64_t i_p_m_t_s_179826 = add64(merge_sequential_arg2_179821, m_179825);
                                    bool zzero_leq_i_p_m_t_s_179827 = sle64((int64_t) 0, i_p_m_t_s_179826);
                                    bool i_p_m_t_s_leq_w_179828 = slt64(i_p_m_t_s_179826, next_stride_179515);
                                    bool zzero_lte_i_179829 = sle64((int64_t) 0, merge_sequential_arg2_179821);
                                    bool i_lte_j_179830 = sle64(merge_sequential_arg2_179821, merge_sequential_arg2_179822);
                                    bool y_179831 = i_p_m_t_s_leq_w_179828 && zzero_lte_i_179829;
                                    bool y_179832 = zzero_leq_i_p_m_t_s_179827 && y_179831;
                                    bool forwards_ok_179833 = i_lte_j_179830 && y_179832;
                                    bool ok_or_empty_179834 = empty_slice_179824 || forwards_ok_179833;
                                    bool index_certs_179835;
                                    
                                    if (!ok_or_empty_179834) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179821, ":", (long long) merge_sequential_arg2_179822, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179836 = sub64(defunc_0_f_res_179819, defunc_0_f_res_179812);
                                    bool empty_slice_179837 = j_m_i_179836 == (int64_t) 0;
                                    int64_t m_179838 = sub64(j_m_i_179836, (int64_t) 1);
                                    int64_t i_p_m_t_s_179839 = add64(defunc_0_f_res_179812, m_179838);
                                    bool zzero_leq_i_p_m_t_s_179840 = sle64((int64_t) 0, i_p_m_t_s_179839);
                                    bool i_p_m_t_s_leq_w_179841 = slt64(i_p_m_t_s_179839, next_stride_179515);
                                    bool zzero_lte_i_179842 = sle64((int64_t) 0, defunc_0_f_res_179812);
                                    bool i_lte_j_179843 = sle64(defunc_0_f_res_179812, defunc_0_f_res_179819);
                                    bool y_179844 = i_p_m_t_s_leq_w_179841 && zzero_lte_i_179842;
                                    bool y_179845 = zzero_leq_i_p_m_t_s_179840 && y_179844;
                                    bool forwards_ok_179846 = i_lte_j_179843 && y_179845;
                                    bool ok_or_empty_179847 = empty_slice_179837 || forwards_ok_179846;
                                    bool index_certs_179848;
                                    
                                    if (!ok_or_empty_179847) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179812, ":", (long long) defunc_0_f_res_179819, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179849 = slt64((int64_t) 0, j_m_i_179836);
                                    int8_t dummy_179850;
                                    int64_t dummy_179851;
                                    double dummy_179852;
                                    
                                    if (cond_179849) {
                                        bool index_certs_179853;
                                        
                                        if (!cond_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179854 = start_179587 + defunc_0_f_res_179812;
                                        int8_t head_res_179855 = ((int8_t *) mem_param_181565.mem)[slice_179854];
                                        int64_t head_res_179856 = ((int64_t *) mem_param_181568.mem)[slice_179854];
                                        double head_res_179857 = ((double *) mem_param_181571.mem)[slice_179854];
                                        
                                        dummy_179850 = head_res_179855;
                                        dummy_179851 = head_res_179856;
                                        dummy_179852 = head_res_179857;
                                    } else {
                                        bool y_179858 = slt64((int64_t) 0, j_m_i_179823);
                                        bool index_certs_179859;
                                        
                                        if (!y_179858) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179860 = start_179587 + merge_sequential_arg2_179821;
                                        int8_t head_res_179861 = ((int8_t *) mem_param_181565.mem)[slice_179860];
                                        int64_t head_res_179862 = ((int64_t *) mem_param_181568.mem)[slice_179860];
                                        double head_res_179863 = ((double *) mem_param_181571.mem)[slice_179860];
                                        
                                        dummy_179850 = head_res_179861;
                                        dummy_179851 = head_res_179862;
                                        dummy_179852 = head_res_179863;
                                    }
                                    for (int64_t nest_i_182538 = 0; nest_i_182538 < merge_block_sizze_179324; nest_i_182538++) {
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + nest_i_182538] = dummy_179850;
                                    }
                                    for (int64_t nest_i_182539 = 0; nest_i_182539 < merge_block_sizze_179324; nest_i_182539++) {
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + nest_i_182539] = dummy_179851;
                                    }
                                    for (int64_t nest_i_182540 = 0; nest_i_182540 < merge_block_sizze_179324; nest_i_182540++) {
                                        ((double *) mem_181615)[i_180736 * merge_block_sizze_179324 + nest_i_182540] = dummy_179852;
                                    }
                                    
                                    int64_t data_179867;
                                    int64_t i_179872 = (int64_t) 0;
                                    
                                    for (int64_t k_179871 = 0; k_179871 < merge_block_sizze_179324; k_179871++) {
                                        int64_t j_179876 = sub64(k_179871, i_179872);
                                        bool cond_179877 = j_179876 == j_m_i_179823;
                                        bool cond_179878;
                                        
                                        if (cond_179877) {
                                            cond_179878 = 1;
                                        } else {
                                            bool cond_179879 = slt64(i_179872, j_m_i_179836);
                                            bool cond_f_res_179880;
                                            
                                            if (cond_179879) {
                                                bool x_179881 = sle64((int64_t) 0, j_179876);
                                                bool y_179882 = slt64(j_179876, j_m_i_179823);
                                                bool bounds_check_179883 = x_179881 && y_179882;
                                                bool index_certs_179884;
                                                
                                                if (!bounds_check_179883) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179890 = sle64((int64_t) 0, i_179872);
                                                bool bounds_check_179891 = cond_179879 && x_179890;
                                                bool index_certs_179892;
                                                
                                                if (!bounds_check_179891) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179885 = merge_sequential_arg2_179821 + j_179876;
                                                int64_t slice_179886 = start_179587 + slice_179885;
                                                int8_t leq_arg1_179887 = ((int8_t *) mem_param_181565.mem)[slice_179886];
                                                int64_t leq_arg1_179888 = ((int64_t *) mem_param_181568.mem)[slice_179886];
                                                double leq_arg1_179889 = ((double *) mem_param_181571.mem)[slice_179886];
                                                int64_t slice_179893 = defunc_0_f_res_179812 + i_179872;
                                                int64_t slice_179894 = start_179587 + slice_179893;
                                                int8_t leq_arg0_179895 = ((int8_t *) mem_param_181565.mem)[slice_179894];
                                                int64_t leq_arg0_179896 = ((int64_t *) mem_param_181568.mem)[slice_179894];
                                                double leq_arg0_179897 = ((double *) mem_param_181571.mem)[slice_179894];
                                                bool cond_179898 = leq_arg0_179895 == leq_arg1_179887;
                                                bool defunc_0_leq_res_t_res_179899 = sle64(leq_arg0_179896, leq_arg1_179888);
                                                bool defunc_0_leq_res_179900 = leq_arg0_179897 <= leq_arg1_179889;
                                                bool x_179901 = cond_179898 && defunc_0_leq_res_t_res_179899;
                                                bool x_179902 = !cond_179898;
                                                bool y_179903 = defunc_0_leq_res_179900 && x_179902;
                                                bool defunc_0_leq_res_179904 = x_179901 || y_179903;
                                                
                                                cond_f_res_179880 = defunc_0_leq_res_179904;
                                            } else {
                                                cond_f_res_179880 = 0;
                                            }
                                            cond_179878 = cond_f_res_179880;
                                        }
                                        
                                        int64_t loopres_179905;
                                        int8_t loopres_179906;
                                        int64_t loopres_179907;
                                        double loopres_179908;
                                        
                                        if (cond_179878) {
                                            bool x_179910 = sle64((int64_t) 0, i_179872);
                                            bool y_179911 = slt64(i_179872, j_m_i_179836);
                                            bool bounds_check_179912 = x_179910 && y_179911;
                                            bool index_certs_179913;
                                            
                                            if (!bounds_check_179912) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179909 = add64((int64_t) 1, i_179872);
                                            int64_t slice_179914 = defunc_0_f_res_179812 + i_179872;
                                            int64_t slice_179915 = start_179587 + slice_179914;
                                            int8_t tmp_179916 = ((int8_t *) mem_param_181565.mem)[slice_179915];
                                            int64_t tmp_179917 = ((int64_t *) mem_param_181568.mem)[slice_179915];
                                            double tmp_179918 = ((double *) mem_param_181571.mem)[slice_179915];
                                            
                                            loopres_179905 = tmp_179909;
                                            loopres_179906 = tmp_179916;
                                            loopres_179907 = tmp_179917;
                                            loopres_179908 = tmp_179918;
                                        } else {
                                            bool x_179919 = sle64((int64_t) 0, j_179876);
                                            bool y_179920 = slt64(j_179876, j_m_i_179823);
                                            bool bounds_check_179921 = x_179919 && y_179920;
                                            bool index_certs_179922;
                                            
                                            if (!bounds_check_179921) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179923 = merge_sequential_arg2_179821 + j_179876;
                                            int64_t slice_179924 = start_179587 + slice_179923;
                                            int8_t tmp_179925 = ((int8_t *) mem_param_181565.mem)[slice_179924];
                                            int64_t tmp_179926 = ((int64_t *) mem_param_181568.mem)[slice_179924];
                                            double tmp_179927 = ((double *) mem_param_181571.mem)[slice_179924];
                                            
                                            loopres_179905 = i_179872;
                                            loopres_179906 = tmp_179925;
                                            loopres_179907 = tmp_179926;
                                            loopres_179908 = tmp_179927;
                                        }
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179906;
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179907;
                                        ((double *) mem_181615)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179908;
                                        
                                        int64_t i_tmp_182541 = loopres_179905;
                                        
                                        i_179872 = i_tmp_182541;
                                    }
                                    data_179867 = i_179872;
                                }
                                if (memblock_alloc(ctx, &mem_181664, flat_dim_179537, "mem_181664")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181664.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint8_t *) mem_181609, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181668, bytes_181611, "mem_181668")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181668.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint64_t *) mem_181612, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181672, bytes_181611, "mem_181672")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181672.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint64_t *) mem_181615, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181664, "mem_181664") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181668, "mem_181668") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181672, "mem_181672") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181573, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181705.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181576, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181702.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181579, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181699.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181719, bytes_181572, "mem_181719")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181719.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181723, bytes_181575, "mem_181723")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181723.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint64_t *) mem_181576, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181727, bytes_181575, "mem_181727")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181727.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint64_t *) mem_181579, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        
                        bool loop_cond_179947 = slt64(next_stride_179515, flat_dim_179319);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182508, &mem_181719, "mem_181719") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182509, &mem_181723, "mem_181723") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182510, &mem_181727, "mem_181727") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182511 = bytes_181572;
                        bool loop_while_tmp_182512 = loop_cond_179947;
                        int64_t stride_tmp_182516 = next_stride_179515;
                        
                        if (memblock_set(ctx, &mem_param_181565, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181568, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181571, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179509 = loop_dz2084Uz2082U_tmp_182511;
                        loop_while_179510 = loop_while_tmp_182512;
                        stride_179514 = stride_tmp_182516;
                    }
                    if (memblock_set(ctx, &ext_mem_181737, &mem_param_181565, "mem_param_181565") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181736, &mem_param_181568, "mem_param_181568") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181735, &mem_param_181571, "mem_param_181571") != 0)
                        return 1;
                    data_179503 = loop_dz2084Uz2082U_179509;
                    data_179504 = loop_while_179510;
                    data_179508 = stride_179514;
                    if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
                        return 1;
                    
                    bool empty_slice_179948 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179949 = sle64((int64_t) 0, zs_lhs_179303);
                    bool i_p_m_t_s_leq_w_179950 = slt64(zs_lhs_179303, data_179503);
                    bool y_179951 = zzero_leq_i_p_m_t_s_179949 && i_p_m_t_s_leq_w_179950;
                    bool ok_or_empty_179952 = empty_slice_179948 || y_179951;
                    bool index_certs_179953;
                    
                    if (!ok_or_empty_179952) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] out of bounds for array of shape [", (long long) data_179503, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:407:63-73\n   #6  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181746, &ext_mem_181737, "ext_mem_181737") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &ext_mem_181736, "ext_mem_181736") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &ext_mem_181735, "ext_mem_181735") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181413, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181746.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181416, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181743.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181419, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181740.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
                    return 1;
                for (int64_t i_180752 = 0; i_180752 < perThread_175580; i_180752++) {
                    int64_t lifted_lambda_res_179975 = add64(zm_rhs_179259, i_180752);
                    
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + i_180752] = lifted_lambda_res_179975;
                }
                
                bool cond_179977 = card_179260 == zp_rhs_175579;
                
                if (cond_179977) {
                    bool y_179979 = slt64(card_179260, perThread_175580);
                    bool index_certs_179980;
                    
                    if (!y_179979) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:407:63-73\n   #3  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + card_179260] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181772, bytes_181065, "mem_181772")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182546 = 0; nest_i_182546 < window_sizze_163278; nest_i_182546++) {
                ((double *) mem_181772.mem)[nest_i_182546] = 0.0;
            }
            if (memblock_alloc(ctx, &mem_181774, bytes_181065, "mem_181774")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182547 = 0; nest_i_182547 < window_sizze_163278; nest_i_182547++) {
                ((int64_t *) mem_181774.mem)[nest_i_182547] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181775, window_sizze_163278, "mem_181775")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182548 = 0; nest_i_182548 < window_sizze_163278; nest_i_182548++) {
                ((int8_t *) mem_181775.mem)[nest_i_182548] = (int8_t) -1;
            }
            for (int64_t write_iter_180767 = 0; write_iter_180767 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581; write_iter_180767++) {
                int64_t new_index_180919 = squot64(write_iter_180767, perThread_175580);
                int64_t binop_y_180921 = perThread_175580 * new_index_180919;
                int64_t new_index_180922 = write_iter_180767 - binop_y_180921;
                int64_t write_iv_180771 = ((int64_t *) mem_181411)[new_index_180919 * perThread_175580 + new_index_180922];
                int8_t write_iv_180772 = ((int8_t *) mem_181413)[new_index_180919 * perThread_175580 + new_index_180922];
                int64_t write_iv_180773 = ((int64_t *) mem_181416)[new_index_180919 * perThread_175580 + new_index_180922];
                double write_iv_180774 = ((double *) mem_181419)[new_index_180919 * perThread_175580 + new_index_180922];
                
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_163278)) {
                    ((int8_t *) mem_181775.mem)[write_iv_180771] = write_iv_180772;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_163278)) {
                    ((int64_t *) mem_181774.mem)[write_iv_180771] = write_iv_180773;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_163278)) {
                    ((double *) mem_181772.mem)[write_iv_180771] = write_iv_180774;
                }
            }
            
            int64_t index_concat_branch_180003;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180004 = ((int64_t *) mem_181394)[index_concat_i_178344];
                
                index_concat_branch_180003 = index_concat_180004;
            } else {
                index_concat_branch_180003 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180005;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180006 = ((int64_t *) mem_181396)[index_concat_i_178344];
                
                index_concat_branch_180005 = index_concat_180006;
            } else {
                index_concat_branch_180005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181775, "mem_181775") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181774, "mem_181774") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181772, "mem_181772") != 0)
                return 1;
            loopres_175570 = index_concat_branch_180003;
            loopres_175571 = index_concat_branch_180005;
        } else {
            double leq_lhs_176561 = ((double *) a_list_mem_181032.mem)[p_175542];
            double leq_rhs_176564 = ((double *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_176565 = leq_lhs_176561 <= leq_rhs_176564;
            double lowest_176566;
            
            if (defunc_0_leq_res_176565) {
                bool index_certs_180007;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_lhs_176561;
            } else {
                bool index_certs_176571;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_rhs_176564;
            }
            if (mem_181049_cached_sizze_182774 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_182774, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181051_cached_sizze_182775 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182775, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_163279; i_180782++) {
                int64_t index_primexp_180998 = add64((int64_t) 1, i_180782);
                int64_t zs_lhs_176587 = mul64(zt_rhs_176580, index_primexp_180998);
                int64_t index_176588 = sdiv64(zs_lhs_176587, partitionFunc_arg0_176557);
                bool cond_176589 = slt64(window_sizze_163278, index_176588);
                int64_t loop_over_176590;
                
                if (cond_176589) {
                    loop_over_176590 = window_sizze_163278;
                } else {
                    loop_over_176590 = index_176588;
                }
                
                int64_t loop_over_176591;
                
                if (cond_176589) {
                    int64_t loop_over_t_res_180008 = sub64(index_176588, window_sizze_163278);
                    
                    loop_over_176591 = loop_over_t_res_180008;
                } else {
                    loop_over_176591 = (int64_t) 0;
                }
                
                int64_t loop_over_176593;
                
                if (cond_176589) {
                    int64_t zm_lhs_180009 = sub64(index_176588, window_sizze_163278);
                    int64_t loop_over_t_res_180010 = sub64(zm_lhs_180009, (int64_t) 1);
                    
                    loop_over_176593 = loop_over_t_res_180010;
                } else {
                    loop_over_176593 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176596;
                int64_t defunc_0_f_res_176597;
                int64_t defunc_0_f_res_176598;
                int64_t defunc_0_f_res_176599;
                bool loop_while_176600;
                int64_t p_176601;
                int64_t p_176602;
                int64_t p_176603;
                
                loop_while_176600 = 1;
                p_176601 = loop_over_176593;
                p_176602 = loop_over_176590;
                p_176603 = loop_over_176591;
                while (loop_while_176600) {
                    int64_t zs_lhs_176604 = sub64(p_176602, p_176601);
                    int64_t offset_176605 = sdiv64(zs_lhs_176604, (int64_t) 2);
                    int64_t ai_176606 = sub64(p_176602, offset_176605);
                    int64_t max_arg1_176607 = add64(p_176603, offset_176605);
                    int64_t max_res_176608 = smax64((int64_t) 0, max_arg1_176607);
                    bool cond_176609 = slt64((int64_t) 0, max_res_176608);
                    double b_prev_176610;
                    
                    if (cond_176609) {
                        int64_t tmp_180011 = sub64(max_res_176608, (int64_t) 1);
                        bool x_180012 = sle64((int64_t) 0, tmp_180011);
                        bool y_180013 = slt64(tmp_180011, window_sizze_163278);
                        bool bounds_check_180014 = x_180012 && y_180013;
                        bool index_certs_180015;
                        
                        if (!bounds_check_180014) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180011, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180016 = p_175543 + tmp_180011;
                        double b_prev_t_res_180017 = ((double *) b_list_mem_181033.mem)[slice_180016];
                        
                        b_prev_176610 = b_prev_t_res_180017;
                    } else {
                        b_prev_176610 = lowest_176566;
                    }
                    
                    bool cond_176617 = sle64(ai_176606, (int64_t) 0);
                    int64_t loopres_176618;
                    int64_t loopres_176619;
                    int64_t loopres_176620;
                    bool loopres_176621;
                    
                    if (cond_176617) {
                        loopres_176618 = p_176601;
                        loopres_176619 = (int64_t) 0;
                        loopres_176620 = max_res_176608;
                        loopres_176621 = 0;
                    } else {
                        bool cond_176622 = sle64(window_sizze_163278, max_res_176608);
                        int64_t loopres_f_res_176623;
                        int64_t loopres_f_res_176624;
                        int64_t loopres_f_res_176625;
                        bool loopres_f_res_176626;
                        
                        if (cond_176622) {
                            int64_t min_res_180019 = smin64(m_175531, ai_176606);
                            bool x_180020 = sle64((int64_t) 0, m_175531);
                            bool y_180021 = slt64(m_175531, window_sizze_163278);
                            bool bounds_check_180022 = x_180020 && y_180021;
                            bool index_certs_180023;
                            
                            if (!bounds_check_180022) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180026 = sle64((int64_t) 0, min_res_180019);
                            bool y_180027 = slt64(min_res_180019, window_sizze_163278);
                            bool bounds_check_180028 = x_180026 && y_180027;
                            bool index_certs_180029;
                            
                            if (!bounds_check_180028) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180019, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            double leq_lhs_180025 = ((double *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_180030 = p_175542 + min_res_180019;
                            double leq_rhs_180031 = ((double *) a_list_mem_181032.mem)[slice_180030];
                            bool defunc_0_leq_res_180032 = leq_lhs_180025 <= leq_rhs_180031;
                            int64_t loopres_f_res_t_res_180033;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180033 = ai_176606;
                            } else {
                                loopres_f_res_t_res_180033 = p_176602;
                            }
                            
                            bool x_180034 = !defunc_0_leq_res_180032;
                            int64_t loopres_f_res_t_res_180035;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180035 = window_sizze_163278;
                            } else {
                                int64_t tmp_180036 = sub64(m_175531, offset_176605);
                                
                                loopres_f_res_t_res_180035 = tmp_180036;
                            }
                            loopres_f_res_176623 = p_176601;
                            loopres_f_res_176624 = loopres_f_res_t_res_180033;
                            loopres_f_res_176625 = loopres_f_res_t_res_180035;
                            loopres_f_res_176626 = x_180034;
                        } else {
                            bool cond_176644 = sle64(window_sizze_163278, ai_176606);
                            int64_t loopres_f_res_f_res_176645;
                            int64_t loopres_f_res_f_res_176646;
                            int64_t loopres_f_res_f_res_176647;
                            bool loopres_f_res_f_res_176648;
                            
                            if (cond_176644) {
                                int64_t min_res_180038 = smin64(m_175531, max_res_176608);
                                bool x_180039 = sle64((int64_t) 0, m_175531);
                                bool y_180040 = slt64(m_175531, window_sizze_163278);
                                bool bounds_check_180041 = x_180039 && y_180040;
                                bool index_certs_180042;
                                
                                if (!bounds_check_180041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180045 = sle64((int64_t) 0, min_res_180038);
                                bool y_180046 = slt64(min_res_180038, window_sizze_163278);
                                bool bounds_check_180047 = x_180045 && y_180046;
                                bool index_certs_180048;
                                
                                if (!bounds_check_180047) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180038, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                double leq_lhs_180044 = ((double *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_180049 = p_175543 + min_res_180038;
                                double leq_rhs_180050 = ((double *) b_list_mem_181033.mem)[slice_180049];
                                bool defunc_0_leq_res_180051 = leq_lhs_180044 <= leq_rhs_180050;
                                int64_t loopres_f_res_f_res_t_res_180052;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180052 = max_res_176608;
                                } else {
                                    loopres_f_res_f_res_t_res_180052 = p_176603;
                                }
                                
                                bool x_180053 = !defunc_0_leq_res_180051;
                                int64_t loopres_f_res_f_res_t_res_180054;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180054 = window_sizze_163278;
                                } else {
                                    loopres_f_res_f_res_t_res_180054 = m_175531;
                                }
                                loopres_f_res_f_res_176645 = p_176601;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_t_res_180054;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_t_res_180052;
                                loopres_f_res_f_res_176648 = x_180053;
                            } else {
                                bool cond_176665 = sle64(p_176602, p_176601);
                                int64_t loopres_f_res_f_res_f_res_176666;
                                int64_t loopres_f_res_f_res_f_res_176667;
                                int64_t loopres_f_res_f_res_f_res_176668;
                                bool loopres_f_res_f_res_f_res_176669;
                                
                                if (cond_176665) {
                                    bool cond_180093 = slt64(ai_176606, window_sizze_163278);
                                    int64_t ai_180094;
                                    
                                    if (cond_180093) {
                                        ai_180094 = ai_176606;
                                    } else {
                                        ai_180094 = m_175531;
                                    }
                                    
                                    bool x_180107 = sle64((int64_t) 0, ai_180094);
                                    bool y_180108 = slt64(ai_180094, window_sizze_163278);
                                    bool bounds_check_180109 = x_180107 && y_180108;
                                    bool index_certs_180110;
                                    
                                    if (!bounds_check_180109) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180094, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    double b_prev_180096;
                                    
                                    if (cond_176609) {
                                        int64_t tmp_180097 = sub64(max_res_176608, (int64_t) 1);
                                        bool x_180098 = sle64((int64_t) 0, tmp_180097);
                                        bool y_180099 = slt64(tmp_180097, window_sizze_163278);
                                        bool bounds_check_180100 = x_180098 && y_180099;
                                        bool index_certs_180101;
                                        
                                        if (!bounds_check_180100) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180097, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180102 = p_175543 + tmp_180097;
                                        double b_prev_t_res_180103 = ((double *) b_list_mem_181033.mem)[slice_180102];
                                        
                                        b_prev_180096 = b_prev_t_res_180103;
                                    } else {
                                        bool index_certs_180105;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180096 = leq_rhs_176564;
                                    }
                                    
                                    int64_t slice_180111 = p_175542 + ai_180094;
                                    double gt_lhs_180112 = ((double *) a_list_mem_181032.mem)[slice_180111];
                                    bool defunc_0_gt_res_180113 = b_prev_180096 < gt_lhs_180112;
                                    int64_t defunc_0_partFunc_sequential_search_res_180114;
                                    int64_t defunc_0_partFunc_sequential_search_res_180115;
                                    
                                    if (defunc_0_gt_res_180113) {
                                        int64_t zl_rhs_180116 = sub64(window_sizze_163278, max_res_176608);
                                        bool loop_cond_180117 = slt64((int64_t) 0, zl_rhs_180116);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180118;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180120;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180121;
                                        bool loop_while_180122;
                                        int64_t p_180123;
                                        int64_t p_180124;
                                        int64_t p_180125;
                                        
                                        loop_while_180122 = loop_cond_180117;
                                        p_180123 = ai_180094;
                                        p_180124 = max_res_176608;
                                        p_180125 = (int64_t) 0;
                                        while (loop_while_180122) {
                                            int64_t i_a_180126 = sub64(ai_180094, p_180125);
                                            int64_t i_b_180127 = add64(max_res_176608, p_180125);
                                            int64_t leq_lhs_180128 = sub64(i_a_180126, (int64_t) 1);
                                            bool x_180129 = sle64((int64_t) 0, leq_lhs_180128);
                                            bool y_180130 = slt64(leq_lhs_180128, window_sizze_163278);
                                            bool bounds_check_180131 = x_180129 && y_180130;
                                            bool index_certs_180132;
                                            
                                            if (!bounds_check_180131) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180128, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180135 = sle64((int64_t) 0, i_b_180127);
                                            bool y_180136 = slt64(i_b_180127, window_sizze_163278);
                                            bool bounds_check_180137 = x_180135 && y_180136;
                                            bool index_certs_180138;
                                            
                                            if (!bounds_check_180137) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180127, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180133 = p_175542 + leq_lhs_180128;
                                            double leq_lhs_180134 = ((double *) a_list_mem_181032.mem)[slice_180133];
                                            int64_t slice_180139 = p_175543 + i_b_180127;
                                            double leq_rhs_180140 = ((double *) b_list_mem_181033.mem)[slice_180139];
                                            bool defunc_0_leq_res_180141 = leq_lhs_180134 <= leq_rhs_180140;
                                            int64_t loopres_180142;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180142 = i_a_180126;
                                            } else {
                                                loopres_180142 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180143;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180143 = i_b_180127;
                                            } else {
                                                loopres_180143 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180144;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180144 = zl_rhs_180116;
                                            } else {
                                                int64_t tmp_180145 = add64((int64_t) 1, p_180125);
                                                
                                                loopres_180144 = tmp_180145;
                                            }
                                            
                                            bool loop_cond_180146 = slt64(loopres_180144, zl_rhs_180116);
                                            bool loop_while_tmp_182558 = loop_cond_180146;
                                            int64_t p_tmp_182559 = loopres_180142;
                                            int64_t p_tmp_182560 = loopres_180143;
                                            int64_t p_tmp_182561 = loopres_180144;
                                            
                                            loop_while_180122 = loop_while_tmp_182558;
                                            p_180123 = p_tmp_182559;
                                            p_180124 = p_tmp_182560;
                                            p_180125 = p_tmp_182561;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180118 = loop_while_180122;
                                        defunc_0_partFunc_sequential_search_res_t_res_180119 = p_180123;
                                        defunc_0_partFunc_sequential_search_res_t_res_180120 = p_180124;
                                        defunc_0_partFunc_sequential_search_res_t_res_180121 = p_180125;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_t_res_180120;
                                    } else {
                                        int64_t zl_rhs_180147 = sub64(max_res_176608, (int64_t) 1);
                                        bool loop_cond_180148 = slt64((int64_t) 0, zl_rhs_180147);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180149;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180151;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180152;
                                        bool loop_while_180153;
                                        int64_t p_180154;
                                        int64_t p_180155;
                                        int64_t p_180156;
                                        
                                        loop_while_180153 = loop_cond_180148;
                                        p_180154 = ai_180094;
                                        p_180155 = max_res_176608;
                                        p_180156 = (int64_t) 0;
                                        while (loop_while_180153) {
                                            int64_t zp_lhs_180157 = add64(ai_180094, p_180156);
                                            int64_t hi_a_180158 = add64((int64_t) 1, zp_lhs_180157);
                                            bool cond_180159 = slt64(hi_a_180158, window_sizze_163278);
                                            int64_t i_a_180160;
                                            
                                            if (cond_180159) {
                                                i_a_180160 = hi_a_180158;
                                            } else {
                                                i_a_180160 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_180162 = sub64(max_res_176608, p_180156);
                                            int64_t i_b_180163 = sub64(zm_lhs_180162, (int64_t) 1);
                                            bool x_180164 = sle64((int64_t) 0, i_a_180160);
                                            bool y_180165 = slt64(i_a_180160, window_sizze_163278);
                                            bool bounds_check_180166 = x_180164 && y_180165;
                                            bool index_certs_180167;
                                            
                                            if (!bounds_check_180166) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180160, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180170 = sle64((int64_t) 0, i_b_180163);
                                            bool y_180171 = slt64(i_b_180163, window_sizze_163278);
                                            bool bounds_check_180172 = x_180170 && y_180171;
                                            bool index_certs_180173;
                                            
                                            if (!bounds_check_180172) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180163, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180168 = p_175542 + i_a_180160;
                                            double gt_lhs_180169 = ((double *) a_list_mem_181032.mem)[slice_180168];
                                            int64_t slice_180174 = p_175543 + i_b_180163;
                                            double gt_rhs_180175 = ((double *) b_list_mem_181033.mem)[slice_180174];
                                            bool defunc_0_gt_res_180176 = gt_rhs_180175 < gt_lhs_180169;
                                            int64_t loopres_180177;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180177 = i_a_180160;
                                            } else {
                                                loopres_180177 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180178;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180178 = zm_lhs_180162;
                                            } else {
                                                loopres_180178 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180179;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180179 = zl_rhs_180147;
                                            } else {
                                                int64_t tmp_180180 = add64((int64_t) 1, p_180156);
                                                
                                                loopres_180179 = tmp_180180;
                                            }
                                            
                                            bool loop_cond_180181 = slt64(loopres_180179, zl_rhs_180147);
                                            bool loop_while_tmp_182562 = loop_cond_180181;
                                            int64_t p_tmp_182563 = loopres_180177;
                                            int64_t p_tmp_182564 = loopres_180178;
                                            int64_t p_tmp_182565 = loopres_180179;
                                            
                                            loop_while_180153 = loop_while_tmp_182562;
                                            p_180154 = p_tmp_182563;
                                            p_180155 = p_tmp_182564;
                                            p_180156 = p_tmp_182565;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180149 = loop_while_180153;
                                        defunc_0_partFunc_sequential_search_res_f_res_180150 = p_180154;
                                        defunc_0_partFunc_sequential_search_res_f_res_180151 = p_180155;
                                        defunc_0_partFunc_sequential_search_res_f_res_180152 = p_180156;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_f_res_180151;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = p_176601;
                                    loopres_f_res_f_res_f_res_176667 = defunc_0_partFunc_sequential_search_res_180114;
                                    loopres_f_res_f_res_f_res_176668 = defunc_0_partFunc_sequential_search_res_180115;
                                    loopres_f_res_f_res_f_res_176669 = 0;
                                } else {
                                    bool x_176753 = sle64((int64_t) 0, ai_176606);
                                    bool y_176754 = slt64(ai_176606, window_sizze_163278);
                                    bool bounds_check_176755 = x_176753 && y_176754;
                                    bool index_certs_176756;
                                    
                                    if (!bounds_check_176755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176606, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178422 = p_175542 + ai_176606;
                                    double gt_lhs_176757 = ((double *) a_list_mem_181032.mem)[slice_178422];
                                    bool defunc_0_gt_res_176758 = b_prev_176610 < gt_lhs_176757;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176759;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176760;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176761;
                                    bool loopres_f_res_f_res_f_res_f_res_176762;
                                    
                                    if (defunc_0_gt_res_176758) {
                                        int64_t leq_lhs_180182 = sub64(ai_176606, (int64_t) 1);
                                        bool x_180183 = sle64((int64_t) 0, leq_lhs_180182);
                                        bool y_180184 = slt64(leq_lhs_180182, window_sizze_163278);
                                        bool bounds_check_180185 = x_180183 && y_180184;
                                        bool index_certs_180186;
                                        
                                        if (!bounds_check_180185) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180182, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180189 = sle64((int64_t) 0, max_res_176608);
                                        bool y_180190 = slt64(max_res_176608, window_sizze_163278);
                                        bool bounds_check_180191 = x_180189 && y_180190;
                                        bool index_certs_180192;
                                        
                                        if (!bounds_check_180191) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176608, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180187 = p_175542 + leq_lhs_180182;
                                        double leq_lhs_180188 = ((double *) a_list_mem_181032.mem)[slice_180187];
                                        int64_t slice_180193 = p_175543 + max_res_176608;
                                        double leq_rhs_180194 = ((double *) b_list_mem_181033.mem)[slice_180193];
                                        bool defunc_0_leq_res_180195 = leq_lhs_180188 <= leq_rhs_180194;
                                        bool x_180196 = !defunc_0_leq_res_180195;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = ai_176606;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = leq_lhs_180182;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = max_res_176608;
                                        } else {
                                            int64_t tmp_180199 = add64((int64_t) 1, max_res_176608);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = tmp_180199;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176759 = p_176601;
                                        loopres_f_res_f_res_f_res_f_res_176760 = loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        loopres_f_res_f_res_f_res_f_res_176761 = loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        loopres_f_res_f_res_f_res_f_res_176762 = x_180196;
                                    } else {
                                        int64_t tmp_176779 = add64((int64_t) 1, ai_176606);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176759 = tmp_176779;
                                        loopres_f_res_f_res_f_res_f_res_176760 = p_176602;
                                        loopres_f_res_f_res_f_res_f_res_176761 = p_176603;
                                        loopres_f_res_f_res_f_res_f_res_176762 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = loopres_f_res_f_res_f_res_f_res_176759;
                                    loopres_f_res_f_res_f_res_176667 = loopres_f_res_f_res_f_res_f_res_176760;
                                    loopres_f_res_f_res_f_res_176668 = loopres_f_res_f_res_f_res_f_res_176761;
                                    loopres_f_res_f_res_f_res_176669 = loopres_f_res_f_res_f_res_f_res_176762;
                                }
                                loopres_f_res_f_res_176645 = loopres_f_res_f_res_f_res_176666;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_f_res_176667;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_f_res_176668;
                                loopres_f_res_f_res_176648 = loopres_f_res_f_res_f_res_176669;
                            }
                            loopres_f_res_176623 = loopres_f_res_f_res_176645;
                            loopres_f_res_176624 = loopres_f_res_f_res_176646;
                            loopres_f_res_176625 = loopres_f_res_f_res_176647;
                            loopres_f_res_176626 = loopres_f_res_f_res_176648;
                        }
                        loopres_176618 = loopres_f_res_176623;
                        loopres_176619 = loopres_f_res_176624;
                        loopres_176620 = loopres_f_res_176625;
                        loopres_176621 = loopres_f_res_176626;
                    }
                    
                    bool loop_while_tmp_182554 = loopres_176621;
                    int64_t p_tmp_182555 = loopres_176618;
                    int64_t p_tmp_182556 = loopres_176619;
                    int64_t p_tmp_182557 = loopres_176620;
                    
                    loop_while_176600 = loop_while_tmp_182554;
                    p_176601 = p_tmp_182555;
                    p_176602 = p_tmp_182556;
                    p_176603 = p_tmp_182557;
                }
                defunc_0_f_res_176596 = loop_while_176600;
                defunc_0_f_res_176597 = p_176601;
                defunc_0_f_res_176598 = p_176602;
                defunc_0_f_res_176599 = p_176603;
                ((int64_t *) mem_181049)[i_180782] = defunc_0_f_res_176598;
                ((int64_t *) mem_181051)[i_180782] = defunc_0_f_res_176599;
            }
            if (memblock_alloc(ctx, &mem_181064, window_sizze_163278, "mem_181064")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_163278; nest_i_182566++) {
                ((int8_t *) mem_181064.mem)[nest_i_182566] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181066, bytes_181065, "mem_181066")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_163278; nest_i_182567++) {
                ((int64_t *) mem_181066.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181068, bytes_181065, "mem_181068")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_163278; nest_i_182568++) {
                ((double *) mem_181068.mem)[nest_i_182568] = 0.0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176806;
            int64_t defunc_0_mergeFunc_seq_res_176807;
            bool loop_while_176811;
            int64_t p_176812;
            
            loop_while_176811 = loop_cond_176805;
            p_176812 = (int64_t) 0;
            while (loop_while_176811) {
                bool x_176816 = sle64((int64_t) 0, p_176812);
                bool y_176817 = slt64(p_176812, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176818 = x_176816 && y_176817;
                bool index_certs_176819;
                
                if (!bounds_check_176818) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178405 = sle64((int64_t) 1, p_176812);
                int64_t index_concat_i_178406 = sub64(p_176812, (int64_t) 1);
                int64_t index_concat_178407;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180200 = ((int64_t *) mem_181049)[index_concat_i_178406];
                    
                    index_concat_178407 = x_180200;
                } else {
                    index_concat_178407 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178409;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178409 = index_concat_178407;
                } else {
                    index_concat_branch_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_178401;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180201 = ((int64_t *) mem_181051)[index_concat_i_178406];
                    
                    index_concat_178401 = x_180201;
                } else {
                    index_concat_178401 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178403;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178403 = index_concat_178401;
                } else {
                    index_concat_branch_178403 = (int64_t) 0;
                }
                
                int64_t ubs_176822 = add64((int64_t) 1, p_176812);
                bool x_176823 = sle64((int64_t) 0, ubs_176822);
                bool y_176824 = slt64(ubs_176822, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176825 = x_176823 && y_176824;
                bool index_certs_176826;
                
                if (!bounds_check_176825) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178393 = sle64((int64_t) 1, ubs_176822);
                int64_t index_concat_178395;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180202 = ((int64_t *) mem_181049)[p_176812];
                    
                    index_concat_178395 = x_180202;
                } else {
                    index_concat_178395 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178397 = index_concat_178395;
                } else {
                    index_concat_branch_178397 = (int64_t) 0;
                }
                
                int64_t index_concat_178389;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180203 = ((int64_t *) mem_181051)[p_176812];
                    
                    index_concat_178389 = x_180203;
                } else {
                    index_concat_178389 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178391;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178391 = index_concat_178389;
                } else {
                    index_concat_branch_178391 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 = sub64(index_concat_branch_178391, index_concat_branch_178403);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 = sub64(index_concat_branch_178397, index_concat_branch_178409);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t ind_bottom_176832 = add64(index_concat_branch_178403, index_concat_branch_178409);
                int64_t ind_top_176833 = add64(index_concat_branch_178391, index_concat_branch_178397);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 = sub64(ind_top_176833, ind_bottom_176832);
                bool empty_slice_176835 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 == (int64_t) 0;
                int64_t m_176836 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 1);
                int64_t i_p_m_t_s_176837 = add64(m_176836, index_concat_branch_178409);
                bool zzero_leq_i_p_m_t_s_176838 = sle64((int64_t) 0, i_p_m_t_s_176837);
                bool i_p_m_t_s_leq_w_176839 = slt64(i_p_m_t_s_176837, window_sizze_163278);
                bool zzero_lte_i_176840 = sle64((int64_t) 0, index_concat_branch_178409);
                bool i_lte_j_176841 = sle64(index_concat_branch_178409, index_concat_branch_178397);
                bool y_176842 = i_p_m_t_s_leq_w_176839 && zzero_lte_i_176840;
                bool y_176843 = zzero_leq_i_p_m_t_s_176838 && y_176842;
                bool forwards_ok_176844 = i_lte_j_176841 && y_176843;
                bool ok_or_empty_176845 = empty_slice_176835 || forwards_ok_176844;
                bool index_certs_176846;
                
                if (!ok_or_empty_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178409, ":", (long long) index_concat_branch_178397, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176847 = slt64(index_concat_branch_178397, index_concat_branch_178409);
                bool valid_176848 = !bounds_invalid_upwards_176847;
                bool range_valid_c_176849;
                
                if (!valid_176848) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178409, "..<", (long long) index_concat_branch_178397, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178403);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_163278);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178403);
                bool i_lte_j_176861 = sle64(index_concat_branch_178403, index_concat_branch_178391);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178403, ":", (long long) index_concat_branch_178391, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178391, index_concat_branch_178403);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178403, "..<", (long long) index_concat_branch_178391, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181085 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool cond_176878 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zs_lhs_176879 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zp_rhs_176880 = sdiv_safe64(zs_lhs_176879, (int64_t) 20);
                int64_t min_num_blocks_176881 = add64((int64_t) 1, zp_rhs_176880);
                bool loop_cond_176882 = slt64((int64_t) 1, min_num_blocks_176881);
                bool smallest_pow_2_geq_than_res_176883;
                int64_t smallest_pow_2_geq_than_res_176884;
                bool loop_while_176885;
                int64_t x_176886;
                
                loop_while_176885 = loop_cond_176882;
                x_176886 = (int64_t) 1;
                while (loop_while_176885) {
                    int64_t loopres_176887 = mul64((int64_t) 2, x_176886);
                    bool loop_cond_176888 = slt64(loopres_176887, min_num_blocks_176881);
                    bool loop_while_tmp_182574 = loop_cond_176888;
                    int64_t x_tmp_182575 = loopres_176887;
                    
                    loop_while_176885 = loop_while_tmp_182574;
                    x_176886 = x_tmp_182575;
                }
                smallest_pow_2_geq_than_res_176883 = loop_while_176885;
                smallest_pow_2_geq_than_res_176884 = x_176886;
                
                bool zzero_176889 = smallest_pow_2_geq_than_res_176884 == (int64_t) 0;
                bool nonzzero_176890 = !zzero_176889;
                bool protect_assert_disj_176891 = cond_176878 || nonzzero_176890;
                bool nonzzero_cert_176892;
                
                if (!protect_assert_disj_176891) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176893 = sdiv_safe64(zs_lhs_176879, smallest_pow_2_geq_than_res_176884);
                int64_t block_sizze_176894 = add64((int64_t) 1, zp_rhs_176893);
                bool y_176901 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                bool protect_assert_disj_182238 = cond_176878 || y_176901;
                bool index_certs_176902;
                
                if (!protect_assert_disj_182238) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176928 = slt64(smallest_pow_2_geq_than_res_176884, (int64_t) 0);
                bool valid_176929 = !bounds_invalid_upwards_176928;
                bool protect_assert_disj_182248 = cond_176878 || valid_176929;
                bool range_valid_c_176930;
                
                if (!protect_assert_disj_182248) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176884, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176932 = slt64(block_sizze_176894, (int64_t) 0);
                bool valid_176933 = !bounds_invalid_upwards_176932;
                bool protect_assert_disj_182250 = cond_176878 || valid_176933;
                bool range_valid_c_176934;
                
                if (!protect_assert_disj_182250) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176894, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176936 = sle64(block_sizze_176894, (int64_t) 1);
                int64_t tmp_176937 = sub64(block_sizze_176894, (int64_t) 2);
                bool bounds_invalid_upwards_176938 = slt64(tmp_176937, (int64_t) 0);
                bool valid_176940 = !bounds_invalid_upwards_176938;
                bool protect_assert_disj_176941 = cond_176936 || valid_176940;
                bool protect_assert_disj_182252 = cond_176878 || protect_assert_disj_176941;
                bool range_valid_c_176942;
                
                if (!protect_assert_disj_182252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176937, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177503 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool empty_or_match_cert_177504;
                
                if (!dim_match_177503) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "](i8, i64, f64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177505 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == (int64_t) 0;
                int64_t m_177506 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177507 = sle64((int64_t) 0, m_177506);
                bool i_p_m_t_s_leq_w_177508 = slt64(m_177506, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834);
                bool y_177509 = zzero_leq_i_p_m_t_s_177507 && i_p_m_t_s_leq_w_177508;
                bool ok_or_empty_177510 = empty_slice_177505 || y_177509;
                bool index_certs_177511;
                
                if (!ok_or_empty_177510) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177512 = add64(ind_bottom_176832, m_177506);
                bool zzero_leq_i_p_m_t_s_177513 = sle64((int64_t) 0, i_p_m_t_s_177512);
                bool i_p_m_t_s_leq_w_177514 = slt64(i_p_m_t_s_177512, window_sizze_163278);
                bool zzero_lte_i_177515 = sle64((int64_t) 0, ind_bottom_176832);
                bool i_lte_j_177516 = sle64(ind_bottom_176832, ind_top_176833);
                bool y_177517 = i_p_m_t_s_leq_w_177514 && zzero_lte_i_177515;
                bool y_177518 = zzero_leq_i_p_m_t_s_177513 && y_177517;
                bool forwards_ok_177519 = i_lte_j_177516 && y_177518;
                bool ok_or_empty_177520 = empty_slice_177505 || forwards_ok_177519;
                bool index_certs_177521;
                
                if (!ok_or_empty_177520) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176832, ":", (long long) ind_top_176833, "] out of bounds for array of shape [", (long long) window_sizze_163278, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178385 = p_175542 + index_concat_branch_178409;
                
                if (memblock_alloc(ctx, &mem_181084, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "mem_181084")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182576 = 0; nest_i_182576 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; nest_i_182576++) {
                    ((int8_t *) mem_181084.mem)[nest_i_182576] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182577 = 0; i_182577 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; i_182577++) {
                    int64_t x_182578 = index_concat_branch_178409 + i_182577 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[i_182577] = x_182578;
                }
                
                int64_t slice_178384 = p_175543 + index_concat_branch_178403;
                
                for (int64_t nest_i_182579 = 0; nest_i_182579 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; nest_i_182579++) {
                    ((int8_t *) mem_181084.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + nest_i_182579] = (int8_t) 1;
                }
                for (int64_t i_182580 = 0; i_182580 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; i_182580++) {
                    int64_t x_182581 = index_concat_branch_178403 + i_182580 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + i_182580] = x_182581;
                }
                
                int64_t tmp_offs_182582 = (int64_t) 0;
                
                if (!(tmp_offs_182582 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182582 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t tmp_offs_182583 = (int64_t) 0;
                
                if (!(tmp_offs_182583 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182583 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                if (memblock_alloc(ctx, &mem_181088, bytes_181085, "mem_181088")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182584 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181032.mem, slice_178385, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181033.mem, slice_178384, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t flat_dim_176895 = smallest_pow_2_geq_than_res_176884 * block_sizze_176894;
                bool x_182233 = !cond_176878;
                int64_t greatest_divisor_leq_than_arg1_176899 = mul64((int64_t) 2, block_sizze_176894);
                int64_t merge_block_sizze_176900;
                
                if (x_182233) {
                    int64_t x_182235;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182235, (int64_t) 8, greatest_divisor_leq_than_arg1_176899) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176900 = x_182235;
                } else {
                    merge_block_sizze_176900 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178379 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 0);
                int8_t index_concat_branch_178383 = btoi_bool_i8(index_concat_cmp_178379);
                int64_t index_concat_i_180204 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t index_primexp_180205 = add64(index_concat_branch_178403, index_concat_i_180204);
                int64_t index_concat_branch_178377;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178377 = index_primexp_180205;
                } else {
                    index_concat_branch_178377 = index_concat_branch_178409;
                }
                
                bool x_182229 = !index_concat_cmp_178379;
                bool protect_cond_conj_182239 = x_182229 && x_182233;
                double index_concat_178370;
                
                if (protect_cond_conj_182239) {
                    double x_182231 = ((double *) a_list_mem_181032.mem)[slice_178385];
                    
                    index_concat_178370 = x_182231;
                } else {
                    index_concat_178370 = 0.0;
                }
                
                int64_t slice_180207 = slice_178384 + index_concat_i_180204;
                bool protect_cond_conj_182240 = index_concat_cmp_178379 && x_182233;
                double index_concat_180208;
                
                if (protect_cond_conj_182240) {
                    double x_182227 = ((double *) b_list_mem_181033.mem)[slice_180207];
                    
                    index_concat_180208 = x_182227;
                } else {
                    index_concat_180208 = 0.0;
                }
                
                double index_concat_branch_178371;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178371 = index_concat_180208;
                } else {
                    index_concat_branch_178371 = index_concat_178370;
                }
                
                int8_t defunc_0_reduce_res_180439;
                int64_t defunc_0_reduce_res_180440;
                double defunc_0_reduce_res_180441;
                
                if (x_182233) {
                    int8_t x_182241;
                    int64_t x_182242;
                    double x_182243;
                    int8_t redout_180785;
                    int64_t redout_180786;
                    double redout_180787;
                    
                    redout_180785 = index_concat_branch_178383;
                    redout_180786 = index_concat_branch_178377;
                    redout_180787 = index_concat_branch_178371;
                    for (int64_t i_180788 = 0; i_180788 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831; i_180788++) {
                        bool index_concat_cmp_180992 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, i_180788);
                        int8_t index_concat_branch_180996 = btoi_bool_i8(index_concat_cmp_180992);
                        int64_t index_concat_branch_180990;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180987 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t index_primexp_181014 = add64(index_concat_branch_178403, index_concat_i_180987);
                            
                            index_concat_branch_180990 = index_primexp_181014;
                        } else {
                            int64_t index_primexp_181016 = add64(index_concat_branch_178409, i_180788);
                            
                            index_concat_branch_180990 = index_primexp_181016;
                        }
                        
                        double index_concat_branch_180984;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180981 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t slice_181011 = slice_178384 + index_concat_i_180981;
                            double index_concat_180982 = ((double *) b_list_mem_181033.mem)[slice_181011];
                            
                            index_concat_branch_180984 = index_concat_180982;
                        } else {
                            int64_t slice_181012 = slice_178385 + i_180788;
                            double index_concat_180983 = ((double *) a_list_mem_181032.mem)[slice_181012];
                            
                            index_concat_branch_180984 = index_concat_180983;
                        }
                        
                        bool eq_x_y_181027 = redout_180785 == (int8_t) 1;
                        bool eq_x_zz_181028 = redout_180785 == (int8_t) 0;
                        bool p_and_eq_x_y_181029 = index_concat_cmp_180992 && eq_x_y_181027;
                        bool not_p_181030 = !index_concat_cmp_180992;
                        bool p_and_eq_x_y_181031 = eq_x_zz_181028 && not_p_181030;
                        bool cond_176918 = p_and_eq_x_y_181029 || p_and_eq_x_y_181031;
                        bool defunc_0_leq_res_t_res_176919 = sle64(redout_180786, index_concat_branch_180990);
                        bool defunc_0_leq_res_176920 = redout_180787 <= index_concat_branch_180984;
                        bool x_176921 = cond_176918 && defunc_0_leq_res_t_res_176919;
                        bool x_176922 = !cond_176918;
                        bool y_176923 = defunc_0_leq_res_176920 && x_176922;
                        bool defunc_0_leq_res_176924 = x_176921 || y_176923;
                        int8_t defunc_0_op_res_176925;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176925 = index_concat_branch_180996;
                        } else {
                            defunc_0_op_res_176925 = redout_180785;
                        }
                        
                        int64_t defunc_0_op_res_176926;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176926 = index_concat_branch_180990;
                        } else {
                            defunc_0_op_res_176926 = redout_180786;
                        }
                        
                        double defunc_0_op_res_176927;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176927 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_176927 = redout_180787;
                        }
                        
                        int8_t redout_tmp_182585 = defunc_0_op_res_176925;
                        int64_t redout_tmp_182586 = defunc_0_op_res_176926;
                        double redout_tmp_182587 = defunc_0_op_res_176927;
                        
                        redout_180785 = redout_tmp_182585;
                        redout_180786 = redout_tmp_182586;
                        redout_180787 = redout_tmp_182587;
                    }
                    x_182241 = redout_180785;
                    x_182242 = redout_180786;
                    x_182243 = redout_180787;
                    defunc_0_reduce_res_180439 = x_182241;
                    defunc_0_reduce_res_180440 = x_182242;
                    defunc_0_reduce_res_180441 = x_182243;
                } else {
                    defunc_0_reduce_res_180439 = (int8_t) 0;
                    defunc_0_reduce_res_180440 = (int64_t) 0;
                    defunc_0_reduce_res_180441 = 0.0;
                }
                
                int64_t distance_176939 = add64((int64_t) 1, tmp_176937);
                int64_t binop_x_181091 = (int64_t) 8 * smallest_pow_2_geq_than_res_176884;
                int64_t bytes_181092 = block_sizze_176894 * binop_x_181091;
                int64_t bytes_181110 = (int64_t) 8 * block_sizze_176894;
                bool loop_cond_177048 = slt64(block_sizze_176894, flat_dim_176895);
                bool zzero_177049 = merge_block_sizze_176900 == (int64_t) 0;
                bool nonzzero_177050 = !zzero_177049;
                
                if (cond_176878) {
                    if (memblock_set(ctx, &ext_mem_181383, &mem_181084, "mem_181084") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &mem_181086, "mem_181086") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &mem_181088, "mem_181088") != 0)
                        return 1;
                } else {
                    if (mem_181090_cached_sizze_182776 < flat_dim_176895) {
                        err = lexical_realloc(ctx, &mem_181090, &mem_181090_cached_sizze_182776, flat_dim_176895);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181093_cached_sizze_182777 < bytes_181092) {
                        err = lexical_realloc(ctx, &mem_181093, &mem_181093_cached_sizze_182777, bytes_181092);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181096_cached_sizze_182778 < bytes_181092) {
                        err = lexical_realloc(ctx, &mem_181096, &mem_181096_cached_sizze_182778, bytes_181092);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181109_cached_sizze_182779 < block_sizze_176894) {
                        err = lexical_realloc(ctx, &mem_181109, &mem_181109_cached_sizze_182779, block_sizze_176894);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181111_cached_sizze_182780 < bytes_181110) {
                        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_182780, bytes_181110);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182781 < bytes_181110) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182781, bytes_181110);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180805 = 0; i_180805 < smallest_pow_2_geq_than_res_176884; i_180805++) {
                        int64_t zp_lhs_176947 = mul64(block_sizze_176894, i_180805);
                        
                        for (int64_t i_180795 = 0; i_180795 < block_sizze_176894; i_180795++) {
                            int64_t k_176952 = add64(zp_lhs_176947, i_180795);
                            bool cond_176953 = slt64(k_176952, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                            int8_t lifted_lambda_res_176954;
                            int64_t lifted_lambda_res_176955;
                            double lifted_lambda_res_176956;
                            
                            if (cond_176953) {
                                bool x_180214 = sle64((int64_t) 0, k_176952);
                                bool bounds_check_180215 = cond_176953 && x_180214;
                                bool index_certs_180216;
                                
                                if (!bounds_check_180215) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176952, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180217 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, k_176952);
                                int8_t index_concat_branch_180218 = btoi_bool_i8(index_concat_cmp_180217);
                                int64_t index_concat_branch_180219;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180220 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t index_primexp_180221 = add64(index_concat_branch_178403, index_concat_i_180220);
                                    
                                    index_concat_branch_180219 = index_primexp_180221;
                                } else {
                                    int64_t index_primexp_180222 = add64(k_176952, index_concat_branch_178409);
                                    
                                    index_concat_branch_180219 = index_primexp_180222;
                                }
                                
                                double index_concat_branch_180223;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180224 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t slice_180225 = slice_178384 + index_concat_i_180224;
                                    double index_concat_180226 = ((double *) b_list_mem_181033.mem)[slice_180225];
                                    
                                    index_concat_branch_180223 = index_concat_180226;
                                } else {
                                    int64_t slice_180227 = k_176952 + slice_178385;
                                    double index_concat_180228 = ((double *) a_list_mem_181032.mem)[slice_180227];
                                    
                                    index_concat_branch_180223 = index_concat_180228;
                                }
                                lifted_lambda_res_176954 = index_concat_branch_180218;
                                lifted_lambda_res_176955 = index_concat_branch_180219;
                                lifted_lambda_res_176956 = index_concat_branch_180223;
                            } else {
                                lifted_lambda_res_176954 = defunc_0_reduce_res_180439;
                                lifted_lambda_res_176955 = defunc_0_reduce_res_180440;
                                lifted_lambda_res_176956 = defunc_0_reduce_res_180441;
                            }
                            ((int8_t *) mem_181109)[i_180795] = lifted_lambda_res_176954;
                            ((int64_t *) mem_181111)[i_180795] = lifted_lambda_res_176955;
                            ((double *) mem_181113)[i_180795] = lifted_lambda_res_176956;
                        }
                        if (!cond_176936) {
                            for (int64_t i_176969 = 0; i_176969 < distance_176939; i_176969++) {
                                int64_t gt_arg1_176973 = add64((int64_t) 1, i_176969);
                                bool x_176974 = sle64((int64_t) 0, gt_arg1_176973);
                                bool y_176975 = slt64(gt_arg1_176973, block_sizze_176894);
                                bool bounds_check_176976 = x_176974 && y_176975;
                                bool index_certs_176977;
                                
                                if (!bounds_check_176976) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176973, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176981 = slt64(i_176969, block_sizze_176894);
                                bool index_certs_176982;
                                
                                if (!y_176981) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176969, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176978 = ((int8_t *) mem_181109)[gt_arg1_176973];
                                int64_t gt_arg1_176979 = ((int64_t *) mem_181111)[gt_arg1_176973];
                                double gt_arg1_176980 = ((double *) mem_181113)[gt_arg1_176973];
                                int8_t gt_arg0_176983 = ((int8_t *) mem_181109)[i_176969];
                                int64_t gt_arg0_176984 = ((int64_t *) mem_181111)[i_176969];
                                double gt_arg0_176985 = ((double *) mem_181113)[i_176969];
                                bool cond_176986 = gt_arg0_176983 == gt_arg1_176978;
                                bool defunc_0_leq_res_t_res_176987 = sle64(gt_arg0_176984, gt_arg1_176979);
                                bool defunc_0_leq_res_176988 = gt_arg0_176985 <= gt_arg1_176980;
                                bool x_176989 = cond_176986 && defunc_0_leq_res_t_res_176987;
                                bool x_176990 = !cond_176986;
                                bool y_176991 = defunc_0_leq_res_176988 && x_176990;
                                bool defunc_0_leq_res_176992 = x_176989 || y_176991;
                                bool defunc_0_lifted_gt_res_176993 = !defunc_0_leq_res_176992;
                                bool s_176994;
                                int64_t s_176998;
                                bool loop_while_176999;
                                int64_t j_177003;
                                
                                loop_while_176999 = defunc_0_lifted_gt_res_176993;
                                j_177003 = i_176969;
                                while (loop_while_176999) {
                                    bool x_177004 = sle64((int64_t) 0, j_177003);
                                    bool y_177005 = slt64(j_177003, block_sizze_176894);
                                    bool bounds_check_177006 = x_177004 && y_177005;
                                    bool index_certs_177007;
                                    
                                    if (!bounds_check_177006) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177003, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177011 = add64((int64_t) 1, j_177003);
                                    bool x_177012 = sle64((int64_t) 0, copy_arg0_177011);
                                    bool y_177013 = slt64(copy_arg0_177011, block_sizze_176894);
                                    bool bounds_check_177014 = x_177012 && y_177013;
                                    bool index_certs_177015;
                                    
                                    if (!bounds_check_177014) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177011, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177008 = ((int8_t *) mem_181109)[j_177003];
                                    int64_t copy_arg0_177009 = ((int64_t *) mem_181111)[j_177003];
                                    double copy_arg0_177010 = ((double *) mem_181113)[j_177003];
                                    int8_t copy_arg0_177016 = ((int8_t *) mem_181109)[copy_arg0_177011];
                                    int64_t copy_arg0_177017 = ((int64_t *) mem_181111)[copy_arg0_177011];
                                    double copy_arg0_177018 = ((double *) mem_181113)[copy_arg0_177011];
                                    
                                    ((int8_t *) mem_181109)[j_177003] = copy_arg0_177016;
                                    ((int64_t *) mem_181111)[j_177003] = copy_arg0_177017;
                                    ((double *) mem_181113)[j_177003] = copy_arg0_177018;
                                    ((int8_t *) mem_181109)[copy_arg0_177011] = copy_arg0_177008;
                                    ((int64_t *) mem_181111)[copy_arg0_177011] = copy_arg0_177009;
                                    ((double *) mem_181113)[copy_arg0_177011] = copy_arg0_177010;
                                    
                                    int64_t tmp_177025 = sub64(j_177003, (int64_t) 1);
                                    bool cond_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool loop_cond_177027;
                                    
                                    if (cond_177026) {
                                        bool y_180232 = slt64(tmp_177025, block_sizze_176894);
                                        bool bounds_check_180233 = cond_177026 && y_180232;
                                        bool index_certs_180234;
                                        
                                        if (!bounds_check_180233) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180229 = ((int8_t *) mem_181109)[j_177003];
                                        int64_t gt_arg1_180230 = ((int64_t *) mem_181111)[j_177003];
                                        double gt_arg1_180231 = ((double *) mem_181113)[j_177003];
                                        int8_t gt_arg0_180235 = ((int8_t *) mem_181109)[tmp_177025];
                                        int64_t gt_arg0_180236 = ((int64_t *) mem_181111)[tmp_177025];
                                        double gt_arg0_180237 = ((double *) mem_181113)[tmp_177025];
                                        bool cond_180238 = gt_arg0_180235 == gt_arg1_180229;
                                        bool defunc_0_leq_res_t_res_180239 = sle64(gt_arg0_180236, gt_arg1_180230);
                                        bool defunc_0_leq_res_180240 = gt_arg0_180237 <= gt_arg1_180231;
                                        bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                        bool x_180242 = !cond_180238;
                                        bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                        bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                        bool defunc_0_lifted_gt_res_180245 = !defunc_0_leq_res_180244;
                                        
                                        loop_cond_177027 = defunc_0_lifted_gt_res_180245;
                                    } else {
                                        loop_cond_177027 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182597 = loop_cond_177027;
                                    int64_t j_tmp_182601 = tmp_177025;
                                    
                                    loop_while_176999 = loop_while_tmp_182597;
                                    j_177003 = j_tmp_182601;
                                }
                                s_176994 = loop_while_176999;
                                s_176998 = j_177003;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181090, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181109, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181093, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181111, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181096, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                    }
                    if (memblock_alloc(ctx, &mem_181190, flat_dim_176895, "mem_181190")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181190.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint8_t *) mem_181090, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181194, bytes_181092, "mem_181194")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181194.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint64_t *) mem_181093, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181198, bytes_181092, "mem_181198")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181198.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint64_t *) mem_181096, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    
                    int64_t data_177051;
                    bool data_177052;
                    int64_t data_177056;
                    int64_t loop_dz2084Uz2082U_177057;
                    bool loop_while_177058;
                    int64_t stride_177062;
                    
                    if (memblock_set(ctx, &mem_param_181202, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181205, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181208, &mem_181198, "mem_181198") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177057 = flat_dim_176895;
                    loop_while_177058 = loop_cond_177048;
                    stride_177062 = block_sizze_176894;
                    while (loop_while_177058) {
                        int64_t next_stride_177063 = mul64((int64_t) 2, stride_177062);
                        bool zzero_177064 = next_stride_177063 == (int64_t) 0;
                        bool nonzzero_177065 = !zzero_177064;
                        bool nonzzero_cert_177066;
                        
                        if (!nonzzero_177065) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177067 = sdiv64(flat_dim_176895, next_stride_177063);
                        bool bounds_invalid_upwards_177068 = slt64(num_merges_177067, (int64_t) 0);
                        bool valid_177069 = !bounds_invalid_upwards_177068;
                        bool range_valid_c_177070;
                        
                        if (!valid_177069) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177067, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177072 = sub64(next_stride_177063, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, m_177072);
                        bool cond_177075 = slt64(next_stride_177063, (int64_t) 10);
                        bool protect_assert_disj_177076 = nonzzero_177050 || cond_177075;
                        bool nonzzero_cert_177077;
                        
                        if (!protect_assert_disj_177076) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177078 = smod_safe64(next_stride_177063, merge_block_sizze_176900);
                        bool num_blocks_177079 = zeze_lhs_177078 == (int64_t) 0;
                        bool protect_assert_disj_177080 = cond_177075 || num_blocks_177079;
                        bool assert_c_177081;
                        
                        if (!protect_assert_disj_177080) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177083 = sdiv_safe64(next_stride_177063, merge_block_sizze_176900);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084 = add64((int64_t) 1, num_blocks_177083);
                        int64_t j_m_i_177085 = sub64(next_stride_177063, stride_177062);
                        int64_t flat_dim_177086 = merge_block_sizze_176900 * num_blocks_177083;
                        bool bounds_invalid_upwards_177087 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, (int64_t) 0);
                        bool empty_slice_177088 = j_m_i_177085 == (int64_t) 0;
                        int64_t m_177089 = sub64(j_m_i_177085, (int64_t) 1);
                        bool zzero_lte_i_177090 = sle64((int64_t) 0, stride_177062);
                        bool i_lte_j_177091 = sle64(stride_177062, next_stride_177063);
                        bool empty_slice_177092 = stride_177062 == (int64_t) 0;
                        int64_t m_177093 = sub64(stride_177062, (int64_t) 1);
                        bool bounds_invalid_upwards_177094 = slt64(num_blocks_177083, (int64_t) 0);
                        bool cond_177095 = slt64((int64_t) 0, stride_177062);
                        bool valid_177096 = !bounds_invalid_upwards_177087;
                        int64_t i_p_m_t_s_177097 = add64(stride_177062, m_177089);
                        bool zzero_leq_i_p_m_t_s_177098 = sle64((int64_t) 0, m_177093);
                        bool i_p_m_t_s_leq_w_177099 = slt64(m_177093, next_stride_177063);
                        bool valid_177100 = !bounds_invalid_upwards_177094;
                        bool i_p_m_t_s_leq_w_177101 = slt64(m_177072, flat_dim_177086);
                        bool y_177102 = slt64((int64_t) 0, j_m_i_177085);
                        bool protect_assert_disj_177103 = cond_177075 || valid_177096;
                        bool range_valid_c_177104;
                        
                        if (!protect_assert_disj_177103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177105 = sle64((int64_t) 0, i_p_m_t_s_177097);
                        bool i_p_m_t_s_leq_w_177106 = slt64(i_p_m_t_s_177097, next_stride_177063);
                        bool y_177107 = zzero_leq_i_p_m_t_s_177098 && i_p_m_t_s_leq_w_177099;
                        bool protect_assert_disj_177108 = cond_177075 || valid_177100;
                        bool range_valid_c_177109;
                        
                        if (!protect_assert_disj_177108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177083, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177110 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177101;
                        bool y_177111 = zzero_lte_i_177090 && i_p_m_t_s_leq_w_177106;
                        bool forwards_ok_177112 = zzero_lte_i_177090 && y_177107;
                        bool ok_or_empty_177113 = zzero_177064 || y_177110;
                        bool protect_assert_disj_177114 = cond_177095 || y_177102;
                        bool y_177115 = zzero_leq_i_p_m_t_s_177105 && y_177111;
                        bool ok_or_empty_177116 = empty_slice_177092 || forwards_ok_177112;
                        bool protect_assert_disj_177117 = cond_177075 || ok_or_empty_177113;
                        bool index_certs_177118;
                        
                        if (!protect_assert_disj_177117) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) flat_dim_177086, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177119 = !cond_177075;
                        bool protect_assert_disj_177120 = protect_assert_disj_177114 || loop_not_taken_177119;
                        bool index_certs_177121;
                        
                        if (!protect_assert_disj_177120) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177122 = i_lte_j_177091 && y_177115;
                        bool protect_assert_disj_177123 = cond_177075 || ok_or_empty_177116;
                        bool index_certs_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177125 = ok_or_empty_177116 || loop_not_taken_177119;
                        bool index_certs_177126;
                        
                        if (!protect_assert_disj_177125) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177127 = empty_slice_177088 || forwards_ok_177122;
                        bool protect_assert_disj_177128 = cond_177075 || ok_or_empty_177127;
                        bool index_certs_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177130 = loop_not_taken_177119 || ok_or_empty_177127;
                        bool index_certs_177131;
                        
                        if (!protect_assert_disj_177130) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181209 = next_stride_177063 * num_merges_177067;
                        int64_t binop_x_181211 = (int64_t) 8 * num_merges_177067;
                        int64_t bytes_181212 = next_stride_177063 * binop_x_181211;
                        bool i_lte_j_177074 = sle64((int64_t) 0, next_stride_177063);
                        
                        if (mem_181210_cached_sizze_182782 < bytes_181209) {
                            err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_182782, bytes_181209);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181213_cached_sizze_182783 < bytes_181212) {
                            err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_182783, bytes_181212);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181216_cached_sizze_182784 < bytes_181212) {
                            err = lexical_realloc(ctx, &mem_181216, &mem_181216_cached_sizze_182784, bytes_181212);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181229 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084;
                        int64_t binop_x_181247 = (int64_t) 8 * num_blocks_177083;
                        int64_t bytes_181248 = merge_block_sizze_176900 * binop_x_181247;
                        int64_t bytes_181312 = (int64_t) 16 * stride_177062;
                        
                        for (int64_t i_180832 = 0; i_180832 < num_merges_177067; i_180832++) {
                            int64_t start_177136 = mul64(next_stride_177063, i_180832);
                            int64_t j_m_i_177137 = sub64(loop_dz2084Uz2082U_177057, start_177136);
                            bool empty_slice_177138 = j_m_i_177137 == (int64_t) 0;
                            int64_t m_177139 = sub64(j_m_i_177137, (int64_t) 1);
                            int64_t i_p_m_t_s_177140 = add64(start_177136, m_177139);
                            bool zzero_leq_i_p_m_t_s_177141 = sle64((int64_t) 0, i_p_m_t_s_177140);
                            bool i_p_m_t_s_leq_w_177142 = slt64(i_p_m_t_s_177140, loop_dz2084Uz2082U_177057);
                            bool zzero_lte_i_177143 = sle64((int64_t) 0, start_177136);
                            bool i_lte_j_177144 = sle64(start_177136, loop_dz2084Uz2082U_177057);
                            bool y_177145 = i_p_m_t_s_leq_w_177142 && zzero_lte_i_177143;
                            bool y_177146 = zzero_leq_i_p_m_t_s_177141 && y_177145;
                            bool forwards_ok_177147 = i_lte_j_177144 && y_177146;
                            bool ok_or_empty_177148 = empty_slice_177138 || forwards_ok_177147;
                            bool index_certs_177149;
                            
                            if (!ok_or_empty_177148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177136, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177057, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177150 = slt64(m_177072, j_m_i_177137);
                            bool y_177151 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177150;
                            bool forwards_ok_177152 = i_lte_j_177074 && y_177151;
                            bool ok_or_empty_177153 = zzero_177064 || forwards_ok_177152;
                            bool index_certs_177154;
                            
                            if (!ok_or_empty_177153) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) j_m_i_177137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177075) {
                                int8_t dummy_180284;
                                int64_t dummy_180285;
                                double dummy_180286;
                                
                                if (cond_177095) {
                                    int8_t head_res_180287 = ((int8_t *) mem_param_181202.mem)[start_177136];
                                    int64_t head_res_180288 = ((int64_t *) mem_param_181205.mem)[start_177136];
                                    double head_res_180289 = ((double *) mem_param_181208.mem)[start_177136];
                                    
                                    dummy_180284 = head_res_180287;
                                    dummy_180285 = head_res_180288;
                                    dummy_180286 = head_res_180289;
                                } else {
                                    int64_t slice_180290 = stride_177062 + start_177136;
                                    int8_t head_res_180291 = ((int8_t *) mem_param_181202.mem)[slice_180290];
                                    int64_t head_res_180292 = ((int64_t *) mem_param_181205.mem)[slice_180290];
                                    double head_res_180293 = ((double *) mem_param_181208.mem)[slice_180290];
                                    
                                    dummy_180284 = head_res_180291;
                                    dummy_180285 = head_res_180292;
                                    dummy_180286 = head_res_180293;
                                }
                                if (memblock_alloc(ctx, &mem_181311, next_stride_177063, "mem_181311")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182614 = 0; nest_i_182614 < next_stride_177063; nest_i_182614++) {
                                    ((int8_t *) mem_181311.mem)[nest_i_182614] = dummy_180284;
                                }
                                if (memblock_alloc(ctx, &mem_181313, bytes_181312, "mem_181313")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182615 = 0; nest_i_182615 < next_stride_177063; nest_i_182615++) {
                                    ((int64_t *) mem_181313.mem)[nest_i_182615] = dummy_180285;
                                }
                                if (memblock_alloc(ctx, &mem_181315, bytes_181312, "mem_181315")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182616 = 0; nest_i_182616 < next_stride_177063; nest_i_182616++) {
                                    ((double *) mem_181315.mem)[nest_i_182616] = dummy_180286;
                                }
                                
                                int64_t data_180297;
                                int64_t i_180302 = (int64_t) 0;
                                
                                for (int64_t k_180301 = 0; k_180301 < next_stride_177063; k_180301++) {
                                    int64_t j_180306 = sub64(k_180301, i_180302);
                                    bool cond_180307 = j_180306 == j_m_i_177085;
                                    bool cond_180308;
                                    
                                    if (cond_180307) {
                                        cond_180308 = 1;
                                    } else {
                                        bool cond_180309 = slt64(i_180302, stride_177062);
                                        bool cond_f_res_180310;
                                        
                                        if (cond_180309) {
                                            bool x_180311 = sle64((int64_t) 0, j_180306);
                                            bool y_180312 = slt64(j_180306, j_m_i_177085);
                                            bool bounds_check_180313 = x_180311 && y_180312;
                                            bool index_certs_180314;
                                            
                                            if (!bounds_check_180313) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180320 = sle64((int64_t) 0, i_180302);
                                            bool bounds_check_180321 = cond_180309 && x_180320;
                                            bool index_certs_180322;
                                            
                                            if (!bounds_check_180321) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180315 = stride_177062 + j_180306;
                                            int64_t slice_180316 = start_177136 + slice_180315;
                                            int8_t leq_arg1_180317 = ((int8_t *) mem_param_181202.mem)[slice_180316];
                                            int64_t leq_arg1_180318 = ((int64_t *) mem_param_181205.mem)[slice_180316];
                                            double leq_arg1_180319 = ((double *) mem_param_181208.mem)[slice_180316];
                                            int64_t slice_180323 = start_177136 + i_180302;
                                            int8_t leq_arg0_180324 = ((int8_t *) mem_param_181202.mem)[slice_180323];
                                            int64_t leq_arg0_180325 = ((int64_t *) mem_param_181205.mem)[slice_180323];
                                            double leq_arg0_180326 = ((double *) mem_param_181208.mem)[slice_180323];
                                            bool cond_180327 = leq_arg0_180324 == leq_arg1_180317;
                                            bool defunc_0_leq_res_t_res_180328 = sle64(leq_arg0_180325, leq_arg1_180318);
                                            bool defunc_0_leq_res_180329 = leq_arg0_180326 <= leq_arg1_180319;
                                            bool x_180330 = cond_180327 && defunc_0_leq_res_t_res_180328;
                                            bool x_180331 = !cond_180327;
                                            bool y_180332 = defunc_0_leq_res_180329 && x_180331;
                                            bool defunc_0_leq_res_180333 = x_180330 || y_180332;
                                            
                                            cond_f_res_180310 = defunc_0_leq_res_180333;
                                        } else {
                                            cond_f_res_180310 = 0;
                                        }
                                        cond_180308 = cond_f_res_180310;
                                    }
                                    
                                    int64_t loopres_180334;
                                    int8_t loopres_180335;
                                    int64_t loopres_180336;
                                    double loopres_180337;
                                    
                                    if (cond_180308) {
                                        bool x_180339 = sle64((int64_t) 0, i_180302);
                                        bool y_180340 = slt64(i_180302, stride_177062);
                                        bool bounds_check_180341 = x_180339 && y_180340;
                                        bool index_certs_180342;
                                        
                                        if (!bounds_check_180341) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180338 = add64((int64_t) 1, i_180302);
                                        int64_t slice_180343 = start_177136 + i_180302;
                                        int8_t tmp_180344 = ((int8_t *) mem_param_181202.mem)[slice_180343];
                                        int64_t tmp_180345 = ((int64_t *) mem_param_181205.mem)[slice_180343];
                                        double tmp_180346 = ((double *) mem_param_181208.mem)[slice_180343];
                                        
                                        loopres_180334 = tmp_180338;
                                        loopres_180335 = tmp_180344;
                                        loopres_180336 = tmp_180345;
                                        loopres_180337 = tmp_180346;
                                    } else {
                                        bool x_180347 = sle64((int64_t) 0, j_180306);
                                        bool y_180348 = slt64(j_180306, j_m_i_177085);
                                        bool bounds_check_180349 = x_180347 && y_180348;
                                        bool index_certs_180350;
                                        
                                        if (!bounds_check_180349) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180351 = stride_177062 + j_180306;
                                        int64_t slice_180352 = start_177136 + slice_180351;
                                        int8_t tmp_180353 = ((int8_t *) mem_param_181202.mem)[slice_180352];
                                        int64_t tmp_180354 = ((int64_t *) mem_param_181205.mem)[slice_180352];
                                        double tmp_180355 = ((double *) mem_param_181208.mem)[slice_180352];
                                        
                                        loopres_180334 = i_180302;
                                        loopres_180335 = tmp_180353;
                                        loopres_180336 = tmp_180354;
                                        loopres_180337 = tmp_180355;
                                    }
                                    ((int8_t *) mem_181311.mem)[k_180301] = loopres_180335;
                                    ((int64_t *) mem_181313.mem)[k_180301] = loopres_180336;
                                    ((double *) mem_181315.mem)[k_180301] = loopres_180337;
                                    
                                    int64_t i_tmp_182617 = loopres_180334;
                                    
                                    i_180302 = i_tmp_182617;
                                }
                                data_180297 = i_180302;
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181311, "mem_181311") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181313, "mem_181313") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181315, "mem_181315") != 0)
                                    return 1;
                            } else {
                                if (mem_181230_cached_sizze_182785 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_182785, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181232_cached_sizze_182786 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181232, &mem_181232_cached_sizze_182786, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180813 = 0; i_180813 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084; i_180813++) {
                                    int64_t split_count_arg3_177237 = mul64(merge_block_sizze_176900, i_180813);
                                    int64_t defunc_0_split_count_res_177238;
                                    int64_t defunc_0_split_count_res_177239;
                                    int64_t defunc_0_split_count_res_177240;
                                    int64_t defunc_0_split_count_res_177241;
                                    int64_t defunc_0_split_count_res_177242;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177238, &defunc_0_split_count_res_177239, &defunc_0_split_count_res_177240, &defunc_0_split_count_res_177241, &defunc_0_split_count_res_177242, (int64_t) 0, stride_177062, (int64_t) 0, j_m_i_177085, split_count_arg3_177237) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177243 = slt64((int64_t) 0, defunc_0_split_count_res_177242);
                                    bool defunc_0_split_count_res_177244;
                                    int64_t defunc_0_split_count_res_177245;
                                    int64_t defunc_0_split_count_res_177246;
                                    int64_t defunc_0_split_count_res_177247;
                                    int64_t defunc_0_split_count_res_177248;
                                    int64_t defunc_0_split_count_res_177249;
                                    bool loop_while_177250;
                                    int64_t ss_177251;
                                    int64_t ss_177252;
                                    int64_t tt_177253;
                                    int64_t tt_177254;
                                    int64_t count_177255;
                                    
                                    loop_while_177250 = loop_cond_177243;
                                    ss_177251 = defunc_0_split_count_res_177238;
                                    ss_177252 = defunc_0_split_count_res_177239;
                                    tt_177253 = defunc_0_split_count_res_177240;
                                    tt_177254 = defunc_0_split_count_res_177241;
                                    count_177255 = defunc_0_split_count_res_177242;
                                    while (loop_while_177250) {
                                        int64_t zlze_lhs_177256 = sub64(ss_177252, ss_177251);
                                        bool cond_177257 = sle64(zlze_lhs_177256, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177258;
                                        int64_t defunc_0_lifted_step_res_177259;
                                        int64_t defunc_0_lifted_step_res_177260;
                                        int64_t defunc_0_lifted_step_res_177261;
                                        
                                        if (cond_177257) {
                                            int64_t tmp_180359 = add64(tt_177253, count_177255);
                                            
                                            defunc_0_lifted_step_res_177258 = ss_177251;
                                            defunc_0_lifted_step_res_177259 = tmp_180359;
                                            defunc_0_lifted_step_res_177260 = tt_177254;
                                            defunc_0_lifted_step_res_177261 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177263 = sub64(tt_177254, tt_177253);
                                            bool cond_177264 = sle64(zlze_lhs_177263, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177265;
                                            int64_t defunc_0_lifted_step_res_f_res_177266;
                                            int64_t defunc_0_lifted_step_res_f_res_177267;
                                            int64_t defunc_0_lifted_step_res_f_res_177268;
                                            
                                            if (cond_177264) {
                                                int64_t tmp_180360 = add64(ss_177251, count_177255);
                                                
                                                defunc_0_lifted_step_res_f_res_177265 = tmp_180360;
                                                defunc_0_lifted_step_res_f_res_177266 = tt_177253;
                                                defunc_0_lifted_step_res_f_res_177267 = tt_177254;
                                                defunc_0_lifted_step_res_f_res_177268 = (int64_t) 0;
                                            } else {
                                                bool cond_177270 = count_177255 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177271;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177272;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177273;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177274;
                                                
                                                if (cond_177270) {
                                                    bool x_180362 = sle64((int64_t) 0, ss_177251);
                                                    bool y_180363 = slt64(ss_177251, stride_177062);
                                                    bool bounds_check_180364 = x_180362 && y_180363;
                                                    bool index_certs_180365;
                                                    
                                                    if (!bounds_check_180364) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177251, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180370 = sle64((int64_t) 0, tt_177253);
                                                    bool y_180371 = slt64(tt_177253, j_m_i_177085);
                                                    bool bounds_check_180372 = x_180370 && y_180371;
                                                    bool index_certs_180373;
                                                    
                                                    if (!bounds_check_180372) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177253, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180366 = start_177136 + ss_177251;
                                                    int8_t leq_arg1_180367 = ((int8_t *) mem_param_181202.mem)[slice_180366];
                                                    int64_t leq_arg1_180368 = ((int64_t *) mem_param_181205.mem)[slice_180366];
                                                    double leq_arg1_180369 = ((double *) mem_param_181208.mem)[slice_180366];
                                                    int64_t slice_180374 = stride_177062 + tt_177253;
                                                    int64_t slice_180375 = start_177136 + slice_180374;
                                                    int8_t leq_arg0_180376 = ((int8_t *) mem_param_181202.mem)[slice_180375];
                                                    int64_t leq_arg0_180377 = ((int64_t *) mem_param_181205.mem)[slice_180375];
                                                    double leq_arg0_180378 = ((double *) mem_param_181208.mem)[slice_180375];
                                                    bool cond_180379 = leq_arg0_180376 == leq_arg1_180367;
                                                    bool defunc_0_leq_res_t_res_180380 = sle64(leq_arg0_180377, leq_arg1_180368);
                                                    bool defunc_0_leq_res_180381 = leq_arg0_180378 <= leq_arg1_180369;
                                                    bool x_180382 = cond_180379 && defunc_0_leq_res_t_res_180380;
                                                    bool x_180383 = !cond_180379;
                                                    bool y_180384 = defunc_0_leq_res_180381 && x_180383;
                                                    bool defunc_0_leq_res_180385 = x_180382 || y_180384;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    
                                                    if (defunc_0_leq_res_180385) {
                                                        int64_t tmp_180388 = add64((int64_t) 1, tt_177253);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = ss_177251;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tmp_180388;
                                                    } else {
                                                        int64_t tmp_180389 = add64((int64_t) 1, ss_177251);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = tmp_180389;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tt_177253;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = tt_177254;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177303 = sdiv64(count_177255, (int64_t) 2);
                                                    int64_t n_177304 = sub64(count_177255, m_177303);
                                                    bool cond_177305 = n_177304 == (int64_t) 0;
                                                    int64_t zgze_lhs_177306 = add64(ss_177251, m_177303);
                                                    bool cond_f_res_177307 = sle64(ss_177252, zgze_lhs_177306);
                                                    bool x_177308 = !cond_177305;
                                                    bool y_177309 = cond_f_res_177307 && x_177308;
                                                    bool cond_177310 = cond_177305 || y_177309;
                                                    bool leq_y_x_177311;
                                                    
                                                    if (cond_177310) {
                                                        leq_y_x_177311 = 1;
                                                    } else {
                                                        bool x_177312 = sle64((int64_t) 0, zgze_lhs_177306);
                                                        bool y_177313 = slt64(zgze_lhs_177306, stride_177062);
                                                        bool bounds_check_177314 = x_177312 && y_177313;
                                                        bool index_certs_177315;
                                                        
                                                        if (!bounds_check_177314) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177306, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177320 = add64(tt_177253, n_177304);
                                                        int64_t leq_arg0_177321 = sub64(zm_lhs_177320, (int64_t) 1);
                                                        bool x_177322 = sle64((int64_t) 0, leq_arg0_177321);
                                                        bool y_177323 = slt64(leq_arg0_177321, j_m_i_177085);
                                                        bool bounds_check_177324 = x_177322 && y_177323;
                                                        bool index_certs_177325;
                                                        
                                                        if (!bounds_check_177324) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177321, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177316 = start_177136 + zgze_lhs_177306;
                                                        int8_t leq_arg1_177317 = ((int8_t *) mem_param_181202.mem)[slice_177316];
                                                        int64_t leq_arg1_177318 = ((int64_t *) mem_param_181205.mem)[slice_177316];
                                                        double leq_arg1_177319 = ((double *) mem_param_181208.mem)[slice_177316];
                                                        int64_t slice_177326 = stride_177062 + leq_arg0_177321;
                                                        int64_t slice_177327 = start_177136 + slice_177326;
                                                        int8_t leq_arg0_177328 = ((int8_t *) mem_param_181202.mem)[slice_177327];
                                                        int64_t leq_arg0_177329 = ((int64_t *) mem_param_181205.mem)[slice_177327];
                                                        double leq_arg0_177330 = ((double *) mem_param_181208.mem)[slice_177327];
                                                        bool cond_177331 = leq_arg0_177328 == leq_arg1_177317;
                                                        bool defunc_0_leq_res_t_res_177332 = sle64(leq_arg0_177329, leq_arg1_177318);
                                                        bool defunc_0_leq_res_177333 = leq_arg0_177330 <= leq_arg1_177319;
                                                        bool x_177334 = cond_177331 && defunc_0_leq_res_t_res_177332;
                                                        bool x_177335 = !cond_177331;
                                                        bool y_177336 = defunc_0_leq_res_177333 && x_177335;
                                                        bool defunc_0_leq_res_177337 = x_177334 || y_177336;
                                                        
                                                        leq_y_x_177311 = defunc_0_leq_res_177337;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                    
                                                    if (leq_y_x_177311) {
                                                        int64_t tmp_180390 = add64(tt_177253, n_177304);
                                                        int64_t tmp_180391 = sub64(count_177255, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tmp_180390;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tt_177254;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = tmp_180391;
                                                    } else {
                                                        int64_t tmp_177343 = add64(tt_177253, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tt_177253;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tmp_177343;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = count_177255;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = ss_177251;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                }
                                                defunc_0_lifted_step_res_f_res_177265 = defunc_0_lifted_step_res_f_res_f_res_177271;
                                                defunc_0_lifted_step_res_f_res_177266 = defunc_0_lifted_step_res_f_res_f_res_177272;
                                                defunc_0_lifted_step_res_f_res_177267 = defunc_0_lifted_step_res_f_res_f_res_177273;
                                                defunc_0_lifted_step_res_f_res_177268 = defunc_0_lifted_step_res_f_res_f_res_177274;
                                            }
                                            defunc_0_lifted_step_res_177258 = defunc_0_lifted_step_res_f_res_177265;
                                            defunc_0_lifted_step_res_177259 = defunc_0_lifted_step_res_f_res_177266;
                                            defunc_0_lifted_step_res_177260 = defunc_0_lifted_step_res_f_res_177267;
                                            defunc_0_lifted_step_res_177261 = defunc_0_lifted_step_res_f_res_177268;
                                        }
                                        
                                        int64_t loopres_177344;
                                        int64_t loopres_177345;
                                        int64_t loopres_177346;
                                        int64_t loopres_177347;
                                        int64_t loopres_177348;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_177344, &loopres_177345, &loopres_177346, &loopres_177347, &loopres_177348, defunc_0_lifted_step_res_177258, ss_177252, defunc_0_lifted_step_res_177259, defunc_0_lifted_step_res_177260, defunc_0_lifted_step_res_177261) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177349 = slt64((int64_t) 0, loopres_177348);
                                        bool loop_while_tmp_182623 = loop_cond_177349;
                                        int64_t ss_tmp_182624 = loopres_177344;
                                        int64_t ss_tmp_182625 = loopres_177345;
                                        int64_t tt_tmp_182626 = loopres_177346;
                                        int64_t tt_tmp_182627 = loopres_177347;
                                        int64_t count_tmp_182628 = loopres_177348;
                                        
                                        loop_while_177250 = loop_while_tmp_182623;
                                        ss_177251 = ss_tmp_182624;
                                        ss_177252 = ss_tmp_182625;
                                        tt_177253 = tt_tmp_182626;
                                        tt_177254 = tt_tmp_182627;
                                        count_177255 = count_tmp_182628;
                                    }
                                    defunc_0_split_count_res_177244 = loop_while_177250;
                                    defunc_0_split_count_res_177245 = ss_177251;
                                    defunc_0_split_count_res_177246 = ss_177252;
                                    defunc_0_split_count_res_177247 = tt_177253;
                                    defunc_0_split_count_res_177248 = tt_177254;
                                    defunc_0_split_count_res_177249 = count_177255;
                                    ((int64_t *) mem_181230)[i_180813] = defunc_0_split_count_res_177245;
                                    ((int64_t *) mem_181232)[i_180813] = defunc_0_split_count_res_177247;
                                }
                                if (mem_181246_cached_sizze_182787 < flat_dim_177086) {
                                    err = lexical_realloc(ctx, &mem_181246, &mem_181246_cached_sizze_182787, flat_dim_177086);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181249_cached_sizze_182788 < bytes_181248) {
                                    err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_182788, bytes_181248);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_182789 < bytes_181248) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_182789, bytes_181248);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180822 = 0; i_180822 < num_blocks_177083; i_180822++) {
                                    bool y_177356 = slt64(i_180822, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool index_certs_177358;
                                    
                                    if (!y_177356) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177359 = ((int64_t *) mem_181230)[i_180822];
                                    int64_t defunc_0_f_res_177360 = ((int64_t *) mem_181232)[i_180822];
                                    int64_t tmp_177361 = add64((int64_t) 1, i_180822);
                                    bool x_177362 = sle64((int64_t) 0, tmp_177361);
                                    bool y_177363 = slt64(tmp_177361, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool bounds_check_177364 = x_177362 && y_177363;
                                    bool index_certs_177365;
                                    
                                    if (!bounds_check_177364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177361, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177366 = ((int64_t *) mem_181230)[tmp_177361];
                                    int64_t defunc_0_f_res_177367 = ((int64_t *) mem_181232)[tmp_177361];
                                    int64_t merge_sequential_arg2_177368 = add64(stride_177062, defunc_0_f_res_177360);
                                    int64_t merge_sequential_arg2_177369 = add64(stride_177062, defunc_0_f_res_177367);
                                    int64_t j_m_i_177370 = sub64(merge_sequential_arg2_177369, merge_sequential_arg2_177368);
                                    bool empty_slice_177371 = j_m_i_177370 == (int64_t) 0;
                                    int64_t m_177372 = sub64(j_m_i_177370, (int64_t) 1);
                                    int64_t i_p_m_t_s_177373 = add64(merge_sequential_arg2_177368, m_177372);
                                    bool zzero_leq_i_p_m_t_s_177374 = sle64((int64_t) 0, i_p_m_t_s_177373);
                                    bool i_p_m_t_s_leq_w_177375 = slt64(i_p_m_t_s_177373, next_stride_177063);
                                    bool zzero_lte_i_177376 = sle64((int64_t) 0, merge_sequential_arg2_177368);
                                    bool i_lte_j_177377 = sle64(merge_sequential_arg2_177368, merge_sequential_arg2_177369);
                                    bool y_177378 = i_p_m_t_s_leq_w_177375 && zzero_lte_i_177376;
                                    bool y_177379 = zzero_leq_i_p_m_t_s_177374 && y_177378;
                                    bool forwards_ok_177380 = i_lte_j_177377 && y_177379;
                                    bool ok_or_empty_177381 = empty_slice_177371 || forwards_ok_177380;
                                    bool index_certs_177382;
                                    
                                    if (!ok_or_empty_177381) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177368, ":", (long long) merge_sequential_arg2_177369, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177383 = sub64(defunc_0_f_res_177366, defunc_0_f_res_177359);
                                    bool empty_slice_177384 = j_m_i_177383 == (int64_t) 0;
                                    int64_t m_177385 = sub64(j_m_i_177383, (int64_t) 1);
                                    int64_t i_p_m_t_s_177386 = add64(defunc_0_f_res_177359, m_177385);
                                    bool zzero_leq_i_p_m_t_s_177387 = sle64((int64_t) 0, i_p_m_t_s_177386);
                                    bool i_p_m_t_s_leq_w_177388 = slt64(i_p_m_t_s_177386, next_stride_177063);
                                    bool zzero_lte_i_177389 = sle64((int64_t) 0, defunc_0_f_res_177359);
                                    bool i_lte_j_177390 = sle64(defunc_0_f_res_177359, defunc_0_f_res_177366);
                                    bool y_177391 = i_p_m_t_s_leq_w_177388 && zzero_lte_i_177389;
                                    bool y_177392 = zzero_leq_i_p_m_t_s_177387 && y_177391;
                                    bool forwards_ok_177393 = i_lte_j_177390 && y_177392;
                                    bool ok_or_empty_177394 = empty_slice_177384 || forwards_ok_177393;
                                    bool index_certs_177395;
                                    
                                    if (!ok_or_empty_177394) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177359, ":", (long long) defunc_0_f_res_177366, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177396 = slt64((int64_t) 0, j_m_i_177383);
                                    int8_t dummy_177397;
                                    int64_t dummy_177398;
                                    double dummy_177399;
                                    
                                    if (cond_177396) {
                                        bool index_certs_180392;
                                        
                                        if (!cond_177396) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180393 = start_177136 + defunc_0_f_res_177359;
                                        int8_t head_res_180394 = ((int8_t *) mem_param_181202.mem)[slice_180393];
                                        int64_t head_res_180395 = ((int64_t *) mem_param_181205.mem)[slice_180393];
                                        double head_res_180396 = ((double *) mem_param_181208.mem)[slice_180393];
                                        
                                        dummy_177397 = head_res_180394;
                                        dummy_177398 = head_res_180395;
                                        dummy_177399 = head_res_180396;
                                    } else {
                                        bool y_177405 = slt64((int64_t) 0, j_m_i_177370);
                                        bool index_certs_177406;
                                        
                                        if (!y_177405) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177407 = start_177136 + merge_sequential_arg2_177368;
                                        int8_t head_res_177408 = ((int8_t *) mem_param_181202.mem)[slice_177407];
                                        int64_t head_res_177409 = ((int64_t *) mem_param_181205.mem)[slice_177407];
                                        double head_res_177410 = ((double *) mem_param_181208.mem)[slice_177407];
                                        
                                        dummy_177397 = head_res_177408;
                                        dummy_177398 = head_res_177409;
                                        dummy_177399 = head_res_177410;
                                    }
                                    for (int64_t nest_i_182632 = 0; nest_i_182632 < merge_block_sizze_176900; nest_i_182632++) {
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + nest_i_182632] = dummy_177397;
                                    }
                                    for (int64_t nest_i_182633 = 0; nest_i_182633 < merge_block_sizze_176900; nest_i_182633++) {
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + nest_i_182633] = dummy_177398;
                                    }
                                    for (int64_t nest_i_182634 = 0; nest_i_182634 < merge_block_sizze_176900; nest_i_182634++) {
                                        ((double *) mem_181252)[i_180822 * merge_block_sizze_176900 + nest_i_182634] = dummy_177399;
                                    }
                                    
                                    int64_t data_177414;
                                    int64_t i_177419 = (int64_t) 0;
                                    
                                    for (int64_t k_177418 = 0; k_177418 < merge_block_sizze_176900; k_177418++) {
                                        int64_t j_177423 = sub64(k_177418, i_177419);
                                        bool cond_177424 = j_177423 == j_m_i_177370;
                                        bool cond_177425;
                                        
                                        if (cond_177424) {
                                            cond_177425 = 1;
                                        } else {
                                            bool cond_177426 = slt64(i_177419, j_m_i_177383);
                                            bool cond_f_res_177427;
                                            
                                            if (cond_177426) {
                                                bool x_180397 = sle64((int64_t) 0, j_177423);
                                                bool y_180398 = slt64(j_177423, j_m_i_177370);
                                                bool bounds_check_180399 = x_180397 && y_180398;
                                                bool index_certs_180400;
                                                
                                                if (!bounds_check_180399) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180406 = sle64((int64_t) 0, i_177419);
                                                bool bounds_check_180407 = cond_177426 && x_180406;
                                                bool index_certs_180408;
                                                
                                                if (!bounds_check_180407) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180401 = merge_sequential_arg2_177368 + j_177423;
                                                int64_t slice_180402 = start_177136 + slice_180401;
                                                int8_t leq_arg1_180403 = ((int8_t *) mem_param_181202.mem)[slice_180402];
                                                int64_t leq_arg1_180404 = ((int64_t *) mem_param_181205.mem)[slice_180402];
                                                double leq_arg1_180405 = ((double *) mem_param_181208.mem)[slice_180402];
                                                int64_t slice_180409 = defunc_0_f_res_177359 + i_177419;
                                                int64_t slice_180410 = start_177136 + slice_180409;
                                                int8_t leq_arg0_180411 = ((int8_t *) mem_param_181202.mem)[slice_180410];
                                                int64_t leq_arg0_180412 = ((int64_t *) mem_param_181205.mem)[slice_180410];
                                                double leq_arg0_180413 = ((double *) mem_param_181208.mem)[slice_180410];
                                                bool cond_180414 = leq_arg0_180411 == leq_arg1_180403;
                                                bool defunc_0_leq_res_t_res_180415 = sle64(leq_arg0_180412, leq_arg1_180404);
                                                bool defunc_0_leq_res_180416 = leq_arg0_180413 <= leq_arg1_180405;
                                                bool x_180417 = cond_180414 && defunc_0_leq_res_t_res_180415;
                                                bool x_180418 = !cond_180414;
                                                bool y_180419 = defunc_0_leq_res_180416 && x_180418;
                                                bool defunc_0_leq_res_180420 = x_180417 || y_180419;
                                                
                                                cond_f_res_177427 = defunc_0_leq_res_180420;
                                            } else {
                                                cond_f_res_177427 = 0;
                                            }
                                            cond_177425 = cond_f_res_177427;
                                        }
                                        
                                        int64_t loopres_177452;
                                        int8_t loopres_177453;
                                        int64_t loopres_177454;
                                        double loopres_177455;
                                        
                                        if (cond_177425) {
                                            bool x_180422 = sle64((int64_t) 0, i_177419);
                                            bool y_180423 = slt64(i_177419, j_m_i_177383);
                                            bool bounds_check_180424 = x_180422 && y_180423;
                                            bool index_certs_180425;
                                            
                                            if (!bounds_check_180424) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180421 = add64((int64_t) 1, i_177419);
                                            int64_t slice_180426 = defunc_0_f_res_177359 + i_177419;
                                            int64_t slice_180427 = start_177136 + slice_180426;
                                            int8_t tmp_180428 = ((int8_t *) mem_param_181202.mem)[slice_180427];
                                            int64_t tmp_180429 = ((int64_t *) mem_param_181205.mem)[slice_180427];
                                            double tmp_180430 = ((double *) mem_param_181208.mem)[slice_180427];
                                            
                                            loopres_177452 = tmp_180421;
                                            loopres_177453 = tmp_180428;
                                            loopres_177454 = tmp_180429;
                                            loopres_177455 = tmp_180430;
                                        } else {
                                            bool x_177466 = sle64((int64_t) 0, j_177423);
                                            bool y_177467 = slt64(j_177423, j_m_i_177370);
                                            bool bounds_check_177468 = x_177466 && y_177467;
                                            bool index_certs_177469;
                                            
                                            if (!bounds_check_177468) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177470 = merge_sequential_arg2_177368 + j_177423;
                                            int64_t slice_177471 = start_177136 + slice_177470;
                                            int8_t tmp_177472 = ((int8_t *) mem_param_181202.mem)[slice_177471];
                                            int64_t tmp_177473 = ((int64_t *) mem_param_181205.mem)[slice_177471];
                                            double tmp_177474 = ((double *) mem_param_181208.mem)[slice_177471];
                                            
                                            loopres_177452 = i_177419;
                                            loopres_177453 = tmp_177472;
                                            loopres_177454 = tmp_177473;
                                            loopres_177455 = tmp_177474;
                                        }
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177453;
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177454;
                                        ((double *) mem_181252)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177455;
                                        
                                        int64_t i_tmp_182635 = loopres_177452;
                                        
                                        i_177419 = i_tmp_182635;
                                    }
                                    data_177414 = i_177419;
                                }
                                if (memblock_alloc(ctx, &mem_181301, flat_dim_177086, "mem_181301")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181301.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint8_t *) mem_181246, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181305, bytes_181248, "mem_181305")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181305.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint64_t *) mem_181249, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181309, bytes_181248, "mem_181309")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181309.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint64_t *) mem_181252, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181301, "mem_181301") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181305, "mem_181305") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181309, "mem_181309") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181210, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181342.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181213, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181339.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181216, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181336.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181356, bytes_181209, "mem_181356")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181356.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181360, bytes_181212, "mem_181360")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181360.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint64_t *) mem_181213, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181364, bytes_181212, "mem_181364")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181364.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint64_t *) mem_181216, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        
                        bool loop_cond_177488 = slt64(next_stride_177063, flat_dim_176895);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182602, &mem_181356, "mem_181356") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182603, &mem_181360, "mem_181360") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182604, &mem_181364, "mem_181364") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182605 = bytes_181209;
                        bool loop_while_tmp_182606 = loop_cond_177488;
                        int64_t stride_tmp_182610 = next_stride_177063;
                        
                        if (memblock_set(ctx, &mem_param_181202, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181205, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181208, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177057 = loop_dz2084Uz2082U_tmp_182605;
                        loop_while_177058 = loop_while_tmp_182606;
                        stride_177062 = stride_tmp_182610;
                    }
                    if (memblock_set(ctx, &ext_mem_181374, &mem_param_181202, "mem_param_181202") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181373, &mem_param_181205, "mem_param_181205") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181372, &mem_param_181208, "mem_param_181208") != 0)
                        return 1;
                    data_177051 = loop_dz2084Uz2082U_177057;
                    data_177052 = loop_while_177058;
                    data_177056 = stride_177062;
                    if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
                        return 1;
                    
                    bool empty_slice_177489 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177490 = sle64((int64_t) 0, zs_lhs_176879);
                    bool i_p_m_t_s_leq_w_177491 = slt64(zs_lhs_176879, data_177051);
                    bool y_177492 = zzero_leq_i_p_m_t_s_177490 && i_p_m_t_s_leq_w_177491;
                    bool ok_or_empty_177493 = empty_slice_177489 || y_177492;
                    bool index_certs_177494;
                    
                    if (!ok_or_empty_177493) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] out of bounds for array of shape [", (long long) data_177051, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181383, &ext_mem_181374, "ext_mem_181374") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &ext_mem_181373, "ext_mem_181373") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &ext_mem_181372, "ext_mem_181372") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181064.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181383.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181066.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181380.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181068.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181377.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
                    return 1;
                
                bool loop_cond_177530 = slt64(ubs_176822, threads_163279);
                bool loop_while_tmp_182569 = loop_cond_177530;
                int64_t p_tmp_182570 = ubs_176822;
                
                loop_while_176811 = loop_while_tmp_182569;
                p_176812 = p_tmp_182570;
            }
            defunc_0_mergeFunc_seq_res_176806 = loop_while_176811;
            defunc_0_mergeFunc_seq_res_176807 = p_176812;
            
            int64_t index_concat_branch_178347;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180445 = ((int64_t *) mem_181049)[index_concat_i_178344];
                
                index_concat_branch_178347 = index_concat_180445;
            } else {
                index_concat_branch_178347 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178341;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180446 = ((int64_t *) mem_181051)[index_concat_i_178344];
                
                index_concat_branch_178341 = index_concat_180446;
            } else {
                index_concat_branch_178341 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181064, "mem_181064") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181066, "mem_181066") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181068, "mem_181068") != 0)
                return 1;
            loopres_175570 = index_concat_branch_178347;
            loopres_175571 = index_concat_branch_178341;
        }
        for (int64_t i_180838 = 0; i_180838 < window_sizze_163278; i_180838++) {
            int8_t eta_p_177538 = ((int8_t *) ext_mem_181802.mem)[i_180838];
            int64_t eta_p_177539 = ((int64_t *) ext_mem_181799.mem)[i_180838];
            bool cond_177540 = eta_p_177538 == (int8_t) 0;
            int64_t tmp_177541;
            
            if (cond_177540) {
                int64_t tmp_t_res_180449 = add64(p_175542, eta_p_177539);
                
                tmp_177541 = tmp_t_res_180449;
            } else {
                int64_t tmp_f_res_177543 = add64(p_175543, eta_p_177539);
                
                tmp_177541 = tmp_f_res_177543;
            }
            ((int64_t *) mem_181036.mem)[ind_bottom_175546 + i_180838] = tmp_177541;
        }
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        
        int64_t next_lbs_177544 = add64(p_175542, loopres_175570);
        int64_t next_lbs_177545 = add64(p_175543, loopres_175571);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181802.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_163278});
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181038.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181796.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_163278});
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        
        bool cond_177559 = slt64(next_lbs_177544, zl_rhs_175525);
        bool loop_cond_t_res_177560 = slt64(next_lbs_177545, zl_rhs_175527);
        bool x_177561 = cond_177559 && loop_cond_t_res_177560;
        bool loop_while_tmp_182453 = x_177561;
        int64_t p_tmp_182457 = next_lbs_177544;
        int64_t p_tmp_182458 = next_lbs_177545;
        
        loop_while_175538 = loop_while_tmp_182453;
        p_175542 = p_tmp_182457;
        p_175543 = p_tmp_182458;
    }
    defunc_0_merge_pipeline_res_175532 = loop_while_175538;
    defunc_0_merge_pipeline_res_175536 = p_175542;
    defunc_0_merge_pipeline_res_175537 = p_175543;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 = sub64(nb_163277, defunc_0_merge_pipeline_res_175537);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 = sub64(na_163276, defunc_0_merge_pipeline_res_175536);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    bool empty_slice_177565 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 == (int64_t) 0;
    int64_t m_177566 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 1);
    int64_t i_p_m_t_s_177567 = add64(defunc_0_merge_pipeline_res_175536, m_177566);
    bool zzero_leq_i_p_m_t_s_177568 = sle64((int64_t) 0, i_p_m_t_s_177567);
    bool i_p_m_t_s_leq_w_177569 = slt64(i_p_m_t_s_177567, na_163276);
    bool zzero_lte_i_177570 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175536);
    bool i_lte_j_177571 = sle64(defunc_0_merge_pipeline_res_175536, na_163276);
    bool y_177572 = i_p_m_t_s_leq_w_177569 && zzero_lte_i_177570;
    bool y_177573 = zzero_leq_i_p_m_t_s_177568 && y_177572;
    bool forwards_ok_177574 = i_lte_j_177571 && y_177573;
    bool ok_or_empty_177575 = empty_slice_177565 || forwards_ok_177574;
    bool index_certs_177576;
    
    if (!ok_or_empty_177575) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175536, ":", (long long) na_163276, "] out of bounds for array of shape [", (long long) na_163276, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177580 = slt64(na_163276, defunc_0_merge_pipeline_res_175536);
    bool valid_177581 = !bounds_invalid_upwards_177580;
    bool range_valid_c_177582;
    
    if (!valid_177581) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175536, "..<", (long long) na_163276, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177586 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 == (int64_t) 0;
    int64_t m_177587 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, (int64_t) 1);
    int64_t i_p_m_t_s_177588 = add64(defunc_0_merge_pipeline_res_175537, m_177587);
    bool zzero_leq_i_p_m_t_s_177589 = sle64((int64_t) 0, i_p_m_t_s_177588);
    bool i_p_m_t_s_leq_w_177590 = slt64(i_p_m_t_s_177588, nb_163277);
    bool zzero_lte_i_177591 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175537);
    bool i_lte_j_177592 = sle64(defunc_0_merge_pipeline_res_175537, nb_163277);
    bool y_177593 = i_p_m_t_s_leq_w_177590 && zzero_lte_i_177591;
    bool y_177594 = zzero_leq_i_p_m_t_s_177589 && y_177593;
    bool forwards_ok_177595 = i_lte_j_177592 && y_177594;
    bool ok_or_empty_177596 = empty_slice_177586 || forwards_ok_177595;
    bool index_certs_177597;
    
    if (!ok_or_empty_177596) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175537, ":", (long long) nb_163277, "] out of bounds for array of shape [", (long long) nb_163277, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177601 = slt64(nb_163277, defunc_0_merge_pipeline_res_175537);
    bool valid_177602 = !bounds_invalid_upwards_177601;
    bool range_valid_c_177603;
    
    if (!valid_177602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175537, "..<", (long long) nb_163277, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181827 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool cond_177610 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zs_lhs_177611 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zp_rhs_177612 = sdiv_safe64(zs_lhs_177611, (int64_t) 20);
    int64_t min_num_blocks_177613 = add64((int64_t) 1, zp_rhs_177612);
    bool loop_cond_177614 = slt64((int64_t) 1, min_num_blocks_177613);
    bool smallest_pow_2_geq_than_res_177615;
    int64_t smallest_pow_2_geq_than_res_177616;
    bool loop_while_177617;
    int64_t x_177618;
    
    loop_while_177617 = loop_cond_177614;
    x_177618 = (int64_t) 1;
    while (loop_while_177617) {
        int64_t loopres_177619 = mul64((int64_t) 2, x_177618);
        bool loop_cond_177620 = slt64(loopres_177619, min_num_blocks_177613);
        bool loop_while_tmp_182640 = loop_cond_177620;
        int64_t x_tmp_182641 = loopres_177619;
        
        loop_while_177617 = loop_while_tmp_182640;
        x_177618 = x_tmp_182641;
    }
    smallest_pow_2_geq_than_res_177615 = loop_while_177617;
    smallest_pow_2_geq_than_res_177616 = x_177618;
    
    bool zzero_177621 = smallest_pow_2_geq_than_res_177616 == (int64_t) 0;
    bool nonzzero_177622 = !zzero_177621;
    bool protect_assert_disj_177623 = cond_177610 || nonzzero_177622;
    bool nonzzero_cert_177624;
    
    if (!protect_assert_disj_177623) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177625 = sdiv_safe64(zs_lhs_177611, smallest_pow_2_geq_than_res_177616);
    int64_t block_sizze_177626 = add64((int64_t) 1, zp_rhs_177625);
    bool y_177633 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool protect_assert_disj_182155 = cond_177610 || y_177633;
    bool index_certs_177634;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177660 = slt64(smallest_pow_2_geq_than_res_177616, (int64_t) 0);
    bool valid_177661 = !bounds_invalid_upwards_177660;
    bool protect_assert_disj_182165 = cond_177610 || valid_177661;
    bool range_valid_c_177662;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177616, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177664 = slt64(block_sizze_177626, (int64_t) 0);
    bool valid_177665 = !bounds_invalid_upwards_177664;
    bool protect_assert_disj_182167 = cond_177610 || valid_177665;
    bool range_valid_c_177666;
    
    if (!protect_assert_disj_182167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177626, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177668 = sle64(block_sizze_177626, (int64_t) 1);
    int64_t tmp_177669 = sub64(block_sizze_177626, (int64_t) 2);
    bool bounds_invalid_upwards_177670 = slt64(tmp_177669, (int64_t) 0);
    bool valid_177672 = !bounds_invalid_upwards_177670;
    bool protect_assert_disj_177673 = cond_177668 || valid_177672;
    bool protect_assert_disj_182169 = cond_177610 || protect_assert_disj_177673;
    bool range_valid_c_177674;
    
    if (!protect_assert_disj_182169) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177669, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178235 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, zs_lhs_177611);
    bool i_p_m_t_s_leq_w_178238 = slt64(zs_lhs_177611, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool y_178239 = zzero_leq_i_p_m_t_s_178237 && i_p_m_t_s_leq_w_178238;
    bool ok_or_empty_178240 = empty_slice_178235 || y_178239;
    bool index_certs_178241;
    
    if (!ok_or_empty_178240) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178242 = add64(defunc_0_merge_pipeline_res_175536, defunc_0_merge_pipeline_res_175537);
    int64_t j_m_i_178243 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, final_buffer_178242);
    bool empty_slice_178244 = j_m_i_178243 == (int64_t) 0;
    int64_t m_178245 = sub64(j_m_i_178243, (int64_t) 1);
    int64_t i_p_m_t_s_178246 = add64(final_buffer_178242, m_178245);
    bool zzero_leq_i_p_m_t_s_178247 = sle64((int64_t) 0, i_p_m_t_s_178246);
    bool i_p_m_t_s_leq_w_178248 = slt64(i_p_m_t_s_178246, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool zzero_lte_i_178249 = sle64((int64_t) 0, final_buffer_178242);
    bool i_lte_j_178250 = sle64(final_buffer_178242, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool y_178251 = i_p_m_t_s_leq_w_178248 && zzero_lte_i_178249;
    bool y_178252 = zzero_leq_i_p_m_t_s_178247 && y_178251;
    bool forwards_ok_178253 = i_lte_j_178250 && y_178252;
    bool ok_or_empty_178254 = empty_slice_178244 || forwards_ok_178253;
    bool index_certs_178255;
    
    if (!ok_or_empty_178254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178242, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178256 = j_m_i_178243 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool empty_or_match_cert_178257;
    
    if (!dim_match_178256) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178243, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:407:63-73\n   #2  ftsort.fut:400:1-407:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181826, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "mem_181826")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182642 = 0; nest_i_182642 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; nest_i_182642++) {
        ((int8_t *) mem_181826.mem)[nest_i_182642] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181828, bytes_181827, "mem_181828")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182643 = 0; i_182643 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; i_182643++) {
        int64_t x_182644 = defunc_0_merge_pipeline_res_175536 + i_182643 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[i_182643] = x_182644;
    }
    for (int64_t nest_i_182645 = 0; nest_i_182645 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; nest_i_182645++) {
        ((int8_t *) mem_181826.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + nest_i_182645] = (int8_t) 1;
    }
    for (int64_t i_182646 = 0; i_182646 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; i_182646++) {
        int64_t x_182647 = defunc_0_merge_pipeline_res_175537 + i_182646 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + i_182646] = x_182647;
    }
    
    int64_t tmp_offs_182648 = (int64_t) 0;
    
    if (!(tmp_offs_182648 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182648 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t tmp_offs_182649 = (int64_t) 0;
    
    if (!(tmp_offs_182649 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182649 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    if (memblock_alloc(ctx, &mem_181830, bytes_181827, "mem_181830")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182650 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181032.mem, defunc_0_merge_pipeline_res_175536, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181033.mem, defunc_0_merge_pipeline_res_175537, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t flat_dim_177627 = smallest_pow_2_geq_than_res_177616 * block_sizze_177626;
    bool x_182150 = !cond_177610;
    int64_t greatest_divisor_leq_than_arg1_177631 = mul64((int64_t) 2, block_sizze_177626);
    int64_t merge_block_sizze_177632;
    
    if (x_182150) {
        int64_t x_182152;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182152, (int64_t) 8, greatest_divisor_leq_than_arg1_177631) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177632 = x_182152;
    } else {
        merge_block_sizze_177632 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178307 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 0);
    int8_t index_concat_branch_178311 = btoi_bool_i8(index_concat_cmp_178307);
    int64_t index_concat_i_180451 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    int64_t index_primexp_180452 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180451);
    int64_t index_concat_branch_178305;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178305 = index_primexp_180452;
    } else {
        index_concat_branch_178305 = defunc_0_merge_pipeline_res_175536;
    }
    
    bool x_182146 = !index_concat_cmp_178307;
    bool protect_cond_conj_182156 = x_182146 && x_182150;
    double index_concat_178298;
    
    if (protect_cond_conj_182156) {
        double x_182148 = ((double *) a_list_mem_181032.mem)[defunc_0_merge_pipeline_res_175536];
        
        index_concat_178298 = x_182148;
    } else {
        index_concat_178298 = 0.0;
    }
    
    bool protect_cond_conj_182157 = index_concat_cmp_178307 && x_182150;
    double index_concat_180455;
    
    if (protect_cond_conj_182157) {
        double x_182144 = ((double *) b_list_mem_181033.mem)[index_primexp_180452];
        
        index_concat_180455 = x_182144;
    } else {
        index_concat_180455 = 0.0;
    }
    
    double index_concat_branch_178299;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178299 = index_concat_180455;
    } else {
        index_concat_branch_178299 = index_concat_178298;
    }
    
    int8_t defunc_0_reduce_res_180686;
    int64_t defunc_0_reduce_res_180687;
    double defunc_0_reduce_res_180688;
    
    if (x_182150) {
        int8_t x_182158;
        int64_t x_182159;
        double x_182160;
        int8_t redout_180840;
        int64_t redout_180841;
        double redout_180842;
        
        redout_180840 = index_concat_branch_178311;
        redout_180841 = index_concat_branch_178305;
        redout_180842 = index_concat_branch_178299;
        for (int64_t i_180843 = 0; i_180843 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564; i_180843++) {
            bool index_concat_cmp_180914 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, i_180843);
            int8_t index_concat_branch_180918 = btoi_bool_i8(index_concat_cmp_180914);
            int64_t index_concat_branch_180912;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180909 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t index_primexp_181002 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180909);
                
                index_concat_branch_180912 = index_primexp_181002;
            } else {
                int64_t index_primexp_181004 = add64(defunc_0_merge_pipeline_res_175536, i_180843);
                
                index_concat_branch_180912 = index_primexp_181004;
            }
            
            double index_concat_branch_180906;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180903 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t slice_180999 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180903;
                double index_concat_180904 = ((double *) b_list_mem_181033.mem)[slice_180999];
                
                index_concat_branch_180906 = index_concat_180904;
            } else {
                int64_t slice_181000 = defunc_0_merge_pipeline_res_175536 + i_180843;
                double index_concat_180905 = ((double *) a_list_mem_181032.mem)[slice_181000];
                
                index_concat_branch_180906 = index_concat_180905;
            }
            
            bool eq_x_y_181017 = redout_180840 == (int8_t) 1;
            bool eq_x_zz_181018 = redout_180840 == (int8_t) 0;
            bool p_and_eq_x_y_181019 = index_concat_cmp_180914 && eq_x_y_181017;
            bool not_p_181020 = !index_concat_cmp_180914;
            bool p_and_eq_x_y_181021 = eq_x_zz_181018 && not_p_181020;
            bool cond_177650 = p_and_eq_x_y_181019 || p_and_eq_x_y_181021;
            bool defunc_0_leq_res_t_res_177651 = sle64(redout_180841, index_concat_branch_180912);
            bool defunc_0_leq_res_177652 = redout_180842 <= index_concat_branch_180906;
            bool x_177653 = cond_177650 && defunc_0_leq_res_t_res_177651;
            bool x_177654 = !cond_177650;
            bool y_177655 = defunc_0_leq_res_177652 && x_177654;
            bool defunc_0_leq_res_177656 = x_177653 || y_177655;
            int8_t defunc_0_op_res_177657;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177657 = index_concat_branch_180918;
            } else {
                defunc_0_op_res_177657 = redout_180840;
            }
            
            int64_t defunc_0_op_res_177658;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177658 = index_concat_branch_180912;
            } else {
                defunc_0_op_res_177658 = redout_180841;
            }
            
            double defunc_0_op_res_177659;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177659 = index_concat_branch_180906;
            } else {
                defunc_0_op_res_177659 = redout_180842;
            }
            
            int8_t redout_tmp_182651 = defunc_0_op_res_177657;
            int64_t redout_tmp_182652 = defunc_0_op_res_177658;
            double redout_tmp_182653 = defunc_0_op_res_177659;
            
            redout_180840 = redout_tmp_182651;
            redout_180841 = redout_tmp_182652;
            redout_180842 = redout_tmp_182653;
        }
        x_182158 = redout_180840;
        x_182159 = redout_180841;
        x_182160 = redout_180842;
        defunc_0_reduce_res_180686 = x_182158;
        defunc_0_reduce_res_180687 = x_182159;
        defunc_0_reduce_res_180688 = x_182160;
    } else {
        defunc_0_reduce_res_180686 = (int8_t) 0;
        defunc_0_reduce_res_180687 = (int64_t) 0;
        defunc_0_reduce_res_180688 = 0.0;
    }
    
    int64_t distance_177671 = add64((int64_t) 1, tmp_177669);
    int64_t binop_x_181833 = (int64_t) 8 * smallest_pow_2_geq_than_res_177616;
    int64_t bytes_181834 = block_sizze_177626 * binop_x_181833;
    int64_t bytes_181852 = (int64_t) 8 * block_sizze_177626;
    bool loop_cond_177780 = slt64(block_sizze_177626, flat_dim_177627);
    bool zzero_177781 = merge_block_sizze_177632 == (int64_t) 0;
    bool nonzzero_177782 = !zzero_177781;
    
    if (cond_177610) {
        if (memblock_set(ctx, &ext_mem_182125, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &mem_181830, "mem_181830") != 0)
            return 1;
    } else {
        if (mem_181832_cached_sizze_182810 < flat_dim_177627) {
            err = lexical_realloc(ctx, &mem_181832, &mem_181832_cached_sizze_182810, flat_dim_177627);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181835_cached_sizze_182811 < bytes_181834) {
            err = lexical_realloc(ctx, &mem_181835, &mem_181835_cached_sizze_182811, bytes_181834);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181838_cached_sizze_182812 < bytes_181834) {
            err = lexical_realloc(ctx, &mem_181838, &mem_181838_cached_sizze_182812, bytes_181834);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181851_cached_sizze_182813 < block_sizze_177626) {
            err = lexical_realloc(ctx, &mem_181851, &mem_181851_cached_sizze_182813, block_sizze_177626);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181853_cached_sizze_182814 < bytes_181852) {
            err = lexical_realloc(ctx, &mem_181853, &mem_181853_cached_sizze_182814, bytes_181852);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_182815 < bytes_181852) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_182815, bytes_181852);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180860 = 0; i_180860 < smallest_pow_2_geq_than_res_177616; i_180860++) {
            int64_t zp_lhs_177679 = mul64(block_sizze_177626, i_180860);
            
            for (int64_t i_180850 = 0; i_180850 < block_sizze_177626; i_180850++) {
                int64_t k_177684 = add64(zp_lhs_177679, i_180850);
                bool cond_177685 = slt64(k_177684, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
                int8_t lifted_lambda_res_177686;
                int64_t lifted_lambda_res_177687;
                double lifted_lambda_res_177688;
                
                if (cond_177685) {
                    bool x_180461 = sle64((int64_t) 0, k_177684);
                    bool bounds_check_180462 = cond_177685 && x_180461;
                    bool index_certs_180463;
                    
                    if (!bounds_check_180462) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177684, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180464 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, k_177684);
                    int8_t index_concat_branch_180465 = btoi_bool_i8(index_concat_cmp_180464);
                    int64_t index_concat_branch_180466;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180467 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t index_primexp_180468 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180467);
                        
                        index_concat_branch_180466 = index_primexp_180468;
                    } else {
                        int64_t index_primexp_180469 = add64(defunc_0_merge_pipeline_res_175536, k_177684);
                        
                        index_concat_branch_180466 = index_primexp_180469;
                    }
                    
                    double index_concat_branch_180470;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180471 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t slice_180472 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180471;
                        double index_concat_180473 = ((double *) b_list_mem_181033.mem)[slice_180472];
                        
                        index_concat_branch_180470 = index_concat_180473;
                    } else {
                        int64_t slice_180474 = defunc_0_merge_pipeline_res_175536 + k_177684;
                        double index_concat_180475 = ((double *) a_list_mem_181032.mem)[slice_180474];
                        
                        index_concat_branch_180470 = index_concat_180475;
                    }
                    lifted_lambda_res_177686 = index_concat_branch_180465;
                    lifted_lambda_res_177687 = index_concat_branch_180466;
                    lifted_lambda_res_177688 = index_concat_branch_180470;
                } else {
                    lifted_lambda_res_177686 = defunc_0_reduce_res_180686;
                    lifted_lambda_res_177687 = defunc_0_reduce_res_180687;
                    lifted_lambda_res_177688 = defunc_0_reduce_res_180688;
                }
                ((int8_t *) mem_181851)[i_180850] = lifted_lambda_res_177686;
                ((int64_t *) mem_181853)[i_180850] = lifted_lambda_res_177687;
                ((double *) mem_181855)[i_180850] = lifted_lambda_res_177688;
            }
            if (!cond_177668) {
                for (int64_t i_177701 = 0; i_177701 < distance_177671; i_177701++) {
                    int64_t gt_arg1_177705 = add64((int64_t) 1, i_177701);
                    bool x_177706 = sle64((int64_t) 0, gt_arg1_177705);
                    bool y_177707 = slt64(gt_arg1_177705, block_sizze_177626);
                    bool bounds_check_177708 = x_177706 && y_177707;
                    bool index_certs_177709;
                    
                    if (!bounds_check_177708) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177705, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177713 = slt64(i_177701, block_sizze_177626);
                    bool index_certs_177714;
                    
                    if (!y_177713) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177701, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177710 = ((int8_t *) mem_181851)[gt_arg1_177705];
                    int64_t gt_arg1_177711 = ((int64_t *) mem_181853)[gt_arg1_177705];
                    double gt_arg1_177712 = ((double *) mem_181855)[gt_arg1_177705];
                    int8_t gt_arg0_177715 = ((int8_t *) mem_181851)[i_177701];
                    int64_t gt_arg0_177716 = ((int64_t *) mem_181853)[i_177701];
                    double gt_arg0_177717 = ((double *) mem_181855)[i_177701];
                    bool cond_177718 = gt_arg0_177715 == gt_arg1_177710;
                    bool defunc_0_leq_res_t_res_177719 = sle64(gt_arg0_177716, gt_arg1_177711);
                    bool defunc_0_leq_res_177720 = gt_arg0_177717 <= gt_arg1_177712;
                    bool x_177721 = cond_177718 && defunc_0_leq_res_t_res_177719;
                    bool x_177722 = !cond_177718;
                    bool y_177723 = defunc_0_leq_res_177720 && x_177722;
                    bool defunc_0_leq_res_177724 = x_177721 || y_177723;
                    bool defunc_0_lifted_gt_res_177725 = !defunc_0_leq_res_177724;
                    bool s_177726;
                    int64_t s_177730;
                    bool loop_while_177731;
                    int64_t j_177735;
                    
                    loop_while_177731 = defunc_0_lifted_gt_res_177725;
                    j_177735 = i_177701;
                    while (loop_while_177731) {
                        bool x_177736 = sle64((int64_t) 0, j_177735);
                        bool y_177737 = slt64(j_177735, block_sizze_177626);
                        bool bounds_check_177738 = x_177736 && y_177737;
                        bool index_certs_177739;
                        
                        if (!bounds_check_177738) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177735, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177743 = add64((int64_t) 1, j_177735);
                        bool x_177744 = sle64((int64_t) 0, copy_arg0_177743);
                        bool y_177745 = slt64(copy_arg0_177743, block_sizze_177626);
                        bool bounds_check_177746 = x_177744 && y_177745;
                        bool index_certs_177747;
                        
                        if (!bounds_check_177746) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177743, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177740 = ((int8_t *) mem_181851)[j_177735];
                        int64_t copy_arg0_177741 = ((int64_t *) mem_181853)[j_177735];
                        double copy_arg0_177742 = ((double *) mem_181855)[j_177735];
                        int8_t copy_arg0_177748 = ((int8_t *) mem_181851)[copy_arg0_177743];
                        int64_t copy_arg0_177749 = ((int64_t *) mem_181853)[copy_arg0_177743];
                        double copy_arg0_177750 = ((double *) mem_181855)[copy_arg0_177743];
                        
                        ((int8_t *) mem_181851)[j_177735] = copy_arg0_177748;
                        ((int64_t *) mem_181853)[j_177735] = copy_arg0_177749;
                        ((double *) mem_181855)[j_177735] = copy_arg0_177750;
                        ((int8_t *) mem_181851)[copy_arg0_177743] = copy_arg0_177740;
                        ((int64_t *) mem_181853)[copy_arg0_177743] = copy_arg0_177741;
                        ((double *) mem_181855)[copy_arg0_177743] = copy_arg0_177742;
                        
                        int64_t tmp_177757 = sub64(j_177735, (int64_t) 1);
                        bool cond_177758 = sle64((int64_t) 0, tmp_177757);
                        bool loop_cond_177759;
                        
                        if (cond_177758) {
                            bool y_180479 = slt64(tmp_177757, block_sizze_177626);
                            bool bounds_check_180480 = cond_177758 && y_180479;
                            bool index_certs_180481;
                            
                            if (!bounds_check_180480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180476 = ((int8_t *) mem_181851)[j_177735];
                            int64_t gt_arg1_180477 = ((int64_t *) mem_181853)[j_177735];
                            double gt_arg1_180478 = ((double *) mem_181855)[j_177735];
                            int8_t gt_arg0_180482 = ((int8_t *) mem_181851)[tmp_177757];
                            int64_t gt_arg0_180483 = ((int64_t *) mem_181853)[tmp_177757];
                            double gt_arg0_180484 = ((double *) mem_181855)[tmp_177757];
                            bool cond_180485 = gt_arg0_180482 == gt_arg1_180476;
                            bool defunc_0_leq_res_t_res_180486 = sle64(gt_arg0_180483, gt_arg1_180477);
                            bool defunc_0_leq_res_180487 = gt_arg0_180484 <= gt_arg1_180478;
                            bool x_180488 = cond_180485 && defunc_0_leq_res_t_res_180486;
                            bool x_180489 = !cond_180485;
                            bool y_180490 = defunc_0_leq_res_180487 && x_180489;
                            bool defunc_0_leq_res_180491 = x_180488 || y_180490;
                            bool defunc_0_lifted_gt_res_180492 = !defunc_0_leq_res_180491;
                            
                            loop_cond_177759 = defunc_0_lifted_gt_res_180492;
                        } else {
                            loop_cond_177759 = 0;
                        }
                        
                        bool loop_while_tmp_182663 = loop_cond_177759;
                        int64_t j_tmp_182667 = tmp_177757;
                        
                        loop_while_177731 = loop_while_tmp_182663;
                        j_177735 = j_tmp_182667;
                    }
                    s_177726 = loop_while_177731;
                    s_177730 = j_177735;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181832, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181851, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181835, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181853, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181838, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181855, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
        }
        if (memblock_alloc(ctx, &mem_181932, flat_dim_177627, "mem_181932")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181932.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint8_t *) mem_181832, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181936, bytes_181834, "mem_181936")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181936.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint64_t *) mem_181835, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181940, bytes_181834, "mem_181940")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181940.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint64_t *) mem_181838, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        
        int64_t data_177783;
        bool data_177784;
        int64_t data_177788;
        int64_t loop_dz2084Uz2082U_177789;
        bool loop_while_177790;
        int64_t stride_177794;
        
        if (memblock_set(ctx, &mem_param_181944, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181947, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181950, &mem_181940, "mem_181940") != 0)
            return 1;
        loop_dz2084Uz2082U_177789 = flat_dim_177627;
        loop_while_177790 = loop_cond_177780;
        stride_177794 = block_sizze_177626;
        while (loop_while_177790) {
            int64_t next_stride_177795 = mul64((int64_t) 2, stride_177794);
            bool zzero_177796 = next_stride_177795 == (int64_t) 0;
            bool nonzzero_177797 = !zzero_177796;
            bool nonzzero_cert_177798;
            
            if (!nonzzero_177797) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:407:63-73\n   #4  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177799 = sdiv64(flat_dim_177627, next_stride_177795);
            bool bounds_invalid_upwards_177800 = slt64(num_merges_177799, (int64_t) 0);
            bool valid_177801 = !bounds_invalid_upwards_177800;
            bool range_valid_c_177802;
            
            if (!valid_177801) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177799, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177804 = sub64(next_stride_177795, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177805 = sle64((int64_t) 0, m_177804);
            bool cond_177807 = slt64(next_stride_177795, (int64_t) 10);
            bool protect_assert_disj_177808 = nonzzero_177782 || cond_177807;
            bool nonzzero_cert_177809;
            
            if (!protect_assert_disj_177808) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177810 = smod_safe64(next_stride_177795, merge_block_sizze_177632);
            bool num_blocks_177811 = zeze_lhs_177810 == (int64_t) 0;
            bool protect_assert_disj_177812 = cond_177807 || num_blocks_177811;
            bool assert_c_177813;
            
            if (!protect_assert_disj_177812) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177815 = sdiv_safe64(next_stride_177795, merge_block_sizze_177632);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816 = add64((int64_t) 1, num_blocks_177815);
            int64_t j_m_i_177817 = sub64(next_stride_177795, stride_177794);
            int64_t flat_dim_177818 = merge_block_sizze_177632 * num_blocks_177815;
            bool bounds_invalid_upwards_177819 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, (int64_t) 0);
            bool empty_slice_177820 = j_m_i_177817 == (int64_t) 0;
            int64_t m_177821 = sub64(j_m_i_177817, (int64_t) 1);
            bool zzero_lte_i_177822 = sle64((int64_t) 0, stride_177794);
            bool i_lte_j_177823 = sle64(stride_177794, next_stride_177795);
            bool empty_slice_177824 = stride_177794 == (int64_t) 0;
            int64_t m_177825 = sub64(stride_177794, (int64_t) 1);
            bool bounds_invalid_upwards_177826 = slt64(num_blocks_177815, (int64_t) 0);
            bool cond_177827 = slt64((int64_t) 0, stride_177794);
            bool valid_177828 = !bounds_invalid_upwards_177819;
            int64_t i_p_m_t_s_177829 = add64(stride_177794, m_177821);
            bool zzero_leq_i_p_m_t_s_177830 = sle64((int64_t) 0, m_177825);
            bool i_p_m_t_s_leq_w_177831 = slt64(m_177825, next_stride_177795);
            bool valid_177832 = !bounds_invalid_upwards_177826;
            bool i_p_m_t_s_leq_w_177833 = slt64(m_177804, flat_dim_177818);
            bool y_177834 = slt64((int64_t) 0, j_m_i_177817);
            bool protect_assert_disj_177835 = cond_177807 || valid_177828;
            bool range_valid_c_177836;
            
            if (!protect_assert_disj_177835) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177837 = sle64((int64_t) 0, i_p_m_t_s_177829);
            bool i_p_m_t_s_leq_w_177838 = slt64(i_p_m_t_s_177829, next_stride_177795);
            bool y_177839 = zzero_leq_i_p_m_t_s_177830 && i_p_m_t_s_leq_w_177831;
            bool protect_assert_disj_177840 = cond_177807 || valid_177832;
            bool range_valid_c_177841;
            
            if (!protect_assert_disj_177840) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177815, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177842 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177833;
            bool y_177843 = zzero_lte_i_177822 && i_p_m_t_s_leq_w_177838;
            bool forwards_ok_177844 = zzero_lte_i_177822 && y_177839;
            bool ok_or_empty_177845 = zzero_177796 || y_177842;
            bool protect_assert_disj_177846 = cond_177827 || y_177834;
            bool y_177847 = zzero_leq_i_p_m_t_s_177837 && y_177843;
            bool ok_or_empty_177848 = empty_slice_177824 || forwards_ok_177844;
            bool protect_assert_disj_177849 = cond_177807 || ok_or_empty_177845;
            bool index_certs_177850;
            
            if (!protect_assert_disj_177849) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) flat_dim_177818, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177851 = !cond_177807;
            bool protect_assert_disj_177852 = protect_assert_disj_177846 || loop_not_taken_177851;
            bool index_certs_177853;
            
            if (!protect_assert_disj_177852) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177854 = i_lte_j_177823 && y_177847;
            bool protect_assert_disj_177855 = cond_177807 || ok_or_empty_177848;
            bool index_certs_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177857 = ok_or_empty_177848 || loop_not_taken_177851;
            bool index_certs_177858;
            
            if (!protect_assert_disj_177857) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177859 = empty_slice_177820 || forwards_ok_177854;
            bool protect_assert_disj_177860 = cond_177807 || ok_or_empty_177859;
            bool index_certs_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177862 = loop_not_taken_177851 || ok_or_empty_177859;
            bool index_certs_177863;
            
            if (!protect_assert_disj_177862) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181951 = next_stride_177795 * num_merges_177799;
            int64_t binop_x_181953 = (int64_t) 8 * num_merges_177799;
            int64_t bytes_181954 = next_stride_177795 * binop_x_181953;
            bool i_lte_j_177806 = sle64((int64_t) 0, next_stride_177795);
            
            if (mem_181952_cached_sizze_182816 < bytes_181951) {
                err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_182816, bytes_181951);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181955_cached_sizze_182817 < bytes_181954) {
                err = lexical_realloc(ctx, &mem_181955, &mem_181955_cached_sizze_182817, bytes_181954);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181958_cached_sizze_182818 < bytes_181954) {
                err = lexical_realloc(ctx, &mem_181958, &mem_181958_cached_sizze_182818, bytes_181954);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181971 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816;
            int64_t binop_x_181989 = (int64_t) 8 * num_blocks_177815;
            int64_t bytes_181990 = merge_block_sizze_177632 * binop_x_181989;
            int64_t bytes_182054 = (int64_t) 16 * stride_177794;
            
            for (int64_t i_180887 = 0; i_180887 < num_merges_177799; i_180887++) {
                int64_t start_177868 = mul64(next_stride_177795, i_180887);
                int64_t j_m_i_177869 = sub64(loop_dz2084Uz2082U_177789, start_177868);
                bool empty_slice_177870 = j_m_i_177869 == (int64_t) 0;
                int64_t m_177871 = sub64(j_m_i_177869, (int64_t) 1);
                int64_t i_p_m_t_s_177872 = add64(start_177868, m_177871);
                bool zzero_leq_i_p_m_t_s_177873 = sle64((int64_t) 0, i_p_m_t_s_177872);
                bool i_p_m_t_s_leq_w_177874 = slt64(i_p_m_t_s_177872, loop_dz2084Uz2082U_177789);
                bool zzero_lte_i_177875 = sle64((int64_t) 0, start_177868);
                bool i_lte_j_177876 = sle64(start_177868, loop_dz2084Uz2082U_177789);
                bool y_177877 = i_p_m_t_s_leq_w_177874 && zzero_lte_i_177875;
                bool y_177878 = zzero_leq_i_p_m_t_s_177873 && y_177877;
                bool forwards_ok_177879 = i_lte_j_177876 && y_177878;
                bool ok_or_empty_177880 = empty_slice_177870 || forwards_ok_177879;
                bool index_certs_177881;
                
                if (!ok_or_empty_177880) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177868, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177789, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177882 = slt64(m_177804, j_m_i_177869);
                bool y_177883 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177882;
                bool forwards_ok_177884 = i_lte_j_177806 && y_177883;
                bool ok_or_empty_177885 = zzero_177796 || forwards_ok_177884;
                bool index_certs_177886;
                
                if (!ok_or_empty_177885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) j_m_i_177869, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:407:63-73\n   #7  ftsort.fut:400:1-407:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177807) {
                    int8_t dummy_180531;
                    int64_t dummy_180532;
                    double dummy_180533;
                    
                    if (cond_177827) {
                        int8_t head_res_180534 = ((int8_t *) mem_param_181944.mem)[start_177868];
                        int64_t head_res_180535 = ((int64_t *) mem_param_181947.mem)[start_177868];
                        double head_res_180536 = ((double *) mem_param_181950.mem)[start_177868];
                        
                        dummy_180531 = head_res_180534;
                        dummy_180532 = head_res_180535;
                        dummy_180533 = head_res_180536;
                    } else {
                        int64_t slice_180537 = stride_177794 + start_177868;
                        int8_t head_res_180538 = ((int8_t *) mem_param_181944.mem)[slice_180537];
                        int64_t head_res_180539 = ((int64_t *) mem_param_181947.mem)[slice_180537];
                        double head_res_180540 = ((double *) mem_param_181950.mem)[slice_180537];
                        
                        dummy_180531 = head_res_180538;
                        dummy_180532 = head_res_180539;
                        dummy_180533 = head_res_180540;
                    }
                    if (memblock_alloc(ctx, &mem_182053, next_stride_177795, "mem_182053")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182680 = 0; nest_i_182680 < next_stride_177795; nest_i_182680++) {
                        ((int8_t *) mem_182053.mem)[nest_i_182680] = dummy_180531;
                    }
                    if (memblock_alloc(ctx, &mem_182055, bytes_182054, "mem_182055")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182681 = 0; nest_i_182681 < next_stride_177795; nest_i_182681++) {
                        ((int64_t *) mem_182055.mem)[nest_i_182681] = dummy_180532;
                    }
                    if (memblock_alloc(ctx, &mem_182057, bytes_182054, "mem_182057")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182682 = 0; nest_i_182682 < next_stride_177795; nest_i_182682++) {
                        ((double *) mem_182057.mem)[nest_i_182682] = dummy_180533;
                    }
                    
                    int64_t data_180544;
                    int64_t i_180549 = (int64_t) 0;
                    
                    for (int64_t k_180548 = 0; k_180548 < next_stride_177795; k_180548++) {
                        int64_t j_180553 = sub64(k_180548, i_180549);
                        bool cond_180554 = j_180553 == j_m_i_177817;
                        bool cond_180555;
                        
                        if (cond_180554) {
                            cond_180555 = 1;
                        } else {
                            bool cond_180556 = slt64(i_180549, stride_177794);
                            bool cond_f_res_180557;
                            
                            if (cond_180556) {
                                bool x_180558 = sle64((int64_t) 0, j_180553);
                                bool y_180559 = slt64(j_180553, j_m_i_177817);
                                bool bounds_check_180560 = x_180558 && y_180559;
                                bool index_certs_180561;
                                
                                if (!bounds_check_180560) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180567 = sle64((int64_t) 0, i_180549);
                                bool bounds_check_180568 = cond_180556 && x_180567;
                                bool index_certs_180569;
                                
                                if (!bounds_check_180568) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180562 = stride_177794 + j_180553;
                                int64_t slice_180563 = start_177868 + slice_180562;
                                int8_t leq_arg1_180564 = ((int8_t *) mem_param_181944.mem)[slice_180563];
                                int64_t leq_arg1_180565 = ((int64_t *) mem_param_181947.mem)[slice_180563];
                                double leq_arg1_180566 = ((double *) mem_param_181950.mem)[slice_180563];
                                int64_t slice_180570 = start_177868 + i_180549;
                                int8_t leq_arg0_180571 = ((int8_t *) mem_param_181944.mem)[slice_180570];
                                int64_t leq_arg0_180572 = ((int64_t *) mem_param_181947.mem)[slice_180570];
                                double leq_arg0_180573 = ((double *) mem_param_181950.mem)[slice_180570];
                                bool cond_180574 = leq_arg0_180571 == leq_arg1_180564;
                                bool defunc_0_leq_res_t_res_180575 = sle64(leq_arg0_180572, leq_arg1_180565);
                                bool defunc_0_leq_res_180576 = leq_arg0_180573 <= leq_arg1_180566;
                                bool x_180577 = cond_180574 && defunc_0_leq_res_t_res_180575;
                                bool x_180578 = !cond_180574;
                                bool y_180579 = defunc_0_leq_res_180576 && x_180578;
                                bool defunc_0_leq_res_180580 = x_180577 || y_180579;
                                
                                cond_f_res_180557 = defunc_0_leq_res_180580;
                            } else {
                                cond_f_res_180557 = 0;
                            }
                            cond_180555 = cond_f_res_180557;
                        }
                        
                        int64_t loopres_180581;
                        int8_t loopres_180582;
                        int64_t loopres_180583;
                        double loopres_180584;
                        
                        if (cond_180555) {
                            bool x_180586 = sle64((int64_t) 0, i_180549);
                            bool y_180587 = slt64(i_180549, stride_177794);
                            bool bounds_check_180588 = x_180586 && y_180587;
                            bool index_certs_180589;
                            
                            if (!bounds_check_180588) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180585 = add64((int64_t) 1, i_180549);
                            int64_t slice_180590 = start_177868 + i_180549;
                            int8_t tmp_180591 = ((int8_t *) mem_param_181944.mem)[slice_180590];
                            int64_t tmp_180592 = ((int64_t *) mem_param_181947.mem)[slice_180590];
                            double tmp_180593 = ((double *) mem_param_181950.mem)[slice_180590];
                            
                            loopres_180581 = tmp_180585;
                            loopres_180582 = tmp_180591;
                            loopres_180583 = tmp_180592;
                            loopres_180584 = tmp_180593;
                        } else {
                            bool x_180594 = sle64((int64_t) 0, j_180553);
                            bool y_180595 = slt64(j_180553, j_m_i_177817);
                            bool bounds_check_180596 = x_180594 && y_180595;
                            bool index_certs_180597;
                            
                            if (!bounds_check_180596) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:407:63-73\n   #8  ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180598 = stride_177794 + j_180553;
                            int64_t slice_180599 = start_177868 + slice_180598;
                            int8_t tmp_180600 = ((int8_t *) mem_param_181944.mem)[slice_180599];
                            int64_t tmp_180601 = ((int64_t *) mem_param_181947.mem)[slice_180599];
                            double tmp_180602 = ((double *) mem_param_181950.mem)[slice_180599];
                            
                            loopres_180581 = i_180549;
                            loopres_180582 = tmp_180600;
                            loopres_180583 = tmp_180601;
                            loopres_180584 = tmp_180602;
                        }
                        ((int8_t *) mem_182053.mem)[k_180548] = loopres_180582;
                        ((int64_t *) mem_182055.mem)[k_180548] = loopres_180583;
                        ((double *) mem_182057.mem)[k_180548] = loopres_180584;
                        
                        int64_t i_tmp_182683 = loopres_180581;
                        
                        i_180549 = i_tmp_182683;
                    }
                    data_180544 = i_180549;
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182053, "mem_182053") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182055, "mem_182055") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182057, "mem_182057") != 0)
                        return 1;
                } else {
                    if (mem_181972_cached_sizze_182819 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_182819, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181974_cached_sizze_182820 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181974, &mem_181974_cached_sizze_182820, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180868 = 0; i_180868 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816; i_180868++) {
                        int64_t split_count_arg3_177969 = mul64(merge_block_sizze_177632, i_180868);
                        int64_t defunc_0_split_count_res_177970;
                        int64_t defunc_0_split_count_res_177971;
                        int64_t defunc_0_split_count_res_177972;
                        int64_t defunc_0_split_count_res_177973;
                        int64_t defunc_0_split_count_res_177974;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177970, &defunc_0_split_count_res_177971, &defunc_0_split_count_res_177972, &defunc_0_split_count_res_177973, &defunc_0_split_count_res_177974, (int64_t) 0, stride_177794, (int64_t) 0, j_m_i_177817, split_count_arg3_177969) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177975 = slt64((int64_t) 0, defunc_0_split_count_res_177974);
                        bool defunc_0_split_count_res_177976;
                        int64_t defunc_0_split_count_res_177977;
                        int64_t defunc_0_split_count_res_177978;
                        int64_t defunc_0_split_count_res_177979;
                        int64_t defunc_0_split_count_res_177980;
                        int64_t defunc_0_split_count_res_177981;
                        bool loop_while_177982;
                        int64_t ss_177983;
                        int64_t ss_177984;
                        int64_t tt_177985;
                        int64_t tt_177986;
                        int64_t count_177987;
                        
                        loop_while_177982 = loop_cond_177975;
                        ss_177983 = defunc_0_split_count_res_177970;
                        ss_177984 = defunc_0_split_count_res_177971;
                        tt_177985 = defunc_0_split_count_res_177972;
                        tt_177986 = defunc_0_split_count_res_177973;
                        count_177987 = defunc_0_split_count_res_177974;
                        while (loop_while_177982) {
                            int64_t zlze_lhs_177988 = sub64(ss_177984, ss_177983);
                            bool cond_177989 = sle64(zlze_lhs_177988, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177990;
                            int64_t defunc_0_lifted_step_res_177991;
                            int64_t defunc_0_lifted_step_res_177992;
                            int64_t defunc_0_lifted_step_res_177993;
                            
                            if (cond_177989) {
                                int64_t tmp_180606 = add64(tt_177985, count_177987);
                                
                                defunc_0_lifted_step_res_177990 = ss_177983;
                                defunc_0_lifted_step_res_177991 = tmp_180606;
                                defunc_0_lifted_step_res_177992 = tt_177986;
                                defunc_0_lifted_step_res_177993 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177995 = sub64(tt_177986, tt_177985);
                                bool cond_177996 = sle64(zlze_lhs_177995, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177997;
                                int64_t defunc_0_lifted_step_res_f_res_177998;
                                int64_t defunc_0_lifted_step_res_f_res_177999;
                                int64_t defunc_0_lifted_step_res_f_res_178000;
                                
                                if (cond_177996) {
                                    int64_t tmp_180607 = add64(ss_177983, count_177987);
                                    
                                    defunc_0_lifted_step_res_f_res_177997 = tmp_180607;
                                    defunc_0_lifted_step_res_f_res_177998 = tt_177985;
                                    defunc_0_lifted_step_res_f_res_177999 = tt_177986;
                                    defunc_0_lifted_step_res_f_res_178000 = (int64_t) 0;
                                } else {
                                    bool cond_178002 = count_177987 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178003;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178004;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178005;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178006;
                                    
                                    if (cond_178002) {
                                        bool x_180609 = sle64((int64_t) 0, ss_177983);
                                        bool y_180610 = slt64(ss_177983, stride_177794);
                                        bool bounds_check_180611 = x_180609 && y_180610;
                                        bool index_certs_180612;
                                        
                                        if (!bounds_check_180611) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177983, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180617 = sle64((int64_t) 0, tt_177985);
                                        bool y_180618 = slt64(tt_177985, j_m_i_177817);
                                        bool bounds_check_180619 = x_180617 && y_180618;
                                        bool index_certs_180620;
                                        
                                        if (!bounds_check_180619) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177985, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180613 = start_177868 + ss_177983;
                                        int8_t leq_arg1_180614 = ((int8_t *) mem_param_181944.mem)[slice_180613];
                                        int64_t leq_arg1_180615 = ((int64_t *) mem_param_181947.mem)[slice_180613];
                                        double leq_arg1_180616 = ((double *) mem_param_181950.mem)[slice_180613];
                                        int64_t slice_180621 = stride_177794 + tt_177985;
                                        int64_t slice_180622 = start_177868 + slice_180621;
                                        int8_t leq_arg0_180623 = ((int8_t *) mem_param_181944.mem)[slice_180622];
                                        int64_t leq_arg0_180624 = ((int64_t *) mem_param_181947.mem)[slice_180622];
                                        double leq_arg0_180625 = ((double *) mem_param_181950.mem)[slice_180622];
                                        bool cond_180626 = leq_arg0_180623 == leq_arg1_180614;
                                        bool defunc_0_leq_res_t_res_180627 = sle64(leq_arg0_180624, leq_arg1_180615);
                                        bool defunc_0_leq_res_180628 = leq_arg0_180625 <= leq_arg1_180616;
                                        bool x_180629 = cond_180626 && defunc_0_leq_res_t_res_180627;
                                        bool x_180630 = !cond_180626;
                                        bool y_180631 = defunc_0_leq_res_180628 && x_180630;
                                        bool defunc_0_leq_res_180632 = x_180629 || y_180631;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        
                                        if (defunc_0_leq_res_180632) {
                                            int64_t tmp_180635 = add64((int64_t) 1, tt_177985);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = ss_177983;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tmp_180635;
                                        } else {
                                            int64_t tmp_180636 = add64((int64_t) 1, ss_177983);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = tmp_180636;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tt_177985;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = tt_177986;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = (int64_t) 0;
                                    } else {
                                        int64_t m_178035 = sdiv64(count_177987, (int64_t) 2);
                                        int64_t n_178036 = sub64(count_177987, m_178035);
                                        bool cond_178037 = n_178036 == (int64_t) 0;
                                        int64_t zgze_lhs_178038 = add64(ss_177983, m_178035);
                                        bool cond_f_res_178039 = sle64(ss_177984, zgze_lhs_178038);
                                        bool x_178040 = !cond_178037;
                                        bool y_178041 = cond_f_res_178039 && x_178040;
                                        bool cond_178042 = cond_178037 || y_178041;
                                        bool leq_y_x_178043;
                                        
                                        if (cond_178042) {
                                            leq_y_x_178043 = 1;
                                        } else {
                                            bool x_178044 = sle64((int64_t) 0, zgze_lhs_178038);
                                            bool y_178045 = slt64(zgze_lhs_178038, stride_177794);
                                            bool bounds_check_178046 = x_178044 && y_178045;
                                            bool index_certs_178047;
                                            
                                            if (!bounds_check_178046) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178038, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178052 = add64(tt_177985, n_178036);
                                            int64_t leq_arg0_178053 = sub64(zm_lhs_178052, (int64_t) 1);
                                            bool x_178054 = sle64((int64_t) 0, leq_arg0_178053);
                                            bool y_178055 = slt64(leq_arg0_178053, j_m_i_177817);
                                            bool bounds_check_178056 = x_178054 && y_178055;
                                            bool index_certs_178057;
                                            
                                            if (!bounds_check_178056) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178053, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:407:63-73\n   #12 ftsort.fut:400:1-407:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178048 = start_177868 + zgze_lhs_178038;
                                            int8_t leq_arg1_178049 = ((int8_t *) mem_param_181944.mem)[slice_178048];
                                            int64_t leq_arg1_178050 = ((int64_t *) mem_param_181947.mem)[slice_178048];
                                            double leq_arg1_178051 = ((double *) mem_param_181950.mem)[slice_178048];
                                            int64_t slice_178058 = stride_177794 + leq_arg0_178053;
                                            int64_t slice_178059 = start_177868 + slice_178058;
                                            int8_t leq_arg0_178060 = ((int8_t *) mem_param_181944.mem)[slice_178059];
                                            int64_t leq_arg0_178061 = ((int64_t *) mem_param_181947.mem)[slice_178059];
                                            double leq_arg0_178062 = ((double *) mem_param_181950.mem)[slice_178059];
                                            bool cond_178063 = leq_arg0_178060 == leq_arg1_178049;
                                            bool defunc_0_leq_res_t_res_178064 = sle64(leq_arg0_178061, leq_arg1_178050);
                                            bool defunc_0_leq_res_178065 = leq_arg0_178062 <= leq_arg1_178051;
                                            bool x_178066 = cond_178063 && defunc_0_leq_res_t_res_178064;
                                            bool x_178067 = !cond_178063;
                                            bool y_178068 = defunc_0_leq_res_178065 && x_178067;
                                            bool defunc_0_leq_res_178069 = x_178066 || y_178068;
                                            
                                            leq_y_x_178043 = defunc_0_leq_res_178069;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                        
                                        if (leq_y_x_178043) {
                                            int64_t tmp_180637 = add64(tt_177985, n_178036);
                                            int64_t tmp_180638 = sub64(count_177987, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tmp_180637;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tt_177986;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = tmp_180638;
                                        } else {
                                            int64_t tmp_178075 = add64(tt_177985, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tt_177985;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tmp_178075;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = count_177987;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = ss_177983;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                    }
                                    defunc_0_lifted_step_res_f_res_177997 = defunc_0_lifted_step_res_f_res_f_res_178003;
                                    defunc_0_lifted_step_res_f_res_177998 = defunc_0_lifted_step_res_f_res_f_res_178004;
                                    defunc_0_lifted_step_res_f_res_177999 = defunc_0_lifted_step_res_f_res_f_res_178005;
                                    defunc_0_lifted_step_res_f_res_178000 = defunc_0_lifted_step_res_f_res_f_res_178006;
                                }
                                defunc_0_lifted_step_res_177990 = defunc_0_lifted_step_res_f_res_177997;
                                defunc_0_lifted_step_res_177991 = defunc_0_lifted_step_res_f_res_177998;
                                defunc_0_lifted_step_res_177992 = defunc_0_lifted_step_res_f_res_177999;
                                defunc_0_lifted_step_res_177993 = defunc_0_lifted_step_res_f_res_178000;
                            }
                            
                            int64_t loopres_178076;
                            int64_t loopres_178077;
                            int64_t loopres_178078;
                            int64_t loopres_178079;
                            int64_t loopres_178080;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_178076, &loopres_178077, &loopres_178078, &loopres_178079, &loopres_178080, defunc_0_lifted_step_res_177990, ss_177984, defunc_0_lifted_step_res_177991, defunc_0_lifted_step_res_177992, defunc_0_lifted_step_res_177993) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178081 = slt64((int64_t) 0, loopres_178080);
                            bool loop_while_tmp_182689 = loop_cond_178081;
                            int64_t ss_tmp_182690 = loopres_178076;
                            int64_t ss_tmp_182691 = loopres_178077;
                            int64_t tt_tmp_182692 = loopres_178078;
                            int64_t tt_tmp_182693 = loopres_178079;
                            int64_t count_tmp_182694 = loopres_178080;
                            
                            loop_while_177982 = loop_while_tmp_182689;
                            ss_177983 = ss_tmp_182690;
                            ss_177984 = ss_tmp_182691;
                            tt_177985 = tt_tmp_182692;
                            tt_177986 = tt_tmp_182693;
                            count_177987 = count_tmp_182694;
                        }
                        defunc_0_split_count_res_177976 = loop_while_177982;
                        defunc_0_split_count_res_177977 = ss_177983;
                        defunc_0_split_count_res_177978 = ss_177984;
                        defunc_0_split_count_res_177979 = tt_177985;
                        defunc_0_split_count_res_177980 = tt_177986;
                        defunc_0_split_count_res_177981 = count_177987;
                        ((int64_t *) mem_181972)[i_180868] = defunc_0_split_count_res_177977;
                        ((int64_t *) mem_181974)[i_180868] = defunc_0_split_count_res_177979;
                    }
                    if (mem_181988_cached_sizze_182821 < flat_dim_177818) {
                        err = lexical_realloc(ctx, &mem_181988, &mem_181988_cached_sizze_182821, flat_dim_177818);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181991_cached_sizze_182822 < bytes_181990) {
                        err = lexical_realloc(ctx, &mem_181991, &mem_181991_cached_sizze_182822, bytes_181990);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_182823 < bytes_181990) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_182823, bytes_181990);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180877 = 0; i_180877 < num_blocks_177815; i_180877++) {
                        bool y_178088 = slt64(i_180877, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool index_certs_178090;
                        
                        if (!y_178088) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180877, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178091 = ((int64_t *) mem_181972)[i_180877];
                        int64_t defunc_0_f_res_178092 = ((int64_t *) mem_181974)[i_180877];
                        int64_t tmp_178093 = add64((int64_t) 1, i_180877);
                        bool x_178094 = sle64((int64_t) 0, tmp_178093);
                        bool y_178095 = slt64(tmp_178093, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool bounds_check_178096 = x_178094 && y_178095;
                        bool index_certs_178097;
                        
                        if (!bounds_check_178096) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178093, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178098 = ((int64_t *) mem_181972)[tmp_178093];
                        int64_t defunc_0_f_res_178099 = ((int64_t *) mem_181974)[tmp_178093];
                        int64_t merge_sequential_arg2_178100 = add64(stride_177794, defunc_0_f_res_178092);
                        int64_t merge_sequential_arg2_178101 = add64(stride_177794, defunc_0_f_res_178099);
                        int64_t j_m_i_178102 = sub64(merge_sequential_arg2_178101, merge_sequential_arg2_178100);
                        bool empty_slice_178103 = j_m_i_178102 == (int64_t) 0;
                        int64_t m_178104 = sub64(j_m_i_178102, (int64_t) 1);
                        int64_t i_p_m_t_s_178105 = add64(merge_sequential_arg2_178100, m_178104);
                        bool zzero_leq_i_p_m_t_s_178106 = sle64((int64_t) 0, i_p_m_t_s_178105);
                        bool i_p_m_t_s_leq_w_178107 = slt64(i_p_m_t_s_178105, next_stride_177795);
                        bool zzero_lte_i_178108 = sle64((int64_t) 0, merge_sequential_arg2_178100);
                        bool i_lte_j_178109 = sle64(merge_sequential_arg2_178100, merge_sequential_arg2_178101);
                        bool y_178110 = i_p_m_t_s_leq_w_178107 && zzero_lte_i_178108;
                        bool y_178111 = zzero_leq_i_p_m_t_s_178106 && y_178110;
                        bool forwards_ok_178112 = i_lte_j_178109 && y_178111;
                        bool ok_or_empty_178113 = empty_slice_178103 || forwards_ok_178112;
                        bool index_certs_178114;
                        
                        if (!ok_or_empty_178113) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178100, ":", (long long) merge_sequential_arg2_178101, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178115 = sub64(defunc_0_f_res_178098, defunc_0_f_res_178091);
                        bool empty_slice_178116 = j_m_i_178115 == (int64_t) 0;
                        int64_t m_178117 = sub64(j_m_i_178115, (int64_t) 1);
                        int64_t i_p_m_t_s_178118 = add64(defunc_0_f_res_178091, m_178117);
                        bool zzero_leq_i_p_m_t_s_178119 = sle64((int64_t) 0, i_p_m_t_s_178118);
                        bool i_p_m_t_s_leq_w_178120 = slt64(i_p_m_t_s_178118, next_stride_177795);
                        bool zzero_lte_i_178121 = sle64((int64_t) 0, defunc_0_f_res_178091);
                        bool i_lte_j_178122 = sle64(defunc_0_f_res_178091, defunc_0_f_res_178098);
                        bool y_178123 = i_p_m_t_s_leq_w_178120 && zzero_lte_i_178121;
                        bool y_178124 = zzero_leq_i_p_m_t_s_178119 && y_178123;
                        bool forwards_ok_178125 = i_lte_j_178122 && y_178124;
                        bool ok_or_empty_178126 = empty_slice_178116 || forwards_ok_178125;
                        bool index_certs_178127;
                        
                        if (!ok_or_empty_178126) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178091, ":", (long long) defunc_0_f_res_178098, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:407:63-73\n   #9  ftsort.fut:400:1-407:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178128 = slt64((int64_t) 0, j_m_i_178115);
                        int8_t dummy_178129;
                        int64_t dummy_178130;
                        double dummy_178131;
                        
                        if (cond_178128) {
                            bool index_certs_180639;
                            
                            if (!cond_178128) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180640 = start_177868 + defunc_0_f_res_178091;
                            int8_t head_res_180641 = ((int8_t *) mem_param_181944.mem)[slice_180640];
                            int64_t head_res_180642 = ((int64_t *) mem_param_181947.mem)[slice_180640];
                            double head_res_180643 = ((double *) mem_param_181950.mem)[slice_180640];
                            
                            dummy_178129 = head_res_180641;
                            dummy_178130 = head_res_180642;
                            dummy_178131 = head_res_180643;
                        } else {
                            bool y_178137 = slt64((int64_t) 0, j_m_i_178102);
                            bool index_certs_178138;
                            
                            if (!y_178137) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:407:63-73\n   #11 ftsort.fut:400:1-407:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178139 = start_177868 + merge_sequential_arg2_178100;
                            int8_t head_res_178140 = ((int8_t *) mem_param_181944.mem)[slice_178139];
                            int64_t head_res_178141 = ((int64_t *) mem_param_181947.mem)[slice_178139];
                            double head_res_178142 = ((double *) mem_param_181950.mem)[slice_178139];
                            
                            dummy_178129 = head_res_178140;
                            dummy_178130 = head_res_178141;
                            dummy_178131 = head_res_178142;
                        }
                        for (int64_t nest_i_182698 = 0; nest_i_182698 < merge_block_sizze_177632; nest_i_182698++) {
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + nest_i_182698] = dummy_178129;
                        }
                        for (int64_t nest_i_182699 = 0; nest_i_182699 < merge_block_sizze_177632; nest_i_182699++) {
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + nest_i_182699] = dummy_178130;
                        }
                        for (int64_t nest_i_182700 = 0; nest_i_182700 < merge_block_sizze_177632; nest_i_182700++) {
                            ((double *) mem_181994)[i_180877 * merge_block_sizze_177632 + nest_i_182700] = dummy_178131;
                        }
                        
                        int64_t data_178146;
                        int64_t i_178151 = (int64_t) 0;
                        
                        for (int64_t k_178150 = 0; k_178150 < merge_block_sizze_177632; k_178150++) {
                            int64_t j_178155 = sub64(k_178150, i_178151);
                            bool cond_178156 = j_178155 == j_m_i_178102;
                            bool cond_178157;
                            
                            if (cond_178156) {
                                cond_178157 = 1;
                            } else {
                                bool cond_178158 = slt64(i_178151, j_m_i_178115);
                                bool cond_f_res_178159;
                                
                                if (cond_178158) {
                                    bool x_180644 = sle64((int64_t) 0, j_178155);
                                    bool y_180645 = slt64(j_178155, j_m_i_178102);
                                    bool bounds_check_180646 = x_180644 && y_180645;
                                    bool index_certs_180647;
                                    
                                    if (!bounds_check_180646) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180653 = sle64((int64_t) 0, i_178151);
                                    bool bounds_check_180654 = cond_178158 && x_180653;
                                    bool index_certs_180655;
                                    
                                    if (!bounds_check_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180648 = merge_sequential_arg2_178100 + j_178155;
                                    int64_t slice_180649 = start_177868 + slice_180648;
                                    int8_t leq_arg1_180650 = ((int8_t *) mem_param_181944.mem)[slice_180649];
                                    int64_t leq_arg1_180651 = ((int64_t *) mem_param_181947.mem)[slice_180649];
                                    double leq_arg1_180652 = ((double *) mem_param_181950.mem)[slice_180649];
                                    int64_t slice_180656 = defunc_0_f_res_178091 + i_178151;
                                    int64_t slice_180657 = start_177868 + slice_180656;
                                    int8_t leq_arg0_180658 = ((int8_t *) mem_param_181944.mem)[slice_180657];
                                    int64_t leq_arg0_180659 = ((int64_t *) mem_param_181947.mem)[slice_180657];
                                    double leq_arg0_180660 = ((double *) mem_param_181950.mem)[slice_180657];
                                    bool cond_180661 = leq_arg0_180658 == leq_arg1_180650;
                                    bool defunc_0_leq_res_t_res_180662 = sle64(leq_arg0_180659, leq_arg1_180651);
                                    bool defunc_0_leq_res_180663 = leq_arg0_180660 <= leq_arg1_180652;
                                    bool x_180664 = cond_180661 && defunc_0_leq_res_t_res_180662;
                                    bool x_180665 = !cond_180661;
                                    bool y_180666 = defunc_0_leq_res_180663 && x_180665;
                                    bool defunc_0_leq_res_180667 = x_180664 || y_180666;
                                    
                                    cond_f_res_178159 = defunc_0_leq_res_180667;
                                } else {
                                    cond_f_res_178159 = 0;
                                }
                                cond_178157 = cond_f_res_178159;
                            }
                            
                            int64_t loopres_178184;
                            int8_t loopres_178185;
                            int64_t loopres_178186;
                            double loopres_178187;
                            
                            if (cond_178157) {
                                bool x_180669 = sle64((int64_t) 0, i_178151);
                                bool y_180670 = slt64(i_178151, j_m_i_178115);
                                bool bounds_check_180671 = x_180669 && y_180670;
                                bool index_certs_180672;
                                
                                if (!bounds_check_180671) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180668 = add64((int64_t) 1, i_178151);
                                int64_t slice_180673 = defunc_0_f_res_178091 + i_178151;
                                int64_t slice_180674 = start_177868 + slice_180673;
                                int8_t tmp_180675 = ((int8_t *) mem_param_181944.mem)[slice_180674];
                                int64_t tmp_180676 = ((int64_t *) mem_param_181947.mem)[slice_180674];
                                double tmp_180677 = ((double *) mem_param_181950.mem)[slice_180674];
                                
                                loopres_178184 = tmp_180668;
                                loopres_178185 = tmp_180675;
                                loopres_178186 = tmp_180676;
                                loopres_178187 = tmp_180677;
                            } else {
                                bool x_178198 = sle64((int64_t) 0, j_178155);
                                bool y_178199 = slt64(j_178155, j_m_i_178102);
                                bool bounds_check_178200 = x_178198 && y_178199;
                                bool index_certs_178201;
                                
                                if (!bounds_check_178200) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:407:63-73\n   #10 ftsort.fut:400:1-407:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178202 = merge_sequential_arg2_178100 + j_178155;
                                int64_t slice_178203 = start_177868 + slice_178202;
                                int8_t tmp_178204 = ((int8_t *) mem_param_181944.mem)[slice_178203];
                                int64_t tmp_178205 = ((int64_t *) mem_param_181947.mem)[slice_178203];
                                double tmp_178206 = ((double *) mem_param_181950.mem)[slice_178203];
                                
                                loopres_178184 = i_178151;
                                loopres_178185 = tmp_178204;
                                loopres_178186 = tmp_178205;
                                loopres_178187 = tmp_178206;
                            }
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178185;
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178186;
                            ((double *) mem_181994)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178187;
                            
                            int64_t i_tmp_182701 = loopres_178184;
                            
                            i_178151 = i_tmp_182701;
                        }
                        data_178146 = i_178151;
                    }
                    if (memblock_alloc(ctx, &mem_182043, flat_dim_177818, "mem_182043")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182043.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint8_t *) mem_181988, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182047, bytes_181990, "mem_182047")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182047.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint64_t *) mem_181991, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182051, bytes_181990, "mem_182051")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182051.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint64_t *) mem_181994, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182043, "mem_182043") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182047, "mem_182047") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182051, "mem_182051") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181952, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181955, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182081.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181958, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182078.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182098, bytes_181951, "mem_182098")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182098.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182102, bytes_181954, "mem_182102")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182102.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint64_t *) mem_181955, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182106, bytes_181954, "mem_182106")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182106.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint64_t *) mem_181958, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            
            bool loop_cond_178220 = slt64(next_stride_177795, flat_dim_177627);
            
            if (memblock_set(ctx, &mem_param_tmp_182668, &mem_182098, "mem_182098") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182669, &mem_182102, "mem_182102") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182670, &mem_182106, "mem_182106") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182671 = bytes_181951;
            bool loop_while_tmp_182672 = loop_cond_178220;
            int64_t stride_tmp_182676 = next_stride_177795;
            
            if (memblock_set(ctx, &mem_param_181944, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181947, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181950, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
                return 1;
            loop_dz2084Uz2082U_177789 = loop_dz2084Uz2082U_tmp_182671;
            loop_while_177790 = loop_while_tmp_182672;
            stride_177794 = stride_tmp_182676;
        }
        if (memblock_set(ctx, &ext_mem_182116, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182115, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182114, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        data_177783 = loop_dz2084Uz2082U_177789;
        data_177784 = loop_while_177790;
        data_177788 = stride_177794;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178223 = slt64(zs_lhs_177611, data_177783);
        bool y_178224 = i_p_m_t_s_leq_w_178223 && zzero_leq_i_p_m_t_s_178237;
        bool ok_or_empty_178225 = y_178224 || empty_slice_178235;
        bool index_certs_178226;
        
        if (!ok_or_empty_178225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) data_177783, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:407:63-73\n   #5  ftsort.fut:400:1-407:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182125, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182125.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181036.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182122.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181038.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182119.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181036, "mem_181036") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182448, &mem_181038, "mem_181038") != 0)
        return 1;
    prim_out_182449 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    if (memblock_set(ctx, &*mem_out_p_182770, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182771, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182772, &mem_out_182448, "mem_out_182448") != 0)
        return 1;
    *out_prim_out_182773 = prim_out_182449;
    
  cleanup:
    {
        free(mem_181049);
        free(mem_181051);
        free(mem_181090);
        free(mem_181093);
        free(mem_181096);
        free(mem_181109);
        free(mem_181111);
        free(mem_181113);
        free(mem_181210);
        free(mem_181213);
        free(mem_181216);
        free(mem_181230);
        free(mem_181232);
        free(mem_181246);
        free(mem_181249);
        free(mem_181252);
        free(mem_181394);
        free(mem_181396);
        free(mem_181411);
        free(mem_181413);
        free(mem_181416);
        free(mem_181419);
        free(mem_181453);
        free(mem_181456);
        free(mem_181459);
        free(mem_181472);
        free(mem_181474);
        free(mem_181476);
        free(mem_181573);
        free(mem_181576);
        free(mem_181579);
        free(mem_181593);
        free(mem_181595);
        free(mem_181609);
        free(mem_181612);
        free(mem_181615);
        free(mem_181832);
        free(mem_181835);
        free(mem_181838);
        free(mem_181851);
        free(mem_181853);
        free(mem_181855);
        free(mem_181952);
        free(mem_181955);
        free(mem_181958);
        free(mem_181972);
        free(mem_181974);
        free(mem_181988);
        free(mem_181991);
        free(mem_181994);
        if (memblock_unref(ctx, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182106, "mem_182106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182102, "mem_182102") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182098, "mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182051, "mem_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182047, "mem_182047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182043, "mem_182043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182057, "mem_182057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182055, "mem_182055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182053, "mem_182053") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181364, "mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181360, "mem_181360") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181309, "mem_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181315, "mem_181315") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181313, "mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181311, "mem_181311") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181208, "mem_param_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181205, "mem_param_181205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181202, "mem_param_181202") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181372, "ext_mem_181372") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181374, "ext_mem_181374") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181068, "mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181066, "mem_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181064, "mem_181064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181774, "mem_181774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181772, "mem_181772") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181727, "mem_181727") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181723, "mem_181723") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181672, "mem_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181668, "mem_181668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181664, "mem_181664") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181678, "mem_181678") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181676, "mem_181676") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181674, "mem_181674") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181571, "mem_param_181571") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181568, "mem_param_181568") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181565, "mem_param_181565") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181735, "ext_mem_181735") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181736, "ext_mem_181736") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181737, "ext_mem_181737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181038, "mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181036, "mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182448, "mem_out_182448") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_float(struct futhark_context *ctx, struct memblock *mem_out_p_182824, struct memblock *mem_out_p_182825, struct memblock *mem_out_p_182826, int64_t *out_prim_out_182827, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_152753, int64_t nb_152754, int64_t window_sizze_152755, int64_t threads_152756, bool inParallel_152759)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181049_cached_sizze_182828 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_182829 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181090_cached_sizze_182830 = 0;
    unsigned char *mem_181090 = NULL;
    int64_t mem_181093_cached_sizze_182831 = 0;
    unsigned char *mem_181093 = NULL;
    int64_t mem_181096_cached_sizze_182832 = 0;
    unsigned char *mem_181096 = NULL;
    int64_t mem_181109_cached_sizze_182833 = 0;
    unsigned char *mem_181109 = NULL;
    int64_t mem_181111_cached_sizze_182834 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181113_cached_sizze_182835 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181210_cached_sizze_182836 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181213_cached_sizze_182837 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181216_cached_sizze_182838 = 0;
    unsigned char *mem_181216 = NULL;
    int64_t mem_181230_cached_sizze_182839 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181232_cached_sizze_182840 = 0;
    unsigned char *mem_181232 = NULL;
    int64_t mem_181246_cached_sizze_182841 = 0;
    unsigned char *mem_181246 = NULL;
    int64_t mem_181249_cached_sizze_182842 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181252_cached_sizze_182843 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181394_cached_sizze_182844 = 0;
    unsigned char *mem_181394 = NULL;
    int64_t mem_181396_cached_sizze_182845 = 0;
    unsigned char *mem_181396 = NULL;
    int64_t mem_181411_cached_sizze_182846 = 0;
    unsigned char *mem_181411 = NULL;
    int64_t mem_181413_cached_sizze_182847 = 0;
    unsigned char *mem_181413 = NULL;
    int64_t mem_181416_cached_sizze_182848 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181419_cached_sizze_182849 = 0;
    unsigned char *mem_181419 = NULL;
    int64_t mem_181453_cached_sizze_182850 = 0;
    unsigned char *mem_181453 = NULL;
    int64_t mem_181456_cached_sizze_182851 = 0;
    unsigned char *mem_181456 = NULL;
    int64_t mem_181459_cached_sizze_182852 = 0;
    unsigned char *mem_181459 = NULL;
    int64_t mem_181472_cached_sizze_182853 = 0;
    unsigned char *mem_181472 = NULL;
    int64_t mem_181474_cached_sizze_182854 = 0;
    unsigned char *mem_181474 = NULL;
    int64_t mem_181476_cached_sizze_182855 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181573_cached_sizze_182856 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181576_cached_sizze_182857 = 0;
    unsigned char *mem_181576 = NULL;
    int64_t mem_181579_cached_sizze_182858 = 0;
    unsigned char *mem_181579 = NULL;
    int64_t mem_181593_cached_sizze_182859 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181595_cached_sizze_182860 = 0;
    unsigned char *mem_181595 = NULL;
    int64_t mem_181609_cached_sizze_182861 = 0;
    unsigned char *mem_181609 = NULL;
    int64_t mem_181612_cached_sizze_182862 = 0;
    unsigned char *mem_181612 = NULL;
    int64_t mem_181615_cached_sizze_182863 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181832_cached_sizze_182864 = 0;
    unsigned char *mem_181832 = NULL;
    int64_t mem_181835_cached_sizze_182865 = 0;
    unsigned char *mem_181835 = NULL;
    int64_t mem_181838_cached_sizze_182866 = 0;
    unsigned char *mem_181838 = NULL;
    int64_t mem_181851_cached_sizze_182867 = 0;
    unsigned char *mem_181851 = NULL;
    int64_t mem_181853_cached_sizze_182868 = 0;
    unsigned char *mem_181853 = NULL;
    int64_t mem_181855_cached_sizze_182869 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181952_cached_sizze_182870 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181955_cached_sizze_182871 = 0;
    unsigned char *mem_181955 = NULL;
    int64_t mem_181958_cached_sizze_182872 = 0;
    unsigned char *mem_181958 = NULL;
    int64_t mem_181972_cached_sizze_182873 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181974_cached_sizze_182874 = 0;
    unsigned char *mem_181974 = NULL;
    int64_t mem_181988_cached_sizze_182875 = 0;
    unsigned char *mem_181988 = NULL;
    int64_t mem_181991_cached_sizze_182876 = 0;
    unsigned char *mem_181991 = NULL;
    int64_t mem_181994_cached_sizze_182877 = 0;
    unsigned char *mem_181994 = NULL;
    struct memblock mem_param_tmp_182670;
    
    mem_param_tmp_182670.references = NULL;
    
    struct memblock mem_param_tmp_182669;
    
    mem_param_tmp_182669.references = NULL;
    
    struct memblock mem_param_tmp_182668;
    
    mem_param_tmp_182668.references = NULL;
    
    struct memblock mem_182106;
    
    mem_182106.references = NULL;
    
    struct memblock mem_182102;
    
    mem_182102.references = NULL;
    
    struct memblock mem_182098;
    
    mem_182098.references = NULL;
    
    struct memblock mem_182051;
    
    mem_182051.references = NULL;
    
    struct memblock mem_182047;
    
    mem_182047.references = NULL;
    
    struct memblock mem_182043;
    
    mem_182043.references = NULL;
    
    struct memblock mem_182057;
    
    mem_182057.references = NULL;
    
    struct memblock mem_182055;
    
    mem_182055.references = NULL;
    
    struct memblock mem_182053;
    
    mem_182053.references = NULL;
    
    struct memblock ext_mem_182078;
    
    ext_mem_182078.references = NULL;
    
    struct memblock ext_mem_182081;
    
    ext_mem_182081.references = NULL;
    
    struct memblock ext_mem_182084;
    
    ext_mem_182084.references = NULL;
    
    struct memblock mem_param_181950;
    
    mem_param_181950.references = NULL;
    
    struct memblock mem_param_181947;
    
    mem_param_181947.references = NULL;
    
    struct memblock mem_param_181944;
    
    mem_param_181944.references = NULL;
    
    struct memblock ext_mem_182114;
    
    ext_mem_182114.references = NULL;
    
    struct memblock ext_mem_182115;
    
    ext_mem_182115.references = NULL;
    
    struct memblock ext_mem_182116;
    
    ext_mem_182116.references = NULL;
    
    struct memblock mem_181940;
    
    mem_181940.references = NULL;
    
    struct memblock mem_181936;
    
    mem_181936.references = NULL;
    
    struct memblock mem_181932;
    
    mem_181932.references = NULL;
    
    struct memblock ext_mem_182119;
    
    ext_mem_182119.references = NULL;
    
    struct memblock ext_mem_182122;
    
    ext_mem_182122.references = NULL;
    
    struct memblock ext_mem_182125;
    
    ext_mem_182125.references = NULL;
    
    struct memblock mem_181830;
    
    mem_181830.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181826;
    
    mem_181826.references = NULL;
    
    struct memblock mem_param_tmp_182604;
    
    mem_param_tmp_182604.references = NULL;
    
    struct memblock mem_param_tmp_182603;
    
    mem_param_tmp_182603.references = NULL;
    
    struct memblock mem_param_tmp_182602;
    
    mem_param_tmp_182602.references = NULL;
    
    struct memblock mem_181364;
    
    mem_181364.references = NULL;
    
    struct memblock mem_181360;
    
    mem_181360.references = NULL;
    
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181309;
    
    mem_181309.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock mem_181315;
    
    mem_181315.references = NULL;
    
    struct memblock mem_181313;
    
    mem_181313.references = NULL;
    
    struct memblock mem_181311;
    
    mem_181311.references = NULL;
    
    struct memblock ext_mem_181336;
    
    ext_mem_181336.references = NULL;
    
    struct memblock ext_mem_181339;
    
    ext_mem_181339.references = NULL;
    
    struct memblock ext_mem_181342;
    
    ext_mem_181342.references = NULL;
    
    struct memblock mem_param_181208;
    
    mem_param_181208.references = NULL;
    
    struct memblock mem_param_181205;
    
    mem_param_181205.references = NULL;
    
    struct memblock mem_param_181202;
    
    mem_param_181202.references = NULL;
    
    struct memblock ext_mem_181372;
    
    ext_mem_181372.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock ext_mem_181374;
    
    ext_mem_181374.references = NULL;
    
    struct memblock mem_181198;
    
    mem_181198.references = NULL;
    
    struct memblock mem_181194;
    
    mem_181194.references = NULL;
    
    struct memblock mem_181190;
    
    mem_181190.references = NULL;
    
    struct memblock ext_mem_181377;
    
    ext_mem_181377.references = NULL;
    
    struct memblock ext_mem_181380;
    
    ext_mem_181380.references = NULL;
    
    struct memblock ext_mem_181383;
    
    ext_mem_181383.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181068;
    
    mem_181068.references = NULL;
    
    struct memblock mem_181066;
    
    mem_181066.references = NULL;
    
    struct memblock mem_181064;
    
    mem_181064.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock mem_181774;
    
    mem_181774.references = NULL;
    
    struct memblock mem_181772;
    
    mem_181772.references = NULL;
    
    struct memblock mem_param_tmp_182510;
    
    mem_param_tmp_182510.references = NULL;
    
    struct memblock mem_param_tmp_182509;
    
    mem_param_tmp_182509.references = NULL;
    
    struct memblock mem_param_tmp_182508;
    
    mem_param_tmp_182508.references = NULL;
    
    struct memblock mem_181727;
    
    mem_181727.references = NULL;
    
    struct memblock mem_181723;
    
    mem_181723.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181672;
    
    mem_181672.references = NULL;
    
    struct memblock mem_181668;
    
    mem_181668.references = NULL;
    
    struct memblock mem_181664;
    
    mem_181664.references = NULL;
    
    struct memblock mem_181678;
    
    mem_181678.references = NULL;
    
    struct memblock mem_181676;
    
    mem_181676.references = NULL;
    
    struct memblock mem_181674;
    
    mem_181674.references = NULL;
    
    struct memblock ext_mem_181699;
    
    ext_mem_181699.references = NULL;
    
    struct memblock ext_mem_181702;
    
    ext_mem_181702.references = NULL;
    
    struct memblock ext_mem_181705;
    
    ext_mem_181705.references = NULL;
    
    struct memblock mem_param_181571;
    
    mem_param_181571.references = NULL;
    
    struct memblock mem_param_181568;
    
    mem_param_181568.references = NULL;
    
    struct memblock mem_param_181565;
    
    mem_param_181565.references = NULL;
    
    struct memblock ext_mem_181735;
    
    ext_mem_181735.references = NULL;
    
    struct memblock ext_mem_181736;
    
    ext_mem_181736.references = NULL;
    
    struct memblock ext_mem_181737;
    
    ext_mem_181737.references = NULL;
    
    struct memblock mem_181561;
    
    mem_181561.references = NULL;
    
    struct memblock mem_181557;
    
    mem_181557.references = NULL;
    
    struct memblock mem_181553;
    
    mem_181553.references = NULL;
    
    struct memblock ext_mem_181740;
    
    ext_mem_181740.references = NULL;
    
    struct memblock ext_mem_181743;
    
    ext_mem_181743.references = NULL;
    
    struct memblock ext_mem_181746;
    
    ext_mem_181746.references = NULL;
    
    struct memblock mem_181451;
    
    mem_181451.references = NULL;
    
    struct memblock mem_181449;
    
    mem_181449.references = NULL;
    
    struct memblock mem_181447;
    
    mem_181447.references = NULL;
    
    struct memblock ext_mem_181796;
    
    ext_mem_181796.references = NULL;
    
    struct memblock ext_mem_181799;
    
    ext_mem_181799.references = NULL;
    
    struct memblock ext_mem_181802;
    
    ext_mem_181802.references = NULL;
    
    struct memblock mem_181038;
    
    mem_181038.references = NULL;
    
    struct memblock mem_181036;
    
    mem_181036.references = NULL;
    
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t prim_out_182449;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521 = add64(na_152753, nb_152754);
    
    if (memblock_alloc(ctx, &mem_181034, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182450 = 0; nest_i_182450 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182450++) {
        ((int8_t *) mem_181034.mem)[nest_i_182450] = (int8_t) -1;
    }
    
    int64_t bytes_181035 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    
    if (memblock_alloc(ctx, &mem_181036, bytes_181035, "mem_181036")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182451 = 0; nest_i_182451 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182451++) {
        ((int64_t *) mem_181036.mem)[nest_i_182451] = (int64_t) -1;
    }
    
    int64_t bytes_181037 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    
    if (memblock_alloc(ctx, &mem_181038, bytes_181037, "mem_181038")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182452 = 0; nest_i_182452 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182452++) {
        ((float *) mem_181038.mem)[nest_i_182452] = 0.0F;
    }
    
    int64_t zl_rhs_175525 = sub64(na_152753, window_sizze_152755);
    bool cond_175526 = slt64((int64_t) 0, zl_rhs_175525);
    int64_t zl_rhs_175527 = sub64(nb_152754, window_sizze_152755);
    bool loop_cond_t_res_175528 = slt64((int64_t) 0, zl_rhs_175527);
    bool x_175529 = cond_175526 && loop_cond_t_res_175528;
    bool empty_slice_175530 = window_sizze_152755 == (int64_t) 0;
    int64_t m_175531 = sub64(window_sizze_152755, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556 = add64((int64_t) 1, threads_152756);
    int64_t partitionFunc_arg0_176557 = mul64((int64_t) 2, threads_152756);
    bool y_176559 = slt64((int64_t) 0, window_sizze_152755);
    bool loop_cond_176805 = slt64((int64_t) 0, threads_152756);
    bool zzero_175576 = threads_152756 == (int64_t) 0;
    bool nonzzero_175577 = !zzero_175576;
    bool loop_not_taken_178334 = !inParallel_152759;
    bool protect_assert_disj_178335 = nonzzero_175577 || loop_not_taken_178334;
    bool loop_not_taken_178424 = !x_175529;
    bool protect_assert_disj_178425 = protect_assert_disj_178335 || loop_not_taken_178424;
    bool nonzzero_cert_175578;
    
    if (!protect_assert_disj_178425) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175579 = sdiv_safe64(window_sizze_152755, threads_152756);
    int64_t perThread_175580 = add64((int64_t) 1, zp_rhs_175579);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581 = mul64(threads_152756, perThread_175580);
    bool protect_assert_disj_178471 = inParallel_152759 || y_176559;
    bool protect_assert_disj_178475 = loop_not_taken_178424 || protect_assert_disj_178471;
    bool index_certs_176560;
    
    if (!protect_assert_disj_178475) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176575 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, (int64_t) 1);
    bool y_177532 = slt64(threads_152756, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
    bool protect_assert_disj_178440 = y_176559 || loop_not_taken_178334;
    bool protect_assert_disj_178479 = loop_not_taken_178424 || protect_assert_disj_178440;
    bool index_certs_175584;
    
    if (!protect_assert_disj_178479) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176577 = !bounds_invalid_upwards_176575;
    bool protect_assert_disj_178487 = inParallel_152759 || y_177532;
    bool protect_assert_disj_178489 = loop_not_taken_178424 || protect_assert_disj_178487;
    bool index_certs_177534;
    
    if (!protect_assert_disj_178489) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152756, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178483 = y_177532 || loop_not_taken_178334;
    bool protect_assert_disj_178491 = loop_not_taken_178424 || protect_assert_disj_178483;
    bool index_certs_176538;
    
    if (!protect_assert_disj_178491) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_152756, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178499 = inParallel_152759 || valid_176577;
    bool protect_assert_disj_178501 = loop_not_taken_178424 || protect_assert_disj_178499;
    bool range_valid_c_176578;
    
    if (!protect_assert_disj_178501) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178343 = sle64((int64_t) 1, threads_152756);
    bool protect_assert_disj_178495 = valid_176577 || loop_not_taken_178334;
    bool protect_assert_disj_178503 = loop_not_taken_178424 || protect_assert_disj_178495;
    bool range_valid_c_175591;
    
    if (!protect_assert_disj_178503) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176580 = add64(window_sizze_152755, window_sizze_152755);
    bool zzero_176581 = partitionFunc_arg0_176557 == (int64_t) 0;
    int64_t index_concat_i_178344 = sub64(threads_152756, (int64_t) 1);
    bool nonzzero_176582 = !zzero_176581;
    bool protect_assert_disj_178511 = inParallel_152759 || nonzzero_176582;
    bool protect_assert_disj_178517 = loop_not_taken_178424 || protect_assert_disj_178511;
    bool nonzzero_cert_176583;
    
    if (!protect_assert_disj_178517) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178507 = nonzzero_176582 || loop_not_taken_178334;
    bool protect_assert_disj_178523 = loop_not_taken_178424 || protect_assert_disj_178507;
    bool nonzzero_cert_175596;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181048 = (int64_t) 8 * threads_152756;
    int64_t bytes_181065 = (int64_t) 8 * window_sizze_152755;
    int64_t bytes_181067 = (int64_t) 4 * window_sizze_152755;
    int64_t bytes_181410 = perThread_175580 * bytes_181048;
    int64_t binop_x_181417 = (int64_t) 4 * threads_152756;
    int64_t bytes_181418 = perThread_175580 * binop_x_181417;
    bool defunc_0_merge_pipeline_res_175532;
    int64_t defunc_0_merge_pipeline_res_175536;
    int64_t defunc_0_merge_pipeline_res_175537;
    bool loop_while_175538;
    int64_t p_175542;
    int64_t p_175543;
    
    loop_while_175538 = x_175529;
    p_175542 = (int64_t) 0;
    p_175543 = (int64_t) 0;
    while (loop_while_175538) {
        int64_t ubs_175544 = add64(window_sizze_152755, p_175542);
        int64_t ubs_175545 = add64(window_sizze_152755, p_175543);
        int64_t ind_bottom_175546 = add64(p_175542, p_175543);
        int64_t ind_top_175547 = add64(window_sizze_152755, ind_bottom_175546);
        int64_t i_p_m_t_s_175548 = add64(m_175531, p_175542);
        bool zzero_leq_i_p_m_t_s_175549 = sle64((int64_t) 0, i_p_m_t_s_175548);
        bool i_p_m_t_s_leq_w_175550 = slt64(i_p_m_t_s_175548, na_152753);
        bool zzero_lte_i_175551 = sle64((int64_t) 0, p_175542);
        bool i_lte_j_175552 = sle64(p_175542, ubs_175544);
        bool y_175553 = i_p_m_t_s_leq_w_175550 && zzero_lte_i_175551;
        bool y_175554 = zzero_leq_i_p_m_t_s_175549 && y_175553;
        bool forwards_ok_175555 = i_lte_j_175552 && y_175554;
        bool ok_or_empty_175556 = empty_slice_175530 || forwards_ok_175555;
        bool index_certs_175557;
        
        if (!ok_or_empty_175556) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175542, ":", (long long) ubs_175544, "] out of bounds for array of shape [", (long long) na_152753, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175559 = add64(m_175531, p_175543);
        bool zzero_leq_i_p_m_t_s_175560 = sle64((int64_t) 0, i_p_m_t_s_175559);
        bool i_p_m_t_s_leq_w_175561 = slt64(i_p_m_t_s_175559, nb_152754);
        bool zzero_lte_i_175562 = sle64((int64_t) 0, p_175543);
        bool i_lte_j_175563 = sle64(p_175543, ubs_175545);
        bool y_175564 = i_p_m_t_s_leq_w_175561 && zzero_lte_i_175562;
        bool y_175565 = zzero_leq_i_p_m_t_s_175560 && y_175564;
        bool forwards_ok_175566 = i_lte_j_175563 && y_175565;
        bool ok_or_empty_175567 = empty_slice_175530 || forwards_ok_175566;
        bool index_certs_175568;
        
        if (!ok_or_empty_175567) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175543, ":", (long long) ubs_175545, "] out of bounds for array of shape [", (long long) nb_152754, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177546 = add64(m_175531, ind_bottom_175546);
        bool zzero_leq_i_p_m_t_s_177547 = sle64((int64_t) 0, i_p_m_t_s_177546);
        bool i_p_m_t_s_leq_w_177548 = slt64(i_p_m_t_s_177546, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
        bool zzero_lte_i_177549 = sle64((int64_t) 0, ind_bottom_175546);
        bool i_lte_j_177550 = sle64(ind_bottom_175546, ind_top_175547);
        bool y_177551 = i_p_m_t_s_leq_w_177548 && zzero_lte_i_177549;
        bool y_177552 = zzero_leq_i_p_m_t_s_177547 && y_177551;
        bool forwards_ok_177553 = i_lte_j_177550 && y_177552;
        bool ok_or_empty_177554 = empty_slice_175530 || forwards_ok_177553;
        bool index_certs_177555;
        
        if (!ok_or_empty_177554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175546, ":", (long long) ind_top_175547, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175570;
        int64_t loopres_175571;
        
        if (inParallel_152759) {
            float leq_lhs_179004 = ((float *) a_list_mem_181032.mem)[p_175542];
            float leq_rhs_179005 = ((float *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_179006 = leq_lhs_179004 <= leq_rhs_179005;
            float lowest_179007;
            
            if (defunc_0_leq_res_179006) {
                lowest_179007 = leq_lhs_179004;
            } else {
                lowest_179007 = leq_rhs_179005;
            }
            if (mem_181394_cached_sizze_182844 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181394, &mem_181394_cached_sizze_182844, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181396_cached_sizze_182845 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181396, &mem_181396_cached_sizze_182845, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180696 = 0; i_180696 < threads_152756; i_180696++) {
                int64_t index_primexp_180968 = add64((int64_t) 1, i_180696);
                int64_t zs_lhs_179012 = mul64(zt_rhs_176580, index_primexp_180968);
                int64_t index_179013 = sdiv64(zs_lhs_179012, partitionFunc_arg0_176557);
                bool cond_179014 = slt64(window_sizze_152755, index_179013);
                int64_t loop_over_179015;
                
                if (cond_179014) {
                    loop_over_179015 = window_sizze_152755;
                } else {
                    loop_over_179015 = index_179013;
                }
                
                int64_t loop_over_179016;
                
                if (cond_179014) {
                    int64_t loop_over_t_res_179017 = sub64(index_179013, window_sizze_152755);
                    
                    loop_over_179016 = loop_over_t_res_179017;
                } else {
                    loop_over_179016 = (int64_t) 0;
                }
                
                int64_t loop_over_179018;
                
                if (cond_179014) {
                    int64_t zm_lhs_179019 = sub64(index_179013, window_sizze_152755);
                    int64_t loop_over_t_res_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                    
                    loop_over_179018 = loop_over_t_res_179020;
                } else {
                    loop_over_179018 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179021;
                int64_t defunc_0_f_res_179022;
                int64_t defunc_0_f_res_179023;
                int64_t defunc_0_f_res_179024;
                bool loop_while_179025;
                int64_t p_179026;
                int64_t p_179027;
                int64_t p_179028;
                
                loop_while_179025 = 1;
                p_179026 = loop_over_179018;
                p_179027 = loop_over_179015;
                p_179028 = loop_over_179016;
                while (loop_while_179025) {
                    int64_t zs_lhs_179029 = sub64(p_179027, p_179026);
                    int64_t offset_179030 = sdiv64(zs_lhs_179029, (int64_t) 2);
                    int64_t ai_179031 = sub64(p_179027, offset_179030);
                    int64_t max_arg1_179032 = add64(p_179028, offset_179030);
                    int64_t max_res_179033 = smax64((int64_t) 0, max_arg1_179032);
                    bool cond_179034 = slt64((int64_t) 0, max_res_179033);
                    float b_prev_179035;
                    
                    if (cond_179034) {
                        int64_t tmp_179036 = sub64(max_res_179033, (int64_t) 1);
                        bool x_179037 = sle64((int64_t) 0, tmp_179036);
                        bool y_179038 = slt64(tmp_179036, window_sizze_152755);
                        bool bounds_check_179039 = x_179037 && y_179038;
                        bool index_certs_179040;
                        
                        if (!bounds_check_179039) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179036, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179041 = p_175543 + tmp_179036;
                        float b_prev_t_res_179042 = ((float *) b_list_mem_181033.mem)[slice_179041];
                        
                        b_prev_179035 = b_prev_t_res_179042;
                    } else {
                        b_prev_179035 = lowest_179007;
                    }
                    
                    bool cond_179043 = sle64(ai_179031, (int64_t) 0);
                    int64_t loopres_179044;
                    int64_t loopres_179045;
                    int64_t loopres_179046;
                    bool loopres_179047;
                    
                    if (cond_179043) {
                        loopres_179044 = p_179026;
                        loopres_179045 = (int64_t) 0;
                        loopres_179046 = max_res_179033;
                        loopres_179047 = 0;
                    } else {
                        bool cond_179048 = sle64(window_sizze_152755, max_res_179033);
                        int64_t loopres_f_res_179049;
                        int64_t loopres_f_res_179050;
                        int64_t loopres_f_res_179051;
                        bool loopres_f_res_179052;
                        
                        if (cond_179048) {
                            int64_t min_res_179054 = smin64(m_175531, ai_179031);
                            bool x_179055 = sle64((int64_t) 0, m_175531);
                            bool y_179056 = slt64(m_175531, window_sizze_152755);
                            bool bounds_check_179057 = x_179055 && y_179056;
                            bool index_certs_179058;
                            
                            if (!bounds_check_179057) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179061 = sle64((int64_t) 0, min_res_179054);
                            bool y_179062 = slt64(min_res_179054, window_sizze_152755);
                            bool bounds_check_179063 = x_179061 && y_179062;
                            bool index_certs_179064;
                            
                            if (!bounds_check_179063) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179054, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_179060 = ((float *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_179065 = p_175542 + min_res_179054;
                            float leq_rhs_179066 = ((float *) a_list_mem_181032.mem)[slice_179065];
                            bool defunc_0_leq_res_179067 = leq_lhs_179060 <= leq_rhs_179066;
                            int64_t loopres_f_res_t_res_179068;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179068 = ai_179031;
                            } else {
                                loopres_f_res_t_res_179068 = p_179027;
                            }
                            
                            bool x_179069 = !defunc_0_leq_res_179067;
                            int64_t loopres_f_res_t_res_179070;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179070 = window_sizze_152755;
                            } else {
                                int64_t tmp_179071 = sub64(m_175531, offset_179030);
                                
                                loopres_f_res_t_res_179070 = tmp_179071;
                            }
                            loopres_f_res_179049 = p_179026;
                            loopres_f_res_179050 = loopres_f_res_t_res_179068;
                            loopres_f_res_179051 = loopres_f_res_t_res_179070;
                            loopres_f_res_179052 = x_179069;
                        } else {
                            bool cond_179072 = sle64(window_sizze_152755, ai_179031);
                            int64_t loopres_f_res_f_res_179073;
                            int64_t loopres_f_res_f_res_179074;
                            int64_t loopres_f_res_f_res_179075;
                            bool loopres_f_res_f_res_179076;
                            
                            if (cond_179072) {
                                int64_t min_res_179078 = smin64(m_175531, max_res_179033);
                                bool x_179079 = sle64((int64_t) 0, m_175531);
                                bool y_179080 = slt64(m_175531, window_sizze_152755);
                                bool bounds_check_179081 = x_179079 && y_179080;
                                bool index_certs_179082;
                                
                                if (!bounds_check_179081) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179085 = sle64((int64_t) 0, min_res_179078);
                                bool y_179086 = slt64(min_res_179078, window_sizze_152755);
                                bool bounds_check_179087 = x_179085 && y_179086;
                                bool index_certs_179088;
                                
                                if (!bounds_check_179087) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179078, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_179084 = ((float *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_179089 = p_175543 + min_res_179078;
                                float leq_rhs_179090 = ((float *) b_list_mem_181033.mem)[slice_179089];
                                bool defunc_0_leq_res_179091 = leq_lhs_179084 <= leq_rhs_179090;
                                int64_t loopres_f_res_f_res_t_res_179092;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179092 = max_res_179033;
                                } else {
                                    loopres_f_res_f_res_t_res_179092 = p_179028;
                                }
                                
                                bool x_179093 = !defunc_0_leq_res_179091;
                                int64_t loopres_f_res_f_res_t_res_179094;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179094 = window_sizze_152755;
                                } else {
                                    loopres_f_res_f_res_t_res_179094 = m_175531;
                                }
                                loopres_f_res_f_res_179073 = p_179026;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_t_res_179094;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_t_res_179092;
                                loopres_f_res_f_res_179076 = x_179093;
                            } else {
                                bool cond_179095 = sle64(p_179027, p_179026);
                                int64_t loopres_f_res_f_res_f_res_179096;
                                int64_t loopres_f_res_f_res_f_res_179097;
                                int64_t loopres_f_res_f_res_f_res_179098;
                                bool loopres_f_res_f_res_f_res_179099;
                                
                                if (cond_179095) {
                                    bool cond_179100 = slt64(ai_179031, window_sizze_152755);
                                    int64_t ai_179101;
                                    
                                    if (cond_179100) {
                                        ai_179101 = ai_179031;
                                    } else {
                                        ai_179101 = m_175531;
                                    }
                                    
                                    bool x_179114 = sle64((int64_t) 0, ai_179101);
                                    bool y_179115 = slt64(ai_179101, window_sizze_152755);
                                    bool bounds_check_179116 = x_179114 && y_179115;
                                    bool index_certs_179117;
                                    
                                    if (!bounds_check_179116) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179101, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_179103;
                                    
                                    if (cond_179034) {
                                        int64_t tmp_179104 = sub64(max_res_179033, (int64_t) 1);
                                        bool x_179105 = sle64((int64_t) 0, tmp_179104);
                                        bool y_179106 = slt64(tmp_179104, window_sizze_152755);
                                        bool bounds_check_179107 = x_179105 && y_179106;
                                        bool index_certs_179108;
                                        
                                        if (!bounds_check_179107) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179104, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179109 = p_175543 + tmp_179104;
                                        float b_prev_t_res_179110 = ((float *) b_list_mem_181033.mem)[slice_179109];
                                        
                                        b_prev_179103 = b_prev_t_res_179110;
                                    } else {
                                        bool index_certs_179112;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179103 = leq_rhs_179005;
                                    }
                                    
                                    int64_t slice_179118 = p_175542 + ai_179101;
                                    float gt_lhs_179119 = ((float *) a_list_mem_181032.mem)[slice_179118];
                                    bool defunc_0_gt_res_179120 = b_prev_179103 < gt_lhs_179119;
                                    int64_t defunc_0_partFunc_sequential_search_res_179121;
                                    int64_t defunc_0_partFunc_sequential_search_res_179122;
                                    
                                    if (defunc_0_gt_res_179120) {
                                        int64_t zl_rhs_179123 = sub64(window_sizze_152755, max_res_179033);
                                        bool loop_cond_179124 = slt64((int64_t) 0, zl_rhs_179123);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179125;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179127;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179128;
                                        bool loop_while_179129;
                                        int64_t p_179130;
                                        int64_t p_179131;
                                        int64_t p_179132;
                                        
                                        loop_while_179129 = loop_cond_179124;
                                        p_179130 = ai_179101;
                                        p_179131 = max_res_179033;
                                        p_179132 = (int64_t) 0;
                                        while (loop_while_179129) {
                                            int64_t i_a_179133 = sub64(ai_179101, p_179132);
                                            int64_t i_b_179134 = add64(max_res_179033, p_179132);
                                            int64_t leq_lhs_179135 = sub64(i_a_179133, (int64_t) 1);
                                            bool x_179136 = sle64((int64_t) 0, leq_lhs_179135);
                                            bool y_179137 = slt64(leq_lhs_179135, window_sizze_152755);
                                            bool bounds_check_179138 = x_179136 && y_179137;
                                            bool index_certs_179139;
                                            
                                            if (!bounds_check_179138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179135, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179142 = sle64((int64_t) 0, i_b_179134);
                                            bool y_179143 = slt64(i_b_179134, window_sizze_152755);
                                            bool bounds_check_179144 = x_179142 && y_179143;
                                            bool index_certs_179145;
                                            
                                            if (!bounds_check_179144) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179134, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179140 = p_175542 + leq_lhs_179135;
                                            float leq_lhs_179141 = ((float *) a_list_mem_181032.mem)[slice_179140];
                                            int64_t slice_179146 = p_175543 + i_b_179134;
                                            float leq_rhs_179147 = ((float *) b_list_mem_181033.mem)[slice_179146];
                                            bool defunc_0_leq_res_179148 = leq_lhs_179141 <= leq_rhs_179147;
                                            int64_t loopres_179149;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179149 = i_a_179133;
                                            } else {
                                                loopres_179149 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179150;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179150 = i_b_179134;
                                            } else {
                                                loopres_179150 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179151;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179151 = zl_rhs_179123;
                                            } else {
                                                int64_t tmp_179152 = add64((int64_t) 1, p_179132);
                                                
                                                loopres_179151 = tmp_179152;
                                            }
                                            
                                            bool loop_cond_179153 = slt64(loopres_179151, zl_rhs_179123);
                                            bool loop_while_tmp_182465 = loop_cond_179153;
                                            int64_t p_tmp_182466 = loopres_179149;
                                            int64_t p_tmp_182467 = loopres_179150;
                                            int64_t p_tmp_182468 = loopres_179151;
                                            
                                            loop_while_179129 = loop_while_tmp_182465;
                                            p_179130 = p_tmp_182466;
                                            p_179131 = p_tmp_182467;
                                            p_179132 = p_tmp_182468;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179125 = loop_while_179129;
                                        defunc_0_partFunc_sequential_search_res_t_res_179126 = p_179130;
                                        defunc_0_partFunc_sequential_search_res_t_res_179127 = p_179131;
                                        defunc_0_partFunc_sequential_search_res_t_res_179128 = p_179132;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_t_res_179127;
                                    } else {
                                        int64_t zl_rhs_179154 = sub64(max_res_179033, (int64_t) 1);
                                        bool loop_cond_179155 = slt64((int64_t) 0, zl_rhs_179154);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179156;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179158;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179159;
                                        bool loop_while_179160;
                                        int64_t p_179161;
                                        int64_t p_179162;
                                        int64_t p_179163;
                                        
                                        loop_while_179160 = loop_cond_179155;
                                        p_179161 = ai_179101;
                                        p_179162 = max_res_179033;
                                        p_179163 = (int64_t) 0;
                                        while (loop_while_179160) {
                                            int64_t zp_lhs_179164 = add64(ai_179101, p_179163);
                                            int64_t hi_a_179165 = add64((int64_t) 1, zp_lhs_179164);
                                            bool cond_179166 = slt64(hi_a_179165, window_sizze_152755);
                                            int64_t i_a_179167;
                                            
                                            if (cond_179166) {
                                                i_a_179167 = hi_a_179165;
                                            } else {
                                                i_a_179167 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_179169 = sub64(max_res_179033, p_179163);
                                            int64_t i_b_179170 = sub64(zm_lhs_179169, (int64_t) 1);
                                            bool x_179171 = sle64((int64_t) 0, i_a_179167);
                                            bool y_179172 = slt64(i_a_179167, window_sizze_152755);
                                            bool bounds_check_179173 = x_179171 && y_179172;
                                            bool index_certs_179174;
                                            
                                            if (!bounds_check_179173) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179167, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179177 = sle64((int64_t) 0, i_b_179170);
                                            bool y_179178 = slt64(i_b_179170, window_sizze_152755);
                                            bool bounds_check_179179 = x_179177 && y_179178;
                                            bool index_certs_179180;
                                            
                                            if (!bounds_check_179179) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179170, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179175 = p_175542 + i_a_179167;
                                            float gt_lhs_179176 = ((float *) a_list_mem_181032.mem)[slice_179175];
                                            int64_t slice_179181 = p_175543 + i_b_179170;
                                            float gt_rhs_179182 = ((float *) b_list_mem_181033.mem)[slice_179181];
                                            bool defunc_0_gt_res_179183 = gt_rhs_179182 < gt_lhs_179176;
                                            int64_t loopres_179184;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179184 = i_a_179167;
                                            } else {
                                                loopres_179184 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179185;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179185 = zm_lhs_179169;
                                            } else {
                                                loopres_179185 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179186;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179186 = zl_rhs_179154;
                                            } else {
                                                int64_t tmp_179187 = add64((int64_t) 1, p_179163);
                                                
                                                loopres_179186 = tmp_179187;
                                            }
                                            
                                            bool loop_cond_179188 = slt64(loopres_179186, zl_rhs_179154);
                                            bool loop_while_tmp_182469 = loop_cond_179188;
                                            int64_t p_tmp_182470 = loopres_179184;
                                            int64_t p_tmp_182471 = loopres_179185;
                                            int64_t p_tmp_182472 = loopres_179186;
                                            
                                            loop_while_179160 = loop_while_tmp_182469;
                                            p_179161 = p_tmp_182470;
                                            p_179162 = p_tmp_182471;
                                            p_179163 = p_tmp_182472;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179156 = loop_while_179160;
                                        defunc_0_partFunc_sequential_search_res_f_res_179157 = p_179161;
                                        defunc_0_partFunc_sequential_search_res_f_res_179158 = p_179162;
                                        defunc_0_partFunc_sequential_search_res_f_res_179159 = p_179163;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_f_res_179158;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = p_179026;
                                    loopres_f_res_f_res_f_res_179097 = defunc_0_partFunc_sequential_search_res_179121;
                                    loopres_f_res_f_res_f_res_179098 = defunc_0_partFunc_sequential_search_res_179122;
                                    loopres_f_res_f_res_f_res_179099 = 0;
                                } else {
                                    bool x_179189 = sle64((int64_t) 0, ai_179031);
                                    bool y_179190 = slt64(ai_179031, window_sizze_152755);
                                    bool bounds_check_179191 = x_179189 && y_179190;
                                    bool index_certs_179192;
                                    
                                    if (!bounds_check_179191) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179031, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179193 = p_175542 + ai_179031;
                                    float gt_lhs_179194 = ((float *) a_list_mem_181032.mem)[slice_179193];
                                    bool defunc_0_gt_res_179195 = b_prev_179035 < gt_lhs_179194;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179196;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179197;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179198;
                                    bool loopres_f_res_f_res_f_res_f_res_179199;
                                    
                                    if (defunc_0_gt_res_179195) {
                                        int64_t leq_lhs_179200 = sub64(ai_179031, (int64_t) 1);
                                        bool x_179201 = sle64((int64_t) 0, leq_lhs_179200);
                                        bool y_179202 = slt64(leq_lhs_179200, window_sizze_152755);
                                        bool bounds_check_179203 = x_179201 && y_179202;
                                        bool index_certs_179204;
                                        
                                        if (!bounds_check_179203) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179200, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179207 = sle64((int64_t) 0, max_res_179033);
                                        bool y_179208 = slt64(max_res_179033, window_sizze_152755);
                                        bool bounds_check_179209 = x_179207 && y_179208;
                                        bool index_certs_179210;
                                        
                                        if (!bounds_check_179209) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179033, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179205 = p_175542 + leq_lhs_179200;
                                        float leq_lhs_179206 = ((float *) a_list_mem_181032.mem)[slice_179205];
                                        int64_t slice_179211 = p_175543 + max_res_179033;
                                        float leq_rhs_179212 = ((float *) b_list_mem_181033.mem)[slice_179211];
                                        bool defunc_0_leq_res_179213 = leq_lhs_179206 <= leq_rhs_179212;
                                        bool x_179214 = !defunc_0_leq_res_179213;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = ai_179031;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = leq_lhs_179200;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = max_res_179033;
                                        } else {
                                            int64_t tmp_179217 = add64((int64_t) 1, max_res_179033);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = tmp_179217;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179196 = p_179026;
                                        loopres_f_res_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        loopres_f_res_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        loopres_f_res_f_res_f_res_f_res_179199 = x_179214;
                                    } else {
                                        int64_t tmp_179218 = add64((int64_t) 1, ai_179031);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179196 = tmp_179218;
                                        loopres_f_res_f_res_f_res_f_res_179197 = p_179027;
                                        loopres_f_res_f_res_f_res_f_res_179198 = p_179028;
                                        loopres_f_res_f_res_f_res_f_res_179199 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = loopres_f_res_f_res_f_res_f_res_179196;
                                    loopres_f_res_f_res_f_res_179097 = loopres_f_res_f_res_f_res_f_res_179197;
                                    loopres_f_res_f_res_f_res_179098 = loopres_f_res_f_res_f_res_f_res_179198;
                                    loopres_f_res_f_res_f_res_179099 = loopres_f_res_f_res_f_res_f_res_179199;
                                }
                                loopres_f_res_f_res_179073 = loopres_f_res_f_res_f_res_179096;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_f_res_179097;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_f_res_179098;
                                loopres_f_res_f_res_179076 = loopres_f_res_f_res_f_res_179099;
                            }
                            loopres_f_res_179049 = loopres_f_res_f_res_179073;
                            loopres_f_res_179050 = loopres_f_res_f_res_179074;
                            loopres_f_res_179051 = loopres_f_res_f_res_179075;
                            loopres_f_res_179052 = loopres_f_res_f_res_179076;
                        }
                        loopres_179044 = loopres_f_res_179049;
                        loopres_179045 = loopres_f_res_179050;
                        loopres_179046 = loopres_f_res_179051;
                        loopres_179047 = loopres_f_res_179052;
                    }
                    
                    bool loop_while_tmp_182461 = loopres_179047;
                    int64_t p_tmp_182462 = loopres_179044;
                    int64_t p_tmp_182463 = loopres_179045;
                    int64_t p_tmp_182464 = loopres_179046;
                    
                    loop_while_179025 = loop_while_tmp_182461;
                    p_179026 = p_tmp_182462;
                    p_179027 = p_tmp_182463;
                    p_179028 = p_tmp_182464;
                }
                defunc_0_f_res_179021 = loop_while_179025;
                defunc_0_f_res_179022 = p_179026;
                defunc_0_f_res_179023 = p_179027;
                defunc_0_f_res_179024 = p_179028;
                ((int64_t *) mem_181394)[i_180696] = defunc_0_f_res_179023;
                ((int64_t *) mem_181396)[i_180696] = defunc_0_f_res_179024;
            }
            if (mem_181411_cached_sizze_182846 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181411, &mem_181411_cached_sizze_182846, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181413_cached_sizze_182847 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581) {
                err = lexical_realloc(ctx, &mem_181413, &mem_181413_cached_sizze_182847, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_182848 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_182848, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181419_cached_sizze_182849 < bytes_181418) {
                err = lexical_realloc(ctx, &mem_181419, &mem_181419_cached_sizze_182849, bytes_181418);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180762 = 0; i_180762 < threads_152756; i_180762++) {
                bool y_179232 = slt64(i_180762, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool index_certs_179234;
                
                if (!y_179232) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180762, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179235 = sle64((int64_t) 1, i_180762);
                int64_t index_concat_i_179236 = sub64(i_180762, (int64_t) 1);
                int64_t index_concat_179237;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179238 = ((int64_t *) mem_181394)[index_concat_i_179236];
                    
                    index_concat_179237 = x_179238;
                } else {
                    index_concat_179237 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179239;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179239 = index_concat_179237;
                } else {
                    index_concat_branch_179239 = (int64_t) 0;
                }
                
                int64_t index_concat_179240;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179241 = ((int64_t *) mem_181396)[index_concat_i_179236];
                    
                    index_concat_179240 = x_179241;
                } else {
                    index_concat_179240 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179242;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179242 = index_concat_179240;
                } else {
                    index_concat_branch_179242 = (int64_t) 0;
                }
                
                int64_t ubs_179243 = add64((int64_t) 1, i_180762);
                bool x_179244 = sle64((int64_t) 0, ubs_179243);
                bool y_179245 = slt64(ubs_179243, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_179246 = x_179244 && y_179245;
                bool index_certs_179247;
                
                if (!bounds_check_179246) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179243, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179248 = sle64((int64_t) 1, ubs_179243);
                int64_t index_concat_179249;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179250 = ((int64_t *) mem_181394)[i_180762];
                    
                    index_concat_179249 = x_179250;
                } else {
                    index_concat_179249 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179251;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179251 = index_concat_179249;
                } else {
                    index_concat_branch_179251 = (int64_t) 0;
                }
                
                int64_t index_concat_179252;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179253 = ((int64_t *) mem_181396)[i_180762];
                    
                    index_concat_179252 = x_179253;
                } else {
                    index_concat_179252 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179254;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179254 = index_concat_179252;
                } else {
                    index_concat_branch_179254 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 = sub64(index_concat_branch_179254, index_concat_branch_179242);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 = sub64(index_concat_branch_179251, index_concat_branch_179239);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t zm_lhs_179258 = add64(index_concat_branch_179251, index_concat_branch_179254);
                int64_t zm_rhs_179259 = add64(index_concat_branch_179239, index_concat_branch_179242);
                int64_t card_179260 = sub64(zm_lhs_179258, zm_rhs_179259);
                bool empty_slice_179261 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 == (int64_t) 0;
                int64_t m_179262 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 1);
                int64_t i_p_m_t_s_179263 = add64(index_concat_branch_179239, m_179262);
                bool zzero_leq_i_p_m_t_s_179264 = sle64((int64_t) 0, i_p_m_t_s_179263);
                bool i_p_m_t_s_leq_w_179265 = slt64(i_p_m_t_s_179263, window_sizze_152755);
                bool zzero_lte_i_179266 = sle64((int64_t) 0, index_concat_branch_179239);
                bool i_lte_j_179267 = sle64(index_concat_branch_179239, index_concat_branch_179251);
                bool y_179268 = i_p_m_t_s_leq_w_179265 && zzero_lte_i_179266;
                bool y_179269 = zzero_leq_i_p_m_t_s_179264 && y_179268;
                bool forwards_ok_179270 = i_lte_j_179267 && y_179269;
                bool ok_or_empty_179271 = empty_slice_179261 || forwards_ok_179270;
                bool index_certs_179272;
                
                if (!ok_or_empty_179271) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179239, ":", (long long) index_concat_branch_179251, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179273 = slt64(index_concat_branch_179251, index_concat_branch_179239);
                bool valid_179274 = !bounds_invalid_upwards_179273;
                bool range_valid_c_179275;
                
                if (!valid_179274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179239, "..<", (long long) index_concat_branch_179251, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179280 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 == (int64_t) 0;
                int64_t m_179281 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, (int64_t) 1);
                int64_t i_p_m_t_s_179282 = add64(index_concat_branch_179242, m_179281);
                bool zzero_leq_i_p_m_t_s_179283 = sle64((int64_t) 0, i_p_m_t_s_179282);
                bool i_p_m_t_s_leq_w_179284 = slt64(i_p_m_t_s_179282, window_sizze_152755);
                bool zzero_lte_i_179285 = sle64((int64_t) 0, index_concat_branch_179242);
                bool i_lte_j_179286 = sle64(index_concat_branch_179242, index_concat_branch_179254);
                bool y_179287 = i_p_m_t_s_leq_w_179284 && zzero_lte_i_179285;
                bool y_179288 = zzero_leq_i_p_m_t_s_179283 && y_179287;
                bool forwards_ok_179289 = i_lte_j_179286 && y_179288;
                bool ok_or_empty_179290 = empty_slice_179280 || forwards_ok_179289;
                bool index_certs_179291;
                
                if (!ok_or_empty_179290) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179242, ":", (long long) index_concat_branch_179254, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179292 = slt64(index_concat_branch_179254, index_concat_branch_179242);
                bool valid_179293 = !bounds_invalid_upwards_179292;
                bool range_valid_c_179294;
                
                if (!valid_179293) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179242, "..<", (long long) index_concat_branch_179254, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181448 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                int64_t bytes_181450 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool cond_179302 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zs_lhs_179303 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zp_rhs_179304 = sdiv_safe64(zs_lhs_179303, (int64_t) 20);
                int64_t min_num_blocks_179305 = add64((int64_t) 1, zp_rhs_179304);
                bool loop_cond_179306 = slt64((int64_t) 1, min_num_blocks_179305);
                bool smallest_pow_2_geq_than_res_179307;
                int64_t smallest_pow_2_geq_than_res_179308;
                bool loop_while_179309;
                int64_t x_179310;
                
                loop_while_179309 = loop_cond_179306;
                x_179310 = (int64_t) 1;
                while (loop_while_179309) {
                    int64_t loopres_179311 = mul64((int64_t) 2, x_179310);
                    bool loop_cond_179312 = slt64(loopres_179311, min_num_blocks_179305);
                    bool loop_while_tmp_182477 = loop_cond_179312;
                    int64_t x_tmp_182478 = loopres_179311;
                    
                    loop_while_179309 = loop_while_tmp_182477;
                    x_179310 = x_tmp_182478;
                }
                smallest_pow_2_geq_than_res_179307 = loop_while_179309;
                smallest_pow_2_geq_than_res_179308 = x_179310;
                
                bool zzero_179313 = smallest_pow_2_geq_than_res_179308 == (int64_t) 0;
                bool nonzzero_179314 = !zzero_179313;
                bool protect_assert_disj_179315 = cond_179302 || nonzzero_179314;
                bool nonzzero_cert_179316;
                
                if (!protect_assert_disj_179315) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179317 = sdiv_safe64(zs_lhs_179303, smallest_pow_2_geq_than_res_179308);
                int64_t block_sizze_179318 = add64((int64_t) 1, zp_rhs_179317);
                bool y_179325 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                bool protect_assert_disj_182194 = cond_179302 || y_179325;
                bool index_certs_179326;
                
                if (!protect_assert_disj_182194) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179363 = slt64(smallest_pow_2_geq_than_res_179308, (int64_t) 0);
                bool valid_179364 = !bounds_invalid_upwards_179363;
                bool protect_assert_disj_182204 = cond_179302 || valid_179364;
                bool range_valid_c_179365;
                
                if (!protect_assert_disj_182204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179308, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179367 = slt64(block_sizze_179318, (int64_t) 0);
                bool valid_179368 = !bounds_invalid_upwards_179367;
                bool protect_assert_disj_182206 = cond_179302 || valid_179368;
                bool range_valid_c_179369;
                
                if (!protect_assert_disj_182206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179318, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179371 = sle64(block_sizze_179318, (int64_t) 1);
                int64_t tmp_179372 = sub64(block_sizze_179318, (int64_t) 2);
                bool bounds_invalid_upwards_179373 = slt64(tmp_179372, (int64_t) 0);
                bool valid_179375 = !bounds_invalid_upwards_179373;
                bool protect_assert_disj_179376 = cond_179371 || valid_179375;
                bool protect_assert_disj_182208 = cond_179302 || protect_assert_disj_179376;
                bool range_valid_c_179377;
                
                if (!protect_assert_disj_182208) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179372, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179957 = card_179260 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool empty_or_match_cert_179958;
                
                if (!dim_match_179957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] cannot match shape of type `[", (long long) card_179260, "](i8, i64, f32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179959 = card_179260 == (int64_t) 0;
                int64_t m_179960 = sub64(card_179260, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179961 = sle64((int64_t) 0, m_179960);
                bool i_p_m_t_s_leq_w_179962 = slt64(m_179960, card_179260);
                bool y_179963 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179962;
                bool ok_or_empty_179964 = empty_slice_179959 || y_179963;
                bool index_certs_179965;
                
                if (!ok_or_empty_179964) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) card_179260, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179966 = slt64(m_179960, perThread_175580);
                bool y_179967 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179966;
                bool ok_or_empty_179968 = empty_slice_179959 || y_179967;
                bool index_certs_179969;
                
                if (!ok_or_empty_179968) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182479 = 0; nest_i_182479 < perThread_175580; nest_i_182479++) {
                    ((int8_t *) mem_181413)[i_180762 * perThread_175580 + nest_i_182479] = (int8_t) -1;
                }
                for (int64_t nest_i_182480 = 0; nest_i_182480 < perThread_175580; nest_i_182480++) {
                    ((int64_t *) mem_181416)[i_180762 * perThread_175580 + nest_i_182480] = (int64_t) -1;
                }
                for (int64_t nest_i_182481 = 0; nest_i_182481 < perThread_175580; nest_i_182481++) {
                    ((float *) mem_181419)[i_180762 * perThread_175580 + nest_i_182481] = 0.0F;
                }
                
                int64_t slice_179276 = p_175542 + index_concat_branch_179239;
                
                if (memblock_alloc(ctx, &mem_181447, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "mem_181447")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182482 = 0; nest_i_182482 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; nest_i_182482++) {
                    ((int8_t *) mem_181447.mem)[nest_i_182482] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181449, bytes_181448, "mem_181449")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182483 = 0; i_182483 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; i_182483++) {
                    int64_t x_182484 = index_concat_branch_179239 + i_182483 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[i_182483] = x_182484;
                }
                
                int64_t slice_179295 = p_175543 + index_concat_branch_179242;
                
                for (int64_t nest_i_182485 = 0; nest_i_182485 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; nest_i_182485++) {
                    ((int8_t *) mem_181447.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + nest_i_182485] = (int8_t) 1;
                }
                for (int64_t i_182486 = 0; i_182486 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; i_182486++) {
                    int64_t x_182487 = index_concat_branch_179242 + i_182486 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + i_182486] = x_182487;
                }
                
                int64_t tmp_offs_182488 = (int64_t) 0;
                
                if (!(tmp_offs_182488 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182488 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t tmp_offs_182489 = (int64_t) 0;
                
                if (!(tmp_offs_182489 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182489 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                if (memblock_alloc(ctx, &mem_181451, bytes_181450, "mem_181451")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182490 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181032.mem, slice_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181033.mem, slice_179295, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t flat_dim_179319 = smallest_pow_2_geq_than_res_179308 * block_sizze_179318;
                bool x_182189 = !cond_179302;
                int64_t greatest_divisor_leq_than_arg1_179323 = mul64((int64_t) 2, block_sizze_179318);
                int64_t merge_block_sizze_179324;
                
                if (x_182189) {
                    int64_t x_182191;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182191, (int64_t) 8, greatest_divisor_leq_than_arg1_179323) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179324 = x_182191;
                } else {
                    merge_block_sizze_179324 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179327 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 0);
                int8_t index_concat_branch_179328 = btoi_bool_i8(index_concat_cmp_179327);
                int64_t index_concat_i_179330 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t index_primexp_179331 = add64(index_concat_branch_179242, index_concat_i_179330);
                int64_t index_concat_branch_179329;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179329 = index_primexp_179331;
                } else {
                    index_concat_branch_179329 = index_concat_branch_179239;
                }
                
                bool x_182185 = !index_concat_cmp_179327;
                bool protect_cond_conj_182195 = x_182185 && x_182189;
                float index_concat_179337;
                
                if (protect_cond_conj_182195) {
                    float x_182187 = ((float *) a_list_mem_181032.mem)[slice_179276];
                    
                    index_concat_179337 = x_182187;
                } else {
                    index_concat_179337 = 0.0F;
                }
                
                int64_t slice_179335 = p_175543 + index_primexp_179331;
                bool protect_cond_conj_182196 = index_concat_cmp_179327 && x_182189;
                float index_concat_179336;
                
                if (protect_cond_conj_182196) {
                    float x_182183 = ((float *) b_list_mem_181033.mem)[slice_179335];
                    
                    index_concat_179336 = x_182183;
                } else {
                    index_concat_179336 = 0.0F;
                }
                
                float index_concat_branch_179332;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179332 = index_concat_179336;
                } else {
                    index_concat_branch_179332 = index_concat_179337;
                }
                
                int8_t defunc_0_reduce_res_179338;
                int64_t defunc_0_reduce_res_179339;
                float defunc_0_reduce_res_179340;
                
                if (x_182189) {
                    int8_t x_182197;
                    int64_t x_182198;
                    float x_182199;
                    int8_t redout_180699;
                    int64_t redout_180700;
                    float redout_180701;
                    
                    redout_180699 = index_concat_branch_179328;
                    redout_180700 = index_concat_branch_179329;
                    redout_180701 = index_concat_branch_179332;
                    for (int64_t i_180702 = 0; i_180702 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257; i_180702++) {
                        bool index_concat_cmp_180960 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, i_180702);
                        int8_t index_concat_branch_180964 = btoi_bool_i8(index_concat_cmp_180960);
                        int64_t index_concat_branch_180958;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180955 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t index_primexp_181008 = add64(index_concat_branch_179242, index_concat_i_180955);
                            
                            index_concat_branch_180958 = index_primexp_181008;
                        } else {
                            int64_t index_primexp_181010 = add64(index_concat_branch_179239, i_180702);
                            
                            index_concat_branch_180958 = index_primexp_181010;
                        }
                        
                        float index_concat_branch_180952;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180949 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t slice_181005 = slice_179295 + index_concat_i_180949;
                            float index_concat_180950 = ((float *) b_list_mem_181033.mem)[slice_181005];
                            
                            index_concat_branch_180952 = index_concat_180950;
                        } else {
                            int64_t slice_181006 = slice_179276 + i_180702;
                            float index_concat_180951 = ((float *) a_list_mem_181032.mem)[slice_181006];
                            
                            index_concat_branch_180952 = index_concat_180951;
                        }
                        
                        bool eq_x_y_181022 = redout_180699 == (int8_t) 1;
                        bool eq_x_zz_181023 = redout_180699 == (int8_t) 0;
                        bool p_and_eq_x_y_181024 = index_concat_cmp_180960 && eq_x_y_181022;
                        bool not_p_181025 = !index_concat_cmp_180960;
                        bool p_and_eq_x_y_181026 = eq_x_zz_181023 && not_p_181025;
                        bool cond_179350 = p_and_eq_x_y_181024 || p_and_eq_x_y_181026;
                        bool defunc_0_leq_res_t_res_179351 = sle64(redout_180700, index_concat_branch_180958);
                        bool defunc_0_leq_res_179352 = redout_180701 <= index_concat_branch_180952;
                        bool x_179353 = cond_179350 && defunc_0_leq_res_t_res_179351;
                        bool x_179354 = !cond_179350;
                        bool y_179355 = defunc_0_leq_res_179352 && x_179354;
                        bool defunc_0_leq_res_179356 = x_179353 || y_179355;
                        int8_t defunc_0_op_res_179357;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179357 = index_concat_branch_180964;
                        } else {
                            defunc_0_op_res_179357 = redout_180699;
                        }
                        
                        int64_t defunc_0_op_res_179358;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179358 = index_concat_branch_180958;
                        } else {
                            defunc_0_op_res_179358 = redout_180700;
                        }
                        
                        float defunc_0_op_res_179359;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179359 = index_concat_branch_180952;
                        } else {
                            defunc_0_op_res_179359 = redout_180701;
                        }
                        
                        int8_t redout_tmp_182491 = defunc_0_op_res_179357;
                        int64_t redout_tmp_182492 = defunc_0_op_res_179358;
                        float redout_tmp_182493 = defunc_0_op_res_179359;
                        
                        redout_180699 = redout_tmp_182491;
                        redout_180700 = redout_tmp_182492;
                        redout_180701 = redout_tmp_182493;
                    }
                    x_182197 = redout_180699;
                    x_182198 = redout_180700;
                    x_182199 = redout_180701;
                    defunc_0_reduce_res_179338 = x_182197;
                    defunc_0_reduce_res_179339 = x_182198;
                    defunc_0_reduce_res_179340 = x_182199;
                } else {
                    defunc_0_reduce_res_179338 = (int8_t) 0;
                    defunc_0_reduce_res_179339 = (int64_t) 0;
                    defunc_0_reduce_res_179340 = 0.0F;
                }
                
                int64_t distance_179374 = add64((int64_t) 1, tmp_179372);
                int64_t binop_x_181454 = (int64_t) 8 * smallest_pow_2_geq_than_res_179308;
                int64_t bytes_181455 = block_sizze_179318 * binop_x_181454;
                int64_t binop_x_181457 = (int64_t) 4 * smallest_pow_2_geq_than_res_179308;
                int64_t bytes_181458 = block_sizze_179318 * binop_x_181457;
                int64_t bytes_181473 = (int64_t) 8 * block_sizze_179318;
                int64_t bytes_181475 = (int64_t) 4 * block_sizze_179318;
                bool loop_cond_179500 = slt64(block_sizze_179318, flat_dim_179319);
                bool zzero_179501 = merge_block_sizze_179324 == (int64_t) 0;
                bool nonzzero_179502 = !zzero_179501;
                
                if (cond_179302) {
                    if (memblock_set(ctx, &ext_mem_181746, &mem_181447, "mem_181447") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &mem_181449, "mem_181449") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &mem_181451, "mem_181451") != 0)
                        return 1;
                } else {
                    if (mem_181453_cached_sizze_182850 < flat_dim_179319) {
                        err = lexical_realloc(ctx, &mem_181453, &mem_181453_cached_sizze_182850, flat_dim_179319);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181456_cached_sizze_182851 < bytes_181455) {
                        err = lexical_realloc(ctx, &mem_181456, &mem_181456_cached_sizze_182851, bytes_181455);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181459_cached_sizze_182852 < bytes_181458) {
                        err = lexical_realloc(ctx, &mem_181459, &mem_181459_cached_sizze_182852, bytes_181458);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181472_cached_sizze_182853 < block_sizze_179318) {
                        err = lexical_realloc(ctx, &mem_181472, &mem_181472_cached_sizze_182853, block_sizze_179318);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181474_cached_sizze_182854 < bytes_181473) {
                        err = lexical_realloc(ctx, &mem_181474, &mem_181474_cached_sizze_182854, bytes_181473);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_182855 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_182855, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180719 = 0; i_180719 < smallest_pow_2_geq_than_res_179308; i_180719++) {
                        int64_t zp_lhs_179382 = mul64(block_sizze_179318, i_180719);
                        
                        for (int64_t i_180709 = 0; i_180709 < block_sizze_179318; i_180709++) {
                            int64_t k_179387 = add64(zp_lhs_179382, i_180709);
                            bool cond_179388 = slt64(k_179387, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                            int8_t lifted_lambda_res_179389;
                            int64_t lifted_lambda_res_179390;
                            float lifted_lambda_res_179391;
                            
                            if (cond_179388) {
                                bool x_179392 = sle64((int64_t) 0, k_179387);
                                bool bounds_check_179393 = cond_179388 && x_179392;
                                bool index_certs_179394;
                                
                                if (!bounds_check_179393) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179387, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179395 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, k_179387);
                                int8_t index_concat_branch_179396 = btoi_bool_i8(index_concat_cmp_179395);
                                int64_t index_concat_branch_179397;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179398 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t index_primexp_179399 = add64(index_concat_branch_179242, index_concat_i_179398);
                                    
                                    index_concat_branch_179397 = index_primexp_179399;
                                } else {
                                    int64_t index_primexp_179400 = add64(index_concat_branch_179239, k_179387);
                                    
                                    index_concat_branch_179397 = index_primexp_179400;
                                }
                                
                                float index_concat_branch_179401;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179402 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t slice_179403 = index_concat_branch_179242 + index_concat_i_179402;
                                    int64_t slice_179404 = p_175543 + slice_179403;
                                    float index_concat_179405 = ((float *) b_list_mem_181033.mem)[slice_179404];
                                    
                                    index_concat_branch_179401 = index_concat_179405;
                                } else {
                                    int64_t slice_179406 = index_concat_branch_179239 + k_179387;
                                    int64_t slice_179407 = p_175542 + slice_179406;
                                    float index_concat_179408 = ((float *) a_list_mem_181032.mem)[slice_179407];
                                    
                                    index_concat_branch_179401 = index_concat_179408;
                                }
                                lifted_lambda_res_179389 = index_concat_branch_179396;
                                lifted_lambda_res_179390 = index_concat_branch_179397;
                                lifted_lambda_res_179391 = index_concat_branch_179401;
                            } else {
                                lifted_lambda_res_179389 = defunc_0_reduce_res_179338;
                                lifted_lambda_res_179390 = defunc_0_reduce_res_179339;
                                lifted_lambda_res_179391 = defunc_0_reduce_res_179340;
                            }
                            ((int8_t *) mem_181472)[i_180709] = lifted_lambda_res_179389;
                            ((int64_t *) mem_181474)[i_180709] = lifted_lambda_res_179390;
                            ((float *) mem_181476)[i_180709] = lifted_lambda_res_179391;
                        }
                        if (!cond_179371) {
                            for (int64_t i_179418 = 0; i_179418 < distance_179374; i_179418++) {
                                int64_t gt_arg1_179422 = add64((int64_t) 1, i_179418);
                                bool x_179423 = sle64((int64_t) 0, gt_arg1_179422);
                                bool y_179424 = slt64(gt_arg1_179422, block_sizze_179318);
                                bool bounds_check_179425 = x_179423 && y_179424;
                                bool index_certs_179426;
                                
                                if (!bounds_check_179425) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179422, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179430 = slt64(i_179418, block_sizze_179318);
                                bool index_certs_179431;
                                
                                if (!y_179430) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179418, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179427 = ((int8_t *) mem_181472)[gt_arg1_179422];
                                int64_t gt_arg1_179428 = ((int64_t *) mem_181474)[gt_arg1_179422];
                                float gt_arg1_179429 = ((float *) mem_181476)[gt_arg1_179422];
                                int8_t gt_arg0_179432 = ((int8_t *) mem_181472)[i_179418];
                                int64_t gt_arg0_179433 = ((int64_t *) mem_181474)[i_179418];
                                float gt_arg0_179434 = ((float *) mem_181476)[i_179418];
                                bool cond_179435 = gt_arg0_179432 == gt_arg1_179427;
                                bool defunc_0_leq_res_t_res_179436 = sle64(gt_arg0_179433, gt_arg1_179428);
                                bool defunc_0_leq_res_179437 = gt_arg0_179434 <= gt_arg1_179429;
                                bool x_179438 = cond_179435 && defunc_0_leq_res_t_res_179436;
                                bool x_179439 = !cond_179435;
                                bool y_179440 = defunc_0_leq_res_179437 && x_179439;
                                bool defunc_0_leq_res_179441 = x_179438 || y_179440;
                                bool defunc_0_lifted_gt_res_179442 = !defunc_0_leq_res_179441;
                                bool s_179443;
                                int64_t s_179447;
                                bool loop_while_179448;
                                int64_t j_179452;
                                
                                loop_while_179448 = defunc_0_lifted_gt_res_179442;
                                j_179452 = i_179418;
                                while (loop_while_179448) {
                                    bool x_179453 = sle64((int64_t) 0, j_179452);
                                    bool y_179454 = slt64(j_179452, block_sizze_179318);
                                    bool bounds_check_179455 = x_179453 && y_179454;
                                    bool index_certs_179456;
                                    
                                    if (!bounds_check_179455) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179452, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179460 = add64((int64_t) 1, j_179452);
                                    bool x_179461 = sle64((int64_t) 0, copy_arg0_179460);
                                    bool y_179462 = slt64(copy_arg0_179460, block_sizze_179318);
                                    bool bounds_check_179463 = x_179461 && y_179462;
                                    bool index_certs_179464;
                                    
                                    if (!bounds_check_179463) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179460, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179457 = ((int8_t *) mem_181472)[j_179452];
                                    int64_t copy_arg0_179458 = ((int64_t *) mem_181474)[j_179452];
                                    float copy_arg0_179459 = ((float *) mem_181476)[j_179452];
                                    int8_t copy_arg0_179465 = ((int8_t *) mem_181472)[copy_arg0_179460];
                                    int64_t copy_arg0_179466 = ((int64_t *) mem_181474)[copy_arg0_179460];
                                    float copy_arg0_179467 = ((float *) mem_181476)[copy_arg0_179460];
                                    
                                    ((int8_t *) mem_181472)[j_179452] = copy_arg0_179465;
                                    ((int64_t *) mem_181474)[j_179452] = copy_arg0_179466;
                                    ((float *) mem_181476)[j_179452] = copy_arg0_179467;
                                    ((int8_t *) mem_181472)[copy_arg0_179460] = copy_arg0_179457;
                                    ((int64_t *) mem_181474)[copy_arg0_179460] = copy_arg0_179458;
                                    ((float *) mem_181476)[copy_arg0_179460] = copy_arg0_179459;
                                    
                                    int64_t tmp_179474 = sub64(j_179452, (int64_t) 1);
                                    bool cond_179475 = sle64((int64_t) 0, tmp_179474);
                                    bool loop_cond_179476;
                                    
                                    if (cond_179475) {
                                        bool y_179480 = slt64(tmp_179474, block_sizze_179318);
                                        bool bounds_check_179481 = cond_179475 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179474, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_181472)[j_179452];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_181474)[j_179452];
                                        float gt_arg1_179479 = ((float *) mem_181476)[j_179452];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_181472)[tmp_179474];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_181474)[tmp_179474];
                                        float gt_arg0_179485 = ((float *) mem_181476)[tmp_179474];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = gt_arg0_179485 <= gt_arg1_179479;
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_179476 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_179476 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182503 = loop_cond_179476;
                                    int64_t j_tmp_182507 = tmp_179474;
                                    
                                    loop_while_179448 = loop_while_tmp_182503;
                                    j_179452 = j_tmp_182507;
                                }
                                s_179443 = loop_while_179448;
                                s_179447 = j_179452;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181453, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181472, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181456, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181474, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181459, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181476, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                    }
                    if (memblock_alloc(ctx, &mem_181553, flat_dim_179319, "mem_181553")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181553.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint8_t *) mem_181453, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181557, bytes_181455, "mem_181557")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181557.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint64_t *) mem_181456, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181561, bytes_181458, "mem_181561")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181561.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint32_t *) mem_181459, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    
                    int64_t data_179503;
                    bool data_179504;
                    int64_t data_179508;
                    int64_t loop_dz2084Uz2082U_179509;
                    bool loop_while_179510;
                    int64_t stride_179514;
                    
                    if (memblock_set(ctx, &mem_param_181565, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181568, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181571, &mem_181561, "mem_181561") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179509 = flat_dim_179319;
                    loop_while_179510 = loop_cond_179500;
                    stride_179514 = block_sizze_179318;
                    while (loop_while_179510) {
                        int64_t next_stride_179515 = mul64((int64_t) 2, stride_179514);
                        bool zzero_179516 = next_stride_179515 == (int64_t) 0;
                        bool nonzzero_179517 = !zzero_179516;
                        bool nonzzero_cert_179518;
                        
                        if (!nonzzero_179517) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179519 = sdiv64(flat_dim_179319, next_stride_179515);
                        bool bounds_invalid_upwards_179520 = slt64(num_merges_179519, (int64_t) 0);
                        bool valid_179521 = !bounds_invalid_upwards_179520;
                        bool range_valid_c_179522;
                        
                        if (!valid_179521) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179519, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179524 = sub64(next_stride_179515, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179525 = sle64((int64_t) 0, m_179524);
                        bool cond_179527 = slt64(next_stride_179515, (int64_t) 10);
                        bool protect_assert_disj_179528 = nonzzero_179502 || cond_179527;
                        bool nonzzero_cert_179529;
                        
                        if (!protect_assert_disj_179528) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179530 = smod_safe64(next_stride_179515, merge_block_sizze_179324);
                        bool num_blocks_179531 = zeze_lhs_179530 == (int64_t) 0;
                        bool protect_assert_disj_179532 = cond_179527 || num_blocks_179531;
                        bool assert_c_179533;
                        
                        if (!protect_assert_disj_179532) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179534 = sdiv_safe64(next_stride_179515, merge_block_sizze_179324);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535 = add64((int64_t) 1, num_blocks_179534);
                        int64_t j_m_i_179536 = sub64(next_stride_179515, stride_179514);
                        int64_t flat_dim_179537 = merge_block_sizze_179324 * num_blocks_179534;
                        bool bounds_invalid_upwards_179538 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, (int64_t) 0);
                        bool empty_slice_179539 = j_m_i_179536 == (int64_t) 0;
                        int64_t m_179540 = sub64(j_m_i_179536, (int64_t) 1);
                        bool zzero_lte_i_179541 = sle64((int64_t) 0, stride_179514);
                        bool i_lte_j_179542 = sle64(stride_179514, next_stride_179515);
                        bool empty_slice_179543 = stride_179514 == (int64_t) 0;
                        int64_t m_179544 = sub64(stride_179514, (int64_t) 1);
                        bool bounds_invalid_upwards_179545 = slt64(num_blocks_179534, (int64_t) 0);
                        bool cond_179546 = slt64((int64_t) 0, stride_179514);
                        bool valid_179547 = !bounds_invalid_upwards_179538;
                        int64_t i_p_m_t_s_179548 = add64(stride_179514, m_179540);
                        bool zzero_leq_i_p_m_t_s_179549 = sle64((int64_t) 0, m_179544);
                        bool i_p_m_t_s_leq_w_179550 = slt64(m_179544, next_stride_179515);
                        bool valid_179551 = !bounds_invalid_upwards_179545;
                        bool i_p_m_t_s_leq_w_179552 = slt64(m_179524, flat_dim_179537);
                        bool y_179553 = slt64((int64_t) 0, j_m_i_179536);
                        bool protect_assert_disj_179554 = cond_179527 || valid_179547;
                        bool range_valid_c_179555;
                        
                        if (!protect_assert_disj_179554) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179556 = sle64((int64_t) 0, i_p_m_t_s_179548);
                        bool i_p_m_t_s_leq_w_179557 = slt64(i_p_m_t_s_179548, next_stride_179515);
                        bool y_179558 = zzero_leq_i_p_m_t_s_179549 && i_p_m_t_s_leq_w_179550;
                        bool protect_assert_disj_179559 = cond_179527 || valid_179551;
                        bool range_valid_c_179560;
                        
                        if (!protect_assert_disj_179559) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179534, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179561 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179552;
                        bool y_179562 = zzero_lte_i_179541 && i_p_m_t_s_leq_w_179557;
                        bool forwards_ok_179563 = zzero_lte_i_179541 && y_179558;
                        bool ok_or_empty_179564 = zzero_179516 || y_179561;
                        bool protect_assert_disj_179565 = cond_179546 || y_179553;
                        bool y_179566 = zzero_leq_i_p_m_t_s_179556 && y_179562;
                        bool ok_or_empty_179567 = empty_slice_179543 || forwards_ok_179563;
                        bool protect_assert_disj_179568 = cond_179527 || ok_or_empty_179564;
                        bool index_certs_179569;
                        
                        if (!protect_assert_disj_179568) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) flat_dim_179537, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179570 = !cond_179527;
                        bool protect_assert_disj_179571 = protect_assert_disj_179565 || loop_not_taken_179570;
                        bool index_certs_179572;
                        
                        if (!protect_assert_disj_179571) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179573 = i_lte_j_179542 && y_179566;
                        bool protect_assert_disj_179574 = cond_179527 || ok_or_empty_179567;
                        bool index_certs_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179576 = ok_or_empty_179567 || loop_not_taken_179570;
                        bool index_certs_179577;
                        
                        if (!protect_assert_disj_179576) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179578 = empty_slice_179539 || forwards_ok_179573;
                        bool protect_assert_disj_179579 = cond_179527 || ok_or_empty_179578;
                        bool index_certs_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179581 = loop_not_taken_179570 || ok_or_empty_179578;
                        bool index_certs_179582;
                        
                        if (!protect_assert_disj_179581) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181572 = next_stride_179515 * num_merges_179519;
                        int64_t binop_x_181574 = (int64_t) 8 * num_merges_179519;
                        int64_t bytes_181575 = next_stride_179515 * binop_x_181574;
                        int64_t binop_x_181577 = (int64_t) 4 * num_merges_179519;
                        int64_t bytes_181578 = next_stride_179515 * binop_x_181577;
                        bool i_lte_j_179526 = sle64((int64_t) 0, next_stride_179515);
                        
                        if (mem_181573_cached_sizze_182856 < bytes_181572) {
                            err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_182856, bytes_181572);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181576_cached_sizze_182857 < bytes_181575) {
                            err = lexical_realloc(ctx, &mem_181576, &mem_181576_cached_sizze_182857, bytes_181575);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181579_cached_sizze_182858 < bytes_181578) {
                            err = lexical_realloc(ctx, &mem_181579, &mem_181579_cached_sizze_182858, bytes_181578);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181592 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535;
                        int64_t binop_x_181610 = (int64_t) 8 * num_blocks_179534;
                        int64_t bytes_181611 = merge_block_sizze_179324 * binop_x_181610;
                        int64_t binop_x_181613 = (int64_t) 4 * num_blocks_179534;
                        int64_t bytes_181614 = merge_block_sizze_179324 * binop_x_181613;
                        int64_t bytes_181675 = (int64_t) 16 * stride_179514;
                        int64_t bytes_181677 = (int64_t) 8 * stride_179514;
                        
                        for (int64_t i_180746 = 0; i_180746 < num_merges_179519; i_180746++) {
                            int64_t start_179587 = mul64(next_stride_179515, i_180746);
                            int64_t j_m_i_179588 = sub64(loop_dz2084Uz2082U_179509, start_179587);
                            bool empty_slice_179589 = j_m_i_179588 == (int64_t) 0;
                            int64_t m_179590 = sub64(j_m_i_179588, (int64_t) 1);
                            int64_t i_p_m_t_s_179591 = add64(start_179587, m_179590);
                            bool zzero_leq_i_p_m_t_s_179592 = sle64((int64_t) 0, i_p_m_t_s_179591);
                            bool i_p_m_t_s_leq_w_179593 = slt64(i_p_m_t_s_179591, loop_dz2084Uz2082U_179509);
                            bool zzero_lte_i_179594 = sle64((int64_t) 0, start_179587);
                            bool i_lte_j_179595 = sle64(start_179587, loop_dz2084Uz2082U_179509);
                            bool y_179596 = i_p_m_t_s_leq_w_179593 && zzero_lte_i_179594;
                            bool y_179597 = zzero_leq_i_p_m_t_s_179592 && y_179596;
                            bool forwards_ok_179598 = i_lte_j_179595 && y_179597;
                            bool ok_or_empty_179599 = empty_slice_179589 || forwards_ok_179598;
                            bool index_certs_179600;
                            
                            if (!ok_or_empty_179599) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179587, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179509, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179601 = slt64(m_179524, j_m_i_179588);
                            bool y_179602 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179601;
                            bool forwards_ok_179603 = i_lte_j_179526 && y_179602;
                            bool ok_or_empty_179604 = zzero_179516 || forwards_ok_179603;
                            bool index_certs_179605;
                            
                            if (!ok_or_empty_179604) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) j_m_i_179588, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179527) {
                                int8_t dummy_179609;
                                int64_t dummy_179610;
                                float dummy_179611;
                                
                                if (cond_179546) {
                                    int8_t head_res_179612 = ((int8_t *) mem_param_181565.mem)[start_179587];
                                    int64_t head_res_179613 = ((int64_t *) mem_param_181568.mem)[start_179587];
                                    float head_res_179614 = ((float *) mem_param_181571.mem)[start_179587];
                                    
                                    dummy_179609 = head_res_179612;
                                    dummy_179610 = head_res_179613;
                                    dummy_179611 = head_res_179614;
                                } else {
                                    int64_t slice_179615 = stride_179514 + start_179587;
                                    int8_t head_res_179616 = ((int8_t *) mem_param_181565.mem)[slice_179615];
                                    int64_t head_res_179617 = ((int64_t *) mem_param_181568.mem)[slice_179615];
                                    float head_res_179618 = ((float *) mem_param_181571.mem)[slice_179615];
                                    
                                    dummy_179609 = head_res_179616;
                                    dummy_179610 = head_res_179617;
                                    dummy_179611 = head_res_179618;
                                }
                                if (memblock_alloc(ctx, &mem_181674, next_stride_179515, "mem_181674")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182520 = 0; nest_i_182520 < next_stride_179515; nest_i_182520++) {
                                    ((int8_t *) mem_181674.mem)[nest_i_182520] = dummy_179609;
                                }
                                if (memblock_alloc(ctx, &mem_181676, bytes_181675, "mem_181676")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182521 = 0; nest_i_182521 < next_stride_179515; nest_i_182521++) {
                                    ((int64_t *) mem_181676.mem)[nest_i_182521] = dummy_179610;
                                }
                                if (memblock_alloc(ctx, &mem_181678, bytes_181677, "mem_181678")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182522 = 0; nest_i_182522 < next_stride_179515; nest_i_182522++) {
                                    ((float *) mem_181678.mem)[nest_i_182522] = dummy_179611;
                                }
                                
                                int64_t data_179622;
                                int64_t i_179627 = (int64_t) 0;
                                
                                for (int64_t k_179626 = 0; k_179626 < next_stride_179515; k_179626++) {
                                    int64_t j_179631 = sub64(k_179626, i_179627);
                                    bool cond_179632 = j_179631 == j_m_i_179536;
                                    bool cond_179633;
                                    
                                    if (cond_179632) {
                                        cond_179633 = 1;
                                    } else {
                                        bool cond_179634 = slt64(i_179627, stride_179514);
                                        bool cond_f_res_179635;
                                        
                                        if (cond_179634) {
                                            bool x_179636 = sle64((int64_t) 0, j_179631);
                                            bool y_179637 = slt64(j_179631, j_m_i_179536);
                                            bool bounds_check_179638 = x_179636 && y_179637;
                                            bool index_certs_179639;
                                            
                                            if (!bounds_check_179638) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179645 = sle64((int64_t) 0, i_179627);
                                            bool bounds_check_179646 = cond_179634 && x_179645;
                                            bool index_certs_179647;
                                            
                                            if (!bounds_check_179646) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179640 = stride_179514 + j_179631;
                                            int64_t slice_179641 = start_179587 + slice_179640;
                                            int8_t leq_arg1_179642 = ((int8_t *) mem_param_181565.mem)[slice_179641];
                                            int64_t leq_arg1_179643 = ((int64_t *) mem_param_181568.mem)[slice_179641];
                                            float leq_arg1_179644 = ((float *) mem_param_181571.mem)[slice_179641];
                                            int64_t slice_179648 = start_179587 + i_179627;
                                            int8_t leq_arg0_179649 = ((int8_t *) mem_param_181565.mem)[slice_179648];
                                            int64_t leq_arg0_179650 = ((int64_t *) mem_param_181568.mem)[slice_179648];
                                            float leq_arg0_179651 = ((float *) mem_param_181571.mem)[slice_179648];
                                            bool cond_179652 = leq_arg0_179649 == leq_arg1_179642;
                                            bool defunc_0_leq_res_t_res_179653 = sle64(leq_arg0_179650, leq_arg1_179643);
                                            bool defunc_0_leq_res_179654 = leq_arg0_179651 <= leq_arg1_179644;
                                            bool x_179655 = cond_179652 && defunc_0_leq_res_t_res_179653;
                                            bool x_179656 = !cond_179652;
                                            bool y_179657 = defunc_0_leq_res_179654 && x_179656;
                                            bool defunc_0_leq_res_179658 = x_179655 || y_179657;
                                            
                                            cond_f_res_179635 = defunc_0_leq_res_179658;
                                        } else {
                                            cond_f_res_179635 = 0;
                                        }
                                        cond_179633 = cond_f_res_179635;
                                    }
                                    
                                    int64_t loopres_179659;
                                    int8_t loopres_179660;
                                    int64_t loopres_179661;
                                    float loopres_179662;
                                    
                                    if (cond_179633) {
                                        bool x_179664 = sle64((int64_t) 0, i_179627);
                                        bool y_179665 = slt64(i_179627, stride_179514);
                                        bool bounds_check_179666 = x_179664 && y_179665;
                                        bool index_certs_179667;
                                        
                                        if (!bounds_check_179666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179663 = add64((int64_t) 1, i_179627);
                                        int64_t slice_179668 = start_179587 + i_179627;
                                        int8_t tmp_179669 = ((int8_t *) mem_param_181565.mem)[slice_179668];
                                        int64_t tmp_179670 = ((int64_t *) mem_param_181568.mem)[slice_179668];
                                        float tmp_179671 = ((float *) mem_param_181571.mem)[slice_179668];
                                        
                                        loopres_179659 = tmp_179663;
                                        loopres_179660 = tmp_179669;
                                        loopres_179661 = tmp_179670;
                                        loopres_179662 = tmp_179671;
                                    } else {
                                        bool x_179672 = sle64((int64_t) 0, j_179631);
                                        bool y_179673 = slt64(j_179631, j_m_i_179536);
                                        bool bounds_check_179674 = x_179672 && y_179673;
                                        bool index_certs_179675;
                                        
                                        if (!bounds_check_179674) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179676 = stride_179514 + j_179631;
                                        int64_t slice_179677 = start_179587 + slice_179676;
                                        int8_t tmp_179678 = ((int8_t *) mem_param_181565.mem)[slice_179677];
                                        int64_t tmp_179679 = ((int64_t *) mem_param_181568.mem)[slice_179677];
                                        float tmp_179680 = ((float *) mem_param_181571.mem)[slice_179677];
                                        
                                        loopres_179659 = i_179627;
                                        loopres_179660 = tmp_179678;
                                        loopres_179661 = tmp_179679;
                                        loopres_179662 = tmp_179680;
                                    }
                                    ((int8_t *) mem_181674.mem)[k_179626] = loopres_179660;
                                    ((int64_t *) mem_181676.mem)[k_179626] = loopres_179661;
                                    ((float *) mem_181678.mem)[k_179626] = loopres_179662;
                                    
                                    int64_t i_tmp_182523 = loopres_179659;
                                    
                                    i_179627 = i_tmp_182523;
                                }
                                data_179622 = i_179627;
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181674, "mem_181674") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181676, "mem_181676") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181678, "mem_181678") != 0)
                                    return 1;
                            } else {
                                if (mem_181593_cached_sizze_182859 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_182859, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181595_cached_sizze_182860 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181595, &mem_181595_cached_sizze_182860, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180727 = 0; i_180727 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535; i_180727++) {
                                    int64_t split_count_arg3_179688 = mul64(merge_block_sizze_179324, i_180727);
                                    int64_t defunc_0_split_count_res_179689;
                                    int64_t defunc_0_split_count_res_179690;
                                    int64_t defunc_0_split_count_res_179691;
                                    int64_t defunc_0_split_count_res_179692;
                                    int64_t defunc_0_split_count_res_179693;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_179689, &defunc_0_split_count_res_179690, &defunc_0_split_count_res_179691, &defunc_0_split_count_res_179692, &defunc_0_split_count_res_179693, (int64_t) 0, stride_179514, (int64_t) 0, j_m_i_179536, split_count_arg3_179688) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179694 = slt64((int64_t) 0, defunc_0_split_count_res_179693);
                                    bool defunc_0_split_count_res_179695;
                                    int64_t defunc_0_split_count_res_179696;
                                    int64_t defunc_0_split_count_res_179697;
                                    int64_t defunc_0_split_count_res_179698;
                                    int64_t defunc_0_split_count_res_179699;
                                    int64_t defunc_0_split_count_res_179700;
                                    bool loop_while_179701;
                                    int64_t ss_179702;
                                    int64_t ss_179703;
                                    int64_t tt_179704;
                                    int64_t tt_179705;
                                    int64_t count_179706;
                                    
                                    loop_while_179701 = loop_cond_179694;
                                    ss_179702 = defunc_0_split_count_res_179689;
                                    ss_179703 = defunc_0_split_count_res_179690;
                                    tt_179704 = defunc_0_split_count_res_179691;
                                    tt_179705 = defunc_0_split_count_res_179692;
                                    count_179706 = defunc_0_split_count_res_179693;
                                    while (loop_while_179701) {
                                        int64_t zlze_lhs_179707 = sub64(ss_179703, ss_179702);
                                        bool cond_179708 = sle64(zlze_lhs_179707, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179709;
                                        int64_t defunc_0_lifted_step_res_179710;
                                        int64_t defunc_0_lifted_step_res_179711;
                                        int64_t defunc_0_lifted_step_res_179712;
                                        
                                        if (cond_179708) {
                                            int64_t tmp_179713 = add64(tt_179704, count_179706);
                                            
                                            defunc_0_lifted_step_res_179709 = ss_179702;
                                            defunc_0_lifted_step_res_179710 = tmp_179713;
                                            defunc_0_lifted_step_res_179711 = tt_179705;
                                            defunc_0_lifted_step_res_179712 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179714 = sub64(tt_179705, tt_179704);
                                            bool cond_179715 = sle64(zlze_lhs_179714, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179716;
                                            int64_t defunc_0_lifted_step_res_f_res_179717;
                                            int64_t defunc_0_lifted_step_res_f_res_179718;
                                            int64_t defunc_0_lifted_step_res_f_res_179719;
                                            
                                            if (cond_179715) {
                                                int64_t tmp_179720 = add64(ss_179702, count_179706);
                                                
                                                defunc_0_lifted_step_res_f_res_179716 = tmp_179720;
                                                defunc_0_lifted_step_res_f_res_179717 = tt_179704;
                                                defunc_0_lifted_step_res_f_res_179718 = tt_179705;
                                                defunc_0_lifted_step_res_f_res_179719 = (int64_t) 0;
                                            } else {
                                                bool cond_179721 = count_179706 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179722;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179723;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179724;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179725;
                                                
                                                if (cond_179721) {
                                                    bool x_179726 = sle64((int64_t) 0, ss_179702);
                                                    bool y_179727 = slt64(ss_179702, stride_179514);
                                                    bool bounds_check_179728 = x_179726 && y_179727;
                                                    bool index_certs_179729;
                                                    
                                                    if (!bounds_check_179728) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179702, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179734 = sle64((int64_t) 0, tt_179704);
                                                    bool y_179735 = slt64(tt_179704, j_m_i_179536);
                                                    bool bounds_check_179736 = x_179734 && y_179735;
                                                    bool index_certs_179737;
                                                    
                                                    if (!bounds_check_179736) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179704, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179730 = start_179587 + ss_179702;
                                                    int8_t leq_arg1_179731 = ((int8_t *) mem_param_181565.mem)[slice_179730];
                                                    int64_t leq_arg1_179732 = ((int64_t *) mem_param_181568.mem)[slice_179730];
                                                    float leq_arg1_179733 = ((float *) mem_param_181571.mem)[slice_179730];
                                                    int64_t slice_179738 = stride_179514 + tt_179704;
                                                    int64_t slice_179739 = start_179587 + slice_179738;
                                                    int8_t leq_arg0_179740 = ((int8_t *) mem_param_181565.mem)[slice_179739];
                                                    int64_t leq_arg0_179741 = ((int64_t *) mem_param_181568.mem)[slice_179739];
                                                    float leq_arg0_179742 = ((float *) mem_param_181571.mem)[slice_179739];
                                                    bool cond_179743 = leq_arg0_179740 == leq_arg1_179731;
                                                    bool defunc_0_leq_res_t_res_179744 = sle64(leq_arg0_179741, leq_arg1_179732);
                                                    bool defunc_0_leq_res_179745 = leq_arg0_179742 <= leq_arg1_179733;
                                                    bool x_179746 = cond_179743 && defunc_0_leq_res_t_res_179744;
                                                    bool x_179747 = !cond_179743;
                                                    bool y_179748 = defunc_0_leq_res_179745 && x_179747;
                                                    bool defunc_0_leq_res_179749 = x_179746 || y_179748;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    
                                                    if (defunc_0_leq_res_179749) {
                                                        int64_t tmp_179752 = add64((int64_t) 1, tt_179704);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = ss_179702;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tmp_179752;
                                                    } else {
                                                        int64_t tmp_179753 = add64((int64_t) 1, ss_179702);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = tmp_179753;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tt_179704;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = tt_179705;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179754 = sdiv64(count_179706, (int64_t) 2);
                                                    int64_t n_179755 = sub64(count_179706, m_179754);
                                                    bool cond_179756 = n_179755 == (int64_t) 0;
                                                    int64_t zgze_lhs_179757 = add64(ss_179702, m_179754);
                                                    bool cond_f_res_179758 = sle64(ss_179703, zgze_lhs_179757);
                                                    bool x_179759 = !cond_179756;
                                                    bool y_179760 = cond_f_res_179758 && x_179759;
                                                    bool cond_179761 = cond_179756 || y_179760;
                                                    bool leq_y_x_179762;
                                                    
                                                    if (cond_179761) {
                                                        leq_y_x_179762 = 1;
                                                    } else {
                                                        bool x_179763 = sle64((int64_t) 0, zgze_lhs_179757);
                                                        bool y_179764 = slt64(zgze_lhs_179757, stride_179514);
                                                        bool bounds_check_179765 = x_179763 && y_179764;
                                                        bool index_certs_179766;
                                                        
                                                        if (!bounds_check_179765) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179757, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179771 = add64(tt_179704, n_179755);
                                                        int64_t leq_arg0_179772 = sub64(zm_lhs_179771, (int64_t) 1);
                                                        bool x_179773 = sle64((int64_t) 0, leq_arg0_179772);
                                                        bool y_179774 = slt64(leq_arg0_179772, j_m_i_179536);
                                                        bool bounds_check_179775 = x_179773 && y_179774;
                                                        bool index_certs_179776;
                                                        
                                                        if (!bounds_check_179775) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179772, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:398:63-73\n   #13 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179767 = start_179587 + zgze_lhs_179757;
                                                        int8_t leq_arg1_179768 = ((int8_t *) mem_param_181565.mem)[slice_179767];
                                                        int64_t leq_arg1_179769 = ((int64_t *) mem_param_181568.mem)[slice_179767];
                                                        float leq_arg1_179770 = ((float *) mem_param_181571.mem)[slice_179767];
                                                        int64_t slice_179777 = stride_179514 + leq_arg0_179772;
                                                        int64_t slice_179778 = start_179587 + slice_179777;
                                                        int8_t leq_arg0_179779 = ((int8_t *) mem_param_181565.mem)[slice_179778];
                                                        int64_t leq_arg0_179780 = ((int64_t *) mem_param_181568.mem)[slice_179778];
                                                        float leq_arg0_179781 = ((float *) mem_param_181571.mem)[slice_179778];
                                                        bool cond_179782 = leq_arg0_179779 == leq_arg1_179768;
                                                        bool defunc_0_leq_res_t_res_179783 = sle64(leq_arg0_179780, leq_arg1_179769);
                                                        bool defunc_0_leq_res_179784 = leq_arg0_179781 <= leq_arg1_179770;
                                                        bool x_179785 = cond_179782 && defunc_0_leq_res_t_res_179783;
                                                        bool x_179786 = !cond_179782;
                                                        bool y_179787 = defunc_0_leq_res_179784 && x_179786;
                                                        bool defunc_0_leq_res_179788 = x_179785 || y_179787;
                                                        
                                                        leq_y_x_179762 = defunc_0_leq_res_179788;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                    
                                                    if (leq_y_x_179762) {
                                                        int64_t tmp_179792 = add64(tt_179704, n_179755);
                                                        int64_t tmp_179793 = sub64(count_179706, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tmp_179792;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tt_179705;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = tmp_179793;
                                                    } else {
                                                        int64_t tmp_179794 = add64(tt_179704, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tt_179704;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tmp_179794;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = count_179706;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = ss_179702;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                }
                                                defunc_0_lifted_step_res_f_res_179716 = defunc_0_lifted_step_res_f_res_f_res_179722;
                                                defunc_0_lifted_step_res_f_res_179717 = defunc_0_lifted_step_res_f_res_f_res_179723;
                                                defunc_0_lifted_step_res_f_res_179718 = defunc_0_lifted_step_res_f_res_f_res_179724;
                                                defunc_0_lifted_step_res_f_res_179719 = defunc_0_lifted_step_res_f_res_f_res_179725;
                                            }
                                            defunc_0_lifted_step_res_179709 = defunc_0_lifted_step_res_f_res_179716;
                                            defunc_0_lifted_step_res_179710 = defunc_0_lifted_step_res_f_res_179717;
                                            defunc_0_lifted_step_res_179711 = defunc_0_lifted_step_res_f_res_179718;
                                            defunc_0_lifted_step_res_179712 = defunc_0_lifted_step_res_f_res_179719;
                                        }
                                        
                                        int64_t loopres_179795;
                                        int64_t loopres_179796;
                                        int64_t loopres_179797;
                                        int64_t loopres_179798;
                                        int64_t loopres_179799;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_179795, &loopres_179796, &loopres_179797, &loopres_179798, &loopres_179799, defunc_0_lifted_step_res_179709, ss_179703, defunc_0_lifted_step_res_179710, defunc_0_lifted_step_res_179711, defunc_0_lifted_step_res_179712) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179800 = slt64((int64_t) 0, loopres_179799);
                                        bool loop_while_tmp_182529 = loop_cond_179800;
                                        int64_t ss_tmp_182530 = loopres_179795;
                                        int64_t ss_tmp_182531 = loopres_179796;
                                        int64_t tt_tmp_182532 = loopres_179797;
                                        int64_t tt_tmp_182533 = loopres_179798;
                                        int64_t count_tmp_182534 = loopres_179799;
                                        
                                        loop_while_179701 = loop_while_tmp_182529;
                                        ss_179702 = ss_tmp_182530;
                                        ss_179703 = ss_tmp_182531;
                                        tt_179704 = tt_tmp_182532;
                                        tt_179705 = tt_tmp_182533;
                                        count_179706 = count_tmp_182534;
                                    }
                                    defunc_0_split_count_res_179695 = loop_while_179701;
                                    defunc_0_split_count_res_179696 = ss_179702;
                                    defunc_0_split_count_res_179697 = ss_179703;
                                    defunc_0_split_count_res_179698 = tt_179704;
                                    defunc_0_split_count_res_179699 = tt_179705;
                                    defunc_0_split_count_res_179700 = count_179706;
                                    ((int64_t *) mem_181593)[i_180727] = defunc_0_split_count_res_179696;
                                    ((int64_t *) mem_181595)[i_180727] = defunc_0_split_count_res_179698;
                                }
                                if (mem_181609_cached_sizze_182861 < flat_dim_179537) {
                                    err = lexical_realloc(ctx, &mem_181609, &mem_181609_cached_sizze_182861, flat_dim_179537);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181612_cached_sizze_182862 < bytes_181611) {
                                    err = lexical_realloc(ctx, &mem_181612, &mem_181612_cached_sizze_182862, bytes_181611);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_182863 < bytes_181614) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_182863, bytes_181614);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180736 = 0; i_180736 < num_blocks_179534; i_180736++) {
                                    bool y_179809 = slt64(i_180736, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool index_certs_179811;
                                    
                                    if (!y_179809) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180736, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179812 = ((int64_t *) mem_181593)[i_180736];
                                    int64_t defunc_0_f_res_179813 = ((int64_t *) mem_181595)[i_180736];
                                    int64_t tmp_179814 = add64((int64_t) 1, i_180736);
                                    bool x_179815 = sle64((int64_t) 0, tmp_179814);
                                    bool y_179816 = slt64(tmp_179814, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool bounds_check_179817 = x_179815 && y_179816;
                                    bool index_certs_179818;
                                    
                                    if (!bounds_check_179817) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179814, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179819 = ((int64_t *) mem_181593)[tmp_179814];
                                    int64_t defunc_0_f_res_179820 = ((int64_t *) mem_181595)[tmp_179814];
                                    int64_t merge_sequential_arg2_179821 = add64(stride_179514, defunc_0_f_res_179813);
                                    int64_t merge_sequential_arg2_179822 = add64(stride_179514, defunc_0_f_res_179820);
                                    int64_t j_m_i_179823 = sub64(merge_sequential_arg2_179822, merge_sequential_arg2_179821);
                                    bool empty_slice_179824 = j_m_i_179823 == (int64_t) 0;
                                    int64_t m_179825 = sub64(j_m_i_179823, (int64_t) 1);
                                    int64_t i_p_m_t_s_179826 = add64(merge_sequential_arg2_179821, m_179825);
                                    bool zzero_leq_i_p_m_t_s_179827 = sle64((int64_t) 0, i_p_m_t_s_179826);
                                    bool i_p_m_t_s_leq_w_179828 = slt64(i_p_m_t_s_179826, next_stride_179515);
                                    bool zzero_lte_i_179829 = sle64((int64_t) 0, merge_sequential_arg2_179821);
                                    bool i_lte_j_179830 = sle64(merge_sequential_arg2_179821, merge_sequential_arg2_179822);
                                    bool y_179831 = i_p_m_t_s_leq_w_179828 && zzero_lte_i_179829;
                                    bool y_179832 = zzero_leq_i_p_m_t_s_179827 && y_179831;
                                    bool forwards_ok_179833 = i_lte_j_179830 && y_179832;
                                    bool ok_or_empty_179834 = empty_slice_179824 || forwards_ok_179833;
                                    bool index_certs_179835;
                                    
                                    if (!ok_or_empty_179834) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179821, ":", (long long) merge_sequential_arg2_179822, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179836 = sub64(defunc_0_f_res_179819, defunc_0_f_res_179812);
                                    bool empty_slice_179837 = j_m_i_179836 == (int64_t) 0;
                                    int64_t m_179838 = sub64(j_m_i_179836, (int64_t) 1);
                                    int64_t i_p_m_t_s_179839 = add64(defunc_0_f_res_179812, m_179838);
                                    bool zzero_leq_i_p_m_t_s_179840 = sle64((int64_t) 0, i_p_m_t_s_179839);
                                    bool i_p_m_t_s_leq_w_179841 = slt64(i_p_m_t_s_179839, next_stride_179515);
                                    bool zzero_lte_i_179842 = sle64((int64_t) 0, defunc_0_f_res_179812);
                                    bool i_lte_j_179843 = sle64(defunc_0_f_res_179812, defunc_0_f_res_179819);
                                    bool y_179844 = i_p_m_t_s_leq_w_179841 && zzero_lte_i_179842;
                                    bool y_179845 = zzero_leq_i_p_m_t_s_179840 && y_179844;
                                    bool forwards_ok_179846 = i_lte_j_179843 && y_179845;
                                    bool ok_or_empty_179847 = empty_slice_179837 || forwards_ok_179846;
                                    bool index_certs_179848;
                                    
                                    if (!ok_or_empty_179847) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179812, ":", (long long) defunc_0_f_res_179819, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179849 = slt64((int64_t) 0, j_m_i_179836);
                                    int8_t dummy_179850;
                                    int64_t dummy_179851;
                                    float dummy_179852;
                                    
                                    if (cond_179849) {
                                        bool index_certs_179853;
                                        
                                        if (!cond_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179854 = start_179587 + defunc_0_f_res_179812;
                                        int8_t head_res_179855 = ((int8_t *) mem_param_181565.mem)[slice_179854];
                                        int64_t head_res_179856 = ((int64_t *) mem_param_181568.mem)[slice_179854];
                                        float head_res_179857 = ((float *) mem_param_181571.mem)[slice_179854];
                                        
                                        dummy_179850 = head_res_179855;
                                        dummy_179851 = head_res_179856;
                                        dummy_179852 = head_res_179857;
                                    } else {
                                        bool y_179858 = slt64((int64_t) 0, j_m_i_179823);
                                        bool index_certs_179859;
                                        
                                        if (!y_179858) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179860 = start_179587 + merge_sequential_arg2_179821;
                                        int8_t head_res_179861 = ((int8_t *) mem_param_181565.mem)[slice_179860];
                                        int64_t head_res_179862 = ((int64_t *) mem_param_181568.mem)[slice_179860];
                                        float head_res_179863 = ((float *) mem_param_181571.mem)[slice_179860];
                                        
                                        dummy_179850 = head_res_179861;
                                        dummy_179851 = head_res_179862;
                                        dummy_179852 = head_res_179863;
                                    }
                                    for (int64_t nest_i_182538 = 0; nest_i_182538 < merge_block_sizze_179324; nest_i_182538++) {
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + nest_i_182538] = dummy_179850;
                                    }
                                    for (int64_t nest_i_182539 = 0; nest_i_182539 < merge_block_sizze_179324; nest_i_182539++) {
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + nest_i_182539] = dummy_179851;
                                    }
                                    for (int64_t nest_i_182540 = 0; nest_i_182540 < merge_block_sizze_179324; nest_i_182540++) {
                                        ((float *) mem_181615)[i_180736 * merge_block_sizze_179324 + nest_i_182540] = dummy_179852;
                                    }
                                    
                                    int64_t data_179867;
                                    int64_t i_179872 = (int64_t) 0;
                                    
                                    for (int64_t k_179871 = 0; k_179871 < merge_block_sizze_179324; k_179871++) {
                                        int64_t j_179876 = sub64(k_179871, i_179872);
                                        bool cond_179877 = j_179876 == j_m_i_179823;
                                        bool cond_179878;
                                        
                                        if (cond_179877) {
                                            cond_179878 = 1;
                                        } else {
                                            bool cond_179879 = slt64(i_179872, j_m_i_179836);
                                            bool cond_f_res_179880;
                                            
                                            if (cond_179879) {
                                                bool x_179881 = sle64((int64_t) 0, j_179876);
                                                bool y_179882 = slt64(j_179876, j_m_i_179823);
                                                bool bounds_check_179883 = x_179881 && y_179882;
                                                bool index_certs_179884;
                                                
                                                if (!bounds_check_179883) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179890 = sle64((int64_t) 0, i_179872);
                                                bool bounds_check_179891 = cond_179879 && x_179890;
                                                bool index_certs_179892;
                                                
                                                if (!bounds_check_179891) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179885 = merge_sequential_arg2_179821 + j_179876;
                                                int64_t slice_179886 = start_179587 + slice_179885;
                                                int8_t leq_arg1_179887 = ((int8_t *) mem_param_181565.mem)[slice_179886];
                                                int64_t leq_arg1_179888 = ((int64_t *) mem_param_181568.mem)[slice_179886];
                                                float leq_arg1_179889 = ((float *) mem_param_181571.mem)[slice_179886];
                                                int64_t slice_179893 = defunc_0_f_res_179812 + i_179872;
                                                int64_t slice_179894 = start_179587 + slice_179893;
                                                int8_t leq_arg0_179895 = ((int8_t *) mem_param_181565.mem)[slice_179894];
                                                int64_t leq_arg0_179896 = ((int64_t *) mem_param_181568.mem)[slice_179894];
                                                float leq_arg0_179897 = ((float *) mem_param_181571.mem)[slice_179894];
                                                bool cond_179898 = leq_arg0_179895 == leq_arg1_179887;
                                                bool defunc_0_leq_res_t_res_179899 = sle64(leq_arg0_179896, leq_arg1_179888);
                                                bool defunc_0_leq_res_179900 = leq_arg0_179897 <= leq_arg1_179889;
                                                bool x_179901 = cond_179898 && defunc_0_leq_res_t_res_179899;
                                                bool x_179902 = !cond_179898;
                                                bool y_179903 = defunc_0_leq_res_179900 && x_179902;
                                                bool defunc_0_leq_res_179904 = x_179901 || y_179903;
                                                
                                                cond_f_res_179880 = defunc_0_leq_res_179904;
                                            } else {
                                                cond_f_res_179880 = 0;
                                            }
                                            cond_179878 = cond_f_res_179880;
                                        }
                                        
                                        int64_t loopres_179905;
                                        int8_t loopres_179906;
                                        int64_t loopres_179907;
                                        float loopres_179908;
                                        
                                        if (cond_179878) {
                                            bool x_179910 = sle64((int64_t) 0, i_179872);
                                            bool y_179911 = slt64(i_179872, j_m_i_179836);
                                            bool bounds_check_179912 = x_179910 && y_179911;
                                            bool index_certs_179913;
                                            
                                            if (!bounds_check_179912) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179909 = add64((int64_t) 1, i_179872);
                                            int64_t slice_179914 = defunc_0_f_res_179812 + i_179872;
                                            int64_t slice_179915 = start_179587 + slice_179914;
                                            int8_t tmp_179916 = ((int8_t *) mem_param_181565.mem)[slice_179915];
                                            int64_t tmp_179917 = ((int64_t *) mem_param_181568.mem)[slice_179915];
                                            float tmp_179918 = ((float *) mem_param_181571.mem)[slice_179915];
                                            
                                            loopres_179905 = tmp_179909;
                                            loopres_179906 = tmp_179916;
                                            loopres_179907 = tmp_179917;
                                            loopres_179908 = tmp_179918;
                                        } else {
                                            bool x_179919 = sle64((int64_t) 0, j_179876);
                                            bool y_179920 = slt64(j_179876, j_m_i_179823);
                                            bool bounds_check_179921 = x_179919 && y_179920;
                                            bool index_certs_179922;
                                            
                                            if (!bounds_check_179921) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179923 = merge_sequential_arg2_179821 + j_179876;
                                            int64_t slice_179924 = start_179587 + slice_179923;
                                            int8_t tmp_179925 = ((int8_t *) mem_param_181565.mem)[slice_179924];
                                            int64_t tmp_179926 = ((int64_t *) mem_param_181568.mem)[slice_179924];
                                            float tmp_179927 = ((float *) mem_param_181571.mem)[slice_179924];
                                            
                                            loopres_179905 = i_179872;
                                            loopres_179906 = tmp_179925;
                                            loopres_179907 = tmp_179926;
                                            loopres_179908 = tmp_179927;
                                        }
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179906;
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179907;
                                        ((float *) mem_181615)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179908;
                                        
                                        int64_t i_tmp_182541 = loopres_179905;
                                        
                                        i_179872 = i_tmp_182541;
                                    }
                                    data_179867 = i_179872;
                                }
                                if (memblock_alloc(ctx, &mem_181664, flat_dim_179537, "mem_181664")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181664.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint8_t *) mem_181609, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181668, bytes_181611, "mem_181668")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181668.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint64_t *) mem_181612, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181672, bytes_181614, "mem_181672")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181672.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint32_t *) mem_181615, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181664, "mem_181664") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181668, "mem_181668") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181672, "mem_181672") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181573, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181705.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181576, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181702.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181579, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181699.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181719, bytes_181572, "mem_181719")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181719.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181723, bytes_181575, "mem_181723")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181723.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint64_t *) mem_181576, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181727, bytes_181578, "mem_181727")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181727.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint32_t *) mem_181579, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        
                        bool loop_cond_179947 = slt64(next_stride_179515, flat_dim_179319);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182508, &mem_181719, "mem_181719") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182509, &mem_181723, "mem_181723") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182510, &mem_181727, "mem_181727") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182511 = bytes_181572;
                        bool loop_while_tmp_182512 = loop_cond_179947;
                        int64_t stride_tmp_182516 = next_stride_179515;
                        
                        if (memblock_set(ctx, &mem_param_181565, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181568, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181571, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179509 = loop_dz2084Uz2082U_tmp_182511;
                        loop_while_179510 = loop_while_tmp_182512;
                        stride_179514 = stride_tmp_182516;
                    }
                    if (memblock_set(ctx, &ext_mem_181737, &mem_param_181565, "mem_param_181565") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181736, &mem_param_181568, "mem_param_181568") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181735, &mem_param_181571, "mem_param_181571") != 0)
                        return 1;
                    data_179503 = loop_dz2084Uz2082U_179509;
                    data_179504 = loop_while_179510;
                    data_179508 = stride_179514;
                    if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
                        return 1;
                    
                    bool empty_slice_179948 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179949 = sle64((int64_t) 0, zs_lhs_179303);
                    bool i_p_m_t_s_leq_w_179950 = slt64(zs_lhs_179303, data_179503);
                    bool y_179951 = zzero_leq_i_p_m_t_s_179949 && i_p_m_t_s_leq_w_179950;
                    bool ok_or_empty_179952 = empty_slice_179948 || y_179951;
                    bool index_certs_179953;
                    
                    if (!ok_or_empty_179952) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] out of bounds for array of shape [", (long long) data_179503, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:398:63-73\n   #6  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181746, &ext_mem_181737, "ext_mem_181737") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &ext_mem_181736, "ext_mem_181736") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &ext_mem_181735, "ext_mem_181735") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181413, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181746.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181416, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181743.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181419, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181740.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
                    return 1;
                for (int64_t i_180752 = 0; i_180752 < perThread_175580; i_180752++) {
                    int64_t lifted_lambda_res_179975 = add64(zm_rhs_179259, i_180752);
                    
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + i_180752] = lifted_lambda_res_179975;
                }
                
                bool cond_179977 = card_179260 == zp_rhs_175579;
                
                if (cond_179977) {
                    bool y_179979 = slt64(card_179260, perThread_175580);
                    bool index_certs_179980;
                    
                    if (!y_179979) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:398:63-73\n   #3  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + card_179260] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181772, bytes_181067, "mem_181772")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182546 = 0; nest_i_182546 < window_sizze_152755; nest_i_182546++) {
                ((float *) mem_181772.mem)[nest_i_182546] = 0.0F;
            }
            if (memblock_alloc(ctx, &mem_181774, bytes_181065, "mem_181774")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182547 = 0; nest_i_182547 < window_sizze_152755; nest_i_182547++) {
                ((int64_t *) mem_181774.mem)[nest_i_182547] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181775, window_sizze_152755, "mem_181775")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182548 = 0; nest_i_182548 < window_sizze_152755; nest_i_182548++) {
                ((int8_t *) mem_181775.mem)[nest_i_182548] = (int8_t) -1;
            }
            for (int64_t write_iter_180767 = 0; write_iter_180767 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581; write_iter_180767++) {
                int64_t new_index_180919 = squot64(write_iter_180767, perThread_175580);
                int64_t binop_y_180921 = perThread_175580 * new_index_180919;
                int64_t new_index_180922 = write_iter_180767 - binop_y_180921;
                int64_t write_iv_180771 = ((int64_t *) mem_181411)[new_index_180919 * perThread_175580 + new_index_180922];
                int8_t write_iv_180772 = ((int8_t *) mem_181413)[new_index_180919 * perThread_175580 + new_index_180922];
                int64_t write_iv_180773 = ((int64_t *) mem_181416)[new_index_180919 * perThread_175580 + new_index_180922];
                float write_iv_180774 = ((float *) mem_181419)[new_index_180919 * perThread_175580 + new_index_180922];
                
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_152755)) {
                    ((int8_t *) mem_181775.mem)[write_iv_180771] = write_iv_180772;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_152755)) {
                    ((int64_t *) mem_181774.mem)[write_iv_180771] = write_iv_180773;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_152755)) {
                    ((float *) mem_181772.mem)[write_iv_180771] = write_iv_180774;
                }
            }
            
            int64_t index_concat_branch_180003;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180004 = ((int64_t *) mem_181394)[index_concat_i_178344];
                
                index_concat_branch_180003 = index_concat_180004;
            } else {
                index_concat_branch_180003 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180005;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180006 = ((int64_t *) mem_181396)[index_concat_i_178344];
                
                index_concat_branch_180005 = index_concat_180006;
            } else {
                index_concat_branch_180005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181775, "mem_181775") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181774, "mem_181774") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181772, "mem_181772") != 0)
                return 1;
            loopres_175570 = index_concat_branch_180003;
            loopres_175571 = index_concat_branch_180005;
        } else {
            float leq_lhs_176561 = ((float *) a_list_mem_181032.mem)[p_175542];
            float leq_rhs_176564 = ((float *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_176565 = leq_lhs_176561 <= leq_rhs_176564;
            float lowest_176566;
            
            if (defunc_0_leq_res_176565) {
                bool index_certs_180007;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_lhs_176561;
            } else {
                bool index_certs_176571;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_rhs_176564;
            }
            if (mem_181049_cached_sizze_182828 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_182828, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181051_cached_sizze_182829 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182829, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_152756; i_180782++) {
                int64_t index_primexp_180998 = add64((int64_t) 1, i_180782);
                int64_t zs_lhs_176587 = mul64(zt_rhs_176580, index_primexp_180998);
                int64_t index_176588 = sdiv64(zs_lhs_176587, partitionFunc_arg0_176557);
                bool cond_176589 = slt64(window_sizze_152755, index_176588);
                int64_t loop_over_176590;
                
                if (cond_176589) {
                    loop_over_176590 = window_sizze_152755;
                } else {
                    loop_over_176590 = index_176588;
                }
                
                int64_t loop_over_176591;
                
                if (cond_176589) {
                    int64_t loop_over_t_res_180008 = sub64(index_176588, window_sizze_152755);
                    
                    loop_over_176591 = loop_over_t_res_180008;
                } else {
                    loop_over_176591 = (int64_t) 0;
                }
                
                int64_t loop_over_176593;
                
                if (cond_176589) {
                    int64_t zm_lhs_180009 = sub64(index_176588, window_sizze_152755);
                    int64_t loop_over_t_res_180010 = sub64(zm_lhs_180009, (int64_t) 1);
                    
                    loop_over_176593 = loop_over_t_res_180010;
                } else {
                    loop_over_176593 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176596;
                int64_t defunc_0_f_res_176597;
                int64_t defunc_0_f_res_176598;
                int64_t defunc_0_f_res_176599;
                bool loop_while_176600;
                int64_t p_176601;
                int64_t p_176602;
                int64_t p_176603;
                
                loop_while_176600 = 1;
                p_176601 = loop_over_176593;
                p_176602 = loop_over_176590;
                p_176603 = loop_over_176591;
                while (loop_while_176600) {
                    int64_t zs_lhs_176604 = sub64(p_176602, p_176601);
                    int64_t offset_176605 = sdiv64(zs_lhs_176604, (int64_t) 2);
                    int64_t ai_176606 = sub64(p_176602, offset_176605);
                    int64_t max_arg1_176607 = add64(p_176603, offset_176605);
                    int64_t max_res_176608 = smax64((int64_t) 0, max_arg1_176607);
                    bool cond_176609 = slt64((int64_t) 0, max_res_176608);
                    float b_prev_176610;
                    
                    if (cond_176609) {
                        int64_t tmp_180011 = sub64(max_res_176608, (int64_t) 1);
                        bool x_180012 = sle64((int64_t) 0, tmp_180011);
                        bool y_180013 = slt64(tmp_180011, window_sizze_152755);
                        bool bounds_check_180014 = x_180012 && y_180013;
                        bool index_certs_180015;
                        
                        if (!bounds_check_180014) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180011, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180016 = p_175543 + tmp_180011;
                        float b_prev_t_res_180017 = ((float *) b_list_mem_181033.mem)[slice_180016];
                        
                        b_prev_176610 = b_prev_t_res_180017;
                    } else {
                        b_prev_176610 = lowest_176566;
                    }
                    
                    bool cond_176617 = sle64(ai_176606, (int64_t) 0);
                    int64_t loopres_176618;
                    int64_t loopres_176619;
                    int64_t loopres_176620;
                    bool loopres_176621;
                    
                    if (cond_176617) {
                        loopres_176618 = p_176601;
                        loopres_176619 = (int64_t) 0;
                        loopres_176620 = max_res_176608;
                        loopres_176621 = 0;
                    } else {
                        bool cond_176622 = sle64(window_sizze_152755, max_res_176608);
                        int64_t loopres_f_res_176623;
                        int64_t loopres_f_res_176624;
                        int64_t loopres_f_res_176625;
                        bool loopres_f_res_176626;
                        
                        if (cond_176622) {
                            int64_t min_res_180019 = smin64(m_175531, ai_176606);
                            bool x_180020 = sle64((int64_t) 0, m_175531);
                            bool y_180021 = slt64(m_175531, window_sizze_152755);
                            bool bounds_check_180022 = x_180020 && y_180021;
                            bool index_certs_180023;
                            
                            if (!bounds_check_180022) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180026 = sle64((int64_t) 0, min_res_180019);
                            bool y_180027 = slt64(min_res_180019, window_sizze_152755);
                            bool bounds_check_180028 = x_180026 && y_180027;
                            bool index_certs_180029;
                            
                            if (!bounds_check_180028) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180019, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            float leq_lhs_180025 = ((float *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_180030 = p_175542 + min_res_180019;
                            float leq_rhs_180031 = ((float *) a_list_mem_181032.mem)[slice_180030];
                            bool defunc_0_leq_res_180032 = leq_lhs_180025 <= leq_rhs_180031;
                            int64_t loopres_f_res_t_res_180033;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180033 = ai_176606;
                            } else {
                                loopres_f_res_t_res_180033 = p_176602;
                            }
                            
                            bool x_180034 = !defunc_0_leq_res_180032;
                            int64_t loopres_f_res_t_res_180035;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180035 = window_sizze_152755;
                            } else {
                                int64_t tmp_180036 = sub64(m_175531, offset_176605);
                                
                                loopres_f_res_t_res_180035 = tmp_180036;
                            }
                            loopres_f_res_176623 = p_176601;
                            loopres_f_res_176624 = loopres_f_res_t_res_180033;
                            loopres_f_res_176625 = loopres_f_res_t_res_180035;
                            loopres_f_res_176626 = x_180034;
                        } else {
                            bool cond_176644 = sle64(window_sizze_152755, ai_176606);
                            int64_t loopres_f_res_f_res_176645;
                            int64_t loopres_f_res_f_res_176646;
                            int64_t loopres_f_res_f_res_176647;
                            bool loopres_f_res_f_res_176648;
                            
                            if (cond_176644) {
                                int64_t min_res_180038 = smin64(m_175531, max_res_176608);
                                bool x_180039 = sle64((int64_t) 0, m_175531);
                                bool y_180040 = slt64(m_175531, window_sizze_152755);
                                bool bounds_check_180041 = x_180039 && y_180040;
                                bool index_certs_180042;
                                
                                if (!bounds_check_180041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180045 = sle64((int64_t) 0, min_res_180038);
                                bool y_180046 = slt64(min_res_180038, window_sizze_152755);
                                bool bounds_check_180047 = x_180045 && y_180046;
                                bool index_certs_180048;
                                
                                if (!bounds_check_180047) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180038, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                float leq_lhs_180044 = ((float *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_180049 = p_175543 + min_res_180038;
                                float leq_rhs_180050 = ((float *) b_list_mem_181033.mem)[slice_180049];
                                bool defunc_0_leq_res_180051 = leq_lhs_180044 <= leq_rhs_180050;
                                int64_t loopres_f_res_f_res_t_res_180052;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180052 = max_res_176608;
                                } else {
                                    loopres_f_res_f_res_t_res_180052 = p_176603;
                                }
                                
                                bool x_180053 = !defunc_0_leq_res_180051;
                                int64_t loopres_f_res_f_res_t_res_180054;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180054 = window_sizze_152755;
                                } else {
                                    loopres_f_res_f_res_t_res_180054 = m_175531;
                                }
                                loopres_f_res_f_res_176645 = p_176601;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_t_res_180054;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_t_res_180052;
                                loopres_f_res_f_res_176648 = x_180053;
                            } else {
                                bool cond_176665 = sle64(p_176602, p_176601);
                                int64_t loopres_f_res_f_res_f_res_176666;
                                int64_t loopres_f_res_f_res_f_res_176667;
                                int64_t loopres_f_res_f_res_f_res_176668;
                                bool loopres_f_res_f_res_f_res_176669;
                                
                                if (cond_176665) {
                                    bool cond_180093 = slt64(ai_176606, window_sizze_152755);
                                    int64_t ai_180094;
                                    
                                    if (cond_180093) {
                                        ai_180094 = ai_176606;
                                    } else {
                                        ai_180094 = m_175531;
                                    }
                                    
                                    bool x_180107 = sle64((int64_t) 0, ai_180094);
                                    bool y_180108 = slt64(ai_180094, window_sizze_152755);
                                    bool bounds_check_180109 = x_180107 && y_180108;
                                    bool index_certs_180110;
                                    
                                    if (!bounds_check_180109) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180094, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    float b_prev_180096;
                                    
                                    if (cond_176609) {
                                        int64_t tmp_180097 = sub64(max_res_176608, (int64_t) 1);
                                        bool x_180098 = sle64((int64_t) 0, tmp_180097);
                                        bool y_180099 = slt64(tmp_180097, window_sizze_152755);
                                        bool bounds_check_180100 = x_180098 && y_180099;
                                        bool index_certs_180101;
                                        
                                        if (!bounds_check_180100) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180097, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180102 = p_175543 + tmp_180097;
                                        float b_prev_t_res_180103 = ((float *) b_list_mem_181033.mem)[slice_180102];
                                        
                                        b_prev_180096 = b_prev_t_res_180103;
                                    } else {
                                        bool index_certs_180105;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180096 = leq_rhs_176564;
                                    }
                                    
                                    int64_t slice_180111 = p_175542 + ai_180094;
                                    float gt_lhs_180112 = ((float *) a_list_mem_181032.mem)[slice_180111];
                                    bool defunc_0_gt_res_180113 = b_prev_180096 < gt_lhs_180112;
                                    int64_t defunc_0_partFunc_sequential_search_res_180114;
                                    int64_t defunc_0_partFunc_sequential_search_res_180115;
                                    
                                    if (defunc_0_gt_res_180113) {
                                        int64_t zl_rhs_180116 = sub64(window_sizze_152755, max_res_176608);
                                        bool loop_cond_180117 = slt64((int64_t) 0, zl_rhs_180116);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180118;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180120;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180121;
                                        bool loop_while_180122;
                                        int64_t p_180123;
                                        int64_t p_180124;
                                        int64_t p_180125;
                                        
                                        loop_while_180122 = loop_cond_180117;
                                        p_180123 = ai_180094;
                                        p_180124 = max_res_176608;
                                        p_180125 = (int64_t) 0;
                                        while (loop_while_180122) {
                                            int64_t i_a_180126 = sub64(ai_180094, p_180125);
                                            int64_t i_b_180127 = add64(max_res_176608, p_180125);
                                            int64_t leq_lhs_180128 = sub64(i_a_180126, (int64_t) 1);
                                            bool x_180129 = sle64((int64_t) 0, leq_lhs_180128);
                                            bool y_180130 = slt64(leq_lhs_180128, window_sizze_152755);
                                            bool bounds_check_180131 = x_180129 && y_180130;
                                            bool index_certs_180132;
                                            
                                            if (!bounds_check_180131) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180128, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180135 = sle64((int64_t) 0, i_b_180127);
                                            bool y_180136 = slt64(i_b_180127, window_sizze_152755);
                                            bool bounds_check_180137 = x_180135 && y_180136;
                                            bool index_certs_180138;
                                            
                                            if (!bounds_check_180137) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180127, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180133 = p_175542 + leq_lhs_180128;
                                            float leq_lhs_180134 = ((float *) a_list_mem_181032.mem)[slice_180133];
                                            int64_t slice_180139 = p_175543 + i_b_180127;
                                            float leq_rhs_180140 = ((float *) b_list_mem_181033.mem)[slice_180139];
                                            bool defunc_0_leq_res_180141 = leq_lhs_180134 <= leq_rhs_180140;
                                            int64_t loopres_180142;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180142 = i_a_180126;
                                            } else {
                                                loopres_180142 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180143;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180143 = i_b_180127;
                                            } else {
                                                loopres_180143 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180144;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180144 = zl_rhs_180116;
                                            } else {
                                                int64_t tmp_180145 = add64((int64_t) 1, p_180125);
                                                
                                                loopres_180144 = tmp_180145;
                                            }
                                            
                                            bool loop_cond_180146 = slt64(loopres_180144, zl_rhs_180116);
                                            bool loop_while_tmp_182558 = loop_cond_180146;
                                            int64_t p_tmp_182559 = loopres_180142;
                                            int64_t p_tmp_182560 = loopres_180143;
                                            int64_t p_tmp_182561 = loopres_180144;
                                            
                                            loop_while_180122 = loop_while_tmp_182558;
                                            p_180123 = p_tmp_182559;
                                            p_180124 = p_tmp_182560;
                                            p_180125 = p_tmp_182561;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180118 = loop_while_180122;
                                        defunc_0_partFunc_sequential_search_res_t_res_180119 = p_180123;
                                        defunc_0_partFunc_sequential_search_res_t_res_180120 = p_180124;
                                        defunc_0_partFunc_sequential_search_res_t_res_180121 = p_180125;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_t_res_180120;
                                    } else {
                                        int64_t zl_rhs_180147 = sub64(max_res_176608, (int64_t) 1);
                                        bool loop_cond_180148 = slt64((int64_t) 0, zl_rhs_180147);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180149;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180151;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180152;
                                        bool loop_while_180153;
                                        int64_t p_180154;
                                        int64_t p_180155;
                                        int64_t p_180156;
                                        
                                        loop_while_180153 = loop_cond_180148;
                                        p_180154 = ai_180094;
                                        p_180155 = max_res_176608;
                                        p_180156 = (int64_t) 0;
                                        while (loop_while_180153) {
                                            int64_t zp_lhs_180157 = add64(ai_180094, p_180156);
                                            int64_t hi_a_180158 = add64((int64_t) 1, zp_lhs_180157);
                                            bool cond_180159 = slt64(hi_a_180158, window_sizze_152755);
                                            int64_t i_a_180160;
                                            
                                            if (cond_180159) {
                                                i_a_180160 = hi_a_180158;
                                            } else {
                                                i_a_180160 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_180162 = sub64(max_res_176608, p_180156);
                                            int64_t i_b_180163 = sub64(zm_lhs_180162, (int64_t) 1);
                                            bool x_180164 = sle64((int64_t) 0, i_a_180160);
                                            bool y_180165 = slt64(i_a_180160, window_sizze_152755);
                                            bool bounds_check_180166 = x_180164 && y_180165;
                                            bool index_certs_180167;
                                            
                                            if (!bounds_check_180166) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180160, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180170 = sle64((int64_t) 0, i_b_180163);
                                            bool y_180171 = slt64(i_b_180163, window_sizze_152755);
                                            bool bounds_check_180172 = x_180170 && y_180171;
                                            bool index_certs_180173;
                                            
                                            if (!bounds_check_180172) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180163, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180168 = p_175542 + i_a_180160;
                                            float gt_lhs_180169 = ((float *) a_list_mem_181032.mem)[slice_180168];
                                            int64_t slice_180174 = p_175543 + i_b_180163;
                                            float gt_rhs_180175 = ((float *) b_list_mem_181033.mem)[slice_180174];
                                            bool defunc_0_gt_res_180176 = gt_rhs_180175 < gt_lhs_180169;
                                            int64_t loopres_180177;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180177 = i_a_180160;
                                            } else {
                                                loopres_180177 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180178;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180178 = zm_lhs_180162;
                                            } else {
                                                loopres_180178 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180179;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180179 = zl_rhs_180147;
                                            } else {
                                                int64_t tmp_180180 = add64((int64_t) 1, p_180156);
                                                
                                                loopres_180179 = tmp_180180;
                                            }
                                            
                                            bool loop_cond_180181 = slt64(loopres_180179, zl_rhs_180147);
                                            bool loop_while_tmp_182562 = loop_cond_180181;
                                            int64_t p_tmp_182563 = loopres_180177;
                                            int64_t p_tmp_182564 = loopres_180178;
                                            int64_t p_tmp_182565 = loopres_180179;
                                            
                                            loop_while_180153 = loop_while_tmp_182562;
                                            p_180154 = p_tmp_182563;
                                            p_180155 = p_tmp_182564;
                                            p_180156 = p_tmp_182565;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180149 = loop_while_180153;
                                        defunc_0_partFunc_sequential_search_res_f_res_180150 = p_180154;
                                        defunc_0_partFunc_sequential_search_res_f_res_180151 = p_180155;
                                        defunc_0_partFunc_sequential_search_res_f_res_180152 = p_180156;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_f_res_180151;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = p_176601;
                                    loopres_f_res_f_res_f_res_176667 = defunc_0_partFunc_sequential_search_res_180114;
                                    loopres_f_res_f_res_f_res_176668 = defunc_0_partFunc_sequential_search_res_180115;
                                    loopres_f_res_f_res_f_res_176669 = 0;
                                } else {
                                    bool x_176753 = sle64((int64_t) 0, ai_176606);
                                    bool y_176754 = slt64(ai_176606, window_sizze_152755);
                                    bool bounds_check_176755 = x_176753 && y_176754;
                                    bool index_certs_176756;
                                    
                                    if (!bounds_check_176755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176606, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178422 = p_175542 + ai_176606;
                                    float gt_lhs_176757 = ((float *) a_list_mem_181032.mem)[slice_178422];
                                    bool defunc_0_gt_res_176758 = b_prev_176610 < gt_lhs_176757;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176759;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176760;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176761;
                                    bool loopres_f_res_f_res_f_res_f_res_176762;
                                    
                                    if (defunc_0_gt_res_176758) {
                                        int64_t leq_lhs_180182 = sub64(ai_176606, (int64_t) 1);
                                        bool x_180183 = sle64((int64_t) 0, leq_lhs_180182);
                                        bool y_180184 = slt64(leq_lhs_180182, window_sizze_152755);
                                        bool bounds_check_180185 = x_180183 && y_180184;
                                        bool index_certs_180186;
                                        
                                        if (!bounds_check_180185) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180182, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180189 = sle64((int64_t) 0, max_res_176608);
                                        bool y_180190 = slt64(max_res_176608, window_sizze_152755);
                                        bool bounds_check_180191 = x_180189 && y_180190;
                                        bool index_certs_180192;
                                        
                                        if (!bounds_check_180191) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176608, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180187 = p_175542 + leq_lhs_180182;
                                        float leq_lhs_180188 = ((float *) a_list_mem_181032.mem)[slice_180187];
                                        int64_t slice_180193 = p_175543 + max_res_176608;
                                        float leq_rhs_180194 = ((float *) b_list_mem_181033.mem)[slice_180193];
                                        bool defunc_0_leq_res_180195 = leq_lhs_180188 <= leq_rhs_180194;
                                        bool x_180196 = !defunc_0_leq_res_180195;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = ai_176606;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = leq_lhs_180182;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = max_res_176608;
                                        } else {
                                            int64_t tmp_180199 = add64((int64_t) 1, max_res_176608);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = tmp_180199;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176759 = p_176601;
                                        loopres_f_res_f_res_f_res_f_res_176760 = loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        loopres_f_res_f_res_f_res_f_res_176761 = loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        loopres_f_res_f_res_f_res_f_res_176762 = x_180196;
                                    } else {
                                        int64_t tmp_176779 = add64((int64_t) 1, ai_176606);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176759 = tmp_176779;
                                        loopres_f_res_f_res_f_res_f_res_176760 = p_176602;
                                        loopres_f_res_f_res_f_res_f_res_176761 = p_176603;
                                        loopres_f_res_f_res_f_res_f_res_176762 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = loopres_f_res_f_res_f_res_f_res_176759;
                                    loopres_f_res_f_res_f_res_176667 = loopres_f_res_f_res_f_res_f_res_176760;
                                    loopres_f_res_f_res_f_res_176668 = loopres_f_res_f_res_f_res_f_res_176761;
                                    loopres_f_res_f_res_f_res_176669 = loopres_f_res_f_res_f_res_f_res_176762;
                                }
                                loopres_f_res_f_res_176645 = loopres_f_res_f_res_f_res_176666;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_f_res_176667;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_f_res_176668;
                                loopres_f_res_f_res_176648 = loopres_f_res_f_res_f_res_176669;
                            }
                            loopres_f_res_176623 = loopres_f_res_f_res_176645;
                            loopres_f_res_176624 = loopres_f_res_f_res_176646;
                            loopres_f_res_176625 = loopres_f_res_f_res_176647;
                            loopres_f_res_176626 = loopres_f_res_f_res_176648;
                        }
                        loopres_176618 = loopres_f_res_176623;
                        loopres_176619 = loopres_f_res_176624;
                        loopres_176620 = loopres_f_res_176625;
                        loopres_176621 = loopres_f_res_176626;
                    }
                    
                    bool loop_while_tmp_182554 = loopres_176621;
                    int64_t p_tmp_182555 = loopres_176618;
                    int64_t p_tmp_182556 = loopres_176619;
                    int64_t p_tmp_182557 = loopres_176620;
                    
                    loop_while_176600 = loop_while_tmp_182554;
                    p_176601 = p_tmp_182555;
                    p_176602 = p_tmp_182556;
                    p_176603 = p_tmp_182557;
                }
                defunc_0_f_res_176596 = loop_while_176600;
                defunc_0_f_res_176597 = p_176601;
                defunc_0_f_res_176598 = p_176602;
                defunc_0_f_res_176599 = p_176603;
                ((int64_t *) mem_181049)[i_180782] = defunc_0_f_res_176598;
                ((int64_t *) mem_181051)[i_180782] = defunc_0_f_res_176599;
            }
            if (memblock_alloc(ctx, &mem_181064, window_sizze_152755, "mem_181064")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_152755; nest_i_182566++) {
                ((int8_t *) mem_181064.mem)[nest_i_182566] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181066, bytes_181065, "mem_181066")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_152755; nest_i_182567++) {
                ((int64_t *) mem_181066.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181068, bytes_181067, "mem_181068")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_152755; nest_i_182568++) {
                ((float *) mem_181068.mem)[nest_i_182568] = 0.0F;
            }
            
            bool defunc_0_mergeFunc_seq_res_176806;
            int64_t defunc_0_mergeFunc_seq_res_176807;
            bool loop_while_176811;
            int64_t p_176812;
            
            loop_while_176811 = loop_cond_176805;
            p_176812 = (int64_t) 0;
            while (loop_while_176811) {
                bool x_176816 = sle64((int64_t) 0, p_176812);
                bool y_176817 = slt64(p_176812, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176818 = x_176816 && y_176817;
                bool index_certs_176819;
                
                if (!bounds_check_176818) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178405 = sle64((int64_t) 1, p_176812);
                int64_t index_concat_i_178406 = sub64(p_176812, (int64_t) 1);
                int64_t index_concat_178407;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180200 = ((int64_t *) mem_181049)[index_concat_i_178406];
                    
                    index_concat_178407 = x_180200;
                } else {
                    index_concat_178407 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178409;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178409 = index_concat_178407;
                } else {
                    index_concat_branch_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_178401;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180201 = ((int64_t *) mem_181051)[index_concat_i_178406];
                    
                    index_concat_178401 = x_180201;
                } else {
                    index_concat_178401 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178403;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178403 = index_concat_178401;
                } else {
                    index_concat_branch_178403 = (int64_t) 0;
                }
                
                int64_t ubs_176822 = add64((int64_t) 1, p_176812);
                bool x_176823 = sle64((int64_t) 0, ubs_176822);
                bool y_176824 = slt64(ubs_176822, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176825 = x_176823 && y_176824;
                bool index_certs_176826;
                
                if (!bounds_check_176825) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178393 = sle64((int64_t) 1, ubs_176822);
                int64_t index_concat_178395;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180202 = ((int64_t *) mem_181049)[p_176812];
                    
                    index_concat_178395 = x_180202;
                } else {
                    index_concat_178395 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178397 = index_concat_178395;
                } else {
                    index_concat_branch_178397 = (int64_t) 0;
                }
                
                int64_t index_concat_178389;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180203 = ((int64_t *) mem_181051)[p_176812];
                    
                    index_concat_178389 = x_180203;
                } else {
                    index_concat_178389 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178391;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178391 = index_concat_178389;
                } else {
                    index_concat_branch_178391 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 = sub64(index_concat_branch_178391, index_concat_branch_178403);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 = sub64(index_concat_branch_178397, index_concat_branch_178409);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t ind_bottom_176832 = add64(index_concat_branch_178403, index_concat_branch_178409);
                int64_t ind_top_176833 = add64(index_concat_branch_178391, index_concat_branch_178397);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 = sub64(ind_top_176833, ind_bottom_176832);
                bool empty_slice_176835 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 == (int64_t) 0;
                int64_t m_176836 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 1);
                int64_t i_p_m_t_s_176837 = add64(m_176836, index_concat_branch_178409);
                bool zzero_leq_i_p_m_t_s_176838 = sle64((int64_t) 0, i_p_m_t_s_176837);
                bool i_p_m_t_s_leq_w_176839 = slt64(i_p_m_t_s_176837, window_sizze_152755);
                bool zzero_lte_i_176840 = sle64((int64_t) 0, index_concat_branch_178409);
                bool i_lte_j_176841 = sle64(index_concat_branch_178409, index_concat_branch_178397);
                bool y_176842 = i_p_m_t_s_leq_w_176839 && zzero_lte_i_176840;
                bool y_176843 = zzero_leq_i_p_m_t_s_176838 && y_176842;
                bool forwards_ok_176844 = i_lte_j_176841 && y_176843;
                bool ok_or_empty_176845 = empty_slice_176835 || forwards_ok_176844;
                bool index_certs_176846;
                
                if (!ok_or_empty_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178409, ":", (long long) index_concat_branch_178397, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176847 = slt64(index_concat_branch_178397, index_concat_branch_178409);
                bool valid_176848 = !bounds_invalid_upwards_176847;
                bool range_valid_c_176849;
                
                if (!valid_176848) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178409, "..<", (long long) index_concat_branch_178397, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178403);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_152755);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178403);
                bool i_lte_j_176861 = sle64(index_concat_branch_178403, index_concat_branch_178391);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178403, ":", (long long) index_concat_branch_178391, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178391, index_concat_branch_178403);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178403, "..<", (long long) index_concat_branch_178391, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181085 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                int64_t bytes_181087 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool cond_176878 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zs_lhs_176879 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zp_rhs_176880 = sdiv_safe64(zs_lhs_176879, (int64_t) 20);
                int64_t min_num_blocks_176881 = add64((int64_t) 1, zp_rhs_176880);
                bool loop_cond_176882 = slt64((int64_t) 1, min_num_blocks_176881);
                bool smallest_pow_2_geq_than_res_176883;
                int64_t smallest_pow_2_geq_than_res_176884;
                bool loop_while_176885;
                int64_t x_176886;
                
                loop_while_176885 = loop_cond_176882;
                x_176886 = (int64_t) 1;
                while (loop_while_176885) {
                    int64_t loopres_176887 = mul64((int64_t) 2, x_176886);
                    bool loop_cond_176888 = slt64(loopres_176887, min_num_blocks_176881);
                    bool loop_while_tmp_182574 = loop_cond_176888;
                    int64_t x_tmp_182575 = loopres_176887;
                    
                    loop_while_176885 = loop_while_tmp_182574;
                    x_176886 = x_tmp_182575;
                }
                smallest_pow_2_geq_than_res_176883 = loop_while_176885;
                smallest_pow_2_geq_than_res_176884 = x_176886;
                
                bool zzero_176889 = smallest_pow_2_geq_than_res_176884 == (int64_t) 0;
                bool nonzzero_176890 = !zzero_176889;
                bool protect_assert_disj_176891 = cond_176878 || nonzzero_176890;
                bool nonzzero_cert_176892;
                
                if (!protect_assert_disj_176891) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176893 = sdiv_safe64(zs_lhs_176879, smallest_pow_2_geq_than_res_176884);
                int64_t block_sizze_176894 = add64((int64_t) 1, zp_rhs_176893);
                bool y_176901 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                bool protect_assert_disj_182238 = cond_176878 || y_176901;
                bool index_certs_176902;
                
                if (!protect_assert_disj_182238) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176928 = slt64(smallest_pow_2_geq_than_res_176884, (int64_t) 0);
                bool valid_176929 = !bounds_invalid_upwards_176928;
                bool protect_assert_disj_182248 = cond_176878 || valid_176929;
                bool range_valid_c_176930;
                
                if (!protect_assert_disj_182248) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176884, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176932 = slt64(block_sizze_176894, (int64_t) 0);
                bool valid_176933 = !bounds_invalid_upwards_176932;
                bool protect_assert_disj_182250 = cond_176878 || valid_176933;
                bool range_valid_c_176934;
                
                if (!protect_assert_disj_182250) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176894, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176936 = sle64(block_sizze_176894, (int64_t) 1);
                int64_t tmp_176937 = sub64(block_sizze_176894, (int64_t) 2);
                bool bounds_invalid_upwards_176938 = slt64(tmp_176937, (int64_t) 0);
                bool valid_176940 = !bounds_invalid_upwards_176938;
                bool protect_assert_disj_176941 = cond_176936 || valid_176940;
                bool protect_assert_disj_182252 = cond_176878 || protect_assert_disj_176941;
                bool range_valid_c_176942;
                
                if (!protect_assert_disj_182252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176937, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177503 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool empty_or_match_cert_177504;
                
                if (!dim_match_177503) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "](i8, i64, f32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177505 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == (int64_t) 0;
                int64_t m_177506 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177507 = sle64((int64_t) 0, m_177506);
                bool i_p_m_t_s_leq_w_177508 = slt64(m_177506, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834);
                bool y_177509 = zzero_leq_i_p_m_t_s_177507 && i_p_m_t_s_leq_w_177508;
                bool ok_or_empty_177510 = empty_slice_177505 || y_177509;
                bool index_certs_177511;
                
                if (!ok_or_empty_177510) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177512 = add64(ind_bottom_176832, m_177506);
                bool zzero_leq_i_p_m_t_s_177513 = sle64((int64_t) 0, i_p_m_t_s_177512);
                bool i_p_m_t_s_leq_w_177514 = slt64(i_p_m_t_s_177512, window_sizze_152755);
                bool zzero_lte_i_177515 = sle64((int64_t) 0, ind_bottom_176832);
                bool i_lte_j_177516 = sle64(ind_bottom_176832, ind_top_176833);
                bool y_177517 = i_p_m_t_s_leq_w_177514 && zzero_lte_i_177515;
                bool y_177518 = zzero_leq_i_p_m_t_s_177513 && y_177517;
                bool forwards_ok_177519 = i_lte_j_177516 && y_177518;
                bool ok_or_empty_177520 = empty_slice_177505 || forwards_ok_177519;
                bool index_certs_177521;
                
                if (!ok_or_empty_177520) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176832, ":", (long long) ind_top_176833, "] out of bounds for array of shape [", (long long) window_sizze_152755, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178385 = p_175542 + index_concat_branch_178409;
                
                if (memblock_alloc(ctx, &mem_181084, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "mem_181084")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182576 = 0; nest_i_182576 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; nest_i_182576++) {
                    ((int8_t *) mem_181084.mem)[nest_i_182576] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182577 = 0; i_182577 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; i_182577++) {
                    int64_t x_182578 = index_concat_branch_178409 + i_182577 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[i_182577] = x_182578;
                }
                
                int64_t slice_178384 = p_175543 + index_concat_branch_178403;
                
                for (int64_t nest_i_182579 = 0; nest_i_182579 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; nest_i_182579++) {
                    ((int8_t *) mem_181084.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + nest_i_182579] = (int8_t) 1;
                }
                for (int64_t i_182580 = 0; i_182580 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; i_182580++) {
                    int64_t x_182581 = index_concat_branch_178403 + i_182580 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + i_182580] = x_182581;
                }
                
                int64_t tmp_offs_182582 = (int64_t) 0;
                
                if (!(tmp_offs_182582 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182582 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t tmp_offs_182583 = (int64_t) 0;
                
                if (!(tmp_offs_182583 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182583 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                if (memblock_alloc(ctx, &mem_181088, bytes_181087, "mem_181088")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182584 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181032.mem, slice_178385, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181033.mem, slice_178384, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t flat_dim_176895 = smallest_pow_2_geq_than_res_176884 * block_sizze_176894;
                bool x_182233 = !cond_176878;
                int64_t greatest_divisor_leq_than_arg1_176899 = mul64((int64_t) 2, block_sizze_176894);
                int64_t merge_block_sizze_176900;
                
                if (x_182233) {
                    int64_t x_182235;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182235, (int64_t) 8, greatest_divisor_leq_than_arg1_176899) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176900 = x_182235;
                } else {
                    merge_block_sizze_176900 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178379 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 0);
                int8_t index_concat_branch_178383 = btoi_bool_i8(index_concat_cmp_178379);
                int64_t index_concat_i_180204 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t index_primexp_180205 = add64(index_concat_branch_178403, index_concat_i_180204);
                int64_t index_concat_branch_178377;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178377 = index_primexp_180205;
                } else {
                    index_concat_branch_178377 = index_concat_branch_178409;
                }
                
                bool x_182229 = !index_concat_cmp_178379;
                bool protect_cond_conj_182239 = x_182229 && x_182233;
                float index_concat_178370;
                
                if (protect_cond_conj_182239) {
                    float x_182231 = ((float *) a_list_mem_181032.mem)[slice_178385];
                    
                    index_concat_178370 = x_182231;
                } else {
                    index_concat_178370 = 0.0F;
                }
                
                int64_t slice_180207 = slice_178384 + index_concat_i_180204;
                bool protect_cond_conj_182240 = index_concat_cmp_178379 && x_182233;
                float index_concat_180208;
                
                if (protect_cond_conj_182240) {
                    float x_182227 = ((float *) b_list_mem_181033.mem)[slice_180207];
                    
                    index_concat_180208 = x_182227;
                } else {
                    index_concat_180208 = 0.0F;
                }
                
                float index_concat_branch_178371;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178371 = index_concat_180208;
                } else {
                    index_concat_branch_178371 = index_concat_178370;
                }
                
                int8_t defunc_0_reduce_res_180439;
                int64_t defunc_0_reduce_res_180440;
                float defunc_0_reduce_res_180441;
                
                if (x_182233) {
                    int8_t x_182241;
                    int64_t x_182242;
                    float x_182243;
                    int8_t redout_180785;
                    int64_t redout_180786;
                    float redout_180787;
                    
                    redout_180785 = index_concat_branch_178383;
                    redout_180786 = index_concat_branch_178377;
                    redout_180787 = index_concat_branch_178371;
                    for (int64_t i_180788 = 0; i_180788 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831; i_180788++) {
                        bool index_concat_cmp_180992 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, i_180788);
                        int8_t index_concat_branch_180996 = btoi_bool_i8(index_concat_cmp_180992);
                        int64_t index_concat_branch_180990;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180987 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t index_primexp_181014 = add64(index_concat_branch_178403, index_concat_i_180987);
                            
                            index_concat_branch_180990 = index_primexp_181014;
                        } else {
                            int64_t index_primexp_181016 = add64(index_concat_branch_178409, i_180788);
                            
                            index_concat_branch_180990 = index_primexp_181016;
                        }
                        
                        float index_concat_branch_180984;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180981 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t slice_181011 = slice_178384 + index_concat_i_180981;
                            float index_concat_180982 = ((float *) b_list_mem_181033.mem)[slice_181011];
                            
                            index_concat_branch_180984 = index_concat_180982;
                        } else {
                            int64_t slice_181012 = slice_178385 + i_180788;
                            float index_concat_180983 = ((float *) a_list_mem_181032.mem)[slice_181012];
                            
                            index_concat_branch_180984 = index_concat_180983;
                        }
                        
                        bool eq_x_y_181027 = redout_180785 == (int8_t) 1;
                        bool eq_x_zz_181028 = redout_180785 == (int8_t) 0;
                        bool p_and_eq_x_y_181029 = index_concat_cmp_180992 && eq_x_y_181027;
                        bool not_p_181030 = !index_concat_cmp_180992;
                        bool p_and_eq_x_y_181031 = eq_x_zz_181028 && not_p_181030;
                        bool cond_176918 = p_and_eq_x_y_181029 || p_and_eq_x_y_181031;
                        bool defunc_0_leq_res_t_res_176919 = sle64(redout_180786, index_concat_branch_180990);
                        bool defunc_0_leq_res_176920 = redout_180787 <= index_concat_branch_180984;
                        bool x_176921 = cond_176918 && defunc_0_leq_res_t_res_176919;
                        bool x_176922 = !cond_176918;
                        bool y_176923 = defunc_0_leq_res_176920 && x_176922;
                        bool defunc_0_leq_res_176924 = x_176921 || y_176923;
                        int8_t defunc_0_op_res_176925;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176925 = index_concat_branch_180996;
                        } else {
                            defunc_0_op_res_176925 = redout_180785;
                        }
                        
                        int64_t defunc_0_op_res_176926;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176926 = index_concat_branch_180990;
                        } else {
                            defunc_0_op_res_176926 = redout_180786;
                        }
                        
                        float defunc_0_op_res_176927;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176927 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_176927 = redout_180787;
                        }
                        
                        int8_t redout_tmp_182585 = defunc_0_op_res_176925;
                        int64_t redout_tmp_182586 = defunc_0_op_res_176926;
                        float redout_tmp_182587 = defunc_0_op_res_176927;
                        
                        redout_180785 = redout_tmp_182585;
                        redout_180786 = redout_tmp_182586;
                        redout_180787 = redout_tmp_182587;
                    }
                    x_182241 = redout_180785;
                    x_182242 = redout_180786;
                    x_182243 = redout_180787;
                    defunc_0_reduce_res_180439 = x_182241;
                    defunc_0_reduce_res_180440 = x_182242;
                    defunc_0_reduce_res_180441 = x_182243;
                } else {
                    defunc_0_reduce_res_180439 = (int8_t) 0;
                    defunc_0_reduce_res_180440 = (int64_t) 0;
                    defunc_0_reduce_res_180441 = 0.0F;
                }
                
                int64_t distance_176939 = add64((int64_t) 1, tmp_176937);
                int64_t binop_x_181091 = (int64_t) 8 * smallest_pow_2_geq_than_res_176884;
                int64_t bytes_181092 = block_sizze_176894 * binop_x_181091;
                int64_t binop_x_181094 = (int64_t) 4 * smallest_pow_2_geq_than_res_176884;
                int64_t bytes_181095 = block_sizze_176894 * binop_x_181094;
                int64_t bytes_181110 = (int64_t) 8 * block_sizze_176894;
                int64_t bytes_181112 = (int64_t) 4 * block_sizze_176894;
                bool loop_cond_177048 = slt64(block_sizze_176894, flat_dim_176895);
                bool zzero_177049 = merge_block_sizze_176900 == (int64_t) 0;
                bool nonzzero_177050 = !zzero_177049;
                
                if (cond_176878) {
                    if (memblock_set(ctx, &ext_mem_181383, &mem_181084, "mem_181084") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &mem_181086, "mem_181086") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &mem_181088, "mem_181088") != 0)
                        return 1;
                } else {
                    if (mem_181090_cached_sizze_182830 < flat_dim_176895) {
                        err = lexical_realloc(ctx, &mem_181090, &mem_181090_cached_sizze_182830, flat_dim_176895);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181093_cached_sizze_182831 < bytes_181092) {
                        err = lexical_realloc(ctx, &mem_181093, &mem_181093_cached_sizze_182831, bytes_181092);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181096_cached_sizze_182832 < bytes_181095) {
                        err = lexical_realloc(ctx, &mem_181096, &mem_181096_cached_sizze_182832, bytes_181095);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181109_cached_sizze_182833 < block_sizze_176894) {
                        err = lexical_realloc(ctx, &mem_181109, &mem_181109_cached_sizze_182833, block_sizze_176894);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181111_cached_sizze_182834 < bytes_181110) {
                        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_182834, bytes_181110);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182835 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182835, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180805 = 0; i_180805 < smallest_pow_2_geq_than_res_176884; i_180805++) {
                        int64_t zp_lhs_176947 = mul64(block_sizze_176894, i_180805);
                        
                        for (int64_t i_180795 = 0; i_180795 < block_sizze_176894; i_180795++) {
                            int64_t k_176952 = add64(zp_lhs_176947, i_180795);
                            bool cond_176953 = slt64(k_176952, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                            int8_t lifted_lambda_res_176954;
                            int64_t lifted_lambda_res_176955;
                            float lifted_lambda_res_176956;
                            
                            if (cond_176953) {
                                bool x_180214 = sle64((int64_t) 0, k_176952);
                                bool bounds_check_180215 = cond_176953 && x_180214;
                                bool index_certs_180216;
                                
                                if (!bounds_check_180215) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176952, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180217 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, k_176952);
                                int8_t index_concat_branch_180218 = btoi_bool_i8(index_concat_cmp_180217);
                                int64_t index_concat_branch_180219;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180220 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t index_primexp_180221 = add64(index_concat_branch_178403, index_concat_i_180220);
                                    
                                    index_concat_branch_180219 = index_primexp_180221;
                                } else {
                                    int64_t index_primexp_180222 = add64(k_176952, index_concat_branch_178409);
                                    
                                    index_concat_branch_180219 = index_primexp_180222;
                                }
                                
                                float index_concat_branch_180223;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180224 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t slice_180225 = slice_178384 + index_concat_i_180224;
                                    float index_concat_180226 = ((float *) b_list_mem_181033.mem)[slice_180225];
                                    
                                    index_concat_branch_180223 = index_concat_180226;
                                } else {
                                    int64_t slice_180227 = k_176952 + slice_178385;
                                    float index_concat_180228 = ((float *) a_list_mem_181032.mem)[slice_180227];
                                    
                                    index_concat_branch_180223 = index_concat_180228;
                                }
                                lifted_lambda_res_176954 = index_concat_branch_180218;
                                lifted_lambda_res_176955 = index_concat_branch_180219;
                                lifted_lambda_res_176956 = index_concat_branch_180223;
                            } else {
                                lifted_lambda_res_176954 = defunc_0_reduce_res_180439;
                                lifted_lambda_res_176955 = defunc_0_reduce_res_180440;
                                lifted_lambda_res_176956 = defunc_0_reduce_res_180441;
                            }
                            ((int8_t *) mem_181109)[i_180795] = lifted_lambda_res_176954;
                            ((int64_t *) mem_181111)[i_180795] = lifted_lambda_res_176955;
                            ((float *) mem_181113)[i_180795] = lifted_lambda_res_176956;
                        }
                        if (!cond_176936) {
                            for (int64_t i_176969 = 0; i_176969 < distance_176939; i_176969++) {
                                int64_t gt_arg1_176973 = add64((int64_t) 1, i_176969);
                                bool x_176974 = sle64((int64_t) 0, gt_arg1_176973);
                                bool y_176975 = slt64(gt_arg1_176973, block_sizze_176894);
                                bool bounds_check_176976 = x_176974 && y_176975;
                                bool index_certs_176977;
                                
                                if (!bounds_check_176976) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176973, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176981 = slt64(i_176969, block_sizze_176894);
                                bool index_certs_176982;
                                
                                if (!y_176981) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176969, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176978 = ((int8_t *) mem_181109)[gt_arg1_176973];
                                int64_t gt_arg1_176979 = ((int64_t *) mem_181111)[gt_arg1_176973];
                                float gt_arg1_176980 = ((float *) mem_181113)[gt_arg1_176973];
                                int8_t gt_arg0_176983 = ((int8_t *) mem_181109)[i_176969];
                                int64_t gt_arg0_176984 = ((int64_t *) mem_181111)[i_176969];
                                float gt_arg0_176985 = ((float *) mem_181113)[i_176969];
                                bool cond_176986 = gt_arg0_176983 == gt_arg1_176978;
                                bool defunc_0_leq_res_t_res_176987 = sle64(gt_arg0_176984, gt_arg1_176979);
                                bool defunc_0_leq_res_176988 = gt_arg0_176985 <= gt_arg1_176980;
                                bool x_176989 = cond_176986 && defunc_0_leq_res_t_res_176987;
                                bool x_176990 = !cond_176986;
                                bool y_176991 = defunc_0_leq_res_176988 && x_176990;
                                bool defunc_0_leq_res_176992 = x_176989 || y_176991;
                                bool defunc_0_lifted_gt_res_176993 = !defunc_0_leq_res_176992;
                                bool s_176994;
                                int64_t s_176998;
                                bool loop_while_176999;
                                int64_t j_177003;
                                
                                loop_while_176999 = defunc_0_lifted_gt_res_176993;
                                j_177003 = i_176969;
                                while (loop_while_176999) {
                                    bool x_177004 = sle64((int64_t) 0, j_177003);
                                    bool y_177005 = slt64(j_177003, block_sizze_176894);
                                    bool bounds_check_177006 = x_177004 && y_177005;
                                    bool index_certs_177007;
                                    
                                    if (!bounds_check_177006) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177003, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177011 = add64((int64_t) 1, j_177003);
                                    bool x_177012 = sle64((int64_t) 0, copy_arg0_177011);
                                    bool y_177013 = slt64(copy_arg0_177011, block_sizze_176894);
                                    bool bounds_check_177014 = x_177012 && y_177013;
                                    bool index_certs_177015;
                                    
                                    if (!bounds_check_177014) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177011, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177008 = ((int8_t *) mem_181109)[j_177003];
                                    int64_t copy_arg0_177009 = ((int64_t *) mem_181111)[j_177003];
                                    float copy_arg0_177010 = ((float *) mem_181113)[j_177003];
                                    int8_t copy_arg0_177016 = ((int8_t *) mem_181109)[copy_arg0_177011];
                                    int64_t copy_arg0_177017 = ((int64_t *) mem_181111)[copy_arg0_177011];
                                    float copy_arg0_177018 = ((float *) mem_181113)[copy_arg0_177011];
                                    
                                    ((int8_t *) mem_181109)[j_177003] = copy_arg0_177016;
                                    ((int64_t *) mem_181111)[j_177003] = copy_arg0_177017;
                                    ((float *) mem_181113)[j_177003] = copy_arg0_177018;
                                    ((int8_t *) mem_181109)[copy_arg0_177011] = copy_arg0_177008;
                                    ((int64_t *) mem_181111)[copy_arg0_177011] = copy_arg0_177009;
                                    ((float *) mem_181113)[copy_arg0_177011] = copy_arg0_177010;
                                    
                                    int64_t tmp_177025 = sub64(j_177003, (int64_t) 1);
                                    bool cond_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool loop_cond_177027;
                                    
                                    if (cond_177026) {
                                        bool y_180232 = slt64(tmp_177025, block_sizze_176894);
                                        bool bounds_check_180233 = cond_177026 && y_180232;
                                        bool index_certs_180234;
                                        
                                        if (!bounds_check_180233) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180229 = ((int8_t *) mem_181109)[j_177003];
                                        int64_t gt_arg1_180230 = ((int64_t *) mem_181111)[j_177003];
                                        float gt_arg1_180231 = ((float *) mem_181113)[j_177003];
                                        int8_t gt_arg0_180235 = ((int8_t *) mem_181109)[tmp_177025];
                                        int64_t gt_arg0_180236 = ((int64_t *) mem_181111)[tmp_177025];
                                        float gt_arg0_180237 = ((float *) mem_181113)[tmp_177025];
                                        bool cond_180238 = gt_arg0_180235 == gt_arg1_180229;
                                        bool defunc_0_leq_res_t_res_180239 = sle64(gt_arg0_180236, gt_arg1_180230);
                                        bool defunc_0_leq_res_180240 = gt_arg0_180237 <= gt_arg1_180231;
                                        bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                        bool x_180242 = !cond_180238;
                                        bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                        bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                        bool defunc_0_lifted_gt_res_180245 = !defunc_0_leq_res_180244;
                                        
                                        loop_cond_177027 = defunc_0_lifted_gt_res_180245;
                                    } else {
                                        loop_cond_177027 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182597 = loop_cond_177027;
                                    int64_t j_tmp_182601 = tmp_177025;
                                    
                                    loop_while_176999 = loop_while_tmp_182597;
                                    j_177003 = j_tmp_182601;
                                }
                                s_176994 = loop_while_176999;
                                s_176998 = j_177003;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181090, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181109, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181093, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181111, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181096, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181113, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                    }
                    if (memblock_alloc(ctx, &mem_181190, flat_dim_176895, "mem_181190")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181190.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint8_t *) mem_181090, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181194, bytes_181092, "mem_181194")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181194.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint64_t *) mem_181093, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181198, bytes_181095, "mem_181198")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181198.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint32_t *) mem_181096, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    
                    int64_t data_177051;
                    bool data_177052;
                    int64_t data_177056;
                    int64_t loop_dz2084Uz2082U_177057;
                    bool loop_while_177058;
                    int64_t stride_177062;
                    
                    if (memblock_set(ctx, &mem_param_181202, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181205, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181208, &mem_181198, "mem_181198") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177057 = flat_dim_176895;
                    loop_while_177058 = loop_cond_177048;
                    stride_177062 = block_sizze_176894;
                    while (loop_while_177058) {
                        int64_t next_stride_177063 = mul64((int64_t) 2, stride_177062);
                        bool zzero_177064 = next_stride_177063 == (int64_t) 0;
                        bool nonzzero_177065 = !zzero_177064;
                        bool nonzzero_cert_177066;
                        
                        if (!nonzzero_177065) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177067 = sdiv64(flat_dim_176895, next_stride_177063);
                        bool bounds_invalid_upwards_177068 = slt64(num_merges_177067, (int64_t) 0);
                        bool valid_177069 = !bounds_invalid_upwards_177068;
                        bool range_valid_c_177070;
                        
                        if (!valid_177069) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177067, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177072 = sub64(next_stride_177063, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, m_177072);
                        bool cond_177075 = slt64(next_stride_177063, (int64_t) 10);
                        bool protect_assert_disj_177076 = nonzzero_177050 || cond_177075;
                        bool nonzzero_cert_177077;
                        
                        if (!protect_assert_disj_177076) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177078 = smod_safe64(next_stride_177063, merge_block_sizze_176900);
                        bool num_blocks_177079 = zeze_lhs_177078 == (int64_t) 0;
                        bool protect_assert_disj_177080 = cond_177075 || num_blocks_177079;
                        bool assert_c_177081;
                        
                        if (!protect_assert_disj_177080) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177083 = sdiv_safe64(next_stride_177063, merge_block_sizze_176900);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084 = add64((int64_t) 1, num_blocks_177083);
                        int64_t j_m_i_177085 = sub64(next_stride_177063, stride_177062);
                        int64_t flat_dim_177086 = merge_block_sizze_176900 * num_blocks_177083;
                        bool bounds_invalid_upwards_177087 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, (int64_t) 0);
                        bool empty_slice_177088 = j_m_i_177085 == (int64_t) 0;
                        int64_t m_177089 = sub64(j_m_i_177085, (int64_t) 1);
                        bool zzero_lte_i_177090 = sle64((int64_t) 0, stride_177062);
                        bool i_lte_j_177091 = sle64(stride_177062, next_stride_177063);
                        bool empty_slice_177092 = stride_177062 == (int64_t) 0;
                        int64_t m_177093 = sub64(stride_177062, (int64_t) 1);
                        bool bounds_invalid_upwards_177094 = slt64(num_blocks_177083, (int64_t) 0);
                        bool cond_177095 = slt64((int64_t) 0, stride_177062);
                        bool valid_177096 = !bounds_invalid_upwards_177087;
                        int64_t i_p_m_t_s_177097 = add64(stride_177062, m_177089);
                        bool zzero_leq_i_p_m_t_s_177098 = sle64((int64_t) 0, m_177093);
                        bool i_p_m_t_s_leq_w_177099 = slt64(m_177093, next_stride_177063);
                        bool valid_177100 = !bounds_invalid_upwards_177094;
                        bool i_p_m_t_s_leq_w_177101 = slt64(m_177072, flat_dim_177086);
                        bool y_177102 = slt64((int64_t) 0, j_m_i_177085);
                        bool protect_assert_disj_177103 = cond_177075 || valid_177096;
                        bool range_valid_c_177104;
                        
                        if (!protect_assert_disj_177103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177105 = sle64((int64_t) 0, i_p_m_t_s_177097);
                        bool i_p_m_t_s_leq_w_177106 = slt64(i_p_m_t_s_177097, next_stride_177063);
                        bool y_177107 = zzero_leq_i_p_m_t_s_177098 && i_p_m_t_s_leq_w_177099;
                        bool protect_assert_disj_177108 = cond_177075 || valid_177100;
                        bool range_valid_c_177109;
                        
                        if (!protect_assert_disj_177108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177083, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177110 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177101;
                        bool y_177111 = zzero_lte_i_177090 && i_p_m_t_s_leq_w_177106;
                        bool forwards_ok_177112 = zzero_lte_i_177090 && y_177107;
                        bool ok_or_empty_177113 = zzero_177064 || y_177110;
                        bool protect_assert_disj_177114 = cond_177095 || y_177102;
                        bool y_177115 = zzero_leq_i_p_m_t_s_177105 && y_177111;
                        bool ok_or_empty_177116 = empty_slice_177092 || forwards_ok_177112;
                        bool protect_assert_disj_177117 = cond_177075 || ok_or_empty_177113;
                        bool index_certs_177118;
                        
                        if (!protect_assert_disj_177117) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) flat_dim_177086, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177119 = !cond_177075;
                        bool protect_assert_disj_177120 = protect_assert_disj_177114 || loop_not_taken_177119;
                        bool index_certs_177121;
                        
                        if (!protect_assert_disj_177120) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177122 = i_lte_j_177091 && y_177115;
                        bool protect_assert_disj_177123 = cond_177075 || ok_or_empty_177116;
                        bool index_certs_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177125 = ok_or_empty_177116 || loop_not_taken_177119;
                        bool index_certs_177126;
                        
                        if (!protect_assert_disj_177125) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177127 = empty_slice_177088 || forwards_ok_177122;
                        bool protect_assert_disj_177128 = cond_177075 || ok_or_empty_177127;
                        bool index_certs_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177130 = loop_not_taken_177119 || ok_or_empty_177127;
                        bool index_certs_177131;
                        
                        if (!protect_assert_disj_177130) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181209 = next_stride_177063 * num_merges_177067;
                        int64_t binop_x_181211 = (int64_t) 8 * num_merges_177067;
                        int64_t bytes_181212 = next_stride_177063 * binop_x_181211;
                        int64_t binop_x_181214 = (int64_t) 4 * num_merges_177067;
                        int64_t bytes_181215 = next_stride_177063 * binop_x_181214;
                        bool i_lte_j_177074 = sle64((int64_t) 0, next_stride_177063);
                        
                        if (mem_181210_cached_sizze_182836 < bytes_181209) {
                            err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_182836, bytes_181209);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181213_cached_sizze_182837 < bytes_181212) {
                            err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_182837, bytes_181212);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181216_cached_sizze_182838 < bytes_181215) {
                            err = lexical_realloc(ctx, &mem_181216, &mem_181216_cached_sizze_182838, bytes_181215);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181229 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084;
                        int64_t binop_x_181247 = (int64_t) 8 * num_blocks_177083;
                        int64_t bytes_181248 = merge_block_sizze_176900 * binop_x_181247;
                        int64_t binop_x_181250 = (int64_t) 4 * num_blocks_177083;
                        int64_t bytes_181251 = merge_block_sizze_176900 * binop_x_181250;
                        int64_t bytes_181312 = (int64_t) 16 * stride_177062;
                        int64_t bytes_181314 = (int64_t) 8 * stride_177062;
                        
                        for (int64_t i_180832 = 0; i_180832 < num_merges_177067; i_180832++) {
                            int64_t start_177136 = mul64(next_stride_177063, i_180832);
                            int64_t j_m_i_177137 = sub64(loop_dz2084Uz2082U_177057, start_177136);
                            bool empty_slice_177138 = j_m_i_177137 == (int64_t) 0;
                            int64_t m_177139 = sub64(j_m_i_177137, (int64_t) 1);
                            int64_t i_p_m_t_s_177140 = add64(start_177136, m_177139);
                            bool zzero_leq_i_p_m_t_s_177141 = sle64((int64_t) 0, i_p_m_t_s_177140);
                            bool i_p_m_t_s_leq_w_177142 = slt64(i_p_m_t_s_177140, loop_dz2084Uz2082U_177057);
                            bool zzero_lte_i_177143 = sle64((int64_t) 0, start_177136);
                            bool i_lte_j_177144 = sle64(start_177136, loop_dz2084Uz2082U_177057);
                            bool y_177145 = i_p_m_t_s_leq_w_177142 && zzero_lte_i_177143;
                            bool y_177146 = zzero_leq_i_p_m_t_s_177141 && y_177145;
                            bool forwards_ok_177147 = i_lte_j_177144 && y_177146;
                            bool ok_or_empty_177148 = empty_slice_177138 || forwards_ok_177147;
                            bool index_certs_177149;
                            
                            if (!ok_or_empty_177148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177136, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177057, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177150 = slt64(m_177072, j_m_i_177137);
                            bool y_177151 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177150;
                            bool forwards_ok_177152 = i_lte_j_177074 && y_177151;
                            bool ok_or_empty_177153 = zzero_177064 || forwards_ok_177152;
                            bool index_certs_177154;
                            
                            if (!ok_or_empty_177153) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) j_m_i_177137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177075) {
                                int8_t dummy_180284;
                                int64_t dummy_180285;
                                float dummy_180286;
                                
                                if (cond_177095) {
                                    int8_t head_res_180287 = ((int8_t *) mem_param_181202.mem)[start_177136];
                                    int64_t head_res_180288 = ((int64_t *) mem_param_181205.mem)[start_177136];
                                    float head_res_180289 = ((float *) mem_param_181208.mem)[start_177136];
                                    
                                    dummy_180284 = head_res_180287;
                                    dummy_180285 = head_res_180288;
                                    dummy_180286 = head_res_180289;
                                } else {
                                    int64_t slice_180290 = stride_177062 + start_177136;
                                    int8_t head_res_180291 = ((int8_t *) mem_param_181202.mem)[slice_180290];
                                    int64_t head_res_180292 = ((int64_t *) mem_param_181205.mem)[slice_180290];
                                    float head_res_180293 = ((float *) mem_param_181208.mem)[slice_180290];
                                    
                                    dummy_180284 = head_res_180291;
                                    dummy_180285 = head_res_180292;
                                    dummy_180286 = head_res_180293;
                                }
                                if (memblock_alloc(ctx, &mem_181311, next_stride_177063, "mem_181311")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182614 = 0; nest_i_182614 < next_stride_177063; nest_i_182614++) {
                                    ((int8_t *) mem_181311.mem)[nest_i_182614] = dummy_180284;
                                }
                                if (memblock_alloc(ctx, &mem_181313, bytes_181312, "mem_181313")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182615 = 0; nest_i_182615 < next_stride_177063; nest_i_182615++) {
                                    ((int64_t *) mem_181313.mem)[nest_i_182615] = dummy_180285;
                                }
                                if (memblock_alloc(ctx, &mem_181315, bytes_181314, "mem_181315")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182616 = 0; nest_i_182616 < next_stride_177063; nest_i_182616++) {
                                    ((float *) mem_181315.mem)[nest_i_182616] = dummy_180286;
                                }
                                
                                int64_t data_180297;
                                int64_t i_180302 = (int64_t) 0;
                                
                                for (int64_t k_180301 = 0; k_180301 < next_stride_177063; k_180301++) {
                                    int64_t j_180306 = sub64(k_180301, i_180302);
                                    bool cond_180307 = j_180306 == j_m_i_177085;
                                    bool cond_180308;
                                    
                                    if (cond_180307) {
                                        cond_180308 = 1;
                                    } else {
                                        bool cond_180309 = slt64(i_180302, stride_177062);
                                        bool cond_f_res_180310;
                                        
                                        if (cond_180309) {
                                            bool x_180311 = sle64((int64_t) 0, j_180306);
                                            bool y_180312 = slt64(j_180306, j_m_i_177085);
                                            bool bounds_check_180313 = x_180311 && y_180312;
                                            bool index_certs_180314;
                                            
                                            if (!bounds_check_180313) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180320 = sle64((int64_t) 0, i_180302);
                                            bool bounds_check_180321 = cond_180309 && x_180320;
                                            bool index_certs_180322;
                                            
                                            if (!bounds_check_180321) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180315 = stride_177062 + j_180306;
                                            int64_t slice_180316 = start_177136 + slice_180315;
                                            int8_t leq_arg1_180317 = ((int8_t *) mem_param_181202.mem)[slice_180316];
                                            int64_t leq_arg1_180318 = ((int64_t *) mem_param_181205.mem)[slice_180316];
                                            float leq_arg1_180319 = ((float *) mem_param_181208.mem)[slice_180316];
                                            int64_t slice_180323 = start_177136 + i_180302;
                                            int8_t leq_arg0_180324 = ((int8_t *) mem_param_181202.mem)[slice_180323];
                                            int64_t leq_arg0_180325 = ((int64_t *) mem_param_181205.mem)[slice_180323];
                                            float leq_arg0_180326 = ((float *) mem_param_181208.mem)[slice_180323];
                                            bool cond_180327 = leq_arg0_180324 == leq_arg1_180317;
                                            bool defunc_0_leq_res_t_res_180328 = sle64(leq_arg0_180325, leq_arg1_180318);
                                            bool defunc_0_leq_res_180329 = leq_arg0_180326 <= leq_arg1_180319;
                                            bool x_180330 = cond_180327 && defunc_0_leq_res_t_res_180328;
                                            bool x_180331 = !cond_180327;
                                            bool y_180332 = defunc_0_leq_res_180329 && x_180331;
                                            bool defunc_0_leq_res_180333 = x_180330 || y_180332;
                                            
                                            cond_f_res_180310 = defunc_0_leq_res_180333;
                                        } else {
                                            cond_f_res_180310 = 0;
                                        }
                                        cond_180308 = cond_f_res_180310;
                                    }
                                    
                                    int64_t loopres_180334;
                                    int8_t loopres_180335;
                                    int64_t loopres_180336;
                                    float loopres_180337;
                                    
                                    if (cond_180308) {
                                        bool x_180339 = sle64((int64_t) 0, i_180302);
                                        bool y_180340 = slt64(i_180302, stride_177062);
                                        bool bounds_check_180341 = x_180339 && y_180340;
                                        bool index_certs_180342;
                                        
                                        if (!bounds_check_180341) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180338 = add64((int64_t) 1, i_180302);
                                        int64_t slice_180343 = start_177136 + i_180302;
                                        int8_t tmp_180344 = ((int8_t *) mem_param_181202.mem)[slice_180343];
                                        int64_t tmp_180345 = ((int64_t *) mem_param_181205.mem)[slice_180343];
                                        float tmp_180346 = ((float *) mem_param_181208.mem)[slice_180343];
                                        
                                        loopres_180334 = tmp_180338;
                                        loopres_180335 = tmp_180344;
                                        loopres_180336 = tmp_180345;
                                        loopres_180337 = tmp_180346;
                                    } else {
                                        bool x_180347 = sle64((int64_t) 0, j_180306);
                                        bool y_180348 = slt64(j_180306, j_m_i_177085);
                                        bool bounds_check_180349 = x_180347 && y_180348;
                                        bool index_certs_180350;
                                        
                                        if (!bounds_check_180349) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180351 = stride_177062 + j_180306;
                                        int64_t slice_180352 = start_177136 + slice_180351;
                                        int8_t tmp_180353 = ((int8_t *) mem_param_181202.mem)[slice_180352];
                                        int64_t tmp_180354 = ((int64_t *) mem_param_181205.mem)[slice_180352];
                                        float tmp_180355 = ((float *) mem_param_181208.mem)[slice_180352];
                                        
                                        loopres_180334 = i_180302;
                                        loopres_180335 = tmp_180353;
                                        loopres_180336 = tmp_180354;
                                        loopres_180337 = tmp_180355;
                                    }
                                    ((int8_t *) mem_181311.mem)[k_180301] = loopres_180335;
                                    ((int64_t *) mem_181313.mem)[k_180301] = loopres_180336;
                                    ((float *) mem_181315.mem)[k_180301] = loopres_180337;
                                    
                                    int64_t i_tmp_182617 = loopres_180334;
                                    
                                    i_180302 = i_tmp_182617;
                                }
                                data_180297 = i_180302;
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181311, "mem_181311") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181313, "mem_181313") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181315, "mem_181315") != 0)
                                    return 1;
                            } else {
                                if (mem_181230_cached_sizze_182839 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_182839, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181232_cached_sizze_182840 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181232, &mem_181232_cached_sizze_182840, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180813 = 0; i_180813 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084; i_180813++) {
                                    int64_t split_count_arg3_177237 = mul64(merge_block_sizze_176900, i_180813);
                                    int64_t defunc_0_split_count_res_177238;
                                    int64_t defunc_0_split_count_res_177239;
                                    int64_t defunc_0_split_count_res_177240;
                                    int64_t defunc_0_split_count_res_177241;
                                    int64_t defunc_0_split_count_res_177242;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177238, &defunc_0_split_count_res_177239, &defunc_0_split_count_res_177240, &defunc_0_split_count_res_177241, &defunc_0_split_count_res_177242, (int64_t) 0, stride_177062, (int64_t) 0, j_m_i_177085, split_count_arg3_177237) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177243 = slt64((int64_t) 0, defunc_0_split_count_res_177242);
                                    bool defunc_0_split_count_res_177244;
                                    int64_t defunc_0_split_count_res_177245;
                                    int64_t defunc_0_split_count_res_177246;
                                    int64_t defunc_0_split_count_res_177247;
                                    int64_t defunc_0_split_count_res_177248;
                                    int64_t defunc_0_split_count_res_177249;
                                    bool loop_while_177250;
                                    int64_t ss_177251;
                                    int64_t ss_177252;
                                    int64_t tt_177253;
                                    int64_t tt_177254;
                                    int64_t count_177255;
                                    
                                    loop_while_177250 = loop_cond_177243;
                                    ss_177251 = defunc_0_split_count_res_177238;
                                    ss_177252 = defunc_0_split_count_res_177239;
                                    tt_177253 = defunc_0_split_count_res_177240;
                                    tt_177254 = defunc_0_split_count_res_177241;
                                    count_177255 = defunc_0_split_count_res_177242;
                                    while (loop_while_177250) {
                                        int64_t zlze_lhs_177256 = sub64(ss_177252, ss_177251);
                                        bool cond_177257 = sle64(zlze_lhs_177256, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177258;
                                        int64_t defunc_0_lifted_step_res_177259;
                                        int64_t defunc_0_lifted_step_res_177260;
                                        int64_t defunc_0_lifted_step_res_177261;
                                        
                                        if (cond_177257) {
                                            int64_t tmp_180359 = add64(tt_177253, count_177255);
                                            
                                            defunc_0_lifted_step_res_177258 = ss_177251;
                                            defunc_0_lifted_step_res_177259 = tmp_180359;
                                            defunc_0_lifted_step_res_177260 = tt_177254;
                                            defunc_0_lifted_step_res_177261 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177263 = sub64(tt_177254, tt_177253);
                                            bool cond_177264 = sle64(zlze_lhs_177263, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177265;
                                            int64_t defunc_0_lifted_step_res_f_res_177266;
                                            int64_t defunc_0_lifted_step_res_f_res_177267;
                                            int64_t defunc_0_lifted_step_res_f_res_177268;
                                            
                                            if (cond_177264) {
                                                int64_t tmp_180360 = add64(ss_177251, count_177255);
                                                
                                                defunc_0_lifted_step_res_f_res_177265 = tmp_180360;
                                                defunc_0_lifted_step_res_f_res_177266 = tt_177253;
                                                defunc_0_lifted_step_res_f_res_177267 = tt_177254;
                                                defunc_0_lifted_step_res_f_res_177268 = (int64_t) 0;
                                            } else {
                                                bool cond_177270 = count_177255 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177271;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177272;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177273;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177274;
                                                
                                                if (cond_177270) {
                                                    bool x_180362 = sle64((int64_t) 0, ss_177251);
                                                    bool y_180363 = slt64(ss_177251, stride_177062);
                                                    bool bounds_check_180364 = x_180362 && y_180363;
                                                    bool index_certs_180365;
                                                    
                                                    if (!bounds_check_180364) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177251, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180370 = sle64((int64_t) 0, tt_177253);
                                                    bool y_180371 = slt64(tt_177253, j_m_i_177085);
                                                    bool bounds_check_180372 = x_180370 && y_180371;
                                                    bool index_certs_180373;
                                                    
                                                    if (!bounds_check_180372) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177253, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180366 = start_177136 + ss_177251;
                                                    int8_t leq_arg1_180367 = ((int8_t *) mem_param_181202.mem)[slice_180366];
                                                    int64_t leq_arg1_180368 = ((int64_t *) mem_param_181205.mem)[slice_180366];
                                                    float leq_arg1_180369 = ((float *) mem_param_181208.mem)[slice_180366];
                                                    int64_t slice_180374 = stride_177062 + tt_177253;
                                                    int64_t slice_180375 = start_177136 + slice_180374;
                                                    int8_t leq_arg0_180376 = ((int8_t *) mem_param_181202.mem)[slice_180375];
                                                    int64_t leq_arg0_180377 = ((int64_t *) mem_param_181205.mem)[slice_180375];
                                                    float leq_arg0_180378 = ((float *) mem_param_181208.mem)[slice_180375];
                                                    bool cond_180379 = leq_arg0_180376 == leq_arg1_180367;
                                                    bool defunc_0_leq_res_t_res_180380 = sle64(leq_arg0_180377, leq_arg1_180368);
                                                    bool defunc_0_leq_res_180381 = leq_arg0_180378 <= leq_arg1_180369;
                                                    bool x_180382 = cond_180379 && defunc_0_leq_res_t_res_180380;
                                                    bool x_180383 = !cond_180379;
                                                    bool y_180384 = defunc_0_leq_res_180381 && x_180383;
                                                    bool defunc_0_leq_res_180385 = x_180382 || y_180384;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    
                                                    if (defunc_0_leq_res_180385) {
                                                        int64_t tmp_180388 = add64((int64_t) 1, tt_177253);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = ss_177251;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tmp_180388;
                                                    } else {
                                                        int64_t tmp_180389 = add64((int64_t) 1, ss_177251);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = tmp_180389;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tt_177253;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = tt_177254;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177303 = sdiv64(count_177255, (int64_t) 2);
                                                    int64_t n_177304 = sub64(count_177255, m_177303);
                                                    bool cond_177305 = n_177304 == (int64_t) 0;
                                                    int64_t zgze_lhs_177306 = add64(ss_177251, m_177303);
                                                    bool cond_f_res_177307 = sle64(ss_177252, zgze_lhs_177306);
                                                    bool x_177308 = !cond_177305;
                                                    bool y_177309 = cond_f_res_177307 && x_177308;
                                                    bool cond_177310 = cond_177305 || y_177309;
                                                    bool leq_y_x_177311;
                                                    
                                                    if (cond_177310) {
                                                        leq_y_x_177311 = 1;
                                                    } else {
                                                        bool x_177312 = sle64((int64_t) 0, zgze_lhs_177306);
                                                        bool y_177313 = slt64(zgze_lhs_177306, stride_177062);
                                                        bool bounds_check_177314 = x_177312 && y_177313;
                                                        bool index_certs_177315;
                                                        
                                                        if (!bounds_check_177314) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177306, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177320 = add64(tt_177253, n_177304);
                                                        int64_t leq_arg0_177321 = sub64(zm_lhs_177320, (int64_t) 1);
                                                        bool x_177322 = sle64((int64_t) 0, leq_arg0_177321);
                                                        bool y_177323 = slt64(leq_arg0_177321, j_m_i_177085);
                                                        bool bounds_check_177324 = x_177322 && y_177323;
                                                        bool index_certs_177325;
                                                        
                                                        if (!bounds_check_177324) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177321, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177316 = start_177136 + zgze_lhs_177306;
                                                        int8_t leq_arg1_177317 = ((int8_t *) mem_param_181202.mem)[slice_177316];
                                                        int64_t leq_arg1_177318 = ((int64_t *) mem_param_181205.mem)[slice_177316];
                                                        float leq_arg1_177319 = ((float *) mem_param_181208.mem)[slice_177316];
                                                        int64_t slice_177326 = stride_177062 + leq_arg0_177321;
                                                        int64_t slice_177327 = start_177136 + slice_177326;
                                                        int8_t leq_arg0_177328 = ((int8_t *) mem_param_181202.mem)[slice_177327];
                                                        int64_t leq_arg0_177329 = ((int64_t *) mem_param_181205.mem)[slice_177327];
                                                        float leq_arg0_177330 = ((float *) mem_param_181208.mem)[slice_177327];
                                                        bool cond_177331 = leq_arg0_177328 == leq_arg1_177317;
                                                        bool defunc_0_leq_res_t_res_177332 = sle64(leq_arg0_177329, leq_arg1_177318);
                                                        bool defunc_0_leq_res_177333 = leq_arg0_177330 <= leq_arg1_177319;
                                                        bool x_177334 = cond_177331 && defunc_0_leq_res_t_res_177332;
                                                        bool x_177335 = !cond_177331;
                                                        bool y_177336 = defunc_0_leq_res_177333 && x_177335;
                                                        bool defunc_0_leq_res_177337 = x_177334 || y_177336;
                                                        
                                                        leq_y_x_177311 = defunc_0_leq_res_177337;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                    
                                                    if (leq_y_x_177311) {
                                                        int64_t tmp_180390 = add64(tt_177253, n_177304);
                                                        int64_t tmp_180391 = sub64(count_177255, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tmp_180390;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tt_177254;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = tmp_180391;
                                                    } else {
                                                        int64_t tmp_177343 = add64(tt_177253, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tt_177253;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tmp_177343;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = count_177255;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = ss_177251;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                }
                                                defunc_0_lifted_step_res_f_res_177265 = defunc_0_lifted_step_res_f_res_f_res_177271;
                                                defunc_0_lifted_step_res_f_res_177266 = defunc_0_lifted_step_res_f_res_f_res_177272;
                                                defunc_0_lifted_step_res_f_res_177267 = defunc_0_lifted_step_res_f_res_f_res_177273;
                                                defunc_0_lifted_step_res_f_res_177268 = defunc_0_lifted_step_res_f_res_f_res_177274;
                                            }
                                            defunc_0_lifted_step_res_177258 = defunc_0_lifted_step_res_f_res_177265;
                                            defunc_0_lifted_step_res_177259 = defunc_0_lifted_step_res_f_res_177266;
                                            defunc_0_lifted_step_res_177260 = defunc_0_lifted_step_res_f_res_177267;
                                            defunc_0_lifted_step_res_177261 = defunc_0_lifted_step_res_f_res_177268;
                                        }
                                        
                                        int64_t loopres_177344;
                                        int64_t loopres_177345;
                                        int64_t loopres_177346;
                                        int64_t loopres_177347;
                                        int64_t loopres_177348;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_177344, &loopres_177345, &loopres_177346, &loopres_177347, &loopres_177348, defunc_0_lifted_step_res_177258, ss_177252, defunc_0_lifted_step_res_177259, defunc_0_lifted_step_res_177260, defunc_0_lifted_step_res_177261) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177349 = slt64((int64_t) 0, loopres_177348);
                                        bool loop_while_tmp_182623 = loop_cond_177349;
                                        int64_t ss_tmp_182624 = loopres_177344;
                                        int64_t ss_tmp_182625 = loopres_177345;
                                        int64_t tt_tmp_182626 = loopres_177346;
                                        int64_t tt_tmp_182627 = loopres_177347;
                                        int64_t count_tmp_182628 = loopres_177348;
                                        
                                        loop_while_177250 = loop_while_tmp_182623;
                                        ss_177251 = ss_tmp_182624;
                                        ss_177252 = ss_tmp_182625;
                                        tt_177253 = tt_tmp_182626;
                                        tt_177254 = tt_tmp_182627;
                                        count_177255 = count_tmp_182628;
                                    }
                                    defunc_0_split_count_res_177244 = loop_while_177250;
                                    defunc_0_split_count_res_177245 = ss_177251;
                                    defunc_0_split_count_res_177246 = ss_177252;
                                    defunc_0_split_count_res_177247 = tt_177253;
                                    defunc_0_split_count_res_177248 = tt_177254;
                                    defunc_0_split_count_res_177249 = count_177255;
                                    ((int64_t *) mem_181230)[i_180813] = defunc_0_split_count_res_177245;
                                    ((int64_t *) mem_181232)[i_180813] = defunc_0_split_count_res_177247;
                                }
                                if (mem_181246_cached_sizze_182841 < flat_dim_177086) {
                                    err = lexical_realloc(ctx, &mem_181246, &mem_181246_cached_sizze_182841, flat_dim_177086);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181249_cached_sizze_182842 < bytes_181248) {
                                    err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_182842, bytes_181248);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_182843 < bytes_181251) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_182843, bytes_181251);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180822 = 0; i_180822 < num_blocks_177083; i_180822++) {
                                    bool y_177356 = slt64(i_180822, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool index_certs_177358;
                                    
                                    if (!y_177356) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177359 = ((int64_t *) mem_181230)[i_180822];
                                    int64_t defunc_0_f_res_177360 = ((int64_t *) mem_181232)[i_180822];
                                    int64_t tmp_177361 = add64((int64_t) 1, i_180822);
                                    bool x_177362 = sle64((int64_t) 0, tmp_177361);
                                    bool y_177363 = slt64(tmp_177361, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool bounds_check_177364 = x_177362 && y_177363;
                                    bool index_certs_177365;
                                    
                                    if (!bounds_check_177364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177361, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177366 = ((int64_t *) mem_181230)[tmp_177361];
                                    int64_t defunc_0_f_res_177367 = ((int64_t *) mem_181232)[tmp_177361];
                                    int64_t merge_sequential_arg2_177368 = add64(stride_177062, defunc_0_f_res_177360);
                                    int64_t merge_sequential_arg2_177369 = add64(stride_177062, defunc_0_f_res_177367);
                                    int64_t j_m_i_177370 = sub64(merge_sequential_arg2_177369, merge_sequential_arg2_177368);
                                    bool empty_slice_177371 = j_m_i_177370 == (int64_t) 0;
                                    int64_t m_177372 = sub64(j_m_i_177370, (int64_t) 1);
                                    int64_t i_p_m_t_s_177373 = add64(merge_sequential_arg2_177368, m_177372);
                                    bool zzero_leq_i_p_m_t_s_177374 = sle64((int64_t) 0, i_p_m_t_s_177373);
                                    bool i_p_m_t_s_leq_w_177375 = slt64(i_p_m_t_s_177373, next_stride_177063);
                                    bool zzero_lte_i_177376 = sle64((int64_t) 0, merge_sequential_arg2_177368);
                                    bool i_lte_j_177377 = sle64(merge_sequential_arg2_177368, merge_sequential_arg2_177369);
                                    bool y_177378 = i_p_m_t_s_leq_w_177375 && zzero_lte_i_177376;
                                    bool y_177379 = zzero_leq_i_p_m_t_s_177374 && y_177378;
                                    bool forwards_ok_177380 = i_lte_j_177377 && y_177379;
                                    bool ok_or_empty_177381 = empty_slice_177371 || forwards_ok_177380;
                                    bool index_certs_177382;
                                    
                                    if (!ok_or_empty_177381) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177368, ":", (long long) merge_sequential_arg2_177369, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177383 = sub64(defunc_0_f_res_177366, defunc_0_f_res_177359);
                                    bool empty_slice_177384 = j_m_i_177383 == (int64_t) 0;
                                    int64_t m_177385 = sub64(j_m_i_177383, (int64_t) 1);
                                    int64_t i_p_m_t_s_177386 = add64(defunc_0_f_res_177359, m_177385);
                                    bool zzero_leq_i_p_m_t_s_177387 = sle64((int64_t) 0, i_p_m_t_s_177386);
                                    bool i_p_m_t_s_leq_w_177388 = slt64(i_p_m_t_s_177386, next_stride_177063);
                                    bool zzero_lte_i_177389 = sle64((int64_t) 0, defunc_0_f_res_177359);
                                    bool i_lte_j_177390 = sle64(defunc_0_f_res_177359, defunc_0_f_res_177366);
                                    bool y_177391 = i_p_m_t_s_leq_w_177388 && zzero_lte_i_177389;
                                    bool y_177392 = zzero_leq_i_p_m_t_s_177387 && y_177391;
                                    bool forwards_ok_177393 = i_lte_j_177390 && y_177392;
                                    bool ok_or_empty_177394 = empty_slice_177384 || forwards_ok_177393;
                                    bool index_certs_177395;
                                    
                                    if (!ok_or_empty_177394) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177359, ":", (long long) defunc_0_f_res_177366, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177396 = slt64((int64_t) 0, j_m_i_177383);
                                    int8_t dummy_177397;
                                    int64_t dummy_177398;
                                    float dummy_177399;
                                    
                                    if (cond_177396) {
                                        bool index_certs_180392;
                                        
                                        if (!cond_177396) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180393 = start_177136 + defunc_0_f_res_177359;
                                        int8_t head_res_180394 = ((int8_t *) mem_param_181202.mem)[slice_180393];
                                        int64_t head_res_180395 = ((int64_t *) mem_param_181205.mem)[slice_180393];
                                        float head_res_180396 = ((float *) mem_param_181208.mem)[slice_180393];
                                        
                                        dummy_177397 = head_res_180394;
                                        dummy_177398 = head_res_180395;
                                        dummy_177399 = head_res_180396;
                                    } else {
                                        bool y_177405 = slt64((int64_t) 0, j_m_i_177370);
                                        bool index_certs_177406;
                                        
                                        if (!y_177405) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177407 = start_177136 + merge_sequential_arg2_177368;
                                        int8_t head_res_177408 = ((int8_t *) mem_param_181202.mem)[slice_177407];
                                        int64_t head_res_177409 = ((int64_t *) mem_param_181205.mem)[slice_177407];
                                        float head_res_177410 = ((float *) mem_param_181208.mem)[slice_177407];
                                        
                                        dummy_177397 = head_res_177408;
                                        dummy_177398 = head_res_177409;
                                        dummy_177399 = head_res_177410;
                                    }
                                    for (int64_t nest_i_182632 = 0; nest_i_182632 < merge_block_sizze_176900; nest_i_182632++) {
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + nest_i_182632] = dummy_177397;
                                    }
                                    for (int64_t nest_i_182633 = 0; nest_i_182633 < merge_block_sizze_176900; nest_i_182633++) {
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + nest_i_182633] = dummy_177398;
                                    }
                                    for (int64_t nest_i_182634 = 0; nest_i_182634 < merge_block_sizze_176900; nest_i_182634++) {
                                        ((float *) mem_181252)[i_180822 * merge_block_sizze_176900 + nest_i_182634] = dummy_177399;
                                    }
                                    
                                    int64_t data_177414;
                                    int64_t i_177419 = (int64_t) 0;
                                    
                                    for (int64_t k_177418 = 0; k_177418 < merge_block_sizze_176900; k_177418++) {
                                        int64_t j_177423 = sub64(k_177418, i_177419);
                                        bool cond_177424 = j_177423 == j_m_i_177370;
                                        bool cond_177425;
                                        
                                        if (cond_177424) {
                                            cond_177425 = 1;
                                        } else {
                                            bool cond_177426 = slt64(i_177419, j_m_i_177383);
                                            bool cond_f_res_177427;
                                            
                                            if (cond_177426) {
                                                bool x_180397 = sle64((int64_t) 0, j_177423);
                                                bool y_180398 = slt64(j_177423, j_m_i_177370);
                                                bool bounds_check_180399 = x_180397 && y_180398;
                                                bool index_certs_180400;
                                                
                                                if (!bounds_check_180399) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180406 = sle64((int64_t) 0, i_177419);
                                                bool bounds_check_180407 = cond_177426 && x_180406;
                                                bool index_certs_180408;
                                                
                                                if (!bounds_check_180407) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180401 = merge_sequential_arg2_177368 + j_177423;
                                                int64_t slice_180402 = start_177136 + slice_180401;
                                                int8_t leq_arg1_180403 = ((int8_t *) mem_param_181202.mem)[slice_180402];
                                                int64_t leq_arg1_180404 = ((int64_t *) mem_param_181205.mem)[slice_180402];
                                                float leq_arg1_180405 = ((float *) mem_param_181208.mem)[slice_180402];
                                                int64_t slice_180409 = defunc_0_f_res_177359 + i_177419;
                                                int64_t slice_180410 = start_177136 + slice_180409;
                                                int8_t leq_arg0_180411 = ((int8_t *) mem_param_181202.mem)[slice_180410];
                                                int64_t leq_arg0_180412 = ((int64_t *) mem_param_181205.mem)[slice_180410];
                                                float leq_arg0_180413 = ((float *) mem_param_181208.mem)[slice_180410];
                                                bool cond_180414 = leq_arg0_180411 == leq_arg1_180403;
                                                bool defunc_0_leq_res_t_res_180415 = sle64(leq_arg0_180412, leq_arg1_180404);
                                                bool defunc_0_leq_res_180416 = leq_arg0_180413 <= leq_arg1_180405;
                                                bool x_180417 = cond_180414 && defunc_0_leq_res_t_res_180415;
                                                bool x_180418 = !cond_180414;
                                                bool y_180419 = defunc_0_leq_res_180416 && x_180418;
                                                bool defunc_0_leq_res_180420 = x_180417 || y_180419;
                                                
                                                cond_f_res_177427 = defunc_0_leq_res_180420;
                                            } else {
                                                cond_f_res_177427 = 0;
                                            }
                                            cond_177425 = cond_f_res_177427;
                                        }
                                        
                                        int64_t loopres_177452;
                                        int8_t loopres_177453;
                                        int64_t loopres_177454;
                                        float loopres_177455;
                                        
                                        if (cond_177425) {
                                            bool x_180422 = sle64((int64_t) 0, i_177419);
                                            bool y_180423 = slt64(i_177419, j_m_i_177383);
                                            bool bounds_check_180424 = x_180422 && y_180423;
                                            bool index_certs_180425;
                                            
                                            if (!bounds_check_180424) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180421 = add64((int64_t) 1, i_177419);
                                            int64_t slice_180426 = defunc_0_f_res_177359 + i_177419;
                                            int64_t slice_180427 = start_177136 + slice_180426;
                                            int8_t tmp_180428 = ((int8_t *) mem_param_181202.mem)[slice_180427];
                                            int64_t tmp_180429 = ((int64_t *) mem_param_181205.mem)[slice_180427];
                                            float tmp_180430 = ((float *) mem_param_181208.mem)[slice_180427];
                                            
                                            loopres_177452 = tmp_180421;
                                            loopres_177453 = tmp_180428;
                                            loopres_177454 = tmp_180429;
                                            loopres_177455 = tmp_180430;
                                        } else {
                                            bool x_177466 = sle64((int64_t) 0, j_177423);
                                            bool y_177467 = slt64(j_177423, j_m_i_177370);
                                            bool bounds_check_177468 = x_177466 && y_177467;
                                            bool index_certs_177469;
                                            
                                            if (!bounds_check_177468) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177470 = merge_sequential_arg2_177368 + j_177423;
                                            int64_t slice_177471 = start_177136 + slice_177470;
                                            int8_t tmp_177472 = ((int8_t *) mem_param_181202.mem)[slice_177471];
                                            int64_t tmp_177473 = ((int64_t *) mem_param_181205.mem)[slice_177471];
                                            float tmp_177474 = ((float *) mem_param_181208.mem)[slice_177471];
                                            
                                            loopres_177452 = i_177419;
                                            loopres_177453 = tmp_177472;
                                            loopres_177454 = tmp_177473;
                                            loopres_177455 = tmp_177474;
                                        }
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177453;
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177454;
                                        ((float *) mem_181252)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177455;
                                        
                                        int64_t i_tmp_182635 = loopres_177452;
                                        
                                        i_177419 = i_tmp_182635;
                                    }
                                    data_177414 = i_177419;
                                }
                                if (memblock_alloc(ctx, &mem_181301, flat_dim_177086, "mem_181301")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181301.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint8_t *) mem_181246, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181305, bytes_181248, "mem_181305")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181305.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint64_t *) mem_181249, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181309, bytes_181251, "mem_181309")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181309.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint32_t *) mem_181252, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181301, "mem_181301") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181305, "mem_181305") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181309, "mem_181309") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181210, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181342.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181213, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181339.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181216, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181336.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181356, bytes_181209, "mem_181356")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181356.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181360, bytes_181212, "mem_181360")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181360.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint64_t *) mem_181213, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181364, bytes_181215, "mem_181364")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181364.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint32_t *) mem_181216, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        
                        bool loop_cond_177488 = slt64(next_stride_177063, flat_dim_176895);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182602, &mem_181356, "mem_181356") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182603, &mem_181360, "mem_181360") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182604, &mem_181364, "mem_181364") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182605 = bytes_181209;
                        bool loop_while_tmp_182606 = loop_cond_177488;
                        int64_t stride_tmp_182610 = next_stride_177063;
                        
                        if (memblock_set(ctx, &mem_param_181202, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181205, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181208, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177057 = loop_dz2084Uz2082U_tmp_182605;
                        loop_while_177058 = loop_while_tmp_182606;
                        stride_177062 = stride_tmp_182610;
                    }
                    if (memblock_set(ctx, &ext_mem_181374, &mem_param_181202, "mem_param_181202") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181373, &mem_param_181205, "mem_param_181205") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181372, &mem_param_181208, "mem_param_181208") != 0)
                        return 1;
                    data_177051 = loop_dz2084Uz2082U_177057;
                    data_177052 = loop_while_177058;
                    data_177056 = stride_177062;
                    if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
                        return 1;
                    
                    bool empty_slice_177489 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177490 = sle64((int64_t) 0, zs_lhs_176879);
                    bool i_p_m_t_s_leq_w_177491 = slt64(zs_lhs_176879, data_177051);
                    bool y_177492 = zzero_leq_i_p_m_t_s_177490 && i_p_m_t_s_leq_w_177491;
                    bool ok_or_empty_177493 = empty_slice_177489 || y_177492;
                    bool index_certs_177494;
                    
                    if (!ok_or_empty_177493) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] out of bounds for array of shape [", (long long) data_177051, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181383, &ext_mem_181374, "ext_mem_181374") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &ext_mem_181373, "ext_mem_181373") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &ext_mem_181372, "ext_mem_181372") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181064.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181383.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181066.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181380.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181068.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181377.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
                    return 1;
                
                bool loop_cond_177530 = slt64(ubs_176822, threads_152756);
                bool loop_while_tmp_182569 = loop_cond_177530;
                int64_t p_tmp_182570 = ubs_176822;
                
                loop_while_176811 = loop_while_tmp_182569;
                p_176812 = p_tmp_182570;
            }
            defunc_0_mergeFunc_seq_res_176806 = loop_while_176811;
            defunc_0_mergeFunc_seq_res_176807 = p_176812;
            
            int64_t index_concat_branch_178347;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180445 = ((int64_t *) mem_181049)[index_concat_i_178344];
                
                index_concat_branch_178347 = index_concat_180445;
            } else {
                index_concat_branch_178347 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178341;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180446 = ((int64_t *) mem_181051)[index_concat_i_178344];
                
                index_concat_branch_178341 = index_concat_180446;
            } else {
                index_concat_branch_178341 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181064, "mem_181064") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181066, "mem_181066") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181068, "mem_181068") != 0)
                return 1;
            loopres_175570 = index_concat_branch_178347;
            loopres_175571 = index_concat_branch_178341;
        }
        for (int64_t i_180838 = 0; i_180838 < window_sizze_152755; i_180838++) {
            int8_t eta_p_177538 = ((int8_t *) ext_mem_181802.mem)[i_180838];
            int64_t eta_p_177539 = ((int64_t *) ext_mem_181799.mem)[i_180838];
            bool cond_177540 = eta_p_177538 == (int8_t) 0;
            int64_t tmp_177541;
            
            if (cond_177540) {
                int64_t tmp_t_res_180449 = add64(p_175542, eta_p_177539);
                
                tmp_177541 = tmp_t_res_180449;
            } else {
                int64_t tmp_f_res_177543 = add64(p_175543, eta_p_177539);
                
                tmp_177541 = tmp_f_res_177543;
            }
            ((int64_t *) mem_181036.mem)[ind_bottom_175546 + i_180838] = tmp_177541;
        }
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        
        int64_t next_lbs_177544 = add64(p_175542, loopres_175570);
        int64_t next_lbs_177545 = add64(p_175543, loopres_175571);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181802.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152755});
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181038.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181796.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_152755});
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        
        bool cond_177559 = slt64(next_lbs_177544, zl_rhs_175525);
        bool loop_cond_t_res_177560 = slt64(next_lbs_177545, zl_rhs_175527);
        bool x_177561 = cond_177559 && loop_cond_t_res_177560;
        bool loop_while_tmp_182453 = x_177561;
        int64_t p_tmp_182457 = next_lbs_177544;
        int64_t p_tmp_182458 = next_lbs_177545;
        
        loop_while_175538 = loop_while_tmp_182453;
        p_175542 = p_tmp_182457;
        p_175543 = p_tmp_182458;
    }
    defunc_0_merge_pipeline_res_175532 = loop_while_175538;
    defunc_0_merge_pipeline_res_175536 = p_175542;
    defunc_0_merge_pipeline_res_175537 = p_175543;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 = sub64(nb_152754, defunc_0_merge_pipeline_res_175537);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 = sub64(na_152753, defunc_0_merge_pipeline_res_175536);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    bool empty_slice_177565 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 == (int64_t) 0;
    int64_t m_177566 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 1);
    int64_t i_p_m_t_s_177567 = add64(defunc_0_merge_pipeline_res_175536, m_177566);
    bool zzero_leq_i_p_m_t_s_177568 = sle64((int64_t) 0, i_p_m_t_s_177567);
    bool i_p_m_t_s_leq_w_177569 = slt64(i_p_m_t_s_177567, na_152753);
    bool zzero_lte_i_177570 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175536);
    bool i_lte_j_177571 = sle64(defunc_0_merge_pipeline_res_175536, na_152753);
    bool y_177572 = i_p_m_t_s_leq_w_177569 && zzero_lte_i_177570;
    bool y_177573 = zzero_leq_i_p_m_t_s_177568 && y_177572;
    bool forwards_ok_177574 = i_lte_j_177571 && y_177573;
    bool ok_or_empty_177575 = empty_slice_177565 || forwards_ok_177574;
    bool index_certs_177576;
    
    if (!ok_or_empty_177575) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175536, ":", (long long) na_152753, "] out of bounds for array of shape [", (long long) na_152753, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177580 = slt64(na_152753, defunc_0_merge_pipeline_res_175536);
    bool valid_177581 = !bounds_invalid_upwards_177580;
    bool range_valid_c_177582;
    
    if (!valid_177581) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175536, "..<", (long long) na_152753, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177586 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 == (int64_t) 0;
    int64_t m_177587 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, (int64_t) 1);
    int64_t i_p_m_t_s_177588 = add64(defunc_0_merge_pipeline_res_175537, m_177587);
    bool zzero_leq_i_p_m_t_s_177589 = sle64((int64_t) 0, i_p_m_t_s_177588);
    bool i_p_m_t_s_leq_w_177590 = slt64(i_p_m_t_s_177588, nb_152754);
    bool zzero_lte_i_177591 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175537);
    bool i_lte_j_177592 = sle64(defunc_0_merge_pipeline_res_175537, nb_152754);
    bool y_177593 = i_p_m_t_s_leq_w_177590 && zzero_lte_i_177591;
    bool y_177594 = zzero_leq_i_p_m_t_s_177589 && y_177593;
    bool forwards_ok_177595 = i_lte_j_177592 && y_177594;
    bool ok_or_empty_177596 = empty_slice_177586 || forwards_ok_177595;
    bool index_certs_177597;
    
    if (!ok_or_empty_177596) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175537, ":", (long long) nb_152754, "] out of bounds for array of shape [", (long long) nb_152754, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177601 = slt64(nb_152754, defunc_0_merge_pipeline_res_175537);
    bool valid_177602 = !bounds_invalid_upwards_177601;
    bool range_valid_c_177603;
    
    if (!valid_177602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175537, "..<", (long long) nb_152754, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181827 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    int64_t bytes_181829 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool cond_177610 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zs_lhs_177611 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zp_rhs_177612 = sdiv_safe64(zs_lhs_177611, (int64_t) 20);
    int64_t min_num_blocks_177613 = add64((int64_t) 1, zp_rhs_177612);
    bool loop_cond_177614 = slt64((int64_t) 1, min_num_blocks_177613);
    bool smallest_pow_2_geq_than_res_177615;
    int64_t smallest_pow_2_geq_than_res_177616;
    bool loop_while_177617;
    int64_t x_177618;
    
    loop_while_177617 = loop_cond_177614;
    x_177618 = (int64_t) 1;
    while (loop_while_177617) {
        int64_t loopres_177619 = mul64((int64_t) 2, x_177618);
        bool loop_cond_177620 = slt64(loopres_177619, min_num_blocks_177613);
        bool loop_while_tmp_182640 = loop_cond_177620;
        int64_t x_tmp_182641 = loopres_177619;
        
        loop_while_177617 = loop_while_tmp_182640;
        x_177618 = x_tmp_182641;
    }
    smallest_pow_2_geq_than_res_177615 = loop_while_177617;
    smallest_pow_2_geq_than_res_177616 = x_177618;
    
    bool zzero_177621 = smallest_pow_2_geq_than_res_177616 == (int64_t) 0;
    bool nonzzero_177622 = !zzero_177621;
    bool protect_assert_disj_177623 = cond_177610 || nonzzero_177622;
    bool nonzzero_cert_177624;
    
    if (!protect_assert_disj_177623) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177625 = sdiv_safe64(zs_lhs_177611, smallest_pow_2_geq_than_res_177616);
    int64_t block_sizze_177626 = add64((int64_t) 1, zp_rhs_177625);
    bool y_177633 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool protect_assert_disj_182155 = cond_177610 || y_177633;
    bool index_certs_177634;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177660 = slt64(smallest_pow_2_geq_than_res_177616, (int64_t) 0);
    bool valid_177661 = !bounds_invalid_upwards_177660;
    bool protect_assert_disj_182165 = cond_177610 || valid_177661;
    bool range_valid_c_177662;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177616, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177664 = slt64(block_sizze_177626, (int64_t) 0);
    bool valid_177665 = !bounds_invalid_upwards_177664;
    bool protect_assert_disj_182167 = cond_177610 || valid_177665;
    bool range_valid_c_177666;
    
    if (!protect_assert_disj_182167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177626, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177668 = sle64(block_sizze_177626, (int64_t) 1);
    int64_t tmp_177669 = sub64(block_sizze_177626, (int64_t) 2);
    bool bounds_invalid_upwards_177670 = slt64(tmp_177669, (int64_t) 0);
    bool valid_177672 = !bounds_invalid_upwards_177670;
    bool protect_assert_disj_177673 = cond_177668 || valid_177672;
    bool protect_assert_disj_182169 = cond_177610 || protect_assert_disj_177673;
    bool range_valid_c_177674;
    
    if (!protect_assert_disj_182169) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177669, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178235 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, zs_lhs_177611);
    bool i_p_m_t_s_leq_w_178238 = slt64(zs_lhs_177611, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool y_178239 = zzero_leq_i_p_m_t_s_178237 && i_p_m_t_s_leq_w_178238;
    bool ok_or_empty_178240 = empty_slice_178235 || y_178239;
    bool index_certs_178241;
    
    if (!ok_or_empty_178240) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178242 = add64(defunc_0_merge_pipeline_res_175536, defunc_0_merge_pipeline_res_175537);
    int64_t j_m_i_178243 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, final_buffer_178242);
    bool empty_slice_178244 = j_m_i_178243 == (int64_t) 0;
    int64_t m_178245 = sub64(j_m_i_178243, (int64_t) 1);
    int64_t i_p_m_t_s_178246 = add64(final_buffer_178242, m_178245);
    bool zzero_leq_i_p_m_t_s_178247 = sle64((int64_t) 0, i_p_m_t_s_178246);
    bool i_p_m_t_s_leq_w_178248 = slt64(i_p_m_t_s_178246, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool zzero_lte_i_178249 = sle64((int64_t) 0, final_buffer_178242);
    bool i_lte_j_178250 = sle64(final_buffer_178242, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool y_178251 = i_p_m_t_s_leq_w_178248 && zzero_lte_i_178249;
    bool y_178252 = zzero_leq_i_p_m_t_s_178247 && y_178251;
    bool forwards_ok_178253 = i_lte_j_178250 && y_178252;
    bool ok_or_empty_178254 = empty_slice_178244 || forwards_ok_178253;
    bool index_certs_178255;
    
    if (!ok_or_empty_178254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178242, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178256 = j_m_i_178243 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool empty_or_match_cert_178257;
    
    if (!dim_match_178256) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178243, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:398:63-73\n   #2  ftsort.fut:391:1-398:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181826, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "mem_181826")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182642 = 0; nest_i_182642 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; nest_i_182642++) {
        ((int8_t *) mem_181826.mem)[nest_i_182642] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181828, bytes_181827, "mem_181828")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182643 = 0; i_182643 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; i_182643++) {
        int64_t x_182644 = defunc_0_merge_pipeline_res_175536 + i_182643 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[i_182643] = x_182644;
    }
    for (int64_t nest_i_182645 = 0; nest_i_182645 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; nest_i_182645++) {
        ((int8_t *) mem_181826.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + nest_i_182645] = (int8_t) 1;
    }
    for (int64_t i_182646 = 0; i_182646 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; i_182646++) {
        int64_t x_182647 = defunc_0_merge_pipeline_res_175537 + i_182646 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + i_182646] = x_182647;
    }
    
    int64_t tmp_offs_182648 = (int64_t) 0;
    
    if (!(tmp_offs_182648 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182648 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t tmp_offs_182649 = (int64_t) 0;
    
    if (!(tmp_offs_182649 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182649 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    if (memblock_alloc(ctx, &mem_181830, bytes_181829, "mem_181830")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182650 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181032.mem, defunc_0_merge_pipeline_res_175536, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181033.mem, defunc_0_merge_pipeline_res_175537, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t flat_dim_177627 = smallest_pow_2_geq_than_res_177616 * block_sizze_177626;
    bool x_182150 = !cond_177610;
    int64_t greatest_divisor_leq_than_arg1_177631 = mul64((int64_t) 2, block_sizze_177626);
    int64_t merge_block_sizze_177632;
    
    if (x_182150) {
        int64_t x_182152;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182152, (int64_t) 8, greatest_divisor_leq_than_arg1_177631) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177632 = x_182152;
    } else {
        merge_block_sizze_177632 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178307 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 0);
    int8_t index_concat_branch_178311 = btoi_bool_i8(index_concat_cmp_178307);
    int64_t index_concat_i_180451 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    int64_t index_primexp_180452 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180451);
    int64_t index_concat_branch_178305;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178305 = index_primexp_180452;
    } else {
        index_concat_branch_178305 = defunc_0_merge_pipeline_res_175536;
    }
    
    bool x_182146 = !index_concat_cmp_178307;
    bool protect_cond_conj_182156 = x_182146 && x_182150;
    float index_concat_178298;
    
    if (protect_cond_conj_182156) {
        float x_182148 = ((float *) a_list_mem_181032.mem)[defunc_0_merge_pipeline_res_175536];
        
        index_concat_178298 = x_182148;
    } else {
        index_concat_178298 = 0.0F;
    }
    
    bool protect_cond_conj_182157 = index_concat_cmp_178307 && x_182150;
    float index_concat_180455;
    
    if (protect_cond_conj_182157) {
        float x_182144 = ((float *) b_list_mem_181033.mem)[index_primexp_180452];
        
        index_concat_180455 = x_182144;
    } else {
        index_concat_180455 = 0.0F;
    }
    
    float index_concat_branch_178299;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178299 = index_concat_180455;
    } else {
        index_concat_branch_178299 = index_concat_178298;
    }
    
    int8_t defunc_0_reduce_res_180686;
    int64_t defunc_0_reduce_res_180687;
    float defunc_0_reduce_res_180688;
    
    if (x_182150) {
        int8_t x_182158;
        int64_t x_182159;
        float x_182160;
        int8_t redout_180840;
        int64_t redout_180841;
        float redout_180842;
        
        redout_180840 = index_concat_branch_178311;
        redout_180841 = index_concat_branch_178305;
        redout_180842 = index_concat_branch_178299;
        for (int64_t i_180843 = 0; i_180843 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564; i_180843++) {
            bool index_concat_cmp_180914 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, i_180843);
            int8_t index_concat_branch_180918 = btoi_bool_i8(index_concat_cmp_180914);
            int64_t index_concat_branch_180912;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180909 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t index_primexp_181002 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180909);
                
                index_concat_branch_180912 = index_primexp_181002;
            } else {
                int64_t index_primexp_181004 = add64(defunc_0_merge_pipeline_res_175536, i_180843);
                
                index_concat_branch_180912 = index_primexp_181004;
            }
            
            float index_concat_branch_180906;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180903 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t slice_180999 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180903;
                float index_concat_180904 = ((float *) b_list_mem_181033.mem)[slice_180999];
                
                index_concat_branch_180906 = index_concat_180904;
            } else {
                int64_t slice_181000 = defunc_0_merge_pipeline_res_175536 + i_180843;
                float index_concat_180905 = ((float *) a_list_mem_181032.mem)[slice_181000];
                
                index_concat_branch_180906 = index_concat_180905;
            }
            
            bool eq_x_y_181017 = redout_180840 == (int8_t) 1;
            bool eq_x_zz_181018 = redout_180840 == (int8_t) 0;
            bool p_and_eq_x_y_181019 = index_concat_cmp_180914 && eq_x_y_181017;
            bool not_p_181020 = !index_concat_cmp_180914;
            bool p_and_eq_x_y_181021 = eq_x_zz_181018 && not_p_181020;
            bool cond_177650 = p_and_eq_x_y_181019 || p_and_eq_x_y_181021;
            bool defunc_0_leq_res_t_res_177651 = sle64(redout_180841, index_concat_branch_180912);
            bool defunc_0_leq_res_177652 = redout_180842 <= index_concat_branch_180906;
            bool x_177653 = cond_177650 && defunc_0_leq_res_t_res_177651;
            bool x_177654 = !cond_177650;
            bool y_177655 = defunc_0_leq_res_177652 && x_177654;
            bool defunc_0_leq_res_177656 = x_177653 || y_177655;
            int8_t defunc_0_op_res_177657;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177657 = index_concat_branch_180918;
            } else {
                defunc_0_op_res_177657 = redout_180840;
            }
            
            int64_t defunc_0_op_res_177658;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177658 = index_concat_branch_180912;
            } else {
                defunc_0_op_res_177658 = redout_180841;
            }
            
            float defunc_0_op_res_177659;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177659 = index_concat_branch_180906;
            } else {
                defunc_0_op_res_177659 = redout_180842;
            }
            
            int8_t redout_tmp_182651 = defunc_0_op_res_177657;
            int64_t redout_tmp_182652 = defunc_0_op_res_177658;
            float redout_tmp_182653 = defunc_0_op_res_177659;
            
            redout_180840 = redout_tmp_182651;
            redout_180841 = redout_tmp_182652;
            redout_180842 = redout_tmp_182653;
        }
        x_182158 = redout_180840;
        x_182159 = redout_180841;
        x_182160 = redout_180842;
        defunc_0_reduce_res_180686 = x_182158;
        defunc_0_reduce_res_180687 = x_182159;
        defunc_0_reduce_res_180688 = x_182160;
    } else {
        defunc_0_reduce_res_180686 = (int8_t) 0;
        defunc_0_reduce_res_180687 = (int64_t) 0;
        defunc_0_reduce_res_180688 = 0.0F;
    }
    
    int64_t distance_177671 = add64((int64_t) 1, tmp_177669);
    int64_t binop_x_181833 = (int64_t) 8 * smallest_pow_2_geq_than_res_177616;
    int64_t bytes_181834 = block_sizze_177626 * binop_x_181833;
    int64_t binop_x_181836 = (int64_t) 4 * smallest_pow_2_geq_than_res_177616;
    int64_t bytes_181837 = block_sizze_177626 * binop_x_181836;
    int64_t bytes_181852 = (int64_t) 8 * block_sizze_177626;
    int64_t bytes_181854 = (int64_t) 4 * block_sizze_177626;
    bool loop_cond_177780 = slt64(block_sizze_177626, flat_dim_177627);
    bool zzero_177781 = merge_block_sizze_177632 == (int64_t) 0;
    bool nonzzero_177782 = !zzero_177781;
    
    if (cond_177610) {
        if (memblock_set(ctx, &ext_mem_182125, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &mem_181830, "mem_181830") != 0)
            return 1;
    } else {
        if (mem_181832_cached_sizze_182864 < flat_dim_177627) {
            err = lexical_realloc(ctx, &mem_181832, &mem_181832_cached_sizze_182864, flat_dim_177627);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181835_cached_sizze_182865 < bytes_181834) {
            err = lexical_realloc(ctx, &mem_181835, &mem_181835_cached_sizze_182865, bytes_181834);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181838_cached_sizze_182866 < bytes_181837) {
            err = lexical_realloc(ctx, &mem_181838, &mem_181838_cached_sizze_182866, bytes_181837);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181851_cached_sizze_182867 < block_sizze_177626) {
            err = lexical_realloc(ctx, &mem_181851, &mem_181851_cached_sizze_182867, block_sizze_177626);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181853_cached_sizze_182868 < bytes_181852) {
            err = lexical_realloc(ctx, &mem_181853, &mem_181853_cached_sizze_182868, bytes_181852);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_182869 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_182869, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180860 = 0; i_180860 < smallest_pow_2_geq_than_res_177616; i_180860++) {
            int64_t zp_lhs_177679 = mul64(block_sizze_177626, i_180860);
            
            for (int64_t i_180850 = 0; i_180850 < block_sizze_177626; i_180850++) {
                int64_t k_177684 = add64(zp_lhs_177679, i_180850);
                bool cond_177685 = slt64(k_177684, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
                int8_t lifted_lambda_res_177686;
                int64_t lifted_lambda_res_177687;
                float lifted_lambda_res_177688;
                
                if (cond_177685) {
                    bool x_180461 = sle64((int64_t) 0, k_177684);
                    bool bounds_check_180462 = cond_177685 && x_180461;
                    bool index_certs_180463;
                    
                    if (!bounds_check_180462) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177684, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180464 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, k_177684);
                    int8_t index_concat_branch_180465 = btoi_bool_i8(index_concat_cmp_180464);
                    int64_t index_concat_branch_180466;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180467 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t index_primexp_180468 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180467);
                        
                        index_concat_branch_180466 = index_primexp_180468;
                    } else {
                        int64_t index_primexp_180469 = add64(defunc_0_merge_pipeline_res_175536, k_177684);
                        
                        index_concat_branch_180466 = index_primexp_180469;
                    }
                    
                    float index_concat_branch_180470;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180471 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t slice_180472 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180471;
                        float index_concat_180473 = ((float *) b_list_mem_181033.mem)[slice_180472];
                        
                        index_concat_branch_180470 = index_concat_180473;
                    } else {
                        int64_t slice_180474 = defunc_0_merge_pipeline_res_175536 + k_177684;
                        float index_concat_180475 = ((float *) a_list_mem_181032.mem)[slice_180474];
                        
                        index_concat_branch_180470 = index_concat_180475;
                    }
                    lifted_lambda_res_177686 = index_concat_branch_180465;
                    lifted_lambda_res_177687 = index_concat_branch_180466;
                    lifted_lambda_res_177688 = index_concat_branch_180470;
                } else {
                    lifted_lambda_res_177686 = defunc_0_reduce_res_180686;
                    lifted_lambda_res_177687 = defunc_0_reduce_res_180687;
                    lifted_lambda_res_177688 = defunc_0_reduce_res_180688;
                }
                ((int8_t *) mem_181851)[i_180850] = lifted_lambda_res_177686;
                ((int64_t *) mem_181853)[i_180850] = lifted_lambda_res_177687;
                ((float *) mem_181855)[i_180850] = lifted_lambda_res_177688;
            }
            if (!cond_177668) {
                for (int64_t i_177701 = 0; i_177701 < distance_177671; i_177701++) {
                    int64_t gt_arg1_177705 = add64((int64_t) 1, i_177701);
                    bool x_177706 = sle64((int64_t) 0, gt_arg1_177705);
                    bool y_177707 = slt64(gt_arg1_177705, block_sizze_177626);
                    bool bounds_check_177708 = x_177706 && y_177707;
                    bool index_certs_177709;
                    
                    if (!bounds_check_177708) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177705, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177713 = slt64(i_177701, block_sizze_177626);
                    bool index_certs_177714;
                    
                    if (!y_177713) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177701, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177710 = ((int8_t *) mem_181851)[gt_arg1_177705];
                    int64_t gt_arg1_177711 = ((int64_t *) mem_181853)[gt_arg1_177705];
                    float gt_arg1_177712 = ((float *) mem_181855)[gt_arg1_177705];
                    int8_t gt_arg0_177715 = ((int8_t *) mem_181851)[i_177701];
                    int64_t gt_arg0_177716 = ((int64_t *) mem_181853)[i_177701];
                    float gt_arg0_177717 = ((float *) mem_181855)[i_177701];
                    bool cond_177718 = gt_arg0_177715 == gt_arg1_177710;
                    bool defunc_0_leq_res_t_res_177719 = sle64(gt_arg0_177716, gt_arg1_177711);
                    bool defunc_0_leq_res_177720 = gt_arg0_177717 <= gt_arg1_177712;
                    bool x_177721 = cond_177718 && defunc_0_leq_res_t_res_177719;
                    bool x_177722 = !cond_177718;
                    bool y_177723 = defunc_0_leq_res_177720 && x_177722;
                    bool defunc_0_leq_res_177724 = x_177721 || y_177723;
                    bool defunc_0_lifted_gt_res_177725 = !defunc_0_leq_res_177724;
                    bool s_177726;
                    int64_t s_177730;
                    bool loop_while_177731;
                    int64_t j_177735;
                    
                    loop_while_177731 = defunc_0_lifted_gt_res_177725;
                    j_177735 = i_177701;
                    while (loop_while_177731) {
                        bool x_177736 = sle64((int64_t) 0, j_177735);
                        bool y_177737 = slt64(j_177735, block_sizze_177626);
                        bool bounds_check_177738 = x_177736 && y_177737;
                        bool index_certs_177739;
                        
                        if (!bounds_check_177738) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177735, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177743 = add64((int64_t) 1, j_177735);
                        bool x_177744 = sle64((int64_t) 0, copy_arg0_177743);
                        bool y_177745 = slt64(copy_arg0_177743, block_sizze_177626);
                        bool bounds_check_177746 = x_177744 && y_177745;
                        bool index_certs_177747;
                        
                        if (!bounds_check_177746) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177743, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177740 = ((int8_t *) mem_181851)[j_177735];
                        int64_t copy_arg0_177741 = ((int64_t *) mem_181853)[j_177735];
                        float copy_arg0_177742 = ((float *) mem_181855)[j_177735];
                        int8_t copy_arg0_177748 = ((int8_t *) mem_181851)[copy_arg0_177743];
                        int64_t copy_arg0_177749 = ((int64_t *) mem_181853)[copy_arg0_177743];
                        float copy_arg0_177750 = ((float *) mem_181855)[copy_arg0_177743];
                        
                        ((int8_t *) mem_181851)[j_177735] = copy_arg0_177748;
                        ((int64_t *) mem_181853)[j_177735] = copy_arg0_177749;
                        ((float *) mem_181855)[j_177735] = copy_arg0_177750;
                        ((int8_t *) mem_181851)[copy_arg0_177743] = copy_arg0_177740;
                        ((int64_t *) mem_181853)[copy_arg0_177743] = copy_arg0_177741;
                        ((float *) mem_181855)[copy_arg0_177743] = copy_arg0_177742;
                        
                        int64_t tmp_177757 = sub64(j_177735, (int64_t) 1);
                        bool cond_177758 = sle64((int64_t) 0, tmp_177757);
                        bool loop_cond_177759;
                        
                        if (cond_177758) {
                            bool y_180479 = slt64(tmp_177757, block_sizze_177626);
                            bool bounds_check_180480 = cond_177758 && y_180479;
                            bool index_certs_180481;
                            
                            if (!bounds_check_180480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180476 = ((int8_t *) mem_181851)[j_177735];
                            int64_t gt_arg1_180477 = ((int64_t *) mem_181853)[j_177735];
                            float gt_arg1_180478 = ((float *) mem_181855)[j_177735];
                            int8_t gt_arg0_180482 = ((int8_t *) mem_181851)[tmp_177757];
                            int64_t gt_arg0_180483 = ((int64_t *) mem_181853)[tmp_177757];
                            float gt_arg0_180484 = ((float *) mem_181855)[tmp_177757];
                            bool cond_180485 = gt_arg0_180482 == gt_arg1_180476;
                            bool defunc_0_leq_res_t_res_180486 = sle64(gt_arg0_180483, gt_arg1_180477);
                            bool defunc_0_leq_res_180487 = gt_arg0_180484 <= gt_arg1_180478;
                            bool x_180488 = cond_180485 && defunc_0_leq_res_t_res_180486;
                            bool x_180489 = !cond_180485;
                            bool y_180490 = defunc_0_leq_res_180487 && x_180489;
                            bool defunc_0_leq_res_180491 = x_180488 || y_180490;
                            bool defunc_0_lifted_gt_res_180492 = !defunc_0_leq_res_180491;
                            
                            loop_cond_177759 = defunc_0_lifted_gt_res_180492;
                        } else {
                            loop_cond_177759 = 0;
                        }
                        
                        bool loop_while_tmp_182663 = loop_cond_177759;
                        int64_t j_tmp_182667 = tmp_177757;
                        
                        loop_while_177731 = loop_while_tmp_182663;
                        j_177735 = j_tmp_182667;
                    }
                    s_177726 = loop_while_177731;
                    s_177730 = j_177735;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181832, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181851, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181835, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181853, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181838, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181855, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
        }
        if (memblock_alloc(ctx, &mem_181932, flat_dim_177627, "mem_181932")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181932.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint8_t *) mem_181832, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181936, bytes_181834, "mem_181936")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181936.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint64_t *) mem_181835, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181940, bytes_181837, "mem_181940")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181940.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint32_t *) mem_181838, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        
        int64_t data_177783;
        bool data_177784;
        int64_t data_177788;
        int64_t loop_dz2084Uz2082U_177789;
        bool loop_while_177790;
        int64_t stride_177794;
        
        if (memblock_set(ctx, &mem_param_181944, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181947, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181950, &mem_181940, "mem_181940") != 0)
            return 1;
        loop_dz2084Uz2082U_177789 = flat_dim_177627;
        loop_while_177790 = loop_cond_177780;
        stride_177794 = block_sizze_177626;
        while (loop_while_177790) {
            int64_t next_stride_177795 = mul64((int64_t) 2, stride_177794);
            bool zzero_177796 = next_stride_177795 == (int64_t) 0;
            bool nonzzero_177797 = !zzero_177796;
            bool nonzzero_cert_177798;
            
            if (!nonzzero_177797) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:398:63-73\n   #4  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177799 = sdiv64(flat_dim_177627, next_stride_177795);
            bool bounds_invalid_upwards_177800 = slt64(num_merges_177799, (int64_t) 0);
            bool valid_177801 = !bounds_invalid_upwards_177800;
            bool range_valid_c_177802;
            
            if (!valid_177801) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177799, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177804 = sub64(next_stride_177795, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177805 = sle64((int64_t) 0, m_177804);
            bool cond_177807 = slt64(next_stride_177795, (int64_t) 10);
            bool protect_assert_disj_177808 = nonzzero_177782 || cond_177807;
            bool nonzzero_cert_177809;
            
            if (!protect_assert_disj_177808) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177810 = smod_safe64(next_stride_177795, merge_block_sizze_177632);
            bool num_blocks_177811 = zeze_lhs_177810 == (int64_t) 0;
            bool protect_assert_disj_177812 = cond_177807 || num_blocks_177811;
            bool assert_c_177813;
            
            if (!protect_assert_disj_177812) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177815 = sdiv_safe64(next_stride_177795, merge_block_sizze_177632);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816 = add64((int64_t) 1, num_blocks_177815);
            int64_t j_m_i_177817 = sub64(next_stride_177795, stride_177794);
            int64_t flat_dim_177818 = merge_block_sizze_177632 * num_blocks_177815;
            bool bounds_invalid_upwards_177819 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, (int64_t) 0);
            bool empty_slice_177820 = j_m_i_177817 == (int64_t) 0;
            int64_t m_177821 = sub64(j_m_i_177817, (int64_t) 1);
            bool zzero_lte_i_177822 = sle64((int64_t) 0, stride_177794);
            bool i_lte_j_177823 = sle64(stride_177794, next_stride_177795);
            bool empty_slice_177824 = stride_177794 == (int64_t) 0;
            int64_t m_177825 = sub64(stride_177794, (int64_t) 1);
            bool bounds_invalid_upwards_177826 = slt64(num_blocks_177815, (int64_t) 0);
            bool cond_177827 = slt64((int64_t) 0, stride_177794);
            bool valid_177828 = !bounds_invalid_upwards_177819;
            int64_t i_p_m_t_s_177829 = add64(stride_177794, m_177821);
            bool zzero_leq_i_p_m_t_s_177830 = sle64((int64_t) 0, m_177825);
            bool i_p_m_t_s_leq_w_177831 = slt64(m_177825, next_stride_177795);
            bool valid_177832 = !bounds_invalid_upwards_177826;
            bool i_p_m_t_s_leq_w_177833 = slt64(m_177804, flat_dim_177818);
            bool y_177834 = slt64((int64_t) 0, j_m_i_177817);
            bool protect_assert_disj_177835 = cond_177807 || valid_177828;
            bool range_valid_c_177836;
            
            if (!protect_assert_disj_177835) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177837 = sle64((int64_t) 0, i_p_m_t_s_177829);
            bool i_p_m_t_s_leq_w_177838 = slt64(i_p_m_t_s_177829, next_stride_177795);
            bool y_177839 = zzero_leq_i_p_m_t_s_177830 && i_p_m_t_s_leq_w_177831;
            bool protect_assert_disj_177840 = cond_177807 || valid_177832;
            bool range_valid_c_177841;
            
            if (!protect_assert_disj_177840) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177815, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177842 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177833;
            bool y_177843 = zzero_lte_i_177822 && i_p_m_t_s_leq_w_177838;
            bool forwards_ok_177844 = zzero_lte_i_177822 && y_177839;
            bool ok_or_empty_177845 = zzero_177796 || y_177842;
            bool protect_assert_disj_177846 = cond_177827 || y_177834;
            bool y_177847 = zzero_leq_i_p_m_t_s_177837 && y_177843;
            bool ok_or_empty_177848 = empty_slice_177824 || forwards_ok_177844;
            bool protect_assert_disj_177849 = cond_177807 || ok_or_empty_177845;
            bool index_certs_177850;
            
            if (!protect_assert_disj_177849) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) flat_dim_177818, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177851 = !cond_177807;
            bool protect_assert_disj_177852 = protect_assert_disj_177846 || loop_not_taken_177851;
            bool index_certs_177853;
            
            if (!protect_assert_disj_177852) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177854 = i_lte_j_177823 && y_177847;
            bool protect_assert_disj_177855 = cond_177807 || ok_or_empty_177848;
            bool index_certs_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177857 = ok_or_empty_177848 || loop_not_taken_177851;
            bool index_certs_177858;
            
            if (!protect_assert_disj_177857) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177859 = empty_slice_177820 || forwards_ok_177854;
            bool protect_assert_disj_177860 = cond_177807 || ok_or_empty_177859;
            bool index_certs_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177862 = loop_not_taken_177851 || ok_or_empty_177859;
            bool index_certs_177863;
            
            if (!protect_assert_disj_177862) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181951 = next_stride_177795 * num_merges_177799;
            int64_t binop_x_181953 = (int64_t) 8 * num_merges_177799;
            int64_t bytes_181954 = next_stride_177795 * binop_x_181953;
            int64_t binop_x_181956 = (int64_t) 4 * num_merges_177799;
            int64_t bytes_181957 = next_stride_177795 * binop_x_181956;
            bool i_lte_j_177806 = sle64((int64_t) 0, next_stride_177795);
            
            if (mem_181952_cached_sizze_182870 < bytes_181951) {
                err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_182870, bytes_181951);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181955_cached_sizze_182871 < bytes_181954) {
                err = lexical_realloc(ctx, &mem_181955, &mem_181955_cached_sizze_182871, bytes_181954);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181958_cached_sizze_182872 < bytes_181957) {
                err = lexical_realloc(ctx, &mem_181958, &mem_181958_cached_sizze_182872, bytes_181957);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181971 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816;
            int64_t binop_x_181989 = (int64_t) 8 * num_blocks_177815;
            int64_t bytes_181990 = merge_block_sizze_177632 * binop_x_181989;
            int64_t binop_x_181992 = (int64_t) 4 * num_blocks_177815;
            int64_t bytes_181993 = merge_block_sizze_177632 * binop_x_181992;
            int64_t bytes_182054 = (int64_t) 16 * stride_177794;
            int64_t bytes_182056 = (int64_t) 8 * stride_177794;
            
            for (int64_t i_180887 = 0; i_180887 < num_merges_177799; i_180887++) {
                int64_t start_177868 = mul64(next_stride_177795, i_180887);
                int64_t j_m_i_177869 = sub64(loop_dz2084Uz2082U_177789, start_177868);
                bool empty_slice_177870 = j_m_i_177869 == (int64_t) 0;
                int64_t m_177871 = sub64(j_m_i_177869, (int64_t) 1);
                int64_t i_p_m_t_s_177872 = add64(start_177868, m_177871);
                bool zzero_leq_i_p_m_t_s_177873 = sle64((int64_t) 0, i_p_m_t_s_177872);
                bool i_p_m_t_s_leq_w_177874 = slt64(i_p_m_t_s_177872, loop_dz2084Uz2082U_177789);
                bool zzero_lte_i_177875 = sle64((int64_t) 0, start_177868);
                bool i_lte_j_177876 = sle64(start_177868, loop_dz2084Uz2082U_177789);
                bool y_177877 = i_p_m_t_s_leq_w_177874 && zzero_lte_i_177875;
                bool y_177878 = zzero_leq_i_p_m_t_s_177873 && y_177877;
                bool forwards_ok_177879 = i_lte_j_177876 && y_177878;
                bool ok_or_empty_177880 = empty_slice_177870 || forwards_ok_177879;
                bool index_certs_177881;
                
                if (!ok_or_empty_177880) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177868, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177789, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177882 = slt64(m_177804, j_m_i_177869);
                bool y_177883 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177882;
                bool forwards_ok_177884 = i_lte_j_177806 && y_177883;
                bool ok_or_empty_177885 = zzero_177796 || forwards_ok_177884;
                bool index_certs_177886;
                
                if (!ok_or_empty_177885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) j_m_i_177869, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:398:63-73\n   #7  ftsort.fut:391:1-398:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177807) {
                    int8_t dummy_180531;
                    int64_t dummy_180532;
                    float dummy_180533;
                    
                    if (cond_177827) {
                        int8_t head_res_180534 = ((int8_t *) mem_param_181944.mem)[start_177868];
                        int64_t head_res_180535 = ((int64_t *) mem_param_181947.mem)[start_177868];
                        float head_res_180536 = ((float *) mem_param_181950.mem)[start_177868];
                        
                        dummy_180531 = head_res_180534;
                        dummy_180532 = head_res_180535;
                        dummy_180533 = head_res_180536;
                    } else {
                        int64_t slice_180537 = stride_177794 + start_177868;
                        int8_t head_res_180538 = ((int8_t *) mem_param_181944.mem)[slice_180537];
                        int64_t head_res_180539 = ((int64_t *) mem_param_181947.mem)[slice_180537];
                        float head_res_180540 = ((float *) mem_param_181950.mem)[slice_180537];
                        
                        dummy_180531 = head_res_180538;
                        dummy_180532 = head_res_180539;
                        dummy_180533 = head_res_180540;
                    }
                    if (memblock_alloc(ctx, &mem_182053, next_stride_177795, "mem_182053")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182680 = 0; nest_i_182680 < next_stride_177795; nest_i_182680++) {
                        ((int8_t *) mem_182053.mem)[nest_i_182680] = dummy_180531;
                    }
                    if (memblock_alloc(ctx, &mem_182055, bytes_182054, "mem_182055")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182681 = 0; nest_i_182681 < next_stride_177795; nest_i_182681++) {
                        ((int64_t *) mem_182055.mem)[nest_i_182681] = dummy_180532;
                    }
                    if (memblock_alloc(ctx, &mem_182057, bytes_182056, "mem_182057")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182682 = 0; nest_i_182682 < next_stride_177795; nest_i_182682++) {
                        ((float *) mem_182057.mem)[nest_i_182682] = dummy_180533;
                    }
                    
                    int64_t data_180544;
                    int64_t i_180549 = (int64_t) 0;
                    
                    for (int64_t k_180548 = 0; k_180548 < next_stride_177795; k_180548++) {
                        int64_t j_180553 = sub64(k_180548, i_180549);
                        bool cond_180554 = j_180553 == j_m_i_177817;
                        bool cond_180555;
                        
                        if (cond_180554) {
                            cond_180555 = 1;
                        } else {
                            bool cond_180556 = slt64(i_180549, stride_177794);
                            bool cond_f_res_180557;
                            
                            if (cond_180556) {
                                bool x_180558 = sle64((int64_t) 0, j_180553);
                                bool y_180559 = slt64(j_180553, j_m_i_177817);
                                bool bounds_check_180560 = x_180558 && y_180559;
                                bool index_certs_180561;
                                
                                if (!bounds_check_180560) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180567 = sle64((int64_t) 0, i_180549);
                                bool bounds_check_180568 = cond_180556 && x_180567;
                                bool index_certs_180569;
                                
                                if (!bounds_check_180568) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180562 = stride_177794 + j_180553;
                                int64_t slice_180563 = start_177868 + slice_180562;
                                int8_t leq_arg1_180564 = ((int8_t *) mem_param_181944.mem)[slice_180563];
                                int64_t leq_arg1_180565 = ((int64_t *) mem_param_181947.mem)[slice_180563];
                                float leq_arg1_180566 = ((float *) mem_param_181950.mem)[slice_180563];
                                int64_t slice_180570 = start_177868 + i_180549;
                                int8_t leq_arg0_180571 = ((int8_t *) mem_param_181944.mem)[slice_180570];
                                int64_t leq_arg0_180572 = ((int64_t *) mem_param_181947.mem)[slice_180570];
                                float leq_arg0_180573 = ((float *) mem_param_181950.mem)[slice_180570];
                                bool cond_180574 = leq_arg0_180571 == leq_arg1_180564;
                                bool defunc_0_leq_res_t_res_180575 = sle64(leq_arg0_180572, leq_arg1_180565);
                                bool defunc_0_leq_res_180576 = leq_arg0_180573 <= leq_arg1_180566;
                                bool x_180577 = cond_180574 && defunc_0_leq_res_t_res_180575;
                                bool x_180578 = !cond_180574;
                                bool y_180579 = defunc_0_leq_res_180576 && x_180578;
                                bool defunc_0_leq_res_180580 = x_180577 || y_180579;
                                
                                cond_f_res_180557 = defunc_0_leq_res_180580;
                            } else {
                                cond_f_res_180557 = 0;
                            }
                            cond_180555 = cond_f_res_180557;
                        }
                        
                        int64_t loopres_180581;
                        int8_t loopres_180582;
                        int64_t loopres_180583;
                        float loopres_180584;
                        
                        if (cond_180555) {
                            bool x_180586 = sle64((int64_t) 0, i_180549);
                            bool y_180587 = slt64(i_180549, stride_177794);
                            bool bounds_check_180588 = x_180586 && y_180587;
                            bool index_certs_180589;
                            
                            if (!bounds_check_180588) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180585 = add64((int64_t) 1, i_180549);
                            int64_t slice_180590 = start_177868 + i_180549;
                            int8_t tmp_180591 = ((int8_t *) mem_param_181944.mem)[slice_180590];
                            int64_t tmp_180592 = ((int64_t *) mem_param_181947.mem)[slice_180590];
                            float tmp_180593 = ((float *) mem_param_181950.mem)[slice_180590];
                            
                            loopres_180581 = tmp_180585;
                            loopres_180582 = tmp_180591;
                            loopres_180583 = tmp_180592;
                            loopres_180584 = tmp_180593;
                        } else {
                            bool x_180594 = sle64((int64_t) 0, j_180553);
                            bool y_180595 = slt64(j_180553, j_m_i_177817);
                            bool bounds_check_180596 = x_180594 && y_180595;
                            bool index_certs_180597;
                            
                            if (!bounds_check_180596) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:398:63-73\n   #8  ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180598 = stride_177794 + j_180553;
                            int64_t slice_180599 = start_177868 + slice_180598;
                            int8_t tmp_180600 = ((int8_t *) mem_param_181944.mem)[slice_180599];
                            int64_t tmp_180601 = ((int64_t *) mem_param_181947.mem)[slice_180599];
                            float tmp_180602 = ((float *) mem_param_181950.mem)[slice_180599];
                            
                            loopres_180581 = i_180549;
                            loopres_180582 = tmp_180600;
                            loopres_180583 = tmp_180601;
                            loopres_180584 = tmp_180602;
                        }
                        ((int8_t *) mem_182053.mem)[k_180548] = loopres_180582;
                        ((int64_t *) mem_182055.mem)[k_180548] = loopres_180583;
                        ((float *) mem_182057.mem)[k_180548] = loopres_180584;
                        
                        int64_t i_tmp_182683 = loopres_180581;
                        
                        i_180549 = i_tmp_182683;
                    }
                    data_180544 = i_180549;
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182053, "mem_182053") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182055, "mem_182055") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182057, "mem_182057") != 0)
                        return 1;
                } else {
                    if (mem_181972_cached_sizze_182873 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_182873, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181974_cached_sizze_182874 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181974, &mem_181974_cached_sizze_182874, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180868 = 0; i_180868 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816; i_180868++) {
                        int64_t split_count_arg3_177969 = mul64(merge_block_sizze_177632, i_180868);
                        int64_t defunc_0_split_count_res_177970;
                        int64_t defunc_0_split_count_res_177971;
                        int64_t defunc_0_split_count_res_177972;
                        int64_t defunc_0_split_count_res_177973;
                        int64_t defunc_0_split_count_res_177974;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177970, &defunc_0_split_count_res_177971, &defunc_0_split_count_res_177972, &defunc_0_split_count_res_177973, &defunc_0_split_count_res_177974, (int64_t) 0, stride_177794, (int64_t) 0, j_m_i_177817, split_count_arg3_177969) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177975 = slt64((int64_t) 0, defunc_0_split_count_res_177974);
                        bool defunc_0_split_count_res_177976;
                        int64_t defunc_0_split_count_res_177977;
                        int64_t defunc_0_split_count_res_177978;
                        int64_t defunc_0_split_count_res_177979;
                        int64_t defunc_0_split_count_res_177980;
                        int64_t defunc_0_split_count_res_177981;
                        bool loop_while_177982;
                        int64_t ss_177983;
                        int64_t ss_177984;
                        int64_t tt_177985;
                        int64_t tt_177986;
                        int64_t count_177987;
                        
                        loop_while_177982 = loop_cond_177975;
                        ss_177983 = defunc_0_split_count_res_177970;
                        ss_177984 = defunc_0_split_count_res_177971;
                        tt_177985 = defunc_0_split_count_res_177972;
                        tt_177986 = defunc_0_split_count_res_177973;
                        count_177987 = defunc_0_split_count_res_177974;
                        while (loop_while_177982) {
                            int64_t zlze_lhs_177988 = sub64(ss_177984, ss_177983);
                            bool cond_177989 = sle64(zlze_lhs_177988, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177990;
                            int64_t defunc_0_lifted_step_res_177991;
                            int64_t defunc_0_lifted_step_res_177992;
                            int64_t defunc_0_lifted_step_res_177993;
                            
                            if (cond_177989) {
                                int64_t tmp_180606 = add64(tt_177985, count_177987);
                                
                                defunc_0_lifted_step_res_177990 = ss_177983;
                                defunc_0_lifted_step_res_177991 = tmp_180606;
                                defunc_0_lifted_step_res_177992 = tt_177986;
                                defunc_0_lifted_step_res_177993 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177995 = sub64(tt_177986, tt_177985);
                                bool cond_177996 = sle64(zlze_lhs_177995, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177997;
                                int64_t defunc_0_lifted_step_res_f_res_177998;
                                int64_t defunc_0_lifted_step_res_f_res_177999;
                                int64_t defunc_0_lifted_step_res_f_res_178000;
                                
                                if (cond_177996) {
                                    int64_t tmp_180607 = add64(ss_177983, count_177987);
                                    
                                    defunc_0_lifted_step_res_f_res_177997 = tmp_180607;
                                    defunc_0_lifted_step_res_f_res_177998 = tt_177985;
                                    defunc_0_lifted_step_res_f_res_177999 = tt_177986;
                                    defunc_0_lifted_step_res_f_res_178000 = (int64_t) 0;
                                } else {
                                    bool cond_178002 = count_177987 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178003;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178004;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178005;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178006;
                                    
                                    if (cond_178002) {
                                        bool x_180609 = sle64((int64_t) 0, ss_177983);
                                        bool y_180610 = slt64(ss_177983, stride_177794);
                                        bool bounds_check_180611 = x_180609 && y_180610;
                                        bool index_certs_180612;
                                        
                                        if (!bounds_check_180611) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177983, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180617 = sle64((int64_t) 0, tt_177985);
                                        bool y_180618 = slt64(tt_177985, j_m_i_177817);
                                        bool bounds_check_180619 = x_180617 && y_180618;
                                        bool index_certs_180620;
                                        
                                        if (!bounds_check_180619) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177985, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180613 = start_177868 + ss_177983;
                                        int8_t leq_arg1_180614 = ((int8_t *) mem_param_181944.mem)[slice_180613];
                                        int64_t leq_arg1_180615 = ((int64_t *) mem_param_181947.mem)[slice_180613];
                                        float leq_arg1_180616 = ((float *) mem_param_181950.mem)[slice_180613];
                                        int64_t slice_180621 = stride_177794 + tt_177985;
                                        int64_t slice_180622 = start_177868 + slice_180621;
                                        int8_t leq_arg0_180623 = ((int8_t *) mem_param_181944.mem)[slice_180622];
                                        int64_t leq_arg0_180624 = ((int64_t *) mem_param_181947.mem)[slice_180622];
                                        float leq_arg0_180625 = ((float *) mem_param_181950.mem)[slice_180622];
                                        bool cond_180626 = leq_arg0_180623 == leq_arg1_180614;
                                        bool defunc_0_leq_res_t_res_180627 = sle64(leq_arg0_180624, leq_arg1_180615);
                                        bool defunc_0_leq_res_180628 = leq_arg0_180625 <= leq_arg1_180616;
                                        bool x_180629 = cond_180626 && defunc_0_leq_res_t_res_180627;
                                        bool x_180630 = !cond_180626;
                                        bool y_180631 = defunc_0_leq_res_180628 && x_180630;
                                        bool defunc_0_leq_res_180632 = x_180629 || y_180631;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        
                                        if (defunc_0_leq_res_180632) {
                                            int64_t tmp_180635 = add64((int64_t) 1, tt_177985);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = ss_177983;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tmp_180635;
                                        } else {
                                            int64_t tmp_180636 = add64((int64_t) 1, ss_177983);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = tmp_180636;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tt_177985;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = tt_177986;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = (int64_t) 0;
                                    } else {
                                        int64_t m_178035 = sdiv64(count_177987, (int64_t) 2);
                                        int64_t n_178036 = sub64(count_177987, m_178035);
                                        bool cond_178037 = n_178036 == (int64_t) 0;
                                        int64_t zgze_lhs_178038 = add64(ss_177983, m_178035);
                                        bool cond_f_res_178039 = sle64(ss_177984, zgze_lhs_178038);
                                        bool x_178040 = !cond_178037;
                                        bool y_178041 = cond_f_res_178039 && x_178040;
                                        bool cond_178042 = cond_178037 || y_178041;
                                        bool leq_y_x_178043;
                                        
                                        if (cond_178042) {
                                            leq_y_x_178043 = 1;
                                        } else {
                                            bool x_178044 = sle64((int64_t) 0, zgze_lhs_178038);
                                            bool y_178045 = slt64(zgze_lhs_178038, stride_177794);
                                            bool bounds_check_178046 = x_178044 && y_178045;
                                            bool index_certs_178047;
                                            
                                            if (!bounds_check_178046) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178038, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178052 = add64(tt_177985, n_178036);
                                            int64_t leq_arg0_178053 = sub64(zm_lhs_178052, (int64_t) 1);
                                            bool x_178054 = sle64((int64_t) 0, leq_arg0_178053);
                                            bool y_178055 = slt64(leq_arg0_178053, j_m_i_177817);
                                            bool bounds_check_178056 = x_178054 && y_178055;
                                            bool index_certs_178057;
                                            
                                            if (!bounds_check_178056) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178053, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:398:63-73\n   #12 ftsort.fut:391:1-398:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178048 = start_177868 + zgze_lhs_178038;
                                            int8_t leq_arg1_178049 = ((int8_t *) mem_param_181944.mem)[slice_178048];
                                            int64_t leq_arg1_178050 = ((int64_t *) mem_param_181947.mem)[slice_178048];
                                            float leq_arg1_178051 = ((float *) mem_param_181950.mem)[slice_178048];
                                            int64_t slice_178058 = stride_177794 + leq_arg0_178053;
                                            int64_t slice_178059 = start_177868 + slice_178058;
                                            int8_t leq_arg0_178060 = ((int8_t *) mem_param_181944.mem)[slice_178059];
                                            int64_t leq_arg0_178061 = ((int64_t *) mem_param_181947.mem)[slice_178059];
                                            float leq_arg0_178062 = ((float *) mem_param_181950.mem)[slice_178059];
                                            bool cond_178063 = leq_arg0_178060 == leq_arg1_178049;
                                            bool defunc_0_leq_res_t_res_178064 = sle64(leq_arg0_178061, leq_arg1_178050);
                                            bool defunc_0_leq_res_178065 = leq_arg0_178062 <= leq_arg1_178051;
                                            bool x_178066 = cond_178063 && defunc_0_leq_res_t_res_178064;
                                            bool x_178067 = !cond_178063;
                                            bool y_178068 = defunc_0_leq_res_178065 && x_178067;
                                            bool defunc_0_leq_res_178069 = x_178066 || y_178068;
                                            
                                            leq_y_x_178043 = defunc_0_leq_res_178069;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                        
                                        if (leq_y_x_178043) {
                                            int64_t tmp_180637 = add64(tt_177985, n_178036);
                                            int64_t tmp_180638 = sub64(count_177987, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tmp_180637;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tt_177986;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = tmp_180638;
                                        } else {
                                            int64_t tmp_178075 = add64(tt_177985, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tt_177985;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tmp_178075;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = count_177987;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = ss_177983;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                    }
                                    defunc_0_lifted_step_res_f_res_177997 = defunc_0_lifted_step_res_f_res_f_res_178003;
                                    defunc_0_lifted_step_res_f_res_177998 = defunc_0_lifted_step_res_f_res_f_res_178004;
                                    defunc_0_lifted_step_res_f_res_177999 = defunc_0_lifted_step_res_f_res_f_res_178005;
                                    defunc_0_lifted_step_res_f_res_178000 = defunc_0_lifted_step_res_f_res_f_res_178006;
                                }
                                defunc_0_lifted_step_res_177990 = defunc_0_lifted_step_res_f_res_177997;
                                defunc_0_lifted_step_res_177991 = defunc_0_lifted_step_res_f_res_177998;
                                defunc_0_lifted_step_res_177992 = defunc_0_lifted_step_res_f_res_177999;
                                defunc_0_lifted_step_res_177993 = defunc_0_lifted_step_res_f_res_178000;
                            }
                            
                            int64_t loopres_178076;
                            int64_t loopres_178077;
                            int64_t loopres_178078;
                            int64_t loopres_178079;
                            int64_t loopres_178080;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_178076, &loopres_178077, &loopres_178078, &loopres_178079, &loopres_178080, defunc_0_lifted_step_res_177990, ss_177984, defunc_0_lifted_step_res_177991, defunc_0_lifted_step_res_177992, defunc_0_lifted_step_res_177993) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178081 = slt64((int64_t) 0, loopres_178080);
                            bool loop_while_tmp_182689 = loop_cond_178081;
                            int64_t ss_tmp_182690 = loopres_178076;
                            int64_t ss_tmp_182691 = loopres_178077;
                            int64_t tt_tmp_182692 = loopres_178078;
                            int64_t tt_tmp_182693 = loopres_178079;
                            int64_t count_tmp_182694 = loopres_178080;
                            
                            loop_while_177982 = loop_while_tmp_182689;
                            ss_177983 = ss_tmp_182690;
                            ss_177984 = ss_tmp_182691;
                            tt_177985 = tt_tmp_182692;
                            tt_177986 = tt_tmp_182693;
                            count_177987 = count_tmp_182694;
                        }
                        defunc_0_split_count_res_177976 = loop_while_177982;
                        defunc_0_split_count_res_177977 = ss_177983;
                        defunc_0_split_count_res_177978 = ss_177984;
                        defunc_0_split_count_res_177979 = tt_177985;
                        defunc_0_split_count_res_177980 = tt_177986;
                        defunc_0_split_count_res_177981 = count_177987;
                        ((int64_t *) mem_181972)[i_180868] = defunc_0_split_count_res_177977;
                        ((int64_t *) mem_181974)[i_180868] = defunc_0_split_count_res_177979;
                    }
                    if (mem_181988_cached_sizze_182875 < flat_dim_177818) {
                        err = lexical_realloc(ctx, &mem_181988, &mem_181988_cached_sizze_182875, flat_dim_177818);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181991_cached_sizze_182876 < bytes_181990) {
                        err = lexical_realloc(ctx, &mem_181991, &mem_181991_cached_sizze_182876, bytes_181990);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_182877 < bytes_181993) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_182877, bytes_181993);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180877 = 0; i_180877 < num_blocks_177815; i_180877++) {
                        bool y_178088 = slt64(i_180877, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool index_certs_178090;
                        
                        if (!y_178088) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180877, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178091 = ((int64_t *) mem_181972)[i_180877];
                        int64_t defunc_0_f_res_178092 = ((int64_t *) mem_181974)[i_180877];
                        int64_t tmp_178093 = add64((int64_t) 1, i_180877);
                        bool x_178094 = sle64((int64_t) 0, tmp_178093);
                        bool y_178095 = slt64(tmp_178093, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool bounds_check_178096 = x_178094 && y_178095;
                        bool index_certs_178097;
                        
                        if (!bounds_check_178096) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178093, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178098 = ((int64_t *) mem_181972)[tmp_178093];
                        int64_t defunc_0_f_res_178099 = ((int64_t *) mem_181974)[tmp_178093];
                        int64_t merge_sequential_arg2_178100 = add64(stride_177794, defunc_0_f_res_178092);
                        int64_t merge_sequential_arg2_178101 = add64(stride_177794, defunc_0_f_res_178099);
                        int64_t j_m_i_178102 = sub64(merge_sequential_arg2_178101, merge_sequential_arg2_178100);
                        bool empty_slice_178103 = j_m_i_178102 == (int64_t) 0;
                        int64_t m_178104 = sub64(j_m_i_178102, (int64_t) 1);
                        int64_t i_p_m_t_s_178105 = add64(merge_sequential_arg2_178100, m_178104);
                        bool zzero_leq_i_p_m_t_s_178106 = sle64((int64_t) 0, i_p_m_t_s_178105);
                        bool i_p_m_t_s_leq_w_178107 = slt64(i_p_m_t_s_178105, next_stride_177795);
                        bool zzero_lte_i_178108 = sle64((int64_t) 0, merge_sequential_arg2_178100);
                        bool i_lte_j_178109 = sle64(merge_sequential_arg2_178100, merge_sequential_arg2_178101);
                        bool y_178110 = i_p_m_t_s_leq_w_178107 && zzero_lte_i_178108;
                        bool y_178111 = zzero_leq_i_p_m_t_s_178106 && y_178110;
                        bool forwards_ok_178112 = i_lte_j_178109 && y_178111;
                        bool ok_or_empty_178113 = empty_slice_178103 || forwards_ok_178112;
                        bool index_certs_178114;
                        
                        if (!ok_or_empty_178113) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178100, ":", (long long) merge_sequential_arg2_178101, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178115 = sub64(defunc_0_f_res_178098, defunc_0_f_res_178091);
                        bool empty_slice_178116 = j_m_i_178115 == (int64_t) 0;
                        int64_t m_178117 = sub64(j_m_i_178115, (int64_t) 1);
                        int64_t i_p_m_t_s_178118 = add64(defunc_0_f_res_178091, m_178117);
                        bool zzero_leq_i_p_m_t_s_178119 = sle64((int64_t) 0, i_p_m_t_s_178118);
                        bool i_p_m_t_s_leq_w_178120 = slt64(i_p_m_t_s_178118, next_stride_177795);
                        bool zzero_lte_i_178121 = sle64((int64_t) 0, defunc_0_f_res_178091);
                        bool i_lte_j_178122 = sle64(defunc_0_f_res_178091, defunc_0_f_res_178098);
                        bool y_178123 = i_p_m_t_s_leq_w_178120 && zzero_lte_i_178121;
                        bool y_178124 = zzero_leq_i_p_m_t_s_178119 && y_178123;
                        bool forwards_ok_178125 = i_lte_j_178122 && y_178124;
                        bool ok_or_empty_178126 = empty_slice_178116 || forwards_ok_178125;
                        bool index_certs_178127;
                        
                        if (!ok_or_empty_178126) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178091, ":", (long long) defunc_0_f_res_178098, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:398:63-73\n   #9  ftsort.fut:391:1-398:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178128 = slt64((int64_t) 0, j_m_i_178115);
                        int8_t dummy_178129;
                        int64_t dummy_178130;
                        float dummy_178131;
                        
                        if (cond_178128) {
                            bool index_certs_180639;
                            
                            if (!cond_178128) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180640 = start_177868 + defunc_0_f_res_178091;
                            int8_t head_res_180641 = ((int8_t *) mem_param_181944.mem)[slice_180640];
                            int64_t head_res_180642 = ((int64_t *) mem_param_181947.mem)[slice_180640];
                            float head_res_180643 = ((float *) mem_param_181950.mem)[slice_180640];
                            
                            dummy_178129 = head_res_180641;
                            dummy_178130 = head_res_180642;
                            dummy_178131 = head_res_180643;
                        } else {
                            bool y_178137 = slt64((int64_t) 0, j_m_i_178102);
                            bool index_certs_178138;
                            
                            if (!y_178137) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:398:63-73\n   #11 ftsort.fut:391:1-398:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178139 = start_177868 + merge_sequential_arg2_178100;
                            int8_t head_res_178140 = ((int8_t *) mem_param_181944.mem)[slice_178139];
                            int64_t head_res_178141 = ((int64_t *) mem_param_181947.mem)[slice_178139];
                            float head_res_178142 = ((float *) mem_param_181950.mem)[slice_178139];
                            
                            dummy_178129 = head_res_178140;
                            dummy_178130 = head_res_178141;
                            dummy_178131 = head_res_178142;
                        }
                        for (int64_t nest_i_182698 = 0; nest_i_182698 < merge_block_sizze_177632; nest_i_182698++) {
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + nest_i_182698] = dummy_178129;
                        }
                        for (int64_t nest_i_182699 = 0; nest_i_182699 < merge_block_sizze_177632; nest_i_182699++) {
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + nest_i_182699] = dummy_178130;
                        }
                        for (int64_t nest_i_182700 = 0; nest_i_182700 < merge_block_sizze_177632; nest_i_182700++) {
                            ((float *) mem_181994)[i_180877 * merge_block_sizze_177632 + nest_i_182700] = dummy_178131;
                        }
                        
                        int64_t data_178146;
                        int64_t i_178151 = (int64_t) 0;
                        
                        for (int64_t k_178150 = 0; k_178150 < merge_block_sizze_177632; k_178150++) {
                            int64_t j_178155 = sub64(k_178150, i_178151);
                            bool cond_178156 = j_178155 == j_m_i_178102;
                            bool cond_178157;
                            
                            if (cond_178156) {
                                cond_178157 = 1;
                            } else {
                                bool cond_178158 = slt64(i_178151, j_m_i_178115);
                                bool cond_f_res_178159;
                                
                                if (cond_178158) {
                                    bool x_180644 = sle64((int64_t) 0, j_178155);
                                    bool y_180645 = slt64(j_178155, j_m_i_178102);
                                    bool bounds_check_180646 = x_180644 && y_180645;
                                    bool index_certs_180647;
                                    
                                    if (!bounds_check_180646) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180653 = sle64((int64_t) 0, i_178151);
                                    bool bounds_check_180654 = cond_178158 && x_180653;
                                    bool index_certs_180655;
                                    
                                    if (!bounds_check_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180648 = merge_sequential_arg2_178100 + j_178155;
                                    int64_t slice_180649 = start_177868 + slice_180648;
                                    int8_t leq_arg1_180650 = ((int8_t *) mem_param_181944.mem)[slice_180649];
                                    int64_t leq_arg1_180651 = ((int64_t *) mem_param_181947.mem)[slice_180649];
                                    float leq_arg1_180652 = ((float *) mem_param_181950.mem)[slice_180649];
                                    int64_t slice_180656 = defunc_0_f_res_178091 + i_178151;
                                    int64_t slice_180657 = start_177868 + slice_180656;
                                    int8_t leq_arg0_180658 = ((int8_t *) mem_param_181944.mem)[slice_180657];
                                    int64_t leq_arg0_180659 = ((int64_t *) mem_param_181947.mem)[slice_180657];
                                    float leq_arg0_180660 = ((float *) mem_param_181950.mem)[slice_180657];
                                    bool cond_180661 = leq_arg0_180658 == leq_arg1_180650;
                                    bool defunc_0_leq_res_t_res_180662 = sle64(leq_arg0_180659, leq_arg1_180651);
                                    bool defunc_0_leq_res_180663 = leq_arg0_180660 <= leq_arg1_180652;
                                    bool x_180664 = cond_180661 && defunc_0_leq_res_t_res_180662;
                                    bool x_180665 = !cond_180661;
                                    bool y_180666 = defunc_0_leq_res_180663 && x_180665;
                                    bool defunc_0_leq_res_180667 = x_180664 || y_180666;
                                    
                                    cond_f_res_178159 = defunc_0_leq_res_180667;
                                } else {
                                    cond_f_res_178159 = 0;
                                }
                                cond_178157 = cond_f_res_178159;
                            }
                            
                            int64_t loopres_178184;
                            int8_t loopres_178185;
                            int64_t loopres_178186;
                            float loopres_178187;
                            
                            if (cond_178157) {
                                bool x_180669 = sle64((int64_t) 0, i_178151);
                                bool y_180670 = slt64(i_178151, j_m_i_178115);
                                bool bounds_check_180671 = x_180669 && y_180670;
                                bool index_certs_180672;
                                
                                if (!bounds_check_180671) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180668 = add64((int64_t) 1, i_178151);
                                int64_t slice_180673 = defunc_0_f_res_178091 + i_178151;
                                int64_t slice_180674 = start_177868 + slice_180673;
                                int8_t tmp_180675 = ((int8_t *) mem_param_181944.mem)[slice_180674];
                                int64_t tmp_180676 = ((int64_t *) mem_param_181947.mem)[slice_180674];
                                float tmp_180677 = ((float *) mem_param_181950.mem)[slice_180674];
                                
                                loopres_178184 = tmp_180668;
                                loopres_178185 = tmp_180675;
                                loopres_178186 = tmp_180676;
                                loopres_178187 = tmp_180677;
                            } else {
                                bool x_178198 = sle64((int64_t) 0, j_178155);
                                bool y_178199 = slt64(j_178155, j_m_i_178102);
                                bool bounds_check_178200 = x_178198 && y_178199;
                                bool index_certs_178201;
                                
                                if (!bounds_check_178200) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:398:63-73\n   #10 ftsort.fut:391:1-398:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178202 = merge_sequential_arg2_178100 + j_178155;
                                int64_t slice_178203 = start_177868 + slice_178202;
                                int8_t tmp_178204 = ((int8_t *) mem_param_181944.mem)[slice_178203];
                                int64_t tmp_178205 = ((int64_t *) mem_param_181947.mem)[slice_178203];
                                float tmp_178206 = ((float *) mem_param_181950.mem)[slice_178203];
                                
                                loopres_178184 = i_178151;
                                loopres_178185 = tmp_178204;
                                loopres_178186 = tmp_178205;
                                loopres_178187 = tmp_178206;
                            }
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178185;
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178186;
                            ((float *) mem_181994)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178187;
                            
                            int64_t i_tmp_182701 = loopres_178184;
                            
                            i_178151 = i_tmp_182701;
                        }
                        data_178146 = i_178151;
                    }
                    if (memblock_alloc(ctx, &mem_182043, flat_dim_177818, "mem_182043")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182043.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint8_t *) mem_181988, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182047, bytes_181990, "mem_182047")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182047.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint64_t *) mem_181991, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182051, bytes_181993, "mem_182051")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_182051.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint32_t *) mem_181994, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182043, "mem_182043") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182047, "mem_182047") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182051, "mem_182051") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181952, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181955, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182081.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181958, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182078.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182098, bytes_181951, "mem_182098")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182098.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182102, bytes_181954, "mem_182102")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182102.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint64_t *) mem_181955, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182106, bytes_181957, "mem_182106")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_182106.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint32_t *) mem_181958, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            
            bool loop_cond_178220 = slt64(next_stride_177795, flat_dim_177627);
            
            if (memblock_set(ctx, &mem_param_tmp_182668, &mem_182098, "mem_182098") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182669, &mem_182102, "mem_182102") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182670, &mem_182106, "mem_182106") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182671 = bytes_181951;
            bool loop_while_tmp_182672 = loop_cond_178220;
            int64_t stride_tmp_182676 = next_stride_177795;
            
            if (memblock_set(ctx, &mem_param_181944, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181947, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181950, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
                return 1;
            loop_dz2084Uz2082U_177789 = loop_dz2084Uz2082U_tmp_182671;
            loop_while_177790 = loop_while_tmp_182672;
            stride_177794 = stride_tmp_182676;
        }
        if (memblock_set(ctx, &ext_mem_182116, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182115, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182114, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        data_177783 = loop_dz2084Uz2082U_177789;
        data_177784 = loop_while_177790;
        data_177788 = stride_177794;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178223 = slt64(zs_lhs_177611, data_177783);
        bool y_178224 = i_p_m_t_s_leq_w_178223 && zzero_leq_i_p_m_t_s_178237;
        bool ok_or_empty_178225 = y_178224 || empty_slice_178235;
        bool index_certs_178226;
        
        if (!ok_or_empty_178225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) data_177783, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:398:63-73\n   #5  ftsort.fut:391:1-398:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182125, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182125.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181036.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182122.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181038.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182119.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181036, "mem_181036") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182448, &mem_181038, "mem_181038") != 0)
        return 1;
    prim_out_182449 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    if (memblock_set(ctx, &*mem_out_p_182824, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182825, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182826, &mem_out_182448, "mem_out_182448") != 0)
        return 1;
    *out_prim_out_182827 = prim_out_182449;
    
  cleanup:
    {
        free(mem_181049);
        free(mem_181051);
        free(mem_181090);
        free(mem_181093);
        free(mem_181096);
        free(mem_181109);
        free(mem_181111);
        free(mem_181113);
        free(mem_181210);
        free(mem_181213);
        free(mem_181216);
        free(mem_181230);
        free(mem_181232);
        free(mem_181246);
        free(mem_181249);
        free(mem_181252);
        free(mem_181394);
        free(mem_181396);
        free(mem_181411);
        free(mem_181413);
        free(mem_181416);
        free(mem_181419);
        free(mem_181453);
        free(mem_181456);
        free(mem_181459);
        free(mem_181472);
        free(mem_181474);
        free(mem_181476);
        free(mem_181573);
        free(mem_181576);
        free(mem_181579);
        free(mem_181593);
        free(mem_181595);
        free(mem_181609);
        free(mem_181612);
        free(mem_181615);
        free(mem_181832);
        free(mem_181835);
        free(mem_181838);
        free(mem_181851);
        free(mem_181853);
        free(mem_181855);
        free(mem_181952);
        free(mem_181955);
        free(mem_181958);
        free(mem_181972);
        free(mem_181974);
        free(mem_181988);
        free(mem_181991);
        free(mem_181994);
        if (memblock_unref(ctx, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182106, "mem_182106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182102, "mem_182102") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182098, "mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182051, "mem_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182047, "mem_182047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182043, "mem_182043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182057, "mem_182057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182055, "mem_182055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182053, "mem_182053") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181364, "mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181360, "mem_181360") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181309, "mem_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181315, "mem_181315") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181313, "mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181311, "mem_181311") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181208, "mem_param_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181205, "mem_param_181205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181202, "mem_param_181202") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181372, "ext_mem_181372") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181374, "ext_mem_181374") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181068, "mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181066, "mem_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181064, "mem_181064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181774, "mem_181774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181772, "mem_181772") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181727, "mem_181727") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181723, "mem_181723") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181672, "mem_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181668, "mem_181668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181664, "mem_181664") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181678, "mem_181678") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181676, "mem_181676") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181674, "mem_181674") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181571, "mem_param_181571") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181568, "mem_param_181568") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181565, "mem_param_181565") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181735, "ext_mem_181735") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181736, "ext_mem_181736") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181737, "ext_mem_181737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181038, "mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181036, "mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182448, "mem_out_182448") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_int(struct futhark_context *ctx, struct memblock *mem_out_p_182878, struct memblock *mem_out_p_182879, struct memblock *mem_out_p_182880, int64_t *out_prim_out_182881, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_131707, int64_t nb_131708, int64_t window_sizze_131709, int64_t threads_131710, bool inParallel_131713)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181049_cached_sizze_182882 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_182883 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181090_cached_sizze_182884 = 0;
    unsigned char *mem_181090 = NULL;
    int64_t mem_181093_cached_sizze_182885 = 0;
    unsigned char *mem_181093 = NULL;
    int64_t mem_181096_cached_sizze_182886 = 0;
    unsigned char *mem_181096 = NULL;
    int64_t mem_181109_cached_sizze_182887 = 0;
    unsigned char *mem_181109 = NULL;
    int64_t mem_181111_cached_sizze_182888 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181113_cached_sizze_182889 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181210_cached_sizze_182890 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181213_cached_sizze_182891 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181216_cached_sizze_182892 = 0;
    unsigned char *mem_181216 = NULL;
    int64_t mem_181230_cached_sizze_182893 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181232_cached_sizze_182894 = 0;
    unsigned char *mem_181232 = NULL;
    int64_t mem_181246_cached_sizze_182895 = 0;
    unsigned char *mem_181246 = NULL;
    int64_t mem_181249_cached_sizze_182896 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181252_cached_sizze_182897 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181394_cached_sizze_182898 = 0;
    unsigned char *mem_181394 = NULL;
    int64_t mem_181396_cached_sizze_182899 = 0;
    unsigned char *mem_181396 = NULL;
    int64_t mem_181411_cached_sizze_182900 = 0;
    unsigned char *mem_181411 = NULL;
    int64_t mem_181413_cached_sizze_182901 = 0;
    unsigned char *mem_181413 = NULL;
    int64_t mem_181416_cached_sizze_182902 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181419_cached_sizze_182903 = 0;
    unsigned char *mem_181419 = NULL;
    int64_t mem_181453_cached_sizze_182904 = 0;
    unsigned char *mem_181453 = NULL;
    int64_t mem_181456_cached_sizze_182905 = 0;
    unsigned char *mem_181456 = NULL;
    int64_t mem_181459_cached_sizze_182906 = 0;
    unsigned char *mem_181459 = NULL;
    int64_t mem_181472_cached_sizze_182907 = 0;
    unsigned char *mem_181472 = NULL;
    int64_t mem_181474_cached_sizze_182908 = 0;
    unsigned char *mem_181474 = NULL;
    int64_t mem_181476_cached_sizze_182909 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181573_cached_sizze_182910 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181576_cached_sizze_182911 = 0;
    unsigned char *mem_181576 = NULL;
    int64_t mem_181579_cached_sizze_182912 = 0;
    unsigned char *mem_181579 = NULL;
    int64_t mem_181593_cached_sizze_182913 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181595_cached_sizze_182914 = 0;
    unsigned char *mem_181595 = NULL;
    int64_t mem_181609_cached_sizze_182915 = 0;
    unsigned char *mem_181609 = NULL;
    int64_t mem_181612_cached_sizze_182916 = 0;
    unsigned char *mem_181612 = NULL;
    int64_t mem_181615_cached_sizze_182917 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181832_cached_sizze_182918 = 0;
    unsigned char *mem_181832 = NULL;
    int64_t mem_181835_cached_sizze_182919 = 0;
    unsigned char *mem_181835 = NULL;
    int64_t mem_181838_cached_sizze_182920 = 0;
    unsigned char *mem_181838 = NULL;
    int64_t mem_181851_cached_sizze_182921 = 0;
    unsigned char *mem_181851 = NULL;
    int64_t mem_181853_cached_sizze_182922 = 0;
    unsigned char *mem_181853 = NULL;
    int64_t mem_181855_cached_sizze_182923 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181952_cached_sizze_182924 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181955_cached_sizze_182925 = 0;
    unsigned char *mem_181955 = NULL;
    int64_t mem_181958_cached_sizze_182926 = 0;
    unsigned char *mem_181958 = NULL;
    int64_t mem_181972_cached_sizze_182927 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181974_cached_sizze_182928 = 0;
    unsigned char *mem_181974 = NULL;
    int64_t mem_181988_cached_sizze_182929 = 0;
    unsigned char *mem_181988 = NULL;
    int64_t mem_181991_cached_sizze_182930 = 0;
    unsigned char *mem_181991 = NULL;
    int64_t mem_181994_cached_sizze_182931 = 0;
    unsigned char *mem_181994 = NULL;
    struct memblock mem_param_tmp_182670;
    
    mem_param_tmp_182670.references = NULL;
    
    struct memblock mem_param_tmp_182669;
    
    mem_param_tmp_182669.references = NULL;
    
    struct memblock mem_param_tmp_182668;
    
    mem_param_tmp_182668.references = NULL;
    
    struct memblock mem_182106;
    
    mem_182106.references = NULL;
    
    struct memblock mem_182102;
    
    mem_182102.references = NULL;
    
    struct memblock mem_182098;
    
    mem_182098.references = NULL;
    
    struct memblock mem_182051;
    
    mem_182051.references = NULL;
    
    struct memblock mem_182047;
    
    mem_182047.references = NULL;
    
    struct memblock mem_182043;
    
    mem_182043.references = NULL;
    
    struct memblock mem_182057;
    
    mem_182057.references = NULL;
    
    struct memblock mem_182055;
    
    mem_182055.references = NULL;
    
    struct memblock mem_182053;
    
    mem_182053.references = NULL;
    
    struct memblock ext_mem_182078;
    
    ext_mem_182078.references = NULL;
    
    struct memblock ext_mem_182081;
    
    ext_mem_182081.references = NULL;
    
    struct memblock ext_mem_182084;
    
    ext_mem_182084.references = NULL;
    
    struct memblock mem_param_181950;
    
    mem_param_181950.references = NULL;
    
    struct memblock mem_param_181947;
    
    mem_param_181947.references = NULL;
    
    struct memblock mem_param_181944;
    
    mem_param_181944.references = NULL;
    
    struct memblock ext_mem_182114;
    
    ext_mem_182114.references = NULL;
    
    struct memblock ext_mem_182115;
    
    ext_mem_182115.references = NULL;
    
    struct memblock ext_mem_182116;
    
    ext_mem_182116.references = NULL;
    
    struct memblock mem_181940;
    
    mem_181940.references = NULL;
    
    struct memblock mem_181936;
    
    mem_181936.references = NULL;
    
    struct memblock mem_181932;
    
    mem_181932.references = NULL;
    
    struct memblock ext_mem_182119;
    
    ext_mem_182119.references = NULL;
    
    struct memblock ext_mem_182122;
    
    ext_mem_182122.references = NULL;
    
    struct memblock ext_mem_182125;
    
    ext_mem_182125.references = NULL;
    
    struct memblock mem_181830;
    
    mem_181830.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181826;
    
    mem_181826.references = NULL;
    
    struct memblock mem_param_tmp_182604;
    
    mem_param_tmp_182604.references = NULL;
    
    struct memblock mem_param_tmp_182603;
    
    mem_param_tmp_182603.references = NULL;
    
    struct memblock mem_param_tmp_182602;
    
    mem_param_tmp_182602.references = NULL;
    
    struct memblock mem_181364;
    
    mem_181364.references = NULL;
    
    struct memblock mem_181360;
    
    mem_181360.references = NULL;
    
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181309;
    
    mem_181309.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock mem_181315;
    
    mem_181315.references = NULL;
    
    struct memblock mem_181313;
    
    mem_181313.references = NULL;
    
    struct memblock mem_181311;
    
    mem_181311.references = NULL;
    
    struct memblock ext_mem_181336;
    
    ext_mem_181336.references = NULL;
    
    struct memblock ext_mem_181339;
    
    ext_mem_181339.references = NULL;
    
    struct memblock ext_mem_181342;
    
    ext_mem_181342.references = NULL;
    
    struct memblock mem_param_181208;
    
    mem_param_181208.references = NULL;
    
    struct memblock mem_param_181205;
    
    mem_param_181205.references = NULL;
    
    struct memblock mem_param_181202;
    
    mem_param_181202.references = NULL;
    
    struct memblock ext_mem_181372;
    
    ext_mem_181372.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock ext_mem_181374;
    
    ext_mem_181374.references = NULL;
    
    struct memblock mem_181198;
    
    mem_181198.references = NULL;
    
    struct memblock mem_181194;
    
    mem_181194.references = NULL;
    
    struct memblock mem_181190;
    
    mem_181190.references = NULL;
    
    struct memblock ext_mem_181377;
    
    ext_mem_181377.references = NULL;
    
    struct memblock ext_mem_181380;
    
    ext_mem_181380.references = NULL;
    
    struct memblock ext_mem_181383;
    
    ext_mem_181383.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181068;
    
    mem_181068.references = NULL;
    
    struct memblock mem_181066;
    
    mem_181066.references = NULL;
    
    struct memblock mem_181064;
    
    mem_181064.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock mem_181774;
    
    mem_181774.references = NULL;
    
    struct memblock mem_181772;
    
    mem_181772.references = NULL;
    
    struct memblock mem_param_tmp_182510;
    
    mem_param_tmp_182510.references = NULL;
    
    struct memblock mem_param_tmp_182509;
    
    mem_param_tmp_182509.references = NULL;
    
    struct memblock mem_param_tmp_182508;
    
    mem_param_tmp_182508.references = NULL;
    
    struct memblock mem_181727;
    
    mem_181727.references = NULL;
    
    struct memblock mem_181723;
    
    mem_181723.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181672;
    
    mem_181672.references = NULL;
    
    struct memblock mem_181668;
    
    mem_181668.references = NULL;
    
    struct memblock mem_181664;
    
    mem_181664.references = NULL;
    
    struct memblock mem_181678;
    
    mem_181678.references = NULL;
    
    struct memblock mem_181676;
    
    mem_181676.references = NULL;
    
    struct memblock mem_181674;
    
    mem_181674.references = NULL;
    
    struct memblock ext_mem_181699;
    
    ext_mem_181699.references = NULL;
    
    struct memblock ext_mem_181702;
    
    ext_mem_181702.references = NULL;
    
    struct memblock ext_mem_181705;
    
    ext_mem_181705.references = NULL;
    
    struct memblock mem_param_181571;
    
    mem_param_181571.references = NULL;
    
    struct memblock mem_param_181568;
    
    mem_param_181568.references = NULL;
    
    struct memblock mem_param_181565;
    
    mem_param_181565.references = NULL;
    
    struct memblock ext_mem_181735;
    
    ext_mem_181735.references = NULL;
    
    struct memblock ext_mem_181736;
    
    ext_mem_181736.references = NULL;
    
    struct memblock ext_mem_181737;
    
    ext_mem_181737.references = NULL;
    
    struct memblock mem_181561;
    
    mem_181561.references = NULL;
    
    struct memblock mem_181557;
    
    mem_181557.references = NULL;
    
    struct memblock mem_181553;
    
    mem_181553.references = NULL;
    
    struct memblock ext_mem_181740;
    
    ext_mem_181740.references = NULL;
    
    struct memblock ext_mem_181743;
    
    ext_mem_181743.references = NULL;
    
    struct memblock ext_mem_181746;
    
    ext_mem_181746.references = NULL;
    
    struct memblock mem_181451;
    
    mem_181451.references = NULL;
    
    struct memblock mem_181449;
    
    mem_181449.references = NULL;
    
    struct memblock mem_181447;
    
    mem_181447.references = NULL;
    
    struct memblock ext_mem_181796;
    
    ext_mem_181796.references = NULL;
    
    struct memblock ext_mem_181799;
    
    ext_mem_181799.references = NULL;
    
    struct memblock ext_mem_181802;
    
    ext_mem_181802.references = NULL;
    
    struct memblock mem_181038;
    
    mem_181038.references = NULL;
    
    struct memblock mem_181036;
    
    mem_181036.references = NULL;
    
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t prim_out_182449;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521 = add64(na_131707, nb_131708);
    
    if (memblock_alloc(ctx, &mem_181034, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182450 = 0; nest_i_182450 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182450++) {
        ((int8_t *) mem_181034.mem)[nest_i_182450] = (int8_t) -1;
    }
    
    int64_t bytes_181035 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    
    if (memblock_alloc(ctx, &mem_181036, bytes_181035, "mem_181036")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182451 = 0; nest_i_182451 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182451++) {
        ((int64_t *) mem_181036.mem)[nest_i_182451] = (int64_t) -1;
    }
    
    int64_t bytes_181037 = (int64_t) 4 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    
    if (memblock_alloc(ctx, &mem_181038, bytes_181037, "mem_181038")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182452 = 0; nest_i_182452 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182452++) {
        ((int32_t *) mem_181038.mem)[nest_i_182452] = 0;
    }
    
    int64_t zl_rhs_175525 = sub64(na_131707, window_sizze_131709);
    bool cond_175526 = slt64((int64_t) 0, zl_rhs_175525);
    int64_t zl_rhs_175527 = sub64(nb_131708, window_sizze_131709);
    bool loop_cond_t_res_175528 = slt64((int64_t) 0, zl_rhs_175527);
    bool x_175529 = cond_175526 && loop_cond_t_res_175528;
    bool empty_slice_175530 = window_sizze_131709 == (int64_t) 0;
    int64_t m_175531 = sub64(window_sizze_131709, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556 = add64((int64_t) 1, threads_131710);
    int64_t partitionFunc_arg0_176557 = mul64((int64_t) 2, threads_131710);
    bool y_176559 = slt64((int64_t) 0, window_sizze_131709);
    bool loop_cond_176805 = slt64((int64_t) 0, threads_131710);
    bool zzero_175576 = threads_131710 == (int64_t) 0;
    bool nonzzero_175577 = !zzero_175576;
    bool loop_not_taken_178334 = !inParallel_131713;
    bool protect_assert_disj_178335 = nonzzero_175577 || loop_not_taken_178334;
    bool loop_not_taken_178424 = !x_175529;
    bool protect_assert_disj_178425 = protect_assert_disj_178335 || loop_not_taken_178424;
    bool nonzzero_cert_175578;
    
    if (!protect_assert_disj_178425) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175579 = sdiv_safe64(window_sizze_131709, threads_131710);
    int64_t perThread_175580 = add64((int64_t) 1, zp_rhs_175579);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581 = mul64(threads_131710, perThread_175580);
    bool protect_assert_disj_178471 = inParallel_131713 || y_176559;
    bool protect_assert_disj_178475 = loop_not_taken_178424 || protect_assert_disj_178471;
    bool index_certs_176560;
    
    if (!protect_assert_disj_178475) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176575 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, (int64_t) 1);
    bool y_177532 = slt64(threads_131710, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
    bool protect_assert_disj_178440 = y_176559 || loop_not_taken_178334;
    bool protect_assert_disj_178479 = loop_not_taken_178424 || protect_assert_disj_178440;
    bool index_certs_175584;
    
    if (!protect_assert_disj_178479) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176577 = !bounds_invalid_upwards_176575;
    bool protect_assert_disj_178487 = inParallel_131713 || y_177532;
    bool protect_assert_disj_178489 = loop_not_taken_178424 || protect_assert_disj_178487;
    bool index_certs_177534;
    
    if (!protect_assert_disj_178489) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_131710, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178483 = y_177532 || loop_not_taken_178334;
    bool protect_assert_disj_178491 = loop_not_taken_178424 || protect_assert_disj_178483;
    bool index_certs_176538;
    
    if (!protect_assert_disj_178491) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_131710, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178499 = inParallel_131713 || valid_176577;
    bool protect_assert_disj_178501 = loop_not_taken_178424 || protect_assert_disj_178499;
    bool range_valid_c_176578;
    
    if (!protect_assert_disj_178501) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178343 = sle64((int64_t) 1, threads_131710);
    bool protect_assert_disj_178495 = valid_176577 || loop_not_taken_178334;
    bool protect_assert_disj_178503 = loop_not_taken_178424 || protect_assert_disj_178495;
    bool range_valid_c_175591;
    
    if (!protect_assert_disj_178503) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176580 = add64(window_sizze_131709, window_sizze_131709);
    bool zzero_176581 = partitionFunc_arg0_176557 == (int64_t) 0;
    int64_t index_concat_i_178344 = sub64(threads_131710, (int64_t) 1);
    bool nonzzero_176582 = !zzero_176581;
    bool protect_assert_disj_178511 = inParallel_131713 || nonzzero_176582;
    bool protect_assert_disj_178517 = loop_not_taken_178424 || protect_assert_disj_178511;
    bool nonzzero_cert_176583;
    
    if (!protect_assert_disj_178517) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178507 = nonzzero_176582 || loop_not_taken_178334;
    bool protect_assert_disj_178523 = loop_not_taken_178424 || protect_assert_disj_178507;
    bool nonzzero_cert_175596;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181048 = (int64_t) 8 * threads_131710;
    int64_t bytes_181065 = (int64_t) 8 * window_sizze_131709;
    int64_t bytes_181067 = (int64_t) 4 * window_sizze_131709;
    int64_t bytes_181410 = perThread_175580 * bytes_181048;
    int64_t binop_x_181417 = (int64_t) 4 * threads_131710;
    int64_t bytes_181418 = perThread_175580 * binop_x_181417;
    bool defunc_0_merge_pipeline_res_175532;
    int64_t defunc_0_merge_pipeline_res_175536;
    int64_t defunc_0_merge_pipeline_res_175537;
    bool loop_while_175538;
    int64_t p_175542;
    int64_t p_175543;
    
    loop_while_175538 = x_175529;
    p_175542 = (int64_t) 0;
    p_175543 = (int64_t) 0;
    while (loop_while_175538) {
        int64_t ubs_175544 = add64(window_sizze_131709, p_175542);
        int64_t ubs_175545 = add64(window_sizze_131709, p_175543);
        int64_t ind_bottom_175546 = add64(p_175542, p_175543);
        int64_t ind_top_175547 = add64(window_sizze_131709, ind_bottom_175546);
        int64_t i_p_m_t_s_175548 = add64(m_175531, p_175542);
        bool zzero_leq_i_p_m_t_s_175549 = sle64((int64_t) 0, i_p_m_t_s_175548);
        bool i_p_m_t_s_leq_w_175550 = slt64(i_p_m_t_s_175548, na_131707);
        bool zzero_lte_i_175551 = sle64((int64_t) 0, p_175542);
        bool i_lte_j_175552 = sle64(p_175542, ubs_175544);
        bool y_175553 = i_p_m_t_s_leq_w_175550 && zzero_lte_i_175551;
        bool y_175554 = zzero_leq_i_p_m_t_s_175549 && y_175553;
        bool forwards_ok_175555 = i_lte_j_175552 && y_175554;
        bool ok_or_empty_175556 = empty_slice_175530 || forwards_ok_175555;
        bool index_certs_175557;
        
        if (!ok_or_empty_175556) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175542, ":", (long long) ubs_175544, "] out of bounds for array of shape [", (long long) na_131707, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175559 = add64(m_175531, p_175543);
        bool zzero_leq_i_p_m_t_s_175560 = sle64((int64_t) 0, i_p_m_t_s_175559);
        bool i_p_m_t_s_leq_w_175561 = slt64(i_p_m_t_s_175559, nb_131708);
        bool zzero_lte_i_175562 = sle64((int64_t) 0, p_175543);
        bool i_lte_j_175563 = sle64(p_175543, ubs_175545);
        bool y_175564 = i_p_m_t_s_leq_w_175561 && zzero_lte_i_175562;
        bool y_175565 = zzero_leq_i_p_m_t_s_175560 && y_175564;
        bool forwards_ok_175566 = i_lte_j_175563 && y_175565;
        bool ok_or_empty_175567 = empty_slice_175530 || forwards_ok_175566;
        bool index_certs_175568;
        
        if (!ok_or_empty_175567) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175543, ":", (long long) ubs_175545, "] out of bounds for array of shape [", (long long) nb_131708, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177546 = add64(m_175531, ind_bottom_175546);
        bool zzero_leq_i_p_m_t_s_177547 = sle64((int64_t) 0, i_p_m_t_s_177546);
        bool i_p_m_t_s_leq_w_177548 = slt64(i_p_m_t_s_177546, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
        bool zzero_lte_i_177549 = sle64((int64_t) 0, ind_bottom_175546);
        bool i_lte_j_177550 = sle64(ind_bottom_175546, ind_top_175547);
        bool y_177551 = i_p_m_t_s_leq_w_177548 && zzero_lte_i_177549;
        bool y_177552 = zzero_leq_i_p_m_t_s_177547 && y_177551;
        bool forwards_ok_177553 = i_lte_j_177550 && y_177552;
        bool ok_or_empty_177554 = empty_slice_175530 || forwards_ok_177553;
        bool index_certs_177555;
        
        if (!ok_or_empty_177554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175546, ":", (long long) ind_top_175547, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175570;
        int64_t loopres_175571;
        
        if (inParallel_131713) {
            int32_t leq_lhs_179004 = ((int32_t *) a_list_mem_181032.mem)[p_175542];
            int32_t leq_rhs_179005 = ((int32_t *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_179006 = sle32(leq_lhs_179004, leq_rhs_179005);
            int32_t lowest_179007;
            
            if (defunc_0_leq_res_179006) {
                lowest_179007 = leq_lhs_179004;
            } else {
                lowest_179007 = leq_rhs_179005;
            }
            if (mem_181394_cached_sizze_182898 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181394, &mem_181394_cached_sizze_182898, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181396_cached_sizze_182899 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181396, &mem_181396_cached_sizze_182899, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180696 = 0; i_180696 < threads_131710; i_180696++) {
                int64_t index_primexp_180968 = add64((int64_t) 1, i_180696);
                int64_t zs_lhs_179012 = mul64(zt_rhs_176580, index_primexp_180968);
                int64_t index_179013 = sdiv64(zs_lhs_179012, partitionFunc_arg0_176557);
                bool cond_179014 = slt64(window_sizze_131709, index_179013);
                int64_t loop_over_179015;
                
                if (cond_179014) {
                    loop_over_179015 = window_sizze_131709;
                } else {
                    loop_over_179015 = index_179013;
                }
                
                int64_t loop_over_179016;
                
                if (cond_179014) {
                    int64_t loop_over_t_res_179017 = sub64(index_179013, window_sizze_131709);
                    
                    loop_over_179016 = loop_over_t_res_179017;
                } else {
                    loop_over_179016 = (int64_t) 0;
                }
                
                int64_t loop_over_179018;
                
                if (cond_179014) {
                    int64_t zm_lhs_179019 = sub64(index_179013, window_sizze_131709);
                    int64_t loop_over_t_res_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                    
                    loop_over_179018 = loop_over_t_res_179020;
                } else {
                    loop_over_179018 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179021;
                int64_t defunc_0_f_res_179022;
                int64_t defunc_0_f_res_179023;
                int64_t defunc_0_f_res_179024;
                bool loop_while_179025;
                int64_t p_179026;
                int64_t p_179027;
                int64_t p_179028;
                
                loop_while_179025 = 1;
                p_179026 = loop_over_179018;
                p_179027 = loop_over_179015;
                p_179028 = loop_over_179016;
                while (loop_while_179025) {
                    int64_t zs_lhs_179029 = sub64(p_179027, p_179026);
                    int64_t offset_179030 = sdiv64(zs_lhs_179029, (int64_t) 2);
                    int64_t ai_179031 = sub64(p_179027, offset_179030);
                    int64_t max_arg1_179032 = add64(p_179028, offset_179030);
                    int64_t max_res_179033 = smax64((int64_t) 0, max_arg1_179032);
                    bool cond_179034 = slt64((int64_t) 0, max_res_179033);
                    int32_t b_prev_179035;
                    
                    if (cond_179034) {
                        int64_t tmp_179036 = sub64(max_res_179033, (int64_t) 1);
                        bool x_179037 = sle64((int64_t) 0, tmp_179036);
                        bool y_179038 = slt64(tmp_179036, window_sizze_131709);
                        bool bounds_check_179039 = x_179037 && y_179038;
                        bool index_certs_179040;
                        
                        if (!bounds_check_179039) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179036, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179041 = p_175543 + tmp_179036;
                        int32_t b_prev_t_res_179042 = ((int32_t *) b_list_mem_181033.mem)[slice_179041];
                        
                        b_prev_179035 = b_prev_t_res_179042;
                    } else {
                        b_prev_179035 = lowest_179007;
                    }
                    
                    bool cond_179043 = sle64(ai_179031, (int64_t) 0);
                    int64_t loopres_179044;
                    int64_t loopres_179045;
                    int64_t loopres_179046;
                    bool loopres_179047;
                    
                    if (cond_179043) {
                        loopres_179044 = p_179026;
                        loopres_179045 = (int64_t) 0;
                        loopres_179046 = max_res_179033;
                        loopres_179047 = 0;
                    } else {
                        bool cond_179048 = sle64(window_sizze_131709, max_res_179033);
                        int64_t loopres_f_res_179049;
                        int64_t loopres_f_res_179050;
                        int64_t loopres_f_res_179051;
                        bool loopres_f_res_179052;
                        
                        if (cond_179048) {
                            int64_t min_res_179054 = smin64(m_175531, ai_179031);
                            bool x_179055 = sle64((int64_t) 0, m_175531);
                            bool y_179056 = slt64(m_175531, window_sizze_131709);
                            bool bounds_check_179057 = x_179055 && y_179056;
                            bool index_certs_179058;
                            
                            if (!bounds_check_179057) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179061 = sle64((int64_t) 0, min_res_179054);
                            bool y_179062 = slt64(min_res_179054, window_sizze_131709);
                            bool bounds_check_179063 = x_179061 && y_179062;
                            bool index_certs_179064;
                            
                            if (!bounds_check_179063) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179054, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_179060 = ((int32_t *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_179065 = p_175542 + min_res_179054;
                            int32_t leq_rhs_179066 = ((int32_t *) a_list_mem_181032.mem)[slice_179065];
                            bool defunc_0_leq_res_179067 = sle32(leq_lhs_179060, leq_rhs_179066);
                            int64_t loopres_f_res_t_res_179068;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179068 = ai_179031;
                            } else {
                                loopres_f_res_t_res_179068 = p_179027;
                            }
                            
                            bool x_179069 = !defunc_0_leq_res_179067;
                            int64_t loopres_f_res_t_res_179070;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179070 = window_sizze_131709;
                            } else {
                                int64_t tmp_179071 = sub64(m_175531, offset_179030);
                                
                                loopres_f_res_t_res_179070 = tmp_179071;
                            }
                            loopres_f_res_179049 = p_179026;
                            loopres_f_res_179050 = loopres_f_res_t_res_179068;
                            loopres_f_res_179051 = loopres_f_res_t_res_179070;
                            loopres_f_res_179052 = x_179069;
                        } else {
                            bool cond_179072 = sle64(window_sizze_131709, ai_179031);
                            int64_t loopres_f_res_f_res_179073;
                            int64_t loopres_f_res_f_res_179074;
                            int64_t loopres_f_res_f_res_179075;
                            bool loopres_f_res_f_res_179076;
                            
                            if (cond_179072) {
                                int64_t min_res_179078 = smin64(m_175531, max_res_179033);
                                bool x_179079 = sle64((int64_t) 0, m_175531);
                                bool y_179080 = slt64(m_175531, window_sizze_131709);
                                bool bounds_check_179081 = x_179079 && y_179080;
                                bool index_certs_179082;
                                
                                if (!bounds_check_179081) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179085 = sle64((int64_t) 0, min_res_179078);
                                bool y_179086 = slt64(min_res_179078, window_sizze_131709);
                                bool bounds_check_179087 = x_179085 && y_179086;
                                bool index_certs_179088;
                                
                                if (!bounds_check_179087) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179078, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_179084 = ((int32_t *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_179089 = p_175543 + min_res_179078;
                                int32_t leq_rhs_179090 = ((int32_t *) b_list_mem_181033.mem)[slice_179089];
                                bool defunc_0_leq_res_179091 = sle32(leq_lhs_179084, leq_rhs_179090);
                                int64_t loopres_f_res_f_res_t_res_179092;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179092 = max_res_179033;
                                } else {
                                    loopres_f_res_f_res_t_res_179092 = p_179028;
                                }
                                
                                bool x_179093 = !defunc_0_leq_res_179091;
                                int64_t loopres_f_res_f_res_t_res_179094;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179094 = window_sizze_131709;
                                } else {
                                    loopres_f_res_f_res_t_res_179094 = m_175531;
                                }
                                loopres_f_res_f_res_179073 = p_179026;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_t_res_179094;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_t_res_179092;
                                loopres_f_res_f_res_179076 = x_179093;
                            } else {
                                bool cond_179095 = sle64(p_179027, p_179026);
                                int64_t loopres_f_res_f_res_f_res_179096;
                                int64_t loopres_f_res_f_res_f_res_179097;
                                int64_t loopres_f_res_f_res_f_res_179098;
                                bool loopres_f_res_f_res_f_res_179099;
                                
                                if (cond_179095) {
                                    bool cond_179100 = slt64(ai_179031, window_sizze_131709);
                                    int64_t ai_179101;
                                    
                                    if (cond_179100) {
                                        ai_179101 = ai_179031;
                                    } else {
                                        ai_179101 = m_175531;
                                    }
                                    
                                    bool x_179114 = sle64((int64_t) 0, ai_179101);
                                    bool y_179115 = slt64(ai_179101, window_sizze_131709);
                                    bool bounds_check_179116 = x_179114 && y_179115;
                                    bool index_certs_179117;
                                    
                                    if (!bounds_check_179116) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179101, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_179103;
                                    
                                    if (cond_179034) {
                                        int64_t tmp_179104 = sub64(max_res_179033, (int64_t) 1);
                                        bool x_179105 = sle64((int64_t) 0, tmp_179104);
                                        bool y_179106 = slt64(tmp_179104, window_sizze_131709);
                                        bool bounds_check_179107 = x_179105 && y_179106;
                                        bool index_certs_179108;
                                        
                                        if (!bounds_check_179107) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179104, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179109 = p_175543 + tmp_179104;
                                        int32_t b_prev_t_res_179110 = ((int32_t *) b_list_mem_181033.mem)[slice_179109];
                                        
                                        b_prev_179103 = b_prev_t_res_179110;
                                    } else {
                                        bool index_certs_179112;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179103 = leq_rhs_179005;
                                    }
                                    
                                    int64_t slice_179118 = p_175542 + ai_179101;
                                    int32_t gt_lhs_179119 = ((int32_t *) a_list_mem_181032.mem)[slice_179118];
                                    bool defunc_0_gt_res_179120 = slt32(b_prev_179103, gt_lhs_179119);
                                    int64_t defunc_0_partFunc_sequential_search_res_179121;
                                    int64_t defunc_0_partFunc_sequential_search_res_179122;
                                    
                                    if (defunc_0_gt_res_179120) {
                                        int64_t zl_rhs_179123 = sub64(window_sizze_131709, max_res_179033);
                                        bool loop_cond_179124 = slt64((int64_t) 0, zl_rhs_179123);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179125;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179127;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179128;
                                        bool loop_while_179129;
                                        int64_t p_179130;
                                        int64_t p_179131;
                                        int64_t p_179132;
                                        
                                        loop_while_179129 = loop_cond_179124;
                                        p_179130 = ai_179101;
                                        p_179131 = max_res_179033;
                                        p_179132 = (int64_t) 0;
                                        while (loop_while_179129) {
                                            int64_t i_a_179133 = sub64(ai_179101, p_179132);
                                            int64_t i_b_179134 = add64(max_res_179033, p_179132);
                                            int64_t leq_lhs_179135 = sub64(i_a_179133, (int64_t) 1);
                                            bool x_179136 = sle64((int64_t) 0, leq_lhs_179135);
                                            bool y_179137 = slt64(leq_lhs_179135, window_sizze_131709);
                                            bool bounds_check_179138 = x_179136 && y_179137;
                                            bool index_certs_179139;
                                            
                                            if (!bounds_check_179138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179135, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179142 = sle64((int64_t) 0, i_b_179134);
                                            bool y_179143 = slt64(i_b_179134, window_sizze_131709);
                                            bool bounds_check_179144 = x_179142 && y_179143;
                                            bool index_certs_179145;
                                            
                                            if (!bounds_check_179144) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179134, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179140 = p_175542 + leq_lhs_179135;
                                            int32_t leq_lhs_179141 = ((int32_t *) a_list_mem_181032.mem)[slice_179140];
                                            int64_t slice_179146 = p_175543 + i_b_179134;
                                            int32_t leq_rhs_179147 = ((int32_t *) b_list_mem_181033.mem)[slice_179146];
                                            bool defunc_0_leq_res_179148 = sle32(leq_lhs_179141, leq_rhs_179147);
                                            int64_t loopres_179149;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179149 = i_a_179133;
                                            } else {
                                                loopres_179149 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179150;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179150 = i_b_179134;
                                            } else {
                                                loopres_179150 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179151;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179151 = zl_rhs_179123;
                                            } else {
                                                int64_t tmp_179152 = add64((int64_t) 1, p_179132);
                                                
                                                loopres_179151 = tmp_179152;
                                            }
                                            
                                            bool loop_cond_179153 = slt64(loopres_179151, zl_rhs_179123);
                                            bool loop_while_tmp_182465 = loop_cond_179153;
                                            int64_t p_tmp_182466 = loopres_179149;
                                            int64_t p_tmp_182467 = loopres_179150;
                                            int64_t p_tmp_182468 = loopres_179151;
                                            
                                            loop_while_179129 = loop_while_tmp_182465;
                                            p_179130 = p_tmp_182466;
                                            p_179131 = p_tmp_182467;
                                            p_179132 = p_tmp_182468;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179125 = loop_while_179129;
                                        defunc_0_partFunc_sequential_search_res_t_res_179126 = p_179130;
                                        defunc_0_partFunc_sequential_search_res_t_res_179127 = p_179131;
                                        defunc_0_partFunc_sequential_search_res_t_res_179128 = p_179132;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_t_res_179127;
                                    } else {
                                        int64_t zl_rhs_179154 = sub64(max_res_179033, (int64_t) 1);
                                        bool loop_cond_179155 = slt64((int64_t) 0, zl_rhs_179154);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179156;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179158;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179159;
                                        bool loop_while_179160;
                                        int64_t p_179161;
                                        int64_t p_179162;
                                        int64_t p_179163;
                                        
                                        loop_while_179160 = loop_cond_179155;
                                        p_179161 = ai_179101;
                                        p_179162 = max_res_179033;
                                        p_179163 = (int64_t) 0;
                                        while (loop_while_179160) {
                                            int64_t zp_lhs_179164 = add64(ai_179101, p_179163);
                                            int64_t hi_a_179165 = add64((int64_t) 1, zp_lhs_179164);
                                            bool cond_179166 = slt64(hi_a_179165, window_sizze_131709);
                                            int64_t i_a_179167;
                                            
                                            if (cond_179166) {
                                                i_a_179167 = hi_a_179165;
                                            } else {
                                                i_a_179167 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_179169 = sub64(max_res_179033, p_179163);
                                            int64_t i_b_179170 = sub64(zm_lhs_179169, (int64_t) 1);
                                            bool x_179171 = sle64((int64_t) 0, i_a_179167);
                                            bool y_179172 = slt64(i_a_179167, window_sizze_131709);
                                            bool bounds_check_179173 = x_179171 && y_179172;
                                            bool index_certs_179174;
                                            
                                            if (!bounds_check_179173) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179167, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179177 = sle64((int64_t) 0, i_b_179170);
                                            bool y_179178 = slt64(i_b_179170, window_sizze_131709);
                                            bool bounds_check_179179 = x_179177 && y_179178;
                                            bool index_certs_179180;
                                            
                                            if (!bounds_check_179179) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179170, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179175 = p_175542 + i_a_179167;
                                            int32_t gt_lhs_179176 = ((int32_t *) a_list_mem_181032.mem)[slice_179175];
                                            int64_t slice_179181 = p_175543 + i_b_179170;
                                            int32_t gt_rhs_179182 = ((int32_t *) b_list_mem_181033.mem)[slice_179181];
                                            bool defunc_0_gt_res_179183 = slt32(gt_rhs_179182, gt_lhs_179176);
                                            int64_t loopres_179184;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179184 = i_a_179167;
                                            } else {
                                                loopres_179184 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179185;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179185 = zm_lhs_179169;
                                            } else {
                                                loopres_179185 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179186;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179186 = zl_rhs_179154;
                                            } else {
                                                int64_t tmp_179187 = add64((int64_t) 1, p_179163);
                                                
                                                loopres_179186 = tmp_179187;
                                            }
                                            
                                            bool loop_cond_179188 = slt64(loopres_179186, zl_rhs_179154);
                                            bool loop_while_tmp_182469 = loop_cond_179188;
                                            int64_t p_tmp_182470 = loopres_179184;
                                            int64_t p_tmp_182471 = loopres_179185;
                                            int64_t p_tmp_182472 = loopres_179186;
                                            
                                            loop_while_179160 = loop_while_tmp_182469;
                                            p_179161 = p_tmp_182470;
                                            p_179162 = p_tmp_182471;
                                            p_179163 = p_tmp_182472;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179156 = loop_while_179160;
                                        defunc_0_partFunc_sequential_search_res_f_res_179157 = p_179161;
                                        defunc_0_partFunc_sequential_search_res_f_res_179158 = p_179162;
                                        defunc_0_partFunc_sequential_search_res_f_res_179159 = p_179163;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_f_res_179158;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = p_179026;
                                    loopres_f_res_f_res_f_res_179097 = defunc_0_partFunc_sequential_search_res_179121;
                                    loopres_f_res_f_res_f_res_179098 = defunc_0_partFunc_sequential_search_res_179122;
                                    loopres_f_res_f_res_f_res_179099 = 0;
                                } else {
                                    bool x_179189 = sle64((int64_t) 0, ai_179031);
                                    bool y_179190 = slt64(ai_179031, window_sizze_131709);
                                    bool bounds_check_179191 = x_179189 && y_179190;
                                    bool index_certs_179192;
                                    
                                    if (!bounds_check_179191) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179031, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179193 = p_175542 + ai_179031;
                                    int32_t gt_lhs_179194 = ((int32_t *) a_list_mem_181032.mem)[slice_179193];
                                    bool defunc_0_gt_res_179195 = slt32(b_prev_179035, gt_lhs_179194);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179196;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179197;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179198;
                                    bool loopres_f_res_f_res_f_res_f_res_179199;
                                    
                                    if (defunc_0_gt_res_179195) {
                                        int64_t leq_lhs_179200 = sub64(ai_179031, (int64_t) 1);
                                        bool x_179201 = sle64((int64_t) 0, leq_lhs_179200);
                                        bool y_179202 = slt64(leq_lhs_179200, window_sizze_131709);
                                        bool bounds_check_179203 = x_179201 && y_179202;
                                        bool index_certs_179204;
                                        
                                        if (!bounds_check_179203) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179200, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179207 = sle64((int64_t) 0, max_res_179033);
                                        bool y_179208 = slt64(max_res_179033, window_sizze_131709);
                                        bool bounds_check_179209 = x_179207 && y_179208;
                                        bool index_certs_179210;
                                        
                                        if (!bounds_check_179209) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179033, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179205 = p_175542 + leq_lhs_179200;
                                        int32_t leq_lhs_179206 = ((int32_t *) a_list_mem_181032.mem)[slice_179205];
                                        int64_t slice_179211 = p_175543 + max_res_179033;
                                        int32_t leq_rhs_179212 = ((int32_t *) b_list_mem_181033.mem)[slice_179211];
                                        bool defunc_0_leq_res_179213 = sle32(leq_lhs_179206, leq_rhs_179212);
                                        bool x_179214 = !defunc_0_leq_res_179213;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = ai_179031;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = leq_lhs_179200;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = max_res_179033;
                                        } else {
                                            int64_t tmp_179217 = add64((int64_t) 1, max_res_179033);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = tmp_179217;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179196 = p_179026;
                                        loopres_f_res_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        loopres_f_res_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        loopres_f_res_f_res_f_res_f_res_179199 = x_179214;
                                    } else {
                                        int64_t tmp_179218 = add64((int64_t) 1, ai_179031);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179196 = tmp_179218;
                                        loopres_f_res_f_res_f_res_f_res_179197 = p_179027;
                                        loopres_f_res_f_res_f_res_f_res_179198 = p_179028;
                                        loopres_f_res_f_res_f_res_f_res_179199 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = loopres_f_res_f_res_f_res_f_res_179196;
                                    loopres_f_res_f_res_f_res_179097 = loopres_f_res_f_res_f_res_f_res_179197;
                                    loopres_f_res_f_res_f_res_179098 = loopres_f_res_f_res_f_res_f_res_179198;
                                    loopres_f_res_f_res_f_res_179099 = loopres_f_res_f_res_f_res_f_res_179199;
                                }
                                loopres_f_res_f_res_179073 = loopres_f_res_f_res_f_res_179096;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_f_res_179097;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_f_res_179098;
                                loopres_f_res_f_res_179076 = loopres_f_res_f_res_f_res_179099;
                            }
                            loopres_f_res_179049 = loopres_f_res_f_res_179073;
                            loopres_f_res_179050 = loopres_f_res_f_res_179074;
                            loopres_f_res_179051 = loopres_f_res_f_res_179075;
                            loopres_f_res_179052 = loopres_f_res_f_res_179076;
                        }
                        loopres_179044 = loopres_f_res_179049;
                        loopres_179045 = loopres_f_res_179050;
                        loopres_179046 = loopres_f_res_179051;
                        loopres_179047 = loopres_f_res_179052;
                    }
                    
                    bool loop_while_tmp_182461 = loopres_179047;
                    int64_t p_tmp_182462 = loopres_179044;
                    int64_t p_tmp_182463 = loopres_179045;
                    int64_t p_tmp_182464 = loopres_179046;
                    
                    loop_while_179025 = loop_while_tmp_182461;
                    p_179026 = p_tmp_182462;
                    p_179027 = p_tmp_182463;
                    p_179028 = p_tmp_182464;
                }
                defunc_0_f_res_179021 = loop_while_179025;
                defunc_0_f_res_179022 = p_179026;
                defunc_0_f_res_179023 = p_179027;
                defunc_0_f_res_179024 = p_179028;
                ((int64_t *) mem_181394)[i_180696] = defunc_0_f_res_179023;
                ((int64_t *) mem_181396)[i_180696] = defunc_0_f_res_179024;
            }
            if (mem_181411_cached_sizze_182900 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181411, &mem_181411_cached_sizze_182900, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181413_cached_sizze_182901 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581) {
                err = lexical_realloc(ctx, &mem_181413, &mem_181413_cached_sizze_182901, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_182902 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_182902, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181419_cached_sizze_182903 < bytes_181418) {
                err = lexical_realloc(ctx, &mem_181419, &mem_181419_cached_sizze_182903, bytes_181418);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180762 = 0; i_180762 < threads_131710; i_180762++) {
                bool y_179232 = slt64(i_180762, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool index_certs_179234;
                
                if (!y_179232) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180762, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179235 = sle64((int64_t) 1, i_180762);
                int64_t index_concat_i_179236 = sub64(i_180762, (int64_t) 1);
                int64_t index_concat_179237;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179238 = ((int64_t *) mem_181394)[index_concat_i_179236];
                    
                    index_concat_179237 = x_179238;
                } else {
                    index_concat_179237 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179239;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179239 = index_concat_179237;
                } else {
                    index_concat_branch_179239 = (int64_t) 0;
                }
                
                int64_t index_concat_179240;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179241 = ((int64_t *) mem_181396)[index_concat_i_179236];
                    
                    index_concat_179240 = x_179241;
                } else {
                    index_concat_179240 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179242;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179242 = index_concat_179240;
                } else {
                    index_concat_branch_179242 = (int64_t) 0;
                }
                
                int64_t ubs_179243 = add64((int64_t) 1, i_180762);
                bool x_179244 = sle64((int64_t) 0, ubs_179243);
                bool y_179245 = slt64(ubs_179243, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_179246 = x_179244 && y_179245;
                bool index_certs_179247;
                
                if (!bounds_check_179246) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179243, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179248 = sle64((int64_t) 1, ubs_179243);
                int64_t index_concat_179249;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179250 = ((int64_t *) mem_181394)[i_180762];
                    
                    index_concat_179249 = x_179250;
                } else {
                    index_concat_179249 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179251;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179251 = index_concat_179249;
                } else {
                    index_concat_branch_179251 = (int64_t) 0;
                }
                
                int64_t index_concat_179252;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179253 = ((int64_t *) mem_181396)[i_180762];
                    
                    index_concat_179252 = x_179253;
                } else {
                    index_concat_179252 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179254;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179254 = index_concat_179252;
                } else {
                    index_concat_branch_179254 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 = sub64(index_concat_branch_179254, index_concat_branch_179242);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 = sub64(index_concat_branch_179251, index_concat_branch_179239);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t zm_lhs_179258 = add64(index_concat_branch_179251, index_concat_branch_179254);
                int64_t zm_rhs_179259 = add64(index_concat_branch_179239, index_concat_branch_179242);
                int64_t card_179260 = sub64(zm_lhs_179258, zm_rhs_179259);
                bool empty_slice_179261 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 == (int64_t) 0;
                int64_t m_179262 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 1);
                int64_t i_p_m_t_s_179263 = add64(index_concat_branch_179239, m_179262);
                bool zzero_leq_i_p_m_t_s_179264 = sle64((int64_t) 0, i_p_m_t_s_179263);
                bool i_p_m_t_s_leq_w_179265 = slt64(i_p_m_t_s_179263, window_sizze_131709);
                bool zzero_lte_i_179266 = sle64((int64_t) 0, index_concat_branch_179239);
                bool i_lte_j_179267 = sle64(index_concat_branch_179239, index_concat_branch_179251);
                bool y_179268 = i_p_m_t_s_leq_w_179265 && zzero_lte_i_179266;
                bool y_179269 = zzero_leq_i_p_m_t_s_179264 && y_179268;
                bool forwards_ok_179270 = i_lte_j_179267 && y_179269;
                bool ok_or_empty_179271 = empty_slice_179261 || forwards_ok_179270;
                bool index_certs_179272;
                
                if (!ok_or_empty_179271) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179239, ":", (long long) index_concat_branch_179251, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179273 = slt64(index_concat_branch_179251, index_concat_branch_179239);
                bool valid_179274 = !bounds_invalid_upwards_179273;
                bool range_valid_c_179275;
                
                if (!valid_179274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179239, "..<", (long long) index_concat_branch_179251, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179280 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 == (int64_t) 0;
                int64_t m_179281 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, (int64_t) 1);
                int64_t i_p_m_t_s_179282 = add64(index_concat_branch_179242, m_179281);
                bool zzero_leq_i_p_m_t_s_179283 = sle64((int64_t) 0, i_p_m_t_s_179282);
                bool i_p_m_t_s_leq_w_179284 = slt64(i_p_m_t_s_179282, window_sizze_131709);
                bool zzero_lte_i_179285 = sle64((int64_t) 0, index_concat_branch_179242);
                bool i_lte_j_179286 = sle64(index_concat_branch_179242, index_concat_branch_179254);
                bool y_179287 = i_p_m_t_s_leq_w_179284 && zzero_lte_i_179285;
                bool y_179288 = zzero_leq_i_p_m_t_s_179283 && y_179287;
                bool forwards_ok_179289 = i_lte_j_179286 && y_179288;
                bool ok_or_empty_179290 = empty_slice_179280 || forwards_ok_179289;
                bool index_certs_179291;
                
                if (!ok_or_empty_179290) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179242, ":", (long long) index_concat_branch_179254, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179292 = slt64(index_concat_branch_179254, index_concat_branch_179242);
                bool valid_179293 = !bounds_invalid_upwards_179292;
                bool range_valid_c_179294;
                
                if (!valid_179293) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179242, "..<", (long long) index_concat_branch_179254, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181448 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                int64_t bytes_181450 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool cond_179302 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zs_lhs_179303 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zp_rhs_179304 = sdiv_safe64(zs_lhs_179303, (int64_t) 20);
                int64_t min_num_blocks_179305 = add64((int64_t) 1, zp_rhs_179304);
                bool loop_cond_179306 = slt64((int64_t) 1, min_num_blocks_179305);
                bool smallest_pow_2_geq_than_res_179307;
                int64_t smallest_pow_2_geq_than_res_179308;
                bool loop_while_179309;
                int64_t x_179310;
                
                loop_while_179309 = loop_cond_179306;
                x_179310 = (int64_t) 1;
                while (loop_while_179309) {
                    int64_t loopres_179311 = mul64((int64_t) 2, x_179310);
                    bool loop_cond_179312 = slt64(loopres_179311, min_num_blocks_179305);
                    bool loop_while_tmp_182477 = loop_cond_179312;
                    int64_t x_tmp_182478 = loopres_179311;
                    
                    loop_while_179309 = loop_while_tmp_182477;
                    x_179310 = x_tmp_182478;
                }
                smallest_pow_2_geq_than_res_179307 = loop_while_179309;
                smallest_pow_2_geq_than_res_179308 = x_179310;
                
                bool zzero_179313 = smallest_pow_2_geq_than_res_179308 == (int64_t) 0;
                bool nonzzero_179314 = !zzero_179313;
                bool protect_assert_disj_179315 = cond_179302 || nonzzero_179314;
                bool nonzzero_cert_179316;
                
                if (!protect_assert_disj_179315) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179317 = sdiv_safe64(zs_lhs_179303, smallest_pow_2_geq_than_res_179308);
                int64_t block_sizze_179318 = add64((int64_t) 1, zp_rhs_179317);
                bool y_179325 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                bool protect_assert_disj_182194 = cond_179302 || y_179325;
                bool index_certs_179326;
                
                if (!protect_assert_disj_182194) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179363 = slt64(smallest_pow_2_geq_than_res_179308, (int64_t) 0);
                bool valid_179364 = !bounds_invalid_upwards_179363;
                bool protect_assert_disj_182204 = cond_179302 || valid_179364;
                bool range_valid_c_179365;
                
                if (!protect_assert_disj_182204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179308, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179367 = slt64(block_sizze_179318, (int64_t) 0);
                bool valid_179368 = !bounds_invalid_upwards_179367;
                bool protect_assert_disj_182206 = cond_179302 || valid_179368;
                bool range_valid_c_179369;
                
                if (!protect_assert_disj_182206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179318, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179371 = sle64(block_sizze_179318, (int64_t) 1);
                int64_t tmp_179372 = sub64(block_sizze_179318, (int64_t) 2);
                bool bounds_invalid_upwards_179373 = slt64(tmp_179372, (int64_t) 0);
                bool valid_179375 = !bounds_invalid_upwards_179373;
                bool protect_assert_disj_179376 = cond_179371 || valid_179375;
                bool protect_assert_disj_182208 = cond_179302 || protect_assert_disj_179376;
                bool range_valid_c_179377;
                
                if (!protect_assert_disj_182208) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179372, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179957 = card_179260 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool empty_or_match_cert_179958;
                
                if (!dim_match_179957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] cannot match shape of type `[", (long long) card_179260, "](i8, i64, i32)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179959 = card_179260 == (int64_t) 0;
                int64_t m_179960 = sub64(card_179260, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179961 = sle64((int64_t) 0, m_179960);
                bool i_p_m_t_s_leq_w_179962 = slt64(m_179960, card_179260);
                bool y_179963 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179962;
                bool ok_or_empty_179964 = empty_slice_179959 || y_179963;
                bool index_certs_179965;
                
                if (!ok_or_empty_179964) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) card_179260, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179966 = slt64(m_179960, perThread_175580);
                bool y_179967 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179966;
                bool ok_or_empty_179968 = empty_slice_179959 || y_179967;
                bool index_certs_179969;
                
                if (!ok_or_empty_179968) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182479 = 0; nest_i_182479 < perThread_175580; nest_i_182479++) {
                    ((int8_t *) mem_181413)[i_180762 * perThread_175580 + nest_i_182479] = (int8_t) -1;
                }
                for (int64_t nest_i_182480 = 0; nest_i_182480 < perThread_175580; nest_i_182480++) {
                    ((int64_t *) mem_181416)[i_180762 * perThread_175580 + nest_i_182480] = (int64_t) -1;
                }
                for (int64_t nest_i_182481 = 0; nest_i_182481 < perThread_175580; nest_i_182481++) {
                    ((int32_t *) mem_181419)[i_180762 * perThread_175580 + nest_i_182481] = 0;
                }
                
                int64_t slice_179276 = p_175542 + index_concat_branch_179239;
                
                if (memblock_alloc(ctx, &mem_181447, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "mem_181447")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182482 = 0; nest_i_182482 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; nest_i_182482++) {
                    ((int8_t *) mem_181447.mem)[nest_i_182482] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181449, bytes_181448, "mem_181449")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182483 = 0; i_182483 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; i_182483++) {
                    int64_t x_182484 = index_concat_branch_179239 + i_182483 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[i_182483] = x_182484;
                }
                
                int64_t slice_179295 = p_175543 + index_concat_branch_179242;
                
                for (int64_t nest_i_182485 = 0; nest_i_182485 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; nest_i_182485++) {
                    ((int8_t *) mem_181447.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + nest_i_182485] = (int8_t) 1;
                }
                for (int64_t i_182486 = 0; i_182486 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; i_182486++) {
                    int64_t x_182487 = index_concat_branch_179242 + i_182486 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + i_182486] = x_182487;
                }
                
                int64_t tmp_offs_182488 = (int64_t) 0;
                
                if (!(tmp_offs_182488 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182488 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t tmp_offs_182489 = (int64_t) 0;
                
                if (!(tmp_offs_182489 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182489 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                if (memblock_alloc(ctx, &mem_181451, bytes_181450, "mem_181451")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182490 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181032.mem, slice_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181033.mem, slice_179295, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t flat_dim_179319 = smallest_pow_2_geq_than_res_179308 * block_sizze_179318;
                bool x_182189 = !cond_179302;
                int64_t greatest_divisor_leq_than_arg1_179323 = mul64((int64_t) 2, block_sizze_179318);
                int64_t merge_block_sizze_179324;
                
                if (x_182189) {
                    int64_t x_182191;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182191, (int64_t) 8, greatest_divisor_leq_than_arg1_179323) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179324 = x_182191;
                } else {
                    merge_block_sizze_179324 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179327 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 0);
                int8_t index_concat_branch_179328 = btoi_bool_i8(index_concat_cmp_179327);
                int64_t index_concat_i_179330 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t index_primexp_179331 = add64(index_concat_branch_179242, index_concat_i_179330);
                int64_t index_concat_branch_179329;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179329 = index_primexp_179331;
                } else {
                    index_concat_branch_179329 = index_concat_branch_179239;
                }
                
                bool x_182185 = !index_concat_cmp_179327;
                bool protect_cond_conj_182195 = x_182185 && x_182189;
                int32_t index_concat_179337;
                
                if (protect_cond_conj_182195) {
                    int32_t x_182187 = ((int32_t *) a_list_mem_181032.mem)[slice_179276];
                    
                    index_concat_179337 = x_182187;
                } else {
                    index_concat_179337 = 0;
                }
                
                int64_t slice_179335 = p_175543 + index_primexp_179331;
                bool protect_cond_conj_182196 = index_concat_cmp_179327 && x_182189;
                int32_t index_concat_179336;
                
                if (protect_cond_conj_182196) {
                    int32_t x_182183 = ((int32_t *) b_list_mem_181033.mem)[slice_179335];
                    
                    index_concat_179336 = x_182183;
                } else {
                    index_concat_179336 = 0;
                }
                
                int32_t index_concat_branch_179332;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179332 = index_concat_179336;
                } else {
                    index_concat_branch_179332 = index_concat_179337;
                }
                
                int8_t defunc_0_reduce_res_179338;
                int64_t defunc_0_reduce_res_179339;
                int32_t defunc_0_reduce_res_179340;
                
                if (x_182189) {
                    int8_t x_182197;
                    int64_t x_182198;
                    int32_t x_182199;
                    int8_t redout_180699;
                    int64_t redout_180700;
                    int32_t redout_180701;
                    
                    redout_180699 = index_concat_branch_179328;
                    redout_180700 = index_concat_branch_179329;
                    redout_180701 = index_concat_branch_179332;
                    for (int64_t i_180702 = 0; i_180702 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257; i_180702++) {
                        bool index_concat_cmp_180960 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, i_180702);
                        int8_t index_concat_branch_180964 = btoi_bool_i8(index_concat_cmp_180960);
                        int64_t index_concat_branch_180958;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180955 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t index_primexp_181008 = add64(index_concat_branch_179242, index_concat_i_180955);
                            
                            index_concat_branch_180958 = index_primexp_181008;
                        } else {
                            int64_t index_primexp_181010 = add64(index_concat_branch_179239, i_180702);
                            
                            index_concat_branch_180958 = index_primexp_181010;
                        }
                        
                        int32_t index_concat_branch_180952;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180949 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t slice_181005 = slice_179295 + index_concat_i_180949;
                            int32_t index_concat_180950 = ((int32_t *) b_list_mem_181033.mem)[slice_181005];
                            
                            index_concat_branch_180952 = index_concat_180950;
                        } else {
                            int64_t slice_181006 = slice_179276 + i_180702;
                            int32_t index_concat_180951 = ((int32_t *) a_list_mem_181032.mem)[slice_181006];
                            
                            index_concat_branch_180952 = index_concat_180951;
                        }
                        
                        bool eq_x_y_181022 = redout_180699 == (int8_t) 1;
                        bool eq_x_zz_181023 = redout_180699 == (int8_t) 0;
                        bool p_and_eq_x_y_181024 = index_concat_cmp_180960 && eq_x_y_181022;
                        bool not_p_181025 = !index_concat_cmp_180960;
                        bool p_and_eq_x_y_181026 = eq_x_zz_181023 && not_p_181025;
                        bool cond_179350 = p_and_eq_x_y_181024 || p_and_eq_x_y_181026;
                        bool defunc_0_leq_res_t_res_179351 = sle64(redout_180700, index_concat_branch_180958);
                        bool defunc_0_leq_res_179352 = sle32(redout_180701, index_concat_branch_180952);
                        bool x_179353 = cond_179350 && defunc_0_leq_res_t_res_179351;
                        bool x_179354 = !cond_179350;
                        bool y_179355 = defunc_0_leq_res_179352 && x_179354;
                        bool defunc_0_leq_res_179356 = x_179353 || y_179355;
                        int8_t defunc_0_op_res_179357;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179357 = index_concat_branch_180964;
                        } else {
                            defunc_0_op_res_179357 = redout_180699;
                        }
                        
                        int64_t defunc_0_op_res_179358;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179358 = index_concat_branch_180958;
                        } else {
                            defunc_0_op_res_179358 = redout_180700;
                        }
                        
                        int32_t defunc_0_op_res_179359;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179359 = index_concat_branch_180952;
                        } else {
                            defunc_0_op_res_179359 = redout_180701;
                        }
                        
                        int8_t redout_tmp_182491 = defunc_0_op_res_179357;
                        int64_t redout_tmp_182492 = defunc_0_op_res_179358;
                        int32_t redout_tmp_182493 = defunc_0_op_res_179359;
                        
                        redout_180699 = redout_tmp_182491;
                        redout_180700 = redout_tmp_182492;
                        redout_180701 = redout_tmp_182493;
                    }
                    x_182197 = redout_180699;
                    x_182198 = redout_180700;
                    x_182199 = redout_180701;
                    defunc_0_reduce_res_179338 = x_182197;
                    defunc_0_reduce_res_179339 = x_182198;
                    defunc_0_reduce_res_179340 = x_182199;
                } else {
                    defunc_0_reduce_res_179338 = (int8_t) 0;
                    defunc_0_reduce_res_179339 = (int64_t) 0;
                    defunc_0_reduce_res_179340 = 0;
                }
                
                int64_t distance_179374 = add64((int64_t) 1, tmp_179372);
                int64_t binop_x_181454 = (int64_t) 8 * smallest_pow_2_geq_than_res_179308;
                int64_t bytes_181455 = block_sizze_179318 * binop_x_181454;
                int64_t binop_x_181457 = (int64_t) 4 * smallest_pow_2_geq_than_res_179308;
                int64_t bytes_181458 = block_sizze_179318 * binop_x_181457;
                int64_t bytes_181473 = (int64_t) 8 * block_sizze_179318;
                int64_t bytes_181475 = (int64_t) 4 * block_sizze_179318;
                bool loop_cond_179500 = slt64(block_sizze_179318, flat_dim_179319);
                bool zzero_179501 = merge_block_sizze_179324 == (int64_t) 0;
                bool nonzzero_179502 = !zzero_179501;
                
                if (cond_179302) {
                    if (memblock_set(ctx, &ext_mem_181746, &mem_181447, "mem_181447") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &mem_181449, "mem_181449") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &mem_181451, "mem_181451") != 0)
                        return 1;
                } else {
                    if (mem_181453_cached_sizze_182904 < flat_dim_179319) {
                        err = lexical_realloc(ctx, &mem_181453, &mem_181453_cached_sizze_182904, flat_dim_179319);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181456_cached_sizze_182905 < bytes_181455) {
                        err = lexical_realloc(ctx, &mem_181456, &mem_181456_cached_sizze_182905, bytes_181455);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181459_cached_sizze_182906 < bytes_181458) {
                        err = lexical_realloc(ctx, &mem_181459, &mem_181459_cached_sizze_182906, bytes_181458);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181472_cached_sizze_182907 < block_sizze_179318) {
                        err = lexical_realloc(ctx, &mem_181472, &mem_181472_cached_sizze_182907, block_sizze_179318);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181474_cached_sizze_182908 < bytes_181473) {
                        err = lexical_realloc(ctx, &mem_181474, &mem_181474_cached_sizze_182908, bytes_181473);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_182909 < bytes_181475) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_182909, bytes_181475);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180719 = 0; i_180719 < smallest_pow_2_geq_than_res_179308; i_180719++) {
                        int64_t zp_lhs_179382 = mul64(block_sizze_179318, i_180719);
                        
                        for (int64_t i_180709 = 0; i_180709 < block_sizze_179318; i_180709++) {
                            int64_t k_179387 = add64(zp_lhs_179382, i_180709);
                            bool cond_179388 = slt64(k_179387, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                            int8_t lifted_lambda_res_179389;
                            int64_t lifted_lambda_res_179390;
                            int32_t lifted_lambda_res_179391;
                            
                            if (cond_179388) {
                                bool x_179392 = sle64((int64_t) 0, k_179387);
                                bool bounds_check_179393 = cond_179388 && x_179392;
                                bool index_certs_179394;
                                
                                if (!bounds_check_179393) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179387, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179395 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, k_179387);
                                int8_t index_concat_branch_179396 = btoi_bool_i8(index_concat_cmp_179395);
                                int64_t index_concat_branch_179397;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179398 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t index_primexp_179399 = add64(index_concat_branch_179242, index_concat_i_179398);
                                    
                                    index_concat_branch_179397 = index_primexp_179399;
                                } else {
                                    int64_t index_primexp_179400 = add64(index_concat_branch_179239, k_179387);
                                    
                                    index_concat_branch_179397 = index_primexp_179400;
                                }
                                
                                int32_t index_concat_branch_179401;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179402 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t slice_179403 = index_concat_branch_179242 + index_concat_i_179402;
                                    int64_t slice_179404 = p_175543 + slice_179403;
                                    int32_t index_concat_179405 = ((int32_t *) b_list_mem_181033.mem)[slice_179404];
                                    
                                    index_concat_branch_179401 = index_concat_179405;
                                } else {
                                    int64_t slice_179406 = index_concat_branch_179239 + k_179387;
                                    int64_t slice_179407 = p_175542 + slice_179406;
                                    int32_t index_concat_179408 = ((int32_t *) a_list_mem_181032.mem)[slice_179407];
                                    
                                    index_concat_branch_179401 = index_concat_179408;
                                }
                                lifted_lambda_res_179389 = index_concat_branch_179396;
                                lifted_lambda_res_179390 = index_concat_branch_179397;
                                lifted_lambda_res_179391 = index_concat_branch_179401;
                            } else {
                                lifted_lambda_res_179389 = defunc_0_reduce_res_179338;
                                lifted_lambda_res_179390 = defunc_0_reduce_res_179339;
                                lifted_lambda_res_179391 = defunc_0_reduce_res_179340;
                            }
                            ((int8_t *) mem_181472)[i_180709] = lifted_lambda_res_179389;
                            ((int64_t *) mem_181474)[i_180709] = lifted_lambda_res_179390;
                            ((int32_t *) mem_181476)[i_180709] = lifted_lambda_res_179391;
                        }
                        if (!cond_179371) {
                            for (int64_t i_179418 = 0; i_179418 < distance_179374; i_179418++) {
                                int64_t gt_arg1_179422 = add64((int64_t) 1, i_179418);
                                bool x_179423 = sle64((int64_t) 0, gt_arg1_179422);
                                bool y_179424 = slt64(gt_arg1_179422, block_sizze_179318);
                                bool bounds_check_179425 = x_179423 && y_179424;
                                bool index_certs_179426;
                                
                                if (!bounds_check_179425) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179422, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179430 = slt64(i_179418, block_sizze_179318);
                                bool index_certs_179431;
                                
                                if (!y_179430) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179418, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179427 = ((int8_t *) mem_181472)[gt_arg1_179422];
                                int64_t gt_arg1_179428 = ((int64_t *) mem_181474)[gt_arg1_179422];
                                int32_t gt_arg1_179429 = ((int32_t *) mem_181476)[gt_arg1_179422];
                                int8_t gt_arg0_179432 = ((int8_t *) mem_181472)[i_179418];
                                int64_t gt_arg0_179433 = ((int64_t *) mem_181474)[i_179418];
                                int32_t gt_arg0_179434 = ((int32_t *) mem_181476)[i_179418];
                                bool cond_179435 = gt_arg0_179432 == gt_arg1_179427;
                                bool defunc_0_leq_res_t_res_179436 = sle64(gt_arg0_179433, gt_arg1_179428);
                                bool defunc_0_leq_res_179437 = sle32(gt_arg0_179434, gt_arg1_179429);
                                bool x_179438 = cond_179435 && defunc_0_leq_res_t_res_179436;
                                bool x_179439 = !cond_179435;
                                bool y_179440 = defunc_0_leq_res_179437 && x_179439;
                                bool defunc_0_leq_res_179441 = x_179438 || y_179440;
                                bool defunc_0_lifted_gt_res_179442 = !defunc_0_leq_res_179441;
                                bool s_179443;
                                int64_t s_179447;
                                bool loop_while_179448;
                                int64_t j_179452;
                                
                                loop_while_179448 = defunc_0_lifted_gt_res_179442;
                                j_179452 = i_179418;
                                while (loop_while_179448) {
                                    bool x_179453 = sle64((int64_t) 0, j_179452);
                                    bool y_179454 = slt64(j_179452, block_sizze_179318);
                                    bool bounds_check_179455 = x_179453 && y_179454;
                                    bool index_certs_179456;
                                    
                                    if (!bounds_check_179455) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179452, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179460 = add64((int64_t) 1, j_179452);
                                    bool x_179461 = sle64((int64_t) 0, copy_arg0_179460);
                                    bool y_179462 = slt64(copy_arg0_179460, block_sizze_179318);
                                    bool bounds_check_179463 = x_179461 && y_179462;
                                    bool index_certs_179464;
                                    
                                    if (!bounds_check_179463) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179460, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179457 = ((int8_t *) mem_181472)[j_179452];
                                    int64_t copy_arg0_179458 = ((int64_t *) mem_181474)[j_179452];
                                    int32_t copy_arg0_179459 = ((int32_t *) mem_181476)[j_179452];
                                    int8_t copy_arg0_179465 = ((int8_t *) mem_181472)[copy_arg0_179460];
                                    int64_t copy_arg0_179466 = ((int64_t *) mem_181474)[copy_arg0_179460];
                                    int32_t copy_arg0_179467 = ((int32_t *) mem_181476)[copy_arg0_179460];
                                    
                                    ((int8_t *) mem_181472)[j_179452] = copy_arg0_179465;
                                    ((int64_t *) mem_181474)[j_179452] = copy_arg0_179466;
                                    ((int32_t *) mem_181476)[j_179452] = copy_arg0_179467;
                                    ((int8_t *) mem_181472)[copy_arg0_179460] = copy_arg0_179457;
                                    ((int64_t *) mem_181474)[copy_arg0_179460] = copy_arg0_179458;
                                    ((int32_t *) mem_181476)[copy_arg0_179460] = copy_arg0_179459;
                                    
                                    int64_t tmp_179474 = sub64(j_179452, (int64_t) 1);
                                    bool cond_179475 = sle64((int64_t) 0, tmp_179474);
                                    bool loop_cond_179476;
                                    
                                    if (cond_179475) {
                                        bool y_179480 = slt64(tmp_179474, block_sizze_179318);
                                        bool bounds_check_179481 = cond_179475 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179474, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_181472)[j_179452];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_181474)[j_179452];
                                        int32_t gt_arg1_179479 = ((int32_t *) mem_181476)[j_179452];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_181472)[tmp_179474];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_181474)[tmp_179474];
                                        int32_t gt_arg0_179485 = ((int32_t *) mem_181476)[tmp_179474];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = sle32(gt_arg0_179485, gt_arg1_179479);
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_179476 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_179476 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182503 = loop_cond_179476;
                                    int64_t j_tmp_182507 = tmp_179474;
                                    
                                    loop_while_179448 = loop_while_tmp_182503;
                                    j_179452 = j_tmp_182507;
                                }
                                s_179443 = loop_while_179448;
                                s_179447 = j_179452;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181453, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181472, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181456, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181474, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181459, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181476, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                    }
                    if (memblock_alloc(ctx, &mem_181553, flat_dim_179319, "mem_181553")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181553.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint8_t *) mem_181453, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181557, bytes_181455, "mem_181557")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181557.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint64_t *) mem_181456, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181561, bytes_181458, "mem_181561")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181561.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint32_t *) mem_181459, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    
                    int64_t data_179503;
                    bool data_179504;
                    int64_t data_179508;
                    int64_t loop_dz2084Uz2082U_179509;
                    bool loop_while_179510;
                    int64_t stride_179514;
                    
                    if (memblock_set(ctx, &mem_param_181565, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181568, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181571, &mem_181561, "mem_181561") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179509 = flat_dim_179319;
                    loop_while_179510 = loop_cond_179500;
                    stride_179514 = block_sizze_179318;
                    while (loop_while_179510) {
                        int64_t next_stride_179515 = mul64((int64_t) 2, stride_179514);
                        bool zzero_179516 = next_stride_179515 == (int64_t) 0;
                        bool nonzzero_179517 = !zzero_179516;
                        bool nonzzero_cert_179518;
                        
                        if (!nonzzero_179517) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179519 = sdiv64(flat_dim_179319, next_stride_179515);
                        bool bounds_invalid_upwards_179520 = slt64(num_merges_179519, (int64_t) 0);
                        bool valid_179521 = !bounds_invalid_upwards_179520;
                        bool range_valid_c_179522;
                        
                        if (!valid_179521) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179519, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179524 = sub64(next_stride_179515, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179525 = sle64((int64_t) 0, m_179524);
                        bool cond_179527 = slt64(next_stride_179515, (int64_t) 10);
                        bool protect_assert_disj_179528 = nonzzero_179502 || cond_179527;
                        bool nonzzero_cert_179529;
                        
                        if (!protect_assert_disj_179528) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179530 = smod_safe64(next_stride_179515, merge_block_sizze_179324);
                        bool num_blocks_179531 = zeze_lhs_179530 == (int64_t) 0;
                        bool protect_assert_disj_179532 = cond_179527 || num_blocks_179531;
                        bool assert_c_179533;
                        
                        if (!protect_assert_disj_179532) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179534 = sdiv_safe64(next_stride_179515, merge_block_sizze_179324);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535 = add64((int64_t) 1, num_blocks_179534);
                        int64_t j_m_i_179536 = sub64(next_stride_179515, stride_179514);
                        int64_t flat_dim_179537 = merge_block_sizze_179324 * num_blocks_179534;
                        bool bounds_invalid_upwards_179538 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, (int64_t) 0);
                        bool empty_slice_179539 = j_m_i_179536 == (int64_t) 0;
                        int64_t m_179540 = sub64(j_m_i_179536, (int64_t) 1);
                        bool zzero_lte_i_179541 = sle64((int64_t) 0, stride_179514);
                        bool i_lte_j_179542 = sle64(stride_179514, next_stride_179515);
                        bool empty_slice_179543 = stride_179514 == (int64_t) 0;
                        int64_t m_179544 = sub64(stride_179514, (int64_t) 1);
                        bool bounds_invalid_upwards_179545 = slt64(num_blocks_179534, (int64_t) 0);
                        bool cond_179546 = slt64((int64_t) 0, stride_179514);
                        bool valid_179547 = !bounds_invalid_upwards_179538;
                        int64_t i_p_m_t_s_179548 = add64(stride_179514, m_179540);
                        bool zzero_leq_i_p_m_t_s_179549 = sle64((int64_t) 0, m_179544);
                        bool i_p_m_t_s_leq_w_179550 = slt64(m_179544, next_stride_179515);
                        bool valid_179551 = !bounds_invalid_upwards_179545;
                        bool i_p_m_t_s_leq_w_179552 = slt64(m_179524, flat_dim_179537);
                        bool y_179553 = slt64((int64_t) 0, j_m_i_179536);
                        bool protect_assert_disj_179554 = cond_179527 || valid_179547;
                        bool range_valid_c_179555;
                        
                        if (!protect_assert_disj_179554) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179556 = sle64((int64_t) 0, i_p_m_t_s_179548);
                        bool i_p_m_t_s_leq_w_179557 = slt64(i_p_m_t_s_179548, next_stride_179515);
                        bool y_179558 = zzero_leq_i_p_m_t_s_179549 && i_p_m_t_s_leq_w_179550;
                        bool protect_assert_disj_179559 = cond_179527 || valid_179551;
                        bool range_valid_c_179560;
                        
                        if (!protect_assert_disj_179559) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179534, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179561 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179552;
                        bool y_179562 = zzero_lte_i_179541 && i_p_m_t_s_leq_w_179557;
                        bool forwards_ok_179563 = zzero_lte_i_179541 && y_179558;
                        bool ok_or_empty_179564 = zzero_179516 || y_179561;
                        bool protect_assert_disj_179565 = cond_179546 || y_179553;
                        bool y_179566 = zzero_leq_i_p_m_t_s_179556 && y_179562;
                        bool ok_or_empty_179567 = empty_slice_179543 || forwards_ok_179563;
                        bool protect_assert_disj_179568 = cond_179527 || ok_or_empty_179564;
                        bool index_certs_179569;
                        
                        if (!protect_assert_disj_179568) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) flat_dim_179537, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179570 = !cond_179527;
                        bool protect_assert_disj_179571 = protect_assert_disj_179565 || loop_not_taken_179570;
                        bool index_certs_179572;
                        
                        if (!protect_assert_disj_179571) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179573 = i_lte_j_179542 && y_179566;
                        bool protect_assert_disj_179574 = cond_179527 || ok_or_empty_179567;
                        bool index_certs_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179576 = ok_or_empty_179567 || loop_not_taken_179570;
                        bool index_certs_179577;
                        
                        if (!protect_assert_disj_179576) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179578 = empty_slice_179539 || forwards_ok_179573;
                        bool protect_assert_disj_179579 = cond_179527 || ok_or_empty_179578;
                        bool index_certs_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179581 = loop_not_taken_179570 || ok_or_empty_179578;
                        bool index_certs_179582;
                        
                        if (!protect_assert_disj_179581) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181572 = next_stride_179515 * num_merges_179519;
                        int64_t binop_x_181574 = (int64_t) 8 * num_merges_179519;
                        int64_t bytes_181575 = next_stride_179515 * binop_x_181574;
                        int64_t binop_x_181577 = (int64_t) 4 * num_merges_179519;
                        int64_t bytes_181578 = next_stride_179515 * binop_x_181577;
                        bool i_lte_j_179526 = sle64((int64_t) 0, next_stride_179515);
                        
                        if (mem_181573_cached_sizze_182910 < bytes_181572) {
                            err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_182910, bytes_181572);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181576_cached_sizze_182911 < bytes_181575) {
                            err = lexical_realloc(ctx, &mem_181576, &mem_181576_cached_sizze_182911, bytes_181575);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181579_cached_sizze_182912 < bytes_181578) {
                            err = lexical_realloc(ctx, &mem_181579, &mem_181579_cached_sizze_182912, bytes_181578);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181592 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535;
                        int64_t binop_x_181610 = (int64_t) 8 * num_blocks_179534;
                        int64_t bytes_181611 = merge_block_sizze_179324 * binop_x_181610;
                        int64_t binop_x_181613 = (int64_t) 4 * num_blocks_179534;
                        int64_t bytes_181614 = merge_block_sizze_179324 * binop_x_181613;
                        int64_t bytes_181675 = (int64_t) 16 * stride_179514;
                        int64_t bytes_181677 = (int64_t) 8 * stride_179514;
                        
                        for (int64_t i_180746 = 0; i_180746 < num_merges_179519; i_180746++) {
                            int64_t start_179587 = mul64(next_stride_179515, i_180746);
                            int64_t j_m_i_179588 = sub64(loop_dz2084Uz2082U_179509, start_179587);
                            bool empty_slice_179589 = j_m_i_179588 == (int64_t) 0;
                            int64_t m_179590 = sub64(j_m_i_179588, (int64_t) 1);
                            int64_t i_p_m_t_s_179591 = add64(start_179587, m_179590);
                            bool zzero_leq_i_p_m_t_s_179592 = sle64((int64_t) 0, i_p_m_t_s_179591);
                            bool i_p_m_t_s_leq_w_179593 = slt64(i_p_m_t_s_179591, loop_dz2084Uz2082U_179509);
                            bool zzero_lte_i_179594 = sle64((int64_t) 0, start_179587);
                            bool i_lte_j_179595 = sle64(start_179587, loop_dz2084Uz2082U_179509);
                            bool y_179596 = i_p_m_t_s_leq_w_179593 && zzero_lte_i_179594;
                            bool y_179597 = zzero_leq_i_p_m_t_s_179592 && y_179596;
                            bool forwards_ok_179598 = i_lte_j_179595 && y_179597;
                            bool ok_or_empty_179599 = empty_slice_179589 || forwards_ok_179598;
                            bool index_certs_179600;
                            
                            if (!ok_or_empty_179599) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179587, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179509, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179601 = slt64(m_179524, j_m_i_179588);
                            bool y_179602 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179601;
                            bool forwards_ok_179603 = i_lte_j_179526 && y_179602;
                            bool ok_or_empty_179604 = zzero_179516 || forwards_ok_179603;
                            bool index_certs_179605;
                            
                            if (!ok_or_empty_179604) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) j_m_i_179588, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179527) {
                                int8_t dummy_179609;
                                int64_t dummy_179610;
                                int32_t dummy_179611;
                                
                                if (cond_179546) {
                                    int8_t head_res_179612 = ((int8_t *) mem_param_181565.mem)[start_179587];
                                    int64_t head_res_179613 = ((int64_t *) mem_param_181568.mem)[start_179587];
                                    int32_t head_res_179614 = ((int32_t *) mem_param_181571.mem)[start_179587];
                                    
                                    dummy_179609 = head_res_179612;
                                    dummy_179610 = head_res_179613;
                                    dummy_179611 = head_res_179614;
                                } else {
                                    int64_t slice_179615 = stride_179514 + start_179587;
                                    int8_t head_res_179616 = ((int8_t *) mem_param_181565.mem)[slice_179615];
                                    int64_t head_res_179617 = ((int64_t *) mem_param_181568.mem)[slice_179615];
                                    int32_t head_res_179618 = ((int32_t *) mem_param_181571.mem)[slice_179615];
                                    
                                    dummy_179609 = head_res_179616;
                                    dummy_179610 = head_res_179617;
                                    dummy_179611 = head_res_179618;
                                }
                                if (memblock_alloc(ctx, &mem_181674, next_stride_179515, "mem_181674")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182520 = 0; nest_i_182520 < next_stride_179515; nest_i_182520++) {
                                    ((int8_t *) mem_181674.mem)[nest_i_182520] = dummy_179609;
                                }
                                if (memblock_alloc(ctx, &mem_181676, bytes_181675, "mem_181676")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182521 = 0; nest_i_182521 < next_stride_179515; nest_i_182521++) {
                                    ((int64_t *) mem_181676.mem)[nest_i_182521] = dummy_179610;
                                }
                                if (memblock_alloc(ctx, &mem_181678, bytes_181677, "mem_181678")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182522 = 0; nest_i_182522 < next_stride_179515; nest_i_182522++) {
                                    ((int32_t *) mem_181678.mem)[nest_i_182522] = dummy_179611;
                                }
                                
                                int64_t data_179622;
                                int64_t i_179627 = (int64_t) 0;
                                
                                for (int64_t k_179626 = 0; k_179626 < next_stride_179515; k_179626++) {
                                    int64_t j_179631 = sub64(k_179626, i_179627);
                                    bool cond_179632 = j_179631 == j_m_i_179536;
                                    bool cond_179633;
                                    
                                    if (cond_179632) {
                                        cond_179633 = 1;
                                    } else {
                                        bool cond_179634 = slt64(i_179627, stride_179514);
                                        bool cond_f_res_179635;
                                        
                                        if (cond_179634) {
                                            bool x_179636 = sle64((int64_t) 0, j_179631);
                                            bool y_179637 = slt64(j_179631, j_m_i_179536);
                                            bool bounds_check_179638 = x_179636 && y_179637;
                                            bool index_certs_179639;
                                            
                                            if (!bounds_check_179638) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179645 = sle64((int64_t) 0, i_179627);
                                            bool bounds_check_179646 = cond_179634 && x_179645;
                                            bool index_certs_179647;
                                            
                                            if (!bounds_check_179646) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179640 = stride_179514 + j_179631;
                                            int64_t slice_179641 = start_179587 + slice_179640;
                                            int8_t leq_arg1_179642 = ((int8_t *) mem_param_181565.mem)[slice_179641];
                                            int64_t leq_arg1_179643 = ((int64_t *) mem_param_181568.mem)[slice_179641];
                                            int32_t leq_arg1_179644 = ((int32_t *) mem_param_181571.mem)[slice_179641];
                                            int64_t slice_179648 = start_179587 + i_179627;
                                            int8_t leq_arg0_179649 = ((int8_t *) mem_param_181565.mem)[slice_179648];
                                            int64_t leq_arg0_179650 = ((int64_t *) mem_param_181568.mem)[slice_179648];
                                            int32_t leq_arg0_179651 = ((int32_t *) mem_param_181571.mem)[slice_179648];
                                            bool cond_179652 = leq_arg0_179649 == leq_arg1_179642;
                                            bool defunc_0_leq_res_t_res_179653 = sle64(leq_arg0_179650, leq_arg1_179643);
                                            bool defunc_0_leq_res_179654 = sle32(leq_arg0_179651, leq_arg1_179644);
                                            bool x_179655 = cond_179652 && defunc_0_leq_res_t_res_179653;
                                            bool x_179656 = !cond_179652;
                                            bool y_179657 = defunc_0_leq_res_179654 && x_179656;
                                            bool defunc_0_leq_res_179658 = x_179655 || y_179657;
                                            
                                            cond_f_res_179635 = defunc_0_leq_res_179658;
                                        } else {
                                            cond_f_res_179635 = 0;
                                        }
                                        cond_179633 = cond_f_res_179635;
                                    }
                                    
                                    int64_t loopres_179659;
                                    int8_t loopres_179660;
                                    int64_t loopres_179661;
                                    int32_t loopres_179662;
                                    
                                    if (cond_179633) {
                                        bool x_179664 = sle64((int64_t) 0, i_179627);
                                        bool y_179665 = slt64(i_179627, stride_179514);
                                        bool bounds_check_179666 = x_179664 && y_179665;
                                        bool index_certs_179667;
                                        
                                        if (!bounds_check_179666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179663 = add64((int64_t) 1, i_179627);
                                        int64_t slice_179668 = start_179587 + i_179627;
                                        int8_t tmp_179669 = ((int8_t *) mem_param_181565.mem)[slice_179668];
                                        int64_t tmp_179670 = ((int64_t *) mem_param_181568.mem)[slice_179668];
                                        int32_t tmp_179671 = ((int32_t *) mem_param_181571.mem)[slice_179668];
                                        
                                        loopres_179659 = tmp_179663;
                                        loopres_179660 = tmp_179669;
                                        loopres_179661 = tmp_179670;
                                        loopres_179662 = tmp_179671;
                                    } else {
                                        bool x_179672 = sle64((int64_t) 0, j_179631);
                                        bool y_179673 = slt64(j_179631, j_m_i_179536);
                                        bool bounds_check_179674 = x_179672 && y_179673;
                                        bool index_certs_179675;
                                        
                                        if (!bounds_check_179674) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179676 = stride_179514 + j_179631;
                                        int64_t slice_179677 = start_179587 + slice_179676;
                                        int8_t tmp_179678 = ((int8_t *) mem_param_181565.mem)[slice_179677];
                                        int64_t tmp_179679 = ((int64_t *) mem_param_181568.mem)[slice_179677];
                                        int32_t tmp_179680 = ((int32_t *) mem_param_181571.mem)[slice_179677];
                                        
                                        loopres_179659 = i_179627;
                                        loopres_179660 = tmp_179678;
                                        loopres_179661 = tmp_179679;
                                        loopres_179662 = tmp_179680;
                                    }
                                    ((int8_t *) mem_181674.mem)[k_179626] = loopres_179660;
                                    ((int64_t *) mem_181676.mem)[k_179626] = loopres_179661;
                                    ((int32_t *) mem_181678.mem)[k_179626] = loopres_179662;
                                    
                                    int64_t i_tmp_182523 = loopres_179659;
                                    
                                    i_179627 = i_tmp_182523;
                                }
                                data_179622 = i_179627;
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181674, "mem_181674") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181676, "mem_181676") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181678, "mem_181678") != 0)
                                    return 1;
                            } else {
                                if (mem_181593_cached_sizze_182913 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_182913, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181595_cached_sizze_182914 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181595, &mem_181595_cached_sizze_182914, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180727 = 0; i_180727 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535; i_180727++) {
                                    int64_t split_count_arg3_179688 = mul64(merge_block_sizze_179324, i_180727);
                                    int64_t defunc_0_split_count_res_179689;
                                    int64_t defunc_0_split_count_res_179690;
                                    int64_t defunc_0_split_count_res_179691;
                                    int64_t defunc_0_split_count_res_179692;
                                    int64_t defunc_0_split_count_res_179693;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_179689, &defunc_0_split_count_res_179690, &defunc_0_split_count_res_179691, &defunc_0_split_count_res_179692, &defunc_0_split_count_res_179693, (int64_t) 0, stride_179514, (int64_t) 0, j_m_i_179536, split_count_arg3_179688) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179694 = slt64((int64_t) 0, defunc_0_split_count_res_179693);
                                    bool defunc_0_split_count_res_179695;
                                    int64_t defunc_0_split_count_res_179696;
                                    int64_t defunc_0_split_count_res_179697;
                                    int64_t defunc_0_split_count_res_179698;
                                    int64_t defunc_0_split_count_res_179699;
                                    int64_t defunc_0_split_count_res_179700;
                                    bool loop_while_179701;
                                    int64_t ss_179702;
                                    int64_t ss_179703;
                                    int64_t tt_179704;
                                    int64_t tt_179705;
                                    int64_t count_179706;
                                    
                                    loop_while_179701 = loop_cond_179694;
                                    ss_179702 = defunc_0_split_count_res_179689;
                                    ss_179703 = defunc_0_split_count_res_179690;
                                    tt_179704 = defunc_0_split_count_res_179691;
                                    tt_179705 = defunc_0_split_count_res_179692;
                                    count_179706 = defunc_0_split_count_res_179693;
                                    while (loop_while_179701) {
                                        int64_t zlze_lhs_179707 = sub64(ss_179703, ss_179702);
                                        bool cond_179708 = sle64(zlze_lhs_179707, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179709;
                                        int64_t defunc_0_lifted_step_res_179710;
                                        int64_t defunc_0_lifted_step_res_179711;
                                        int64_t defunc_0_lifted_step_res_179712;
                                        
                                        if (cond_179708) {
                                            int64_t tmp_179713 = add64(tt_179704, count_179706);
                                            
                                            defunc_0_lifted_step_res_179709 = ss_179702;
                                            defunc_0_lifted_step_res_179710 = tmp_179713;
                                            defunc_0_lifted_step_res_179711 = tt_179705;
                                            defunc_0_lifted_step_res_179712 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179714 = sub64(tt_179705, tt_179704);
                                            bool cond_179715 = sle64(zlze_lhs_179714, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179716;
                                            int64_t defunc_0_lifted_step_res_f_res_179717;
                                            int64_t defunc_0_lifted_step_res_f_res_179718;
                                            int64_t defunc_0_lifted_step_res_f_res_179719;
                                            
                                            if (cond_179715) {
                                                int64_t tmp_179720 = add64(ss_179702, count_179706);
                                                
                                                defunc_0_lifted_step_res_f_res_179716 = tmp_179720;
                                                defunc_0_lifted_step_res_f_res_179717 = tt_179704;
                                                defunc_0_lifted_step_res_f_res_179718 = tt_179705;
                                                defunc_0_lifted_step_res_f_res_179719 = (int64_t) 0;
                                            } else {
                                                bool cond_179721 = count_179706 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179722;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179723;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179724;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179725;
                                                
                                                if (cond_179721) {
                                                    bool x_179726 = sle64((int64_t) 0, ss_179702);
                                                    bool y_179727 = slt64(ss_179702, stride_179514);
                                                    bool bounds_check_179728 = x_179726 && y_179727;
                                                    bool index_certs_179729;
                                                    
                                                    if (!bounds_check_179728) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179702, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179734 = sle64((int64_t) 0, tt_179704);
                                                    bool y_179735 = slt64(tt_179704, j_m_i_179536);
                                                    bool bounds_check_179736 = x_179734 && y_179735;
                                                    bool index_certs_179737;
                                                    
                                                    if (!bounds_check_179736) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179704, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179730 = start_179587 + ss_179702;
                                                    int8_t leq_arg1_179731 = ((int8_t *) mem_param_181565.mem)[slice_179730];
                                                    int64_t leq_arg1_179732 = ((int64_t *) mem_param_181568.mem)[slice_179730];
                                                    int32_t leq_arg1_179733 = ((int32_t *) mem_param_181571.mem)[slice_179730];
                                                    int64_t slice_179738 = stride_179514 + tt_179704;
                                                    int64_t slice_179739 = start_179587 + slice_179738;
                                                    int8_t leq_arg0_179740 = ((int8_t *) mem_param_181565.mem)[slice_179739];
                                                    int64_t leq_arg0_179741 = ((int64_t *) mem_param_181568.mem)[slice_179739];
                                                    int32_t leq_arg0_179742 = ((int32_t *) mem_param_181571.mem)[slice_179739];
                                                    bool cond_179743 = leq_arg0_179740 == leq_arg1_179731;
                                                    bool defunc_0_leq_res_t_res_179744 = sle64(leq_arg0_179741, leq_arg1_179732);
                                                    bool defunc_0_leq_res_179745 = sle32(leq_arg0_179742, leq_arg1_179733);
                                                    bool x_179746 = cond_179743 && defunc_0_leq_res_t_res_179744;
                                                    bool x_179747 = !cond_179743;
                                                    bool y_179748 = defunc_0_leq_res_179745 && x_179747;
                                                    bool defunc_0_leq_res_179749 = x_179746 || y_179748;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    
                                                    if (defunc_0_leq_res_179749) {
                                                        int64_t tmp_179752 = add64((int64_t) 1, tt_179704);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = ss_179702;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tmp_179752;
                                                    } else {
                                                        int64_t tmp_179753 = add64((int64_t) 1, ss_179702);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = tmp_179753;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tt_179704;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = tt_179705;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179754 = sdiv64(count_179706, (int64_t) 2);
                                                    int64_t n_179755 = sub64(count_179706, m_179754);
                                                    bool cond_179756 = n_179755 == (int64_t) 0;
                                                    int64_t zgze_lhs_179757 = add64(ss_179702, m_179754);
                                                    bool cond_f_res_179758 = sle64(ss_179703, zgze_lhs_179757);
                                                    bool x_179759 = !cond_179756;
                                                    bool y_179760 = cond_f_res_179758 && x_179759;
                                                    bool cond_179761 = cond_179756 || y_179760;
                                                    bool leq_y_x_179762;
                                                    
                                                    if (cond_179761) {
                                                        leq_y_x_179762 = 1;
                                                    } else {
                                                        bool x_179763 = sle64((int64_t) 0, zgze_lhs_179757);
                                                        bool y_179764 = slt64(zgze_lhs_179757, stride_179514);
                                                        bool bounds_check_179765 = x_179763 && y_179764;
                                                        bool index_certs_179766;
                                                        
                                                        if (!bounds_check_179765) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179757, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179771 = add64(tt_179704, n_179755);
                                                        int64_t leq_arg0_179772 = sub64(zm_lhs_179771, (int64_t) 1);
                                                        bool x_179773 = sle64((int64_t) 0, leq_arg0_179772);
                                                        bool y_179774 = slt64(leq_arg0_179772, j_m_i_179536);
                                                        bool bounds_check_179775 = x_179773 && y_179774;
                                                        bool index_certs_179776;
                                                        
                                                        if (!bounds_check_179775) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179772, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:380:63-73\n   #13 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179767 = start_179587 + zgze_lhs_179757;
                                                        int8_t leq_arg1_179768 = ((int8_t *) mem_param_181565.mem)[slice_179767];
                                                        int64_t leq_arg1_179769 = ((int64_t *) mem_param_181568.mem)[slice_179767];
                                                        int32_t leq_arg1_179770 = ((int32_t *) mem_param_181571.mem)[slice_179767];
                                                        int64_t slice_179777 = stride_179514 + leq_arg0_179772;
                                                        int64_t slice_179778 = start_179587 + slice_179777;
                                                        int8_t leq_arg0_179779 = ((int8_t *) mem_param_181565.mem)[slice_179778];
                                                        int64_t leq_arg0_179780 = ((int64_t *) mem_param_181568.mem)[slice_179778];
                                                        int32_t leq_arg0_179781 = ((int32_t *) mem_param_181571.mem)[slice_179778];
                                                        bool cond_179782 = leq_arg0_179779 == leq_arg1_179768;
                                                        bool defunc_0_leq_res_t_res_179783 = sle64(leq_arg0_179780, leq_arg1_179769);
                                                        bool defunc_0_leq_res_179784 = sle32(leq_arg0_179781, leq_arg1_179770);
                                                        bool x_179785 = cond_179782 && defunc_0_leq_res_t_res_179783;
                                                        bool x_179786 = !cond_179782;
                                                        bool y_179787 = defunc_0_leq_res_179784 && x_179786;
                                                        bool defunc_0_leq_res_179788 = x_179785 || y_179787;
                                                        
                                                        leq_y_x_179762 = defunc_0_leq_res_179788;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                    
                                                    if (leq_y_x_179762) {
                                                        int64_t tmp_179792 = add64(tt_179704, n_179755);
                                                        int64_t tmp_179793 = sub64(count_179706, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tmp_179792;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tt_179705;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = tmp_179793;
                                                    } else {
                                                        int64_t tmp_179794 = add64(tt_179704, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tt_179704;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tmp_179794;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = count_179706;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = ss_179702;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                }
                                                defunc_0_lifted_step_res_f_res_179716 = defunc_0_lifted_step_res_f_res_f_res_179722;
                                                defunc_0_lifted_step_res_f_res_179717 = defunc_0_lifted_step_res_f_res_f_res_179723;
                                                defunc_0_lifted_step_res_f_res_179718 = defunc_0_lifted_step_res_f_res_f_res_179724;
                                                defunc_0_lifted_step_res_f_res_179719 = defunc_0_lifted_step_res_f_res_f_res_179725;
                                            }
                                            defunc_0_lifted_step_res_179709 = defunc_0_lifted_step_res_f_res_179716;
                                            defunc_0_lifted_step_res_179710 = defunc_0_lifted_step_res_f_res_179717;
                                            defunc_0_lifted_step_res_179711 = defunc_0_lifted_step_res_f_res_179718;
                                            defunc_0_lifted_step_res_179712 = defunc_0_lifted_step_res_f_res_179719;
                                        }
                                        
                                        int64_t loopres_179795;
                                        int64_t loopres_179796;
                                        int64_t loopres_179797;
                                        int64_t loopres_179798;
                                        int64_t loopres_179799;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_179795, &loopres_179796, &loopres_179797, &loopres_179798, &loopres_179799, defunc_0_lifted_step_res_179709, ss_179703, defunc_0_lifted_step_res_179710, defunc_0_lifted_step_res_179711, defunc_0_lifted_step_res_179712) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179800 = slt64((int64_t) 0, loopres_179799);
                                        bool loop_while_tmp_182529 = loop_cond_179800;
                                        int64_t ss_tmp_182530 = loopres_179795;
                                        int64_t ss_tmp_182531 = loopres_179796;
                                        int64_t tt_tmp_182532 = loopres_179797;
                                        int64_t tt_tmp_182533 = loopres_179798;
                                        int64_t count_tmp_182534 = loopres_179799;
                                        
                                        loop_while_179701 = loop_while_tmp_182529;
                                        ss_179702 = ss_tmp_182530;
                                        ss_179703 = ss_tmp_182531;
                                        tt_179704 = tt_tmp_182532;
                                        tt_179705 = tt_tmp_182533;
                                        count_179706 = count_tmp_182534;
                                    }
                                    defunc_0_split_count_res_179695 = loop_while_179701;
                                    defunc_0_split_count_res_179696 = ss_179702;
                                    defunc_0_split_count_res_179697 = ss_179703;
                                    defunc_0_split_count_res_179698 = tt_179704;
                                    defunc_0_split_count_res_179699 = tt_179705;
                                    defunc_0_split_count_res_179700 = count_179706;
                                    ((int64_t *) mem_181593)[i_180727] = defunc_0_split_count_res_179696;
                                    ((int64_t *) mem_181595)[i_180727] = defunc_0_split_count_res_179698;
                                }
                                if (mem_181609_cached_sizze_182915 < flat_dim_179537) {
                                    err = lexical_realloc(ctx, &mem_181609, &mem_181609_cached_sizze_182915, flat_dim_179537);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181612_cached_sizze_182916 < bytes_181611) {
                                    err = lexical_realloc(ctx, &mem_181612, &mem_181612_cached_sizze_182916, bytes_181611);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_182917 < bytes_181614) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_182917, bytes_181614);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180736 = 0; i_180736 < num_blocks_179534; i_180736++) {
                                    bool y_179809 = slt64(i_180736, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool index_certs_179811;
                                    
                                    if (!y_179809) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180736, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179812 = ((int64_t *) mem_181593)[i_180736];
                                    int64_t defunc_0_f_res_179813 = ((int64_t *) mem_181595)[i_180736];
                                    int64_t tmp_179814 = add64((int64_t) 1, i_180736);
                                    bool x_179815 = sle64((int64_t) 0, tmp_179814);
                                    bool y_179816 = slt64(tmp_179814, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool bounds_check_179817 = x_179815 && y_179816;
                                    bool index_certs_179818;
                                    
                                    if (!bounds_check_179817) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179814, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179819 = ((int64_t *) mem_181593)[tmp_179814];
                                    int64_t defunc_0_f_res_179820 = ((int64_t *) mem_181595)[tmp_179814];
                                    int64_t merge_sequential_arg2_179821 = add64(stride_179514, defunc_0_f_res_179813);
                                    int64_t merge_sequential_arg2_179822 = add64(stride_179514, defunc_0_f_res_179820);
                                    int64_t j_m_i_179823 = sub64(merge_sequential_arg2_179822, merge_sequential_arg2_179821);
                                    bool empty_slice_179824 = j_m_i_179823 == (int64_t) 0;
                                    int64_t m_179825 = sub64(j_m_i_179823, (int64_t) 1);
                                    int64_t i_p_m_t_s_179826 = add64(merge_sequential_arg2_179821, m_179825);
                                    bool zzero_leq_i_p_m_t_s_179827 = sle64((int64_t) 0, i_p_m_t_s_179826);
                                    bool i_p_m_t_s_leq_w_179828 = slt64(i_p_m_t_s_179826, next_stride_179515);
                                    bool zzero_lte_i_179829 = sle64((int64_t) 0, merge_sequential_arg2_179821);
                                    bool i_lte_j_179830 = sle64(merge_sequential_arg2_179821, merge_sequential_arg2_179822);
                                    bool y_179831 = i_p_m_t_s_leq_w_179828 && zzero_lte_i_179829;
                                    bool y_179832 = zzero_leq_i_p_m_t_s_179827 && y_179831;
                                    bool forwards_ok_179833 = i_lte_j_179830 && y_179832;
                                    bool ok_or_empty_179834 = empty_slice_179824 || forwards_ok_179833;
                                    bool index_certs_179835;
                                    
                                    if (!ok_or_empty_179834) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179821, ":", (long long) merge_sequential_arg2_179822, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179836 = sub64(defunc_0_f_res_179819, defunc_0_f_res_179812);
                                    bool empty_slice_179837 = j_m_i_179836 == (int64_t) 0;
                                    int64_t m_179838 = sub64(j_m_i_179836, (int64_t) 1);
                                    int64_t i_p_m_t_s_179839 = add64(defunc_0_f_res_179812, m_179838);
                                    bool zzero_leq_i_p_m_t_s_179840 = sle64((int64_t) 0, i_p_m_t_s_179839);
                                    bool i_p_m_t_s_leq_w_179841 = slt64(i_p_m_t_s_179839, next_stride_179515);
                                    bool zzero_lte_i_179842 = sle64((int64_t) 0, defunc_0_f_res_179812);
                                    bool i_lte_j_179843 = sle64(defunc_0_f_res_179812, defunc_0_f_res_179819);
                                    bool y_179844 = i_p_m_t_s_leq_w_179841 && zzero_lte_i_179842;
                                    bool y_179845 = zzero_leq_i_p_m_t_s_179840 && y_179844;
                                    bool forwards_ok_179846 = i_lte_j_179843 && y_179845;
                                    bool ok_or_empty_179847 = empty_slice_179837 || forwards_ok_179846;
                                    bool index_certs_179848;
                                    
                                    if (!ok_or_empty_179847) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179812, ":", (long long) defunc_0_f_res_179819, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179849 = slt64((int64_t) 0, j_m_i_179836);
                                    int8_t dummy_179850;
                                    int64_t dummy_179851;
                                    int32_t dummy_179852;
                                    
                                    if (cond_179849) {
                                        bool index_certs_179853;
                                        
                                        if (!cond_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179854 = start_179587 + defunc_0_f_res_179812;
                                        int8_t head_res_179855 = ((int8_t *) mem_param_181565.mem)[slice_179854];
                                        int64_t head_res_179856 = ((int64_t *) mem_param_181568.mem)[slice_179854];
                                        int32_t head_res_179857 = ((int32_t *) mem_param_181571.mem)[slice_179854];
                                        
                                        dummy_179850 = head_res_179855;
                                        dummy_179851 = head_res_179856;
                                        dummy_179852 = head_res_179857;
                                    } else {
                                        bool y_179858 = slt64((int64_t) 0, j_m_i_179823);
                                        bool index_certs_179859;
                                        
                                        if (!y_179858) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179860 = start_179587 + merge_sequential_arg2_179821;
                                        int8_t head_res_179861 = ((int8_t *) mem_param_181565.mem)[slice_179860];
                                        int64_t head_res_179862 = ((int64_t *) mem_param_181568.mem)[slice_179860];
                                        int32_t head_res_179863 = ((int32_t *) mem_param_181571.mem)[slice_179860];
                                        
                                        dummy_179850 = head_res_179861;
                                        dummy_179851 = head_res_179862;
                                        dummy_179852 = head_res_179863;
                                    }
                                    for (int64_t nest_i_182538 = 0; nest_i_182538 < merge_block_sizze_179324; nest_i_182538++) {
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + nest_i_182538] = dummy_179850;
                                    }
                                    for (int64_t nest_i_182539 = 0; nest_i_182539 < merge_block_sizze_179324; nest_i_182539++) {
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + nest_i_182539] = dummy_179851;
                                    }
                                    for (int64_t nest_i_182540 = 0; nest_i_182540 < merge_block_sizze_179324; nest_i_182540++) {
                                        ((int32_t *) mem_181615)[i_180736 * merge_block_sizze_179324 + nest_i_182540] = dummy_179852;
                                    }
                                    
                                    int64_t data_179867;
                                    int64_t i_179872 = (int64_t) 0;
                                    
                                    for (int64_t k_179871 = 0; k_179871 < merge_block_sizze_179324; k_179871++) {
                                        int64_t j_179876 = sub64(k_179871, i_179872);
                                        bool cond_179877 = j_179876 == j_m_i_179823;
                                        bool cond_179878;
                                        
                                        if (cond_179877) {
                                            cond_179878 = 1;
                                        } else {
                                            bool cond_179879 = slt64(i_179872, j_m_i_179836);
                                            bool cond_f_res_179880;
                                            
                                            if (cond_179879) {
                                                bool x_179881 = sle64((int64_t) 0, j_179876);
                                                bool y_179882 = slt64(j_179876, j_m_i_179823);
                                                bool bounds_check_179883 = x_179881 && y_179882;
                                                bool index_certs_179884;
                                                
                                                if (!bounds_check_179883) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179890 = sle64((int64_t) 0, i_179872);
                                                bool bounds_check_179891 = cond_179879 && x_179890;
                                                bool index_certs_179892;
                                                
                                                if (!bounds_check_179891) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179885 = merge_sequential_arg2_179821 + j_179876;
                                                int64_t slice_179886 = start_179587 + slice_179885;
                                                int8_t leq_arg1_179887 = ((int8_t *) mem_param_181565.mem)[slice_179886];
                                                int64_t leq_arg1_179888 = ((int64_t *) mem_param_181568.mem)[slice_179886];
                                                int32_t leq_arg1_179889 = ((int32_t *) mem_param_181571.mem)[slice_179886];
                                                int64_t slice_179893 = defunc_0_f_res_179812 + i_179872;
                                                int64_t slice_179894 = start_179587 + slice_179893;
                                                int8_t leq_arg0_179895 = ((int8_t *) mem_param_181565.mem)[slice_179894];
                                                int64_t leq_arg0_179896 = ((int64_t *) mem_param_181568.mem)[slice_179894];
                                                int32_t leq_arg0_179897 = ((int32_t *) mem_param_181571.mem)[slice_179894];
                                                bool cond_179898 = leq_arg0_179895 == leq_arg1_179887;
                                                bool defunc_0_leq_res_t_res_179899 = sle64(leq_arg0_179896, leq_arg1_179888);
                                                bool defunc_0_leq_res_179900 = sle32(leq_arg0_179897, leq_arg1_179889);
                                                bool x_179901 = cond_179898 && defunc_0_leq_res_t_res_179899;
                                                bool x_179902 = !cond_179898;
                                                bool y_179903 = defunc_0_leq_res_179900 && x_179902;
                                                bool defunc_0_leq_res_179904 = x_179901 || y_179903;
                                                
                                                cond_f_res_179880 = defunc_0_leq_res_179904;
                                            } else {
                                                cond_f_res_179880 = 0;
                                            }
                                            cond_179878 = cond_f_res_179880;
                                        }
                                        
                                        int64_t loopres_179905;
                                        int8_t loopres_179906;
                                        int64_t loopres_179907;
                                        int32_t loopres_179908;
                                        
                                        if (cond_179878) {
                                            bool x_179910 = sle64((int64_t) 0, i_179872);
                                            bool y_179911 = slt64(i_179872, j_m_i_179836);
                                            bool bounds_check_179912 = x_179910 && y_179911;
                                            bool index_certs_179913;
                                            
                                            if (!bounds_check_179912) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179909 = add64((int64_t) 1, i_179872);
                                            int64_t slice_179914 = defunc_0_f_res_179812 + i_179872;
                                            int64_t slice_179915 = start_179587 + slice_179914;
                                            int8_t tmp_179916 = ((int8_t *) mem_param_181565.mem)[slice_179915];
                                            int64_t tmp_179917 = ((int64_t *) mem_param_181568.mem)[slice_179915];
                                            int32_t tmp_179918 = ((int32_t *) mem_param_181571.mem)[slice_179915];
                                            
                                            loopres_179905 = tmp_179909;
                                            loopres_179906 = tmp_179916;
                                            loopres_179907 = tmp_179917;
                                            loopres_179908 = tmp_179918;
                                        } else {
                                            bool x_179919 = sle64((int64_t) 0, j_179876);
                                            bool y_179920 = slt64(j_179876, j_m_i_179823);
                                            bool bounds_check_179921 = x_179919 && y_179920;
                                            bool index_certs_179922;
                                            
                                            if (!bounds_check_179921) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179923 = merge_sequential_arg2_179821 + j_179876;
                                            int64_t slice_179924 = start_179587 + slice_179923;
                                            int8_t tmp_179925 = ((int8_t *) mem_param_181565.mem)[slice_179924];
                                            int64_t tmp_179926 = ((int64_t *) mem_param_181568.mem)[slice_179924];
                                            int32_t tmp_179927 = ((int32_t *) mem_param_181571.mem)[slice_179924];
                                            
                                            loopres_179905 = i_179872;
                                            loopres_179906 = tmp_179925;
                                            loopres_179907 = tmp_179926;
                                            loopres_179908 = tmp_179927;
                                        }
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179906;
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179907;
                                        ((int32_t *) mem_181615)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179908;
                                        
                                        int64_t i_tmp_182541 = loopres_179905;
                                        
                                        i_179872 = i_tmp_182541;
                                    }
                                    data_179867 = i_179872;
                                }
                                if (memblock_alloc(ctx, &mem_181664, flat_dim_179537, "mem_181664")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181664.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint8_t *) mem_181609, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181668, bytes_181611, "mem_181668")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181668.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint64_t *) mem_181612, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181672, bytes_181614, "mem_181672")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181672.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint32_t *) mem_181615, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181664, "mem_181664") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181668, "mem_181668") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181672, "mem_181672") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181573, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181705.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181576, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181702.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181579, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181699.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181719, bytes_181572, "mem_181719")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181719.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181723, bytes_181575, "mem_181723")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181723.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint64_t *) mem_181576, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181727, bytes_181578, "mem_181727")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181727.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint32_t *) mem_181579, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        
                        bool loop_cond_179947 = slt64(next_stride_179515, flat_dim_179319);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182508, &mem_181719, "mem_181719") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182509, &mem_181723, "mem_181723") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182510, &mem_181727, "mem_181727") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182511 = bytes_181572;
                        bool loop_while_tmp_182512 = loop_cond_179947;
                        int64_t stride_tmp_182516 = next_stride_179515;
                        
                        if (memblock_set(ctx, &mem_param_181565, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181568, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181571, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179509 = loop_dz2084Uz2082U_tmp_182511;
                        loop_while_179510 = loop_while_tmp_182512;
                        stride_179514 = stride_tmp_182516;
                    }
                    if (memblock_set(ctx, &ext_mem_181737, &mem_param_181565, "mem_param_181565") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181736, &mem_param_181568, "mem_param_181568") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181735, &mem_param_181571, "mem_param_181571") != 0)
                        return 1;
                    data_179503 = loop_dz2084Uz2082U_179509;
                    data_179504 = loop_while_179510;
                    data_179508 = stride_179514;
                    if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
                        return 1;
                    
                    bool empty_slice_179948 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179949 = sle64((int64_t) 0, zs_lhs_179303);
                    bool i_p_m_t_s_leq_w_179950 = slt64(zs_lhs_179303, data_179503);
                    bool y_179951 = zzero_leq_i_p_m_t_s_179949 && i_p_m_t_s_leq_w_179950;
                    bool ok_or_empty_179952 = empty_slice_179948 || y_179951;
                    bool index_certs_179953;
                    
                    if (!ok_or_empty_179952) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] out of bounds for array of shape [", (long long) data_179503, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:380:63-73\n   #6  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181746, &ext_mem_181737, "ext_mem_181737") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &ext_mem_181736, "ext_mem_181736") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &ext_mem_181735, "ext_mem_181735") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181413, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181746.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181416, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181743.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181419, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181740.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
                    return 1;
                for (int64_t i_180752 = 0; i_180752 < perThread_175580; i_180752++) {
                    int64_t lifted_lambda_res_179975 = add64(zm_rhs_179259, i_180752);
                    
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + i_180752] = lifted_lambda_res_179975;
                }
                
                bool cond_179977 = card_179260 == zp_rhs_175579;
                
                if (cond_179977) {
                    bool y_179979 = slt64(card_179260, perThread_175580);
                    bool index_certs_179980;
                    
                    if (!y_179979) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:380:63-73\n   #3  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + card_179260] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181772, bytes_181067, "mem_181772")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182546 = 0; nest_i_182546 < window_sizze_131709; nest_i_182546++) {
                ((int32_t *) mem_181772.mem)[nest_i_182546] = 0;
            }
            if (memblock_alloc(ctx, &mem_181774, bytes_181065, "mem_181774")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182547 = 0; nest_i_182547 < window_sizze_131709; nest_i_182547++) {
                ((int64_t *) mem_181774.mem)[nest_i_182547] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181775, window_sizze_131709, "mem_181775")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182548 = 0; nest_i_182548 < window_sizze_131709; nest_i_182548++) {
                ((int8_t *) mem_181775.mem)[nest_i_182548] = (int8_t) -1;
            }
            for (int64_t write_iter_180767 = 0; write_iter_180767 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581; write_iter_180767++) {
                int64_t new_index_180919 = squot64(write_iter_180767, perThread_175580);
                int64_t binop_y_180921 = perThread_175580 * new_index_180919;
                int64_t new_index_180922 = write_iter_180767 - binop_y_180921;
                int64_t write_iv_180771 = ((int64_t *) mem_181411)[new_index_180919 * perThread_175580 + new_index_180922];
                int8_t write_iv_180772 = ((int8_t *) mem_181413)[new_index_180919 * perThread_175580 + new_index_180922];
                int64_t write_iv_180773 = ((int64_t *) mem_181416)[new_index_180919 * perThread_175580 + new_index_180922];
                int32_t write_iv_180774 = ((int32_t *) mem_181419)[new_index_180919 * perThread_175580 + new_index_180922];
                
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_131709)) {
                    ((int8_t *) mem_181775.mem)[write_iv_180771] = write_iv_180772;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_131709)) {
                    ((int64_t *) mem_181774.mem)[write_iv_180771] = write_iv_180773;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_131709)) {
                    ((int32_t *) mem_181772.mem)[write_iv_180771] = write_iv_180774;
                }
            }
            
            int64_t index_concat_branch_180003;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180004 = ((int64_t *) mem_181394)[index_concat_i_178344];
                
                index_concat_branch_180003 = index_concat_180004;
            } else {
                index_concat_branch_180003 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180005;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180006 = ((int64_t *) mem_181396)[index_concat_i_178344];
                
                index_concat_branch_180005 = index_concat_180006;
            } else {
                index_concat_branch_180005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181775, "mem_181775") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181774, "mem_181774") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181772, "mem_181772") != 0)
                return 1;
            loopres_175570 = index_concat_branch_180003;
            loopres_175571 = index_concat_branch_180005;
        } else {
            int32_t leq_lhs_176561 = ((int32_t *) a_list_mem_181032.mem)[p_175542];
            int32_t leq_rhs_176564 = ((int32_t *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_176565 = sle32(leq_lhs_176561, leq_rhs_176564);
            int32_t lowest_176566;
            
            if (defunc_0_leq_res_176565) {
                bool index_certs_180007;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_lhs_176561;
            } else {
                bool index_certs_176571;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_rhs_176564;
            }
            if (mem_181049_cached_sizze_182882 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_182882, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181051_cached_sizze_182883 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182883, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_131710; i_180782++) {
                int64_t index_primexp_180998 = add64((int64_t) 1, i_180782);
                int64_t zs_lhs_176587 = mul64(zt_rhs_176580, index_primexp_180998);
                int64_t index_176588 = sdiv64(zs_lhs_176587, partitionFunc_arg0_176557);
                bool cond_176589 = slt64(window_sizze_131709, index_176588);
                int64_t loop_over_176590;
                
                if (cond_176589) {
                    loop_over_176590 = window_sizze_131709;
                } else {
                    loop_over_176590 = index_176588;
                }
                
                int64_t loop_over_176591;
                
                if (cond_176589) {
                    int64_t loop_over_t_res_180008 = sub64(index_176588, window_sizze_131709);
                    
                    loop_over_176591 = loop_over_t_res_180008;
                } else {
                    loop_over_176591 = (int64_t) 0;
                }
                
                int64_t loop_over_176593;
                
                if (cond_176589) {
                    int64_t zm_lhs_180009 = sub64(index_176588, window_sizze_131709);
                    int64_t loop_over_t_res_180010 = sub64(zm_lhs_180009, (int64_t) 1);
                    
                    loop_over_176593 = loop_over_t_res_180010;
                } else {
                    loop_over_176593 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176596;
                int64_t defunc_0_f_res_176597;
                int64_t defunc_0_f_res_176598;
                int64_t defunc_0_f_res_176599;
                bool loop_while_176600;
                int64_t p_176601;
                int64_t p_176602;
                int64_t p_176603;
                
                loop_while_176600 = 1;
                p_176601 = loop_over_176593;
                p_176602 = loop_over_176590;
                p_176603 = loop_over_176591;
                while (loop_while_176600) {
                    int64_t zs_lhs_176604 = sub64(p_176602, p_176601);
                    int64_t offset_176605 = sdiv64(zs_lhs_176604, (int64_t) 2);
                    int64_t ai_176606 = sub64(p_176602, offset_176605);
                    int64_t max_arg1_176607 = add64(p_176603, offset_176605);
                    int64_t max_res_176608 = smax64((int64_t) 0, max_arg1_176607);
                    bool cond_176609 = slt64((int64_t) 0, max_res_176608);
                    int32_t b_prev_176610;
                    
                    if (cond_176609) {
                        int64_t tmp_180011 = sub64(max_res_176608, (int64_t) 1);
                        bool x_180012 = sle64((int64_t) 0, tmp_180011);
                        bool y_180013 = slt64(tmp_180011, window_sizze_131709);
                        bool bounds_check_180014 = x_180012 && y_180013;
                        bool index_certs_180015;
                        
                        if (!bounds_check_180014) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180011, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180016 = p_175543 + tmp_180011;
                        int32_t b_prev_t_res_180017 = ((int32_t *) b_list_mem_181033.mem)[slice_180016];
                        
                        b_prev_176610 = b_prev_t_res_180017;
                    } else {
                        b_prev_176610 = lowest_176566;
                    }
                    
                    bool cond_176617 = sle64(ai_176606, (int64_t) 0);
                    int64_t loopres_176618;
                    int64_t loopres_176619;
                    int64_t loopres_176620;
                    bool loopres_176621;
                    
                    if (cond_176617) {
                        loopres_176618 = p_176601;
                        loopres_176619 = (int64_t) 0;
                        loopres_176620 = max_res_176608;
                        loopres_176621 = 0;
                    } else {
                        bool cond_176622 = sle64(window_sizze_131709, max_res_176608);
                        int64_t loopres_f_res_176623;
                        int64_t loopres_f_res_176624;
                        int64_t loopres_f_res_176625;
                        bool loopres_f_res_176626;
                        
                        if (cond_176622) {
                            int64_t min_res_180019 = smin64(m_175531, ai_176606);
                            bool x_180020 = sle64((int64_t) 0, m_175531);
                            bool y_180021 = slt64(m_175531, window_sizze_131709);
                            bool bounds_check_180022 = x_180020 && y_180021;
                            bool index_certs_180023;
                            
                            if (!bounds_check_180022) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180026 = sle64((int64_t) 0, min_res_180019);
                            bool y_180027 = slt64(min_res_180019, window_sizze_131709);
                            bool bounds_check_180028 = x_180026 && y_180027;
                            bool index_certs_180029;
                            
                            if (!bounds_check_180028) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180019, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int32_t leq_lhs_180025 = ((int32_t *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_180030 = p_175542 + min_res_180019;
                            int32_t leq_rhs_180031 = ((int32_t *) a_list_mem_181032.mem)[slice_180030];
                            bool defunc_0_leq_res_180032 = sle32(leq_lhs_180025, leq_rhs_180031);
                            int64_t loopres_f_res_t_res_180033;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180033 = ai_176606;
                            } else {
                                loopres_f_res_t_res_180033 = p_176602;
                            }
                            
                            bool x_180034 = !defunc_0_leq_res_180032;
                            int64_t loopres_f_res_t_res_180035;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180035 = window_sizze_131709;
                            } else {
                                int64_t tmp_180036 = sub64(m_175531, offset_176605);
                                
                                loopres_f_res_t_res_180035 = tmp_180036;
                            }
                            loopres_f_res_176623 = p_176601;
                            loopres_f_res_176624 = loopres_f_res_t_res_180033;
                            loopres_f_res_176625 = loopres_f_res_t_res_180035;
                            loopres_f_res_176626 = x_180034;
                        } else {
                            bool cond_176644 = sle64(window_sizze_131709, ai_176606);
                            int64_t loopres_f_res_f_res_176645;
                            int64_t loopres_f_res_f_res_176646;
                            int64_t loopres_f_res_f_res_176647;
                            bool loopres_f_res_f_res_176648;
                            
                            if (cond_176644) {
                                int64_t min_res_180038 = smin64(m_175531, max_res_176608);
                                bool x_180039 = sle64((int64_t) 0, m_175531);
                                bool y_180040 = slt64(m_175531, window_sizze_131709);
                                bool bounds_check_180041 = x_180039 && y_180040;
                                bool index_certs_180042;
                                
                                if (!bounds_check_180041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180045 = sle64((int64_t) 0, min_res_180038);
                                bool y_180046 = slt64(min_res_180038, window_sizze_131709);
                                bool bounds_check_180047 = x_180045 && y_180046;
                                bool index_certs_180048;
                                
                                if (!bounds_check_180047) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180038, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int32_t leq_lhs_180044 = ((int32_t *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_180049 = p_175543 + min_res_180038;
                                int32_t leq_rhs_180050 = ((int32_t *) b_list_mem_181033.mem)[slice_180049];
                                bool defunc_0_leq_res_180051 = sle32(leq_lhs_180044, leq_rhs_180050);
                                int64_t loopres_f_res_f_res_t_res_180052;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180052 = max_res_176608;
                                } else {
                                    loopres_f_res_f_res_t_res_180052 = p_176603;
                                }
                                
                                bool x_180053 = !defunc_0_leq_res_180051;
                                int64_t loopres_f_res_f_res_t_res_180054;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180054 = window_sizze_131709;
                                } else {
                                    loopres_f_res_f_res_t_res_180054 = m_175531;
                                }
                                loopres_f_res_f_res_176645 = p_176601;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_t_res_180054;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_t_res_180052;
                                loopres_f_res_f_res_176648 = x_180053;
                            } else {
                                bool cond_176665 = sle64(p_176602, p_176601);
                                int64_t loopres_f_res_f_res_f_res_176666;
                                int64_t loopres_f_res_f_res_f_res_176667;
                                int64_t loopres_f_res_f_res_f_res_176668;
                                bool loopres_f_res_f_res_f_res_176669;
                                
                                if (cond_176665) {
                                    bool cond_180093 = slt64(ai_176606, window_sizze_131709);
                                    int64_t ai_180094;
                                    
                                    if (cond_180093) {
                                        ai_180094 = ai_176606;
                                    } else {
                                        ai_180094 = m_175531;
                                    }
                                    
                                    bool x_180107 = sle64((int64_t) 0, ai_180094);
                                    bool y_180108 = slt64(ai_180094, window_sizze_131709);
                                    bool bounds_check_180109 = x_180107 && y_180108;
                                    bool index_certs_180110;
                                    
                                    if (!bounds_check_180109) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180094, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int32_t b_prev_180096;
                                    
                                    if (cond_176609) {
                                        int64_t tmp_180097 = sub64(max_res_176608, (int64_t) 1);
                                        bool x_180098 = sle64((int64_t) 0, tmp_180097);
                                        bool y_180099 = slt64(tmp_180097, window_sizze_131709);
                                        bool bounds_check_180100 = x_180098 && y_180099;
                                        bool index_certs_180101;
                                        
                                        if (!bounds_check_180100) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180097, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180102 = p_175543 + tmp_180097;
                                        int32_t b_prev_t_res_180103 = ((int32_t *) b_list_mem_181033.mem)[slice_180102];
                                        
                                        b_prev_180096 = b_prev_t_res_180103;
                                    } else {
                                        bool index_certs_180105;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180096 = leq_rhs_176564;
                                    }
                                    
                                    int64_t slice_180111 = p_175542 + ai_180094;
                                    int32_t gt_lhs_180112 = ((int32_t *) a_list_mem_181032.mem)[slice_180111];
                                    bool defunc_0_gt_res_180113 = slt32(b_prev_180096, gt_lhs_180112);
                                    int64_t defunc_0_partFunc_sequential_search_res_180114;
                                    int64_t defunc_0_partFunc_sequential_search_res_180115;
                                    
                                    if (defunc_0_gt_res_180113) {
                                        int64_t zl_rhs_180116 = sub64(window_sizze_131709, max_res_176608);
                                        bool loop_cond_180117 = slt64((int64_t) 0, zl_rhs_180116);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180118;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180120;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180121;
                                        bool loop_while_180122;
                                        int64_t p_180123;
                                        int64_t p_180124;
                                        int64_t p_180125;
                                        
                                        loop_while_180122 = loop_cond_180117;
                                        p_180123 = ai_180094;
                                        p_180124 = max_res_176608;
                                        p_180125 = (int64_t) 0;
                                        while (loop_while_180122) {
                                            int64_t i_a_180126 = sub64(ai_180094, p_180125);
                                            int64_t i_b_180127 = add64(max_res_176608, p_180125);
                                            int64_t leq_lhs_180128 = sub64(i_a_180126, (int64_t) 1);
                                            bool x_180129 = sle64((int64_t) 0, leq_lhs_180128);
                                            bool y_180130 = slt64(leq_lhs_180128, window_sizze_131709);
                                            bool bounds_check_180131 = x_180129 && y_180130;
                                            bool index_certs_180132;
                                            
                                            if (!bounds_check_180131) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180128, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180135 = sle64((int64_t) 0, i_b_180127);
                                            bool y_180136 = slt64(i_b_180127, window_sizze_131709);
                                            bool bounds_check_180137 = x_180135 && y_180136;
                                            bool index_certs_180138;
                                            
                                            if (!bounds_check_180137) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180127, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180133 = p_175542 + leq_lhs_180128;
                                            int32_t leq_lhs_180134 = ((int32_t *) a_list_mem_181032.mem)[slice_180133];
                                            int64_t slice_180139 = p_175543 + i_b_180127;
                                            int32_t leq_rhs_180140 = ((int32_t *) b_list_mem_181033.mem)[slice_180139];
                                            bool defunc_0_leq_res_180141 = sle32(leq_lhs_180134, leq_rhs_180140);
                                            int64_t loopres_180142;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180142 = i_a_180126;
                                            } else {
                                                loopres_180142 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180143;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180143 = i_b_180127;
                                            } else {
                                                loopres_180143 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180144;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180144 = zl_rhs_180116;
                                            } else {
                                                int64_t tmp_180145 = add64((int64_t) 1, p_180125);
                                                
                                                loopres_180144 = tmp_180145;
                                            }
                                            
                                            bool loop_cond_180146 = slt64(loopres_180144, zl_rhs_180116);
                                            bool loop_while_tmp_182558 = loop_cond_180146;
                                            int64_t p_tmp_182559 = loopres_180142;
                                            int64_t p_tmp_182560 = loopres_180143;
                                            int64_t p_tmp_182561 = loopres_180144;
                                            
                                            loop_while_180122 = loop_while_tmp_182558;
                                            p_180123 = p_tmp_182559;
                                            p_180124 = p_tmp_182560;
                                            p_180125 = p_tmp_182561;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180118 = loop_while_180122;
                                        defunc_0_partFunc_sequential_search_res_t_res_180119 = p_180123;
                                        defunc_0_partFunc_sequential_search_res_t_res_180120 = p_180124;
                                        defunc_0_partFunc_sequential_search_res_t_res_180121 = p_180125;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_t_res_180120;
                                    } else {
                                        int64_t zl_rhs_180147 = sub64(max_res_176608, (int64_t) 1);
                                        bool loop_cond_180148 = slt64((int64_t) 0, zl_rhs_180147);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180149;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180151;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180152;
                                        bool loop_while_180153;
                                        int64_t p_180154;
                                        int64_t p_180155;
                                        int64_t p_180156;
                                        
                                        loop_while_180153 = loop_cond_180148;
                                        p_180154 = ai_180094;
                                        p_180155 = max_res_176608;
                                        p_180156 = (int64_t) 0;
                                        while (loop_while_180153) {
                                            int64_t zp_lhs_180157 = add64(ai_180094, p_180156);
                                            int64_t hi_a_180158 = add64((int64_t) 1, zp_lhs_180157);
                                            bool cond_180159 = slt64(hi_a_180158, window_sizze_131709);
                                            int64_t i_a_180160;
                                            
                                            if (cond_180159) {
                                                i_a_180160 = hi_a_180158;
                                            } else {
                                                i_a_180160 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_180162 = sub64(max_res_176608, p_180156);
                                            int64_t i_b_180163 = sub64(zm_lhs_180162, (int64_t) 1);
                                            bool x_180164 = sle64((int64_t) 0, i_a_180160);
                                            bool y_180165 = slt64(i_a_180160, window_sizze_131709);
                                            bool bounds_check_180166 = x_180164 && y_180165;
                                            bool index_certs_180167;
                                            
                                            if (!bounds_check_180166) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180160, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180170 = sle64((int64_t) 0, i_b_180163);
                                            bool y_180171 = slt64(i_b_180163, window_sizze_131709);
                                            bool bounds_check_180172 = x_180170 && y_180171;
                                            bool index_certs_180173;
                                            
                                            if (!bounds_check_180172) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180163, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180168 = p_175542 + i_a_180160;
                                            int32_t gt_lhs_180169 = ((int32_t *) a_list_mem_181032.mem)[slice_180168];
                                            int64_t slice_180174 = p_175543 + i_b_180163;
                                            int32_t gt_rhs_180175 = ((int32_t *) b_list_mem_181033.mem)[slice_180174];
                                            bool defunc_0_gt_res_180176 = slt32(gt_rhs_180175, gt_lhs_180169);
                                            int64_t loopres_180177;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180177 = i_a_180160;
                                            } else {
                                                loopres_180177 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180178;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180178 = zm_lhs_180162;
                                            } else {
                                                loopres_180178 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180179;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180179 = zl_rhs_180147;
                                            } else {
                                                int64_t tmp_180180 = add64((int64_t) 1, p_180156);
                                                
                                                loopres_180179 = tmp_180180;
                                            }
                                            
                                            bool loop_cond_180181 = slt64(loopres_180179, zl_rhs_180147);
                                            bool loop_while_tmp_182562 = loop_cond_180181;
                                            int64_t p_tmp_182563 = loopres_180177;
                                            int64_t p_tmp_182564 = loopres_180178;
                                            int64_t p_tmp_182565 = loopres_180179;
                                            
                                            loop_while_180153 = loop_while_tmp_182562;
                                            p_180154 = p_tmp_182563;
                                            p_180155 = p_tmp_182564;
                                            p_180156 = p_tmp_182565;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180149 = loop_while_180153;
                                        defunc_0_partFunc_sequential_search_res_f_res_180150 = p_180154;
                                        defunc_0_partFunc_sequential_search_res_f_res_180151 = p_180155;
                                        defunc_0_partFunc_sequential_search_res_f_res_180152 = p_180156;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_f_res_180151;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = p_176601;
                                    loopres_f_res_f_res_f_res_176667 = defunc_0_partFunc_sequential_search_res_180114;
                                    loopres_f_res_f_res_f_res_176668 = defunc_0_partFunc_sequential_search_res_180115;
                                    loopres_f_res_f_res_f_res_176669 = 0;
                                } else {
                                    bool x_176753 = sle64((int64_t) 0, ai_176606);
                                    bool y_176754 = slt64(ai_176606, window_sizze_131709);
                                    bool bounds_check_176755 = x_176753 && y_176754;
                                    bool index_certs_176756;
                                    
                                    if (!bounds_check_176755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176606, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178422 = p_175542 + ai_176606;
                                    int32_t gt_lhs_176757 = ((int32_t *) a_list_mem_181032.mem)[slice_178422];
                                    bool defunc_0_gt_res_176758 = slt32(b_prev_176610, gt_lhs_176757);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176759;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176760;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176761;
                                    bool loopres_f_res_f_res_f_res_f_res_176762;
                                    
                                    if (defunc_0_gt_res_176758) {
                                        int64_t leq_lhs_180182 = sub64(ai_176606, (int64_t) 1);
                                        bool x_180183 = sle64((int64_t) 0, leq_lhs_180182);
                                        bool y_180184 = slt64(leq_lhs_180182, window_sizze_131709);
                                        bool bounds_check_180185 = x_180183 && y_180184;
                                        bool index_certs_180186;
                                        
                                        if (!bounds_check_180185) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180182, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180189 = sle64((int64_t) 0, max_res_176608);
                                        bool y_180190 = slt64(max_res_176608, window_sizze_131709);
                                        bool bounds_check_180191 = x_180189 && y_180190;
                                        bool index_certs_180192;
                                        
                                        if (!bounds_check_180191) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176608, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180187 = p_175542 + leq_lhs_180182;
                                        int32_t leq_lhs_180188 = ((int32_t *) a_list_mem_181032.mem)[slice_180187];
                                        int64_t slice_180193 = p_175543 + max_res_176608;
                                        int32_t leq_rhs_180194 = ((int32_t *) b_list_mem_181033.mem)[slice_180193];
                                        bool defunc_0_leq_res_180195 = sle32(leq_lhs_180188, leq_rhs_180194);
                                        bool x_180196 = !defunc_0_leq_res_180195;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = ai_176606;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = leq_lhs_180182;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = max_res_176608;
                                        } else {
                                            int64_t tmp_180199 = add64((int64_t) 1, max_res_176608);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = tmp_180199;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176759 = p_176601;
                                        loopres_f_res_f_res_f_res_f_res_176760 = loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        loopres_f_res_f_res_f_res_f_res_176761 = loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        loopres_f_res_f_res_f_res_f_res_176762 = x_180196;
                                    } else {
                                        int64_t tmp_176779 = add64((int64_t) 1, ai_176606);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176759 = tmp_176779;
                                        loopres_f_res_f_res_f_res_f_res_176760 = p_176602;
                                        loopres_f_res_f_res_f_res_f_res_176761 = p_176603;
                                        loopres_f_res_f_res_f_res_f_res_176762 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = loopres_f_res_f_res_f_res_f_res_176759;
                                    loopres_f_res_f_res_f_res_176667 = loopres_f_res_f_res_f_res_f_res_176760;
                                    loopres_f_res_f_res_f_res_176668 = loopres_f_res_f_res_f_res_f_res_176761;
                                    loopres_f_res_f_res_f_res_176669 = loopres_f_res_f_res_f_res_f_res_176762;
                                }
                                loopres_f_res_f_res_176645 = loopres_f_res_f_res_f_res_176666;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_f_res_176667;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_f_res_176668;
                                loopres_f_res_f_res_176648 = loopres_f_res_f_res_f_res_176669;
                            }
                            loopres_f_res_176623 = loopres_f_res_f_res_176645;
                            loopres_f_res_176624 = loopres_f_res_f_res_176646;
                            loopres_f_res_176625 = loopres_f_res_f_res_176647;
                            loopres_f_res_176626 = loopres_f_res_f_res_176648;
                        }
                        loopres_176618 = loopres_f_res_176623;
                        loopres_176619 = loopres_f_res_176624;
                        loopres_176620 = loopres_f_res_176625;
                        loopres_176621 = loopres_f_res_176626;
                    }
                    
                    bool loop_while_tmp_182554 = loopres_176621;
                    int64_t p_tmp_182555 = loopres_176618;
                    int64_t p_tmp_182556 = loopres_176619;
                    int64_t p_tmp_182557 = loopres_176620;
                    
                    loop_while_176600 = loop_while_tmp_182554;
                    p_176601 = p_tmp_182555;
                    p_176602 = p_tmp_182556;
                    p_176603 = p_tmp_182557;
                }
                defunc_0_f_res_176596 = loop_while_176600;
                defunc_0_f_res_176597 = p_176601;
                defunc_0_f_res_176598 = p_176602;
                defunc_0_f_res_176599 = p_176603;
                ((int64_t *) mem_181049)[i_180782] = defunc_0_f_res_176598;
                ((int64_t *) mem_181051)[i_180782] = defunc_0_f_res_176599;
            }
            if (memblock_alloc(ctx, &mem_181064, window_sizze_131709, "mem_181064")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_131709; nest_i_182566++) {
                ((int8_t *) mem_181064.mem)[nest_i_182566] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181066, bytes_181065, "mem_181066")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_131709; nest_i_182567++) {
                ((int64_t *) mem_181066.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181068, bytes_181067, "mem_181068")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_131709; nest_i_182568++) {
                ((int32_t *) mem_181068.mem)[nest_i_182568] = 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176806;
            int64_t defunc_0_mergeFunc_seq_res_176807;
            bool loop_while_176811;
            int64_t p_176812;
            
            loop_while_176811 = loop_cond_176805;
            p_176812 = (int64_t) 0;
            while (loop_while_176811) {
                bool x_176816 = sle64((int64_t) 0, p_176812);
                bool y_176817 = slt64(p_176812, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176818 = x_176816 && y_176817;
                bool index_certs_176819;
                
                if (!bounds_check_176818) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178405 = sle64((int64_t) 1, p_176812);
                int64_t index_concat_i_178406 = sub64(p_176812, (int64_t) 1);
                int64_t index_concat_178407;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180200 = ((int64_t *) mem_181049)[index_concat_i_178406];
                    
                    index_concat_178407 = x_180200;
                } else {
                    index_concat_178407 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178409;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178409 = index_concat_178407;
                } else {
                    index_concat_branch_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_178401;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180201 = ((int64_t *) mem_181051)[index_concat_i_178406];
                    
                    index_concat_178401 = x_180201;
                } else {
                    index_concat_178401 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178403;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178403 = index_concat_178401;
                } else {
                    index_concat_branch_178403 = (int64_t) 0;
                }
                
                int64_t ubs_176822 = add64((int64_t) 1, p_176812);
                bool x_176823 = sle64((int64_t) 0, ubs_176822);
                bool y_176824 = slt64(ubs_176822, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176825 = x_176823 && y_176824;
                bool index_certs_176826;
                
                if (!bounds_check_176825) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178393 = sle64((int64_t) 1, ubs_176822);
                int64_t index_concat_178395;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180202 = ((int64_t *) mem_181049)[p_176812];
                    
                    index_concat_178395 = x_180202;
                } else {
                    index_concat_178395 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178397 = index_concat_178395;
                } else {
                    index_concat_branch_178397 = (int64_t) 0;
                }
                
                int64_t index_concat_178389;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180203 = ((int64_t *) mem_181051)[p_176812];
                    
                    index_concat_178389 = x_180203;
                } else {
                    index_concat_178389 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178391;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178391 = index_concat_178389;
                } else {
                    index_concat_branch_178391 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 = sub64(index_concat_branch_178391, index_concat_branch_178403);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 = sub64(index_concat_branch_178397, index_concat_branch_178409);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t ind_bottom_176832 = add64(index_concat_branch_178403, index_concat_branch_178409);
                int64_t ind_top_176833 = add64(index_concat_branch_178391, index_concat_branch_178397);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 = sub64(ind_top_176833, ind_bottom_176832);
                bool empty_slice_176835 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 == (int64_t) 0;
                int64_t m_176836 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 1);
                int64_t i_p_m_t_s_176837 = add64(m_176836, index_concat_branch_178409);
                bool zzero_leq_i_p_m_t_s_176838 = sle64((int64_t) 0, i_p_m_t_s_176837);
                bool i_p_m_t_s_leq_w_176839 = slt64(i_p_m_t_s_176837, window_sizze_131709);
                bool zzero_lte_i_176840 = sle64((int64_t) 0, index_concat_branch_178409);
                bool i_lte_j_176841 = sle64(index_concat_branch_178409, index_concat_branch_178397);
                bool y_176842 = i_p_m_t_s_leq_w_176839 && zzero_lte_i_176840;
                bool y_176843 = zzero_leq_i_p_m_t_s_176838 && y_176842;
                bool forwards_ok_176844 = i_lte_j_176841 && y_176843;
                bool ok_or_empty_176845 = empty_slice_176835 || forwards_ok_176844;
                bool index_certs_176846;
                
                if (!ok_or_empty_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178409, ":", (long long) index_concat_branch_178397, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176847 = slt64(index_concat_branch_178397, index_concat_branch_178409);
                bool valid_176848 = !bounds_invalid_upwards_176847;
                bool range_valid_c_176849;
                
                if (!valid_176848) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178409, "..<", (long long) index_concat_branch_178397, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178403);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_131709);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178403);
                bool i_lte_j_176861 = sle64(index_concat_branch_178403, index_concat_branch_178391);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178403, ":", (long long) index_concat_branch_178391, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178391, index_concat_branch_178403);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178403, "..<", (long long) index_concat_branch_178391, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181085 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                int64_t bytes_181087 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool cond_176878 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zs_lhs_176879 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zp_rhs_176880 = sdiv_safe64(zs_lhs_176879, (int64_t) 20);
                int64_t min_num_blocks_176881 = add64((int64_t) 1, zp_rhs_176880);
                bool loop_cond_176882 = slt64((int64_t) 1, min_num_blocks_176881);
                bool smallest_pow_2_geq_than_res_176883;
                int64_t smallest_pow_2_geq_than_res_176884;
                bool loop_while_176885;
                int64_t x_176886;
                
                loop_while_176885 = loop_cond_176882;
                x_176886 = (int64_t) 1;
                while (loop_while_176885) {
                    int64_t loopres_176887 = mul64((int64_t) 2, x_176886);
                    bool loop_cond_176888 = slt64(loopres_176887, min_num_blocks_176881);
                    bool loop_while_tmp_182574 = loop_cond_176888;
                    int64_t x_tmp_182575 = loopres_176887;
                    
                    loop_while_176885 = loop_while_tmp_182574;
                    x_176886 = x_tmp_182575;
                }
                smallest_pow_2_geq_than_res_176883 = loop_while_176885;
                smallest_pow_2_geq_than_res_176884 = x_176886;
                
                bool zzero_176889 = smallest_pow_2_geq_than_res_176884 == (int64_t) 0;
                bool nonzzero_176890 = !zzero_176889;
                bool protect_assert_disj_176891 = cond_176878 || nonzzero_176890;
                bool nonzzero_cert_176892;
                
                if (!protect_assert_disj_176891) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176893 = sdiv_safe64(zs_lhs_176879, smallest_pow_2_geq_than_res_176884);
                int64_t block_sizze_176894 = add64((int64_t) 1, zp_rhs_176893);
                bool y_176901 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                bool protect_assert_disj_182238 = cond_176878 || y_176901;
                bool index_certs_176902;
                
                if (!protect_assert_disj_182238) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176928 = slt64(smallest_pow_2_geq_than_res_176884, (int64_t) 0);
                bool valid_176929 = !bounds_invalid_upwards_176928;
                bool protect_assert_disj_182248 = cond_176878 || valid_176929;
                bool range_valid_c_176930;
                
                if (!protect_assert_disj_182248) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176884, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176932 = slt64(block_sizze_176894, (int64_t) 0);
                bool valid_176933 = !bounds_invalid_upwards_176932;
                bool protect_assert_disj_182250 = cond_176878 || valid_176933;
                bool range_valid_c_176934;
                
                if (!protect_assert_disj_182250) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176894, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176936 = sle64(block_sizze_176894, (int64_t) 1);
                int64_t tmp_176937 = sub64(block_sizze_176894, (int64_t) 2);
                bool bounds_invalid_upwards_176938 = slt64(tmp_176937, (int64_t) 0);
                bool valid_176940 = !bounds_invalid_upwards_176938;
                bool protect_assert_disj_176941 = cond_176936 || valid_176940;
                bool protect_assert_disj_182252 = cond_176878 || protect_assert_disj_176941;
                bool range_valid_c_176942;
                
                if (!protect_assert_disj_182252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176937, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177503 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool empty_or_match_cert_177504;
                
                if (!dim_match_177503) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "](i8, i64, i32)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177505 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == (int64_t) 0;
                int64_t m_177506 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177507 = sle64((int64_t) 0, m_177506);
                bool i_p_m_t_s_leq_w_177508 = slt64(m_177506, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834);
                bool y_177509 = zzero_leq_i_p_m_t_s_177507 && i_p_m_t_s_leq_w_177508;
                bool ok_or_empty_177510 = empty_slice_177505 || y_177509;
                bool index_certs_177511;
                
                if (!ok_or_empty_177510) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177512 = add64(ind_bottom_176832, m_177506);
                bool zzero_leq_i_p_m_t_s_177513 = sle64((int64_t) 0, i_p_m_t_s_177512);
                bool i_p_m_t_s_leq_w_177514 = slt64(i_p_m_t_s_177512, window_sizze_131709);
                bool zzero_lte_i_177515 = sle64((int64_t) 0, ind_bottom_176832);
                bool i_lte_j_177516 = sle64(ind_bottom_176832, ind_top_176833);
                bool y_177517 = i_p_m_t_s_leq_w_177514 && zzero_lte_i_177515;
                bool y_177518 = zzero_leq_i_p_m_t_s_177513 && y_177517;
                bool forwards_ok_177519 = i_lte_j_177516 && y_177518;
                bool ok_or_empty_177520 = empty_slice_177505 || forwards_ok_177519;
                bool index_certs_177521;
                
                if (!ok_or_empty_177520) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176832, ":", (long long) ind_top_176833, "] out of bounds for array of shape [", (long long) window_sizze_131709, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178385 = p_175542 + index_concat_branch_178409;
                
                if (memblock_alloc(ctx, &mem_181084, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "mem_181084")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182576 = 0; nest_i_182576 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; nest_i_182576++) {
                    ((int8_t *) mem_181084.mem)[nest_i_182576] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182577 = 0; i_182577 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; i_182577++) {
                    int64_t x_182578 = index_concat_branch_178409 + i_182577 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[i_182577] = x_182578;
                }
                
                int64_t slice_178384 = p_175543 + index_concat_branch_178403;
                
                for (int64_t nest_i_182579 = 0; nest_i_182579 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; nest_i_182579++) {
                    ((int8_t *) mem_181084.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + nest_i_182579] = (int8_t) 1;
                }
                for (int64_t i_182580 = 0; i_182580 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; i_182580++) {
                    int64_t x_182581 = index_concat_branch_178403 + i_182580 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + i_182580] = x_182581;
                }
                
                int64_t tmp_offs_182582 = (int64_t) 0;
                
                if (!(tmp_offs_182582 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182582 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t tmp_offs_182583 = (int64_t) 0;
                
                if (!(tmp_offs_182583 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182583 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                if (memblock_alloc(ctx, &mem_181088, bytes_181087, "mem_181088")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182584 = (int64_t) 0;
                
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181032.mem, slice_178385, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181033.mem, slice_178384, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t flat_dim_176895 = smallest_pow_2_geq_than_res_176884 * block_sizze_176894;
                bool x_182233 = !cond_176878;
                int64_t greatest_divisor_leq_than_arg1_176899 = mul64((int64_t) 2, block_sizze_176894);
                int64_t merge_block_sizze_176900;
                
                if (x_182233) {
                    int64_t x_182235;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182235, (int64_t) 8, greatest_divisor_leq_than_arg1_176899) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176900 = x_182235;
                } else {
                    merge_block_sizze_176900 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178379 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 0);
                int8_t index_concat_branch_178383 = btoi_bool_i8(index_concat_cmp_178379);
                int64_t index_concat_i_180204 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t index_primexp_180205 = add64(index_concat_branch_178403, index_concat_i_180204);
                int64_t index_concat_branch_178377;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178377 = index_primexp_180205;
                } else {
                    index_concat_branch_178377 = index_concat_branch_178409;
                }
                
                bool x_182229 = !index_concat_cmp_178379;
                bool protect_cond_conj_182239 = x_182229 && x_182233;
                int32_t index_concat_178370;
                
                if (protect_cond_conj_182239) {
                    int32_t x_182231 = ((int32_t *) a_list_mem_181032.mem)[slice_178385];
                    
                    index_concat_178370 = x_182231;
                } else {
                    index_concat_178370 = 0;
                }
                
                int64_t slice_180207 = slice_178384 + index_concat_i_180204;
                bool protect_cond_conj_182240 = index_concat_cmp_178379 && x_182233;
                int32_t index_concat_180208;
                
                if (protect_cond_conj_182240) {
                    int32_t x_182227 = ((int32_t *) b_list_mem_181033.mem)[slice_180207];
                    
                    index_concat_180208 = x_182227;
                } else {
                    index_concat_180208 = 0;
                }
                
                int32_t index_concat_branch_178371;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178371 = index_concat_180208;
                } else {
                    index_concat_branch_178371 = index_concat_178370;
                }
                
                int8_t defunc_0_reduce_res_180439;
                int64_t defunc_0_reduce_res_180440;
                int32_t defunc_0_reduce_res_180441;
                
                if (x_182233) {
                    int8_t x_182241;
                    int64_t x_182242;
                    int32_t x_182243;
                    int8_t redout_180785;
                    int64_t redout_180786;
                    int32_t redout_180787;
                    
                    redout_180785 = index_concat_branch_178383;
                    redout_180786 = index_concat_branch_178377;
                    redout_180787 = index_concat_branch_178371;
                    for (int64_t i_180788 = 0; i_180788 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831; i_180788++) {
                        bool index_concat_cmp_180992 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, i_180788);
                        int8_t index_concat_branch_180996 = btoi_bool_i8(index_concat_cmp_180992);
                        int64_t index_concat_branch_180990;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180987 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t index_primexp_181014 = add64(index_concat_branch_178403, index_concat_i_180987);
                            
                            index_concat_branch_180990 = index_primexp_181014;
                        } else {
                            int64_t index_primexp_181016 = add64(index_concat_branch_178409, i_180788);
                            
                            index_concat_branch_180990 = index_primexp_181016;
                        }
                        
                        int32_t index_concat_branch_180984;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180981 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t slice_181011 = slice_178384 + index_concat_i_180981;
                            int32_t index_concat_180982 = ((int32_t *) b_list_mem_181033.mem)[slice_181011];
                            
                            index_concat_branch_180984 = index_concat_180982;
                        } else {
                            int64_t slice_181012 = slice_178385 + i_180788;
                            int32_t index_concat_180983 = ((int32_t *) a_list_mem_181032.mem)[slice_181012];
                            
                            index_concat_branch_180984 = index_concat_180983;
                        }
                        
                        bool eq_x_y_181027 = redout_180785 == (int8_t) 1;
                        bool eq_x_zz_181028 = redout_180785 == (int8_t) 0;
                        bool p_and_eq_x_y_181029 = index_concat_cmp_180992 && eq_x_y_181027;
                        bool not_p_181030 = !index_concat_cmp_180992;
                        bool p_and_eq_x_y_181031 = eq_x_zz_181028 && not_p_181030;
                        bool cond_176918 = p_and_eq_x_y_181029 || p_and_eq_x_y_181031;
                        bool defunc_0_leq_res_t_res_176919 = sle64(redout_180786, index_concat_branch_180990);
                        bool defunc_0_leq_res_176920 = sle32(redout_180787, index_concat_branch_180984);
                        bool x_176921 = cond_176918 && defunc_0_leq_res_t_res_176919;
                        bool x_176922 = !cond_176918;
                        bool y_176923 = defunc_0_leq_res_176920 && x_176922;
                        bool defunc_0_leq_res_176924 = x_176921 || y_176923;
                        int8_t defunc_0_op_res_176925;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176925 = index_concat_branch_180996;
                        } else {
                            defunc_0_op_res_176925 = redout_180785;
                        }
                        
                        int64_t defunc_0_op_res_176926;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176926 = index_concat_branch_180990;
                        } else {
                            defunc_0_op_res_176926 = redout_180786;
                        }
                        
                        int32_t defunc_0_op_res_176927;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176927 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_176927 = redout_180787;
                        }
                        
                        int8_t redout_tmp_182585 = defunc_0_op_res_176925;
                        int64_t redout_tmp_182586 = defunc_0_op_res_176926;
                        int32_t redout_tmp_182587 = defunc_0_op_res_176927;
                        
                        redout_180785 = redout_tmp_182585;
                        redout_180786 = redout_tmp_182586;
                        redout_180787 = redout_tmp_182587;
                    }
                    x_182241 = redout_180785;
                    x_182242 = redout_180786;
                    x_182243 = redout_180787;
                    defunc_0_reduce_res_180439 = x_182241;
                    defunc_0_reduce_res_180440 = x_182242;
                    defunc_0_reduce_res_180441 = x_182243;
                } else {
                    defunc_0_reduce_res_180439 = (int8_t) 0;
                    defunc_0_reduce_res_180440 = (int64_t) 0;
                    defunc_0_reduce_res_180441 = 0;
                }
                
                int64_t distance_176939 = add64((int64_t) 1, tmp_176937);
                int64_t binop_x_181091 = (int64_t) 8 * smallest_pow_2_geq_than_res_176884;
                int64_t bytes_181092 = block_sizze_176894 * binop_x_181091;
                int64_t binop_x_181094 = (int64_t) 4 * smallest_pow_2_geq_than_res_176884;
                int64_t bytes_181095 = block_sizze_176894 * binop_x_181094;
                int64_t bytes_181110 = (int64_t) 8 * block_sizze_176894;
                int64_t bytes_181112 = (int64_t) 4 * block_sizze_176894;
                bool loop_cond_177048 = slt64(block_sizze_176894, flat_dim_176895);
                bool zzero_177049 = merge_block_sizze_176900 == (int64_t) 0;
                bool nonzzero_177050 = !zzero_177049;
                
                if (cond_176878) {
                    if (memblock_set(ctx, &ext_mem_181383, &mem_181084, "mem_181084") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &mem_181086, "mem_181086") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &mem_181088, "mem_181088") != 0)
                        return 1;
                } else {
                    if (mem_181090_cached_sizze_182884 < flat_dim_176895) {
                        err = lexical_realloc(ctx, &mem_181090, &mem_181090_cached_sizze_182884, flat_dim_176895);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181093_cached_sizze_182885 < bytes_181092) {
                        err = lexical_realloc(ctx, &mem_181093, &mem_181093_cached_sizze_182885, bytes_181092);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181096_cached_sizze_182886 < bytes_181095) {
                        err = lexical_realloc(ctx, &mem_181096, &mem_181096_cached_sizze_182886, bytes_181095);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181109_cached_sizze_182887 < block_sizze_176894) {
                        err = lexical_realloc(ctx, &mem_181109, &mem_181109_cached_sizze_182887, block_sizze_176894);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181111_cached_sizze_182888 < bytes_181110) {
                        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_182888, bytes_181110);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182889 < bytes_181112) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182889, bytes_181112);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180805 = 0; i_180805 < smallest_pow_2_geq_than_res_176884; i_180805++) {
                        int64_t zp_lhs_176947 = mul64(block_sizze_176894, i_180805);
                        
                        for (int64_t i_180795 = 0; i_180795 < block_sizze_176894; i_180795++) {
                            int64_t k_176952 = add64(zp_lhs_176947, i_180795);
                            bool cond_176953 = slt64(k_176952, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                            int8_t lifted_lambda_res_176954;
                            int64_t lifted_lambda_res_176955;
                            int32_t lifted_lambda_res_176956;
                            
                            if (cond_176953) {
                                bool x_180214 = sle64((int64_t) 0, k_176952);
                                bool bounds_check_180215 = cond_176953 && x_180214;
                                bool index_certs_180216;
                                
                                if (!bounds_check_180215) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176952, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180217 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, k_176952);
                                int8_t index_concat_branch_180218 = btoi_bool_i8(index_concat_cmp_180217);
                                int64_t index_concat_branch_180219;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180220 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t index_primexp_180221 = add64(index_concat_branch_178403, index_concat_i_180220);
                                    
                                    index_concat_branch_180219 = index_primexp_180221;
                                } else {
                                    int64_t index_primexp_180222 = add64(k_176952, index_concat_branch_178409);
                                    
                                    index_concat_branch_180219 = index_primexp_180222;
                                }
                                
                                int32_t index_concat_branch_180223;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180224 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t slice_180225 = slice_178384 + index_concat_i_180224;
                                    int32_t index_concat_180226 = ((int32_t *) b_list_mem_181033.mem)[slice_180225];
                                    
                                    index_concat_branch_180223 = index_concat_180226;
                                } else {
                                    int64_t slice_180227 = k_176952 + slice_178385;
                                    int32_t index_concat_180228 = ((int32_t *) a_list_mem_181032.mem)[slice_180227];
                                    
                                    index_concat_branch_180223 = index_concat_180228;
                                }
                                lifted_lambda_res_176954 = index_concat_branch_180218;
                                lifted_lambda_res_176955 = index_concat_branch_180219;
                                lifted_lambda_res_176956 = index_concat_branch_180223;
                            } else {
                                lifted_lambda_res_176954 = defunc_0_reduce_res_180439;
                                lifted_lambda_res_176955 = defunc_0_reduce_res_180440;
                                lifted_lambda_res_176956 = defunc_0_reduce_res_180441;
                            }
                            ((int8_t *) mem_181109)[i_180795] = lifted_lambda_res_176954;
                            ((int64_t *) mem_181111)[i_180795] = lifted_lambda_res_176955;
                            ((int32_t *) mem_181113)[i_180795] = lifted_lambda_res_176956;
                        }
                        if (!cond_176936) {
                            for (int64_t i_176969 = 0; i_176969 < distance_176939; i_176969++) {
                                int64_t gt_arg1_176973 = add64((int64_t) 1, i_176969);
                                bool x_176974 = sle64((int64_t) 0, gt_arg1_176973);
                                bool y_176975 = slt64(gt_arg1_176973, block_sizze_176894);
                                bool bounds_check_176976 = x_176974 && y_176975;
                                bool index_certs_176977;
                                
                                if (!bounds_check_176976) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176973, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176981 = slt64(i_176969, block_sizze_176894);
                                bool index_certs_176982;
                                
                                if (!y_176981) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176969, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176978 = ((int8_t *) mem_181109)[gt_arg1_176973];
                                int64_t gt_arg1_176979 = ((int64_t *) mem_181111)[gt_arg1_176973];
                                int32_t gt_arg1_176980 = ((int32_t *) mem_181113)[gt_arg1_176973];
                                int8_t gt_arg0_176983 = ((int8_t *) mem_181109)[i_176969];
                                int64_t gt_arg0_176984 = ((int64_t *) mem_181111)[i_176969];
                                int32_t gt_arg0_176985 = ((int32_t *) mem_181113)[i_176969];
                                bool cond_176986 = gt_arg0_176983 == gt_arg1_176978;
                                bool defunc_0_leq_res_t_res_176987 = sle64(gt_arg0_176984, gt_arg1_176979);
                                bool defunc_0_leq_res_176988 = sle32(gt_arg0_176985, gt_arg1_176980);
                                bool x_176989 = cond_176986 && defunc_0_leq_res_t_res_176987;
                                bool x_176990 = !cond_176986;
                                bool y_176991 = defunc_0_leq_res_176988 && x_176990;
                                bool defunc_0_leq_res_176992 = x_176989 || y_176991;
                                bool defunc_0_lifted_gt_res_176993 = !defunc_0_leq_res_176992;
                                bool s_176994;
                                int64_t s_176998;
                                bool loop_while_176999;
                                int64_t j_177003;
                                
                                loop_while_176999 = defunc_0_lifted_gt_res_176993;
                                j_177003 = i_176969;
                                while (loop_while_176999) {
                                    bool x_177004 = sle64((int64_t) 0, j_177003);
                                    bool y_177005 = slt64(j_177003, block_sizze_176894);
                                    bool bounds_check_177006 = x_177004 && y_177005;
                                    bool index_certs_177007;
                                    
                                    if (!bounds_check_177006) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177003, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177011 = add64((int64_t) 1, j_177003);
                                    bool x_177012 = sle64((int64_t) 0, copy_arg0_177011);
                                    bool y_177013 = slt64(copy_arg0_177011, block_sizze_176894);
                                    bool bounds_check_177014 = x_177012 && y_177013;
                                    bool index_certs_177015;
                                    
                                    if (!bounds_check_177014) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177011, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177008 = ((int8_t *) mem_181109)[j_177003];
                                    int64_t copy_arg0_177009 = ((int64_t *) mem_181111)[j_177003];
                                    int32_t copy_arg0_177010 = ((int32_t *) mem_181113)[j_177003];
                                    int8_t copy_arg0_177016 = ((int8_t *) mem_181109)[copy_arg0_177011];
                                    int64_t copy_arg0_177017 = ((int64_t *) mem_181111)[copy_arg0_177011];
                                    int32_t copy_arg0_177018 = ((int32_t *) mem_181113)[copy_arg0_177011];
                                    
                                    ((int8_t *) mem_181109)[j_177003] = copy_arg0_177016;
                                    ((int64_t *) mem_181111)[j_177003] = copy_arg0_177017;
                                    ((int32_t *) mem_181113)[j_177003] = copy_arg0_177018;
                                    ((int8_t *) mem_181109)[copy_arg0_177011] = copy_arg0_177008;
                                    ((int64_t *) mem_181111)[copy_arg0_177011] = copy_arg0_177009;
                                    ((int32_t *) mem_181113)[copy_arg0_177011] = copy_arg0_177010;
                                    
                                    int64_t tmp_177025 = sub64(j_177003, (int64_t) 1);
                                    bool cond_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool loop_cond_177027;
                                    
                                    if (cond_177026) {
                                        bool y_180232 = slt64(tmp_177025, block_sizze_176894);
                                        bool bounds_check_180233 = cond_177026 && y_180232;
                                        bool index_certs_180234;
                                        
                                        if (!bounds_check_180233) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180229 = ((int8_t *) mem_181109)[j_177003];
                                        int64_t gt_arg1_180230 = ((int64_t *) mem_181111)[j_177003];
                                        int32_t gt_arg1_180231 = ((int32_t *) mem_181113)[j_177003];
                                        int8_t gt_arg0_180235 = ((int8_t *) mem_181109)[tmp_177025];
                                        int64_t gt_arg0_180236 = ((int64_t *) mem_181111)[tmp_177025];
                                        int32_t gt_arg0_180237 = ((int32_t *) mem_181113)[tmp_177025];
                                        bool cond_180238 = gt_arg0_180235 == gt_arg1_180229;
                                        bool defunc_0_leq_res_t_res_180239 = sle64(gt_arg0_180236, gt_arg1_180230);
                                        bool defunc_0_leq_res_180240 = sle32(gt_arg0_180237, gt_arg1_180231);
                                        bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                        bool x_180242 = !cond_180238;
                                        bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                        bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                        bool defunc_0_lifted_gt_res_180245 = !defunc_0_leq_res_180244;
                                        
                                        loop_cond_177027 = defunc_0_lifted_gt_res_180245;
                                    } else {
                                        loop_cond_177027 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182597 = loop_cond_177027;
                                    int64_t j_tmp_182601 = tmp_177025;
                                    
                                    loop_while_176999 = loop_while_tmp_182597;
                                    j_177003 = j_tmp_182601;
                                }
                                s_176994 = loop_while_176999;
                                s_176998 = j_177003;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181090, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181109, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181093, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181111, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181096, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181113, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                    }
                    if (memblock_alloc(ctx, &mem_181190, flat_dim_176895, "mem_181190")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181190.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint8_t *) mem_181090, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181194, bytes_181092, "mem_181194")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181194.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint64_t *) mem_181093, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181198, bytes_181095, "mem_181198")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_181198.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint32_t *) mem_181096, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    
                    int64_t data_177051;
                    bool data_177052;
                    int64_t data_177056;
                    int64_t loop_dz2084Uz2082U_177057;
                    bool loop_while_177058;
                    int64_t stride_177062;
                    
                    if (memblock_set(ctx, &mem_param_181202, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181205, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181208, &mem_181198, "mem_181198") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177057 = flat_dim_176895;
                    loop_while_177058 = loop_cond_177048;
                    stride_177062 = block_sizze_176894;
                    while (loop_while_177058) {
                        int64_t next_stride_177063 = mul64((int64_t) 2, stride_177062);
                        bool zzero_177064 = next_stride_177063 == (int64_t) 0;
                        bool nonzzero_177065 = !zzero_177064;
                        bool nonzzero_cert_177066;
                        
                        if (!nonzzero_177065) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177067 = sdiv64(flat_dim_176895, next_stride_177063);
                        bool bounds_invalid_upwards_177068 = slt64(num_merges_177067, (int64_t) 0);
                        bool valid_177069 = !bounds_invalid_upwards_177068;
                        bool range_valid_c_177070;
                        
                        if (!valid_177069) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177067, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177072 = sub64(next_stride_177063, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, m_177072);
                        bool cond_177075 = slt64(next_stride_177063, (int64_t) 10);
                        bool protect_assert_disj_177076 = nonzzero_177050 || cond_177075;
                        bool nonzzero_cert_177077;
                        
                        if (!protect_assert_disj_177076) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177078 = smod_safe64(next_stride_177063, merge_block_sizze_176900);
                        bool num_blocks_177079 = zeze_lhs_177078 == (int64_t) 0;
                        bool protect_assert_disj_177080 = cond_177075 || num_blocks_177079;
                        bool assert_c_177081;
                        
                        if (!protect_assert_disj_177080) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177083 = sdiv_safe64(next_stride_177063, merge_block_sizze_176900);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084 = add64((int64_t) 1, num_blocks_177083);
                        int64_t j_m_i_177085 = sub64(next_stride_177063, stride_177062);
                        int64_t flat_dim_177086 = merge_block_sizze_176900 * num_blocks_177083;
                        bool bounds_invalid_upwards_177087 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, (int64_t) 0);
                        bool empty_slice_177088 = j_m_i_177085 == (int64_t) 0;
                        int64_t m_177089 = sub64(j_m_i_177085, (int64_t) 1);
                        bool zzero_lte_i_177090 = sle64((int64_t) 0, stride_177062);
                        bool i_lte_j_177091 = sle64(stride_177062, next_stride_177063);
                        bool empty_slice_177092 = stride_177062 == (int64_t) 0;
                        int64_t m_177093 = sub64(stride_177062, (int64_t) 1);
                        bool bounds_invalid_upwards_177094 = slt64(num_blocks_177083, (int64_t) 0);
                        bool cond_177095 = slt64((int64_t) 0, stride_177062);
                        bool valid_177096 = !bounds_invalid_upwards_177087;
                        int64_t i_p_m_t_s_177097 = add64(stride_177062, m_177089);
                        bool zzero_leq_i_p_m_t_s_177098 = sle64((int64_t) 0, m_177093);
                        bool i_p_m_t_s_leq_w_177099 = slt64(m_177093, next_stride_177063);
                        bool valid_177100 = !bounds_invalid_upwards_177094;
                        bool i_p_m_t_s_leq_w_177101 = slt64(m_177072, flat_dim_177086);
                        bool y_177102 = slt64((int64_t) 0, j_m_i_177085);
                        bool protect_assert_disj_177103 = cond_177075 || valid_177096;
                        bool range_valid_c_177104;
                        
                        if (!protect_assert_disj_177103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177105 = sle64((int64_t) 0, i_p_m_t_s_177097);
                        bool i_p_m_t_s_leq_w_177106 = slt64(i_p_m_t_s_177097, next_stride_177063);
                        bool y_177107 = zzero_leq_i_p_m_t_s_177098 && i_p_m_t_s_leq_w_177099;
                        bool protect_assert_disj_177108 = cond_177075 || valid_177100;
                        bool range_valid_c_177109;
                        
                        if (!protect_assert_disj_177108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177083, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177110 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177101;
                        bool y_177111 = zzero_lte_i_177090 && i_p_m_t_s_leq_w_177106;
                        bool forwards_ok_177112 = zzero_lte_i_177090 && y_177107;
                        bool ok_or_empty_177113 = zzero_177064 || y_177110;
                        bool protect_assert_disj_177114 = cond_177095 || y_177102;
                        bool y_177115 = zzero_leq_i_p_m_t_s_177105 && y_177111;
                        bool ok_or_empty_177116 = empty_slice_177092 || forwards_ok_177112;
                        bool protect_assert_disj_177117 = cond_177075 || ok_or_empty_177113;
                        bool index_certs_177118;
                        
                        if (!protect_assert_disj_177117) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) flat_dim_177086, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177119 = !cond_177075;
                        bool protect_assert_disj_177120 = protect_assert_disj_177114 || loop_not_taken_177119;
                        bool index_certs_177121;
                        
                        if (!protect_assert_disj_177120) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177122 = i_lte_j_177091 && y_177115;
                        bool protect_assert_disj_177123 = cond_177075 || ok_or_empty_177116;
                        bool index_certs_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177125 = ok_or_empty_177116 || loop_not_taken_177119;
                        bool index_certs_177126;
                        
                        if (!protect_assert_disj_177125) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177127 = empty_slice_177088 || forwards_ok_177122;
                        bool protect_assert_disj_177128 = cond_177075 || ok_or_empty_177127;
                        bool index_certs_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177130 = loop_not_taken_177119 || ok_or_empty_177127;
                        bool index_certs_177131;
                        
                        if (!protect_assert_disj_177130) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181209 = next_stride_177063 * num_merges_177067;
                        int64_t binop_x_181211 = (int64_t) 8 * num_merges_177067;
                        int64_t bytes_181212 = next_stride_177063 * binop_x_181211;
                        int64_t binop_x_181214 = (int64_t) 4 * num_merges_177067;
                        int64_t bytes_181215 = next_stride_177063 * binop_x_181214;
                        bool i_lte_j_177074 = sle64((int64_t) 0, next_stride_177063);
                        
                        if (mem_181210_cached_sizze_182890 < bytes_181209) {
                            err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_182890, bytes_181209);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181213_cached_sizze_182891 < bytes_181212) {
                            err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_182891, bytes_181212);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181216_cached_sizze_182892 < bytes_181215) {
                            err = lexical_realloc(ctx, &mem_181216, &mem_181216_cached_sizze_182892, bytes_181215);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181229 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084;
                        int64_t binop_x_181247 = (int64_t) 8 * num_blocks_177083;
                        int64_t bytes_181248 = merge_block_sizze_176900 * binop_x_181247;
                        int64_t binop_x_181250 = (int64_t) 4 * num_blocks_177083;
                        int64_t bytes_181251 = merge_block_sizze_176900 * binop_x_181250;
                        int64_t bytes_181312 = (int64_t) 16 * stride_177062;
                        int64_t bytes_181314 = (int64_t) 8 * stride_177062;
                        
                        for (int64_t i_180832 = 0; i_180832 < num_merges_177067; i_180832++) {
                            int64_t start_177136 = mul64(next_stride_177063, i_180832);
                            int64_t j_m_i_177137 = sub64(loop_dz2084Uz2082U_177057, start_177136);
                            bool empty_slice_177138 = j_m_i_177137 == (int64_t) 0;
                            int64_t m_177139 = sub64(j_m_i_177137, (int64_t) 1);
                            int64_t i_p_m_t_s_177140 = add64(start_177136, m_177139);
                            bool zzero_leq_i_p_m_t_s_177141 = sle64((int64_t) 0, i_p_m_t_s_177140);
                            bool i_p_m_t_s_leq_w_177142 = slt64(i_p_m_t_s_177140, loop_dz2084Uz2082U_177057);
                            bool zzero_lte_i_177143 = sle64((int64_t) 0, start_177136);
                            bool i_lte_j_177144 = sle64(start_177136, loop_dz2084Uz2082U_177057);
                            bool y_177145 = i_p_m_t_s_leq_w_177142 && zzero_lte_i_177143;
                            bool y_177146 = zzero_leq_i_p_m_t_s_177141 && y_177145;
                            bool forwards_ok_177147 = i_lte_j_177144 && y_177146;
                            bool ok_or_empty_177148 = empty_slice_177138 || forwards_ok_177147;
                            bool index_certs_177149;
                            
                            if (!ok_or_empty_177148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177136, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177057, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177150 = slt64(m_177072, j_m_i_177137);
                            bool y_177151 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177150;
                            bool forwards_ok_177152 = i_lte_j_177074 && y_177151;
                            bool ok_or_empty_177153 = zzero_177064 || forwards_ok_177152;
                            bool index_certs_177154;
                            
                            if (!ok_or_empty_177153) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) j_m_i_177137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177075) {
                                int8_t dummy_180284;
                                int64_t dummy_180285;
                                int32_t dummy_180286;
                                
                                if (cond_177095) {
                                    int8_t head_res_180287 = ((int8_t *) mem_param_181202.mem)[start_177136];
                                    int64_t head_res_180288 = ((int64_t *) mem_param_181205.mem)[start_177136];
                                    int32_t head_res_180289 = ((int32_t *) mem_param_181208.mem)[start_177136];
                                    
                                    dummy_180284 = head_res_180287;
                                    dummy_180285 = head_res_180288;
                                    dummy_180286 = head_res_180289;
                                } else {
                                    int64_t slice_180290 = stride_177062 + start_177136;
                                    int8_t head_res_180291 = ((int8_t *) mem_param_181202.mem)[slice_180290];
                                    int64_t head_res_180292 = ((int64_t *) mem_param_181205.mem)[slice_180290];
                                    int32_t head_res_180293 = ((int32_t *) mem_param_181208.mem)[slice_180290];
                                    
                                    dummy_180284 = head_res_180291;
                                    dummy_180285 = head_res_180292;
                                    dummy_180286 = head_res_180293;
                                }
                                if (memblock_alloc(ctx, &mem_181311, next_stride_177063, "mem_181311")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182614 = 0; nest_i_182614 < next_stride_177063; nest_i_182614++) {
                                    ((int8_t *) mem_181311.mem)[nest_i_182614] = dummy_180284;
                                }
                                if (memblock_alloc(ctx, &mem_181313, bytes_181312, "mem_181313")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182615 = 0; nest_i_182615 < next_stride_177063; nest_i_182615++) {
                                    ((int64_t *) mem_181313.mem)[nest_i_182615] = dummy_180285;
                                }
                                if (memblock_alloc(ctx, &mem_181315, bytes_181314, "mem_181315")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182616 = 0; nest_i_182616 < next_stride_177063; nest_i_182616++) {
                                    ((int32_t *) mem_181315.mem)[nest_i_182616] = dummy_180286;
                                }
                                
                                int64_t data_180297;
                                int64_t i_180302 = (int64_t) 0;
                                
                                for (int64_t k_180301 = 0; k_180301 < next_stride_177063; k_180301++) {
                                    int64_t j_180306 = sub64(k_180301, i_180302);
                                    bool cond_180307 = j_180306 == j_m_i_177085;
                                    bool cond_180308;
                                    
                                    if (cond_180307) {
                                        cond_180308 = 1;
                                    } else {
                                        bool cond_180309 = slt64(i_180302, stride_177062);
                                        bool cond_f_res_180310;
                                        
                                        if (cond_180309) {
                                            bool x_180311 = sle64((int64_t) 0, j_180306);
                                            bool y_180312 = slt64(j_180306, j_m_i_177085);
                                            bool bounds_check_180313 = x_180311 && y_180312;
                                            bool index_certs_180314;
                                            
                                            if (!bounds_check_180313) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180320 = sle64((int64_t) 0, i_180302);
                                            bool bounds_check_180321 = cond_180309 && x_180320;
                                            bool index_certs_180322;
                                            
                                            if (!bounds_check_180321) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180315 = stride_177062 + j_180306;
                                            int64_t slice_180316 = start_177136 + slice_180315;
                                            int8_t leq_arg1_180317 = ((int8_t *) mem_param_181202.mem)[slice_180316];
                                            int64_t leq_arg1_180318 = ((int64_t *) mem_param_181205.mem)[slice_180316];
                                            int32_t leq_arg1_180319 = ((int32_t *) mem_param_181208.mem)[slice_180316];
                                            int64_t slice_180323 = start_177136 + i_180302;
                                            int8_t leq_arg0_180324 = ((int8_t *) mem_param_181202.mem)[slice_180323];
                                            int64_t leq_arg0_180325 = ((int64_t *) mem_param_181205.mem)[slice_180323];
                                            int32_t leq_arg0_180326 = ((int32_t *) mem_param_181208.mem)[slice_180323];
                                            bool cond_180327 = leq_arg0_180324 == leq_arg1_180317;
                                            bool defunc_0_leq_res_t_res_180328 = sle64(leq_arg0_180325, leq_arg1_180318);
                                            bool defunc_0_leq_res_180329 = sle32(leq_arg0_180326, leq_arg1_180319);
                                            bool x_180330 = cond_180327 && defunc_0_leq_res_t_res_180328;
                                            bool x_180331 = !cond_180327;
                                            bool y_180332 = defunc_0_leq_res_180329 && x_180331;
                                            bool defunc_0_leq_res_180333 = x_180330 || y_180332;
                                            
                                            cond_f_res_180310 = defunc_0_leq_res_180333;
                                        } else {
                                            cond_f_res_180310 = 0;
                                        }
                                        cond_180308 = cond_f_res_180310;
                                    }
                                    
                                    int64_t loopres_180334;
                                    int8_t loopres_180335;
                                    int64_t loopres_180336;
                                    int32_t loopres_180337;
                                    
                                    if (cond_180308) {
                                        bool x_180339 = sle64((int64_t) 0, i_180302);
                                        bool y_180340 = slt64(i_180302, stride_177062);
                                        bool bounds_check_180341 = x_180339 && y_180340;
                                        bool index_certs_180342;
                                        
                                        if (!bounds_check_180341) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180338 = add64((int64_t) 1, i_180302);
                                        int64_t slice_180343 = start_177136 + i_180302;
                                        int8_t tmp_180344 = ((int8_t *) mem_param_181202.mem)[slice_180343];
                                        int64_t tmp_180345 = ((int64_t *) mem_param_181205.mem)[slice_180343];
                                        int32_t tmp_180346 = ((int32_t *) mem_param_181208.mem)[slice_180343];
                                        
                                        loopres_180334 = tmp_180338;
                                        loopres_180335 = tmp_180344;
                                        loopres_180336 = tmp_180345;
                                        loopres_180337 = tmp_180346;
                                    } else {
                                        bool x_180347 = sle64((int64_t) 0, j_180306);
                                        bool y_180348 = slt64(j_180306, j_m_i_177085);
                                        bool bounds_check_180349 = x_180347 && y_180348;
                                        bool index_certs_180350;
                                        
                                        if (!bounds_check_180349) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180351 = stride_177062 + j_180306;
                                        int64_t slice_180352 = start_177136 + slice_180351;
                                        int8_t tmp_180353 = ((int8_t *) mem_param_181202.mem)[slice_180352];
                                        int64_t tmp_180354 = ((int64_t *) mem_param_181205.mem)[slice_180352];
                                        int32_t tmp_180355 = ((int32_t *) mem_param_181208.mem)[slice_180352];
                                        
                                        loopres_180334 = i_180302;
                                        loopres_180335 = tmp_180353;
                                        loopres_180336 = tmp_180354;
                                        loopres_180337 = tmp_180355;
                                    }
                                    ((int8_t *) mem_181311.mem)[k_180301] = loopres_180335;
                                    ((int64_t *) mem_181313.mem)[k_180301] = loopres_180336;
                                    ((int32_t *) mem_181315.mem)[k_180301] = loopres_180337;
                                    
                                    int64_t i_tmp_182617 = loopres_180334;
                                    
                                    i_180302 = i_tmp_182617;
                                }
                                data_180297 = i_180302;
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181311, "mem_181311") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181313, "mem_181313") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181315, "mem_181315") != 0)
                                    return 1;
                            } else {
                                if (mem_181230_cached_sizze_182893 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_182893, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181232_cached_sizze_182894 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181232, &mem_181232_cached_sizze_182894, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180813 = 0; i_180813 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084; i_180813++) {
                                    int64_t split_count_arg3_177237 = mul64(merge_block_sizze_176900, i_180813);
                                    int64_t defunc_0_split_count_res_177238;
                                    int64_t defunc_0_split_count_res_177239;
                                    int64_t defunc_0_split_count_res_177240;
                                    int64_t defunc_0_split_count_res_177241;
                                    int64_t defunc_0_split_count_res_177242;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177238, &defunc_0_split_count_res_177239, &defunc_0_split_count_res_177240, &defunc_0_split_count_res_177241, &defunc_0_split_count_res_177242, (int64_t) 0, stride_177062, (int64_t) 0, j_m_i_177085, split_count_arg3_177237) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177243 = slt64((int64_t) 0, defunc_0_split_count_res_177242);
                                    bool defunc_0_split_count_res_177244;
                                    int64_t defunc_0_split_count_res_177245;
                                    int64_t defunc_0_split_count_res_177246;
                                    int64_t defunc_0_split_count_res_177247;
                                    int64_t defunc_0_split_count_res_177248;
                                    int64_t defunc_0_split_count_res_177249;
                                    bool loop_while_177250;
                                    int64_t ss_177251;
                                    int64_t ss_177252;
                                    int64_t tt_177253;
                                    int64_t tt_177254;
                                    int64_t count_177255;
                                    
                                    loop_while_177250 = loop_cond_177243;
                                    ss_177251 = defunc_0_split_count_res_177238;
                                    ss_177252 = defunc_0_split_count_res_177239;
                                    tt_177253 = defunc_0_split_count_res_177240;
                                    tt_177254 = defunc_0_split_count_res_177241;
                                    count_177255 = defunc_0_split_count_res_177242;
                                    while (loop_while_177250) {
                                        int64_t zlze_lhs_177256 = sub64(ss_177252, ss_177251);
                                        bool cond_177257 = sle64(zlze_lhs_177256, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177258;
                                        int64_t defunc_0_lifted_step_res_177259;
                                        int64_t defunc_0_lifted_step_res_177260;
                                        int64_t defunc_0_lifted_step_res_177261;
                                        
                                        if (cond_177257) {
                                            int64_t tmp_180359 = add64(tt_177253, count_177255);
                                            
                                            defunc_0_lifted_step_res_177258 = ss_177251;
                                            defunc_0_lifted_step_res_177259 = tmp_180359;
                                            defunc_0_lifted_step_res_177260 = tt_177254;
                                            defunc_0_lifted_step_res_177261 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177263 = sub64(tt_177254, tt_177253);
                                            bool cond_177264 = sle64(zlze_lhs_177263, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177265;
                                            int64_t defunc_0_lifted_step_res_f_res_177266;
                                            int64_t defunc_0_lifted_step_res_f_res_177267;
                                            int64_t defunc_0_lifted_step_res_f_res_177268;
                                            
                                            if (cond_177264) {
                                                int64_t tmp_180360 = add64(ss_177251, count_177255);
                                                
                                                defunc_0_lifted_step_res_f_res_177265 = tmp_180360;
                                                defunc_0_lifted_step_res_f_res_177266 = tt_177253;
                                                defunc_0_lifted_step_res_f_res_177267 = tt_177254;
                                                defunc_0_lifted_step_res_f_res_177268 = (int64_t) 0;
                                            } else {
                                                bool cond_177270 = count_177255 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177271;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177272;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177273;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177274;
                                                
                                                if (cond_177270) {
                                                    bool x_180362 = sle64((int64_t) 0, ss_177251);
                                                    bool y_180363 = slt64(ss_177251, stride_177062);
                                                    bool bounds_check_180364 = x_180362 && y_180363;
                                                    bool index_certs_180365;
                                                    
                                                    if (!bounds_check_180364) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177251, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180370 = sle64((int64_t) 0, tt_177253);
                                                    bool y_180371 = slt64(tt_177253, j_m_i_177085);
                                                    bool bounds_check_180372 = x_180370 && y_180371;
                                                    bool index_certs_180373;
                                                    
                                                    if (!bounds_check_180372) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177253, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180366 = start_177136 + ss_177251;
                                                    int8_t leq_arg1_180367 = ((int8_t *) mem_param_181202.mem)[slice_180366];
                                                    int64_t leq_arg1_180368 = ((int64_t *) mem_param_181205.mem)[slice_180366];
                                                    int32_t leq_arg1_180369 = ((int32_t *) mem_param_181208.mem)[slice_180366];
                                                    int64_t slice_180374 = stride_177062 + tt_177253;
                                                    int64_t slice_180375 = start_177136 + slice_180374;
                                                    int8_t leq_arg0_180376 = ((int8_t *) mem_param_181202.mem)[slice_180375];
                                                    int64_t leq_arg0_180377 = ((int64_t *) mem_param_181205.mem)[slice_180375];
                                                    int32_t leq_arg0_180378 = ((int32_t *) mem_param_181208.mem)[slice_180375];
                                                    bool cond_180379 = leq_arg0_180376 == leq_arg1_180367;
                                                    bool defunc_0_leq_res_t_res_180380 = sle64(leq_arg0_180377, leq_arg1_180368);
                                                    bool defunc_0_leq_res_180381 = sle32(leq_arg0_180378, leq_arg1_180369);
                                                    bool x_180382 = cond_180379 && defunc_0_leq_res_t_res_180380;
                                                    bool x_180383 = !cond_180379;
                                                    bool y_180384 = defunc_0_leq_res_180381 && x_180383;
                                                    bool defunc_0_leq_res_180385 = x_180382 || y_180384;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    
                                                    if (defunc_0_leq_res_180385) {
                                                        int64_t tmp_180388 = add64((int64_t) 1, tt_177253);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = ss_177251;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tmp_180388;
                                                    } else {
                                                        int64_t tmp_180389 = add64((int64_t) 1, ss_177251);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = tmp_180389;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tt_177253;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = tt_177254;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177303 = sdiv64(count_177255, (int64_t) 2);
                                                    int64_t n_177304 = sub64(count_177255, m_177303);
                                                    bool cond_177305 = n_177304 == (int64_t) 0;
                                                    int64_t zgze_lhs_177306 = add64(ss_177251, m_177303);
                                                    bool cond_f_res_177307 = sle64(ss_177252, zgze_lhs_177306);
                                                    bool x_177308 = !cond_177305;
                                                    bool y_177309 = cond_f_res_177307 && x_177308;
                                                    bool cond_177310 = cond_177305 || y_177309;
                                                    bool leq_y_x_177311;
                                                    
                                                    if (cond_177310) {
                                                        leq_y_x_177311 = 1;
                                                    } else {
                                                        bool x_177312 = sle64((int64_t) 0, zgze_lhs_177306);
                                                        bool y_177313 = slt64(zgze_lhs_177306, stride_177062);
                                                        bool bounds_check_177314 = x_177312 && y_177313;
                                                        bool index_certs_177315;
                                                        
                                                        if (!bounds_check_177314) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177306, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177320 = add64(tt_177253, n_177304);
                                                        int64_t leq_arg0_177321 = sub64(zm_lhs_177320, (int64_t) 1);
                                                        bool x_177322 = sle64((int64_t) 0, leq_arg0_177321);
                                                        bool y_177323 = slt64(leq_arg0_177321, j_m_i_177085);
                                                        bool bounds_check_177324 = x_177322 && y_177323;
                                                        bool index_certs_177325;
                                                        
                                                        if (!bounds_check_177324) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177321, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177316 = start_177136 + zgze_lhs_177306;
                                                        int8_t leq_arg1_177317 = ((int8_t *) mem_param_181202.mem)[slice_177316];
                                                        int64_t leq_arg1_177318 = ((int64_t *) mem_param_181205.mem)[slice_177316];
                                                        int32_t leq_arg1_177319 = ((int32_t *) mem_param_181208.mem)[slice_177316];
                                                        int64_t slice_177326 = stride_177062 + leq_arg0_177321;
                                                        int64_t slice_177327 = start_177136 + slice_177326;
                                                        int8_t leq_arg0_177328 = ((int8_t *) mem_param_181202.mem)[slice_177327];
                                                        int64_t leq_arg0_177329 = ((int64_t *) mem_param_181205.mem)[slice_177327];
                                                        int32_t leq_arg0_177330 = ((int32_t *) mem_param_181208.mem)[slice_177327];
                                                        bool cond_177331 = leq_arg0_177328 == leq_arg1_177317;
                                                        bool defunc_0_leq_res_t_res_177332 = sle64(leq_arg0_177329, leq_arg1_177318);
                                                        bool defunc_0_leq_res_177333 = sle32(leq_arg0_177330, leq_arg1_177319);
                                                        bool x_177334 = cond_177331 && defunc_0_leq_res_t_res_177332;
                                                        bool x_177335 = !cond_177331;
                                                        bool y_177336 = defunc_0_leq_res_177333 && x_177335;
                                                        bool defunc_0_leq_res_177337 = x_177334 || y_177336;
                                                        
                                                        leq_y_x_177311 = defunc_0_leq_res_177337;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                    
                                                    if (leq_y_x_177311) {
                                                        int64_t tmp_180390 = add64(tt_177253, n_177304);
                                                        int64_t tmp_180391 = sub64(count_177255, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tmp_180390;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tt_177254;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = tmp_180391;
                                                    } else {
                                                        int64_t tmp_177343 = add64(tt_177253, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tt_177253;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tmp_177343;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = count_177255;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = ss_177251;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                }
                                                defunc_0_lifted_step_res_f_res_177265 = defunc_0_lifted_step_res_f_res_f_res_177271;
                                                defunc_0_lifted_step_res_f_res_177266 = defunc_0_lifted_step_res_f_res_f_res_177272;
                                                defunc_0_lifted_step_res_f_res_177267 = defunc_0_lifted_step_res_f_res_f_res_177273;
                                                defunc_0_lifted_step_res_f_res_177268 = defunc_0_lifted_step_res_f_res_f_res_177274;
                                            }
                                            defunc_0_lifted_step_res_177258 = defunc_0_lifted_step_res_f_res_177265;
                                            defunc_0_lifted_step_res_177259 = defunc_0_lifted_step_res_f_res_177266;
                                            defunc_0_lifted_step_res_177260 = defunc_0_lifted_step_res_f_res_177267;
                                            defunc_0_lifted_step_res_177261 = defunc_0_lifted_step_res_f_res_177268;
                                        }
                                        
                                        int64_t loopres_177344;
                                        int64_t loopres_177345;
                                        int64_t loopres_177346;
                                        int64_t loopres_177347;
                                        int64_t loopres_177348;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_177344, &loopres_177345, &loopres_177346, &loopres_177347, &loopres_177348, defunc_0_lifted_step_res_177258, ss_177252, defunc_0_lifted_step_res_177259, defunc_0_lifted_step_res_177260, defunc_0_lifted_step_res_177261) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177349 = slt64((int64_t) 0, loopres_177348);
                                        bool loop_while_tmp_182623 = loop_cond_177349;
                                        int64_t ss_tmp_182624 = loopres_177344;
                                        int64_t ss_tmp_182625 = loopres_177345;
                                        int64_t tt_tmp_182626 = loopres_177346;
                                        int64_t tt_tmp_182627 = loopres_177347;
                                        int64_t count_tmp_182628 = loopres_177348;
                                        
                                        loop_while_177250 = loop_while_tmp_182623;
                                        ss_177251 = ss_tmp_182624;
                                        ss_177252 = ss_tmp_182625;
                                        tt_177253 = tt_tmp_182626;
                                        tt_177254 = tt_tmp_182627;
                                        count_177255 = count_tmp_182628;
                                    }
                                    defunc_0_split_count_res_177244 = loop_while_177250;
                                    defunc_0_split_count_res_177245 = ss_177251;
                                    defunc_0_split_count_res_177246 = ss_177252;
                                    defunc_0_split_count_res_177247 = tt_177253;
                                    defunc_0_split_count_res_177248 = tt_177254;
                                    defunc_0_split_count_res_177249 = count_177255;
                                    ((int64_t *) mem_181230)[i_180813] = defunc_0_split_count_res_177245;
                                    ((int64_t *) mem_181232)[i_180813] = defunc_0_split_count_res_177247;
                                }
                                if (mem_181246_cached_sizze_182895 < flat_dim_177086) {
                                    err = lexical_realloc(ctx, &mem_181246, &mem_181246_cached_sizze_182895, flat_dim_177086);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181249_cached_sizze_182896 < bytes_181248) {
                                    err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_182896, bytes_181248);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_182897 < bytes_181251) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_182897, bytes_181251);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180822 = 0; i_180822 < num_blocks_177083; i_180822++) {
                                    bool y_177356 = slt64(i_180822, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool index_certs_177358;
                                    
                                    if (!y_177356) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177359 = ((int64_t *) mem_181230)[i_180822];
                                    int64_t defunc_0_f_res_177360 = ((int64_t *) mem_181232)[i_180822];
                                    int64_t tmp_177361 = add64((int64_t) 1, i_180822);
                                    bool x_177362 = sle64((int64_t) 0, tmp_177361);
                                    bool y_177363 = slt64(tmp_177361, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool bounds_check_177364 = x_177362 && y_177363;
                                    bool index_certs_177365;
                                    
                                    if (!bounds_check_177364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177361, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177366 = ((int64_t *) mem_181230)[tmp_177361];
                                    int64_t defunc_0_f_res_177367 = ((int64_t *) mem_181232)[tmp_177361];
                                    int64_t merge_sequential_arg2_177368 = add64(stride_177062, defunc_0_f_res_177360);
                                    int64_t merge_sequential_arg2_177369 = add64(stride_177062, defunc_0_f_res_177367);
                                    int64_t j_m_i_177370 = sub64(merge_sequential_arg2_177369, merge_sequential_arg2_177368);
                                    bool empty_slice_177371 = j_m_i_177370 == (int64_t) 0;
                                    int64_t m_177372 = sub64(j_m_i_177370, (int64_t) 1);
                                    int64_t i_p_m_t_s_177373 = add64(merge_sequential_arg2_177368, m_177372);
                                    bool zzero_leq_i_p_m_t_s_177374 = sle64((int64_t) 0, i_p_m_t_s_177373);
                                    bool i_p_m_t_s_leq_w_177375 = slt64(i_p_m_t_s_177373, next_stride_177063);
                                    bool zzero_lte_i_177376 = sle64((int64_t) 0, merge_sequential_arg2_177368);
                                    bool i_lte_j_177377 = sle64(merge_sequential_arg2_177368, merge_sequential_arg2_177369);
                                    bool y_177378 = i_p_m_t_s_leq_w_177375 && zzero_lte_i_177376;
                                    bool y_177379 = zzero_leq_i_p_m_t_s_177374 && y_177378;
                                    bool forwards_ok_177380 = i_lte_j_177377 && y_177379;
                                    bool ok_or_empty_177381 = empty_slice_177371 || forwards_ok_177380;
                                    bool index_certs_177382;
                                    
                                    if (!ok_or_empty_177381) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177368, ":", (long long) merge_sequential_arg2_177369, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177383 = sub64(defunc_0_f_res_177366, defunc_0_f_res_177359);
                                    bool empty_slice_177384 = j_m_i_177383 == (int64_t) 0;
                                    int64_t m_177385 = sub64(j_m_i_177383, (int64_t) 1);
                                    int64_t i_p_m_t_s_177386 = add64(defunc_0_f_res_177359, m_177385);
                                    bool zzero_leq_i_p_m_t_s_177387 = sle64((int64_t) 0, i_p_m_t_s_177386);
                                    bool i_p_m_t_s_leq_w_177388 = slt64(i_p_m_t_s_177386, next_stride_177063);
                                    bool zzero_lte_i_177389 = sle64((int64_t) 0, defunc_0_f_res_177359);
                                    bool i_lte_j_177390 = sle64(defunc_0_f_res_177359, defunc_0_f_res_177366);
                                    bool y_177391 = i_p_m_t_s_leq_w_177388 && zzero_lte_i_177389;
                                    bool y_177392 = zzero_leq_i_p_m_t_s_177387 && y_177391;
                                    bool forwards_ok_177393 = i_lte_j_177390 && y_177392;
                                    bool ok_or_empty_177394 = empty_slice_177384 || forwards_ok_177393;
                                    bool index_certs_177395;
                                    
                                    if (!ok_or_empty_177394) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177359, ":", (long long) defunc_0_f_res_177366, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177396 = slt64((int64_t) 0, j_m_i_177383);
                                    int8_t dummy_177397;
                                    int64_t dummy_177398;
                                    int32_t dummy_177399;
                                    
                                    if (cond_177396) {
                                        bool index_certs_180392;
                                        
                                        if (!cond_177396) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180393 = start_177136 + defunc_0_f_res_177359;
                                        int8_t head_res_180394 = ((int8_t *) mem_param_181202.mem)[slice_180393];
                                        int64_t head_res_180395 = ((int64_t *) mem_param_181205.mem)[slice_180393];
                                        int32_t head_res_180396 = ((int32_t *) mem_param_181208.mem)[slice_180393];
                                        
                                        dummy_177397 = head_res_180394;
                                        dummy_177398 = head_res_180395;
                                        dummy_177399 = head_res_180396;
                                    } else {
                                        bool y_177405 = slt64((int64_t) 0, j_m_i_177370);
                                        bool index_certs_177406;
                                        
                                        if (!y_177405) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177407 = start_177136 + merge_sequential_arg2_177368;
                                        int8_t head_res_177408 = ((int8_t *) mem_param_181202.mem)[slice_177407];
                                        int64_t head_res_177409 = ((int64_t *) mem_param_181205.mem)[slice_177407];
                                        int32_t head_res_177410 = ((int32_t *) mem_param_181208.mem)[slice_177407];
                                        
                                        dummy_177397 = head_res_177408;
                                        dummy_177398 = head_res_177409;
                                        dummy_177399 = head_res_177410;
                                    }
                                    for (int64_t nest_i_182632 = 0; nest_i_182632 < merge_block_sizze_176900; nest_i_182632++) {
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + nest_i_182632] = dummy_177397;
                                    }
                                    for (int64_t nest_i_182633 = 0; nest_i_182633 < merge_block_sizze_176900; nest_i_182633++) {
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + nest_i_182633] = dummy_177398;
                                    }
                                    for (int64_t nest_i_182634 = 0; nest_i_182634 < merge_block_sizze_176900; nest_i_182634++) {
                                        ((int32_t *) mem_181252)[i_180822 * merge_block_sizze_176900 + nest_i_182634] = dummy_177399;
                                    }
                                    
                                    int64_t data_177414;
                                    int64_t i_177419 = (int64_t) 0;
                                    
                                    for (int64_t k_177418 = 0; k_177418 < merge_block_sizze_176900; k_177418++) {
                                        int64_t j_177423 = sub64(k_177418, i_177419);
                                        bool cond_177424 = j_177423 == j_m_i_177370;
                                        bool cond_177425;
                                        
                                        if (cond_177424) {
                                            cond_177425 = 1;
                                        } else {
                                            bool cond_177426 = slt64(i_177419, j_m_i_177383);
                                            bool cond_f_res_177427;
                                            
                                            if (cond_177426) {
                                                bool x_180397 = sle64((int64_t) 0, j_177423);
                                                bool y_180398 = slt64(j_177423, j_m_i_177370);
                                                bool bounds_check_180399 = x_180397 && y_180398;
                                                bool index_certs_180400;
                                                
                                                if (!bounds_check_180399) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180406 = sle64((int64_t) 0, i_177419);
                                                bool bounds_check_180407 = cond_177426 && x_180406;
                                                bool index_certs_180408;
                                                
                                                if (!bounds_check_180407) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180401 = merge_sequential_arg2_177368 + j_177423;
                                                int64_t slice_180402 = start_177136 + slice_180401;
                                                int8_t leq_arg1_180403 = ((int8_t *) mem_param_181202.mem)[slice_180402];
                                                int64_t leq_arg1_180404 = ((int64_t *) mem_param_181205.mem)[slice_180402];
                                                int32_t leq_arg1_180405 = ((int32_t *) mem_param_181208.mem)[slice_180402];
                                                int64_t slice_180409 = defunc_0_f_res_177359 + i_177419;
                                                int64_t slice_180410 = start_177136 + slice_180409;
                                                int8_t leq_arg0_180411 = ((int8_t *) mem_param_181202.mem)[slice_180410];
                                                int64_t leq_arg0_180412 = ((int64_t *) mem_param_181205.mem)[slice_180410];
                                                int32_t leq_arg0_180413 = ((int32_t *) mem_param_181208.mem)[slice_180410];
                                                bool cond_180414 = leq_arg0_180411 == leq_arg1_180403;
                                                bool defunc_0_leq_res_t_res_180415 = sle64(leq_arg0_180412, leq_arg1_180404);
                                                bool defunc_0_leq_res_180416 = sle32(leq_arg0_180413, leq_arg1_180405);
                                                bool x_180417 = cond_180414 && defunc_0_leq_res_t_res_180415;
                                                bool x_180418 = !cond_180414;
                                                bool y_180419 = defunc_0_leq_res_180416 && x_180418;
                                                bool defunc_0_leq_res_180420 = x_180417 || y_180419;
                                                
                                                cond_f_res_177427 = defunc_0_leq_res_180420;
                                            } else {
                                                cond_f_res_177427 = 0;
                                            }
                                            cond_177425 = cond_f_res_177427;
                                        }
                                        
                                        int64_t loopres_177452;
                                        int8_t loopres_177453;
                                        int64_t loopres_177454;
                                        int32_t loopres_177455;
                                        
                                        if (cond_177425) {
                                            bool x_180422 = sle64((int64_t) 0, i_177419);
                                            bool y_180423 = slt64(i_177419, j_m_i_177383);
                                            bool bounds_check_180424 = x_180422 && y_180423;
                                            bool index_certs_180425;
                                            
                                            if (!bounds_check_180424) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180421 = add64((int64_t) 1, i_177419);
                                            int64_t slice_180426 = defunc_0_f_res_177359 + i_177419;
                                            int64_t slice_180427 = start_177136 + slice_180426;
                                            int8_t tmp_180428 = ((int8_t *) mem_param_181202.mem)[slice_180427];
                                            int64_t tmp_180429 = ((int64_t *) mem_param_181205.mem)[slice_180427];
                                            int32_t tmp_180430 = ((int32_t *) mem_param_181208.mem)[slice_180427];
                                            
                                            loopres_177452 = tmp_180421;
                                            loopres_177453 = tmp_180428;
                                            loopres_177454 = tmp_180429;
                                            loopres_177455 = tmp_180430;
                                        } else {
                                            bool x_177466 = sle64((int64_t) 0, j_177423);
                                            bool y_177467 = slt64(j_177423, j_m_i_177370);
                                            bool bounds_check_177468 = x_177466 && y_177467;
                                            bool index_certs_177469;
                                            
                                            if (!bounds_check_177468) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177470 = merge_sequential_arg2_177368 + j_177423;
                                            int64_t slice_177471 = start_177136 + slice_177470;
                                            int8_t tmp_177472 = ((int8_t *) mem_param_181202.mem)[slice_177471];
                                            int64_t tmp_177473 = ((int64_t *) mem_param_181205.mem)[slice_177471];
                                            int32_t tmp_177474 = ((int32_t *) mem_param_181208.mem)[slice_177471];
                                            
                                            loopres_177452 = i_177419;
                                            loopres_177453 = tmp_177472;
                                            loopres_177454 = tmp_177473;
                                            loopres_177455 = tmp_177474;
                                        }
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177453;
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177454;
                                        ((int32_t *) mem_181252)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177455;
                                        
                                        int64_t i_tmp_182635 = loopres_177452;
                                        
                                        i_177419 = i_tmp_182635;
                                    }
                                    data_177414 = i_177419;
                                }
                                if (memblock_alloc(ctx, &mem_181301, flat_dim_177086, "mem_181301")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181301.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint8_t *) mem_181246, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181305, bytes_181248, "mem_181305")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181305.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint64_t *) mem_181249, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181309, bytes_181251, "mem_181309")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_4b(ctx, 2, (uint32_t *) mem_181309.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint32_t *) mem_181252, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181301, "mem_181301") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181305, "mem_181305") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181309, "mem_181309") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181210, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181342.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181213, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181339.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
                                return 1;
                            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181216, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181336.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181356, bytes_181209, "mem_181356")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181356.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181360, bytes_181212, "mem_181360")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181360.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint64_t *) mem_181213, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181364, bytes_181215, "mem_181364")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181364.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint32_t *) mem_181216, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        
                        bool loop_cond_177488 = slt64(next_stride_177063, flat_dim_176895);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182602, &mem_181356, "mem_181356") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182603, &mem_181360, "mem_181360") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182604, &mem_181364, "mem_181364") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182605 = bytes_181209;
                        bool loop_while_tmp_182606 = loop_cond_177488;
                        int64_t stride_tmp_182610 = next_stride_177063;
                        
                        if (memblock_set(ctx, &mem_param_181202, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181205, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181208, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177057 = loop_dz2084Uz2082U_tmp_182605;
                        loop_while_177058 = loop_while_tmp_182606;
                        stride_177062 = stride_tmp_182610;
                    }
                    if (memblock_set(ctx, &ext_mem_181374, &mem_param_181202, "mem_param_181202") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181373, &mem_param_181205, "mem_param_181205") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181372, &mem_param_181208, "mem_param_181208") != 0)
                        return 1;
                    data_177051 = loop_dz2084Uz2082U_177057;
                    data_177052 = loop_while_177058;
                    data_177056 = stride_177062;
                    if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
                        return 1;
                    
                    bool empty_slice_177489 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177490 = sle64((int64_t) 0, zs_lhs_176879);
                    bool i_p_m_t_s_leq_w_177491 = slt64(zs_lhs_176879, data_177051);
                    bool y_177492 = zzero_leq_i_p_m_t_s_177490 && i_p_m_t_s_leq_w_177491;
                    bool ok_or_empty_177493 = empty_slice_177489 || y_177492;
                    bool index_certs_177494;
                    
                    if (!ok_or_empty_177493) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] out of bounds for array of shape [", (long long) data_177051, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181383, &ext_mem_181374, "ext_mem_181374") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &ext_mem_181373, "ext_mem_181373") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &ext_mem_181372, "ext_mem_181372") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181064.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181383.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181066.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181380.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181068.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181377.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
                    return 1;
                
                bool loop_cond_177530 = slt64(ubs_176822, threads_131710);
                bool loop_while_tmp_182569 = loop_cond_177530;
                int64_t p_tmp_182570 = ubs_176822;
                
                loop_while_176811 = loop_while_tmp_182569;
                p_176812 = p_tmp_182570;
            }
            defunc_0_mergeFunc_seq_res_176806 = loop_while_176811;
            defunc_0_mergeFunc_seq_res_176807 = p_176812;
            
            int64_t index_concat_branch_178347;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180445 = ((int64_t *) mem_181049)[index_concat_i_178344];
                
                index_concat_branch_178347 = index_concat_180445;
            } else {
                index_concat_branch_178347 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178341;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180446 = ((int64_t *) mem_181051)[index_concat_i_178344];
                
                index_concat_branch_178341 = index_concat_180446;
            } else {
                index_concat_branch_178341 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181064, "mem_181064") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181066, "mem_181066") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181068, "mem_181068") != 0)
                return 1;
            loopres_175570 = index_concat_branch_178347;
            loopres_175571 = index_concat_branch_178341;
        }
        for (int64_t i_180838 = 0; i_180838 < window_sizze_131709; i_180838++) {
            int8_t eta_p_177538 = ((int8_t *) ext_mem_181802.mem)[i_180838];
            int64_t eta_p_177539 = ((int64_t *) ext_mem_181799.mem)[i_180838];
            bool cond_177540 = eta_p_177538 == (int8_t) 0;
            int64_t tmp_177541;
            
            if (cond_177540) {
                int64_t tmp_t_res_180449 = add64(p_175542, eta_p_177539);
                
                tmp_177541 = tmp_t_res_180449;
            } else {
                int64_t tmp_f_res_177543 = add64(p_175543, eta_p_177539);
                
                tmp_177541 = tmp_f_res_177543;
            }
            ((int64_t *) mem_181036.mem)[ind_bottom_175546 + i_180838] = tmp_177541;
        }
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        
        int64_t next_lbs_177544 = add64(p_175542, loopres_175570);
        int64_t next_lbs_177545 = add64(p_175543, loopres_175571);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181802.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_131709});
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181038.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_181796.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_131709});
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        
        bool cond_177559 = slt64(next_lbs_177544, zl_rhs_175525);
        bool loop_cond_t_res_177560 = slt64(next_lbs_177545, zl_rhs_175527);
        bool x_177561 = cond_177559 && loop_cond_t_res_177560;
        bool loop_while_tmp_182453 = x_177561;
        int64_t p_tmp_182457 = next_lbs_177544;
        int64_t p_tmp_182458 = next_lbs_177545;
        
        loop_while_175538 = loop_while_tmp_182453;
        p_175542 = p_tmp_182457;
        p_175543 = p_tmp_182458;
    }
    defunc_0_merge_pipeline_res_175532 = loop_while_175538;
    defunc_0_merge_pipeline_res_175536 = p_175542;
    defunc_0_merge_pipeline_res_175537 = p_175543;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 = sub64(nb_131708, defunc_0_merge_pipeline_res_175537);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 = sub64(na_131707, defunc_0_merge_pipeline_res_175536);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    bool empty_slice_177565 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 == (int64_t) 0;
    int64_t m_177566 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 1);
    int64_t i_p_m_t_s_177567 = add64(defunc_0_merge_pipeline_res_175536, m_177566);
    bool zzero_leq_i_p_m_t_s_177568 = sle64((int64_t) 0, i_p_m_t_s_177567);
    bool i_p_m_t_s_leq_w_177569 = slt64(i_p_m_t_s_177567, na_131707);
    bool zzero_lte_i_177570 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175536);
    bool i_lte_j_177571 = sle64(defunc_0_merge_pipeline_res_175536, na_131707);
    bool y_177572 = i_p_m_t_s_leq_w_177569 && zzero_lte_i_177570;
    bool y_177573 = zzero_leq_i_p_m_t_s_177568 && y_177572;
    bool forwards_ok_177574 = i_lte_j_177571 && y_177573;
    bool ok_or_empty_177575 = empty_slice_177565 || forwards_ok_177574;
    bool index_certs_177576;
    
    if (!ok_or_empty_177575) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175536, ":", (long long) na_131707, "] out of bounds for array of shape [", (long long) na_131707, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177580 = slt64(na_131707, defunc_0_merge_pipeline_res_175536);
    bool valid_177581 = !bounds_invalid_upwards_177580;
    bool range_valid_c_177582;
    
    if (!valid_177581) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175536, "..<", (long long) na_131707, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177586 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 == (int64_t) 0;
    int64_t m_177587 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, (int64_t) 1);
    int64_t i_p_m_t_s_177588 = add64(defunc_0_merge_pipeline_res_175537, m_177587);
    bool zzero_leq_i_p_m_t_s_177589 = sle64((int64_t) 0, i_p_m_t_s_177588);
    bool i_p_m_t_s_leq_w_177590 = slt64(i_p_m_t_s_177588, nb_131708);
    bool zzero_lte_i_177591 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175537);
    bool i_lte_j_177592 = sle64(defunc_0_merge_pipeline_res_175537, nb_131708);
    bool y_177593 = i_p_m_t_s_leq_w_177590 && zzero_lte_i_177591;
    bool y_177594 = zzero_leq_i_p_m_t_s_177589 && y_177593;
    bool forwards_ok_177595 = i_lte_j_177592 && y_177594;
    bool ok_or_empty_177596 = empty_slice_177586 || forwards_ok_177595;
    bool index_certs_177597;
    
    if (!ok_or_empty_177596) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175537, ":", (long long) nb_131708, "] out of bounds for array of shape [", (long long) nb_131708, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177601 = slt64(nb_131708, defunc_0_merge_pipeline_res_175537);
    bool valid_177602 = !bounds_invalid_upwards_177601;
    bool range_valid_c_177603;
    
    if (!valid_177602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175537, "..<", (long long) nb_131708, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181827 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    int64_t bytes_181829 = (int64_t) 4 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool cond_177610 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zs_lhs_177611 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zp_rhs_177612 = sdiv_safe64(zs_lhs_177611, (int64_t) 20);
    int64_t min_num_blocks_177613 = add64((int64_t) 1, zp_rhs_177612);
    bool loop_cond_177614 = slt64((int64_t) 1, min_num_blocks_177613);
    bool smallest_pow_2_geq_than_res_177615;
    int64_t smallest_pow_2_geq_than_res_177616;
    bool loop_while_177617;
    int64_t x_177618;
    
    loop_while_177617 = loop_cond_177614;
    x_177618 = (int64_t) 1;
    while (loop_while_177617) {
        int64_t loopres_177619 = mul64((int64_t) 2, x_177618);
        bool loop_cond_177620 = slt64(loopres_177619, min_num_blocks_177613);
        bool loop_while_tmp_182640 = loop_cond_177620;
        int64_t x_tmp_182641 = loopres_177619;
        
        loop_while_177617 = loop_while_tmp_182640;
        x_177618 = x_tmp_182641;
    }
    smallest_pow_2_geq_than_res_177615 = loop_while_177617;
    smallest_pow_2_geq_than_res_177616 = x_177618;
    
    bool zzero_177621 = smallest_pow_2_geq_than_res_177616 == (int64_t) 0;
    bool nonzzero_177622 = !zzero_177621;
    bool protect_assert_disj_177623 = cond_177610 || nonzzero_177622;
    bool nonzzero_cert_177624;
    
    if (!protect_assert_disj_177623) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177625 = sdiv_safe64(zs_lhs_177611, smallest_pow_2_geq_than_res_177616);
    int64_t block_sizze_177626 = add64((int64_t) 1, zp_rhs_177625);
    bool y_177633 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool protect_assert_disj_182155 = cond_177610 || y_177633;
    bool index_certs_177634;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177660 = slt64(smallest_pow_2_geq_than_res_177616, (int64_t) 0);
    bool valid_177661 = !bounds_invalid_upwards_177660;
    bool protect_assert_disj_182165 = cond_177610 || valid_177661;
    bool range_valid_c_177662;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177616, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177664 = slt64(block_sizze_177626, (int64_t) 0);
    bool valid_177665 = !bounds_invalid_upwards_177664;
    bool protect_assert_disj_182167 = cond_177610 || valid_177665;
    bool range_valid_c_177666;
    
    if (!protect_assert_disj_182167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177626, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177668 = sle64(block_sizze_177626, (int64_t) 1);
    int64_t tmp_177669 = sub64(block_sizze_177626, (int64_t) 2);
    bool bounds_invalid_upwards_177670 = slt64(tmp_177669, (int64_t) 0);
    bool valid_177672 = !bounds_invalid_upwards_177670;
    bool protect_assert_disj_177673 = cond_177668 || valid_177672;
    bool protect_assert_disj_182169 = cond_177610 || protect_assert_disj_177673;
    bool range_valid_c_177674;
    
    if (!protect_assert_disj_182169) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177669, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178235 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, zs_lhs_177611);
    bool i_p_m_t_s_leq_w_178238 = slt64(zs_lhs_177611, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool y_178239 = zzero_leq_i_p_m_t_s_178237 && i_p_m_t_s_leq_w_178238;
    bool ok_or_empty_178240 = empty_slice_178235 || y_178239;
    bool index_certs_178241;
    
    if (!ok_or_empty_178240) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178242 = add64(defunc_0_merge_pipeline_res_175536, defunc_0_merge_pipeline_res_175537);
    int64_t j_m_i_178243 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, final_buffer_178242);
    bool empty_slice_178244 = j_m_i_178243 == (int64_t) 0;
    int64_t m_178245 = sub64(j_m_i_178243, (int64_t) 1);
    int64_t i_p_m_t_s_178246 = add64(final_buffer_178242, m_178245);
    bool zzero_leq_i_p_m_t_s_178247 = sle64((int64_t) 0, i_p_m_t_s_178246);
    bool i_p_m_t_s_leq_w_178248 = slt64(i_p_m_t_s_178246, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool zzero_lte_i_178249 = sle64((int64_t) 0, final_buffer_178242);
    bool i_lte_j_178250 = sle64(final_buffer_178242, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool y_178251 = i_p_m_t_s_leq_w_178248 && zzero_lte_i_178249;
    bool y_178252 = zzero_leq_i_p_m_t_s_178247 && y_178251;
    bool forwards_ok_178253 = i_lte_j_178250 && y_178252;
    bool ok_or_empty_178254 = empty_slice_178244 || forwards_ok_178253;
    bool index_certs_178255;
    
    if (!ok_or_empty_178254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178242, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178256 = j_m_i_178243 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool empty_or_match_cert_178257;
    
    if (!dim_match_178256) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178243, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:380:63-73\n   #2  ftsort.fut:373:1-380:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181826, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "mem_181826")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182642 = 0; nest_i_182642 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; nest_i_182642++) {
        ((int8_t *) mem_181826.mem)[nest_i_182642] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181828, bytes_181827, "mem_181828")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182643 = 0; i_182643 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; i_182643++) {
        int64_t x_182644 = defunc_0_merge_pipeline_res_175536 + i_182643 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[i_182643] = x_182644;
    }
    for (int64_t nest_i_182645 = 0; nest_i_182645 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; nest_i_182645++) {
        ((int8_t *) mem_181826.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + nest_i_182645] = (int8_t) 1;
    }
    for (int64_t i_182646 = 0; i_182646 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; i_182646++) {
        int64_t x_182647 = defunc_0_merge_pipeline_res_175537 + i_182646 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + i_182646] = x_182647;
    }
    
    int64_t tmp_offs_182648 = (int64_t) 0;
    
    if (!(tmp_offs_182648 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182648 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t tmp_offs_182649 = (int64_t) 0;
    
    if (!(tmp_offs_182649 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182649 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    if (memblock_alloc(ctx, &mem_181830, bytes_181829, "mem_181830")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182650 = (int64_t) 0;
    
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint32_t *) a_list_mem_181032.mem, defunc_0_merge_pipeline_res_175536, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint32_t *) b_list_mem_181033.mem, defunc_0_merge_pipeline_res_175537, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t flat_dim_177627 = smallest_pow_2_geq_than_res_177616 * block_sizze_177626;
    bool x_182150 = !cond_177610;
    int64_t greatest_divisor_leq_than_arg1_177631 = mul64((int64_t) 2, block_sizze_177626);
    int64_t merge_block_sizze_177632;
    
    if (x_182150) {
        int64_t x_182152;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182152, (int64_t) 8, greatest_divisor_leq_than_arg1_177631) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177632 = x_182152;
    } else {
        merge_block_sizze_177632 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178307 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 0);
    int8_t index_concat_branch_178311 = btoi_bool_i8(index_concat_cmp_178307);
    int64_t index_concat_i_180451 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    int64_t index_primexp_180452 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180451);
    int64_t index_concat_branch_178305;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178305 = index_primexp_180452;
    } else {
        index_concat_branch_178305 = defunc_0_merge_pipeline_res_175536;
    }
    
    bool x_182146 = !index_concat_cmp_178307;
    bool protect_cond_conj_182156 = x_182146 && x_182150;
    int32_t index_concat_178298;
    
    if (protect_cond_conj_182156) {
        int32_t x_182148 = ((int32_t *) a_list_mem_181032.mem)[defunc_0_merge_pipeline_res_175536];
        
        index_concat_178298 = x_182148;
    } else {
        index_concat_178298 = 0;
    }
    
    bool protect_cond_conj_182157 = index_concat_cmp_178307 && x_182150;
    int32_t index_concat_180455;
    
    if (protect_cond_conj_182157) {
        int32_t x_182144 = ((int32_t *) b_list_mem_181033.mem)[index_primexp_180452];
        
        index_concat_180455 = x_182144;
    } else {
        index_concat_180455 = 0;
    }
    
    int32_t index_concat_branch_178299;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178299 = index_concat_180455;
    } else {
        index_concat_branch_178299 = index_concat_178298;
    }
    
    int8_t defunc_0_reduce_res_180686;
    int64_t defunc_0_reduce_res_180687;
    int32_t defunc_0_reduce_res_180688;
    
    if (x_182150) {
        int8_t x_182158;
        int64_t x_182159;
        int32_t x_182160;
        int8_t redout_180840;
        int64_t redout_180841;
        int32_t redout_180842;
        
        redout_180840 = index_concat_branch_178311;
        redout_180841 = index_concat_branch_178305;
        redout_180842 = index_concat_branch_178299;
        for (int64_t i_180843 = 0; i_180843 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564; i_180843++) {
            bool index_concat_cmp_180914 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, i_180843);
            int8_t index_concat_branch_180918 = btoi_bool_i8(index_concat_cmp_180914);
            int64_t index_concat_branch_180912;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180909 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t index_primexp_181002 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180909);
                
                index_concat_branch_180912 = index_primexp_181002;
            } else {
                int64_t index_primexp_181004 = add64(defunc_0_merge_pipeline_res_175536, i_180843);
                
                index_concat_branch_180912 = index_primexp_181004;
            }
            
            int32_t index_concat_branch_180906;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180903 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t slice_180999 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180903;
                int32_t index_concat_180904 = ((int32_t *) b_list_mem_181033.mem)[slice_180999];
                
                index_concat_branch_180906 = index_concat_180904;
            } else {
                int64_t slice_181000 = defunc_0_merge_pipeline_res_175536 + i_180843;
                int32_t index_concat_180905 = ((int32_t *) a_list_mem_181032.mem)[slice_181000];
                
                index_concat_branch_180906 = index_concat_180905;
            }
            
            bool eq_x_y_181017 = redout_180840 == (int8_t) 1;
            bool eq_x_zz_181018 = redout_180840 == (int8_t) 0;
            bool p_and_eq_x_y_181019 = index_concat_cmp_180914 && eq_x_y_181017;
            bool not_p_181020 = !index_concat_cmp_180914;
            bool p_and_eq_x_y_181021 = eq_x_zz_181018 && not_p_181020;
            bool cond_177650 = p_and_eq_x_y_181019 || p_and_eq_x_y_181021;
            bool defunc_0_leq_res_t_res_177651 = sle64(redout_180841, index_concat_branch_180912);
            bool defunc_0_leq_res_177652 = sle32(redout_180842, index_concat_branch_180906);
            bool x_177653 = cond_177650 && defunc_0_leq_res_t_res_177651;
            bool x_177654 = !cond_177650;
            bool y_177655 = defunc_0_leq_res_177652 && x_177654;
            bool defunc_0_leq_res_177656 = x_177653 || y_177655;
            int8_t defunc_0_op_res_177657;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177657 = index_concat_branch_180918;
            } else {
                defunc_0_op_res_177657 = redout_180840;
            }
            
            int64_t defunc_0_op_res_177658;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177658 = index_concat_branch_180912;
            } else {
                defunc_0_op_res_177658 = redout_180841;
            }
            
            int32_t defunc_0_op_res_177659;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177659 = index_concat_branch_180906;
            } else {
                defunc_0_op_res_177659 = redout_180842;
            }
            
            int8_t redout_tmp_182651 = defunc_0_op_res_177657;
            int64_t redout_tmp_182652 = defunc_0_op_res_177658;
            int32_t redout_tmp_182653 = defunc_0_op_res_177659;
            
            redout_180840 = redout_tmp_182651;
            redout_180841 = redout_tmp_182652;
            redout_180842 = redout_tmp_182653;
        }
        x_182158 = redout_180840;
        x_182159 = redout_180841;
        x_182160 = redout_180842;
        defunc_0_reduce_res_180686 = x_182158;
        defunc_0_reduce_res_180687 = x_182159;
        defunc_0_reduce_res_180688 = x_182160;
    } else {
        defunc_0_reduce_res_180686 = (int8_t) 0;
        defunc_0_reduce_res_180687 = (int64_t) 0;
        defunc_0_reduce_res_180688 = 0;
    }
    
    int64_t distance_177671 = add64((int64_t) 1, tmp_177669);
    int64_t binop_x_181833 = (int64_t) 8 * smallest_pow_2_geq_than_res_177616;
    int64_t bytes_181834 = block_sizze_177626 * binop_x_181833;
    int64_t binop_x_181836 = (int64_t) 4 * smallest_pow_2_geq_than_res_177616;
    int64_t bytes_181837 = block_sizze_177626 * binop_x_181836;
    int64_t bytes_181852 = (int64_t) 8 * block_sizze_177626;
    int64_t bytes_181854 = (int64_t) 4 * block_sizze_177626;
    bool loop_cond_177780 = slt64(block_sizze_177626, flat_dim_177627);
    bool zzero_177781 = merge_block_sizze_177632 == (int64_t) 0;
    bool nonzzero_177782 = !zzero_177781;
    
    if (cond_177610) {
        if (memblock_set(ctx, &ext_mem_182125, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &mem_181830, "mem_181830") != 0)
            return 1;
    } else {
        if (mem_181832_cached_sizze_182918 < flat_dim_177627) {
            err = lexical_realloc(ctx, &mem_181832, &mem_181832_cached_sizze_182918, flat_dim_177627);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181835_cached_sizze_182919 < bytes_181834) {
            err = lexical_realloc(ctx, &mem_181835, &mem_181835_cached_sizze_182919, bytes_181834);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181838_cached_sizze_182920 < bytes_181837) {
            err = lexical_realloc(ctx, &mem_181838, &mem_181838_cached_sizze_182920, bytes_181837);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181851_cached_sizze_182921 < block_sizze_177626) {
            err = lexical_realloc(ctx, &mem_181851, &mem_181851_cached_sizze_182921, block_sizze_177626);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181853_cached_sizze_182922 < bytes_181852) {
            err = lexical_realloc(ctx, &mem_181853, &mem_181853_cached_sizze_182922, bytes_181852);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_182923 < bytes_181854) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_182923, bytes_181854);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180860 = 0; i_180860 < smallest_pow_2_geq_than_res_177616; i_180860++) {
            int64_t zp_lhs_177679 = mul64(block_sizze_177626, i_180860);
            
            for (int64_t i_180850 = 0; i_180850 < block_sizze_177626; i_180850++) {
                int64_t k_177684 = add64(zp_lhs_177679, i_180850);
                bool cond_177685 = slt64(k_177684, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
                int8_t lifted_lambda_res_177686;
                int64_t lifted_lambda_res_177687;
                int32_t lifted_lambda_res_177688;
                
                if (cond_177685) {
                    bool x_180461 = sle64((int64_t) 0, k_177684);
                    bool bounds_check_180462 = cond_177685 && x_180461;
                    bool index_certs_180463;
                    
                    if (!bounds_check_180462) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177684, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180464 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, k_177684);
                    int8_t index_concat_branch_180465 = btoi_bool_i8(index_concat_cmp_180464);
                    int64_t index_concat_branch_180466;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180467 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t index_primexp_180468 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180467);
                        
                        index_concat_branch_180466 = index_primexp_180468;
                    } else {
                        int64_t index_primexp_180469 = add64(defunc_0_merge_pipeline_res_175536, k_177684);
                        
                        index_concat_branch_180466 = index_primexp_180469;
                    }
                    
                    int32_t index_concat_branch_180470;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180471 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t slice_180472 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180471;
                        int32_t index_concat_180473 = ((int32_t *) b_list_mem_181033.mem)[slice_180472];
                        
                        index_concat_branch_180470 = index_concat_180473;
                    } else {
                        int64_t slice_180474 = defunc_0_merge_pipeline_res_175536 + k_177684;
                        int32_t index_concat_180475 = ((int32_t *) a_list_mem_181032.mem)[slice_180474];
                        
                        index_concat_branch_180470 = index_concat_180475;
                    }
                    lifted_lambda_res_177686 = index_concat_branch_180465;
                    lifted_lambda_res_177687 = index_concat_branch_180466;
                    lifted_lambda_res_177688 = index_concat_branch_180470;
                } else {
                    lifted_lambda_res_177686 = defunc_0_reduce_res_180686;
                    lifted_lambda_res_177687 = defunc_0_reduce_res_180687;
                    lifted_lambda_res_177688 = defunc_0_reduce_res_180688;
                }
                ((int8_t *) mem_181851)[i_180850] = lifted_lambda_res_177686;
                ((int64_t *) mem_181853)[i_180850] = lifted_lambda_res_177687;
                ((int32_t *) mem_181855)[i_180850] = lifted_lambda_res_177688;
            }
            if (!cond_177668) {
                for (int64_t i_177701 = 0; i_177701 < distance_177671; i_177701++) {
                    int64_t gt_arg1_177705 = add64((int64_t) 1, i_177701);
                    bool x_177706 = sle64((int64_t) 0, gt_arg1_177705);
                    bool y_177707 = slt64(gt_arg1_177705, block_sizze_177626);
                    bool bounds_check_177708 = x_177706 && y_177707;
                    bool index_certs_177709;
                    
                    if (!bounds_check_177708) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177705, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177713 = slt64(i_177701, block_sizze_177626);
                    bool index_certs_177714;
                    
                    if (!y_177713) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177701, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177710 = ((int8_t *) mem_181851)[gt_arg1_177705];
                    int64_t gt_arg1_177711 = ((int64_t *) mem_181853)[gt_arg1_177705];
                    int32_t gt_arg1_177712 = ((int32_t *) mem_181855)[gt_arg1_177705];
                    int8_t gt_arg0_177715 = ((int8_t *) mem_181851)[i_177701];
                    int64_t gt_arg0_177716 = ((int64_t *) mem_181853)[i_177701];
                    int32_t gt_arg0_177717 = ((int32_t *) mem_181855)[i_177701];
                    bool cond_177718 = gt_arg0_177715 == gt_arg1_177710;
                    bool defunc_0_leq_res_t_res_177719 = sle64(gt_arg0_177716, gt_arg1_177711);
                    bool defunc_0_leq_res_177720 = sle32(gt_arg0_177717, gt_arg1_177712);
                    bool x_177721 = cond_177718 && defunc_0_leq_res_t_res_177719;
                    bool x_177722 = !cond_177718;
                    bool y_177723 = defunc_0_leq_res_177720 && x_177722;
                    bool defunc_0_leq_res_177724 = x_177721 || y_177723;
                    bool defunc_0_lifted_gt_res_177725 = !defunc_0_leq_res_177724;
                    bool s_177726;
                    int64_t s_177730;
                    bool loop_while_177731;
                    int64_t j_177735;
                    
                    loop_while_177731 = defunc_0_lifted_gt_res_177725;
                    j_177735 = i_177701;
                    while (loop_while_177731) {
                        bool x_177736 = sle64((int64_t) 0, j_177735);
                        bool y_177737 = slt64(j_177735, block_sizze_177626);
                        bool bounds_check_177738 = x_177736 && y_177737;
                        bool index_certs_177739;
                        
                        if (!bounds_check_177738) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177735, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177743 = add64((int64_t) 1, j_177735);
                        bool x_177744 = sle64((int64_t) 0, copy_arg0_177743);
                        bool y_177745 = slt64(copy_arg0_177743, block_sizze_177626);
                        bool bounds_check_177746 = x_177744 && y_177745;
                        bool index_certs_177747;
                        
                        if (!bounds_check_177746) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177743, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177740 = ((int8_t *) mem_181851)[j_177735];
                        int64_t copy_arg0_177741 = ((int64_t *) mem_181853)[j_177735];
                        int32_t copy_arg0_177742 = ((int32_t *) mem_181855)[j_177735];
                        int8_t copy_arg0_177748 = ((int8_t *) mem_181851)[copy_arg0_177743];
                        int64_t copy_arg0_177749 = ((int64_t *) mem_181853)[copy_arg0_177743];
                        int32_t copy_arg0_177750 = ((int32_t *) mem_181855)[copy_arg0_177743];
                        
                        ((int8_t *) mem_181851)[j_177735] = copy_arg0_177748;
                        ((int64_t *) mem_181853)[j_177735] = copy_arg0_177749;
                        ((int32_t *) mem_181855)[j_177735] = copy_arg0_177750;
                        ((int8_t *) mem_181851)[copy_arg0_177743] = copy_arg0_177740;
                        ((int64_t *) mem_181853)[copy_arg0_177743] = copy_arg0_177741;
                        ((int32_t *) mem_181855)[copy_arg0_177743] = copy_arg0_177742;
                        
                        int64_t tmp_177757 = sub64(j_177735, (int64_t) 1);
                        bool cond_177758 = sle64((int64_t) 0, tmp_177757);
                        bool loop_cond_177759;
                        
                        if (cond_177758) {
                            bool y_180479 = slt64(tmp_177757, block_sizze_177626);
                            bool bounds_check_180480 = cond_177758 && y_180479;
                            bool index_certs_180481;
                            
                            if (!bounds_check_180480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180476 = ((int8_t *) mem_181851)[j_177735];
                            int64_t gt_arg1_180477 = ((int64_t *) mem_181853)[j_177735];
                            int32_t gt_arg1_180478 = ((int32_t *) mem_181855)[j_177735];
                            int8_t gt_arg0_180482 = ((int8_t *) mem_181851)[tmp_177757];
                            int64_t gt_arg0_180483 = ((int64_t *) mem_181853)[tmp_177757];
                            int32_t gt_arg0_180484 = ((int32_t *) mem_181855)[tmp_177757];
                            bool cond_180485 = gt_arg0_180482 == gt_arg1_180476;
                            bool defunc_0_leq_res_t_res_180486 = sle64(gt_arg0_180483, gt_arg1_180477);
                            bool defunc_0_leq_res_180487 = sle32(gt_arg0_180484, gt_arg1_180478);
                            bool x_180488 = cond_180485 && defunc_0_leq_res_t_res_180486;
                            bool x_180489 = !cond_180485;
                            bool y_180490 = defunc_0_leq_res_180487 && x_180489;
                            bool defunc_0_leq_res_180491 = x_180488 || y_180490;
                            bool defunc_0_lifted_gt_res_180492 = !defunc_0_leq_res_180491;
                            
                            loop_cond_177759 = defunc_0_lifted_gt_res_180492;
                        } else {
                            loop_cond_177759 = 0;
                        }
                        
                        bool loop_while_tmp_182663 = loop_cond_177759;
                        int64_t j_tmp_182667 = tmp_177757;
                        
                        loop_while_177731 = loop_while_tmp_182663;
                        j_177735 = j_tmp_182667;
                    }
                    s_177726 = loop_while_177731;
                    s_177730 = j_177735;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181832, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181851, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181835, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181853, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181838, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181855, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
        }
        if (memblock_alloc(ctx, &mem_181932, flat_dim_177627, "mem_181932")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181932.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint8_t *) mem_181832, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181936, bytes_181834, "mem_181936")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181936.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint64_t *) mem_181835, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181940, bytes_181837, "mem_181940")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_4b(ctx, 2, (uint32_t *) mem_181940.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint32_t *) mem_181838, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        
        int64_t data_177783;
        bool data_177784;
        int64_t data_177788;
        int64_t loop_dz2084Uz2082U_177789;
        bool loop_while_177790;
        int64_t stride_177794;
        
        if (memblock_set(ctx, &mem_param_181944, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181947, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181950, &mem_181940, "mem_181940") != 0)
            return 1;
        loop_dz2084Uz2082U_177789 = flat_dim_177627;
        loop_while_177790 = loop_cond_177780;
        stride_177794 = block_sizze_177626;
        while (loop_while_177790) {
            int64_t next_stride_177795 = mul64((int64_t) 2, stride_177794);
            bool zzero_177796 = next_stride_177795 == (int64_t) 0;
            bool nonzzero_177797 = !zzero_177796;
            bool nonzzero_cert_177798;
            
            if (!nonzzero_177797) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:380:63-73\n   #4  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177799 = sdiv64(flat_dim_177627, next_stride_177795);
            bool bounds_invalid_upwards_177800 = slt64(num_merges_177799, (int64_t) 0);
            bool valid_177801 = !bounds_invalid_upwards_177800;
            bool range_valid_c_177802;
            
            if (!valid_177801) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177799, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177804 = sub64(next_stride_177795, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177805 = sle64((int64_t) 0, m_177804);
            bool cond_177807 = slt64(next_stride_177795, (int64_t) 10);
            bool protect_assert_disj_177808 = nonzzero_177782 || cond_177807;
            bool nonzzero_cert_177809;
            
            if (!protect_assert_disj_177808) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177810 = smod_safe64(next_stride_177795, merge_block_sizze_177632);
            bool num_blocks_177811 = zeze_lhs_177810 == (int64_t) 0;
            bool protect_assert_disj_177812 = cond_177807 || num_blocks_177811;
            bool assert_c_177813;
            
            if (!protect_assert_disj_177812) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177815 = sdiv_safe64(next_stride_177795, merge_block_sizze_177632);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816 = add64((int64_t) 1, num_blocks_177815);
            int64_t j_m_i_177817 = sub64(next_stride_177795, stride_177794);
            int64_t flat_dim_177818 = merge_block_sizze_177632 * num_blocks_177815;
            bool bounds_invalid_upwards_177819 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, (int64_t) 0);
            bool empty_slice_177820 = j_m_i_177817 == (int64_t) 0;
            int64_t m_177821 = sub64(j_m_i_177817, (int64_t) 1);
            bool zzero_lte_i_177822 = sle64((int64_t) 0, stride_177794);
            bool i_lte_j_177823 = sle64(stride_177794, next_stride_177795);
            bool empty_slice_177824 = stride_177794 == (int64_t) 0;
            int64_t m_177825 = sub64(stride_177794, (int64_t) 1);
            bool bounds_invalid_upwards_177826 = slt64(num_blocks_177815, (int64_t) 0);
            bool cond_177827 = slt64((int64_t) 0, stride_177794);
            bool valid_177828 = !bounds_invalid_upwards_177819;
            int64_t i_p_m_t_s_177829 = add64(stride_177794, m_177821);
            bool zzero_leq_i_p_m_t_s_177830 = sle64((int64_t) 0, m_177825);
            bool i_p_m_t_s_leq_w_177831 = slt64(m_177825, next_stride_177795);
            bool valid_177832 = !bounds_invalid_upwards_177826;
            bool i_p_m_t_s_leq_w_177833 = slt64(m_177804, flat_dim_177818);
            bool y_177834 = slt64((int64_t) 0, j_m_i_177817);
            bool protect_assert_disj_177835 = cond_177807 || valid_177828;
            bool range_valid_c_177836;
            
            if (!protect_assert_disj_177835) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177837 = sle64((int64_t) 0, i_p_m_t_s_177829);
            bool i_p_m_t_s_leq_w_177838 = slt64(i_p_m_t_s_177829, next_stride_177795);
            bool y_177839 = zzero_leq_i_p_m_t_s_177830 && i_p_m_t_s_leq_w_177831;
            bool protect_assert_disj_177840 = cond_177807 || valid_177832;
            bool range_valid_c_177841;
            
            if (!protect_assert_disj_177840) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177815, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177842 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177833;
            bool y_177843 = zzero_lte_i_177822 && i_p_m_t_s_leq_w_177838;
            bool forwards_ok_177844 = zzero_lte_i_177822 && y_177839;
            bool ok_or_empty_177845 = zzero_177796 || y_177842;
            bool protect_assert_disj_177846 = cond_177827 || y_177834;
            bool y_177847 = zzero_leq_i_p_m_t_s_177837 && y_177843;
            bool ok_or_empty_177848 = empty_slice_177824 || forwards_ok_177844;
            bool protect_assert_disj_177849 = cond_177807 || ok_or_empty_177845;
            bool index_certs_177850;
            
            if (!protect_assert_disj_177849) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) flat_dim_177818, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177851 = !cond_177807;
            bool protect_assert_disj_177852 = protect_assert_disj_177846 || loop_not_taken_177851;
            bool index_certs_177853;
            
            if (!protect_assert_disj_177852) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177854 = i_lte_j_177823 && y_177847;
            bool protect_assert_disj_177855 = cond_177807 || ok_or_empty_177848;
            bool index_certs_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177857 = ok_or_empty_177848 || loop_not_taken_177851;
            bool index_certs_177858;
            
            if (!protect_assert_disj_177857) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177859 = empty_slice_177820 || forwards_ok_177854;
            bool protect_assert_disj_177860 = cond_177807 || ok_or_empty_177859;
            bool index_certs_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177862 = loop_not_taken_177851 || ok_or_empty_177859;
            bool index_certs_177863;
            
            if (!protect_assert_disj_177862) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181951 = next_stride_177795 * num_merges_177799;
            int64_t binop_x_181953 = (int64_t) 8 * num_merges_177799;
            int64_t bytes_181954 = next_stride_177795 * binop_x_181953;
            int64_t binop_x_181956 = (int64_t) 4 * num_merges_177799;
            int64_t bytes_181957 = next_stride_177795 * binop_x_181956;
            bool i_lte_j_177806 = sle64((int64_t) 0, next_stride_177795);
            
            if (mem_181952_cached_sizze_182924 < bytes_181951) {
                err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_182924, bytes_181951);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181955_cached_sizze_182925 < bytes_181954) {
                err = lexical_realloc(ctx, &mem_181955, &mem_181955_cached_sizze_182925, bytes_181954);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181958_cached_sizze_182926 < bytes_181957) {
                err = lexical_realloc(ctx, &mem_181958, &mem_181958_cached_sizze_182926, bytes_181957);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181971 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816;
            int64_t binop_x_181989 = (int64_t) 8 * num_blocks_177815;
            int64_t bytes_181990 = merge_block_sizze_177632 * binop_x_181989;
            int64_t binop_x_181992 = (int64_t) 4 * num_blocks_177815;
            int64_t bytes_181993 = merge_block_sizze_177632 * binop_x_181992;
            int64_t bytes_182054 = (int64_t) 16 * stride_177794;
            int64_t bytes_182056 = (int64_t) 8 * stride_177794;
            
            for (int64_t i_180887 = 0; i_180887 < num_merges_177799; i_180887++) {
                int64_t start_177868 = mul64(next_stride_177795, i_180887);
                int64_t j_m_i_177869 = sub64(loop_dz2084Uz2082U_177789, start_177868);
                bool empty_slice_177870 = j_m_i_177869 == (int64_t) 0;
                int64_t m_177871 = sub64(j_m_i_177869, (int64_t) 1);
                int64_t i_p_m_t_s_177872 = add64(start_177868, m_177871);
                bool zzero_leq_i_p_m_t_s_177873 = sle64((int64_t) 0, i_p_m_t_s_177872);
                bool i_p_m_t_s_leq_w_177874 = slt64(i_p_m_t_s_177872, loop_dz2084Uz2082U_177789);
                bool zzero_lte_i_177875 = sle64((int64_t) 0, start_177868);
                bool i_lte_j_177876 = sle64(start_177868, loop_dz2084Uz2082U_177789);
                bool y_177877 = i_p_m_t_s_leq_w_177874 && zzero_lte_i_177875;
                bool y_177878 = zzero_leq_i_p_m_t_s_177873 && y_177877;
                bool forwards_ok_177879 = i_lte_j_177876 && y_177878;
                bool ok_or_empty_177880 = empty_slice_177870 || forwards_ok_177879;
                bool index_certs_177881;
                
                if (!ok_or_empty_177880) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177868, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177789, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177882 = slt64(m_177804, j_m_i_177869);
                bool y_177883 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177882;
                bool forwards_ok_177884 = i_lte_j_177806 && y_177883;
                bool ok_or_empty_177885 = zzero_177796 || forwards_ok_177884;
                bool index_certs_177886;
                
                if (!ok_or_empty_177885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) j_m_i_177869, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:380:63-73\n   #7  ftsort.fut:373:1-380:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177807) {
                    int8_t dummy_180531;
                    int64_t dummy_180532;
                    int32_t dummy_180533;
                    
                    if (cond_177827) {
                        int8_t head_res_180534 = ((int8_t *) mem_param_181944.mem)[start_177868];
                        int64_t head_res_180535 = ((int64_t *) mem_param_181947.mem)[start_177868];
                        int32_t head_res_180536 = ((int32_t *) mem_param_181950.mem)[start_177868];
                        
                        dummy_180531 = head_res_180534;
                        dummy_180532 = head_res_180535;
                        dummy_180533 = head_res_180536;
                    } else {
                        int64_t slice_180537 = stride_177794 + start_177868;
                        int8_t head_res_180538 = ((int8_t *) mem_param_181944.mem)[slice_180537];
                        int64_t head_res_180539 = ((int64_t *) mem_param_181947.mem)[slice_180537];
                        int32_t head_res_180540 = ((int32_t *) mem_param_181950.mem)[slice_180537];
                        
                        dummy_180531 = head_res_180538;
                        dummy_180532 = head_res_180539;
                        dummy_180533 = head_res_180540;
                    }
                    if (memblock_alloc(ctx, &mem_182053, next_stride_177795, "mem_182053")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182680 = 0; nest_i_182680 < next_stride_177795; nest_i_182680++) {
                        ((int8_t *) mem_182053.mem)[nest_i_182680] = dummy_180531;
                    }
                    if (memblock_alloc(ctx, &mem_182055, bytes_182054, "mem_182055")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182681 = 0; nest_i_182681 < next_stride_177795; nest_i_182681++) {
                        ((int64_t *) mem_182055.mem)[nest_i_182681] = dummy_180532;
                    }
                    if (memblock_alloc(ctx, &mem_182057, bytes_182056, "mem_182057")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182682 = 0; nest_i_182682 < next_stride_177795; nest_i_182682++) {
                        ((int32_t *) mem_182057.mem)[nest_i_182682] = dummy_180533;
                    }
                    
                    int64_t data_180544;
                    int64_t i_180549 = (int64_t) 0;
                    
                    for (int64_t k_180548 = 0; k_180548 < next_stride_177795; k_180548++) {
                        int64_t j_180553 = sub64(k_180548, i_180549);
                        bool cond_180554 = j_180553 == j_m_i_177817;
                        bool cond_180555;
                        
                        if (cond_180554) {
                            cond_180555 = 1;
                        } else {
                            bool cond_180556 = slt64(i_180549, stride_177794);
                            bool cond_f_res_180557;
                            
                            if (cond_180556) {
                                bool x_180558 = sle64((int64_t) 0, j_180553);
                                bool y_180559 = slt64(j_180553, j_m_i_177817);
                                bool bounds_check_180560 = x_180558 && y_180559;
                                bool index_certs_180561;
                                
                                if (!bounds_check_180560) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180567 = sle64((int64_t) 0, i_180549);
                                bool bounds_check_180568 = cond_180556 && x_180567;
                                bool index_certs_180569;
                                
                                if (!bounds_check_180568) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180562 = stride_177794 + j_180553;
                                int64_t slice_180563 = start_177868 + slice_180562;
                                int8_t leq_arg1_180564 = ((int8_t *) mem_param_181944.mem)[slice_180563];
                                int64_t leq_arg1_180565 = ((int64_t *) mem_param_181947.mem)[slice_180563];
                                int32_t leq_arg1_180566 = ((int32_t *) mem_param_181950.mem)[slice_180563];
                                int64_t slice_180570 = start_177868 + i_180549;
                                int8_t leq_arg0_180571 = ((int8_t *) mem_param_181944.mem)[slice_180570];
                                int64_t leq_arg0_180572 = ((int64_t *) mem_param_181947.mem)[slice_180570];
                                int32_t leq_arg0_180573 = ((int32_t *) mem_param_181950.mem)[slice_180570];
                                bool cond_180574 = leq_arg0_180571 == leq_arg1_180564;
                                bool defunc_0_leq_res_t_res_180575 = sle64(leq_arg0_180572, leq_arg1_180565);
                                bool defunc_0_leq_res_180576 = sle32(leq_arg0_180573, leq_arg1_180566);
                                bool x_180577 = cond_180574 && defunc_0_leq_res_t_res_180575;
                                bool x_180578 = !cond_180574;
                                bool y_180579 = defunc_0_leq_res_180576 && x_180578;
                                bool defunc_0_leq_res_180580 = x_180577 || y_180579;
                                
                                cond_f_res_180557 = defunc_0_leq_res_180580;
                            } else {
                                cond_f_res_180557 = 0;
                            }
                            cond_180555 = cond_f_res_180557;
                        }
                        
                        int64_t loopres_180581;
                        int8_t loopres_180582;
                        int64_t loopres_180583;
                        int32_t loopres_180584;
                        
                        if (cond_180555) {
                            bool x_180586 = sle64((int64_t) 0, i_180549);
                            bool y_180587 = slt64(i_180549, stride_177794);
                            bool bounds_check_180588 = x_180586 && y_180587;
                            bool index_certs_180589;
                            
                            if (!bounds_check_180588) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180585 = add64((int64_t) 1, i_180549);
                            int64_t slice_180590 = start_177868 + i_180549;
                            int8_t tmp_180591 = ((int8_t *) mem_param_181944.mem)[slice_180590];
                            int64_t tmp_180592 = ((int64_t *) mem_param_181947.mem)[slice_180590];
                            int32_t tmp_180593 = ((int32_t *) mem_param_181950.mem)[slice_180590];
                            
                            loopres_180581 = tmp_180585;
                            loopres_180582 = tmp_180591;
                            loopres_180583 = tmp_180592;
                            loopres_180584 = tmp_180593;
                        } else {
                            bool x_180594 = sle64((int64_t) 0, j_180553);
                            bool y_180595 = slt64(j_180553, j_m_i_177817);
                            bool bounds_check_180596 = x_180594 && y_180595;
                            bool index_certs_180597;
                            
                            if (!bounds_check_180596) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:380:63-73\n   #8  ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180598 = stride_177794 + j_180553;
                            int64_t slice_180599 = start_177868 + slice_180598;
                            int8_t tmp_180600 = ((int8_t *) mem_param_181944.mem)[slice_180599];
                            int64_t tmp_180601 = ((int64_t *) mem_param_181947.mem)[slice_180599];
                            int32_t tmp_180602 = ((int32_t *) mem_param_181950.mem)[slice_180599];
                            
                            loopres_180581 = i_180549;
                            loopres_180582 = tmp_180600;
                            loopres_180583 = tmp_180601;
                            loopres_180584 = tmp_180602;
                        }
                        ((int8_t *) mem_182053.mem)[k_180548] = loopres_180582;
                        ((int64_t *) mem_182055.mem)[k_180548] = loopres_180583;
                        ((int32_t *) mem_182057.mem)[k_180548] = loopres_180584;
                        
                        int64_t i_tmp_182683 = loopres_180581;
                        
                        i_180549 = i_tmp_182683;
                    }
                    data_180544 = i_180549;
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182053, "mem_182053") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182055, "mem_182055") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182057, "mem_182057") != 0)
                        return 1;
                } else {
                    if (mem_181972_cached_sizze_182927 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_182927, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181974_cached_sizze_182928 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181974, &mem_181974_cached_sizze_182928, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180868 = 0; i_180868 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816; i_180868++) {
                        int64_t split_count_arg3_177969 = mul64(merge_block_sizze_177632, i_180868);
                        int64_t defunc_0_split_count_res_177970;
                        int64_t defunc_0_split_count_res_177971;
                        int64_t defunc_0_split_count_res_177972;
                        int64_t defunc_0_split_count_res_177973;
                        int64_t defunc_0_split_count_res_177974;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177970, &defunc_0_split_count_res_177971, &defunc_0_split_count_res_177972, &defunc_0_split_count_res_177973, &defunc_0_split_count_res_177974, (int64_t) 0, stride_177794, (int64_t) 0, j_m_i_177817, split_count_arg3_177969) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177975 = slt64((int64_t) 0, defunc_0_split_count_res_177974);
                        bool defunc_0_split_count_res_177976;
                        int64_t defunc_0_split_count_res_177977;
                        int64_t defunc_0_split_count_res_177978;
                        int64_t defunc_0_split_count_res_177979;
                        int64_t defunc_0_split_count_res_177980;
                        int64_t defunc_0_split_count_res_177981;
                        bool loop_while_177982;
                        int64_t ss_177983;
                        int64_t ss_177984;
                        int64_t tt_177985;
                        int64_t tt_177986;
                        int64_t count_177987;
                        
                        loop_while_177982 = loop_cond_177975;
                        ss_177983 = defunc_0_split_count_res_177970;
                        ss_177984 = defunc_0_split_count_res_177971;
                        tt_177985 = defunc_0_split_count_res_177972;
                        tt_177986 = defunc_0_split_count_res_177973;
                        count_177987 = defunc_0_split_count_res_177974;
                        while (loop_while_177982) {
                            int64_t zlze_lhs_177988 = sub64(ss_177984, ss_177983);
                            bool cond_177989 = sle64(zlze_lhs_177988, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177990;
                            int64_t defunc_0_lifted_step_res_177991;
                            int64_t defunc_0_lifted_step_res_177992;
                            int64_t defunc_0_lifted_step_res_177993;
                            
                            if (cond_177989) {
                                int64_t tmp_180606 = add64(tt_177985, count_177987);
                                
                                defunc_0_lifted_step_res_177990 = ss_177983;
                                defunc_0_lifted_step_res_177991 = tmp_180606;
                                defunc_0_lifted_step_res_177992 = tt_177986;
                                defunc_0_lifted_step_res_177993 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177995 = sub64(tt_177986, tt_177985);
                                bool cond_177996 = sle64(zlze_lhs_177995, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177997;
                                int64_t defunc_0_lifted_step_res_f_res_177998;
                                int64_t defunc_0_lifted_step_res_f_res_177999;
                                int64_t defunc_0_lifted_step_res_f_res_178000;
                                
                                if (cond_177996) {
                                    int64_t tmp_180607 = add64(ss_177983, count_177987);
                                    
                                    defunc_0_lifted_step_res_f_res_177997 = tmp_180607;
                                    defunc_0_lifted_step_res_f_res_177998 = tt_177985;
                                    defunc_0_lifted_step_res_f_res_177999 = tt_177986;
                                    defunc_0_lifted_step_res_f_res_178000 = (int64_t) 0;
                                } else {
                                    bool cond_178002 = count_177987 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178003;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178004;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178005;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178006;
                                    
                                    if (cond_178002) {
                                        bool x_180609 = sle64((int64_t) 0, ss_177983);
                                        bool y_180610 = slt64(ss_177983, stride_177794);
                                        bool bounds_check_180611 = x_180609 && y_180610;
                                        bool index_certs_180612;
                                        
                                        if (!bounds_check_180611) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177983, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180617 = sle64((int64_t) 0, tt_177985);
                                        bool y_180618 = slt64(tt_177985, j_m_i_177817);
                                        bool bounds_check_180619 = x_180617 && y_180618;
                                        bool index_certs_180620;
                                        
                                        if (!bounds_check_180619) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177985, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180613 = start_177868 + ss_177983;
                                        int8_t leq_arg1_180614 = ((int8_t *) mem_param_181944.mem)[slice_180613];
                                        int64_t leq_arg1_180615 = ((int64_t *) mem_param_181947.mem)[slice_180613];
                                        int32_t leq_arg1_180616 = ((int32_t *) mem_param_181950.mem)[slice_180613];
                                        int64_t slice_180621 = stride_177794 + tt_177985;
                                        int64_t slice_180622 = start_177868 + slice_180621;
                                        int8_t leq_arg0_180623 = ((int8_t *) mem_param_181944.mem)[slice_180622];
                                        int64_t leq_arg0_180624 = ((int64_t *) mem_param_181947.mem)[slice_180622];
                                        int32_t leq_arg0_180625 = ((int32_t *) mem_param_181950.mem)[slice_180622];
                                        bool cond_180626 = leq_arg0_180623 == leq_arg1_180614;
                                        bool defunc_0_leq_res_t_res_180627 = sle64(leq_arg0_180624, leq_arg1_180615);
                                        bool defunc_0_leq_res_180628 = sle32(leq_arg0_180625, leq_arg1_180616);
                                        bool x_180629 = cond_180626 && defunc_0_leq_res_t_res_180627;
                                        bool x_180630 = !cond_180626;
                                        bool y_180631 = defunc_0_leq_res_180628 && x_180630;
                                        bool defunc_0_leq_res_180632 = x_180629 || y_180631;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        
                                        if (defunc_0_leq_res_180632) {
                                            int64_t tmp_180635 = add64((int64_t) 1, tt_177985);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = ss_177983;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tmp_180635;
                                        } else {
                                            int64_t tmp_180636 = add64((int64_t) 1, ss_177983);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = tmp_180636;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tt_177985;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = tt_177986;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = (int64_t) 0;
                                    } else {
                                        int64_t m_178035 = sdiv64(count_177987, (int64_t) 2);
                                        int64_t n_178036 = sub64(count_177987, m_178035);
                                        bool cond_178037 = n_178036 == (int64_t) 0;
                                        int64_t zgze_lhs_178038 = add64(ss_177983, m_178035);
                                        bool cond_f_res_178039 = sle64(ss_177984, zgze_lhs_178038);
                                        bool x_178040 = !cond_178037;
                                        bool y_178041 = cond_f_res_178039 && x_178040;
                                        bool cond_178042 = cond_178037 || y_178041;
                                        bool leq_y_x_178043;
                                        
                                        if (cond_178042) {
                                            leq_y_x_178043 = 1;
                                        } else {
                                            bool x_178044 = sle64((int64_t) 0, zgze_lhs_178038);
                                            bool y_178045 = slt64(zgze_lhs_178038, stride_177794);
                                            bool bounds_check_178046 = x_178044 && y_178045;
                                            bool index_certs_178047;
                                            
                                            if (!bounds_check_178046) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178038, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178052 = add64(tt_177985, n_178036);
                                            int64_t leq_arg0_178053 = sub64(zm_lhs_178052, (int64_t) 1);
                                            bool x_178054 = sle64((int64_t) 0, leq_arg0_178053);
                                            bool y_178055 = slt64(leq_arg0_178053, j_m_i_177817);
                                            bool bounds_check_178056 = x_178054 && y_178055;
                                            bool index_certs_178057;
                                            
                                            if (!bounds_check_178056) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178053, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:380:63-73\n   #12 ftsort.fut:373:1-380:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178048 = start_177868 + zgze_lhs_178038;
                                            int8_t leq_arg1_178049 = ((int8_t *) mem_param_181944.mem)[slice_178048];
                                            int64_t leq_arg1_178050 = ((int64_t *) mem_param_181947.mem)[slice_178048];
                                            int32_t leq_arg1_178051 = ((int32_t *) mem_param_181950.mem)[slice_178048];
                                            int64_t slice_178058 = stride_177794 + leq_arg0_178053;
                                            int64_t slice_178059 = start_177868 + slice_178058;
                                            int8_t leq_arg0_178060 = ((int8_t *) mem_param_181944.mem)[slice_178059];
                                            int64_t leq_arg0_178061 = ((int64_t *) mem_param_181947.mem)[slice_178059];
                                            int32_t leq_arg0_178062 = ((int32_t *) mem_param_181950.mem)[slice_178059];
                                            bool cond_178063 = leq_arg0_178060 == leq_arg1_178049;
                                            bool defunc_0_leq_res_t_res_178064 = sle64(leq_arg0_178061, leq_arg1_178050);
                                            bool defunc_0_leq_res_178065 = sle32(leq_arg0_178062, leq_arg1_178051);
                                            bool x_178066 = cond_178063 && defunc_0_leq_res_t_res_178064;
                                            bool x_178067 = !cond_178063;
                                            bool y_178068 = defunc_0_leq_res_178065 && x_178067;
                                            bool defunc_0_leq_res_178069 = x_178066 || y_178068;
                                            
                                            leq_y_x_178043 = defunc_0_leq_res_178069;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                        
                                        if (leq_y_x_178043) {
                                            int64_t tmp_180637 = add64(tt_177985, n_178036);
                                            int64_t tmp_180638 = sub64(count_177987, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tmp_180637;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tt_177986;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = tmp_180638;
                                        } else {
                                            int64_t tmp_178075 = add64(tt_177985, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tt_177985;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tmp_178075;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = count_177987;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = ss_177983;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                    }
                                    defunc_0_lifted_step_res_f_res_177997 = defunc_0_lifted_step_res_f_res_f_res_178003;
                                    defunc_0_lifted_step_res_f_res_177998 = defunc_0_lifted_step_res_f_res_f_res_178004;
                                    defunc_0_lifted_step_res_f_res_177999 = defunc_0_lifted_step_res_f_res_f_res_178005;
                                    defunc_0_lifted_step_res_f_res_178000 = defunc_0_lifted_step_res_f_res_f_res_178006;
                                }
                                defunc_0_lifted_step_res_177990 = defunc_0_lifted_step_res_f_res_177997;
                                defunc_0_lifted_step_res_177991 = defunc_0_lifted_step_res_f_res_177998;
                                defunc_0_lifted_step_res_177992 = defunc_0_lifted_step_res_f_res_177999;
                                defunc_0_lifted_step_res_177993 = defunc_0_lifted_step_res_f_res_178000;
                            }
                            
                            int64_t loopres_178076;
                            int64_t loopres_178077;
                            int64_t loopres_178078;
                            int64_t loopres_178079;
                            int64_t loopres_178080;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_178076, &loopres_178077, &loopres_178078, &loopres_178079, &loopres_178080, defunc_0_lifted_step_res_177990, ss_177984, defunc_0_lifted_step_res_177991, defunc_0_lifted_step_res_177992, defunc_0_lifted_step_res_177993) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178081 = slt64((int64_t) 0, loopres_178080);
                            bool loop_while_tmp_182689 = loop_cond_178081;
                            int64_t ss_tmp_182690 = loopres_178076;
                            int64_t ss_tmp_182691 = loopres_178077;
                            int64_t tt_tmp_182692 = loopres_178078;
                            int64_t tt_tmp_182693 = loopres_178079;
                            int64_t count_tmp_182694 = loopres_178080;
                            
                            loop_while_177982 = loop_while_tmp_182689;
                            ss_177983 = ss_tmp_182690;
                            ss_177984 = ss_tmp_182691;
                            tt_177985 = tt_tmp_182692;
                            tt_177986 = tt_tmp_182693;
                            count_177987 = count_tmp_182694;
                        }
                        defunc_0_split_count_res_177976 = loop_while_177982;
                        defunc_0_split_count_res_177977 = ss_177983;
                        defunc_0_split_count_res_177978 = ss_177984;
                        defunc_0_split_count_res_177979 = tt_177985;
                        defunc_0_split_count_res_177980 = tt_177986;
                        defunc_0_split_count_res_177981 = count_177987;
                        ((int64_t *) mem_181972)[i_180868] = defunc_0_split_count_res_177977;
                        ((int64_t *) mem_181974)[i_180868] = defunc_0_split_count_res_177979;
                    }
                    if (mem_181988_cached_sizze_182929 < flat_dim_177818) {
                        err = lexical_realloc(ctx, &mem_181988, &mem_181988_cached_sizze_182929, flat_dim_177818);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181991_cached_sizze_182930 < bytes_181990) {
                        err = lexical_realloc(ctx, &mem_181991, &mem_181991_cached_sizze_182930, bytes_181990);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_182931 < bytes_181993) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_182931, bytes_181993);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180877 = 0; i_180877 < num_blocks_177815; i_180877++) {
                        bool y_178088 = slt64(i_180877, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool index_certs_178090;
                        
                        if (!y_178088) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180877, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178091 = ((int64_t *) mem_181972)[i_180877];
                        int64_t defunc_0_f_res_178092 = ((int64_t *) mem_181974)[i_180877];
                        int64_t tmp_178093 = add64((int64_t) 1, i_180877);
                        bool x_178094 = sle64((int64_t) 0, tmp_178093);
                        bool y_178095 = slt64(tmp_178093, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool bounds_check_178096 = x_178094 && y_178095;
                        bool index_certs_178097;
                        
                        if (!bounds_check_178096) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178093, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178098 = ((int64_t *) mem_181972)[tmp_178093];
                        int64_t defunc_0_f_res_178099 = ((int64_t *) mem_181974)[tmp_178093];
                        int64_t merge_sequential_arg2_178100 = add64(stride_177794, defunc_0_f_res_178092);
                        int64_t merge_sequential_arg2_178101 = add64(stride_177794, defunc_0_f_res_178099);
                        int64_t j_m_i_178102 = sub64(merge_sequential_arg2_178101, merge_sequential_arg2_178100);
                        bool empty_slice_178103 = j_m_i_178102 == (int64_t) 0;
                        int64_t m_178104 = sub64(j_m_i_178102, (int64_t) 1);
                        int64_t i_p_m_t_s_178105 = add64(merge_sequential_arg2_178100, m_178104);
                        bool zzero_leq_i_p_m_t_s_178106 = sle64((int64_t) 0, i_p_m_t_s_178105);
                        bool i_p_m_t_s_leq_w_178107 = slt64(i_p_m_t_s_178105, next_stride_177795);
                        bool zzero_lte_i_178108 = sle64((int64_t) 0, merge_sequential_arg2_178100);
                        bool i_lte_j_178109 = sle64(merge_sequential_arg2_178100, merge_sequential_arg2_178101);
                        bool y_178110 = i_p_m_t_s_leq_w_178107 && zzero_lte_i_178108;
                        bool y_178111 = zzero_leq_i_p_m_t_s_178106 && y_178110;
                        bool forwards_ok_178112 = i_lte_j_178109 && y_178111;
                        bool ok_or_empty_178113 = empty_slice_178103 || forwards_ok_178112;
                        bool index_certs_178114;
                        
                        if (!ok_or_empty_178113) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178100, ":", (long long) merge_sequential_arg2_178101, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178115 = sub64(defunc_0_f_res_178098, defunc_0_f_res_178091);
                        bool empty_slice_178116 = j_m_i_178115 == (int64_t) 0;
                        int64_t m_178117 = sub64(j_m_i_178115, (int64_t) 1);
                        int64_t i_p_m_t_s_178118 = add64(defunc_0_f_res_178091, m_178117);
                        bool zzero_leq_i_p_m_t_s_178119 = sle64((int64_t) 0, i_p_m_t_s_178118);
                        bool i_p_m_t_s_leq_w_178120 = slt64(i_p_m_t_s_178118, next_stride_177795);
                        bool zzero_lte_i_178121 = sle64((int64_t) 0, defunc_0_f_res_178091);
                        bool i_lte_j_178122 = sle64(defunc_0_f_res_178091, defunc_0_f_res_178098);
                        bool y_178123 = i_p_m_t_s_leq_w_178120 && zzero_lte_i_178121;
                        bool y_178124 = zzero_leq_i_p_m_t_s_178119 && y_178123;
                        bool forwards_ok_178125 = i_lte_j_178122 && y_178124;
                        bool ok_or_empty_178126 = empty_slice_178116 || forwards_ok_178125;
                        bool index_certs_178127;
                        
                        if (!ok_or_empty_178126) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178091, ":", (long long) defunc_0_f_res_178098, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:380:63-73\n   #9  ftsort.fut:373:1-380:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178128 = slt64((int64_t) 0, j_m_i_178115);
                        int8_t dummy_178129;
                        int64_t dummy_178130;
                        int32_t dummy_178131;
                        
                        if (cond_178128) {
                            bool index_certs_180639;
                            
                            if (!cond_178128) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180640 = start_177868 + defunc_0_f_res_178091;
                            int8_t head_res_180641 = ((int8_t *) mem_param_181944.mem)[slice_180640];
                            int64_t head_res_180642 = ((int64_t *) mem_param_181947.mem)[slice_180640];
                            int32_t head_res_180643 = ((int32_t *) mem_param_181950.mem)[slice_180640];
                            
                            dummy_178129 = head_res_180641;
                            dummy_178130 = head_res_180642;
                            dummy_178131 = head_res_180643;
                        } else {
                            bool y_178137 = slt64((int64_t) 0, j_m_i_178102);
                            bool index_certs_178138;
                            
                            if (!y_178137) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:380:63-73\n   #11 ftsort.fut:373:1-380:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178139 = start_177868 + merge_sequential_arg2_178100;
                            int8_t head_res_178140 = ((int8_t *) mem_param_181944.mem)[slice_178139];
                            int64_t head_res_178141 = ((int64_t *) mem_param_181947.mem)[slice_178139];
                            int32_t head_res_178142 = ((int32_t *) mem_param_181950.mem)[slice_178139];
                            
                            dummy_178129 = head_res_178140;
                            dummy_178130 = head_res_178141;
                            dummy_178131 = head_res_178142;
                        }
                        for (int64_t nest_i_182698 = 0; nest_i_182698 < merge_block_sizze_177632; nest_i_182698++) {
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + nest_i_182698] = dummy_178129;
                        }
                        for (int64_t nest_i_182699 = 0; nest_i_182699 < merge_block_sizze_177632; nest_i_182699++) {
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + nest_i_182699] = dummy_178130;
                        }
                        for (int64_t nest_i_182700 = 0; nest_i_182700 < merge_block_sizze_177632; nest_i_182700++) {
                            ((int32_t *) mem_181994)[i_180877 * merge_block_sizze_177632 + nest_i_182700] = dummy_178131;
                        }
                        
                        int64_t data_178146;
                        int64_t i_178151 = (int64_t) 0;
                        
                        for (int64_t k_178150 = 0; k_178150 < merge_block_sizze_177632; k_178150++) {
                            int64_t j_178155 = sub64(k_178150, i_178151);
                            bool cond_178156 = j_178155 == j_m_i_178102;
                            bool cond_178157;
                            
                            if (cond_178156) {
                                cond_178157 = 1;
                            } else {
                                bool cond_178158 = slt64(i_178151, j_m_i_178115);
                                bool cond_f_res_178159;
                                
                                if (cond_178158) {
                                    bool x_180644 = sle64((int64_t) 0, j_178155);
                                    bool y_180645 = slt64(j_178155, j_m_i_178102);
                                    bool bounds_check_180646 = x_180644 && y_180645;
                                    bool index_certs_180647;
                                    
                                    if (!bounds_check_180646) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180653 = sle64((int64_t) 0, i_178151);
                                    bool bounds_check_180654 = cond_178158 && x_180653;
                                    bool index_certs_180655;
                                    
                                    if (!bounds_check_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180648 = merge_sequential_arg2_178100 + j_178155;
                                    int64_t slice_180649 = start_177868 + slice_180648;
                                    int8_t leq_arg1_180650 = ((int8_t *) mem_param_181944.mem)[slice_180649];
                                    int64_t leq_arg1_180651 = ((int64_t *) mem_param_181947.mem)[slice_180649];
                                    int32_t leq_arg1_180652 = ((int32_t *) mem_param_181950.mem)[slice_180649];
                                    int64_t slice_180656 = defunc_0_f_res_178091 + i_178151;
                                    int64_t slice_180657 = start_177868 + slice_180656;
                                    int8_t leq_arg0_180658 = ((int8_t *) mem_param_181944.mem)[slice_180657];
                                    int64_t leq_arg0_180659 = ((int64_t *) mem_param_181947.mem)[slice_180657];
                                    int32_t leq_arg0_180660 = ((int32_t *) mem_param_181950.mem)[slice_180657];
                                    bool cond_180661 = leq_arg0_180658 == leq_arg1_180650;
                                    bool defunc_0_leq_res_t_res_180662 = sle64(leq_arg0_180659, leq_arg1_180651);
                                    bool defunc_0_leq_res_180663 = sle32(leq_arg0_180660, leq_arg1_180652);
                                    bool x_180664 = cond_180661 && defunc_0_leq_res_t_res_180662;
                                    bool x_180665 = !cond_180661;
                                    bool y_180666 = defunc_0_leq_res_180663 && x_180665;
                                    bool defunc_0_leq_res_180667 = x_180664 || y_180666;
                                    
                                    cond_f_res_178159 = defunc_0_leq_res_180667;
                                } else {
                                    cond_f_res_178159 = 0;
                                }
                                cond_178157 = cond_f_res_178159;
                            }
                            
                            int64_t loopres_178184;
                            int8_t loopres_178185;
                            int64_t loopres_178186;
                            int32_t loopres_178187;
                            
                            if (cond_178157) {
                                bool x_180669 = sle64((int64_t) 0, i_178151);
                                bool y_180670 = slt64(i_178151, j_m_i_178115);
                                bool bounds_check_180671 = x_180669 && y_180670;
                                bool index_certs_180672;
                                
                                if (!bounds_check_180671) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180668 = add64((int64_t) 1, i_178151);
                                int64_t slice_180673 = defunc_0_f_res_178091 + i_178151;
                                int64_t slice_180674 = start_177868 + slice_180673;
                                int8_t tmp_180675 = ((int8_t *) mem_param_181944.mem)[slice_180674];
                                int64_t tmp_180676 = ((int64_t *) mem_param_181947.mem)[slice_180674];
                                int32_t tmp_180677 = ((int32_t *) mem_param_181950.mem)[slice_180674];
                                
                                loopres_178184 = tmp_180668;
                                loopres_178185 = tmp_180675;
                                loopres_178186 = tmp_180676;
                                loopres_178187 = tmp_180677;
                            } else {
                                bool x_178198 = sle64((int64_t) 0, j_178155);
                                bool y_178199 = slt64(j_178155, j_m_i_178102);
                                bool bounds_check_178200 = x_178198 && y_178199;
                                bool index_certs_178201;
                                
                                if (!bounds_check_178200) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:380:63-73\n   #10 ftsort.fut:373:1-380:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178202 = merge_sequential_arg2_178100 + j_178155;
                                int64_t slice_178203 = start_177868 + slice_178202;
                                int8_t tmp_178204 = ((int8_t *) mem_param_181944.mem)[slice_178203];
                                int64_t tmp_178205 = ((int64_t *) mem_param_181947.mem)[slice_178203];
                                int32_t tmp_178206 = ((int32_t *) mem_param_181950.mem)[slice_178203];
                                
                                loopres_178184 = i_178151;
                                loopres_178185 = tmp_178204;
                                loopres_178186 = tmp_178205;
                                loopres_178187 = tmp_178206;
                            }
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178185;
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178186;
                            ((int32_t *) mem_181994)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178187;
                            
                            int64_t i_tmp_182701 = loopres_178184;
                            
                            i_178151 = i_tmp_182701;
                        }
                        data_178146 = i_178151;
                    }
                    if (memblock_alloc(ctx, &mem_182043, flat_dim_177818, "mem_182043")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182043.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint8_t *) mem_181988, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182047, bytes_181990, "mem_182047")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182047.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint64_t *) mem_181991, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182051, bytes_181993, "mem_182051")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_4b(ctx, 2, (uint32_t *) mem_182051.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint32_t *) mem_181994, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182043, "mem_182043") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182047, "mem_182047") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182051, "mem_182051") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181952, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181955, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182081.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
                    return 1;
                lmad_copy_4b(ctx, 1, (uint32_t *) mem_181958, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182078.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182098, bytes_181951, "mem_182098")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182098.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182102, bytes_181954, "mem_182102")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182102.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint64_t *) mem_181955, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182106, bytes_181957, "mem_182106")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_4b(ctx, 2, (uint32_t *) mem_182106.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint32_t *) mem_181958, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            
            bool loop_cond_178220 = slt64(next_stride_177795, flat_dim_177627);
            
            if (memblock_set(ctx, &mem_param_tmp_182668, &mem_182098, "mem_182098") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182669, &mem_182102, "mem_182102") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182670, &mem_182106, "mem_182106") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182671 = bytes_181951;
            bool loop_while_tmp_182672 = loop_cond_178220;
            int64_t stride_tmp_182676 = next_stride_177795;
            
            if (memblock_set(ctx, &mem_param_181944, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181947, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181950, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
                return 1;
            loop_dz2084Uz2082U_177789 = loop_dz2084Uz2082U_tmp_182671;
            loop_while_177790 = loop_while_tmp_182672;
            stride_177794 = stride_tmp_182676;
        }
        if (memblock_set(ctx, &ext_mem_182116, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182115, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182114, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        data_177783 = loop_dz2084Uz2082U_177789;
        data_177784 = loop_while_177790;
        data_177788 = stride_177794;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178223 = slt64(zs_lhs_177611, data_177783);
        bool y_178224 = i_p_m_t_s_leq_w_178223 && zzero_leq_i_p_m_t_s_178237;
        bool ok_or_empty_178225 = y_178224 || empty_slice_178235;
        bool index_certs_178226;
        
        if (!ok_or_empty_178225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) data_177783, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:380:63-73\n   #5  ftsort.fut:373:1-380:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182125, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182125.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181036.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182122.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
        return 1;
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181038.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint32_t *) ext_mem_182119.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181036, "mem_181036") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182448, &mem_181038, "mem_181038") != 0)
        return 1;
    prim_out_182449 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    if (memblock_set(ctx, &*mem_out_p_182878, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182879, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182880, &mem_out_182448, "mem_out_182448") != 0)
        return 1;
    *out_prim_out_182881 = prim_out_182449;
    
  cleanup:
    {
        free(mem_181049);
        free(mem_181051);
        free(mem_181090);
        free(mem_181093);
        free(mem_181096);
        free(mem_181109);
        free(mem_181111);
        free(mem_181113);
        free(mem_181210);
        free(mem_181213);
        free(mem_181216);
        free(mem_181230);
        free(mem_181232);
        free(mem_181246);
        free(mem_181249);
        free(mem_181252);
        free(mem_181394);
        free(mem_181396);
        free(mem_181411);
        free(mem_181413);
        free(mem_181416);
        free(mem_181419);
        free(mem_181453);
        free(mem_181456);
        free(mem_181459);
        free(mem_181472);
        free(mem_181474);
        free(mem_181476);
        free(mem_181573);
        free(mem_181576);
        free(mem_181579);
        free(mem_181593);
        free(mem_181595);
        free(mem_181609);
        free(mem_181612);
        free(mem_181615);
        free(mem_181832);
        free(mem_181835);
        free(mem_181838);
        free(mem_181851);
        free(mem_181853);
        free(mem_181855);
        free(mem_181952);
        free(mem_181955);
        free(mem_181958);
        free(mem_181972);
        free(mem_181974);
        free(mem_181988);
        free(mem_181991);
        free(mem_181994);
        if (memblock_unref(ctx, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182106, "mem_182106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182102, "mem_182102") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182098, "mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182051, "mem_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182047, "mem_182047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182043, "mem_182043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182057, "mem_182057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182055, "mem_182055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182053, "mem_182053") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181364, "mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181360, "mem_181360") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181309, "mem_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181315, "mem_181315") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181313, "mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181311, "mem_181311") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181208, "mem_param_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181205, "mem_param_181205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181202, "mem_param_181202") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181372, "ext_mem_181372") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181374, "ext_mem_181374") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181068, "mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181066, "mem_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181064, "mem_181064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181774, "mem_181774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181772, "mem_181772") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181727, "mem_181727") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181723, "mem_181723") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181672, "mem_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181668, "mem_181668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181664, "mem_181664") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181678, "mem_181678") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181676, "mem_181676") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181674, "mem_181674") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181571, "mem_param_181571") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181568, "mem_param_181568") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181565, "mem_param_181565") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181735, "ext_mem_181735") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181736, "ext_mem_181736") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181737, "ext_mem_181737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181038, "mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181036, "mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182448, "mem_out_182448") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_long(struct futhark_context *ctx, struct memblock *mem_out_p_182932, struct memblock *mem_out_p_182933, struct memblock *mem_out_p_182934, int64_t *out_prim_out_182935, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_142230, int64_t nb_142231, int64_t window_sizze_142232, int64_t threads_142233, bool inParallel_142236)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181049_cached_sizze_182936 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_182937 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181090_cached_sizze_182938 = 0;
    unsigned char *mem_181090 = NULL;
    int64_t mem_181093_cached_sizze_182939 = 0;
    unsigned char *mem_181093 = NULL;
    int64_t mem_181096_cached_sizze_182940 = 0;
    unsigned char *mem_181096 = NULL;
    int64_t mem_181109_cached_sizze_182941 = 0;
    unsigned char *mem_181109 = NULL;
    int64_t mem_181111_cached_sizze_182942 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181113_cached_sizze_182943 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181210_cached_sizze_182944 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181213_cached_sizze_182945 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181216_cached_sizze_182946 = 0;
    unsigned char *mem_181216 = NULL;
    int64_t mem_181230_cached_sizze_182947 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181232_cached_sizze_182948 = 0;
    unsigned char *mem_181232 = NULL;
    int64_t mem_181246_cached_sizze_182949 = 0;
    unsigned char *mem_181246 = NULL;
    int64_t mem_181249_cached_sizze_182950 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181252_cached_sizze_182951 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181394_cached_sizze_182952 = 0;
    unsigned char *mem_181394 = NULL;
    int64_t mem_181396_cached_sizze_182953 = 0;
    unsigned char *mem_181396 = NULL;
    int64_t mem_181411_cached_sizze_182954 = 0;
    unsigned char *mem_181411 = NULL;
    int64_t mem_181413_cached_sizze_182955 = 0;
    unsigned char *mem_181413 = NULL;
    int64_t mem_181416_cached_sizze_182956 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181419_cached_sizze_182957 = 0;
    unsigned char *mem_181419 = NULL;
    int64_t mem_181453_cached_sizze_182958 = 0;
    unsigned char *mem_181453 = NULL;
    int64_t mem_181456_cached_sizze_182959 = 0;
    unsigned char *mem_181456 = NULL;
    int64_t mem_181459_cached_sizze_182960 = 0;
    unsigned char *mem_181459 = NULL;
    int64_t mem_181472_cached_sizze_182961 = 0;
    unsigned char *mem_181472 = NULL;
    int64_t mem_181474_cached_sizze_182962 = 0;
    unsigned char *mem_181474 = NULL;
    int64_t mem_181476_cached_sizze_182963 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181573_cached_sizze_182964 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181576_cached_sizze_182965 = 0;
    unsigned char *mem_181576 = NULL;
    int64_t mem_181579_cached_sizze_182966 = 0;
    unsigned char *mem_181579 = NULL;
    int64_t mem_181593_cached_sizze_182967 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181595_cached_sizze_182968 = 0;
    unsigned char *mem_181595 = NULL;
    int64_t mem_181609_cached_sizze_182969 = 0;
    unsigned char *mem_181609 = NULL;
    int64_t mem_181612_cached_sizze_182970 = 0;
    unsigned char *mem_181612 = NULL;
    int64_t mem_181615_cached_sizze_182971 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181832_cached_sizze_182972 = 0;
    unsigned char *mem_181832 = NULL;
    int64_t mem_181835_cached_sizze_182973 = 0;
    unsigned char *mem_181835 = NULL;
    int64_t mem_181838_cached_sizze_182974 = 0;
    unsigned char *mem_181838 = NULL;
    int64_t mem_181851_cached_sizze_182975 = 0;
    unsigned char *mem_181851 = NULL;
    int64_t mem_181853_cached_sizze_182976 = 0;
    unsigned char *mem_181853 = NULL;
    int64_t mem_181855_cached_sizze_182977 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181952_cached_sizze_182978 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181955_cached_sizze_182979 = 0;
    unsigned char *mem_181955 = NULL;
    int64_t mem_181958_cached_sizze_182980 = 0;
    unsigned char *mem_181958 = NULL;
    int64_t mem_181972_cached_sizze_182981 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181974_cached_sizze_182982 = 0;
    unsigned char *mem_181974 = NULL;
    int64_t mem_181988_cached_sizze_182983 = 0;
    unsigned char *mem_181988 = NULL;
    int64_t mem_181991_cached_sizze_182984 = 0;
    unsigned char *mem_181991 = NULL;
    int64_t mem_181994_cached_sizze_182985 = 0;
    unsigned char *mem_181994 = NULL;
    struct memblock mem_param_tmp_182670;
    
    mem_param_tmp_182670.references = NULL;
    
    struct memblock mem_param_tmp_182669;
    
    mem_param_tmp_182669.references = NULL;
    
    struct memblock mem_param_tmp_182668;
    
    mem_param_tmp_182668.references = NULL;
    
    struct memblock mem_182106;
    
    mem_182106.references = NULL;
    
    struct memblock mem_182102;
    
    mem_182102.references = NULL;
    
    struct memblock mem_182098;
    
    mem_182098.references = NULL;
    
    struct memblock mem_182051;
    
    mem_182051.references = NULL;
    
    struct memblock mem_182047;
    
    mem_182047.references = NULL;
    
    struct memblock mem_182043;
    
    mem_182043.references = NULL;
    
    struct memblock mem_182057;
    
    mem_182057.references = NULL;
    
    struct memblock mem_182055;
    
    mem_182055.references = NULL;
    
    struct memblock mem_182053;
    
    mem_182053.references = NULL;
    
    struct memblock ext_mem_182078;
    
    ext_mem_182078.references = NULL;
    
    struct memblock ext_mem_182081;
    
    ext_mem_182081.references = NULL;
    
    struct memblock ext_mem_182084;
    
    ext_mem_182084.references = NULL;
    
    struct memblock mem_param_181950;
    
    mem_param_181950.references = NULL;
    
    struct memblock mem_param_181947;
    
    mem_param_181947.references = NULL;
    
    struct memblock mem_param_181944;
    
    mem_param_181944.references = NULL;
    
    struct memblock ext_mem_182114;
    
    ext_mem_182114.references = NULL;
    
    struct memblock ext_mem_182115;
    
    ext_mem_182115.references = NULL;
    
    struct memblock ext_mem_182116;
    
    ext_mem_182116.references = NULL;
    
    struct memblock mem_181940;
    
    mem_181940.references = NULL;
    
    struct memblock mem_181936;
    
    mem_181936.references = NULL;
    
    struct memblock mem_181932;
    
    mem_181932.references = NULL;
    
    struct memblock ext_mem_182119;
    
    ext_mem_182119.references = NULL;
    
    struct memblock ext_mem_182122;
    
    ext_mem_182122.references = NULL;
    
    struct memblock ext_mem_182125;
    
    ext_mem_182125.references = NULL;
    
    struct memblock mem_181830;
    
    mem_181830.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181826;
    
    mem_181826.references = NULL;
    
    struct memblock mem_param_tmp_182604;
    
    mem_param_tmp_182604.references = NULL;
    
    struct memblock mem_param_tmp_182603;
    
    mem_param_tmp_182603.references = NULL;
    
    struct memblock mem_param_tmp_182602;
    
    mem_param_tmp_182602.references = NULL;
    
    struct memblock mem_181364;
    
    mem_181364.references = NULL;
    
    struct memblock mem_181360;
    
    mem_181360.references = NULL;
    
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181309;
    
    mem_181309.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock mem_181315;
    
    mem_181315.references = NULL;
    
    struct memblock mem_181313;
    
    mem_181313.references = NULL;
    
    struct memblock mem_181311;
    
    mem_181311.references = NULL;
    
    struct memblock ext_mem_181336;
    
    ext_mem_181336.references = NULL;
    
    struct memblock ext_mem_181339;
    
    ext_mem_181339.references = NULL;
    
    struct memblock ext_mem_181342;
    
    ext_mem_181342.references = NULL;
    
    struct memblock mem_param_181208;
    
    mem_param_181208.references = NULL;
    
    struct memblock mem_param_181205;
    
    mem_param_181205.references = NULL;
    
    struct memblock mem_param_181202;
    
    mem_param_181202.references = NULL;
    
    struct memblock ext_mem_181372;
    
    ext_mem_181372.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock ext_mem_181374;
    
    ext_mem_181374.references = NULL;
    
    struct memblock mem_181198;
    
    mem_181198.references = NULL;
    
    struct memblock mem_181194;
    
    mem_181194.references = NULL;
    
    struct memblock mem_181190;
    
    mem_181190.references = NULL;
    
    struct memblock ext_mem_181377;
    
    ext_mem_181377.references = NULL;
    
    struct memblock ext_mem_181380;
    
    ext_mem_181380.references = NULL;
    
    struct memblock ext_mem_181383;
    
    ext_mem_181383.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181068;
    
    mem_181068.references = NULL;
    
    struct memblock mem_181066;
    
    mem_181066.references = NULL;
    
    struct memblock mem_181064;
    
    mem_181064.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock mem_181774;
    
    mem_181774.references = NULL;
    
    struct memblock mem_181772;
    
    mem_181772.references = NULL;
    
    struct memblock mem_param_tmp_182510;
    
    mem_param_tmp_182510.references = NULL;
    
    struct memblock mem_param_tmp_182509;
    
    mem_param_tmp_182509.references = NULL;
    
    struct memblock mem_param_tmp_182508;
    
    mem_param_tmp_182508.references = NULL;
    
    struct memblock mem_181727;
    
    mem_181727.references = NULL;
    
    struct memblock mem_181723;
    
    mem_181723.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181672;
    
    mem_181672.references = NULL;
    
    struct memblock mem_181668;
    
    mem_181668.references = NULL;
    
    struct memblock mem_181664;
    
    mem_181664.references = NULL;
    
    struct memblock mem_181678;
    
    mem_181678.references = NULL;
    
    struct memblock mem_181676;
    
    mem_181676.references = NULL;
    
    struct memblock mem_181674;
    
    mem_181674.references = NULL;
    
    struct memblock ext_mem_181699;
    
    ext_mem_181699.references = NULL;
    
    struct memblock ext_mem_181702;
    
    ext_mem_181702.references = NULL;
    
    struct memblock ext_mem_181705;
    
    ext_mem_181705.references = NULL;
    
    struct memblock mem_param_181571;
    
    mem_param_181571.references = NULL;
    
    struct memblock mem_param_181568;
    
    mem_param_181568.references = NULL;
    
    struct memblock mem_param_181565;
    
    mem_param_181565.references = NULL;
    
    struct memblock ext_mem_181735;
    
    ext_mem_181735.references = NULL;
    
    struct memblock ext_mem_181736;
    
    ext_mem_181736.references = NULL;
    
    struct memblock ext_mem_181737;
    
    ext_mem_181737.references = NULL;
    
    struct memblock mem_181561;
    
    mem_181561.references = NULL;
    
    struct memblock mem_181557;
    
    mem_181557.references = NULL;
    
    struct memblock mem_181553;
    
    mem_181553.references = NULL;
    
    struct memblock ext_mem_181740;
    
    ext_mem_181740.references = NULL;
    
    struct memblock ext_mem_181743;
    
    ext_mem_181743.references = NULL;
    
    struct memblock ext_mem_181746;
    
    ext_mem_181746.references = NULL;
    
    struct memblock mem_181451;
    
    mem_181451.references = NULL;
    
    struct memblock mem_181449;
    
    mem_181449.references = NULL;
    
    struct memblock mem_181447;
    
    mem_181447.references = NULL;
    
    struct memblock ext_mem_181796;
    
    ext_mem_181796.references = NULL;
    
    struct memblock ext_mem_181799;
    
    ext_mem_181799.references = NULL;
    
    struct memblock ext_mem_181802;
    
    ext_mem_181802.references = NULL;
    
    struct memblock mem_181038;
    
    mem_181038.references = NULL;
    
    struct memblock mem_181036;
    
    mem_181036.references = NULL;
    
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t prim_out_182449;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521 = add64(na_142230, nb_142231);
    
    if (memblock_alloc(ctx, &mem_181034, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182450 = 0; nest_i_182450 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182450++) {
        ((int8_t *) mem_181034.mem)[nest_i_182450] = (int8_t) -1;
    }
    
    int64_t bytes_181035 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    
    if (memblock_alloc(ctx, &mem_181036, bytes_181035, "mem_181036")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182451 = 0; nest_i_182451 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182451++) {
        ((int64_t *) mem_181036.mem)[nest_i_182451] = (int64_t) -1;
    }
    if (memblock_alloc(ctx, &mem_181038, bytes_181035, "mem_181038")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182452 = 0; nest_i_182452 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182452++) {
        ((int64_t *) mem_181038.mem)[nest_i_182452] = (int64_t) 0;
    }
    
    int64_t zl_rhs_175525 = sub64(na_142230, window_sizze_142232);
    bool cond_175526 = slt64((int64_t) 0, zl_rhs_175525);
    int64_t zl_rhs_175527 = sub64(nb_142231, window_sizze_142232);
    bool loop_cond_t_res_175528 = slt64((int64_t) 0, zl_rhs_175527);
    bool x_175529 = cond_175526 && loop_cond_t_res_175528;
    bool empty_slice_175530 = window_sizze_142232 == (int64_t) 0;
    int64_t m_175531 = sub64(window_sizze_142232, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556 = add64((int64_t) 1, threads_142233);
    int64_t partitionFunc_arg0_176557 = mul64((int64_t) 2, threads_142233);
    bool y_176559 = slt64((int64_t) 0, window_sizze_142232);
    bool loop_cond_176805 = slt64((int64_t) 0, threads_142233);
    bool zzero_175576 = threads_142233 == (int64_t) 0;
    bool nonzzero_175577 = !zzero_175576;
    bool loop_not_taken_178334 = !inParallel_142236;
    bool protect_assert_disj_178335 = nonzzero_175577 || loop_not_taken_178334;
    bool loop_not_taken_178424 = !x_175529;
    bool protect_assert_disj_178425 = protect_assert_disj_178335 || loop_not_taken_178424;
    bool nonzzero_cert_175578;
    
    if (!protect_assert_disj_178425) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175579 = sdiv_safe64(window_sizze_142232, threads_142233);
    int64_t perThread_175580 = add64((int64_t) 1, zp_rhs_175579);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581 = mul64(threads_142233, perThread_175580);
    bool protect_assert_disj_178471 = inParallel_142236 || y_176559;
    bool protect_assert_disj_178475 = loop_not_taken_178424 || protect_assert_disj_178471;
    bool index_certs_176560;
    
    if (!protect_assert_disj_178475) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176575 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, (int64_t) 1);
    bool y_177532 = slt64(threads_142233, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
    bool protect_assert_disj_178440 = y_176559 || loop_not_taken_178334;
    bool protect_assert_disj_178479 = loop_not_taken_178424 || protect_assert_disj_178440;
    bool index_certs_175584;
    
    if (!protect_assert_disj_178479) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176577 = !bounds_invalid_upwards_176575;
    bool protect_assert_disj_178487 = inParallel_142236 || y_177532;
    bool protect_assert_disj_178489 = loop_not_taken_178424 || protect_assert_disj_178487;
    bool index_certs_177534;
    
    if (!protect_assert_disj_178489) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_142233, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178483 = y_177532 || loop_not_taken_178334;
    bool protect_assert_disj_178491 = loop_not_taken_178424 || protect_assert_disj_178483;
    bool index_certs_176538;
    
    if (!protect_assert_disj_178491) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_142233, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178499 = inParallel_142236 || valid_176577;
    bool protect_assert_disj_178501 = loop_not_taken_178424 || protect_assert_disj_178499;
    bool range_valid_c_176578;
    
    if (!protect_assert_disj_178501) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178343 = sle64((int64_t) 1, threads_142233);
    bool protect_assert_disj_178495 = valid_176577 || loop_not_taken_178334;
    bool protect_assert_disj_178503 = loop_not_taken_178424 || protect_assert_disj_178495;
    bool range_valid_c_175591;
    
    if (!protect_assert_disj_178503) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176580 = add64(window_sizze_142232, window_sizze_142232);
    bool zzero_176581 = partitionFunc_arg0_176557 == (int64_t) 0;
    int64_t index_concat_i_178344 = sub64(threads_142233, (int64_t) 1);
    bool nonzzero_176582 = !zzero_176581;
    bool protect_assert_disj_178511 = inParallel_142236 || nonzzero_176582;
    bool protect_assert_disj_178517 = loop_not_taken_178424 || protect_assert_disj_178511;
    bool nonzzero_cert_176583;
    
    if (!protect_assert_disj_178517) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178507 = nonzzero_176582 || loop_not_taken_178334;
    bool protect_assert_disj_178523 = loop_not_taken_178424 || protect_assert_disj_178507;
    bool nonzzero_cert_175596;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181048 = (int64_t) 8 * threads_142233;
    int64_t bytes_181065 = (int64_t) 8 * window_sizze_142232;
    int64_t bytes_181410 = perThread_175580 * bytes_181048;
    bool defunc_0_merge_pipeline_res_175532;
    int64_t defunc_0_merge_pipeline_res_175536;
    int64_t defunc_0_merge_pipeline_res_175537;
    bool loop_while_175538;
    int64_t p_175542;
    int64_t p_175543;
    
    loop_while_175538 = x_175529;
    p_175542 = (int64_t) 0;
    p_175543 = (int64_t) 0;
    while (loop_while_175538) {
        int64_t ubs_175544 = add64(window_sizze_142232, p_175542);
        int64_t ubs_175545 = add64(window_sizze_142232, p_175543);
        int64_t ind_bottom_175546 = add64(p_175542, p_175543);
        int64_t ind_top_175547 = add64(window_sizze_142232, ind_bottom_175546);
        int64_t i_p_m_t_s_175548 = add64(m_175531, p_175542);
        bool zzero_leq_i_p_m_t_s_175549 = sle64((int64_t) 0, i_p_m_t_s_175548);
        bool i_p_m_t_s_leq_w_175550 = slt64(i_p_m_t_s_175548, na_142230);
        bool zzero_lte_i_175551 = sle64((int64_t) 0, p_175542);
        bool i_lte_j_175552 = sle64(p_175542, ubs_175544);
        bool y_175553 = i_p_m_t_s_leq_w_175550 && zzero_lte_i_175551;
        bool y_175554 = zzero_leq_i_p_m_t_s_175549 && y_175553;
        bool forwards_ok_175555 = i_lte_j_175552 && y_175554;
        bool ok_or_empty_175556 = empty_slice_175530 || forwards_ok_175555;
        bool index_certs_175557;
        
        if (!ok_or_empty_175556) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175542, ":", (long long) ubs_175544, "] out of bounds for array of shape [", (long long) na_142230, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175559 = add64(m_175531, p_175543);
        bool zzero_leq_i_p_m_t_s_175560 = sle64((int64_t) 0, i_p_m_t_s_175559);
        bool i_p_m_t_s_leq_w_175561 = slt64(i_p_m_t_s_175559, nb_142231);
        bool zzero_lte_i_175562 = sle64((int64_t) 0, p_175543);
        bool i_lte_j_175563 = sle64(p_175543, ubs_175545);
        bool y_175564 = i_p_m_t_s_leq_w_175561 && zzero_lte_i_175562;
        bool y_175565 = zzero_leq_i_p_m_t_s_175560 && y_175564;
        bool forwards_ok_175566 = i_lte_j_175563 && y_175565;
        bool ok_or_empty_175567 = empty_slice_175530 || forwards_ok_175566;
        bool index_certs_175568;
        
        if (!ok_or_empty_175567) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175543, ":", (long long) ubs_175545, "] out of bounds for array of shape [", (long long) nb_142231, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177546 = add64(m_175531, ind_bottom_175546);
        bool zzero_leq_i_p_m_t_s_177547 = sle64((int64_t) 0, i_p_m_t_s_177546);
        bool i_p_m_t_s_leq_w_177548 = slt64(i_p_m_t_s_177546, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
        bool zzero_lte_i_177549 = sle64((int64_t) 0, ind_bottom_175546);
        bool i_lte_j_177550 = sle64(ind_bottom_175546, ind_top_175547);
        bool y_177551 = i_p_m_t_s_leq_w_177548 && zzero_lte_i_177549;
        bool y_177552 = zzero_leq_i_p_m_t_s_177547 && y_177551;
        bool forwards_ok_177553 = i_lte_j_177550 && y_177552;
        bool ok_or_empty_177554 = empty_slice_175530 || forwards_ok_177553;
        bool index_certs_177555;
        
        if (!ok_or_empty_177554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175546, ":", (long long) ind_top_175547, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175570;
        int64_t loopres_175571;
        
        if (inParallel_142236) {
            int64_t leq_lhs_179004 = ((int64_t *) a_list_mem_181032.mem)[p_175542];
            int64_t leq_rhs_179005 = ((int64_t *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_179006 = sle64(leq_lhs_179004, leq_rhs_179005);
            int64_t lowest_179007;
            
            if (defunc_0_leq_res_179006) {
                lowest_179007 = leq_lhs_179004;
            } else {
                lowest_179007 = leq_rhs_179005;
            }
            if (mem_181394_cached_sizze_182952 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181394, &mem_181394_cached_sizze_182952, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181396_cached_sizze_182953 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181396, &mem_181396_cached_sizze_182953, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180696 = 0; i_180696 < threads_142233; i_180696++) {
                int64_t index_primexp_180968 = add64((int64_t) 1, i_180696);
                int64_t zs_lhs_179012 = mul64(zt_rhs_176580, index_primexp_180968);
                int64_t index_179013 = sdiv64(zs_lhs_179012, partitionFunc_arg0_176557);
                bool cond_179014 = slt64(window_sizze_142232, index_179013);
                int64_t loop_over_179015;
                
                if (cond_179014) {
                    loop_over_179015 = window_sizze_142232;
                } else {
                    loop_over_179015 = index_179013;
                }
                
                int64_t loop_over_179016;
                
                if (cond_179014) {
                    int64_t loop_over_t_res_179017 = sub64(index_179013, window_sizze_142232);
                    
                    loop_over_179016 = loop_over_t_res_179017;
                } else {
                    loop_over_179016 = (int64_t) 0;
                }
                
                int64_t loop_over_179018;
                
                if (cond_179014) {
                    int64_t zm_lhs_179019 = sub64(index_179013, window_sizze_142232);
                    int64_t loop_over_t_res_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                    
                    loop_over_179018 = loop_over_t_res_179020;
                } else {
                    loop_over_179018 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179021;
                int64_t defunc_0_f_res_179022;
                int64_t defunc_0_f_res_179023;
                int64_t defunc_0_f_res_179024;
                bool loop_while_179025;
                int64_t p_179026;
                int64_t p_179027;
                int64_t p_179028;
                
                loop_while_179025 = 1;
                p_179026 = loop_over_179018;
                p_179027 = loop_over_179015;
                p_179028 = loop_over_179016;
                while (loop_while_179025) {
                    int64_t zs_lhs_179029 = sub64(p_179027, p_179026);
                    int64_t offset_179030 = sdiv64(zs_lhs_179029, (int64_t) 2);
                    int64_t ai_179031 = sub64(p_179027, offset_179030);
                    int64_t max_arg1_179032 = add64(p_179028, offset_179030);
                    int64_t max_res_179033 = smax64((int64_t) 0, max_arg1_179032);
                    bool cond_179034 = slt64((int64_t) 0, max_res_179033);
                    int64_t b_prev_179035;
                    
                    if (cond_179034) {
                        int64_t tmp_179036 = sub64(max_res_179033, (int64_t) 1);
                        bool x_179037 = sle64((int64_t) 0, tmp_179036);
                        bool y_179038 = slt64(tmp_179036, window_sizze_142232);
                        bool bounds_check_179039 = x_179037 && y_179038;
                        bool index_certs_179040;
                        
                        if (!bounds_check_179039) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179036, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179041 = p_175543 + tmp_179036;
                        int64_t b_prev_t_res_179042 = ((int64_t *) b_list_mem_181033.mem)[slice_179041];
                        
                        b_prev_179035 = b_prev_t_res_179042;
                    } else {
                        b_prev_179035 = lowest_179007;
                    }
                    
                    bool cond_179043 = sle64(ai_179031, (int64_t) 0);
                    int64_t loopres_179044;
                    int64_t loopres_179045;
                    int64_t loopres_179046;
                    bool loopres_179047;
                    
                    if (cond_179043) {
                        loopres_179044 = p_179026;
                        loopres_179045 = (int64_t) 0;
                        loopres_179046 = max_res_179033;
                        loopres_179047 = 0;
                    } else {
                        bool cond_179048 = sle64(window_sizze_142232, max_res_179033);
                        int64_t loopres_f_res_179049;
                        int64_t loopres_f_res_179050;
                        int64_t loopres_f_res_179051;
                        bool loopres_f_res_179052;
                        
                        if (cond_179048) {
                            int64_t min_res_179054 = smin64(m_175531, ai_179031);
                            bool x_179055 = sle64((int64_t) 0, m_175531);
                            bool y_179056 = slt64(m_175531, window_sizze_142232);
                            bool bounds_check_179057 = x_179055 && y_179056;
                            bool index_certs_179058;
                            
                            if (!bounds_check_179057) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179061 = sle64((int64_t) 0, min_res_179054);
                            bool y_179062 = slt64(min_res_179054, window_sizze_142232);
                            bool bounds_check_179063 = x_179061 && y_179062;
                            bool index_certs_179064;
                            
                            if (!bounds_check_179063) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179054, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_179060 = ((int64_t *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_179065 = p_175542 + min_res_179054;
                            int64_t leq_rhs_179066 = ((int64_t *) a_list_mem_181032.mem)[slice_179065];
                            bool defunc_0_leq_res_179067 = sle64(leq_lhs_179060, leq_rhs_179066);
                            int64_t loopres_f_res_t_res_179068;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179068 = ai_179031;
                            } else {
                                loopres_f_res_t_res_179068 = p_179027;
                            }
                            
                            bool x_179069 = !defunc_0_leq_res_179067;
                            int64_t loopres_f_res_t_res_179070;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179070 = window_sizze_142232;
                            } else {
                                int64_t tmp_179071 = sub64(m_175531, offset_179030);
                                
                                loopres_f_res_t_res_179070 = tmp_179071;
                            }
                            loopres_f_res_179049 = p_179026;
                            loopres_f_res_179050 = loopres_f_res_t_res_179068;
                            loopres_f_res_179051 = loopres_f_res_t_res_179070;
                            loopres_f_res_179052 = x_179069;
                        } else {
                            bool cond_179072 = sle64(window_sizze_142232, ai_179031);
                            int64_t loopres_f_res_f_res_179073;
                            int64_t loopres_f_res_f_res_179074;
                            int64_t loopres_f_res_f_res_179075;
                            bool loopres_f_res_f_res_179076;
                            
                            if (cond_179072) {
                                int64_t min_res_179078 = smin64(m_175531, max_res_179033);
                                bool x_179079 = sle64((int64_t) 0, m_175531);
                                bool y_179080 = slt64(m_175531, window_sizze_142232);
                                bool bounds_check_179081 = x_179079 && y_179080;
                                bool index_certs_179082;
                                
                                if (!bounds_check_179081) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179085 = sle64((int64_t) 0, min_res_179078);
                                bool y_179086 = slt64(min_res_179078, window_sizze_142232);
                                bool bounds_check_179087 = x_179085 && y_179086;
                                bool index_certs_179088;
                                
                                if (!bounds_check_179087) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179078, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_179084 = ((int64_t *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_179089 = p_175543 + min_res_179078;
                                int64_t leq_rhs_179090 = ((int64_t *) b_list_mem_181033.mem)[slice_179089];
                                bool defunc_0_leq_res_179091 = sle64(leq_lhs_179084, leq_rhs_179090);
                                int64_t loopres_f_res_f_res_t_res_179092;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179092 = max_res_179033;
                                } else {
                                    loopres_f_res_f_res_t_res_179092 = p_179028;
                                }
                                
                                bool x_179093 = !defunc_0_leq_res_179091;
                                int64_t loopres_f_res_f_res_t_res_179094;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179094 = window_sizze_142232;
                                } else {
                                    loopres_f_res_f_res_t_res_179094 = m_175531;
                                }
                                loopres_f_res_f_res_179073 = p_179026;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_t_res_179094;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_t_res_179092;
                                loopres_f_res_f_res_179076 = x_179093;
                            } else {
                                bool cond_179095 = sle64(p_179027, p_179026);
                                int64_t loopres_f_res_f_res_f_res_179096;
                                int64_t loopres_f_res_f_res_f_res_179097;
                                int64_t loopres_f_res_f_res_f_res_179098;
                                bool loopres_f_res_f_res_f_res_179099;
                                
                                if (cond_179095) {
                                    bool cond_179100 = slt64(ai_179031, window_sizze_142232);
                                    int64_t ai_179101;
                                    
                                    if (cond_179100) {
                                        ai_179101 = ai_179031;
                                    } else {
                                        ai_179101 = m_175531;
                                    }
                                    
                                    bool x_179114 = sle64((int64_t) 0, ai_179101);
                                    bool y_179115 = slt64(ai_179101, window_sizze_142232);
                                    bool bounds_check_179116 = x_179114 && y_179115;
                                    bool index_certs_179117;
                                    
                                    if (!bounds_check_179116) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179101, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_179103;
                                    
                                    if (cond_179034) {
                                        int64_t tmp_179104 = sub64(max_res_179033, (int64_t) 1);
                                        bool x_179105 = sle64((int64_t) 0, tmp_179104);
                                        bool y_179106 = slt64(tmp_179104, window_sizze_142232);
                                        bool bounds_check_179107 = x_179105 && y_179106;
                                        bool index_certs_179108;
                                        
                                        if (!bounds_check_179107) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179104, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179109 = p_175543 + tmp_179104;
                                        int64_t b_prev_t_res_179110 = ((int64_t *) b_list_mem_181033.mem)[slice_179109];
                                        
                                        b_prev_179103 = b_prev_t_res_179110;
                                    } else {
                                        bool index_certs_179112;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179103 = leq_rhs_179005;
                                    }
                                    
                                    int64_t slice_179118 = p_175542 + ai_179101;
                                    int64_t gt_lhs_179119 = ((int64_t *) a_list_mem_181032.mem)[slice_179118];
                                    bool defunc_0_gt_res_179120 = slt64(b_prev_179103, gt_lhs_179119);
                                    int64_t defunc_0_partFunc_sequential_search_res_179121;
                                    int64_t defunc_0_partFunc_sequential_search_res_179122;
                                    
                                    if (defunc_0_gt_res_179120) {
                                        int64_t zl_rhs_179123 = sub64(window_sizze_142232, max_res_179033);
                                        bool loop_cond_179124 = slt64((int64_t) 0, zl_rhs_179123);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179125;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179127;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179128;
                                        bool loop_while_179129;
                                        int64_t p_179130;
                                        int64_t p_179131;
                                        int64_t p_179132;
                                        
                                        loop_while_179129 = loop_cond_179124;
                                        p_179130 = ai_179101;
                                        p_179131 = max_res_179033;
                                        p_179132 = (int64_t) 0;
                                        while (loop_while_179129) {
                                            int64_t i_a_179133 = sub64(ai_179101, p_179132);
                                            int64_t i_b_179134 = add64(max_res_179033, p_179132);
                                            int64_t leq_lhs_179135 = sub64(i_a_179133, (int64_t) 1);
                                            bool x_179136 = sle64((int64_t) 0, leq_lhs_179135);
                                            bool y_179137 = slt64(leq_lhs_179135, window_sizze_142232);
                                            bool bounds_check_179138 = x_179136 && y_179137;
                                            bool index_certs_179139;
                                            
                                            if (!bounds_check_179138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179135, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179142 = sle64((int64_t) 0, i_b_179134);
                                            bool y_179143 = slt64(i_b_179134, window_sizze_142232);
                                            bool bounds_check_179144 = x_179142 && y_179143;
                                            bool index_certs_179145;
                                            
                                            if (!bounds_check_179144) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179134, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179140 = p_175542 + leq_lhs_179135;
                                            int64_t leq_lhs_179141 = ((int64_t *) a_list_mem_181032.mem)[slice_179140];
                                            int64_t slice_179146 = p_175543 + i_b_179134;
                                            int64_t leq_rhs_179147 = ((int64_t *) b_list_mem_181033.mem)[slice_179146];
                                            bool defunc_0_leq_res_179148 = sle64(leq_lhs_179141, leq_rhs_179147);
                                            int64_t loopres_179149;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179149 = i_a_179133;
                                            } else {
                                                loopres_179149 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179150;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179150 = i_b_179134;
                                            } else {
                                                loopres_179150 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179151;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179151 = zl_rhs_179123;
                                            } else {
                                                int64_t tmp_179152 = add64((int64_t) 1, p_179132);
                                                
                                                loopres_179151 = tmp_179152;
                                            }
                                            
                                            bool loop_cond_179153 = slt64(loopres_179151, zl_rhs_179123);
                                            bool loop_while_tmp_182465 = loop_cond_179153;
                                            int64_t p_tmp_182466 = loopres_179149;
                                            int64_t p_tmp_182467 = loopres_179150;
                                            int64_t p_tmp_182468 = loopres_179151;
                                            
                                            loop_while_179129 = loop_while_tmp_182465;
                                            p_179130 = p_tmp_182466;
                                            p_179131 = p_tmp_182467;
                                            p_179132 = p_tmp_182468;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179125 = loop_while_179129;
                                        defunc_0_partFunc_sequential_search_res_t_res_179126 = p_179130;
                                        defunc_0_partFunc_sequential_search_res_t_res_179127 = p_179131;
                                        defunc_0_partFunc_sequential_search_res_t_res_179128 = p_179132;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_t_res_179127;
                                    } else {
                                        int64_t zl_rhs_179154 = sub64(max_res_179033, (int64_t) 1);
                                        bool loop_cond_179155 = slt64((int64_t) 0, zl_rhs_179154);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179156;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179158;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179159;
                                        bool loop_while_179160;
                                        int64_t p_179161;
                                        int64_t p_179162;
                                        int64_t p_179163;
                                        
                                        loop_while_179160 = loop_cond_179155;
                                        p_179161 = ai_179101;
                                        p_179162 = max_res_179033;
                                        p_179163 = (int64_t) 0;
                                        while (loop_while_179160) {
                                            int64_t zp_lhs_179164 = add64(ai_179101, p_179163);
                                            int64_t hi_a_179165 = add64((int64_t) 1, zp_lhs_179164);
                                            bool cond_179166 = slt64(hi_a_179165, window_sizze_142232);
                                            int64_t i_a_179167;
                                            
                                            if (cond_179166) {
                                                i_a_179167 = hi_a_179165;
                                            } else {
                                                i_a_179167 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_179169 = sub64(max_res_179033, p_179163);
                                            int64_t i_b_179170 = sub64(zm_lhs_179169, (int64_t) 1);
                                            bool x_179171 = sle64((int64_t) 0, i_a_179167);
                                            bool y_179172 = slt64(i_a_179167, window_sizze_142232);
                                            bool bounds_check_179173 = x_179171 && y_179172;
                                            bool index_certs_179174;
                                            
                                            if (!bounds_check_179173) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179167, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179177 = sle64((int64_t) 0, i_b_179170);
                                            bool y_179178 = slt64(i_b_179170, window_sizze_142232);
                                            bool bounds_check_179179 = x_179177 && y_179178;
                                            bool index_certs_179180;
                                            
                                            if (!bounds_check_179179) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179170, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179175 = p_175542 + i_a_179167;
                                            int64_t gt_lhs_179176 = ((int64_t *) a_list_mem_181032.mem)[slice_179175];
                                            int64_t slice_179181 = p_175543 + i_b_179170;
                                            int64_t gt_rhs_179182 = ((int64_t *) b_list_mem_181033.mem)[slice_179181];
                                            bool defunc_0_gt_res_179183 = slt64(gt_rhs_179182, gt_lhs_179176);
                                            int64_t loopres_179184;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179184 = i_a_179167;
                                            } else {
                                                loopres_179184 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179185;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179185 = zm_lhs_179169;
                                            } else {
                                                loopres_179185 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179186;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179186 = zl_rhs_179154;
                                            } else {
                                                int64_t tmp_179187 = add64((int64_t) 1, p_179163);
                                                
                                                loopres_179186 = tmp_179187;
                                            }
                                            
                                            bool loop_cond_179188 = slt64(loopres_179186, zl_rhs_179154);
                                            bool loop_while_tmp_182469 = loop_cond_179188;
                                            int64_t p_tmp_182470 = loopres_179184;
                                            int64_t p_tmp_182471 = loopres_179185;
                                            int64_t p_tmp_182472 = loopres_179186;
                                            
                                            loop_while_179160 = loop_while_tmp_182469;
                                            p_179161 = p_tmp_182470;
                                            p_179162 = p_tmp_182471;
                                            p_179163 = p_tmp_182472;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179156 = loop_while_179160;
                                        defunc_0_partFunc_sequential_search_res_f_res_179157 = p_179161;
                                        defunc_0_partFunc_sequential_search_res_f_res_179158 = p_179162;
                                        defunc_0_partFunc_sequential_search_res_f_res_179159 = p_179163;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_f_res_179158;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = p_179026;
                                    loopres_f_res_f_res_f_res_179097 = defunc_0_partFunc_sequential_search_res_179121;
                                    loopres_f_res_f_res_f_res_179098 = defunc_0_partFunc_sequential_search_res_179122;
                                    loopres_f_res_f_res_f_res_179099 = 0;
                                } else {
                                    bool x_179189 = sle64((int64_t) 0, ai_179031);
                                    bool y_179190 = slt64(ai_179031, window_sizze_142232);
                                    bool bounds_check_179191 = x_179189 && y_179190;
                                    bool index_certs_179192;
                                    
                                    if (!bounds_check_179191) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179031, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179193 = p_175542 + ai_179031;
                                    int64_t gt_lhs_179194 = ((int64_t *) a_list_mem_181032.mem)[slice_179193];
                                    bool defunc_0_gt_res_179195 = slt64(b_prev_179035, gt_lhs_179194);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179196;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179197;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179198;
                                    bool loopres_f_res_f_res_f_res_f_res_179199;
                                    
                                    if (defunc_0_gt_res_179195) {
                                        int64_t leq_lhs_179200 = sub64(ai_179031, (int64_t) 1);
                                        bool x_179201 = sle64((int64_t) 0, leq_lhs_179200);
                                        bool y_179202 = slt64(leq_lhs_179200, window_sizze_142232);
                                        bool bounds_check_179203 = x_179201 && y_179202;
                                        bool index_certs_179204;
                                        
                                        if (!bounds_check_179203) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179200, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179207 = sle64((int64_t) 0, max_res_179033);
                                        bool y_179208 = slt64(max_res_179033, window_sizze_142232);
                                        bool bounds_check_179209 = x_179207 && y_179208;
                                        bool index_certs_179210;
                                        
                                        if (!bounds_check_179209) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179033, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179205 = p_175542 + leq_lhs_179200;
                                        int64_t leq_lhs_179206 = ((int64_t *) a_list_mem_181032.mem)[slice_179205];
                                        int64_t slice_179211 = p_175543 + max_res_179033;
                                        int64_t leq_rhs_179212 = ((int64_t *) b_list_mem_181033.mem)[slice_179211];
                                        bool defunc_0_leq_res_179213 = sle64(leq_lhs_179206, leq_rhs_179212);
                                        bool x_179214 = !defunc_0_leq_res_179213;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = ai_179031;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = leq_lhs_179200;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = max_res_179033;
                                        } else {
                                            int64_t tmp_179217 = add64((int64_t) 1, max_res_179033);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = tmp_179217;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179196 = p_179026;
                                        loopres_f_res_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        loopres_f_res_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        loopres_f_res_f_res_f_res_f_res_179199 = x_179214;
                                    } else {
                                        int64_t tmp_179218 = add64((int64_t) 1, ai_179031);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179196 = tmp_179218;
                                        loopres_f_res_f_res_f_res_f_res_179197 = p_179027;
                                        loopres_f_res_f_res_f_res_f_res_179198 = p_179028;
                                        loopres_f_res_f_res_f_res_f_res_179199 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = loopres_f_res_f_res_f_res_f_res_179196;
                                    loopres_f_res_f_res_f_res_179097 = loopres_f_res_f_res_f_res_f_res_179197;
                                    loopres_f_res_f_res_f_res_179098 = loopres_f_res_f_res_f_res_f_res_179198;
                                    loopres_f_res_f_res_f_res_179099 = loopres_f_res_f_res_f_res_f_res_179199;
                                }
                                loopres_f_res_f_res_179073 = loopres_f_res_f_res_f_res_179096;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_f_res_179097;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_f_res_179098;
                                loopres_f_res_f_res_179076 = loopres_f_res_f_res_f_res_179099;
                            }
                            loopres_f_res_179049 = loopres_f_res_f_res_179073;
                            loopres_f_res_179050 = loopres_f_res_f_res_179074;
                            loopres_f_res_179051 = loopres_f_res_f_res_179075;
                            loopres_f_res_179052 = loopres_f_res_f_res_179076;
                        }
                        loopres_179044 = loopres_f_res_179049;
                        loopres_179045 = loopres_f_res_179050;
                        loopres_179046 = loopres_f_res_179051;
                        loopres_179047 = loopres_f_res_179052;
                    }
                    
                    bool loop_while_tmp_182461 = loopres_179047;
                    int64_t p_tmp_182462 = loopres_179044;
                    int64_t p_tmp_182463 = loopres_179045;
                    int64_t p_tmp_182464 = loopres_179046;
                    
                    loop_while_179025 = loop_while_tmp_182461;
                    p_179026 = p_tmp_182462;
                    p_179027 = p_tmp_182463;
                    p_179028 = p_tmp_182464;
                }
                defunc_0_f_res_179021 = loop_while_179025;
                defunc_0_f_res_179022 = p_179026;
                defunc_0_f_res_179023 = p_179027;
                defunc_0_f_res_179024 = p_179028;
                ((int64_t *) mem_181394)[i_180696] = defunc_0_f_res_179023;
                ((int64_t *) mem_181396)[i_180696] = defunc_0_f_res_179024;
            }
            if (mem_181411_cached_sizze_182954 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181411, &mem_181411_cached_sizze_182954, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181413_cached_sizze_182955 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581) {
                err = lexical_realloc(ctx, &mem_181413, &mem_181413_cached_sizze_182955, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_182956 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_182956, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181419_cached_sizze_182957 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181419, &mem_181419_cached_sizze_182957, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180762 = 0; i_180762 < threads_142233; i_180762++) {
                bool y_179232 = slt64(i_180762, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool index_certs_179234;
                
                if (!y_179232) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180762, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179235 = sle64((int64_t) 1, i_180762);
                int64_t index_concat_i_179236 = sub64(i_180762, (int64_t) 1);
                int64_t index_concat_179237;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179238 = ((int64_t *) mem_181394)[index_concat_i_179236];
                    
                    index_concat_179237 = x_179238;
                } else {
                    index_concat_179237 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179239;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179239 = index_concat_179237;
                } else {
                    index_concat_branch_179239 = (int64_t) 0;
                }
                
                int64_t index_concat_179240;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179241 = ((int64_t *) mem_181396)[index_concat_i_179236];
                    
                    index_concat_179240 = x_179241;
                } else {
                    index_concat_179240 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179242;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179242 = index_concat_179240;
                } else {
                    index_concat_branch_179242 = (int64_t) 0;
                }
                
                int64_t ubs_179243 = add64((int64_t) 1, i_180762);
                bool x_179244 = sle64((int64_t) 0, ubs_179243);
                bool y_179245 = slt64(ubs_179243, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_179246 = x_179244 && y_179245;
                bool index_certs_179247;
                
                if (!bounds_check_179246) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179243, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179248 = sle64((int64_t) 1, ubs_179243);
                int64_t index_concat_179249;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179250 = ((int64_t *) mem_181394)[i_180762];
                    
                    index_concat_179249 = x_179250;
                } else {
                    index_concat_179249 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179251;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179251 = index_concat_179249;
                } else {
                    index_concat_branch_179251 = (int64_t) 0;
                }
                
                int64_t index_concat_179252;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179253 = ((int64_t *) mem_181396)[i_180762];
                    
                    index_concat_179252 = x_179253;
                } else {
                    index_concat_179252 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179254;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179254 = index_concat_179252;
                } else {
                    index_concat_branch_179254 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 = sub64(index_concat_branch_179254, index_concat_branch_179242);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 = sub64(index_concat_branch_179251, index_concat_branch_179239);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t zm_lhs_179258 = add64(index_concat_branch_179251, index_concat_branch_179254);
                int64_t zm_rhs_179259 = add64(index_concat_branch_179239, index_concat_branch_179242);
                int64_t card_179260 = sub64(zm_lhs_179258, zm_rhs_179259);
                bool empty_slice_179261 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 == (int64_t) 0;
                int64_t m_179262 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 1);
                int64_t i_p_m_t_s_179263 = add64(index_concat_branch_179239, m_179262);
                bool zzero_leq_i_p_m_t_s_179264 = sle64((int64_t) 0, i_p_m_t_s_179263);
                bool i_p_m_t_s_leq_w_179265 = slt64(i_p_m_t_s_179263, window_sizze_142232);
                bool zzero_lte_i_179266 = sle64((int64_t) 0, index_concat_branch_179239);
                bool i_lte_j_179267 = sle64(index_concat_branch_179239, index_concat_branch_179251);
                bool y_179268 = i_p_m_t_s_leq_w_179265 && zzero_lte_i_179266;
                bool y_179269 = zzero_leq_i_p_m_t_s_179264 && y_179268;
                bool forwards_ok_179270 = i_lte_j_179267 && y_179269;
                bool ok_or_empty_179271 = empty_slice_179261 || forwards_ok_179270;
                bool index_certs_179272;
                
                if (!ok_or_empty_179271) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179239, ":", (long long) index_concat_branch_179251, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179273 = slt64(index_concat_branch_179251, index_concat_branch_179239);
                bool valid_179274 = !bounds_invalid_upwards_179273;
                bool range_valid_c_179275;
                
                if (!valid_179274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179239, "..<", (long long) index_concat_branch_179251, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179280 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 == (int64_t) 0;
                int64_t m_179281 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, (int64_t) 1);
                int64_t i_p_m_t_s_179282 = add64(index_concat_branch_179242, m_179281);
                bool zzero_leq_i_p_m_t_s_179283 = sle64((int64_t) 0, i_p_m_t_s_179282);
                bool i_p_m_t_s_leq_w_179284 = slt64(i_p_m_t_s_179282, window_sizze_142232);
                bool zzero_lte_i_179285 = sle64((int64_t) 0, index_concat_branch_179242);
                bool i_lte_j_179286 = sle64(index_concat_branch_179242, index_concat_branch_179254);
                bool y_179287 = i_p_m_t_s_leq_w_179284 && zzero_lte_i_179285;
                bool y_179288 = zzero_leq_i_p_m_t_s_179283 && y_179287;
                bool forwards_ok_179289 = i_lte_j_179286 && y_179288;
                bool ok_or_empty_179290 = empty_slice_179280 || forwards_ok_179289;
                bool index_certs_179291;
                
                if (!ok_or_empty_179290) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179242, ":", (long long) index_concat_branch_179254, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179292 = slt64(index_concat_branch_179254, index_concat_branch_179242);
                bool valid_179293 = !bounds_invalid_upwards_179292;
                bool range_valid_c_179294;
                
                if (!valid_179293) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179242, "..<", (long long) index_concat_branch_179254, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181448 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool cond_179302 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zs_lhs_179303 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zp_rhs_179304 = sdiv_safe64(zs_lhs_179303, (int64_t) 20);
                int64_t min_num_blocks_179305 = add64((int64_t) 1, zp_rhs_179304);
                bool loop_cond_179306 = slt64((int64_t) 1, min_num_blocks_179305);
                bool smallest_pow_2_geq_than_res_179307;
                int64_t smallest_pow_2_geq_than_res_179308;
                bool loop_while_179309;
                int64_t x_179310;
                
                loop_while_179309 = loop_cond_179306;
                x_179310 = (int64_t) 1;
                while (loop_while_179309) {
                    int64_t loopres_179311 = mul64((int64_t) 2, x_179310);
                    bool loop_cond_179312 = slt64(loopres_179311, min_num_blocks_179305);
                    bool loop_while_tmp_182477 = loop_cond_179312;
                    int64_t x_tmp_182478 = loopres_179311;
                    
                    loop_while_179309 = loop_while_tmp_182477;
                    x_179310 = x_tmp_182478;
                }
                smallest_pow_2_geq_than_res_179307 = loop_while_179309;
                smallest_pow_2_geq_than_res_179308 = x_179310;
                
                bool zzero_179313 = smallest_pow_2_geq_than_res_179308 == (int64_t) 0;
                bool nonzzero_179314 = !zzero_179313;
                bool protect_assert_disj_179315 = cond_179302 || nonzzero_179314;
                bool nonzzero_cert_179316;
                
                if (!protect_assert_disj_179315) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179317 = sdiv_safe64(zs_lhs_179303, smallest_pow_2_geq_than_res_179308);
                int64_t block_sizze_179318 = add64((int64_t) 1, zp_rhs_179317);
                bool y_179325 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                bool protect_assert_disj_182194 = cond_179302 || y_179325;
                bool index_certs_179326;
                
                if (!protect_assert_disj_182194) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179363 = slt64(smallest_pow_2_geq_than_res_179308, (int64_t) 0);
                bool valid_179364 = !bounds_invalid_upwards_179363;
                bool protect_assert_disj_182204 = cond_179302 || valid_179364;
                bool range_valid_c_179365;
                
                if (!protect_assert_disj_182204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179308, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179367 = slt64(block_sizze_179318, (int64_t) 0);
                bool valid_179368 = !bounds_invalid_upwards_179367;
                bool protect_assert_disj_182206 = cond_179302 || valid_179368;
                bool range_valid_c_179369;
                
                if (!protect_assert_disj_182206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179318, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179371 = sle64(block_sizze_179318, (int64_t) 1);
                int64_t tmp_179372 = sub64(block_sizze_179318, (int64_t) 2);
                bool bounds_invalid_upwards_179373 = slt64(tmp_179372, (int64_t) 0);
                bool valid_179375 = !bounds_invalid_upwards_179373;
                bool protect_assert_disj_179376 = cond_179371 || valid_179375;
                bool protect_assert_disj_182208 = cond_179302 || protect_assert_disj_179376;
                bool range_valid_c_179377;
                
                if (!protect_assert_disj_182208) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179372, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179957 = card_179260 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool empty_or_match_cert_179958;
                
                if (!dim_match_179957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] cannot match shape of type `[", (long long) card_179260, "](i8, i64, i64)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179959 = card_179260 == (int64_t) 0;
                int64_t m_179960 = sub64(card_179260, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179961 = sle64((int64_t) 0, m_179960);
                bool i_p_m_t_s_leq_w_179962 = slt64(m_179960, card_179260);
                bool y_179963 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179962;
                bool ok_or_empty_179964 = empty_slice_179959 || y_179963;
                bool index_certs_179965;
                
                if (!ok_or_empty_179964) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) card_179260, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179966 = slt64(m_179960, perThread_175580);
                bool y_179967 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179966;
                bool ok_or_empty_179968 = empty_slice_179959 || y_179967;
                bool index_certs_179969;
                
                if (!ok_or_empty_179968) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182479 = 0; nest_i_182479 < perThread_175580; nest_i_182479++) {
                    ((int8_t *) mem_181413)[i_180762 * perThread_175580 + nest_i_182479] = (int8_t) -1;
                }
                for (int64_t nest_i_182480 = 0; nest_i_182480 < perThread_175580; nest_i_182480++) {
                    ((int64_t *) mem_181416)[i_180762 * perThread_175580 + nest_i_182480] = (int64_t) -1;
                }
                for (int64_t nest_i_182481 = 0; nest_i_182481 < perThread_175580; nest_i_182481++) {
                    ((int64_t *) mem_181419)[i_180762 * perThread_175580 + nest_i_182481] = (int64_t) 0;
                }
                
                int64_t slice_179276 = p_175542 + index_concat_branch_179239;
                
                if (memblock_alloc(ctx, &mem_181447, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "mem_181447")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182482 = 0; nest_i_182482 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; nest_i_182482++) {
                    ((int8_t *) mem_181447.mem)[nest_i_182482] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181449, bytes_181448, "mem_181449")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182483 = 0; i_182483 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; i_182483++) {
                    int64_t x_182484 = index_concat_branch_179239 + i_182483 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[i_182483] = x_182484;
                }
                
                int64_t slice_179295 = p_175543 + index_concat_branch_179242;
                
                for (int64_t nest_i_182485 = 0; nest_i_182485 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; nest_i_182485++) {
                    ((int8_t *) mem_181447.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + nest_i_182485] = (int8_t) 1;
                }
                for (int64_t i_182486 = 0; i_182486 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; i_182486++) {
                    int64_t x_182487 = index_concat_branch_179242 + i_182486 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + i_182486] = x_182487;
                }
                
                int64_t tmp_offs_182488 = (int64_t) 0;
                
                if (!(tmp_offs_182488 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182488 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t tmp_offs_182489 = (int64_t) 0;
                
                if (!(tmp_offs_182489 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182489 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                if (memblock_alloc(ctx, &mem_181451, bytes_181448, "mem_181451")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182490 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181032.mem, slice_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181033.mem, slice_179295, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t flat_dim_179319 = smallest_pow_2_geq_than_res_179308 * block_sizze_179318;
                bool x_182189 = !cond_179302;
                int64_t greatest_divisor_leq_than_arg1_179323 = mul64((int64_t) 2, block_sizze_179318);
                int64_t merge_block_sizze_179324;
                
                if (x_182189) {
                    int64_t x_182191;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182191, (int64_t) 8, greatest_divisor_leq_than_arg1_179323) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179324 = x_182191;
                } else {
                    merge_block_sizze_179324 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179327 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 0);
                int8_t index_concat_branch_179328 = btoi_bool_i8(index_concat_cmp_179327);
                int64_t index_concat_i_179330 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t index_primexp_179331 = add64(index_concat_branch_179242, index_concat_i_179330);
                int64_t index_concat_branch_179329;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179329 = index_primexp_179331;
                } else {
                    index_concat_branch_179329 = index_concat_branch_179239;
                }
                
                bool x_182185 = !index_concat_cmp_179327;
                bool protect_cond_conj_182195 = x_182185 && x_182189;
                int64_t index_concat_179337;
                
                if (protect_cond_conj_182195) {
                    int64_t x_182187 = ((int64_t *) a_list_mem_181032.mem)[slice_179276];
                    
                    index_concat_179337 = x_182187;
                } else {
                    index_concat_179337 = (int64_t) 0;
                }
                
                int64_t slice_179335 = p_175543 + index_primexp_179331;
                bool protect_cond_conj_182196 = index_concat_cmp_179327 && x_182189;
                int64_t index_concat_179336;
                
                if (protect_cond_conj_182196) {
                    int64_t x_182183 = ((int64_t *) b_list_mem_181033.mem)[slice_179335];
                    
                    index_concat_179336 = x_182183;
                } else {
                    index_concat_179336 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179332;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179332 = index_concat_179336;
                } else {
                    index_concat_branch_179332 = index_concat_179337;
                }
                
                int8_t defunc_0_reduce_res_179338;
                int64_t defunc_0_reduce_res_179339;
                int64_t defunc_0_reduce_res_179340;
                
                if (x_182189) {
                    int8_t x_182197;
                    int64_t x_182198;
                    int64_t x_182199;
                    int8_t redout_180699;
                    int64_t redout_180700;
                    int64_t redout_180701;
                    
                    redout_180699 = index_concat_branch_179328;
                    redout_180700 = index_concat_branch_179329;
                    redout_180701 = index_concat_branch_179332;
                    for (int64_t i_180702 = 0; i_180702 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257; i_180702++) {
                        bool index_concat_cmp_180960 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, i_180702);
                        int8_t index_concat_branch_180964 = btoi_bool_i8(index_concat_cmp_180960);
                        int64_t index_concat_branch_180958;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180955 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t index_primexp_181008 = add64(index_concat_branch_179242, index_concat_i_180955);
                            
                            index_concat_branch_180958 = index_primexp_181008;
                        } else {
                            int64_t index_primexp_181010 = add64(index_concat_branch_179239, i_180702);
                            
                            index_concat_branch_180958 = index_primexp_181010;
                        }
                        
                        int64_t index_concat_branch_180952;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180949 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t slice_181005 = slice_179295 + index_concat_i_180949;
                            int64_t index_concat_180950 = ((int64_t *) b_list_mem_181033.mem)[slice_181005];
                            
                            index_concat_branch_180952 = index_concat_180950;
                        } else {
                            int64_t slice_181006 = slice_179276 + i_180702;
                            int64_t index_concat_180951 = ((int64_t *) a_list_mem_181032.mem)[slice_181006];
                            
                            index_concat_branch_180952 = index_concat_180951;
                        }
                        
                        bool eq_x_y_181022 = redout_180699 == (int8_t) 1;
                        bool eq_x_zz_181023 = redout_180699 == (int8_t) 0;
                        bool p_and_eq_x_y_181024 = index_concat_cmp_180960 && eq_x_y_181022;
                        bool not_p_181025 = !index_concat_cmp_180960;
                        bool p_and_eq_x_y_181026 = eq_x_zz_181023 && not_p_181025;
                        bool cond_179350 = p_and_eq_x_y_181024 || p_and_eq_x_y_181026;
                        bool defunc_0_leq_res_t_res_179351 = sle64(redout_180700, index_concat_branch_180958);
                        bool defunc_0_leq_res_179352 = sle64(redout_180701, index_concat_branch_180952);
                        bool x_179353 = cond_179350 && defunc_0_leq_res_t_res_179351;
                        bool x_179354 = !cond_179350;
                        bool y_179355 = defunc_0_leq_res_179352 && x_179354;
                        bool defunc_0_leq_res_179356 = x_179353 || y_179355;
                        int8_t defunc_0_op_res_179357;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179357 = index_concat_branch_180964;
                        } else {
                            defunc_0_op_res_179357 = redout_180699;
                        }
                        
                        int64_t defunc_0_op_res_179358;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179358 = index_concat_branch_180958;
                        } else {
                            defunc_0_op_res_179358 = redout_180700;
                        }
                        
                        int64_t defunc_0_op_res_179359;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179359 = index_concat_branch_180952;
                        } else {
                            defunc_0_op_res_179359 = redout_180701;
                        }
                        
                        int8_t redout_tmp_182491 = defunc_0_op_res_179357;
                        int64_t redout_tmp_182492 = defunc_0_op_res_179358;
                        int64_t redout_tmp_182493 = defunc_0_op_res_179359;
                        
                        redout_180699 = redout_tmp_182491;
                        redout_180700 = redout_tmp_182492;
                        redout_180701 = redout_tmp_182493;
                    }
                    x_182197 = redout_180699;
                    x_182198 = redout_180700;
                    x_182199 = redout_180701;
                    defunc_0_reduce_res_179338 = x_182197;
                    defunc_0_reduce_res_179339 = x_182198;
                    defunc_0_reduce_res_179340 = x_182199;
                } else {
                    defunc_0_reduce_res_179338 = (int8_t) 0;
                    defunc_0_reduce_res_179339 = (int64_t) 0;
                    defunc_0_reduce_res_179340 = (int64_t) 0;
                }
                
                int64_t distance_179374 = add64((int64_t) 1, tmp_179372);
                int64_t binop_x_181454 = (int64_t) 8 * smallest_pow_2_geq_than_res_179308;
                int64_t bytes_181455 = block_sizze_179318 * binop_x_181454;
                int64_t bytes_181473 = (int64_t) 8 * block_sizze_179318;
                bool loop_cond_179500 = slt64(block_sizze_179318, flat_dim_179319);
                bool zzero_179501 = merge_block_sizze_179324 == (int64_t) 0;
                bool nonzzero_179502 = !zzero_179501;
                
                if (cond_179302) {
                    if (memblock_set(ctx, &ext_mem_181746, &mem_181447, "mem_181447") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &mem_181449, "mem_181449") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &mem_181451, "mem_181451") != 0)
                        return 1;
                } else {
                    if (mem_181453_cached_sizze_182958 < flat_dim_179319) {
                        err = lexical_realloc(ctx, &mem_181453, &mem_181453_cached_sizze_182958, flat_dim_179319);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181456_cached_sizze_182959 < bytes_181455) {
                        err = lexical_realloc(ctx, &mem_181456, &mem_181456_cached_sizze_182959, bytes_181455);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181459_cached_sizze_182960 < bytes_181455) {
                        err = lexical_realloc(ctx, &mem_181459, &mem_181459_cached_sizze_182960, bytes_181455);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181472_cached_sizze_182961 < block_sizze_179318) {
                        err = lexical_realloc(ctx, &mem_181472, &mem_181472_cached_sizze_182961, block_sizze_179318);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181474_cached_sizze_182962 < bytes_181473) {
                        err = lexical_realloc(ctx, &mem_181474, &mem_181474_cached_sizze_182962, bytes_181473);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_182963 < bytes_181473) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_182963, bytes_181473);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180719 = 0; i_180719 < smallest_pow_2_geq_than_res_179308; i_180719++) {
                        int64_t zp_lhs_179382 = mul64(block_sizze_179318, i_180719);
                        
                        for (int64_t i_180709 = 0; i_180709 < block_sizze_179318; i_180709++) {
                            int64_t k_179387 = add64(zp_lhs_179382, i_180709);
                            bool cond_179388 = slt64(k_179387, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                            int8_t lifted_lambda_res_179389;
                            int64_t lifted_lambda_res_179390;
                            int64_t lifted_lambda_res_179391;
                            
                            if (cond_179388) {
                                bool x_179392 = sle64((int64_t) 0, k_179387);
                                bool bounds_check_179393 = cond_179388 && x_179392;
                                bool index_certs_179394;
                                
                                if (!bounds_check_179393) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179387, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179395 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, k_179387);
                                int8_t index_concat_branch_179396 = btoi_bool_i8(index_concat_cmp_179395);
                                int64_t index_concat_branch_179397;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179398 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t index_primexp_179399 = add64(index_concat_branch_179242, index_concat_i_179398);
                                    
                                    index_concat_branch_179397 = index_primexp_179399;
                                } else {
                                    int64_t index_primexp_179400 = add64(index_concat_branch_179239, k_179387);
                                    
                                    index_concat_branch_179397 = index_primexp_179400;
                                }
                                
                                int64_t index_concat_branch_179401;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179402 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t slice_179403 = index_concat_branch_179242 + index_concat_i_179402;
                                    int64_t slice_179404 = p_175543 + slice_179403;
                                    int64_t index_concat_179405 = ((int64_t *) b_list_mem_181033.mem)[slice_179404];
                                    
                                    index_concat_branch_179401 = index_concat_179405;
                                } else {
                                    int64_t slice_179406 = index_concat_branch_179239 + k_179387;
                                    int64_t slice_179407 = p_175542 + slice_179406;
                                    int64_t index_concat_179408 = ((int64_t *) a_list_mem_181032.mem)[slice_179407];
                                    
                                    index_concat_branch_179401 = index_concat_179408;
                                }
                                lifted_lambda_res_179389 = index_concat_branch_179396;
                                lifted_lambda_res_179390 = index_concat_branch_179397;
                                lifted_lambda_res_179391 = index_concat_branch_179401;
                            } else {
                                lifted_lambda_res_179389 = defunc_0_reduce_res_179338;
                                lifted_lambda_res_179390 = defunc_0_reduce_res_179339;
                                lifted_lambda_res_179391 = defunc_0_reduce_res_179340;
                            }
                            ((int8_t *) mem_181472)[i_180709] = lifted_lambda_res_179389;
                            ((int64_t *) mem_181474)[i_180709] = lifted_lambda_res_179390;
                            ((int64_t *) mem_181476)[i_180709] = lifted_lambda_res_179391;
                        }
                        if (!cond_179371) {
                            for (int64_t i_179418 = 0; i_179418 < distance_179374; i_179418++) {
                                int64_t gt_arg1_179422 = add64((int64_t) 1, i_179418);
                                bool x_179423 = sle64((int64_t) 0, gt_arg1_179422);
                                bool y_179424 = slt64(gt_arg1_179422, block_sizze_179318);
                                bool bounds_check_179425 = x_179423 && y_179424;
                                bool index_certs_179426;
                                
                                if (!bounds_check_179425) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179422, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179430 = slt64(i_179418, block_sizze_179318);
                                bool index_certs_179431;
                                
                                if (!y_179430) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179418, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179427 = ((int8_t *) mem_181472)[gt_arg1_179422];
                                int64_t gt_arg1_179428 = ((int64_t *) mem_181474)[gt_arg1_179422];
                                int64_t gt_arg1_179429 = ((int64_t *) mem_181476)[gt_arg1_179422];
                                int8_t gt_arg0_179432 = ((int8_t *) mem_181472)[i_179418];
                                int64_t gt_arg0_179433 = ((int64_t *) mem_181474)[i_179418];
                                int64_t gt_arg0_179434 = ((int64_t *) mem_181476)[i_179418];
                                bool cond_179435 = gt_arg0_179432 == gt_arg1_179427;
                                bool defunc_0_leq_res_t_res_179436 = sle64(gt_arg0_179433, gt_arg1_179428);
                                bool defunc_0_leq_res_179437 = sle64(gt_arg0_179434, gt_arg1_179429);
                                bool x_179438 = cond_179435 && defunc_0_leq_res_t_res_179436;
                                bool x_179439 = !cond_179435;
                                bool y_179440 = defunc_0_leq_res_179437 && x_179439;
                                bool defunc_0_leq_res_179441 = x_179438 || y_179440;
                                bool defunc_0_lifted_gt_res_179442 = !defunc_0_leq_res_179441;
                                bool s_179443;
                                int64_t s_179447;
                                bool loop_while_179448;
                                int64_t j_179452;
                                
                                loop_while_179448 = defunc_0_lifted_gt_res_179442;
                                j_179452 = i_179418;
                                while (loop_while_179448) {
                                    bool x_179453 = sle64((int64_t) 0, j_179452);
                                    bool y_179454 = slt64(j_179452, block_sizze_179318);
                                    bool bounds_check_179455 = x_179453 && y_179454;
                                    bool index_certs_179456;
                                    
                                    if (!bounds_check_179455) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179452, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179460 = add64((int64_t) 1, j_179452);
                                    bool x_179461 = sle64((int64_t) 0, copy_arg0_179460);
                                    bool y_179462 = slt64(copy_arg0_179460, block_sizze_179318);
                                    bool bounds_check_179463 = x_179461 && y_179462;
                                    bool index_certs_179464;
                                    
                                    if (!bounds_check_179463) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179460, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179457 = ((int8_t *) mem_181472)[j_179452];
                                    int64_t copy_arg0_179458 = ((int64_t *) mem_181474)[j_179452];
                                    int64_t copy_arg0_179459 = ((int64_t *) mem_181476)[j_179452];
                                    int8_t copy_arg0_179465 = ((int8_t *) mem_181472)[copy_arg0_179460];
                                    int64_t copy_arg0_179466 = ((int64_t *) mem_181474)[copy_arg0_179460];
                                    int64_t copy_arg0_179467 = ((int64_t *) mem_181476)[copy_arg0_179460];
                                    
                                    ((int8_t *) mem_181472)[j_179452] = copy_arg0_179465;
                                    ((int64_t *) mem_181474)[j_179452] = copy_arg0_179466;
                                    ((int64_t *) mem_181476)[j_179452] = copy_arg0_179467;
                                    ((int8_t *) mem_181472)[copy_arg0_179460] = copy_arg0_179457;
                                    ((int64_t *) mem_181474)[copy_arg0_179460] = copy_arg0_179458;
                                    ((int64_t *) mem_181476)[copy_arg0_179460] = copy_arg0_179459;
                                    
                                    int64_t tmp_179474 = sub64(j_179452, (int64_t) 1);
                                    bool cond_179475 = sle64((int64_t) 0, tmp_179474);
                                    bool loop_cond_179476;
                                    
                                    if (cond_179475) {
                                        bool y_179480 = slt64(tmp_179474, block_sizze_179318);
                                        bool bounds_check_179481 = cond_179475 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179474, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_181472)[j_179452];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_181474)[j_179452];
                                        int64_t gt_arg1_179479 = ((int64_t *) mem_181476)[j_179452];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_181472)[tmp_179474];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_181474)[tmp_179474];
                                        int64_t gt_arg0_179485 = ((int64_t *) mem_181476)[tmp_179474];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = sle64(gt_arg0_179485, gt_arg1_179479);
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_179476 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_179476 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182503 = loop_cond_179476;
                                    int64_t j_tmp_182507 = tmp_179474;
                                    
                                    loop_while_179448 = loop_while_tmp_182503;
                                    j_179452 = j_tmp_182507;
                                }
                                s_179443 = loop_while_179448;
                                s_179447 = j_179452;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181453, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181472, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181456, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181474, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181459, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181476, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                    }
                    if (memblock_alloc(ctx, &mem_181553, flat_dim_179319, "mem_181553")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181553.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint8_t *) mem_181453, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181557, bytes_181455, "mem_181557")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181557.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint64_t *) mem_181456, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181561, bytes_181455, "mem_181561")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181561.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint64_t *) mem_181459, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    
                    int64_t data_179503;
                    bool data_179504;
                    int64_t data_179508;
                    int64_t loop_dz2084Uz2082U_179509;
                    bool loop_while_179510;
                    int64_t stride_179514;
                    
                    if (memblock_set(ctx, &mem_param_181565, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181568, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181571, &mem_181561, "mem_181561") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179509 = flat_dim_179319;
                    loop_while_179510 = loop_cond_179500;
                    stride_179514 = block_sizze_179318;
                    while (loop_while_179510) {
                        int64_t next_stride_179515 = mul64((int64_t) 2, stride_179514);
                        bool zzero_179516 = next_stride_179515 == (int64_t) 0;
                        bool nonzzero_179517 = !zzero_179516;
                        bool nonzzero_cert_179518;
                        
                        if (!nonzzero_179517) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179519 = sdiv64(flat_dim_179319, next_stride_179515);
                        bool bounds_invalid_upwards_179520 = slt64(num_merges_179519, (int64_t) 0);
                        bool valid_179521 = !bounds_invalid_upwards_179520;
                        bool range_valid_c_179522;
                        
                        if (!valid_179521) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179519, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179524 = sub64(next_stride_179515, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179525 = sle64((int64_t) 0, m_179524);
                        bool cond_179527 = slt64(next_stride_179515, (int64_t) 10);
                        bool protect_assert_disj_179528 = nonzzero_179502 || cond_179527;
                        bool nonzzero_cert_179529;
                        
                        if (!protect_assert_disj_179528) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179530 = smod_safe64(next_stride_179515, merge_block_sizze_179324);
                        bool num_blocks_179531 = zeze_lhs_179530 == (int64_t) 0;
                        bool protect_assert_disj_179532 = cond_179527 || num_blocks_179531;
                        bool assert_c_179533;
                        
                        if (!protect_assert_disj_179532) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179534 = sdiv_safe64(next_stride_179515, merge_block_sizze_179324);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535 = add64((int64_t) 1, num_blocks_179534);
                        int64_t j_m_i_179536 = sub64(next_stride_179515, stride_179514);
                        int64_t flat_dim_179537 = merge_block_sizze_179324 * num_blocks_179534;
                        bool bounds_invalid_upwards_179538 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, (int64_t) 0);
                        bool empty_slice_179539 = j_m_i_179536 == (int64_t) 0;
                        int64_t m_179540 = sub64(j_m_i_179536, (int64_t) 1);
                        bool zzero_lte_i_179541 = sle64((int64_t) 0, stride_179514);
                        bool i_lte_j_179542 = sle64(stride_179514, next_stride_179515);
                        bool empty_slice_179543 = stride_179514 == (int64_t) 0;
                        int64_t m_179544 = sub64(stride_179514, (int64_t) 1);
                        bool bounds_invalid_upwards_179545 = slt64(num_blocks_179534, (int64_t) 0);
                        bool cond_179546 = slt64((int64_t) 0, stride_179514);
                        bool valid_179547 = !bounds_invalid_upwards_179538;
                        int64_t i_p_m_t_s_179548 = add64(stride_179514, m_179540);
                        bool zzero_leq_i_p_m_t_s_179549 = sle64((int64_t) 0, m_179544);
                        bool i_p_m_t_s_leq_w_179550 = slt64(m_179544, next_stride_179515);
                        bool valid_179551 = !bounds_invalid_upwards_179545;
                        bool i_p_m_t_s_leq_w_179552 = slt64(m_179524, flat_dim_179537);
                        bool y_179553 = slt64((int64_t) 0, j_m_i_179536);
                        bool protect_assert_disj_179554 = cond_179527 || valid_179547;
                        bool range_valid_c_179555;
                        
                        if (!protect_assert_disj_179554) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179556 = sle64((int64_t) 0, i_p_m_t_s_179548);
                        bool i_p_m_t_s_leq_w_179557 = slt64(i_p_m_t_s_179548, next_stride_179515);
                        bool y_179558 = zzero_leq_i_p_m_t_s_179549 && i_p_m_t_s_leq_w_179550;
                        bool protect_assert_disj_179559 = cond_179527 || valid_179551;
                        bool range_valid_c_179560;
                        
                        if (!protect_assert_disj_179559) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179534, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179561 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179552;
                        bool y_179562 = zzero_lte_i_179541 && i_p_m_t_s_leq_w_179557;
                        bool forwards_ok_179563 = zzero_lte_i_179541 && y_179558;
                        bool ok_or_empty_179564 = zzero_179516 || y_179561;
                        bool protect_assert_disj_179565 = cond_179546 || y_179553;
                        bool y_179566 = zzero_leq_i_p_m_t_s_179556 && y_179562;
                        bool ok_or_empty_179567 = empty_slice_179543 || forwards_ok_179563;
                        bool protect_assert_disj_179568 = cond_179527 || ok_or_empty_179564;
                        bool index_certs_179569;
                        
                        if (!protect_assert_disj_179568) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) flat_dim_179537, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179570 = !cond_179527;
                        bool protect_assert_disj_179571 = protect_assert_disj_179565 || loop_not_taken_179570;
                        bool index_certs_179572;
                        
                        if (!protect_assert_disj_179571) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179573 = i_lte_j_179542 && y_179566;
                        bool protect_assert_disj_179574 = cond_179527 || ok_or_empty_179567;
                        bool index_certs_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179576 = ok_or_empty_179567 || loop_not_taken_179570;
                        bool index_certs_179577;
                        
                        if (!protect_assert_disj_179576) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179578 = empty_slice_179539 || forwards_ok_179573;
                        bool protect_assert_disj_179579 = cond_179527 || ok_or_empty_179578;
                        bool index_certs_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179581 = loop_not_taken_179570 || ok_or_empty_179578;
                        bool index_certs_179582;
                        
                        if (!protect_assert_disj_179581) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181572 = next_stride_179515 * num_merges_179519;
                        int64_t binop_x_181574 = (int64_t) 8 * num_merges_179519;
                        int64_t bytes_181575 = next_stride_179515 * binop_x_181574;
                        bool i_lte_j_179526 = sle64((int64_t) 0, next_stride_179515);
                        
                        if (mem_181573_cached_sizze_182964 < bytes_181572) {
                            err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_182964, bytes_181572);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181576_cached_sizze_182965 < bytes_181575) {
                            err = lexical_realloc(ctx, &mem_181576, &mem_181576_cached_sizze_182965, bytes_181575);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181579_cached_sizze_182966 < bytes_181575) {
                            err = lexical_realloc(ctx, &mem_181579, &mem_181579_cached_sizze_182966, bytes_181575);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181592 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535;
                        int64_t binop_x_181610 = (int64_t) 8 * num_blocks_179534;
                        int64_t bytes_181611 = merge_block_sizze_179324 * binop_x_181610;
                        int64_t bytes_181675 = (int64_t) 16 * stride_179514;
                        
                        for (int64_t i_180746 = 0; i_180746 < num_merges_179519; i_180746++) {
                            int64_t start_179587 = mul64(next_stride_179515, i_180746);
                            int64_t j_m_i_179588 = sub64(loop_dz2084Uz2082U_179509, start_179587);
                            bool empty_slice_179589 = j_m_i_179588 == (int64_t) 0;
                            int64_t m_179590 = sub64(j_m_i_179588, (int64_t) 1);
                            int64_t i_p_m_t_s_179591 = add64(start_179587, m_179590);
                            bool zzero_leq_i_p_m_t_s_179592 = sle64((int64_t) 0, i_p_m_t_s_179591);
                            bool i_p_m_t_s_leq_w_179593 = slt64(i_p_m_t_s_179591, loop_dz2084Uz2082U_179509);
                            bool zzero_lte_i_179594 = sle64((int64_t) 0, start_179587);
                            bool i_lte_j_179595 = sle64(start_179587, loop_dz2084Uz2082U_179509);
                            bool y_179596 = i_p_m_t_s_leq_w_179593 && zzero_lte_i_179594;
                            bool y_179597 = zzero_leq_i_p_m_t_s_179592 && y_179596;
                            bool forwards_ok_179598 = i_lte_j_179595 && y_179597;
                            bool ok_or_empty_179599 = empty_slice_179589 || forwards_ok_179598;
                            bool index_certs_179600;
                            
                            if (!ok_or_empty_179599) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179587, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179509, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179601 = slt64(m_179524, j_m_i_179588);
                            bool y_179602 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179601;
                            bool forwards_ok_179603 = i_lte_j_179526 && y_179602;
                            bool ok_or_empty_179604 = zzero_179516 || forwards_ok_179603;
                            bool index_certs_179605;
                            
                            if (!ok_or_empty_179604) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) j_m_i_179588, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179527) {
                                int8_t dummy_179609;
                                int64_t dummy_179610;
                                int64_t dummy_179611;
                                
                                if (cond_179546) {
                                    int8_t head_res_179612 = ((int8_t *) mem_param_181565.mem)[start_179587];
                                    int64_t head_res_179613 = ((int64_t *) mem_param_181568.mem)[start_179587];
                                    int64_t head_res_179614 = ((int64_t *) mem_param_181571.mem)[start_179587];
                                    
                                    dummy_179609 = head_res_179612;
                                    dummy_179610 = head_res_179613;
                                    dummy_179611 = head_res_179614;
                                } else {
                                    int64_t slice_179615 = stride_179514 + start_179587;
                                    int8_t head_res_179616 = ((int8_t *) mem_param_181565.mem)[slice_179615];
                                    int64_t head_res_179617 = ((int64_t *) mem_param_181568.mem)[slice_179615];
                                    int64_t head_res_179618 = ((int64_t *) mem_param_181571.mem)[slice_179615];
                                    
                                    dummy_179609 = head_res_179616;
                                    dummy_179610 = head_res_179617;
                                    dummy_179611 = head_res_179618;
                                }
                                if (memblock_alloc(ctx, &mem_181674, next_stride_179515, "mem_181674")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182520 = 0; nest_i_182520 < next_stride_179515; nest_i_182520++) {
                                    ((int8_t *) mem_181674.mem)[nest_i_182520] = dummy_179609;
                                }
                                if (memblock_alloc(ctx, &mem_181676, bytes_181675, "mem_181676")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182521 = 0; nest_i_182521 < next_stride_179515; nest_i_182521++) {
                                    ((int64_t *) mem_181676.mem)[nest_i_182521] = dummy_179610;
                                }
                                if (memblock_alloc(ctx, &mem_181678, bytes_181675, "mem_181678")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182522 = 0; nest_i_182522 < next_stride_179515; nest_i_182522++) {
                                    ((int64_t *) mem_181678.mem)[nest_i_182522] = dummy_179611;
                                }
                                
                                int64_t data_179622;
                                int64_t i_179627 = (int64_t) 0;
                                
                                for (int64_t k_179626 = 0; k_179626 < next_stride_179515; k_179626++) {
                                    int64_t j_179631 = sub64(k_179626, i_179627);
                                    bool cond_179632 = j_179631 == j_m_i_179536;
                                    bool cond_179633;
                                    
                                    if (cond_179632) {
                                        cond_179633 = 1;
                                    } else {
                                        bool cond_179634 = slt64(i_179627, stride_179514);
                                        bool cond_f_res_179635;
                                        
                                        if (cond_179634) {
                                            bool x_179636 = sle64((int64_t) 0, j_179631);
                                            bool y_179637 = slt64(j_179631, j_m_i_179536);
                                            bool bounds_check_179638 = x_179636 && y_179637;
                                            bool index_certs_179639;
                                            
                                            if (!bounds_check_179638) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179645 = sle64((int64_t) 0, i_179627);
                                            bool bounds_check_179646 = cond_179634 && x_179645;
                                            bool index_certs_179647;
                                            
                                            if (!bounds_check_179646) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179640 = stride_179514 + j_179631;
                                            int64_t slice_179641 = start_179587 + slice_179640;
                                            int8_t leq_arg1_179642 = ((int8_t *) mem_param_181565.mem)[slice_179641];
                                            int64_t leq_arg1_179643 = ((int64_t *) mem_param_181568.mem)[slice_179641];
                                            int64_t leq_arg1_179644 = ((int64_t *) mem_param_181571.mem)[slice_179641];
                                            int64_t slice_179648 = start_179587 + i_179627;
                                            int8_t leq_arg0_179649 = ((int8_t *) mem_param_181565.mem)[slice_179648];
                                            int64_t leq_arg0_179650 = ((int64_t *) mem_param_181568.mem)[slice_179648];
                                            int64_t leq_arg0_179651 = ((int64_t *) mem_param_181571.mem)[slice_179648];
                                            bool cond_179652 = leq_arg0_179649 == leq_arg1_179642;
                                            bool defunc_0_leq_res_t_res_179653 = sle64(leq_arg0_179650, leq_arg1_179643);
                                            bool defunc_0_leq_res_179654 = sle64(leq_arg0_179651, leq_arg1_179644);
                                            bool x_179655 = cond_179652 && defunc_0_leq_res_t_res_179653;
                                            bool x_179656 = !cond_179652;
                                            bool y_179657 = defunc_0_leq_res_179654 && x_179656;
                                            bool defunc_0_leq_res_179658 = x_179655 || y_179657;
                                            
                                            cond_f_res_179635 = defunc_0_leq_res_179658;
                                        } else {
                                            cond_f_res_179635 = 0;
                                        }
                                        cond_179633 = cond_f_res_179635;
                                    }
                                    
                                    int64_t loopres_179659;
                                    int8_t loopres_179660;
                                    int64_t loopres_179661;
                                    int64_t loopres_179662;
                                    
                                    if (cond_179633) {
                                        bool x_179664 = sle64((int64_t) 0, i_179627);
                                        bool y_179665 = slt64(i_179627, stride_179514);
                                        bool bounds_check_179666 = x_179664 && y_179665;
                                        bool index_certs_179667;
                                        
                                        if (!bounds_check_179666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179663 = add64((int64_t) 1, i_179627);
                                        int64_t slice_179668 = start_179587 + i_179627;
                                        int8_t tmp_179669 = ((int8_t *) mem_param_181565.mem)[slice_179668];
                                        int64_t tmp_179670 = ((int64_t *) mem_param_181568.mem)[slice_179668];
                                        int64_t tmp_179671 = ((int64_t *) mem_param_181571.mem)[slice_179668];
                                        
                                        loopres_179659 = tmp_179663;
                                        loopres_179660 = tmp_179669;
                                        loopres_179661 = tmp_179670;
                                        loopres_179662 = tmp_179671;
                                    } else {
                                        bool x_179672 = sle64((int64_t) 0, j_179631);
                                        bool y_179673 = slt64(j_179631, j_m_i_179536);
                                        bool bounds_check_179674 = x_179672 && y_179673;
                                        bool index_certs_179675;
                                        
                                        if (!bounds_check_179674) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179676 = stride_179514 + j_179631;
                                        int64_t slice_179677 = start_179587 + slice_179676;
                                        int8_t tmp_179678 = ((int8_t *) mem_param_181565.mem)[slice_179677];
                                        int64_t tmp_179679 = ((int64_t *) mem_param_181568.mem)[slice_179677];
                                        int64_t tmp_179680 = ((int64_t *) mem_param_181571.mem)[slice_179677];
                                        
                                        loopres_179659 = i_179627;
                                        loopres_179660 = tmp_179678;
                                        loopres_179661 = tmp_179679;
                                        loopres_179662 = tmp_179680;
                                    }
                                    ((int8_t *) mem_181674.mem)[k_179626] = loopres_179660;
                                    ((int64_t *) mem_181676.mem)[k_179626] = loopres_179661;
                                    ((int64_t *) mem_181678.mem)[k_179626] = loopres_179662;
                                    
                                    int64_t i_tmp_182523 = loopres_179659;
                                    
                                    i_179627 = i_tmp_182523;
                                }
                                data_179622 = i_179627;
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181674, "mem_181674") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181676, "mem_181676") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181678, "mem_181678") != 0)
                                    return 1;
                            } else {
                                if (mem_181593_cached_sizze_182967 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_182967, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181595_cached_sizze_182968 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181595, &mem_181595_cached_sizze_182968, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180727 = 0; i_180727 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535; i_180727++) {
                                    int64_t split_count_arg3_179688 = mul64(merge_block_sizze_179324, i_180727);
                                    int64_t defunc_0_split_count_res_179689;
                                    int64_t defunc_0_split_count_res_179690;
                                    int64_t defunc_0_split_count_res_179691;
                                    int64_t defunc_0_split_count_res_179692;
                                    int64_t defunc_0_split_count_res_179693;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_179689, &defunc_0_split_count_res_179690, &defunc_0_split_count_res_179691, &defunc_0_split_count_res_179692, &defunc_0_split_count_res_179693, (int64_t) 0, stride_179514, (int64_t) 0, j_m_i_179536, split_count_arg3_179688) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179694 = slt64((int64_t) 0, defunc_0_split_count_res_179693);
                                    bool defunc_0_split_count_res_179695;
                                    int64_t defunc_0_split_count_res_179696;
                                    int64_t defunc_0_split_count_res_179697;
                                    int64_t defunc_0_split_count_res_179698;
                                    int64_t defunc_0_split_count_res_179699;
                                    int64_t defunc_0_split_count_res_179700;
                                    bool loop_while_179701;
                                    int64_t ss_179702;
                                    int64_t ss_179703;
                                    int64_t tt_179704;
                                    int64_t tt_179705;
                                    int64_t count_179706;
                                    
                                    loop_while_179701 = loop_cond_179694;
                                    ss_179702 = defunc_0_split_count_res_179689;
                                    ss_179703 = defunc_0_split_count_res_179690;
                                    tt_179704 = defunc_0_split_count_res_179691;
                                    tt_179705 = defunc_0_split_count_res_179692;
                                    count_179706 = defunc_0_split_count_res_179693;
                                    while (loop_while_179701) {
                                        int64_t zlze_lhs_179707 = sub64(ss_179703, ss_179702);
                                        bool cond_179708 = sle64(zlze_lhs_179707, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179709;
                                        int64_t defunc_0_lifted_step_res_179710;
                                        int64_t defunc_0_lifted_step_res_179711;
                                        int64_t defunc_0_lifted_step_res_179712;
                                        
                                        if (cond_179708) {
                                            int64_t tmp_179713 = add64(tt_179704, count_179706);
                                            
                                            defunc_0_lifted_step_res_179709 = ss_179702;
                                            defunc_0_lifted_step_res_179710 = tmp_179713;
                                            defunc_0_lifted_step_res_179711 = tt_179705;
                                            defunc_0_lifted_step_res_179712 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179714 = sub64(tt_179705, tt_179704);
                                            bool cond_179715 = sle64(zlze_lhs_179714, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179716;
                                            int64_t defunc_0_lifted_step_res_f_res_179717;
                                            int64_t defunc_0_lifted_step_res_f_res_179718;
                                            int64_t defunc_0_lifted_step_res_f_res_179719;
                                            
                                            if (cond_179715) {
                                                int64_t tmp_179720 = add64(ss_179702, count_179706);
                                                
                                                defunc_0_lifted_step_res_f_res_179716 = tmp_179720;
                                                defunc_0_lifted_step_res_f_res_179717 = tt_179704;
                                                defunc_0_lifted_step_res_f_res_179718 = tt_179705;
                                                defunc_0_lifted_step_res_f_res_179719 = (int64_t) 0;
                                            } else {
                                                bool cond_179721 = count_179706 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179722;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179723;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179724;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179725;
                                                
                                                if (cond_179721) {
                                                    bool x_179726 = sle64((int64_t) 0, ss_179702);
                                                    bool y_179727 = slt64(ss_179702, stride_179514);
                                                    bool bounds_check_179728 = x_179726 && y_179727;
                                                    bool index_certs_179729;
                                                    
                                                    if (!bounds_check_179728) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179702, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179734 = sle64((int64_t) 0, tt_179704);
                                                    bool y_179735 = slt64(tt_179704, j_m_i_179536);
                                                    bool bounds_check_179736 = x_179734 && y_179735;
                                                    bool index_certs_179737;
                                                    
                                                    if (!bounds_check_179736) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179704, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179730 = start_179587 + ss_179702;
                                                    int8_t leq_arg1_179731 = ((int8_t *) mem_param_181565.mem)[slice_179730];
                                                    int64_t leq_arg1_179732 = ((int64_t *) mem_param_181568.mem)[slice_179730];
                                                    int64_t leq_arg1_179733 = ((int64_t *) mem_param_181571.mem)[slice_179730];
                                                    int64_t slice_179738 = stride_179514 + tt_179704;
                                                    int64_t slice_179739 = start_179587 + slice_179738;
                                                    int8_t leq_arg0_179740 = ((int8_t *) mem_param_181565.mem)[slice_179739];
                                                    int64_t leq_arg0_179741 = ((int64_t *) mem_param_181568.mem)[slice_179739];
                                                    int64_t leq_arg0_179742 = ((int64_t *) mem_param_181571.mem)[slice_179739];
                                                    bool cond_179743 = leq_arg0_179740 == leq_arg1_179731;
                                                    bool defunc_0_leq_res_t_res_179744 = sle64(leq_arg0_179741, leq_arg1_179732);
                                                    bool defunc_0_leq_res_179745 = sle64(leq_arg0_179742, leq_arg1_179733);
                                                    bool x_179746 = cond_179743 && defunc_0_leq_res_t_res_179744;
                                                    bool x_179747 = !cond_179743;
                                                    bool y_179748 = defunc_0_leq_res_179745 && x_179747;
                                                    bool defunc_0_leq_res_179749 = x_179746 || y_179748;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    
                                                    if (defunc_0_leq_res_179749) {
                                                        int64_t tmp_179752 = add64((int64_t) 1, tt_179704);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = ss_179702;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tmp_179752;
                                                    } else {
                                                        int64_t tmp_179753 = add64((int64_t) 1, ss_179702);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = tmp_179753;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tt_179704;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = tt_179705;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179754 = sdiv64(count_179706, (int64_t) 2);
                                                    int64_t n_179755 = sub64(count_179706, m_179754);
                                                    bool cond_179756 = n_179755 == (int64_t) 0;
                                                    int64_t zgze_lhs_179757 = add64(ss_179702, m_179754);
                                                    bool cond_f_res_179758 = sle64(ss_179703, zgze_lhs_179757);
                                                    bool x_179759 = !cond_179756;
                                                    bool y_179760 = cond_f_res_179758 && x_179759;
                                                    bool cond_179761 = cond_179756 || y_179760;
                                                    bool leq_y_x_179762;
                                                    
                                                    if (cond_179761) {
                                                        leq_y_x_179762 = 1;
                                                    } else {
                                                        bool x_179763 = sle64((int64_t) 0, zgze_lhs_179757);
                                                        bool y_179764 = slt64(zgze_lhs_179757, stride_179514);
                                                        bool bounds_check_179765 = x_179763 && y_179764;
                                                        bool index_certs_179766;
                                                        
                                                        if (!bounds_check_179765) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179757, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179771 = add64(tt_179704, n_179755);
                                                        int64_t leq_arg0_179772 = sub64(zm_lhs_179771, (int64_t) 1);
                                                        bool x_179773 = sle64((int64_t) 0, leq_arg0_179772);
                                                        bool y_179774 = slt64(leq_arg0_179772, j_m_i_179536);
                                                        bool bounds_check_179775 = x_179773 && y_179774;
                                                        bool index_certs_179776;
                                                        
                                                        if (!bounds_check_179775) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179772, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:389:63-73\n   #13 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179767 = start_179587 + zgze_lhs_179757;
                                                        int8_t leq_arg1_179768 = ((int8_t *) mem_param_181565.mem)[slice_179767];
                                                        int64_t leq_arg1_179769 = ((int64_t *) mem_param_181568.mem)[slice_179767];
                                                        int64_t leq_arg1_179770 = ((int64_t *) mem_param_181571.mem)[slice_179767];
                                                        int64_t slice_179777 = stride_179514 + leq_arg0_179772;
                                                        int64_t slice_179778 = start_179587 + slice_179777;
                                                        int8_t leq_arg0_179779 = ((int8_t *) mem_param_181565.mem)[slice_179778];
                                                        int64_t leq_arg0_179780 = ((int64_t *) mem_param_181568.mem)[slice_179778];
                                                        int64_t leq_arg0_179781 = ((int64_t *) mem_param_181571.mem)[slice_179778];
                                                        bool cond_179782 = leq_arg0_179779 == leq_arg1_179768;
                                                        bool defunc_0_leq_res_t_res_179783 = sle64(leq_arg0_179780, leq_arg1_179769);
                                                        bool defunc_0_leq_res_179784 = sle64(leq_arg0_179781, leq_arg1_179770);
                                                        bool x_179785 = cond_179782 && defunc_0_leq_res_t_res_179783;
                                                        bool x_179786 = !cond_179782;
                                                        bool y_179787 = defunc_0_leq_res_179784 && x_179786;
                                                        bool defunc_0_leq_res_179788 = x_179785 || y_179787;
                                                        
                                                        leq_y_x_179762 = defunc_0_leq_res_179788;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                    
                                                    if (leq_y_x_179762) {
                                                        int64_t tmp_179792 = add64(tt_179704, n_179755);
                                                        int64_t tmp_179793 = sub64(count_179706, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tmp_179792;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tt_179705;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = tmp_179793;
                                                    } else {
                                                        int64_t tmp_179794 = add64(tt_179704, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tt_179704;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tmp_179794;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = count_179706;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = ss_179702;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                }
                                                defunc_0_lifted_step_res_f_res_179716 = defunc_0_lifted_step_res_f_res_f_res_179722;
                                                defunc_0_lifted_step_res_f_res_179717 = defunc_0_lifted_step_res_f_res_f_res_179723;
                                                defunc_0_lifted_step_res_f_res_179718 = defunc_0_lifted_step_res_f_res_f_res_179724;
                                                defunc_0_lifted_step_res_f_res_179719 = defunc_0_lifted_step_res_f_res_f_res_179725;
                                            }
                                            defunc_0_lifted_step_res_179709 = defunc_0_lifted_step_res_f_res_179716;
                                            defunc_0_lifted_step_res_179710 = defunc_0_lifted_step_res_f_res_179717;
                                            defunc_0_lifted_step_res_179711 = defunc_0_lifted_step_res_f_res_179718;
                                            defunc_0_lifted_step_res_179712 = defunc_0_lifted_step_res_f_res_179719;
                                        }
                                        
                                        int64_t loopres_179795;
                                        int64_t loopres_179796;
                                        int64_t loopres_179797;
                                        int64_t loopres_179798;
                                        int64_t loopres_179799;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_179795, &loopres_179796, &loopres_179797, &loopres_179798, &loopres_179799, defunc_0_lifted_step_res_179709, ss_179703, defunc_0_lifted_step_res_179710, defunc_0_lifted_step_res_179711, defunc_0_lifted_step_res_179712) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179800 = slt64((int64_t) 0, loopres_179799);
                                        bool loop_while_tmp_182529 = loop_cond_179800;
                                        int64_t ss_tmp_182530 = loopres_179795;
                                        int64_t ss_tmp_182531 = loopres_179796;
                                        int64_t tt_tmp_182532 = loopres_179797;
                                        int64_t tt_tmp_182533 = loopres_179798;
                                        int64_t count_tmp_182534 = loopres_179799;
                                        
                                        loop_while_179701 = loop_while_tmp_182529;
                                        ss_179702 = ss_tmp_182530;
                                        ss_179703 = ss_tmp_182531;
                                        tt_179704 = tt_tmp_182532;
                                        tt_179705 = tt_tmp_182533;
                                        count_179706 = count_tmp_182534;
                                    }
                                    defunc_0_split_count_res_179695 = loop_while_179701;
                                    defunc_0_split_count_res_179696 = ss_179702;
                                    defunc_0_split_count_res_179697 = ss_179703;
                                    defunc_0_split_count_res_179698 = tt_179704;
                                    defunc_0_split_count_res_179699 = tt_179705;
                                    defunc_0_split_count_res_179700 = count_179706;
                                    ((int64_t *) mem_181593)[i_180727] = defunc_0_split_count_res_179696;
                                    ((int64_t *) mem_181595)[i_180727] = defunc_0_split_count_res_179698;
                                }
                                if (mem_181609_cached_sizze_182969 < flat_dim_179537) {
                                    err = lexical_realloc(ctx, &mem_181609, &mem_181609_cached_sizze_182969, flat_dim_179537);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181612_cached_sizze_182970 < bytes_181611) {
                                    err = lexical_realloc(ctx, &mem_181612, &mem_181612_cached_sizze_182970, bytes_181611);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_182971 < bytes_181611) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_182971, bytes_181611);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180736 = 0; i_180736 < num_blocks_179534; i_180736++) {
                                    bool y_179809 = slt64(i_180736, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool index_certs_179811;
                                    
                                    if (!y_179809) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180736, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179812 = ((int64_t *) mem_181593)[i_180736];
                                    int64_t defunc_0_f_res_179813 = ((int64_t *) mem_181595)[i_180736];
                                    int64_t tmp_179814 = add64((int64_t) 1, i_180736);
                                    bool x_179815 = sle64((int64_t) 0, tmp_179814);
                                    bool y_179816 = slt64(tmp_179814, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool bounds_check_179817 = x_179815 && y_179816;
                                    bool index_certs_179818;
                                    
                                    if (!bounds_check_179817) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179814, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179819 = ((int64_t *) mem_181593)[tmp_179814];
                                    int64_t defunc_0_f_res_179820 = ((int64_t *) mem_181595)[tmp_179814];
                                    int64_t merge_sequential_arg2_179821 = add64(stride_179514, defunc_0_f_res_179813);
                                    int64_t merge_sequential_arg2_179822 = add64(stride_179514, defunc_0_f_res_179820);
                                    int64_t j_m_i_179823 = sub64(merge_sequential_arg2_179822, merge_sequential_arg2_179821);
                                    bool empty_slice_179824 = j_m_i_179823 == (int64_t) 0;
                                    int64_t m_179825 = sub64(j_m_i_179823, (int64_t) 1);
                                    int64_t i_p_m_t_s_179826 = add64(merge_sequential_arg2_179821, m_179825);
                                    bool zzero_leq_i_p_m_t_s_179827 = sle64((int64_t) 0, i_p_m_t_s_179826);
                                    bool i_p_m_t_s_leq_w_179828 = slt64(i_p_m_t_s_179826, next_stride_179515);
                                    bool zzero_lte_i_179829 = sle64((int64_t) 0, merge_sequential_arg2_179821);
                                    bool i_lte_j_179830 = sle64(merge_sequential_arg2_179821, merge_sequential_arg2_179822);
                                    bool y_179831 = i_p_m_t_s_leq_w_179828 && zzero_lte_i_179829;
                                    bool y_179832 = zzero_leq_i_p_m_t_s_179827 && y_179831;
                                    bool forwards_ok_179833 = i_lte_j_179830 && y_179832;
                                    bool ok_or_empty_179834 = empty_slice_179824 || forwards_ok_179833;
                                    bool index_certs_179835;
                                    
                                    if (!ok_or_empty_179834) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179821, ":", (long long) merge_sequential_arg2_179822, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179836 = sub64(defunc_0_f_res_179819, defunc_0_f_res_179812);
                                    bool empty_slice_179837 = j_m_i_179836 == (int64_t) 0;
                                    int64_t m_179838 = sub64(j_m_i_179836, (int64_t) 1);
                                    int64_t i_p_m_t_s_179839 = add64(defunc_0_f_res_179812, m_179838);
                                    bool zzero_leq_i_p_m_t_s_179840 = sle64((int64_t) 0, i_p_m_t_s_179839);
                                    bool i_p_m_t_s_leq_w_179841 = slt64(i_p_m_t_s_179839, next_stride_179515);
                                    bool zzero_lte_i_179842 = sle64((int64_t) 0, defunc_0_f_res_179812);
                                    bool i_lte_j_179843 = sle64(defunc_0_f_res_179812, defunc_0_f_res_179819);
                                    bool y_179844 = i_p_m_t_s_leq_w_179841 && zzero_lte_i_179842;
                                    bool y_179845 = zzero_leq_i_p_m_t_s_179840 && y_179844;
                                    bool forwards_ok_179846 = i_lte_j_179843 && y_179845;
                                    bool ok_or_empty_179847 = empty_slice_179837 || forwards_ok_179846;
                                    bool index_certs_179848;
                                    
                                    if (!ok_or_empty_179847) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179812, ":", (long long) defunc_0_f_res_179819, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179849 = slt64((int64_t) 0, j_m_i_179836);
                                    int8_t dummy_179850;
                                    int64_t dummy_179851;
                                    int64_t dummy_179852;
                                    
                                    if (cond_179849) {
                                        bool index_certs_179853;
                                        
                                        if (!cond_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179854 = start_179587 + defunc_0_f_res_179812;
                                        int8_t head_res_179855 = ((int8_t *) mem_param_181565.mem)[slice_179854];
                                        int64_t head_res_179856 = ((int64_t *) mem_param_181568.mem)[slice_179854];
                                        int64_t head_res_179857 = ((int64_t *) mem_param_181571.mem)[slice_179854];
                                        
                                        dummy_179850 = head_res_179855;
                                        dummy_179851 = head_res_179856;
                                        dummy_179852 = head_res_179857;
                                    } else {
                                        bool y_179858 = slt64((int64_t) 0, j_m_i_179823);
                                        bool index_certs_179859;
                                        
                                        if (!y_179858) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179860 = start_179587 + merge_sequential_arg2_179821;
                                        int8_t head_res_179861 = ((int8_t *) mem_param_181565.mem)[slice_179860];
                                        int64_t head_res_179862 = ((int64_t *) mem_param_181568.mem)[slice_179860];
                                        int64_t head_res_179863 = ((int64_t *) mem_param_181571.mem)[slice_179860];
                                        
                                        dummy_179850 = head_res_179861;
                                        dummy_179851 = head_res_179862;
                                        dummy_179852 = head_res_179863;
                                    }
                                    for (int64_t nest_i_182538 = 0; nest_i_182538 < merge_block_sizze_179324; nest_i_182538++) {
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + nest_i_182538] = dummy_179850;
                                    }
                                    for (int64_t nest_i_182539 = 0; nest_i_182539 < merge_block_sizze_179324; nest_i_182539++) {
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + nest_i_182539] = dummy_179851;
                                    }
                                    for (int64_t nest_i_182540 = 0; nest_i_182540 < merge_block_sizze_179324; nest_i_182540++) {
                                        ((int64_t *) mem_181615)[i_180736 * merge_block_sizze_179324 + nest_i_182540] = dummy_179852;
                                    }
                                    
                                    int64_t data_179867;
                                    int64_t i_179872 = (int64_t) 0;
                                    
                                    for (int64_t k_179871 = 0; k_179871 < merge_block_sizze_179324; k_179871++) {
                                        int64_t j_179876 = sub64(k_179871, i_179872);
                                        bool cond_179877 = j_179876 == j_m_i_179823;
                                        bool cond_179878;
                                        
                                        if (cond_179877) {
                                            cond_179878 = 1;
                                        } else {
                                            bool cond_179879 = slt64(i_179872, j_m_i_179836);
                                            bool cond_f_res_179880;
                                            
                                            if (cond_179879) {
                                                bool x_179881 = sle64((int64_t) 0, j_179876);
                                                bool y_179882 = slt64(j_179876, j_m_i_179823);
                                                bool bounds_check_179883 = x_179881 && y_179882;
                                                bool index_certs_179884;
                                                
                                                if (!bounds_check_179883) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179890 = sle64((int64_t) 0, i_179872);
                                                bool bounds_check_179891 = cond_179879 && x_179890;
                                                bool index_certs_179892;
                                                
                                                if (!bounds_check_179891) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179885 = merge_sequential_arg2_179821 + j_179876;
                                                int64_t slice_179886 = start_179587 + slice_179885;
                                                int8_t leq_arg1_179887 = ((int8_t *) mem_param_181565.mem)[slice_179886];
                                                int64_t leq_arg1_179888 = ((int64_t *) mem_param_181568.mem)[slice_179886];
                                                int64_t leq_arg1_179889 = ((int64_t *) mem_param_181571.mem)[slice_179886];
                                                int64_t slice_179893 = defunc_0_f_res_179812 + i_179872;
                                                int64_t slice_179894 = start_179587 + slice_179893;
                                                int8_t leq_arg0_179895 = ((int8_t *) mem_param_181565.mem)[slice_179894];
                                                int64_t leq_arg0_179896 = ((int64_t *) mem_param_181568.mem)[slice_179894];
                                                int64_t leq_arg0_179897 = ((int64_t *) mem_param_181571.mem)[slice_179894];
                                                bool cond_179898 = leq_arg0_179895 == leq_arg1_179887;
                                                bool defunc_0_leq_res_t_res_179899 = sle64(leq_arg0_179896, leq_arg1_179888);
                                                bool defunc_0_leq_res_179900 = sle64(leq_arg0_179897, leq_arg1_179889);
                                                bool x_179901 = cond_179898 && defunc_0_leq_res_t_res_179899;
                                                bool x_179902 = !cond_179898;
                                                bool y_179903 = defunc_0_leq_res_179900 && x_179902;
                                                bool defunc_0_leq_res_179904 = x_179901 || y_179903;
                                                
                                                cond_f_res_179880 = defunc_0_leq_res_179904;
                                            } else {
                                                cond_f_res_179880 = 0;
                                            }
                                            cond_179878 = cond_f_res_179880;
                                        }
                                        
                                        int64_t loopres_179905;
                                        int8_t loopres_179906;
                                        int64_t loopres_179907;
                                        int64_t loopres_179908;
                                        
                                        if (cond_179878) {
                                            bool x_179910 = sle64((int64_t) 0, i_179872);
                                            bool y_179911 = slt64(i_179872, j_m_i_179836);
                                            bool bounds_check_179912 = x_179910 && y_179911;
                                            bool index_certs_179913;
                                            
                                            if (!bounds_check_179912) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179909 = add64((int64_t) 1, i_179872);
                                            int64_t slice_179914 = defunc_0_f_res_179812 + i_179872;
                                            int64_t slice_179915 = start_179587 + slice_179914;
                                            int8_t tmp_179916 = ((int8_t *) mem_param_181565.mem)[slice_179915];
                                            int64_t tmp_179917 = ((int64_t *) mem_param_181568.mem)[slice_179915];
                                            int64_t tmp_179918 = ((int64_t *) mem_param_181571.mem)[slice_179915];
                                            
                                            loopres_179905 = tmp_179909;
                                            loopres_179906 = tmp_179916;
                                            loopres_179907 = tmp_179917;
                                            loopres_179908 = tmp_179918;
                                        } else {
                                            bool x_179919 = sle64((int64_t) 0, j_179876);
                                            bool y_179920 = slt64(j_179876, j_m_i_179823);
                                            bool bounds_check_179921 = x_179919 && y_179920;
                                            bool index_certs_179922;
                                            
                                            if (!bounds_check_179921) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179923 = merge_sequential_arg2_179821 + j_179876;
                                            int64_t slice_179924 = start_179587 + slice_179923;
                                            int8_t tmp_179925 = ((int8_t *) mem_param_181565.mem)[slice_179924];
                                            int64_t tmp_179926 = ((int64_t *) mem_param_181568.mem)[slice_179924];
                                            int64_t tmp_179927 = ((int64_t *) mem_param_181571.mem)[slice_179924];
                                            
                                            loopres_179905 = i_179872;
                                            loopres_179906 = tmp_179925;
                                            loopres_179907 = tmp_179926;
                                            loopres_179908 = tmp_179927;
                                        }
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179906;
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179907;
                                        ((int64_t *) mem_181615)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179908;
                                        
                                        int64_t i_tmp_182541 = loopres_179905;
                                        
                                        i_179872 = i_tmp_182541;
                                    }
                                    data_179867 = i_179872;
                                }
                                if (memblock_alloc(ctx, &mem_181664, flat_dim_179537, "mem_181664")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181664.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint8_t *) mem_181609, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181668, bytes_181611, "mem_181668")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181668.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint64_t *) mem_181612, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181672, bytes_181611, "mem_181672")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181672.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint64_t *) mem_181615, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181664, "mem_181664") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181668, "mem_181668") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181672, "mem_181672") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181573, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181705.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181576, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181702.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181579, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181699.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181719, bytes_181572, "mem_181719")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181719.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181723, bytes_181575, "mem_181723")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181723.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint64_t *) mem_181576, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181727, bytes_181575, "mem_181727")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181727.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint64_t *) mem_181579, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        
                        bool loop_cond_179947 = slt64(next_stride_179515, flat_dim_179319);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182508, &mem_181719, "mem_181719") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182509, &mem_181723, "mem_181723") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182510, &mem_181727, "mem_181727") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182511 = bytes_181572;
                        bool loop_while_tmp_182512 = loop_cond_179947;
                        int64_t stride_tmp_182516 = next_stride_179515;
                        
                        if (memblock_set(ctx, &mem_param_181565, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181568, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181571, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179509 = loop_dz2084Uz2082U_tmp_182511;
                        loop_while_179510 = loop_while_tmp_182512;
                        stride_179514 = stride_tmp_182516;
                    }
                    if (memblock_set(ctx, &ext_mem_181737, &mem_param_181565, "mem_param_181565") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181736, &mem_param_181568, "mem_param_181568") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181735, &mem_param_181571, "mem_param_181571") != 0)
                        return 1;
                    data_179503 = loop_dz2084Uz2082U_179509;
                    data_179504 = loop_while_179510;
                    data_179508 = stride_179514;
                    if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
                        return 1;
                    
                    bool empty_slice_179948 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179949 = sle64((int64_t) 0, zs_lhs_179303);
                    bool i_p_m_t_s_leq_w_179950 = slt64(zs_lhs_179303, data_179503);
                    bool y_179951 = zzero_leq_i_p_m_t_s_179949 && i_p_m_t_s_leq_w_179950;
                    bool ok_or_empty_179952 = empty_slice_179948 || y_179951;
                    bool index_certs_179953;
                    
                    if (!ok_or_empty_179952) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] out of bounds for array of shape [", (long long) data_179503, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:389:63-73\n   #6  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181746, &ext_mem_181737, "ext_mem_181737") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &ext_mem_181736, "ext_mem_181736") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &ext_mem_181735, "ext_mem_181735") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181413, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181746.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181416, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181743.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181419, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181740.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
                    return 1;
                for (int64_t i_180752 = 0; i_180752 < perThread_175580; i_180752++) {
                    int64_t lifted_lambda_res_179975 = add64(zm_rhs_179259, i_180752);
                    
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + i_180752] = lifted_lambda_res_179975;
                }
                
                bool cond_179977 = card_179260 == zp_rhs_175579;
                
                if (cond_179977) {
                    bool y_179979 = slt64(card_179260, perThread_175580);
                    bool index_certs_179980;
                    
                    if (!y_179979) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:389:63-73\n   #3  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + card_179260] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181772, bytes_181065, "mem_181772")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182546 = 0; nest_i_182546 < window_sizze_142232; nest_i_182546++) {
                ((int64_t *) mem_181772.mem)[nest_i_182546] = (int64_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181774, bytes_181065, "mem_181774")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182547 = 0; nest_i_182547 < window_sizze_142232; nest_i_182547++) {
                ((int64_t *) mem_181774.mem)[nest_i_182547] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181775, window_sizze_142232, "mem_181775")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182548 = 0; nest_i_182548 < window_sizze_142232; nest_i_182548++) {
                ((int8_t *) mem_181775.mem)[nest_i_182548] = (int8_t) -1;
            }
            for (int64_t write_iter_180767 = 0; write_iter_180767 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581; write_iter_180767++) {
                int64_t new_index_180919 = squot64(write_iter_180767, perThread_175580);
                int64_t binop_y_180921 = perThread_175580 * new_index_180919;
                int64_t new_index_180922 = write_iter_180767 - binop_y_180921;
                int64_t write_iv_180771 = ((int64_t *) mem_181411)[new_index_180919 * perThread_175580 + new_index_180922];
                int8_t write_iv_180772 = ((int8_t *) mem_181413)[new_index_180919 * perThread_175580 + new_index_180922];
                int64_t write_iv_180773 = ((int64_t *) mem_181416)[new_index_180919 * perThread_175580 + new_index_180922];
                int64_t write_iv_180774 = ((int64_t *) mem_181419)[new_index_180919 * perThread_175580 + new_index_180922];
                
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_142232)) {
                    ((int8_t *) mem_181775.mem)[write_iv_180771] = write_iv_180772;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_142232)) {
                    ((int64_t *) mem_181774.mem)[write_iv_180771] = write_iv_180773;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_142232)) {
                    ((int64_t *) mem_181772.mem)[write_iv_180771] = write_iv_180774;
                }
            }
            
            int64_t index_concat_branch_180003;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180004 = ((int64_t *) mem_181394)[index_concat_i_178344];
                
                index_concat_branch_180003 = index_concat_180004;
            } else {
                index_concat_branch_180003 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180005;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180006 = ((int64_t *) mem_181396)[index_concat_i_178344];
                
                index_concat_branch_180005 = index_concat_180006;
            } else {
                index_concat_branch_180005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181775, "mem_181775") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181774, "mem_181774") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181772, "mem_181772") != 0)
                return 1;
            loopres_175570 = index_concat_branch_180003;
            loopres_175571 = index_concat_branch_180005;
        } else {
            int64_t leq_lhs_176561 = ((int64_t *) a_list_mem_181032.mem)[p_175542];
            int64_t leq_rhs_176564 = ((int64_t *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_176565 = sle64(leq_lhs_176561, leq_rhs_176564);
            int64_t lowest_176566;
            
            if (defunc_0_leq_res_176565) {
                bool index_certs_180007;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_lhs_176561;
            } else {
                bool index_certs_176571;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_rhs_176564;
            }
            if (mem_181049_cached_sizze_182936 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_182936, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181051_cached_sizze_182937 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182937, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_142233; i_180782++) {
                int64_t index_primexp_180998 = add64((int64_t) 1, i_180782);
                int64_t zs_lhs_176587 = mul64(zt_rhs_176580, index_primexp_180998);
                int64_t index_176588 = sdiv64(zs_lhs_176587, partitionFunc_arg0_176557);
                bool cond_176589 = slt64(window_sizze_142232, index_176588);
                int64_t loop_over_176590;
                
                if (cond_176589) {
                    loop_over_176590 = window_sizze_142232;
                } else {
                    loop_over_176590 = index_176588;
                }
                
                int64_t loop_over_176591;
                
                if (cond_176589) {
                    int64_t loop_over_t_res_180008 = sub64(index_176588, window_sizze_142232);
                    
                    loop_over_176591 = loop_over_t_res_180008;
                } else {
                    loop_over_176591 = (int64_t) 0;
                }
                
                int64_t loop_over_176593;
                
                if (cond_176589) {
                    int64_t zm_lhs_180009 = sub64(index_176588, window_sizze_142232);
                    int64_t loop_over_t_res_180010 = sub64(zm_lhs_180009, (int64_t) 1);
                    
                    loop_over_176593 = loop_over_t_res_180010;
                } else {
                    loop_over_176593 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176596;
                int64_t defunc_0_f_res_176597;
                int64_t defunc_0_f_res_176598;
                int64_t defunc_0_f_res_176599;
                bool loop_while_176600;
                int64_t p_176601;
                int64_t p_176602;
                int64_t p_176603;
                
                loop_while_176600 = 1;
                p_176601 = loop_over_176593;
                p_176602 = loop_over_176590;
                p_176603 = loop_over_176591;
                while (loop_while_176600) {
                    int64_t zs_lhs_176604 = sub64(p_176602, p_176601);
                    int64_t offset_176605 = sdiv64(zs_lhs_176604, (int64_t) 2);
                    int64_t ai_176606 = sub64(p_176602, offset_176605);
                    int64_t max_arg1_176607 = add64(p_176603, offset_176605);
                    int64_t max_res_176608 = smax64((int64_t) 0, max_arg1_176607);
                    bool cond_176609 = slt64((int64_t) 0, max_res_176608);
                    int64_t b_prev_176610;
                    
                    if (cond_176609) {
                        int64_t tmp_180011 = sub64(max_res_176608, (int64_t) 1);
                        bool x_180012 = sle64((int64_t) 0, tmp_180011);
                        bool y_180013 = slt64(tmp_180011, window_sizze_142232);
                        bool bounds_check_180014 = x_180012 && y_180013;
                        bool index_certs_180015;
                        
                        if (!bounds_check_180014) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180011, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180016 = p_175543 + tmp_180011;
                        int64_t b_prev_t_res_180017 = ((int64_t *) b_list_mem_181033.mem)[slice_180016];
                        
                        b_prev_176610 = b_prev_t_res_180017;
                    } else {
                        b_prev_176610 = lowest_176566;
                    }
                    
                    bool cond_176617 = sle64(ai_176606, (int64_t) 0);
                    int64_t loopres_176618;
                    int64_t loopres_176619;
                    int64_t loopres_176620;
                    bool loopres_176621;
                    
                    if (cond_176617) {
                        loopres_176618 = p_176601;
                        loopres_176619 = (int64_t) 0;
                        loopres_176620 = max_res_176608;
                        loopres_176621 = 0;
                    } else {
                        bool cond_176622 = sle64(window_sizze_142232, max_res_176608);
                        int64_t loopres_f_res_176623;
                        int64_t loopres_f_res_176624;
                        int64_t loopres_f_res_176625;
                        bool loopres_f_res_176626;
                        
                        if (cond_176622) {
                            int64_t min_res_180019 = smin64(m_175531, ai_176606);
                            bool x_180020 = sle64((int64_t) 0, m_175531);
                            bool y_180021 = slt64(m_175531, window_sizze_142232);
                            bool bounds_check_180022 = x_180020 && y_180021;
                            bool index_certs_180023;
                            
                            if (!bounds_check_180022) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180026 = sle64((int64_t) 0, min_res_180019);
                            bool y_180027 = slt64(min_res_180019, window_sizze_142232);
                            bool bounds_check_180028 = x_180026 && y_180027;
                            bool index_certs_180029;
                            
                            if (!bounds_check_180028) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180019, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t leq_lhs_180025 = ((int64_t *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_180030 = p_175542 + min_res_180019;
                            int64_t leq_rhs_180031 = ((int64_t *) a_list_mem_181032.mem)[slice_180030];
                            bool defunc_0_leq_res_180032 = sle64(leq_lhs_180025, leq_rhs_180031);
                            int64_t loopres_f_res_t_res_180033;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180033 = ai_176606;
                            } else {
                                loopres_f_res_t_res_180033 = p_176602;
                            }
                            
                            bool x_180034 = !defunc_0_leq_res_180032;
                            int64_t loopres_f_res_t_res_180035;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180035 = window_sizze_142232;
                            } else {
                                int64_t tmp_180036 = sub64(m_175531, offset_176605);
                                
                                loopres_f_res_t_res_180035 = tmp_180036;
                            }
                            loopres_f_res_176623 = p_176601;
                            loopres_f_res_176624 = loopres_f_res_t_res_180033;
                            loopres_f_res_176625 = loopres_f_res_t_res_180035;
                            loopres_f_res_176626 = x_180034;
                        } else {
                            bool cond_176644 = sle64(window_sizze_142232, ai_176606);
                            int64_t loopres_f_res_f_res_176645;
                            int64_t loopres_f_res_f_res_176646;
                            int64_t loopres_f_res_f_res_176647;
                            bool loopres_f_res_f_res_176648;
                            
                            if (cond_176644) {
                                int64_t min_res_180038 = smin64(m_175531, max_res_176608);
                                bool x_180039 = sle64((int64_t) 0, m_175531);
                                bool y_180040 = slt64(m_175531, window_sizze_142232);
                                bool bounds_check_180041 = x_180039 && y_180040;
                                bool index_certs_180042;
                                
                                if (!bounds_check_180041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180045 = sle64((int64_t) 0, min_res_180038);
                                bool y_180046 = slt64(min_res_180038, window_sizze_142232);
                                bool bounds_check_180047 = x_180045 && y_180046;
                                bool index_certs_180048;
                                
                                if (!bounds_check_180047) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180038, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t leq_lhs_180044 = ((int64_t *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_180049 = p_175543 + min_res_180038;
                                int64_t leq_rhs_180050 = ((int64_t *) b_list_mem_181033.mem)[slice_180049];
                                bool defunc_0_leq_res_180051 = sle64(leq_lhs_180044, leq_rhs_180050);
                                int64_t loopres_f_res_f_res_t_res_180052;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180052 = max_res_176608;
                                } else {
                                    loopres_f_res_f_res_t_res_180052 = p_176603;
                                }
                                
                                bool x_180053 = !defunc_0_leq_res_180051;
                                int64_t loopres_f_res_f_res_t_res_180054;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180054 = window_sizze_142232;
                                } else {
                                    loopres_f_res_f_res_t_res_180054 = m_175531;
                                }
                                loopres_f_res_f_res_176645 = p_176601;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_t_res_180054;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_t_res_180052;
                                loopres_f_res_f_res_176648 = x_180053;
                            } else {
                                bool cond_176665 = sle64(p_176602, p_176601);
                                int64_t loopres_f_res_f_res_f_res_176666;
                                int64_t loopres_f_res_f_res_f_res_176667;
                                int64_t loopres_f_res_f_res_f_res_176668;
                                bool loopres_f_res_f_res_f_res_176669;
                                
                                if (cond_176665) {
                                    bool cond_180093 = slt64(ai_176606, window_sizze_142232);
                                    int64_t ai_180094;
                                    
                                    if (cond_180093) {
                                        ai_180094 = ai_176606;
                                    } else {
                                        ai_180094 = m_175531;
                                    }
                                    
                                    bool x_180107 = sle64((int64_t) 0, ai_180094);
                                    bool y_180108 = slt64(ai_180094, window_sizze_142232);
                                    bool bounds_check_180109 = x_180107 && y_180108;
                                    bool index_certs_180110;
                                    
                                    if (!bounds_check_180109) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180094, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t b_prev_180096;
                                    
                                    if (cond_176609) {
                                        int64_t tmp_180097 = sub64(max_res_176608, (int64_t) 1);
                                        bool x_180098 = sle64((int64_t) 0, tmp_180097);
                                        bool y_180099 = slt64(tmp_180097, window_sizze_142232);
                                        bool bounds_check_180100 = x_180098 && y_180099;
                                        bool index_certs_180101;
                                        
                                        if (!bounds_check_180100) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180097, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180102 = p_175543 + tmp_180097;
                                        int64_t b_prev_t_res_180103 = ((int64_t *) b_list_mem_181033.mem)[slice_180102];
                                        
                                        b_prev_180096 = b_prev_t_res_180103;
                                    } else {
                                        bool index_certs_180105;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180096 = leq_rhs_176564;
                                    }
                                    
                                    int64_t slice_180111 = p_175542 + ai_180094;
                                    int64_t gt_lhs_180112 = ((int64_t *) a_list_mem_181032.mem)[slice_180111];
                                    bool defunc_0_gt_res_180113 = slt64(b_prev_180096, gt_lhs_180112);
                                    int64_t defunc_0_partFunc_sequential_search_res_180114;
                                    int64_t defunc_0_partFunc_sequential_search_res_180115;
                                    
                                    if (defunc_0_gt_res_180113) {
                                        int64_t zl_rhs_180116 = sub64(window_sizze_142232, max_res_176608);
                                        bool loop_cond_180117 = slt64((int64_t) 0, zl_rhs_180116);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180118;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180120;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180121;
                                        bool loop_while_180122;
                                        int64_t p_180123;
                                        int64_t p_180124;
                                        int64_t p_180125;
                                        
                                        loop_while_180122 = loop_cond_180117;
                                        p_180123 = ai_180094;
                                        p_180124 = max_res_176608;
                                        p_180125 = (int64_t) 0;
                                        while (loop_while_180122) {
                                            int64_t i_a_180126 = sub64(ai_180094, p_180125);
                                            int64_t i_b_180127 = add64(max_res_176608, p_180125);
                                            int64_t leq_lhs_180128 = sub64(i_a_180126, (int64_t) 1);
                                            bool x_180129 = sle64((int64_t) 0, leq_lhs_180128);
                                            bool y_180130 = slt64(leq_lhs_180128, window_sizze_142232);
                                            bool bounds_check_180131 = x_180129 && y_180130;
                                            bool index_certs_180132;
                                            
                                            if (!bounds_check_180131) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180128, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180135 = sle64((int64_t) 0, i_b_180127);
                                            bool y_180136 = slt64(i_b_180127, window_sizze_142232);
                                            bool bounds_check_180137 = x_180135 && y_180136;
                                            bool index_certs_180138;
                                            
                                            if (!bounds_check_180137) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180127, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180133 = p_175542 + leq_lhs_180128;
                                            int64_t leq_lhs_180134 = ((int64_t *) a_list_mem_181032.mem)[slice_180133];
                                            int64_t slice_180139 = p_175543 + i_b_180127;
                                            int64_t leq_rhs_180140 = ((int64_t *) b_list_mem_181033.mem)[slice_180139];
                                            bool defunc_0_leq_res_180141 = sle64(leq_lhs_180134, leq_rhs_180140);
                                            int64_t loopres_180142;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180142 = i_a_180126;
                                            } else {
                                                loopres_180142 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180143;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180143 = i_b_180127;
                                            } else {
                                                loopres_180143 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180144;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180144 = zl_rhs_180116;
                                            } else {
                                                int64_t tmp_180145 = add64((int64_t) 1, p_180125);
                                                
                                                loopres_180144 = tmp_180145;
                                            }
                                            
                                            bool loop_cond_180146 = slt64(loopres_180144, zl_rhs_180116);
                                            bool loop_while_tmp_182558 = loop_cond_180146;
                                            int64_t p_tmp_182559 = loopres_180142;
                                            int64_t p_tmp_182560 = loopres_180143;
                                            int64_t p_tmp_182561 = loopres_180144;
                                            
                                            loop_while_180122 = loop_while_tmp_182558;
                                            p_180123 = p_tmp_182559;
                                            p_180124 = p_tmp_182560;
                                            p_180125 = p_tmp_182561;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180118 = loop_while_180122;
                                        defunc_0_partFunc_sequential_search_res_t_res_180119 = p_180123;
                                        defunc_0_partFunc_sequential_search_res_t_res_180120 = p_180124;
                                        defunc_0_partFunc_sequential_search_res_t_res_180121 = p_180125;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_t_res_180120;
                                    } else {
                                        int64_t zl_rhs_180147 = sub64(max_res_176608, (int64_t) 1);
                                        bool loop_cond_180148 = slt64((int64_t) 0, zl_rhs_180147);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180149;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180151;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180152;
                                        bool loop_while_180153;
                                        int64_t p_180154;
                                        int64_t p_180155;
                                        int64_t p_180156;
                                        
                                        loop_while_180153 = loop_cond_180148;
                                        p_180154 = ai_180094;
                                        p_180155 = max_res_176608;
                                        p_180156 = (int64_t) 0;
                                        while (loop_while_180153) {
                                            int64_t zp_lhs_180157 = add64(ai_180094, p_180156);
                                            int64_t hi_a_180158 = add64((int64_t) 1, zp_lhs_180157);
                                            bool cond_180159 = slt64(hi_a_180158, window_sizze_142232);
                                            int64_t i_a_180160;
                                            
                                            if (cond_180159) {
                                                i_a_180160 = hi_a_180158;
                                            } else {
                                                i_a_180160 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_180162 = sub64(max_res_176608, p_180156);
                                            int64_t i_b_180163 = sub64(zm_lhs_180162, (int64_t) 1);
                                            bool x_180164 = sle64((int64_t) 0, i_a_180160);
                                            bool y_180165 = slt64(i_a_180160, window_sizze_142232);
                                            bool bounds_check_180166 = x_180164 && y_180165;
                                            bool index_certs_180167;
                                            
                                            if (!bounds_check_180166) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180160, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180170 = sle64((int64_t) 0, i_b_180163);
                                            bool y_180171 = slt64(i_b_180163, window_sizze_142232);
                                            bool bounds_check_180172 = x_180170 && y_180171;
                                            bool index_certs_180173;
                                            
                                            if (!bounds_check_180172) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180163, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180168 = p_175542 + i_a_180160;
                                            int64_t gt_lhs_180169 = ((int64_t *) a_list_mem_181032.mem)[slice_180168];
                                            int64_t slice_180174 = p_175543 + i_b_180163;
                                            int64_t gt_rhs_180175 = ((int64_t *) b_list_mem_181033.mem)[slice_180174];
                                            bool defunc_0_gt_res_180176 = slt64(gt_rhs_180175, gt_lhs_180169);
                                            int64_t loopres_180177;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180177 = i_a_180160;
                                            } else {
                                                loopres_180177 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180178;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180178 = zm_lhs_180162;
                                            } else {
                                                loopres_180178 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180179;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180179 = zl_rhs_180147;
                                            } else {
                                                int64_t tmp_180180 = add64((int64_t) 1, p_180156);
                                                
                                                loopres_180179 = tmp_180180;
                                            }
                                            
                                            bool loop_cond_180181 = slt64(loopres_180179, zl_rhs_180147);
                                            bool loop_while_tmp_182562 = loop_cond_180181;
                                            int64_t p_tmp_182563 = loopres_180177;
                                            int64_t p_tmp_182564 = loopres_180178;
                                            int64_t p_tmp_182565 = loopres_180179;
                                            
                                            loop_while_180153 = loop_while_tmp_182562;
                                            p_180154 = p_tmp_182563;
                                            p_180155 = p_tmp_182564;
                                            p_180156 = p_tmp_182565;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180149 = loop_while_180153;
                                        defunc_0_partFunc_sequential_search_res_f_res_180150 = p_180154;
                                        defunc_0_partFunc_sequential_search_res_f_res_180151 = p_180155;
                                        defunc_0_partFunc_sequential_search_res_f_res_180152 = p_180156;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_f_res_180151;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = p_176601;
                                    loopres_f_res_f_res_f_res_176667 = defunc_0_partFunc_sequential_search_res_180114;
                                    loopres_f_res_f_res_f_res_176668 = defunc_0_partFunc_sequential_search_res_180115;
                                    loopres_f_res_f_res_f_res_176669 = 0;
                                } else {
                                    bool x_176753 = sle64((int64_t) 0, ai_176606);
                                    bool y_176754 = slt64(ai_176606, window_sizze_142232);
                                    bool bounds_check_176755 = x_176753 && y_176754;
                                    bool index_certs_176756;
                                    
                                    if (!bounds_check_176755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176606, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178422 = p_175542 + ai_176606;
                                    int64_t gt_lhs_176757 = ((int64_t *) a_list_mem_181032.mem)[slice_178422];
                                    bool defunc_0_gt_res_176758 = slt64(b_prev_176610, gt_lhs_176757);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176759;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176760;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176761;
                                    bool loopres_f_res_f_res_f_res_f_res_176762;
                                    
                                    if (defunc_0_gt_res_176758) {
                                        int64_t leq_lhs_180182 = sub64(ai_176606, (int64_t) 1);
                                        bool x_180183 = sle64((int64_t) 0, leq_lhs_180182);
                                        bool y_180184 = slt64(leq_lhs_180182, window_sizze_142232);
                                        bool bounds_check_180185 = x_180183 && y_180184;
                                        bool index_certs_180186;
                                        
                                        if (!bounds_check_180185) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180182, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180189 = sle64((int64_t) 0, max_res_176608);
                                        bool y_180190 = slt64(max_res_176608, window_sizze_142232);
                                        bool bounds_check_180191 = x_180189 && y_180190;
                                        bool index_certs_180192;
                                        
                                        if (!bounds_check_180191) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176608, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180187 = p_175542 + leq_lhs_180182;
                                        int64_t leq_lhs_180188 = ((int64_t *) a_list_mem_181032.mem)[slice_180187];
                                        int64_t slice_180193 = p_175543 + max_res_176608;
                                        int64_t leq_rhs_180194 = ((int64_t *) b_list_mem_181033.mem)[slice_180193];
                                        bool defunc_0_leq_res_180195 = sle64(leq_lhs_180188, leq_rhs_180194);
                                        bool x_180196 = !defunc_0_leq_res_180195;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = ai_176606;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = leq_lhs_180182;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = max_res_176608;
                                        } else {
                                            int64_t tmp_180199 = add64((int64_t) 1, max_res_176608);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = tmp_180199;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176759 = p_176601;
                                        loopres_f_res_f_res_f_res_f_res_176760 = loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        loopres_f_res_f_res_f_res_f_res_176761 = loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        loopres_f_res_f_res_f_res_f_res_176762 = x_180196;
                                    } else {
                                        int64_t tmp_176779 = add64((int64_t) 1, ai_176606);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176759 = tmp_176779;
                                        loopres_f_res_f_res_f_res_f_res_176760 = p_176602;
                                        loopres_f_res_f_res_f_res_f_res_176761 = p_176603;
                                        loopres_f_res_f_res_f_res_f_res_176762 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = loopres_f_res_f_res_f_res_f_res_176759;
                                    loopres_f_res_f_res_f_res_176667 = loopres_f_res_f_res_f_res_f_res_176760;
                                    loopres_f_res_f_res_f_res_176668 = loopres_f_res_f_res_f_res_f_res_176761;
                                    loopres_f_res_f_res_f_res_176669 = loopres_f_res_f_res_f_res_f_res_176762;
                                }
                                loopres_f_res_f_res_176645 = loopres_f_res_f_res_f_res_176666;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_f_res_176667;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_f_res_176668;
                                loopres_f_res_f_res_176648 = loopres_f_res_f_res_f_res_176669;
                            }
                            loopres_f_res_176623 = loopres_f_res_f_res_176645;
                            loopres_f_res_176624 = loopres_f_res_f_res_176646;
                            loopres_f_res_176625 = loopres_f_res_f_res_176647;
                            loopres_f_res_176626 = loopres_f_res_f_res_176648;
                        }
                        loopres_176618 = loopres_f_res_176623;
                        loopres_176619 = loopres_f_res_176624;
                        loopres_176620 = loopres_f_res_176625;
                        loopres_176621 = loopres_f_res_176626;
                    }
                    
                    bool loop_while_tmp_182554 = loopres_176621;
                    int64_t p_tmp_182555 = loopres_176618;
                    int64_t p_tmp_182556 = loopres_176619;
                    int64_t p_tmp_182557 = loopres_176620;
                    
                    loop_while_176600 = loop_while_tmp_182554;
                    p_176601 = p_tmp_182555;
                    p_176602 = p_tmp_182556;
                    p_176603 = p_tmp_182557;
                }
                defunc_0_f_res_176596 = loop_while_176600;
                defunc_0_f_res_176597 = p_176601;
                defunc_0_f_res_176598 = p_176602;
                defunc_0_f_res_176599 = p_176603;
                ((int64_t *) mem_181049)[i_180782] = defunc_0_f_res_176598;
                ((int64_t *) mem_181051)[i_180782] = defunc_0_f_res_176599;
            }
            if (memblock_alloc(ctx, &mem_181064, window_sizze_142232, "mem_181064")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_142232; nest_i_182566++) {
                ((int8_t *) mem_181064.mem)[nest_i_182566] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181066, bytes_181065, "mem_181066")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_142232; nest_i_182567++) {
                ((int64_t *) mem_181066.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181068, bytes_181065, "mem_181068")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_142232; nest_i_182568++) {
                ((int64_t *) mem_181068.mem)[nest_i_182568] = (int64_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176806;
            int64_t defunc_0_mergeFunc_seq_res_176807;
            bool loop_while_176811;
            int64_t p_176812;
            
            loop_while_176811 = loop_cond_176805;
            p_176812 = (int64_t) 0;
            while (loop_while_176811) {
                bool x_176816 = sle64((int64_t) 0, p_176812);
                bool y_176817 = slt64(p_176812, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176818 = x_176816 && y_176817;
                bool index_certs_176819;
                
                if (!bounds_check_176818) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178405 = sle64((int64_t) 1, p_176812);
                int64_t index_concat_i_178406 = sub64(p_176812, (int64_t) 1);
                int64_t index_concat_178407;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180200 = ((int64_t *) mem_181049)[index_concat_i_178406];
                    
                    index_concat_178407 = x_180200;
                } else {
                    index_concat_178407 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178409;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178409 = index_concat_178407;
                } else {
                    index_concat_branch_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_178401;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180201 = ((int64_t *) mem_181051)[index_concat_i_178406];
                    
                    index_concat_178401 = x_180201;
                } else {
                    index_concat_178401 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178403;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178403 = index_concat_178401;
                } else {
                    index_concat_branch_178403 = (int64_t) 0;
                }
                
                int64_t ubs_176822 = add64((int64_t) 1, p_176812);
                bool x_176823 = sle64((int64_t) 0, ubs_176822);
                bool y_176824 = slt64(ubs_176822, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176825 = x_176823 && y_176824;
                bool index_certs_176826;
                
                if (!bounds_check_176825) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178393 = sle64((int64_t) 1, ubs_176822);
                int64_t index_concat_178395;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180202 = ((int64_t *) mem_181049)[p_176812];
                    
                    index_concat_178395 = x_180202;
                } else {
                    index_concat_178395 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178397 = index_concat_178395;
                } else {
                    index_concat_branch_178397 = (int64_t) 0;
                }
                
                int64_t index_concat_178389;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180203 = ((int64_t *) mem_181051)[p_176812];
                    
                    index_concat_178389 = x_180203;
                } else {
                    index_concat_178389 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178391;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178391 = index_concat_178389;
                } else {
                    index_concat_branch_178391 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 = sub64(index_concat_branch_178391, index_concat_branch_178403);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 = sub64(index_concat_branch_178397, index_concat_branch_178409);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t ind_bottom_176832 = add64(index_concat_branch_178403, index_concat_branch_178409);
                int64_t ind_top_176833 = add64(index_concat_branch_178391, index_concat_branch_178397);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 = sub64(ind_top_176833, ind_bottom_176832);
                bool empty_slice_176835 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 == (int64_t) 0;
                int64_t m_176836 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 1);
                int64_t i_p_m_t_s_176837 = add64(m_176836, index_concat_branch_178409);
                bool zzero_leq_i_p_m_t_s_176838 = sle64((int64_t) 0, i_p_m_t_s_176837);
                bool i_p_m_t_s_leq_w_176839 = slt64(i_p_m_t_s_176837, window_sizze_142232);
                bool zzero_lte_i_176840 = sle64((int64_t) 0, index_concat_branch_178409);
                bool i_lte_j_176841 = sle64(index_concat_branch_178409, index_concat_branch_178397);
                bool y_176842 = i_p_m_t_s_leq_w_176839 && zzero_lte_i_176840;
                bool y_176843 = zzero_leq_i_p_m_t_s_176838 && y_176842;
                bool forwards_ok_176844 = i_lte_j_176841 && y_176843;
                bool ok_or_empty_176845 = empty_slice_176835 || forwards_ok_176844;
                bool index_certs_176846;
                
                if (!ok_or_empty_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178409, ":", (long long) index_concat_branch_178397, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176847 = slt64(index_concat_branch_178397, index_concat_branch_178409);
                bool valid_176848 = !bounds_invalid_upwards_176847;
                bool range_valid_c_176849;
                
                if (!valid_176848) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178409, "..<", (long long) index_concat_branch_178397, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178403);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_142232);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178403);
                bool i_lte_j_176861 = sle64(index_concat_branch_178403, index_concat_branch_178391);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178403, ":", (long long) index_concat_branch_178391, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178391, index_concat_branch_178403);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178403, "..<", (long long) index_concat_branch_178391, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181085 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool cond_176878 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zs_lhs_176879 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zp_rhs_176880 = sdiv_safe64(zs_lhs_176879, (int64_t) 20);
                int64_t min_num_blocks_176881 = add64((int64_t) 1, zp_rhs_176880);
                bool loop_cond_176882 = slt64((int64_t) 1, min_num_blocks_176881);
                bool smallest_pow_2_geq_than_res_176883;
                int64_t smallest_pow_2_geq_than_res_176884;
                bool loop_while_176885;
                int64_t x_176886;
                
                loop_while_176885 = loop_cond_176882;
                x_176886 = (int64_t) 1;
                while (loop_while_176885) {
                    int64_t loopres_176887 = mul64((int64_t) 2, x_176886);
                    bool loop_cond_176888 = slt64(loopres_176887, min_num_blocks_176881);
                    bool loop_while_tmp_182574 = loop_cond_176888;
                    int64_t x_tmp_182575 = loopres_176887;
                    
                    loop_while_176885 = loop_while_tmp_182574;
                    x_176886 = x_tmp_182575;
                }
                smallest_pow_2_geq_than_res_176883 = loop_while_176885;
                smallest_pow_2_geq_than_res_176884 = x_176886;
                
                bool zzero_176889 = smallest_pow_2_geq_than_res_176884 == (int64_t) 0;
                bool nonzzero_176890 = !zzero_176889;
                bool protect_assert_disj_176891 = cond_176878 || nonzzero_176890;
                bool nonzzero_cert_176892;
                
                if (!protect_assert_disj_176891) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176893 = sdiv_safe64(zs_lhs_176879, smallest_pow_2_geq_than_res_176884);
                int64_t block_sizze_176894 = add64((int64_t) 1, zp_rhs_176893);
                bool y_176901 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                bool protect_assert_disj_182238 = cond_176878 || y_176901;
                bool index_certs_176902;
                
                if (!protect_assert_disj_182238) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176928 = slt64(smallest_pow_2_geq_than_res_176884, (int64_t) 0);
                bool valid_176929 = !bounds_invalid_upwards_176928;
                bool protect_assert_disj_182248 = cond_176878 || valid_176929;
                bool range_valid_c_176930;
                
                if (!protect_assert_disj_182248) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176884, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176932 = slt64(block_sizze_176894, (int64_t) 0);
                bool valid_176933 = !bounds_invalid_upwards_176932;
                bool protect_assert_disj_182250 = cond_176878 || valid_176933;
                bool range_valid_c_176934;
                
                if (!protect_assert_disj_182250) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176894, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176936 = sle64(block_sizze_176894, (int64_t) 1);
                int64_t tmp_176937 = sub64(block_sizze_176894, (int64_t) 2);
                bool bounds_invalid_upwards_176938 = slt64(tmp_176937, (int64_t) 0);
                bool valid_176940 = !bounds_invalid_upwards_176938;
                bool protect_assert_disj_176941 = cond_176936 || valid_176940;
                bool protect_assert_disj_182252 = cond_176878 || protect_assert_disj_176941;
                bool range_valid_c_176942;
                
                if (!protect_assert_disj_182252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176937, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177503 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool empty_or_match_cert_177504;
                
                if (!dim_match_177503) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "](i8, i64, i64)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177505 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == (int64_t) 0;
                int64_t m_177506 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177507 = sle64((int64_t) 0, m_177506);
                bool i_p_m_t_s_leq_w_177508 = slt64(m_177506, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834);
                bool y_177509 = zzero_leq_i_p_m_t_s_177507 && i_p_m_t_s_leq_w_177508;
                bool ok_or_empty_177510 = empty_slice_177505 || y_177509;
                bool index_certs_177511;
                
                if (!ok_or_empty_177510) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177512 = add64(ind_bottom_176832, m_177506);
                bool zzero_leq_i_p_m_t_s_177513 = sle64((int64_t) 0, i_p_m_t_s_177512);
                bool i_p_m_t_s_leq_w_177514 = slt64(i_p_m_t_s_177512, window_sizze_142232);
                bool zzero_lte_i_177515 = sle64((int64_t) 0, ind_bottom_176832);
                bool i_lte_j_177516 = sle64(ind_bottom_176832, ind_top_176833);
                bool y_177517 = i_p_m_t_s_leq_w_177514 && zzero_lte_i_177515;
                bool y_177518 = zzero_leq_i_p_m_t_s_177513 && y_177517;
                bool forwards_ok_177519 = i_lte_j_177516 && y_177518;
                bool ok_or_empty_177520 = empty_slice_177505 || forwards_ok_177519;
                bool index_certs_177521;
                
                if (!ok_or_empty_177520) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176832, ":", (long long) ind_top_176833, "] out of bounds for array of shape [", (long long) window_sizze_142232, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178385 = p_175542 + index_concat_branch_178409;
                
                if (memblock_alloc(ctx, &mem_181084, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "mem_181084")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182576 = 0; nest_i_182576 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; nest_i_182576++) {
                    ((int8_t *) mem_181084.mem)[nest_i_182576] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182577 = 0; i_182577 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; i_182577++) {
                    int64_t x_182578 = index_concat_branch_178409 + i_182577 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[i_182577] = x_182578;
                }
                
                int64_t slice_178384 = p_175543 + index_concat_branch_178403;
                
                for (int64_t nest_i_182579 = 0; nest_i_182579 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; nest_i_182579++) {
                    ((int8_t *) mem_181084.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + nest_i_182579] = (int8_t) 1;
                }
                for (int64_t i_182580 = 0; i_182580 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; i_182580++) {
                    int64_t x_182581 = index_concat_branch_178403 + i_182580 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + i_182580] = x_182581;
                }
                
                int64_t tmp_offs_182582 = (int64_t) 0;
                
                if (!(tmp_offs_182582 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182582 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t tmp_offs_182583 = (int64_t) 0;
                
                if (!(tmp_offs_182583 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182583 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                if (memblock_alloc(ctx, &mem_181088, bytes_181085, "mem_181088")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182584 = (int64_t) 0;
                
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181032.mem, slice_178385, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181033.mem, slice_178384, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t flat_dim_176895 = smallest_pow_2_geq_than_res_176884 * block_sizze_176894;
                bool x_182233 = !cond_176878;
                int64_t greatest_divisor_leq_than_arg1_176899 = mul64((int64_t) 2, block_sizze_176894);
                int64_t merge_block_sizze_176900;
                
                if (x_182233) {
                    int64_t x_182235;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182235, (int64_t) 8, greatest_divisor_leq_than_arg1_176899) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176900 = x_182235;
                } else {
                    merge_block_sizze_176900 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178379 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 0);
                int8_t index_concat_branch_178383 = btoi_bool_i8(index_concat_cmp_178379);
                int64_t index_concat_i_180204 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t index_primexp_180205 = add64(index_concat_branch_178403, index_concat_i_180204);
                int64_t index_concat_branch_178377;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178377 = index_primexp_180205;
                } else {
                    index_concat_branch_178377 = index_concat_branch_178409;
                }
                
                bool x_182229 = !index_concat_cmp_178379;
                bool protect_cond_conj_182239 = x_182229 && x_182233;
                int64_t index_concat_178370;
                
                if (protect_cond_conj_182239) {
                    int64_t x_182231 = ((int64_t *) a_list_mem_181032.mem)[slice_178385];
                    
                    index_concat_178370 = x_182231;
                } else {
                    index_concat_178370 = (int64_t) 0;
                }
                
                int64_t slice_180207 = slice_178384 + index_concat_i_180204;
                bool protect_cond_conj_182240 = index_concat_cmp_178379 && x_182233;
                int64_t index_concat_180208;
                
                if (protect_cond_conj_182240) {
                    int64_t x_182227 = ((int64_t *) b_list_mem_181033.mem)[slice_180207];
                    
                    index_concat_180208 = x_182227;
                } else {
                    index_concat_180208 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178371;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178371 = index_concat_180208;
                } else {
                    index_concat_branch_178371 = index_concat_178370;
                }
                
                int8_t defunc_0_reduce_res_180439;
                int64_t defunc_0_reduce_res_180440;
                int64_t defunc_0_reduce_res_180441;
                
                if (x_182233) {
                    int8_t x_182241;
                    int64_t x_182242;
                    int64_t x_182243;
                    int8_t redout_180785;
                    int64_t redout_180786;
                    int64_t redout_180787;
                    
                    redout_180785 = index_concat_branch_178383;
                    redout_180786 = index_concat_branch_178377;
                    redout_180787 = index_concat_branch_178371;
                    for (int64_t i_180788 = 0; i_180788 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831; i_180788++) {
                        bool index_concat_cmp_180992 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, i_180788);
                        int8_t index_concat_branch_180996 = btoi_bool_i8(index_concat_cmp_180992);
                        int64_t index_concat_branch_180990;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180987 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t index_primexp_181014 = add64(index_concat_branch_178403, index_concat_i_180987);
                            
                            index_concat_branch_180990 = index_primexp_181014;
                        } else {
                            int64_t index_primexp_181016 = add64(index_concat_branch_178409, i_180788);
                            
                            index_concat_branch_180990 = index_primexp_181016;
                        }
                        
                        int64_t index_concat_branch_180984;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180981 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t slice_181011 = slice_178384 + index_concat_i_180981;
                            int64_t index_concat_180982 = ((int64_t *) b_list_mem_181033.mem)[slice_181011];
                            
                            index_concat_branch_180984 = index_concat_180982;
                        } else {
                            int64_t slice_181012 = slice_178385 + i_180788;
                            int64_t index_concat_180983 = ((int64_t *) a_list_mem_181032.mem)[slice_181012];
                            
                            index_concat_branch_180984 = index_concat_180983;
                        }
                        
                        bool eq_x_y_181027 = redout_180785 == (int8_t) 1;
                        bool eq_x_zz_181028 = redout_180785 == (int8_t) 0;
                        bool p_and_eq_x_y_181029 = index_concat_cmp_180992 && eq_x_y_181027;
                        bool not_p_181030 = !index_concat_cmp_180992;
                        bool p_and_eq_x_y_181031 = eq_x_zz_181028 && not_p_181030;
                        bool cond_176918 = p_and_eq_x_y_181029 || p_and_eq_x_y_181031;
                        bool defunc_0_leq_res_t_res_176919 = sle64(redout_180786, index_concat_branch_180990);
                        bool defunc_0_leq_res_176920 = sle64(redout_180787, index_concat_branch_180984);
                        bool x_176921 = cond_176918 && defunc_0_leq_res_t_res_176919;
                        bool x_176922 = !cond_176918;
                        bool y_176923 = defunc_0_leq_res_176920 && x_176922;
                        bool defunc_0_leq_res_176924 = x_176921 || y_176923;
                        int8_t defunc_0_op_res_176925;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176925 = index_concat_branch_180996;
                        } else {
                            defunc_0_op_res_176925 = redout_180785;
                        }
                        
                        int64_t defunc_0_op_res_176926;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176926 = index_concat_branch_180990;
                        } else {
                            defunc_0_op_res_176926 = redout_180786;
                        }
                        
                        int64_t defunc_0_op_res_176927;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176927 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_176927 = redout_180787;
                        }
                        
                        int8_t redout_tmp_182585 = defunc_0_op_res_176925;
                        int64_t redout_tmp_182586 = defunc_0_op_res_176926;
                        int64_t redout_tmp_182587 = defunc_0_op_res_176927;
                        
                        redout_180785 = redout_tmp_182585;
                        redout_180786 = redout_tmp_182586;
                        redout_180787 = redout_tmp_182587;
                    }
                    x_182241 = redout_180785;
                    x_182242 = redout_180786;
                    x_182243 = redout_180787;
                    defunc_0_reduce_res_180439 = x_182241;
                    defunc_0_reduce_res_180440 = x_182242;
                    defunc_0_reduce_res_180441 = x_182243;
                } else {
                    defunc_0_reduce_res_180439 = (int8_t) 0;
                    defunc_0_reduce_res_180440 = (int64_t) 0;
                    defunc_0_reduce_res_180441 = (int64_t) 0;
                }
                
                int64_t distance_176939 = add64((int64_t) 1, tmp_176937);
                int64_t binop_x_181091 = (int64_t) 8 * smallest_pow_2_geq_than_res_176884;
                int64_t bytes_181092 = block_sizze_176894 * binop_x_181091;
                int64_t bytes_181110 = (int64_t) 8 * block_sizze_176894;
                bool loop_cond_177048 = slt64(block_sizze_176894, flat_dim_176895);
                bool zzero_177049 = merge_block_sizze_176900 == (int64_t) 0;
                bool nonzzero_177050 = !zzero_177049;
                
                if (cond_176878) {
                    if (memblock_set(ctx, &ext_mem_181383, &mem_181084, "mem_181084") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &mem_181086, "mem_181086") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &mem_181088, "mem_181088") != 0)
                        return 1;
                } else {
                    if (mem_181090_cached_sizze_182938 < flat_dim_176895) {
                        err = lexical_realloc(ctx, &mem_181090, &mem_181090_cached_sizze_182938, flat_dim_176895);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181093_cached_sizze_182939 < bytes_181092) {
                        err = lexical_realloc(ctx, &mem_181093, &mem_181093_cached_sizze_182939, bytes_181092);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181096_cached_sizze_182940 < bytes_181092) {
                        err = lexical_realloc(ctx, &mem_181096, &mem_181096_cached_sizze_182940, bytes_181092);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181109_cached_sizze_182941 < block_sizze_176894) {
                        err = lexical_realloc(ctx, &mem_181109, &mem_181109_cached_sizze_182941, block_sizze_176894);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181111_cached_sizze_182942 < bytes_181110) {
                        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_182942, bytes_181110);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182943 < bytes_181110) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182943, bytes_181110);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180805 = 0; i_180805 < smallest_pow_2_geq_than_res_176884; i_180805++) {
                        int64_t zp_lhs_176947 = mul64(block_sizze_176894, i_180805);
                        
                        for (int64_t i_180795 = 0; i_180795 < block_sizze_176894; i_180795++) {
                            int64_t k_176952 = add64(zp_lhs_176947, i_180795);
                            bool cond_176953 = slt64(k_176952, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                            int8_t lifted_lambda_res_176954;
                            int64_t lifted_lambda_res_176955;
                            int64_t lifted_lambda_res_176956;
                            
                            if (cond_176953) {
                                bool x_180214 = sle64((int64_t) 0, k_176952);
                                bool bounds_check_180215 = cond_176953 && x_180214;
                                bool index_certs_180216;
                                
                                if (!bounds_check_180215) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176952, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180217 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, k_176952);
                                int8_t index_concat_branch_180218 = btoi_bool_i8(index_concat_cmp_180217);
                                int64_t index_concat_branch_180219;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180220 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t index_primexp_180221 = add64(index_concat_branch_178403, index_concat_i_180220);
                                    
                                    index_concat_branch_180219 = index_primexp_180221;
                                } else {
                                    int64_t index_primexp_180222 = add64(k_176952, index_concat_branch_178409);
                                    
                                    index_concat_branch_180219 = index_primexp_180222;
                                }
                                
                                int64_t index_concat_branch_180223;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180224 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t slice_180225 = slice_178384 + index_concat_i_180224;
                                    int64_t index_concat_180226 = ((int64_t *) b_list_mem_181033.mem)[slice_180225];
                                    
                                    index_concat_branch_180223 = index_concat_180226;
                                } else {
                                    int64_t slice_180227 = k_176952 + slice_178385;
                                    int64_t index_concat_180228 = ((int64_t *) a_list_mem_181032.mem)[slice_180227];
                                    
                                    index_concat_branch_180223 = index_concat_180228;
                                }
                                lifted_lambda_res_176954 = index_concat_branch_180218;
                                lifted_lambda_res_176955 = index_concat_branch_180219;
                                lifted_lambda_res_176956 = index_concat_branch_180223;
                            } else {
                                lifted_lambda_res_176954 = defunc_0_reduce_res_180439;
                                lifted_lambda_res_176955 = defunc_0_reduce_res_180440;
                                lifted_lambda_res_176956 = defunc_0_reduce_res_180441;
                            }
                            ((int8_t *) mem_181109)[i_180795] = lifted_lambda_res_176954;
                            ((int64_t *) mem_181111)[i_180795] = lifted_lambda_res_176955;
                            ((int64_t *) mem_181113)[i_180795] = lifted_lambda_res_176956;
                        }
                        if (!cond_176936) {
                            for (int64_t i_176969 = 0; i_176969 < distance_176939; i_176969++) {
                                int64_t gt_arg1_176973 = add64((int64_t) 1, i_176969);
                                bool x_176974 = sle64((int64_t) 0, gt_arg1_176973);
                                bool y_176975 = slt64(gt_arg1_176973, block_sizze_176894);
                                bool bounds_check_176976 = x_176974 && y_176975;
                                bool index_certs_176977;
                                
                                if (!bounds_check_176976) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176973, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176981 = slt64(i_176969, block_sizze_176894);
                                bool index_certs_176982;
                                
                                if (!y_176981) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176969, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176978 = ((int8_t *) mem_181109)[gt_arg1_176973];
                                int64_t gt_arg1_176979 = ((int64_t *) mem_181111)[gt_arg1_176973];
                                int64_t gt_arg1_176980 = ((int64_t *) mem_181113)[gt_arg1_176973];
                                int8_t gt_arg0_176983 = ((int8_t *) mem_181109)[i_176969];
                                int64_t gt_arg0_176984 = ((int64_t *) mem_181111)[i_176969];
                                int64_t gt_arg0_176985 = ((int64_t *) mem_181113)[i_176969];
                                bool cond_176986 = gt_arg0_176983 == gt_arg1_176978;
                                bool defunc_0_leq_res_t_res_176987 = sle64(gt_arg0_176984, gt_arg1_176979);
                                bool defunc_0_leq_res_176988 = sle64(gt_arg0_176985, gt_arg1_176980);
                                bool x_176989 = cond_176986 && defunc_0_leq_res_t_res_176987;
                                bool x_176990 = !cond_176986;
                                bool y_176991 = defunc_0_leq_res_176988 && x_176990;
                                bool defunc_0_leq_res_176992 = x_176989 || y_176991;
                                bool defunc_0_lifted_gt_res_176993 = !defunc_0_leq_res_176992;
                                bool s_176994;
                                int64_t s_176998;
                                bool loop_while_176999;
                                int64_t j_177003;
                                
                                loop_while_176999 = defunc_0_lifted_gt_res_176993;
                                j_177003 = i_176969;
                                while (loop_while_176999) {
                                    bool x_177004 = sle64((int64_t) 0, j_177003);
                                    bool y_177005 = slt64(j_177003, block_sizze_176894);
                                    bool bounds_check_177006 = x_177004 && y_177005;
                                    bool index_certs_177007;
                                    
                                    if (!bounds_check_177006) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177003, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177011 = add64((int64_t) 1, j_177003);
                                    bool x_177012 = sle64((int64_t) 0, copy_arg0_177011);
                                    bool y_177013 = slt64(copy_arg0_177011, block_sizze_176894);
                                    bool bounds_check_177014 = x_177012 && y_177013;
                                    bool index_certs_177015;
                                    
                                    if (!bounds_check_177014) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177011, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177008 = ((int8_t *) mem_181109)[j_177003];
                                    int64_t copy_arg0_177009 = ((int64_t *) mem_181111)[j_177003];
                                    int64_t copy_arg0_177010 = ((int64_t *) mem_181113)[j_177003];
                                    int8_t copy_arg0_177016 = ((int8_t *) mem_181109)[copy_arg0_177011];
                                    int64_t copy_arg0_177017 = ((int64_t *) mem_181111)[copy_arg0_177011];
                                    int64_t copy_arg0_177018 = ((int64_t *) mem_181113)[copy_arg0_177011];
                                    
                                    ((int8_t *) mem_181109)[j_177003] = copy_arg0_177016;
                                    ((int64_t *) mem_181111)[j_177003] = copy_arg0_177017;
                                    ((int64_t *) mem_181113)[j_177003] = copy_arg0_177018;
                                    ((int8_t *) mem_181109)[copy_arg0_177011] = copy_arg0_177008;
                                    ((int64_t *) mem_181111)[copy_arg0_177011] = copy_arg0_177009;
                                    ((int64_t *) mem_181113)[copy_arg0_177011] = copy_arg0_177010;
                                    
                                    int64_t tmp_177025 = sub64(j_177003, (int64_t) 1);
                                    bool cond_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool loop_cond_177027;
                                    
                                    if (cond_177026) {
                                        bool y_180232 = slt64(tmp_177025, block_sizze_176894);
                                        bool bounds_check_180233 = cond_177026 && y_180232;
                                        bool index_certs_180234;
                                        
                                        if (!bounds_check_180233) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180229 = ((int8_t *) mem_181109)[j_177003];
                                        int64_t gt_arg1_180230 = ((int64_t *) mem_181111)[j_177003];
                                        int64_t gt_arg1_180231 = ((int64_t *) mem_181113)[j_177003];
                                        int8_t gt_arg0_180235 = ((int8_t *) mem_181109)[tmp_177025];
                                        int64_t gt_arg0_180236 = ((int64_t *) mem_181111)[tmp_177025];
                                        int64_t gt_arg0_180237 = ((int64_t *) mem_181113)[tmp_177025];
                                        bool cond_180238 = gt_arg0_180235 == gt_arg1_180229;
                                        bool defunc_0_leq_res_t_res_180239 = sle64(gt_arg0_180236, gt_arg1_180230);
                                        bool defunc_0_leq_res_180240 = sle64(gt_arg0_180237, gt_arg1_180231);
                                        bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                        bool x_180242 = !cond_180238;
                                        bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                        bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                        bool defunc_0_lifted_gt_res_180245 = !defunc_0_leq_res_180244;
                                        
                                        loop_cond_177027 = defunc_0_lifted_gt_res_180245;
                                    } else {
                                        loop_cond_177027 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182597 = loop_cond_177027;
                                    int64_t j_tmp_182601 = tmp_177025;
                                    
                                    loop_while_176999 = loop_while_tmp_182597;
                                    j_177003 = j_tmp_182601;
                                }
                                s_176994 = loop_while_176999;
                                s_176998 = j_177003;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181090, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181109, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181093, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181111, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181096, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181113, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                    }
                    if (memblock_alloc(ctx, &mem_181190, flat_dim_176895, "mem_181190")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181190.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint8_t *) mem_181090, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181194, bytes_181092, "mem_181194")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181194.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint64_t *) mem_181093, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181198, bytes_181092, "mem_181198")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181198.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint64_t *) mem_181096, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    
                    int64_t data_177051;
                    bool data_177052;
                    int64_t data_177056;
                    int64_t loop_dz2084Uz2082U_177057;
                    bool loop_while_177058;
                    int64_t stride_177062;
                    
                    if (memblock_set(ctx, &mem_param_181202, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181205, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181208, &mem_181198, "mem_181198") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177057 = flat_dim_176895;
                    loop_while_177058 = loop_cond_177048;
                    stride_177062 = block_sizze_176894;
                    while (loop_while_177058) {
                        int64_t next_stride_177063 = mul64((int64_t) 2, stride_177062);
                        bool zzero_177064 = next_stride_177063 == (int64_t) 0;
                        bool nonzzero_177065 = !zzero_177064;
                        bool nonzzero_cert_177066;
                        
                        if (!nonzzero_177065) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177067 = sdiv64(flat_dim_176895, next_stride_177063);
                        bool bounds_invalid_upwards_177068 = slt64(num_merges_177067, (int64_t) 0);
                        bool valid_177069 = !bounds_invalid_upwards_177068;
                        bool range_valid_c_177070;
                        
                        if (!valid_177069) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177067, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177072 = sub64(next_stride_177063, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, m_177072);
                        bool cond_177075 = slt64(next_stride_177063, (int64_t) 10);
                        bool protect_assert_disj_177076 = nonzzero_177050 || cond_177075;
                        bool nonzzero_cert_177077;
                        
                        if (!protect_assert_disj_177076) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177078 = smod_safe64(next_stride_177063, merge_block_sizze_176900);
                        bool num_blocks_177079 = zeze_lhs_177078 == (int64_t) 0;
                        bool protect_assert_disj_177080 = cond_177075 || num_blocks_177079;
                        bool assert_c_177081;
                        
                        if (!protect_assert_disj_177080) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177083 = sdiv_safe64(next_stride_177063, merge_block_sizze_176900);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084 = add64((int64_t) 1, num_blocks_177083);
                        int64_t j_m_i_177085 = sub64(next_stride_177063, stride_177062);
                        int64_t flat_dim_177086 = merge_block_sizze_176900 * num_blocks_177083;
                        bool bounds_invalid_upwards_177087 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, (int64_t) 0);
                        bool empty_slice_177088 = j_m_i_177085 == (int64_t) 0;
                        int64_t m_177089 = sub64(j_m_i_177085, (int64_t) 1);
                        bool zzero_lte_i_177090 = sle64((int64_t) 0, stride_177062);
                        bool i_lte_j_177091 = sle64(stride_177062, next_stride_177063);
                        bool empty_slice_177092 = stride_177062 == (int64_t) 0;
                        int64_t m_177093 = sub64(stride_177062, (int64_t) 1);
                        bool bounds_invalid_upwards_177094 = slt64(num_blocks_177083, (int64_t) 0);
                        bool cond_177095 = slt64((int64_t) 0, stride_177062);
                        bool valid_177096 = !bounds_invalid_upwards_177087;
                        int64_t i_p_m_t_s_177097 = add64(stride_177062, m_177089);
                        bool zzero_leq_i_p_m_t_s_177098 = sle64((int64_t) 0, m_177093);
                        bool i_p_m_t_s_leq_w_177099 = slt64(m_177093, next_stride_177063);
                        bool valid_177100 = !bounds_invalid_upwards_177094;
                        bool i_p_m_t_s_leq_w_177101 = slt64(m_177072, flat_dim_177086);
                        bool y_177102 = slt64((int64_t) 0, j_m_i_177085);
                        bool protect_assert_disj_177103 = cond_177075 || valid_177096;
                        bool range_valid_c_177104;
                        
                        if (!protect_assert_disj_177103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177105 = sle64((int64_t) 0, i_p_m_t_s_177097);
                        bool i_p_m_t_s_leq_w_177106 = slt64(i_p_m_t_s_177097, next_stride_177063);
                        bool y_177107 = zzero_leq_i_p_m_t_s_177098 && i_p_m_t_s_leq_w_177099;
                        bool protect_assert_disj_177108 = cond_177075 || valid_177100;
                        bool range_valid_c_177109;
                        
                        if (!protect_assert_disj_177108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177083, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177110 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177101;
                        bool y_177111 = zzero_lte_i_177090 && i_p_m_t_s_leq_w_177106;
                        bool forwards_ok_177112 = zzero_lte_i_177090 && y_177107;
                        bool ok_or_empty_177113 = zzero_177064 || y_177110;
                        bool protect_assert_disj_177114 = cond_177095 || y_177102;
                        bool y_177115 = zzero_leq_i_p_m_t_s_177105 && y_177111;
                        bool ok_or_empty_177116 = empty_slice_177092 || forwards_ok_177112;
                        bool protect_assert_disj_177117 = cond_177075 || ok_or_empty_177113;
                        bool index_certs_177118;
                        
                        if (!protect_assert_disj_177117) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) flat_dim_177086, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177119 = !cond_177075;
                        bool protect_assert_disj_177120 = protect_assert_disj_177114 || loop_not_taken_177119;
                        bool index_certs_177121;
                        
                        if (!protect_assert_disj_177120) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177122 = i_lte_j_177091 && y_177115;
                        bool protect_assert_disj_177123 = cond_177075 || ok_or_empty_177116;
                        bool index_certs_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177125 = ok_or_empty_177116 || loop_not_taken_177119;
                        bool index_certs_177126;
                        
                        if (!protect_assert_disj_177125) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177127 = empty_slice_177088 || forwards_ok_177122;
                        bool protect_assert_disj_177128 = cond_177075 || ok_or_empty_177127;
                        bool index_certs_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177130 = loop_not_taken_177119 || ok_or_empty_177127;
                        bool index_certs_177131;
                        
                        if (!protect_assert_disj_177130) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181209 = next_stride_177063 * num_merges_177067;
                        int64_t binop_x_181211 = (int64_t) 8 * num_merges_177067;
                        int64_t bytes_181212 = next_stride_177063 * binop_x_181211;
                        bool i_lte_j_177074 = sle64((int64_t) 0, next_stride_177063);
                        
                        if (mem_181210_cached_sizze_182944 < bytes_181209) {
                            err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_182944, bytes_181209);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181213_cached_sizze_182945 < bytes_181212) {
                            err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_182945, bytes_181212);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181216_cached_sizze_182946 < bytes_181212) {
                            err = lexical_realloc(ctx, &mem_181216, &mem_181216_cached_sizze_182946, bytes_181212);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181229 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084;
                        int64_t binop_x_181247 = (int64_t) 8 * num_blocks_177083;
                        int64_t bytes_181248 = merge_block_sizze_176900 * binop_x_181247;
                        int64_t bytes_181312 = (int64_t) 16 * stride_177062;
                        
                        for (int64_t i_180832 = 0; i_180832 < num_merges_177067; i_180832++) {
                            int64_t start_177136 = mul64(next_stride_177063, i_180832);
                            int64_t j_m_i_177137 = sub64(loop_dz2084Uz2082U_177057, start_177136);
                            bool empty_slice_177138 = j_m_i_177137 == (int64_t) 0;
                            int64_t m_177139 = sub64(j_m_i_177137, (int64_t) 1);
                            int64_t i_p_m_t_s_177140 = add64(start_177136, m_177139);
                            bool zzero_leq_i_p_m_t_s_177141 = sle64((int64_t) 0, i_p_m_t_s_177140);
                            bool i_p_m_t_s_leq_w_177142 = slt64(i_p_m_t_s_177140, loop_dz2084Uz2082U_177057);
                            bool zzero_lte_i_177143 = sle64((int64_t) 0, start_177136);
                            bool i_lte_j_177144 = sle64(start_177136, loop_dz2084Uz2082U_177057);
                            bool y_177145 = i_p_m_t_s_leq_w_177142 && zzero_lte_i_177143;
                            bool y_177146 = zzero_leq_i_p_m_t_s_177141 && y_177145;
                            bool forwards_ok_177147 = i_lte_j_177144 && y_177146;
                            bool ok_or_empty_177148 = empty_slice_177138 || forwards_ok_177147;
                            bool index_certs_177149;
                            
                            if (!ok_or_empty_177148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177136, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177057, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177150 = slt64(m_177072, j_m_i_177137);
                            bool y_177151 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177150;
                            bool forwards_ok_177152 = i_lte_j_177074 && y_177151;
                            bool ok_or_empty_177153 = zzero_177064 || forwards_ok_177152;
                            bool index_certs_177154;
                            
                            if (!ok_or_empty_177153) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) j_m_i_177137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177075) {
                                int8_t dummy_180284;
                                int64_t dummy_180285;
                                int64_t dummy_180286;
                                
                                if (cond_177095) {
                                    int8_t head_res_180287 = ((int8_t *) mem_param_181202.mem)[start_177136];
                                    int64_t head_res_180288 = ((int64_t *) mem_param_181205.mem)[start_177136];
                                    int64_t head_res_180289 = ((int64_t *) mem_param_181208.mem)[start_177136];
                                    
                                    dummy_180284 = head_res_180287;
                                    dummy_180285 = head_res_180288;
                                    dummy_180286 = head_res_180289;
                                } else {
                                    int64_t slice_180290 = stride_177062 + start_177136;
                                    int8_t head_res_180291 = ((int8_t *) mem_param_181202.mem)[slice_180290];
                                    int64_t head_res_180292 = ((int64_t *) mem_param_181205.mem)[slice_180290];
                                    int64_t head_res_180293 = ((int64_t *) mem_param_181208.mem)[slice_180290];
                                    
                                    dummy_180284 = head_res_180291;
                                    dummy_180285 = head_res_180292;
                                    dummy_180286 = head_res_180293;
                                }
                                if (memblock_alloc(ctx, &mem_181311, next_stride_177063, "mem_181311")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182614 = 0; nest_i_182614 < next_stride_177063; nest_i_182614++) {
                                    ((int8_t *) mem_181311.mem)[nest_i_182614] = dummy_180284;
                                }
                                if (memblock_alloc(ctx, &mem_181313, bytes_181312, "mem_181313")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182615 = 0; nest_i_182615 < next_stride_177063; nest_i_182615++) {
                                    ((int64_t *) mem_181313.mem)[nest_i_182615] = dummy_180285;
                                }
                                if (memblock_alloc(ctx, &mem_181315, bytes_181312, "mem_181315")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182616 = 0; nest_i_182616 < next_stride_177063; nest_i_182616++) {
                                    ((int64_t *) mem_181315.mem)[nest_i_182616] = dummy_180286;
                                }
                                
                                int64_t data_180297;
                                int64_t i_180302 = (int64_t) 0;
                                
                                for (int64_t k_180301 = 0; k_180301 < next_stride_177063; k_180301++) {
                                    int64_t j_180306 = sub64(k_180301, i_180302);
                                    bool cond_180307 = j_180306 == j_m_i_177085;
                                    bool cond_180308;
                                    
                                    if (cond_180307) {
                                        cond_180308 = 1;
                                    } else {
                                        bool cond_180309 = slt64(i_180302, stride_177062);
                                        bool cond_f_res_180310;
                                        
                                        if (cond_180309) {
                                            bool x_180311 = sle64((int64_t) 0, j_180306);
                                            bool y_180312 = slt64(j_180306, j_m_i_177085);
                                            bool bounds_check_180313 = x_180311 && y_180312;
                                            bool index_certs_180314;
                                            
                                            if (!bounds_check_180313) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180320 = sle64((int64_t) 0, i_180302);
                                            bool bounds_check_180321 = cond_180309 && x_180320;
                                            bool index_certs_180322;
                                            
                                            if (!bounds_check_180321) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180315 = stride_177062 + j_180306;
                                            int64_t slice_180316 = start_177136 + slice_180315;
                                            int8_t leq_arg1_180317 = ((int8_t *) mem_param_181202.mem)[slice_180316];
                                            int64_t leq_arg1_180318 = ((int64_t *) mem_param_181205.mem)[slice_180316];
                                            int64_t leq_arg1_180319 = ((int64_t *) mem_param_181208.mem)[slice_180316];
                                            int64_t slice_180323 = start_177136 + i_180302;
                                            int8_t leq_arg0_180324 = ((int8_t *) mem_param_181202.mem)[slice_180323];
                                            int64_t leq_arg0_180325 = ((int64_t *) mem_param_181205.mem)[slice_180323];
                                            int64_t leq_arg0_180326 = ((int64_t *) mem_param_181208.mem)[slice_180323];
                                            bool cond_180327 = leq_arg0_180324 == leq_arg1_180317;
                                            bool defunc_0_leq_res_t_res_180328 = sle64(leq_arg0_180325, leq_arg1_180318);
                                            bool defunc_0_leq_res_180329 = sle64(leq_arg0_180326, leq_arg1_180319);
                                            bool x_180330 = cond_180327 && defunc_0_leq_res_t_res_180328;
                                            bool x_180331 = !cond_180327;
                                            bool y_180332 = defunc_0_leq_res_180329 && x_180331;
                                            bool defunc_0_leq_res_180333 = x_180330 || y_180332;
                                            
                                            cond_f_res_180310 = defunc_0_leq_res_180333;
                                        } else {
                                            cond_f_res_180310 = 0;
                                        }
                                        cond_180308 = cond_f_res_180310;
                                    }
                                    
                                    int64_t loopres_180334;
                                    int8_t loopres_180335;
                                    int64_t loopres_180336;
                                    int64_t loopres_180337;
                                    
                                    if (cond_180308) {
                                        bool x_180339 = sle64((int64_t) 0, i_180302);
                                        bool y_180340 = slt64(i_180302, stride_177062);
                                        bool bounds_check_180341 = x_180339 && y_180340;
                                        bool index_certs_180342;
                                        
                                        if (!bounds_check_180341) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180338 = add64((int64_t) 1, i_180302);
                                        int64_t slice_180343 = start_177136 + i_180302;
                                        int8_t tmp_180344 = ((int8_t *) mem_param_181202.mem)[slice_180343];
                                        int64_t tmp_180345 = ((int64_t *) mem_param_181205.mem)[slice_180343];
                                        int64_t tmp_180346 = ((int64_t *) mem_param_181208.mem)[slice_180343];
                                        
                                        loopres_180334 = tmp_180338;
                                        loopres_180335 = tmp_180344;
                                        loopres_180336 = tmp_180345;
                                        loopres_180337 = tmp_180346;
                                    } else {
                                        bool x_180347 = sle64((int64_t) 0, j_180306);
                                        bool y_180348 = slt64(j_180306, j_m_i_177085);
                                        bool bounds_check_180349 = x_180347 && y_180348;
                                        bool index_certs_180350;
                                        
                                        if (!bounds_check_180349) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180351 = stride_177062 + j_180306;
                                        int64_t slice_180352 = start_177136 + slice_180351;
                                        int8_t tmp_180353 = ((int8_t *) mem_param_181202.mem)[slice_180352];
                                        int64_t tmp_180354 = ((int64_t *) mem_param_181205.mem)[slice_180352];
                                        int64_t tmp_180355 = ((int64_t *) mem_param_181208.mem)[slice_180352];
                                        
                                        loopres_180334 = i_180302;
                                        loopres_180335 = tmp_180353;
                                        loopres_180336 = tmp_180354;
                                        loopres_180337 = tmp_180355;
                                    }
                                    ((int8_t *) mem_181311.mem)[k_180301] = loopres_180335;
                                    ((int64_t *) mem_181313.mem)[k_180301] = loopres_180336;
                                    ((int64_t *) mem_181315.mem)[k_180301] = loopres_180337;
                                    
                                    int64_t i_tmp_182617 = loopres_180334;
                                    
                                    i_180302 = i_tmp_182617;
                                }
                                data_180297 = i_180302;
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181311, "mem_181311") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181313, "mem_181313") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181315, "mem_181315") != 0)
                                    return 1;
                            } else {
                                if (mem_181230_cached_sizze_182947 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_182947, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181232_cached_sizze_182948 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181232, &mem_181232_cached_sizze_182948, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180813 = 0; i_180813 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084; i_180813++) {
                                    int64_t split_count_arg3_177237 = mul64(merge_block_sizze_176900, i_180813);
                                    int64_t defunc_0_split_count_res_177238;
                                    int64_t defunc_0_split_count_res_177239;
                                    int64_t defunc_0_split_count_res_177240;
                                    int64_t defunc_0_split_count_res_177241;
                                    int64_t defunc_0_split_count_res_177242;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177238, &defunc_0_split_count_res_177239, &defunc_0_split_count_res_177240, &defunc_0_split_count_res_177241, &defunc_0_split_count_res_177242, (int64_t) 0, stride_177062, (int64_t) 0, j_m_i_177085, split_count_arg3_177237) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177243 = slt64((int64_t) 0, defunc_0_split_count_res_177242);
                                    bool defunc_0_split_count_res_177244;
                                    int64_t defunc_0_split_count_res_177245;
                                    int64_t defunc_0_split_count_res_177246;
                                    int64_t defunc_0_split_count_res_177247;
                                    int64_t defunc_0_split_count_res_177248;
                                    int64_t defunc_0_split_count_res_177249;
                                    bool loop_while_177250;
                                    int64_t ss_177251;
                                    int64_t ss_177252;
                                    int64_t tt_177253;
                                    int64_t tt_177254;
                                    int64_t count_177255;
                                    
                                    loop_while_177250 = loop_cond_177243;
                                    ss_177251 = defunc_0_split_count_res_177238;
                                    ss_177252 = defunc_0_split_count_res_177239;
                                    tt_177253 = defunc_0_split_count_res_177240;
                                    tt_177254 = defunc_0_split_count_res_177241;
                                    count_177255 = defunc_0_split_count_res_177242;
                                    while (loop_while_177250) {
                                        int64_t zlze_lhs_177256 = sub64(ss_177252, ss_177251);
                                        bool cond_177257 = sle64(zlze_lhs_177256, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177258;
                                        int64_t defunc_0_lifted_step_res_177259;
                                        int64_t defunc_0_lifted_step_res_177260;
                                        int64_t defunc_0_lifted_step_res_177261;
                                        
                                        if (cond_177257) {
                                            int64_t tmp_180359 = add64(tt_177253, count_177255);
                                            
                                            defunc_0_lifted_step_res_177258 = ss_177251;
                                            defunc_0_lifted_step_res_177259 = tmp_180359;
                                            defunc_0_lifted_step_res_177260 = tt_177254;
                                            defunc_0_lifted_step_res_177261 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177263 = sub64(tt_177254, tt_177253);
                                            bool cond_177264 = sle64(zlze_lhs_177263, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177265;
                                            int64_t defunc_0_lifted_step_res_f_res_177266;
                                            int64_t defunc_0_lifted_step_res_f_res_177267;
                                            int64_t defunc_0_lifted_step_res_f_res_177268;
                                            
                                            if (cond_177264) {
                                                int64_t tmp_180360 = add64(ss_177251, count_177255);
                                                
                                                defunc_0_lifted_step_res_f_res_177265 = tmp_180360;
                                                defunc_0_lifted_step_res_f_res_177266 = tt_177253;
                                                defunc_0_lifted_step_res_f_res_177267 = tt_177254;
                                                defunc_0_lifted_step_res_f_res_177268 = (int64_t) 0;
                                            } else {
                                                bool cond_177270 = count_177255 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177271;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177272;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177273;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177274;
                                                
                                                if (cond_177270) {
                                                    bool x_180362 = sle64((int64_t) 0, ss_177251);
                                                    bool y_180363 = slt64(ss_177251, stride_177062);
                                                    bool bounds_check_180364 = x_180362 && y_180363;
                                                    bool index_certs_180365;
                                                    
                                                    if (!bounds_check_180364) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177251, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180370 = sle64((int64_t) 0, tt_177253);
                                                    bool y_180371 = slt64(tt_177253, j_m_i_177085);
                                                    bool bounds_check_180372 = x_180370 && y_180371;
                                                    bool index_certs_180373;
                                                    
                                                    if (!bounds_check_180372) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177253, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180366 = start_177136 + ss_177251;
                                                    int8_t leq_arg1_180367 = ((int8_t *) mem_param_181202.mem)[slice_180366];
                                                    int64_t leq_arg1_180368 = ((int64_t *) mem_param_181205.mem)[slice_180366];
                                                    int64_t leq_arg1_180369 = ((int64_t *) mem_param_181208.mem)[slice_180366];
                                                    int64_t slice_180374 = stride_177062 + tt_177253;
                                                    int64_t slice_180375 = start_177136 + slice_180374;
                                                    int8_t leq_arg0_180376 = ((int8_t *) mem_param_181202.mem)[slice_180375];
                                                    int64_t leq_arg0_180377 = ((int64_t *) mem_param_181205.mem)[slice_180375];
                                                    int64_t leq_arg0_180378 = ((int64_t *) mem_param_181208.mem)[slice_180375];
                                                    bool cond_180379 = leq_arg0_180376 == leq_arg1_180367;
                                                    bool defunc_0_leq_res_t_res_180380 = sle64(leq_arg0_180377, leq_arg1_180368);
                                                    bool defunc_0_leq_res_180381 = sle64(leq_arg0_180378, leq_arg1_180369);
                                                    bool x_180382 = cond_180379 && defunc_0_leq_res_t_res_180380;
                                                    bool x_180383 = !cond_180379;
                                                    bool y_180384 = defunc_0_leq_res_180381 && x_180383;
                                                    bool defunc_0_leq_res_180385 = x_180382 || y_180384;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    
                                                    if (defunc_0_leq_res_180385) {
                                                        int64_t tmp_180388 = add64((int64_t) 1, tt_177253);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = ss_177251;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tmp_180388;
                                                    } else {
                                                        int64_t tmp_180389 = add64((int64_t) 1, ss_177251);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = tmp_180389;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tt_177253;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = tt_177254;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177303 = sdiv64(count_177255, (int64_t) 2);
                                                    int64_t n_177304 = sub64(count_177255, m_177303);
                                                    bool cond_177305 = n_177304 == (int64_t) 0;
                                                    int64_t zgze_lhs_177306 = add64(ss_177251, m_177303);
                                                    bool cond_f_res_177307 = sle64(ss_177252, zgze_lhs_177306);
                                                    bool x_177308 = !cond_177305;
                                                    bool y_177309 = cond_f_res_177307 && x_177308;
                                                    bool cond_177310 = cond_177305 || y_177309;
                                                    bool leq_y_x_177311;
                                                    
                                                    if (cond_177310) {
                                                        leq_y_x_177311 = 1;
                                                    } else {
                                                        bool x_177312 = sle64((int64_t) 0, zgze_lhs_177306);
                                                        bool y_177313 = slt64(zgze_lhs_177306, stride_177062);
                                                        bool bounds_check_177314 = x_177312 && y_177313;
                                                        bool index_certs_177315;
                                                        
                                                        if (!bounds_check_177314) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177306, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177320 = add64(tt_177253, n_177304);
                                                        int64_t leq_arg0_177321 = sub64(zm_lhs_177320, (int64_t) 1);
                                                        bool x_177322 = sle64((int64_t) 0, leq_arg0_177321);
                                                        bool y_177323 = slt64(leq_arg0_177321, j_m_i_177085);
                                                        bool bounds_check_177324 = x_177322 && y_177323;
                                                        bool index_certs_177325;
                                                        
                                                        if (!bounds_check_177324) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177321, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177316 = start_177136 + zgze_lhs_177306;
                                                        int8_t leq_arg1_177317 = ((int8_t *) mem_param_181202.mem)[slice_177316];
                                                        int64_t leq_arg1_177318 = ((int64_t *) mem_param_181205.mem)[slice_177316];
                                                        int64_t leq_arg1_177319 = ((int64_t *) mem_param_181208.mem)[slice_177316];
                                                        int64_t slice_177326 = stride_177062 + leq_arg0_177321;
                                                        int64_t slice_177327 = start_177136 + slice_177326;
                                                        int8_t leq_arg0_177328 = ((int8_t *) mem_param_181202.mem)[slice_177327];
                                                        int64_t leq_arg0_177329 = ((int64_t *) mem_param_181205.mem)[slice_177327];
                                                        int64_t leq_arg0_177330 = ((int64_t *) mem_param_181208.mem)[slice_177327];
                                                        bool cond_177331 = leq_arg0_177328 == leq_arg1_177317;
                                                        bool defunc_0_leq_res_t_res_177332 = sle64(leq_arg0_177329, leq_arg1_177318);
                                                        bool defunc_0_leq_res_177333 = sle64(leq_arg0_177330, leq_arg1_177319);
                                                        bool x_177334 = cond_177331 && defunc_0_leq_res_t_res_177332;
                                                        bool x_177335 = !cond_177331;
                                                        bool y_177336 = defunc_0_leq_res_177333 && x_177335;
                                                        bool defunc_0_leq_res_177337 = x_177334 || y_177336;
                                                        
                                                        leq_y_x_177311 = defunc_0_leq_res_177337;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                    
                                                    if (leq_y_x_177311) {
                                                        int64_t tmp_180390 = add64(tt_177253, n_177304);
                                                        int64_t tmp_180391 = sub64(count_177255, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tmp_180390;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tt_177254;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = tmp_180391;
                                                    } else {
                                                        int64_t tmp_177343 = add64(tt_177253, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tt_177253;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tmp_177343;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = count_177255;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = ss_177251;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                }
                                                defunc_0_lifted_step_res_f_res_177265 = defunc_0_lifted_step_res_f_res_f_res_177271;
                                                defunc_0_lifted_step_res_f_res_177266 = defunc_0_lifted_step_res_f_res_f_res_177272;
                                                defunc_0_lifted_step_res_f_res_177267 = defunc_0_lifted_step_res_f_res_f_res_177273;
                                                defunc_0_lifted_step_res_f_res_177268 = defunc_0_lifted_step_res_f_res_f_res_177274;
                                            }
                                            defunc_0_lifted_step_res_177258 = defunc_0_lifted_step_res_f_res_177265;
                                            defunc_0_lifted_step_res_177259 = defunc_0_lifted_step_res_f_res_177266;
                                            defunc_0_lifted_step_res_177260 = defunc_0_lifted_step_res_f_res_177267;
                                            defunc_0_lifted_step_res_177261 = defunc_0_lifted_step_res_f_res_177268;
                                        }
                                        
                                        int64_t loopres_177344;
                                        int64_t loopres_177345;
                                        int64_t loopres_177346;
                                        int64_t loopres_177347;
                                        int64_t loopres_177348;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_177344, &loopres_177345, &loopres_177346, &loopres_177347, &loopres_177348, defunc_0_lifted_step_res_177258, ss_177252, defunc_0_lifted_step_res_177259, defunc_0_lifted_step_res_177260, defunc_0_lifted_step_res_177261) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177349 = slt64((int64_t) 0, loopres_177348);
                                        bool loop_while_tmp_182623 = loop_cond_177349;
                                        int64_t ss_tmp_182624 = loopres_177344;
                                        int64_t ss_tmp_182625 = loopres_177345;
                                        int64_t tt_tmp_182626 = loopres_177346;
                                        int64_t tt_tmp_182627 = loopres_177347;
                                        int64_t count_tmp_182628 = loopres_177348;
                                        
                                        loop_while_177250 = loop_while_tmp_182623;
                                        ss_177251 = ss_tmp_182624;
                                        ss_177252 = ss_tmp_182625;
                                        tt_177253 = tt_tmp_182626;
                                        tt_177254 = tt_tmp_182627;
                                        count_177255 = count_tmp_182628;
                                    }
                                    defunc_0_split_count_res_177244 = loop_while_177250;
                                    defunc_0_split_count_res_177245 = ss_177251;
                                    defunc_0_split_count_res_177246 = ss_177252;
                                    defunc_0_split_count_res_177247 = tt_177253;
                                    defunc_0_split_count_res_177248 = tt_177254;
                                    defunc_0_split_count_res_177249 = count_177255;
                                    ((int64_t *) mem_181230)[i_180813] = defunc_0_split_count_res_177245;
                                    ((int64_t *) mem_181232)[i_180813] = defunc_0_split_count_res_177247;
                                }
                                if (mem_181246_cached_sizze_182949 < flat_dim_177086) {
                                    err = lexical_realloc(ctx, &mem_181246, &mem_181246_cached_sizze_182949, flat_dim_177086);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181249_cached_sizze_182950 < bytes_181248) {
                                    err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_182950, bytes_181248);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_182951 < bytes_181248) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_182951, bytes_181248);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180822 = 0; i_180822 < num_blocks_177083; i_180822++) {
                                    bool y_177356 = slt64(i_180822, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool index_certs_177358;
                                    
                                    if (!y_177356) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177359 = ((int64_t *) mem_181230)[i_180822];
                                    int64_t defunc_0_f_res_177360 = ((int64_t *) mem_181232)[i_180822];
                                    int64_t tmp_177361 = add64((int64_t) 1, i_180822);
                                    bool x_177362 = sle64((int64_t) 0, tmp_177361);
                                    bool y_177363 = slt64(tmp_177361, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool bounds_check_177364 = x_177362 && y_177363;
                                    bool index_certs_177365;
                                    
                                    if (!bounds_check_177364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177361, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177366 = ((int64_t *) mem_181230)[tmp_177361];
                                    int64_t defunc_0_f_res_177367 = ((int64_t *) mem_181232)[tmp_177361];
                                    int64_t merge_sequential_arg2_177368 = add64(stride_177062, defunc_0_f_res_177360);
                                    int64_t merge_sequential_arg2_177369 = add64(stride_177062, defunc_0_f_res_177367);
                                    int64_t j_m_i_177370 = sub64(merge_sequential_arg2_177369, merge_sequential_arg2_177368);
                                    bool empty_slice_177371 = j_m_i_177370 == (int64_t) 0;
                                    int64_t m_177372 = sub64(j_m_i_177370, (int64_t) 1);
                                    int64_t i_p_m_t_s_177373 = add64(merge_sequential_arg2_177368, m_177372);
                                    bool zzero_leq_i_p_m_t_s_177374 = sle64((int64_t) 0, i_p_m_t_s_177373);
                                    bool i_p_m_t_s_leq_w_177375 = slt64(i_p_m_t_s_177373, next_stride_177063);
                                    bool zzero_lte_i_177376 = sle64((int64_t) 0, merge_sequential_arg2_177368);
                                    bool i_lte_j_177377 = sle64(merge_sequential_arg2_177368, merge_sequential_arg2_177369);
                                    bool y_177378 = i_p_m_t_s_leq_w_177375 && zzero_lte_i_177376;
                                    bool y_177379 = zzero_leq_i_p_m_t_s_177374 && y_177378;
                                    bool forwards_ok_177380 = i_lte_j_177377 && y_177379;
                                    bool ok_or_empty_177381 = empty_slice_177371 || forwards_ok_177380;
                                    bool index_certs_177382;
                                    
                                    if (!ok_or_empty_177381) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177368, ":", (long long) merge_sequential_arg2_177369, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177383 = sub64(defunc_0_f_res_177366, defunc_0_f_res_177359);
                                    bool empty_slice_177384 = j_m_i_177383 == (int64_t) 0;
                                    int64_t m_177385 = sub64(j_m_i_177383, (int64_t) 1);
                                    int64_t i_p_m_t_s_177386 = add64(defunc_0_f_res_177359, m_177385);
                                    bool zzero_leq_i_p_m_t_s_177387 = sle64((int64_t) 0, i_p_m_t_s_177386);
                                    bool i_p_m_t_s_leq_w_177388 = slt64(i_p_m_t_s_177386, next_stride_177063);
                                    bool zzero_lte_i_177389 = sle64((int64_t) 0, defunc_0_f_res_177359);
                                    bool i_lte_j_177390 = sle64(defunc_0_f_res_177359, defunc_0_f_res_177366);
                                    bool y_177391 = i_p_m_t_s_leq_w_177388 && zzero_lte_i_177389;
                                    bool y_177392 = zzero_leq_i_p_m_t_s_177387 && y_177391;
                                    bool forwards_ok_177393 = i_lte_j_177390 && y_177392;
                                    bool ok_or_empty_177394 = empty_slice_177384 || forwards_ok_177393;
                                    bool index_certs_177395;
                                    
                                    if (!ok_or_empty_177394) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177359, ":", (long long) defunc_0_f_res_177366, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177396 = slt64((int64_t) 0, j_m_i_177383);
                                    int8_t dummy_177397;
                                    int64_t dummy_177398;
                                    int64_t dummy_177399;
                                    
                                    if (cond_177396) {
                                        bool index_certs_180392;
                                        
                                        if (!cond_177396) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180393 = start_177136 + defunc_0_f_res_177359;
                                        int8_t head_res_180394 = ((int8_t *) mem_param_181202.mem)[slice_180393];
                                        int64_t head_res_180395 = ((int64_t *) mem_param_181205.mem)[slice_180393];
                                        int64_t head_res_180396 = ((int64_t *) mem_param_181208.mem)[slice_180393];
                                        
                                        dummy_177397 = head_res_180394;
                                        dummy_177398 = head_res_180395;
                                        dummy_177399 = head_res_180396;
                                    } else {
                                        bool y_177405 = slt64((int64_t) 0, j_m_i_177370);
                                        bool index_certs_177406;
                                        
                                        if (!y_177405) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177407 = start_177136 + merge_sequential_arg2_177368;
                                        int8_t head_res_177408 = ((int8_t *) mem_param_181202.mem)[slice_177407];
                                        int64_t head_res_177409 = ((int64_t *) mem_param_181205.mem)[slice_177407];
                                        int64_t head_res_177410 = ((int64_t *) mem_param_181208.mem)[slice_177407];
                                        
                                        dummy_177397 = head_res_177408;
                                        dummy_177398 = head_res_177409;
                                        dummy_177399 = head_res_177410;
                                    }
                                    for (int64_t nest_i_182632 = 0; nest_i_182632 < merge_block_sizze_176900; nest_i_182632++) {
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + nest_i_182632] = dummy_177397;
                                    }
                                    for (int64_t nest_i_182633 = 0; nest_i_182633 < merge_block_sizze_176900; nest_i_182633++) {
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + nest_i_182633] = dummy_177398;
                                    }
                                    for (int64_t nest_i_182634 = 0; nest_i_182634 < merge_block_sizze_176900; nest_i_182634++) {
                                        ((int64_t *) mem_181252)[i_180822 * merge_block_sizze_176900 + nest_i_182634] = dummy_177399;
                                    }
                                    
                                    int64_t data_177414;
                                    int64_t i_177419 = (int64_t) 0;
                                    
                                    for (int64_t k_177418 = 0; k_177418 < merge_block_sizze_176900; k_177418++) {
                                        int64_t j_177423 = sub64(k_177418, i_177419);
                                        bool cond_177424 = j_177423 == j_m_i_177370;
                                        bool cond_177425;
                                        
                                        if (cond_177424) {
                                            cond_177425 = 1;
                                        } else {
                                            bool cond_177426 = slt64(i_177419, j_m_i_177383);
                                            bool cond_f_res_177427;
                                            
                                            if (cond_177426) {
                                                bool x_180397 = sle64((int64_t) 0, j_177423);
                                                bool y_180398 = slt64(j_177423, j_m_i_177370);
                                                bool bounds_check_180399 = x_180397 && y_180398;
                                                bool index_certs_180400;
                                                
                                                if (!bounds_check_180399) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180406 = sle64((int64_t) 0, i_177419);
                                                bool bounds_check_180407 = cond_177426 && x_180406;
                                                bool index_certs_180408;
                                                
                                                if (!bounds_check_180407) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180401 = merge_sequential_arg2_177368 + j_177423;
                                                int64_t slice_180402 = start_177136 + slice_180401;
                                                int8_t leq_arg1_180403 = ((int8_t *) mem_param_181202.mem)[slice_180402];
                                                int64_t leq_arg1_180404 = ((int64_t *) mem_param_181205.mem)[slice_180402];
                                                int64_t leq_arg1_180405 = ((int64_t *) mem_param_181208.mem)[slice_180402];
                                                int64_t slice_180409 = defunc_0_f_res_177359 + i_177419;
                                                int64_t slice_180410 = start_177136 + slice_180409;
                                                int8_t leq_arg0_180411 = ((int8_t *) mem_param_181202.mem)[slice_180410];
                                                int64_t leq_arg0_180412 = ((int64_t *) mem_param_181205.mem)[slice_180410];
                                                int64_t leq_arg0_180413 = ((int64_t *) mem_param_181208.mem)[slice_180410];
                                                bool cond_180414 = leq_arg0_180411 == leq_arg1_180403;
                                                bool defunc_0_leq_res_t_res_180415 = sle64(leq_arg0_180412, leq_arg1_180404);
                                                bool defunc_0_leq_res_180416 = sle64(leq_arg0_180413, leq_arg1_180405);
                                                bool x_180417 = cond_180414 && defunc_0_leq_res_t_res_180415;
                                                bool x_180418 = !cond_180414;
                                                bool y_180419 = defunc_0_leq_res_180416 && x_180418;
                                                bool defunc_0_leq_res_180420 = x_180417 || y_180419;
                                                
                                                cond_f_res_177427 = defunc_0_leq_res_180420;
                                            } else {
                                                cond_f_res_177427 = 0;
                                            }
                                            cond_177425 = cond_f_res_177427;
                                        }
                                        
                                        int64_t loopres_177452;
                                        int8_t loopres_177453;
                                        int64_t loopres_177454;
                                        int64_t loopres_177455;
                                        
                                        if (cond_177425) {
                                            bool x_180422 = sle64((int64_t) 0, i_177419);
                                            bool y_180423 = slt64(i_177419, j_m_i_177383);
                                            bool bounds_check_180424 = x_180422 && y_180423;
                                            bool index_certs_180425;
                                            
                                            if (!bounds_check_180424) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180421 = add64((int64_t) 1, i_177419);
                                            int64_t slice_180426 = defunc_0_f_res_177359 + i_177419;
                                            int64_t slice_180427 = start_177136 + slice_180426;
                                            int8_t tmp_180428 = ((int8_t *) mem_param_181202.mem)[slice_180427];
                                            int64_t tmp_180429 = ((int64_t *) mem_param_181205.mem)[slice_180427];
                                            int64_t tmp_180430 = ((int64_t *) mem_param_181208.mem)[slice_180427];
                                            
                                            loopres_177452 = tmp_180421;
                                            loopres_177453 = tmp_180428;
                                            loopres_177454 = tmp_180429;
                                            loopres_177455 = tmp_180430;
                                        } else {
                                            bool x_177466 = sle64((int64_t) 0, j_177423);
                                            bool y_177467 = slt64(j_177423, j_m_i_177370);
                                            bool bounds_check_177468 = x_177466 && y_177467;
                                            bool index_certs_177469;
                                            
                                            if (!bounds_check_177468) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177470 = merge_sequential_arg2_177368 + j_177423;
                                            int64_t slice_177471 = start_177136 + slice_177470;
                                            int8_t tmp_177472 = ((int8_t *) mem_param_181202.mem)[slice_177471];
                                            int64_t tmp_177473 = ((int64_t *) mem_param_181205.mem)[slice_177471];
                                            int64_t tmp_177474 = ((int64_t *) mem_param_181208.mem)[slice_177471];
                                            
                                            loopres_177452 = i_177419;
                                            loopres_177453 = tmp_177472;
                                            loopres_177454 = tmp_177473;
                                            loopres_177455 = tmp_177474;
                                        }
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177453;
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177454;
                                        ((int64_t *) mem_181252)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177455;
                                        
                                        int64_t i_tmp_182635 = loopres_177452;
                                        
                                        i_177419 = i_tmp_182635;
                                    }
                                    data_177414 = i_177419;
                                }
                                if (memblock_alloc(ctx, &mem_181301, flat_dim_177086, "mem_181301")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181301.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint8_t *) mem_181246, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181305, bytes_181248, "mem_181305")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181305.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint64_t *) mem_181249, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181309, bytes_181248, "mem_181309")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181309.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint64_t *) mem_181252, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181301, "mem_181301") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181305, "mem_181305") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181309, "mem_181309") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181210, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181342.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181213, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181339.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181216, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181336.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181356, bytes_181209, "mem_181356")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181356.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181360, bytes_181212, "mem_181360")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181360.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint64_t *) mem_181213, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181364, bytes_181212, "mem_181364")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181364.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint64_t *) mem_181216, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        
                        bool loop_cond_177488 = slt64(next_stride_177063, flat_dim_176895);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182602, &mem_181356, "mem_181356") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182603, &mem_181360, "mem_181360") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182604, &mem_181364, "mem_181364") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182605 = bytes_181209;
                        bool loop_while_tmp_182606 = loop_cond_177488;
                        int64_t stride_tmp_182610 = next_stride_177063;
                        
                        if (memblock_set(ctx, &mem_param_181202, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181205, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181208, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177057 = loop_dz2084Uz2082U_tmp_182605;
                        loop_while_177058 = loop_while_tmp_182606;
                        stride_177062 = stride_tmp_182610;
                    }
                    if (memblock_set(ctx, &ext_mem_181374, &mem_param_181202, "mem_param_181202") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181373, &mem_param_181205, "mem_param_181205") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181372, &mem_param_181208, "mem_param_181208") != 0)
                        return 1;
                    data_177051 = loop_dz2084Uz2082U_177057;
                    data_177052 = loop_while_177058;
                    data_177056 = stride_177062;
                    if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
                        return 1;
                    
                    bool empty_slice_177489 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177490 = sle64((int64_t) 0, zs_lhs_176879);
                    bool i_p_m_t_s_leq_w_177491 = slt64(zs_lhs_176879, data_177051);
                    bool y_177492 = zzero_leq_i_p_m_t_s_177490 && i_p_m_t_s_leq_w_177491;
                    bool ok_or_empty_177493 = empty_slice_177489 || y_177492;
                    bool index_certs_177494;
                    
                    if (!ok_or_empty_177493) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] out of bounds for array of shape [", (long long) data_177051, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181383, &ext_mem_181374, "ext_mem_181374") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &ext_mem_181373, "ext_mem_181373") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &ext_mem_181372, "ext_mem_181372") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181064.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181383.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181066.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181380.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181068.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181377.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
                    return 1;
                
                bool loop_cond_177530 = slt64(ubs_176822, threads_142233);
                bool loop_while_tmp_182569 = loop_cond_177530;
                int64_t p_tmp_182570 = ubs_176822;
                
                loop_while_176811 = loop_while_tmp_182569;
                p_176812 = p_tmp_182570;
            }
            defunc_0_mergeFunc_seq_res_176806 = loop_while_176811;
            defunc_0_mergeFunc_seq_res_176807 = p_176812;
            
            int64_t index_concat_branch_178347;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180445 = ((int64_t *) mem_181049)[index_concat_i_178344];
                
                index_concat_branch_178347 = index_concat_180445;
            } else {
                index_concat_branch_178347 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178341;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180446 = ((int64_t *) mem_181051)[index_concat_i_178344];
                
                index_concat_branch_178341 = index_concat_180446;
            } else {
                index_concat_branch_178341 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181064, "mem_181064") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181066, "mem_181066") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181068, "mem_181068") != 0)
                return 1;
            loopres_175570 = index_concat_branch_178347;
            loopres_175571 = index_concat_branch_178341;
        }
        for (int64_t i_180838 = 0; i_180838 < window_sizze_142232; i_180838++) {
            int8_t eta_p_177538 = ((int8_t *) ext_mem_181802.mem)[i_180838];
            int64_t eta_p_177539 = ((int64_t *) ext_mem_181799.mem)[i_180838];
            bool cond_177540 = eta_p_177538 == (int8_t) 0;
            int64_t tmp_177541;
            
            if (cond_177540) {
                int64_t tmp_t_res_180449 = add64(p_175542, eta_p_177539);
                
                tmp_177541 = tmp_t_res_180449;
            } else {
                int64_t tmp_f_res_177543 = add64(p_175543, eta_p_177539);
                
                tmp_177541 = tmp_f_res_177543;
            }
            ((int64_t *) mem_181036.mem)[ind_bottom_175546 + i_180838] = tmp_177541;
        }
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        
        int64_t next_lbs_177544 = add64(p_175542, loopres_175570);
        int64_t next_lbs_177545 = add64(p_175543, loopres_175571);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181802.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_142232});
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181038.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181796.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_142232});
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        
        bool cond_177559 = slt64(next_lbs_177544, zl_rhs_175525);
        bool loop_cond_t_res_177560 = slt64(next_lbs_177545, zl_rhs_175527);
        bool x_177561 = cond_177559 && loop_cond_t_res_177560;
        bool loop_while_tmp_182453 = x_177561;
        int64_t p_tmp_182457 = next_lbs_177544;
        int64_t p_tmp_182458 = next_lbs_177545;
        
        loop_while_175538 = loop_while_tmp_182453;
        p_175542 = p_tmp_182457;
        p_175543 = p_tmp_182458;
    }
    defunc_0_merge_pipeline_res_175532 = loop_while_175538;
    defunc_0_merge_pipeline_res_175536 = p_175542;
    defunc_0_merge_pipeline_res_175537 = p_175543;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 = sub64(nb_142231, defunc_0_merge_pipeline_res_175537);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 = sub64(na_142230, defunc_0_merge_pipeline_res_175536);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    bool empty_slice_177565 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 == (int64_t) 0;
    int64_t m_177566 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 1);
    int64_t i_p_m_t_s_177567 = add64(defunc_0_merge_pipeline_res_175536, m_177566);
    bool zzero_leq_i_p_m_t_s_177568 = sle64((int64_t) 0, i_p_m_t_s_177567);
    bool i_p_m_t_s_leq_w_177569 = slt64(i_p_m_t_s_177567, na_142230);
    bool zzero_lte_i_177570 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175536);
    bool i_lte_j_177571 = sle64(defunc_0_merge_pipeline_res_175536, na_142230);
    bool y_177572 = i_p_m_t_s_leq_w_177569 && zzero_lte_i_177570;
    bool y_177573 = zzero_leq_i_p_m_t_s_177568 && y_177572;
    bool forwards_ok_177574 = i_lte_j_177571 && y_177573;
    bool ok_or_empty_177575 = empty_slice_177565 || forwards_ok_177574;
    bool index_certs_177576;
    
    if (!ok_or_empty_177575) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175536, ":", (long long) na_142230, "] out of bounds for array of shape [", (long long) na_142230, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177580 = slt64(na_142230, defunc_0_merge_pipeline_res_175536);
    bool valid_177581 = !bounds_invalid_upwards_177580;
    bool range_valid_c_177582;
    
    if (!valid_177581) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175536, "..<", (long long) na_142230, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177586 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 == (int64_t) 0;
    int64_t m_177587 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, (int64_t) 1);
    int64_t i_p_m_t_s_177588 = add64(defunc_0_merge_pipeline_res_175537, m_177587);
    bool zzero_leq_i_p_m_t_s_177589 = sle64((int64_t) 0, i_p_m_t_s_177588);
    bool i_p_m_t_s_leq_w_177590 = slt64(i_p_m_t_s_177588, nb_142231);
    bool zzero_lte_i_177591 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175537);
    bool i_lte_j_177592 = sle64(defunc_0_merge_pipeline_res_175537, nb_142231);
    bool y_177593 = i_p_m_t_s_leq_w_177590 && zzero_lte_i_177591;
    bool y_177594 = zzero_leq_i_p_m_t_s_177589 && y_177593;
    bool forwards_ok_177595 = i_lte_j_177592 && y_177594;
    bool ok_or_empty_177596 = empty_slice_177586 || forwards_ok_177595;
    bool index_certs_177597;
    
    if (!ok_or_empty_177596) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175537, ":", (long long) nb_142231, "] out of bounds for array of shape [", (long long) nb_142231, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177601 = slt64(nb_142231, defunc_0_merge_pipeline_res_175537);
    bool valid_177602 = !bounds_invalid_upwards_177601;
    bool range_valid_c_177603;
    
    if (!valid_177602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175537, "..<", (long long) nb_142231, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181827 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool cond_177610 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zs_lhs_177611 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zp_rhs_177612 = sdiv_safe64(zs_lhs_177611, (int64_t) 20);
    int64_t min_num_blocks_177613 = add64((int64_t) 1, zp_rhs_177612);
    bool loop_cond_177614 = slt64((int64_t) 1, min_num_blocks_177613);
    bool smallest_pow_2_geq_than_res_177615;
    int64_t smallest_pow_2_geq_than_res_177616;
    bool loop_while_177617;
    int64_t x_177618;
    
    loop_while_177617 = loop_cond_177614;
    x_177618 = (int64_t) 1;
    while (loop_while_177617) {
        int64_t loopres_177619 = mul64((int64_t) 2, x_177618);
        bool loop_cond_177620 = slt64(loopres_177619, min_num_blocks_177613);
        bool loop_while_tmp_182640 = loop_cond_177620;
        int64_t x_tmp_182641 = loopres_177619;
        
        loop_while_177617 = loop_while_tmp_182640;
        x_177618 = x_tmp_182641;
    }
    smallest_pow_2_geq_than_res_177615 = loop_while_177617;
    smallest_pow_2_geq_than_res_177616 = x_177618;
    
    bool zzero_177621 = smallest_pow_2_geq_than_res_177616 == (int64_t) 0;
    bool nonzzero_177622 = !zzero_177621;
    bool protect_assert_disj_177623 = cond_177610 || nonzzero_177622;
    bool nonzzero_cert_177624;
    
    if (!protect_assert_disj_177623) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177625 = sdiv_safe64(zs_lhs_177611, smallest_pow_2_geq_than_res_177616);
    int64_t block_sizze_177626 = add64((int64_t) 1, zp_rhs_177625);
    bool y_177633 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool protect_assert_disj_182155 = cond_177610 || y_177633;
    bool index_certs_177634;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177660 = slt64(smallest_pow_2_geq_than_res_177616, (int64_t) 0);
    bool valid_177661 = !bounds_invalid_upwards_177660;
    bool protect_assert_disj_182165 = cond_177610 || valid_177661;
    bool range_valid_c_177662;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177616, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177664 = slt64(block_sizze_177626, (int64_t) 0);
    bool valid_177665 = !bounds_invalid_upwards_177664;
    bool protect_assert_disj_182167 = cond_177610 || valid_177665;
    bool range_valid_c_177666;
    
    if (!protect_assert_disj_182167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177626, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177668 = sle64(block_sizze_177626, (int64_t) 1);
    int64_t tmp_177669 = sub64(block_sizze_177626, (int64_t) 2);
    bool bounds_invalid_upwards_177670 = slt64(tmp_177669, (int64_t) 0);
    bool valid_177672 = !bounds_invalid_upwards_177670;
    bool protect_assert_disj_177673 = cond_177668 || valid_177672;
    bool protect_assert_disj_182169 = cond_177610 || protect_assert_disj_177673;
    bool range_valid_c_177674;
    
    if (!protect_assert_disj_182169) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177669, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178235 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, zs_lhs_177611);
    bool i_p_m_t_s_leq_w_178238 = slt64(zs_lhs_177611, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool y_178239 = zzero_leq_i_p_m_t_s_178237 && i_p_m_t_s_leq_w_178238;
    bool ok_or_empty_178240 = empty_slice_178235 || y_178239;
    bool index_certs_178241;
    
    if (!ok_or_empty_178240) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178242 = add64(defunc_0_merge_pipeline_res_175536, defunc_0_merge_pipeline_res_175537);
    int64_t j_m_i_178243 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, final_buffer_178242);
    bool empty_slice_178244 = j_m_i_178243 == (int64_t) 0;
    int64_t m_178245 = sub64(j_m_i_178243, (int64_t) 1);
    int64_t i_p_m_t_s_178246 = add64(final_buffer_178242, m_178245);
    bool zzero_leq_i_p_m_t_s_178247 = sle64((int64_t) 0, i_p_m_t_s_178246);
    bool i_p_m_t_s_leq_w_178248 = slt64(i_p_m_t_s_178246, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool zzero_lte_i_178249 = sle64((int64_t) 0, final_buffer_178242);
    bool i_lte_j_178250 = sle64(final_buffer_178242, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool y_178251 = i_p_m_t_s_leq_w_178248 && zzero_lte_i_178249;
    bool y_178252 = zzero_leq_i_p_m_t_s_178247 && y_178251;
    bool forwards_ok_178253 = i_lte_j_178250 && y_178252;
    bool ok_or_empty_178254 = empty_slice_178244 || forwards_ok_178253;
    bool index_certs_178255;
    
    if (!ok_or_empty_178254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178242, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178256 = j_m_i_178243 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool empty_or_match_cert_178257;
    
    if (!dim_match_178256) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178243, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:389:63-73\n   #2  ftsort.fut:382:1-389:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181826, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "mem_181826")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182642 = 0; nest_i_182642 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; nest_i_182642++) {
        ((int8_t *) mem_181826.mem)[nest_i_182642] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181828, bytes_181827, "mem_181828")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182643 = 0; i_182643 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; i_182643++) {
        int64_t x_182644 = defunc_0_merge_pipeline_res_175536 + i_182643 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[i_182643] = x_182644;
    }
    for (int64_t nest_i_182645 = 0; nest_i_182645 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; nest_i_182645++) {
        ((int8_t *) mem_181826.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + nest_i_182645] = (int8_t) 1;
    }
    for (int64_t i_182646 = 0; i_182646 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; i_182646++) {
        int64_t x_182647 = defunc_0_merge_pipeline_res_175537 + i_182646 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + i_182646] = x_182647;
    }
    
    int64_t tmp_offs_182648 = (int64_t) 0;
    
    if (!(tmp_offs_182648 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182648 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t tmp_offs_182649 = (int64_t) 0;
    
    if (!(tmp_offs_182649 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182649 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    if (memblock_alloc(ctx, &mem_181830, bytes_181827, "mem_181830")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182650 = (int64_t) 0;
    
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint64_t *) a_list_mem_181032.mem, defunc_0_merge_pipeline_res_175536, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint64_t *) b_list_mem_181033.mem, defunc_0_merge_pipeline_res_175537, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t flat_dim_177627 = smallest_pow_2_geq_than_res_177616 * block_sizze_177626;
    bool x_182150 = !cond_177610;
    int64_t greatest_divisor_leq_than_arg1_177631 = mul64((int64_t) 2, block_sizze_177626);
    int64_t merge_block_sizze_177632;
    
    if (x_182150) {
        int64_t x_182152;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182152, (int64_t) 8, greatest_divisor_leq_than_arg1_177631) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177632 = x_182152;
    } else {
        merge_block_sizze_177632 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178307 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 0);
    int8_t index_concat_branch_178311 = btoi_bool_i8(index_concat_cmp_178307);
    int64_t index_concat_i_180451 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    int64_t index_primexp_180452 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180451);
    int64_t index_concat_branch_178305;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178305 = index_primexp_180452;
    } else {
        index_concat_branch_178305 = defunc_0_merge_pipeline_res_175536;
    }
    
    bool x_182146 = !index_concat_cmp_178307;
    bool protect_cond_conj_182156 = x_182146 && x_182150;
    int64_t index_concat_178298;
    
    if (protect_cond_conj_182156) {
        int64_t x_182148 = ((int64_t *) a_list_mem_181032.mem)[defunc_0_merge_pipeline_res_175536];
        
        index_concat_178298 = x_182148;
    } else {
        index_concat_178298 = (int64_t) 0;
    }
    
    bool protect_cond_conj_182157 = index_concat_cmp_178307 && x_182150;
    int64_t index_concat_180455;
    
    if (protect_cond_conj_182157) {
        int64_t x_182144 = ((int64_t *) b_list_mem_181033.mem)[index_primexp_180452];
        
        index_concat_180455 = x_182144;
    } else {
        index_concat_180455 = (int64_t) 0;
    }
    
    int64_t index_concat_branch_178299;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178299 = index_concat_180455;
    } else {
        index_concat_branch_178299 = index_concat_178298;
    }
    
    int8_t defunc_0_reduce_res_180686;
    int64_t defunc_0_reduce_res_180687;
    int64_t defunc_0_reduce_res_180688;
    
    if (x_182150) {
        int8_t x_182158;
        int64_t x_182159;
        int64_t x_182160;
        int8_t redout_180840;
        int64_t redout_180841;
        int64_t redout_180842;
        
        redout_180840 = index_concat_branch_178311;
        redout_180841 = index_concat_branch_178305;
        redout_180842 = index_concat_branch_178299;
        for (int64_t i_180843 = 0; i_180843 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564; i_180843++) {
            bool index_concat_cmp_180914 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, i_180843);
            int8_t index_concat_branch_180918 = btoi_bool_i8(index_concat_cmp_180914);
            int64_t index_concat_branch_180912;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180909 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t index_primexp_181002 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180909);
                
                index_concat_branch_180912 = index_primexp_181002;
            } else {
                int64_t index_primexp_181004 = add64(defunc_0_merge_pipeline_res_175536, i_180843);
                
                index_concat_branch_180912 = index_primexp_181004;
            }
            
            int64_t index_concat_branch_180906;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180903 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t slice_180999 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180903;
                int64_t index_concat_180904 = ((int64_t *) b_list_mem_181033.mem)[slice_180999];
                
                index_concat_branch_180906 = index_concat_180904;
            } else {
                int64_t slice_181000 = defunc_0_merge_pipeline_res_175536 + i_180843;
                int64_t index_concat_180905 = ((int64_t *) a_list_mem_181032.mem)[slice_181000];
                
                index_concat_branch_180906 = index_concat_180905;
            }
            
            bool eq_x_y_181017 = redout_180840 == (int8_t) 1;
            bool eq_x_zz_181018 = redout_180840 == (int8_t) 0;
            bool p_and_eq_x_y_181019 = index_concat_cmp_180914 && eq_x_y_181017;
            bool not_p_181020 = !index_concat_cmp_180914;
            bool p_and_eq_x_y_181021 = eq_x_zz_181018 && not_p_181020;
            bool cond_177650 = p_and_eq_x_y_181019 || p_and_eq_x_y_181021;
            bool defunc_0_leq_res_t_res_177651 = sle64(redout_180841, index_concat_branch_180912);
            bool defunc_0_leq_res_177652 = sle64(redout_180842, index_concat_branch_180906);
            bool x_177653 = cond_177650 && defunc_0_leq_res_t_res_177651;
            bool x_177654 = !cond_177650;
            bool y_177655 = defunc_0_leq_res_177652 && x_177654;
            bool defunc_0_leq_res_177656 = x_177653 || y_177655;
            int8_t defunc_0_op_res_177657;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177657 = index_concat_branch_180918;
            } else {
                defunc_0_op_res_177657 = redout_180840;
            }
            
            int64_t defunc_0_op_res_177658;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177658 = index_concat_branch_180912;
            } else {
                defunc_0_op_res_177658 = redout_180841;
            }
            
            int64_t defunc_0_op_res_177659;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177659 = index_concat_branch_180906;
            } else {
                defunc_0_op_res_177659 = redout_180842;
            }
            
            int8_t redout_tmp_182651 = defunc_0_op_res_177657;
            int64_t redout_tmp_182652 = defunc_0_op_res_177658;
            int64_t redout_tmp_182653 = defunc_0_op_res_177659;
            
            redout_180840 = redout_tmp_182651;
            redout_180841 = redout_tmp_182652;
            redout_180842 = redout_tmp_182653;
        }
        x_182158 = redout_180840;
        x_182159 = redout_180841;
        x_182160 = redout_180842;
        defunc_0_reduce_res_180686 = x_182158;
        defunc_0_reduce_res_180687 = x_182159;
        defunc_0_reduce_res_180688 = x_182160;
    } else {
        defunc_0_reduce_res_180686 = (int8_t) 0;
        defunc_0_reduce_res_180687 = (int64_t) 0;
        defunc_0_reduce_res_180688 = (int64_t) 0;
    }
    
    int64_t distance_177671 = add64((int64_t) 1, tmp_177669);
    int64_t binop_x_181833 = (int64_t) 8 * smallest_pow_2_geq_than_res_177616;
    int64_t bytes_181834 = block_sizze_177626 * binop_x_181833;
    int64_t bytes_181852 = (int64_t) 8 * block_sizze_177626;
    bool loop_cond_177780 = slt64(block_sizze_177626, flat_dim_177627);
    bool zzero_177781 = merge_block_sizze_177632 == (int64_t) 0;
    bool nonzzero_177782 = !zzero_177781;
    
    if (cond_177610) {
        if (memblock_set(ctx, &ext_mem_182125, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &mem_181830, "mem_181830") != 0)
            return 1;
    } else {
        if (mem_181832_cached_sizze_182972 < flat_dim_177627) {
            err = lexical_realloc(ctx, &mem_181832, &mem_181832_cached_sizze_182972, flat_dim_177627);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181835_cached_sizze_182973 < bytes_181834) {
            err = lexical_realloc(ctx, &mem_181835, &mem_181835_cached_sizze_182973, bytes_181834);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181838_cached_sizze_182974 < bytes_181834) {
            err = lexical_realloc(ctx, &mem_181838, &mem_181838_cached_sizze_182974, bytes_181834);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181851_cached_sizze_182975 < block_sizze_177626) {
            err = lexical_realloc(ctx, &mem_181851, &mem_181851_cached_sizze_182975, block_sizze_177626);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181853_cached_sizze_182976 < bytes_181852) {
            err = lexical_realloc(ctx, &mem_181853, &mem_181853_cached_sizze_182976, bytes_181852);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_182977 < bytes_181852) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_182977, bytes_181852);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180860 = 0; i_180860 < smallest_pow_2_geq_than_res_177616; i_180860++) {
            int64_t zp_lhs_177679 = mul64(block_sizze_177626, i_180860);
            
            for (int64_t i_180850 = 0; i_180850 < block_sizze_177626; i_180850++) {
                int64_t k_177684 = add64(zp_lhs_177679, i_180850);
                bool cond_177685 = slt64(k_177684, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
                int8_t lifted_lambda_res_177686;
                int64_t lifted_lambda_res_177687;
                int64_t lifted_lambda_res_177688;
                
                if (cond_177685) {
                    bool x_180461 = sle64((int64_t) 0, k_177684);
                    bool bounds_check_180462 = cond_177685 && x_180461;
                    bool index_certs_180463;
                    
                    if (!bounds_check_180462) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177684, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180464 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, k_177684);
                    int8_t index_concat_branch_180465 = btoi_bool_i8(index_concat_cmp_180464);
                    int64_t index_concat_branch_180466;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180467 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t index_primexp_180468 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180467);
                        
                        index_concat_branch_180466 = index_primexp_180468;
                    } else {
                        int64_t index_primexp_180469 = add64(defunc_0_merge_pipeline_res_175536, k_177684);
                        
                        index_concat_branch_180466 = index_primexp_180469;
                    }
                    
                    int64_t index_concat_branch_180470;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180471 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t slice_180472 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180471;
                        int64_t index_concat_180473 = ((int64_t *) b_list_mem_181033.mem)[slice_180472];
                        
                        index_concat_branch_180470 = index_concat_180473;
                    } else {
                        int64_t slice_180474 = defunc_0_merge_pipeline_res_175536 + k_177684;
                        int64_t index_concat_180475 = ((int64_t *) a_list_mem_181032.mem)[slice_180474];
                        
                        index_concat_branch_180470 = index_concat_180475;
                    }
                    lifted_lambda_res_177686 = index_concat_branch_180465;
                    lifted_lambda_res_177687 = index_concat_branch_180466;
                    lifted_lambda_res_177688 = index_concat_branch_180470;
                } else {
                    lifted_lambda_res_177686 = defunc_0_reduce_res_180686;
                    lifted_lambda_res_177687 = defunc_0_reduce_res_180687;
                    lifted_lambda_res_177688 = defunc_0_reduce_res_180688;
                }
                ((int8_t *) mem_181851)[i_180850] = lifted_lambda_res_177686;
                ((int64_t *) mem_181853)[i_180850] = lifted_lambda_res_177687;
                ((int64_t *) mem_181855)[i_180850] = lifted_lambda_res_177688;
            }
            if (!cond_177668) {
                for (int64_t i_177701 = 0; i_177701 < distance_177671; i_177701++) {
                    int64_t gt_arg1_177705 = add64((int64_t) 1, i_177701);
                    bool x_177706 = sle64((int64_t) 0, gt_arg1_177705);
                    bool y_177707 = slt64(gt_arg1_177705, block_sizze_177626);
                    bool bounds_check_177708 = x_177706 && y_177707;
                    bool index_certs_177709;
                    
                    if (!bounds_check_177708) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177705, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177713 = slt64(i_177701, block_sizze_177626);
                    bool index_certs_177714;
                    
                    if (!y_177713) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177701, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177710 = ((int8_t *) mem_181851)[gt_arg1_177705];
                    int64_t gt_arg1_177711 = ((int64_t *) mem_181853)[gt_arg1_177705];
                    int64_t gt_arg1_177712 = ((int64_t *) mem_181855)[gt_arg1_177705];
                    int8_t gt_arg0_177715 = ((int8_t *) mem_181851)[i_177701];
                    int64_t gt_arg0_177716 = ((int64_t *) mem_181853)[i_177701];
                    int64_t gt_arg0_177717 = ((int64_t *) mem_181855)[i_177701];
                    bool cond_177718 = gt_arg0_177715 == gt_arg1_177710;
                    bool defunc_0_leq_res_t_res_177719 = sle64(gt_arg0_177716, gt_arg1_177711);
                    bool defunc_0_leq_res_177720 = sle64(gt_arg0_177717, gt_arg1_177712);
                    bool x_177721 = cond_177718 && defunc_0_leq_res_t_res_177719;
                    bool x_177722 = !cond_177718;
                    bool y_177723 = defunc_0_leq_res_177720 && x_177722;
                    bool defunc_0_leq_res_177724 = x_177721 || y_177723;
                    bool defunc_0_lifted_gt_res_177725 = !defunc_0_leq_res_177724;
                    bool s_177726;
                    int64_t s_177730;
                    bool loop_while_177731;
                    int64_t j_177735;
                    
                    loop_while_177731 = defunc_0_lifted_gt_res_177725;
                    j_177735 = i_177701;
                    while (loop_while_177731) {
                        bool x_177736 = sle64((int64_t) 0, j_177735);
                        bool y_177737 = slt64(j_177735, block_sizze_177626);
                        bool bounds_check_177738 = x_177736 && y_177737;
                        bool index_certs_177739;
                        
                        if (!bounds_check_177738) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177735, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177743 = add64((int64_t) 1, j_177735);
                        bool x_177744 = sle64((int64_t) 0, copy_arg0_177743);
                        bool y_177745 = slt64(copy_arg0_177743, block_sizze_177626);
                        bool bounds_check_177746 = x_177744 && y_177745;
                        bool index_certs_177747;
                        
                        if (!bounds_check_177746) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177743, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177740 = ((int8_t *) mem_181851)[j_177735];
                        int64_t copy_arg0_177741 = ((int64_t *) mem_181853)[j_177735];
                        int64_t copy_arg0_177742 = ((int64_t *) mem_181855)[j_177735];
                        int8_t copy_arg0_177748 = ((int8_t *) mem_181851)[copy_arg0_177743];
                        int64_t copy_arg0_177749 = ((int64_t *) mem_181853)[copy_arg0_177743];
                        int64_t copy_arg0_177750 = ((int64_t *) mem_181855)[copy_arg0_177743];
                        
                        ((int8_t *) mem_181851)[j_177735] = copy_arg0_177748;
                        ((int64_t *) mem_181853)[j_177735] = copy_arg0_177749;
                        ((int64_t *) mem_181855)[j_177735] = copy_arg0_177750;
                        ((int8_t *) mem_181851)[copy_arg0_177743] = copy_arg0_177740;
                        ((int64_t *) mem_181853)[copy_arg0_177743] = copy_arg0_177741;
                        ((int64_t *) mem_181855)[copy_arg0_177743] = copy_arg0_177742;
                        
                        int64_t tmp_177757 = sub64(j_177735, (int64_t) 1);
                        bool cond_177758 = sle64((int64_t) 0, tmp_177757);
                        bool loop_cond_177759;
                        
                        if (cond_177758) {
                            bool y_180479 = slt64(tmp_177757, block_sizze_177626);
                            bool bounds_check_180480 = cond_177758 && y_180479;
                            bool index_certs_180481;
                            
                            if (!bounds_check_180480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180476 = ((int8_t *) mem_181851)[j_177735];
                            int64_t gt_arg1_180477 = ((int64_t *) mem_181853)[j_177735];
                            int64_t gt_arg1_180478 = ((int64_t *) mem_181855)[j_177735];
                            int8_t gt_arg0_180482 = ((int8_t *) mem_181851)[tmp_177757];
                            int64_t gt_arg0_180483 = ((int64_t *) mem_181853)[tmp_177757];
                            int64_t gt_arg0_180484 = ((int64_t *) mem_181855)[tmp_177757];
                            bool cond_180485 = gt_arg0_180482 == gt_arg1_180476;
                            bool defunc_0_leq_res_t_res_180486 = sle64(gt_arg0_180483, gt_arg1_180477);
                            bool defunc_0_leq_res_180487 = sle64(gt_arg0_180484, gt_arg1_180478);
                            bool x_180488 = cond_180485 && defunc_0_leq_res_t_res_180486;
                            bool x_180489 = !cond_180485;
                            bool y_180490 = defunc_0_leq_res_180487 && x_180489;
                            bool defunc_0_leq_res_180491 = x_180488 || y_180490;
                            bool defunc_0_lifted_gt_res_180492 = !defunc_0_leq_res_180491;
                            
                            loop_cond_177759 = defunc_0_lifted_gt_res_180492;
                        } else {
                            loop_cond_177759 = 0;
                        }
                        
                        bool loop_while_tmp_182663 = loop_cond_177759;
                        int64_t j_tmp_182667 = tmp_177757;
                        
                        loop_while_177731 = loop_while_tmp_182663;
                        j_177735 = j_tmp_182667;
                    }
                    s_177726 = loop_while_177731;
                    s_177730 = j_177735;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181832, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181851, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181835, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181853, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181838, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181855, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
        }
        if (memblock_alloc(ctx, &mem_181932, flat_dim_177627, "mem_181932")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181932.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint8_t *) mem_181832, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181936, bytes_181834, "mem_181936")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181936.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint64_t *) mem_181835, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181940, bytes_181834, "mem_181940")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181940.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint64_t *) mem_181838, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        
        int64_t data_177783;
        bool data_177784;
        int64_t data_177788;
        int64_t loop_dz2084Uz2082U_177789;
        bool loop_while_177790;
        int64_t stride_177794;
        
        if (memblock_set(ctx, &mem_param_181944, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181947, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181950, &mem_181940, "mem_181940") != 0)
            return 1;
        loop_dz2084Uz2082U_177789 = flat_dim_177627;
        loop_while_177790 = loop_cond_177780;
        stride_177794 = block_sizze_177626;
        while (loop_while_177790) {
            int64_t next_stride_177795 = mul64((int64_t) 2, stride_177794);
            bool zzero_177796 = next_stride_177795 == (int64_t) 0;
            bool nonzzero_177797 = !zzero_177796;
            bool nonzzero_cert_177798;
            
            if (!nonzzero_177797) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:389:63-73\n   #4  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177799 = sdiv64(flat_dim_177627, next_stride_177795);
            bool bounds_invalid_upwards_177800 = slt64(num_merges_177799, (int64_t) 0);
            bool valid_177801 = !bounds_invalid_upwards_177800;
            bool range_valid_c_177802;
            
            if (!valid_177801) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177799, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177804 = sub64(next_stride_177795, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177805 = sle64((int64_t) 0, m_177804);
            bool cond_177807 = slt64(next_stride_177795, (int64_t) 10);
            bool protect_assert_disj_177808 = nonzzero_177782 || cond_177807;
            bool nonzzero_cert_177809;
            
            if (!protect_assert_disj_177808) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177810 = smod_safe64(next_stride_177795, merge_block_sizze_177632);
            bool num_blocks_177811 = zeze_lhs_177810 == (int64_t) 0;
            bool protect_assert_disj_177812 = cond_177807 || num_blocks_177811;
            bool assert_c_177813;
            
            if (!protect_assert_disj_177812) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177815 = sdiv_safe64(next_stride_177795, merge_block_sizze_177632);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816 = add64((int64_t) 1, num_blocks_177815);
            int64_t j_m_i_177817 = sub64(next_stride_177795, stride_177794);
            int64_t flat_dim_177818 = merge_block_sizze_177632 * num_blocks_177815;
            bool bounds_invalid_upwards_177819 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, (int64_t) 0);
            bool empty_slice_177820 = j_m_i_177817 == (int64_t) 0;
            int64_t m_177821 = sub64(j_m_i_177817, (int64_t) 1);
            bool zzero_lte_i_177822 = sle64((int64_t) 0, stride_177794);
            bool i_lte_j_177823 = sle64(stride_177794, next_stride_177795);
            bool empty_slice_177824 = stride_177794 == (int64_t) 0;
            int64_t m_177825 = sub64(stride_177794, (int64_t) 1);
            bool bounds_invalid_upwards_177826 = slt64(num_blocks_177815, (int64_t) 0);
            bool cond_177827 = slt64((int64_t) 0, stride_177794);
            bool valid_177828 = !bounds_invalid_upwards_177819;
            int64_t i_p_m_t_s_177829 = add64(stride_177794, m_177821);
            bool zzero_leq_i_p_m_t_s_177830 = sle64((int64_t) 0, m_177825);
            bool i_p_m_t_s_leq_w_177831 = slt64(m_177825, next_stride_177795);
            bool valid_177832 = !bounds_invalid_upwards_177826;
            bool i_p_m_t_s_leq_w_177833 = slt64(m_177804, flat_dim_177818);
            bool y_177834 = slt64((int64_t) 0, j_m_i_177817);
            bool protect_assert_disj_177835 = cond_177807 || valid_177828;
            bool range_valid_c_177836;
            
            if (!protect_assert_disj_177835) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177837 = sle64((int64_t) 0, i_p_m_t_s_177829);
            bool i_p_m_t_s_leq_w_177838 = slt64(i_p_m_t_s_177829, next_stride_177795);
            bool y_177839 = zzero_leq_i_p_m_t_s_177830 && i_p_m_t_s_leq_w_177831;
            bool protect_assert_disj_177840 = cond_177807 || valid_177832;
            bool range_valid_c_177841;
            
            if (!protect_assert_disj_177840) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177815, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177842 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177833;
            bool y_177843 = zzero_lte_i_177822 && i_p_m_t_s_leq_w_177838;
            bool forwards_ok_177844 = zzero_lte_i_177822 && y_177839;
            bool ok_or_empty_177845 = zzero_177796 || y_177842;
            bool protect_assert_disj_177846 = cond_177827 || y_177834;
            bool y_177847 = zzero_leq_i_p_m_t_s_177837 && y_177843;
            bool ok_or_empty_177848 = empty_slice_177824 || forwards_ok_177844;
            bool protect_assert_disj_177849 = cond_177807 || ok_or_empty_177845;
            bool index_certs_177850;
            
            if (!protect_assert_disj_177849) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) flat_dim_177818, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177851 = !cond_177807;
            bool protect_assert_disj_177852 = protect_assert_disj_177846 || loop_not_taken_177851;
            bool index_certs_177853;
            
            if (!protect_assert_disj_177852) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177854 = i_lte_j_177823 && y_177847;
            bool protect_assert_disj_177855 = cond_177807 || ok_or_empty_177848;
            bool index_certs_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177857 = ok_or_empty_177848 || loop_not_taken_177851;
            bool index_certs_177858;
            
            if (!protect_assert_disj_177857) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177859 = empty_slice_177820 || forwards_ok_177854;
            bool protect_assert_disj_177860 = cond_177807 || ok_or_empty_177859;
            bool index_certs_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177862 = loop_not_taken_177851 || ok_or_empty_177859;
            bool index_certs_177863;
            
            if (!protect_assert_disj_177862) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181951 = next_stride_177795 * num_merges_177799;
            int64_t binop_x_181953 = (int64_t) 8 * num_merges_177799;
            int64_t bytes_181954 = next_stride_177795 * binop_x_181953;
            bool i_lte_j_177806 = sle64((int64_t) 0, next_stride_177795);
            
            if (mem_181952_cached_sizze_182978 < bytes_181951) {
                err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_182978, bytes_181951);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181955_cached_sizze_182979 < bytes_181954) {
                err = lexical_realloc(ctx, &mem_181955, &mem_181955_cached_sizze_182979, bytes_181954);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181958_cached_sizze_182980 < bytes_181954) {
                err = lexical_realloc(ctx, &mem_181958, &mem_181958_cached_sizze_182980, bytes_181954);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181971 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816;
            int64_t binop_x_181989 = (int64_t) 8 * num_blocks_177815;
            int64_t bytes_181990 = merge_block_sizze_177632 * binop_x_181989;
            int64_t bytes_182054 = (int64_t) 16 * stride_177794;
            
            for (int64_t i_180887 = 0; i_180887 < num_merges_177799; i_180887++) {
                int64_t start_177868 = mul64(next_stride_177795, i_180887);
                int64_t j_m_i_177869 = sub64(loop_dz2084Uz2082U_177789, start_177868);
                bool empty_slice_177870 = j_m_i_177869 == (int64_t) 0;
                int64_t m_177871 = sub64(j_m_i_177869, (int64_t) 1);
                int64_t i_p_m_t_s_177872 = add64(start_177868, m_177871);
                bool zzero_leq_i_p_m_t_s_177873 = sle64((int64_t) 0, i_p_m_t_s_177872);
                bool i_p_m_t_s_leq_w_177874 = slt64(i_p_m_t_s_177872, loop_dz2084Uz2082U_177789);
                bool zzero_lte_i_177875 = sle64((int64_t) 0, start_177868);
                bool i_lte_j_177876 = sle64(start_177868, loop_dz2084Uz2082U_177789);
                bool y_177877 = i_p_m_t_s_leq_w_177874 && zzero_lte_i_177875;
                bool y_177878 = zzero_leq_i_p_m_t_s_177873 && y_177877;
                bool forwards_ok_177879 = i_lte_j_177876 && y_177878;
                bool ok_or_empty_177880 = empty_slice_177870 || forwards_ok_177879;
                bool index_certs_177881;
                
                if (!ok_or_empty_177880) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177868, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177789, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177882 = slt64(m_177804, j_m_i_177869);
                bool y_177883 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177882;
                bool forwards_ok_177884 = i_lte_j_177806 && y_177883;
                bool ok_or_empty_177885 = zzero_177796 || forwards_ok_177884;
                bool index_certs_177886;
                
                if (!ok_or_empty_177885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) j_m_i_177869, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:389:63-73\n   #7  ftsort.fut:382:1-389:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177807) {
                    int8_t dummy_180531;
                    int64_t dummy_180532;
                    int64_t dummy_180533;
                    
                    if (cond_177827) {
                        int8_t head_res_180534 = ((int8_t *) mem_param_181944.mem)[start_177868];
                        int64_t head_res_180535 = ((int64_t *) mem_param_181947.mem)[start_177868];
                        int64_t head_res_180536 = ((int64_t *) mem_param_181950.mem)[start_177868];
                        
                        dummy_180531 = head_res_180534;
                        dummy_180532 = head_res_180535;
                        dummy_180533 = head_res_180536;
                    } else {
                        int64_t slice_180537 = stride_177794 + start_177868;
                        int8_t head_res_180538 = ((int8_t *) mem_param_181944.mem)[slice_180537];
                        int64_t head_res_180539 = ((int64_t *) mem_param_181947.mem)[slice_180537];
                        int64_t head_res_180540 = ((int64_t *) mem_param_181950.mem)[slice_180537];
                        
                        dummy_180531 = head_res_180538;
                        dummy_180532 = head_res_180539;
                        dummy_180533 = head_res_180540;
                    }
                    if (memblock_alloc(ctx, &mem_182053, next_stride_177795, "mem_182053")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182680 = 0; nest_i_182680 < next_stride_177795; nest_i_182680++) {
                        ((int8_t *) mem_182053.mem)[nest_i_182680] = dummy_180531;
                    }
                    if (memblock_alloc(ctx, &mem_182055, bytes_182054, "mem_182055")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182681 = 0; nest_i_182681 < next_stride_177795; nest_i_182681++) {
                        ((int64_t *) mem_182055.mem)[nest_i_182681] = dummy_180532;
                    }
                    if (memblock_alloc(ctx, &mem_182057, bytes_182054, "mem_182057")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182682 = 0; nest_i_182682 < next_stride_177795; nest_i_182682++) {
                        ((int64_t *) mem_182057.mem)[nest_i_182682] = dummy_180533;
                    }
                    
                    int64_t data_180544;
                    int64_t i_180549 = (int64_t) 0;
                    
                    for (int64_t k_180548 = 0; k_180548 < next_stride_177795; k_180548++) {
                        int64_t j_180553 = sub64(k_180548, i_180549);
                        bool cond_180554 = j_180553 == j_m_i_177817;
                        bool cond_180555;
                        
                        if (cond_180554) {
                            cond_180555 = 1;
                        } else {
                            bool cond_180556 = slt64(i_180549, stride_177794);
                            bool cond_f_res_180557;
                            
                            if (cond_180556) {
                                bool x_180558 = sle64((int64_t) 0, j_180553);
                                bool y_180559 = slt64(j_180553, j_m_i_177817);
                                bool bounds_check_180560 = x_180558 && y_180559;
                                bool index_certs_180561;
                                
                                if (!bounds_check_180560) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180567 = sle64((int64_t) 0, i_180549);
                                bool bounds_check_180568 = cond_180556 && x_180567;
                                bool index_certs_180569;
                                
                                if (!bounds_check_180568) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180562 = stride_177794 + j_180553;
                                int64_t slice_180563 = start_177868 + slice_180562;
                                int8_t leq_arg1_180564 = ((int8_t *) mem_param_181944.mem)[slice_180563];
                                int64_t leq_arg1_180565 = ((int64_t *) mem_param_181947.mem)[slice_180563];
                                int64_t leq_arg1_180566 = ((int64_t *) mem_param_181950.mem)[slice_180563];
                                int64_t slice_180570 = start_177868 + i_180549;
                                int8_t leq_arg0_180571 = ((int8_t *) mem_param_181944.mem)[slice_180570];
                                int64_t leq_arg0_180572 = ((int64_t *) mem_param_181947.mem)[slice_180570];
                                int64_t leq_arg0_180573 = ((int64_t *) mem_param_181950.mem)[slice_180570];
                                bool cond_180574 = leq_arg0_180571 == leq_arg1_180564;
                                bool defunc_0_leq_res_t_res_180575 = sle64(leq_arg0_180572, leq_arg1_180565);
                                bool defunc_0_leq_res_180576 = sle64(leq_arg0_180573, leq_arg1_180566);
                                bool x_180577 = cond_180574 && defunc_0_leq_res_t_res_180575;
                                bool x_180578 = !cond_180574;
                                bool y_180579 = defunc_0_leq_res_180576 && x_180578;
                                bool defunc_0_leq_res_180580 = x_180577 || y_180579;
                                
                                cond_f_res_180557 = defunc_0_leq_res_180580;
                            } else {
                                cond_f_res_180557 = 0;
                            }
                            cond_180555 = cond_f_res_180557;
                        }
                        
                        int64_t loopres_180581;
                        int8_t loopres_180582;
                        int64_t loopres_180583;
                        int64_t loopres_180584;
                        
                        if (cond_180555) {
                            bool x_180586 = sle64((int64_t) 0, i_180549);
                            bool y_180587 = slt64(i_180549, stride_177794);
                            bool bounds_check_180588 = x_180586 && y_180587;
                            bool index_certs_180589;
                            
                            if (!bounds_check_180588) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180585 = add64((int64_t) 1, i_180549);
                            int64_t slice_180590 = start_177868 + i_180549;
                            int8_t tmp_180591 = ((int8_t *) mem_param_181944.mem)[slice_180590];
                            int64_t tmp_180592 = ((int64_t *) mem_param_181947.mem)[slice_180590];
                            int64_t tmp_180593 = ((int64_t *) mem_param_181950.mem)[slice_180590];
                            
                            loopres_180581 = tmp_180585;
                            loopres_180582 = tmp_180591;
                            loopres_180583 = tmp_180592;
                            loopres_180584 = tmp_180593;
                        } else {
                            bool x_180594 = sle64((int64_t) 0, j_180553);
                            bool y_180595 = slt64(j_180553, j_m_i_177817);
                            bool bounds_check_180596 = x_180594 && y_180595;
                            bool index_certs_180597;
                            
                            if (!bounds_check_180596) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:389:63-73\n   #8  ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180598 = stride_177794 + j_180553;
                            int64_t slice_180599 = start_177868 + slice_180598;
                            int8_t tmp_180600 = ((int8_t *) mem_param_181944.mem)[slice_180599];
                            int64_t tmp_180601 = ((int64_t *) mem_param_181947.mem)[slice_180599];
                            int64_t tmp_180602 = ((int64_t *) mem_param_181950.mem)[slice_180599];
                            
                            loopres_180581 = i_180549;
                            loopres_180582 = tmp_180600;
                            loopres_180583 = tmp_180601;
                            loopres_180584 = tmp_180602;
                        }
                        ((int8_t *) mem_182053.mem)[k_180548] = loopres_180582;
                        ((int64_t *) mem_182055.mem)[k_180548] = loopres_180583;
                        ((int64_t *) mem_182057.mem)[k_180548] = loopres_180584;
                        
                        int64_t i_tmp_182683 = loopres_180581;
                        
                        i_180549 = i_tmp_182683;
                    }
                    data_180544 = i_180549;
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182053, "mem_182053") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182055, "mem_182055") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182057, "mem_182057") != 0)
                        return 1;
                } else {
                    if (mem_181972_cached_sizze_182981 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_182981, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181974_cached_sizze_182982 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181974, &mem_181974_cached_sizze_182982, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180868 = 0; i_180868 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816; i_180868++) {
                        int64_t split_count_arg3_177969 = mul64(merge_block_sizze_177632, i_180868);
                        int64_t defunc_0_split_count_res_177970;
                        int64_t defunc_0_split_count_res_177971;
                        int64_t defunc_0_split_count_res_177972;
                        int64_t defunc_0_split_count_res_177973;
                        int64_t defunc_0_split_count_res_177974;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177970, &defunc_0_split_count_res_177971, &defunc_0_split_count_res_177972, &defunc_0_split_count_res_177973, &defunc_0_split_count_res_177974, (int64_t) 0, stride_177794, (int64_t) 0, j_m_i_177817, split_count_arg3_177969) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177975 = slt64((int64_t) 0, defunc_0_split_count_res_177974);
                        bool defunc_0_split_count_res_177976;
                        int64_t defunc_0_split_count_res_177977;
                        int64_t defunc_0_split_count_res_177978;
                        int64_t defunc_0_split_count_res_177979;
                        int64_t defunc_0_split_count_res_177980;
                        int64_t defunc_0_split_count_res_177981;
                        bool loop_while_177982;
                        int64_t ss_177983;
                        int64_t ss_177984;
                        int64_t tt_177985;
                        int64_t tt_177986;
                        int64_t count_177987;
                        
                        loop_while_177982 = loop_cond_177975;
                        ss_177983 = defunc_0_split_count_res_177970;
                        ss_177984 = defunc_0_split_count_res_177971;
                        tt_177985 = defunc_0_split_count_res_177972;
                        tt_177986 = defunc_0_split_count_res_177973;
                        count_177987 = defunc_0_split_count_res_177974;
                        while (loop_while_177982) {
                            int64_t zlze_lhs_177988 = sub64(ss_177984, ss_177983);
                            bool cond_177989 = sle64(zlze_lhs_177988, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177990;
                            int64_t defunc_0_lifted_step_res_177991;
                            int64_t defunc_0_lifted_step_res_177992;
                            int64_t defunc_0_lifted_step_res_177993;
                            
                            if (cond_177989) {
                                int64_t tmp_180606 = add64(tt_177985, count_177987);
                                
                                defunc_0_lifted_step_res_177990 = ss_177983;
                                defunc_0_lifted_step_res_177991 = tmp_180606;
                                defunc_0_lifted_step_res_177992 = tt_177986;
                                defunc_0_lifted_step_res_177993 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177995 = sub64(tt_177986, tt_177985);
                                bool cond_177996 = sle64(zlze_lhs_177995, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177997;
                                int64_t defunc_0_lifted_step_res_f_res_177998;
                                int64_t defunc_0_lifted_step_res_f_res_177999;
                                int64_t defunc_0_lifted_step_res_f_res_178000;
                                
                                if (cond_177996) {
                                    int64_t tmp_180607 = add64(ss_177983, count_177987);
                                    
                                    defunc_0_lifted_step_res_f_res_177997 = tmp_180607;
                                    defunc_0_lifted_step_res_f_res_177998 = tt_177985;
                                    defunc_0_lifted_step_res_f_res_177999 = tt_177986;
                                    defunc_0_lifted_step_res_f_res_178000 = (int64_t) 0;
                                } else {
                                    bool cond_178002 = count_177987 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178003;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178004;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178005;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178006;
                                    
                                    if (cond_178002) {
                                        bool x_180609 = sle64((int64_t) 0, ss_177983);
                                        bool y_180610 = slt64(ss_177983, stride_177794);
                                        bool bounds_check_180611 = x_180609 && y_180610;
                                        bool index_certs_180612;
                                        
                                        if (!bounds_check_180611) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177983, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180617 = sle64((int64_t) 0, tt_177985);
                                        bool y_180618 = slt64(tt_177985, j_m_i_177817);
                                        bool bounds_check_180619 = x_180617 && y_180618;
                                        bool index_certs_180620;
                                        
                                        if (!bounds_check_180619) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177985, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180613 = start_177868 + ss_177983;
                                        int8_t leq_arg1_180614 = ((int8_t *) mem_param_181944.mem)[slice_180613];
                                        int64_t leq_arg1_180615 = ((int64_t *) mem_param_181947.mem)[slice_180613];
                                        int64_t leq_arg1_180616 = ((int64_t *) mem_param_181950.mem)[slice_180613];
                                        int64_t slice_180621 = stride_177794 + tt_177985;
                                        int64_t slice_180622 = start_177868 + slice_180621;
                                        int8_t leq_arg0_180623 = ((int8_t *) mem_param_181944.mem)[slice_180622];
                                        int64_t leq_arg0_180624 = ((int64_t *) mem_param_181947.mem)[slice_180622];
                                        int64_t leq_arg0_180625 = ((int64_t *) mem_param_181950.mem)[slice_180622];
                                        bool cond_180626 = leq_arg0_180623 == leq_arg1_180614;
                                        bool defunc_0_leq_res_t_res_180627 = sle64(leq_arg0_180624, leq_arg1_180615);
                                        bool defunc_0_leq_res_180628 = sle64(leq_arg0_180625, leq_arg1_180616);
                                        bool x_180629 = cond_180626 && defunc_0_leq_res_t_res_180627;
                                        bool x_180630 = !cond_180626;
                                        bool y_180631 = defunc_0_leq_res_180628 && x_180630;
                                        bool defunc_0_leq_res_180632 = x_180629 || y_180631;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        
                                        if (defunc_0_leq_res_180632) {
                                            int64_t tmp_180635 = add64((int64_t) 1, tt_177985);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = ss_177983;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tmp_180635;
                                        } else {
                                            int64_t tmp_180636 = add64((int64_t) 1, ss_177983);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = tmp_180636;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tt_177985;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = tt_177986;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = (int64_t) 0;
                                    } else {
                                        int64_t m_178035 = sdiv64(count_177987, (int64_t) 2);
                                        int64_t n_178036 = sub64(count_177987, m_178035);
                                        bool cond_178037 = n_178036 == (int64_t) 0;
                                        int64_t zgze_lhs_178038 = add64(ss_177983, m_178035);
                                        bool cond_f_res_178039 = sle64(ss_177984, zgze_lhs_178038);
                                        bool x_178040 = !cond_178037;
                                        bool y_178041 = cond_f_res_178039 && x_178040;
                                        bool cond_178042 = cond_178037 || y_178041;
                                        bool leq_y_x_178043;
                                        
                                        if (cond_178042) {
                                            leq_y_x_178043 = 1;
                                        } else {
                                            bool x_178044 = sle64((int64_t) 0, zgze_lhs_178038);
                                            bool y_178045 = slt64(zgze_lhs_178038, stride_177794);
                                            bool bounds_check_178046 = x_178044 && y_178045;
                                            bool index_certs_178047;
                                            
                                            if (!bounds_check_178046) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178038, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178052 = add64(tt_177985, n_178036);
                                            int64_t leq_arg0_178053 = sub64(zm_lhs_178052, (int64_t) 1);
                                            bool x_178054 = sle64((int64_t) 0, leq_arg0_178053);
                                            bool y_178055 = slt64(leq_arg0_178053, j_m_i_177817);
                                            bool bounds_check_178056 = x_178054 && y_178055;
                                            bool index_certs_178057;
                                            
                                            if (!bounds_check_178056) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178053, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:389:63-73\n   #12 ftsort.fut:382:1-389:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178048 = start_177868 + zgze_lhs_178038;
                                            int8_t leq_arg1_178049 = ((int8_t *) mem_param_181944.mem)[slice_178048];
                                            int64_t leq_arg1_178050 = ((int64_t *) mem_param_181947.mem)[slice_178048];
                                            int64_t leq_arg1_178051 = ((int64_t *) mem_param_181950.mem)[slice_178048];
                                            int64_t slice_178058 = stride_177794 + leq_arg0_178053;
                                            int64_t slice_178059 = start_177868 + slice_178058;
                                            int8_t leq_arg0_178060 = ((int8_t *) mem_param_181944.mem)[slice_178059];
                                            int64_t leq_arg0_178061 = ((int64_t *) mem_param_181947.mem)[slice_178059];
                                            int64_t leq_arg0_178062 = ((int64_t *) mem_param_181950.mem)[slice_178059];
                                            bool cond_178063 = leq_arg0_178060 == leq_arg1_178049;
                                            bool defunc_0_leq_res_t_res_178064 = sle64(leq_arg0_178061, leq_arg1_178050);
                                            bool defunc_0_leq_res_178065 = sle64(leq_arg0_178062, leq_arg1_178051);
                                            bool x_178066 = cond_178063 && defunc_0_leq_res_t_res_178064;
                                            bool x_178067 = !cond_178063;
                                            bool y_178068 = defunc_0_leq_res_178065 && x_178067;
                                            bool defunc_0_leq_res_178069 = x_178066 || y_178068;
                                            
                                            leq_y_x_178043 = defunc_0_leq_res_178069;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                        
                                        if (leq_y_x_178043) {
                                            int64_t tmp_180637 = add64(tt_177985, n_178036);
                                            int64_t tmp_180638 = sub64(count_177987, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tmp_180637;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tt_177986;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = tmp_180638;
                                        } else {
                                            int64_t tmp_178075 = add64(tt_177985, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tt_177985;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tmp_178075;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = count_177987;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = ss_177983;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                    }
                                    defunc_0_lifted_step_res_f_res_177997 = defunc_0_lifted_step_res_f_res_f_res_178003;
                                    defunc_0_lifted_step_res_f_res_177998 = defunc_0_lifted_step_res_f_res_f_res_178004;
                                    defunc_0_lifted_step_res_f_res_177999 = defunc_0_lifted_step_res_f_res_f_res_178005;
                                    defunc_0_lifted_step_res_f_res_178000 = defunc_0_lifted_step_res_f_res_f_res_178006;
                                }
                                defunc_0_lifted_step_res_177990 = defunc_0_lifted_step_res_f_res_177997;
                                defunc_0_lifted_step_res_177991 = defunc_0_lifted_step_res_f_res_177998;
                                defunc_0_lifted_step_res_177992 = defunc_0_lifted_step_res_f_res_177999;
                                defunc_0_lifted_step_res_177993 = defunc_0_lifted_step_res_f_res_178000;
                            }
                            
                            int64_t loopres_178076;
                            int64_t loopres_178077;
                            int64_t loopres_178078;
                            int64_t loopres_178079;
                            int64_t loopres_178080;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_178076, &loopres_178077, &loopres_178078, &loopres_178079, &loopres_178080, defunc_0_lifted_step_res_177990, ss_177984, defunc_0_lifted_step_res_177991, defunc_0_lifted_step_res_177992, defunc_0_lifted_step_res_177993) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178081 = slt64((int64_t) 0, loopres_178080);
                            bool loop_while_tmp_182689 = loop_cond_178081;
                            int64_t ss_tmp_182690 = loopres_178076;
                            int64_t ss_tmp_182691 = loopres_178077;
                            int64_t tt_tmp_182692 = loopres_178078;
                            int64_t tt_tmp_182693 = loopres_178079;
                            int64_t count_tmp_182694 = loopres_178080;
                            
                            loop_while_177982 = loop_while_tmp_182689;
                            ss_177983 = ss_tmp_182690;
                            ss_177984 = ss_tmp_182691;
                            tt_177985 = tt_tmp_182692;
                            tt_177986 = tt_tmp_182693;
                            count_177987 = count_tmp_182694;
                        }
                        defunc_0_split_count_res_177976 = loop_while_177982;
                        defunc_0_split_count_res_177977 = ss_177983;
                        defunc_0_split_count_res_177978 = ss_177984;
                        defunc_0_split_count_res_177979 = tt_177985;
                        defunc_0_split_count_res_177980 = tt_177986;
                        defunc_0_split_count_res_177981 = count_177987;
                        ((int64_t *) mem_181972)[i_180868] = defunc_0_split_count_res_177977;
                        ((int64_t *) mem_181974)[i_180868] = defunc_0_split_count_res_177979;
                    }
                    if (mem_181988_cached_sizze_182983 < flat_dim_177818) {
                        err = lexical_realloc(ctx, &mem_181988, &mem_181988_cached_sizze_182983, flat_dim_177818);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181991_cached_sizze_182984 < bytes_181990) {
                        err = lexical_realloc(ctx, &mem_181991, &mem_181991_cached_sizze_182984, bytes_181990);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_182985 < bytes_181990) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_182985, bytes_181990);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180877 = 0; i_180877 < num_blocks_177815; i_180877++) {
                        bool y_178088 = slt64(i_180877, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool index_certs_178090;
                        
                        if (!y_178088) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180877, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178091 = ((int64_t *) mem_181972)[i_180877];
                        int64_t defunc_0_f_res_178092 = ((int64_t *) mem_181974)[i_180877];
                        int64_t tmp_178093 = add64((int64_t) 1, i_180877);
                        bool x_178094 = sle64((int64_t) 0, tmp_178093);
                        bool y_178095 = slt64(tmp_178093, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool bounds_check_178096 = x_178094 && y_178095;
                        bool index_certs_178097;
                        
                        if (!bounds_check_178096) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178093, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178098 = ((int64_t *) mem_181972)[tmp_178093];
                        int64_t defunc_0_f_res_178099 = ((int64_t *) mem_181974)[tmp_178093];
                        int64_t merge_sequential_arg2_178100 = add64(stride_177794, defunc_0_f_res_178092);
                        int64_t merge_sequential_arg2_178101 = add64(stride_177794, defunc_0_f_res_178099);
                        int64_t j_m_i_178102 = sub64(merge_sequential_arg2_178101, merge_sequential_arg2_178100);
                        bool empty_slice_178103 = j_m_i_178102 == (int64_t) 0;
                        int64_t m_178104 = sub64(j_m_i_178102, (int64_t) 1);
                        int64_t i_p_m_t_s_178105 = add64(merge_sequential_arg2_178100, m_178104);
                        bool zzero_leq_i_p_m_t_s_178106 = sle64((int64_t) 0, i_p_m_t_s_178105);
                        bool i_p_m_t_s_leq_w_178107 = slt64(i_p_m_t_s_178105, next_stride_177795);
                        bool zzero_lte_i_178108 = sle64((int64_t) 0, merge_sequential_arg2_178100);
                        bool i_lte_j_178109 = sle64(merge_sequential_arg2_178100, merge_sequential_arg2_178101);
                        bool y_178110 = i_p_m_t_s_leq_w_178107 && zzero_lte_i_178108;
                        bool y_178111 = zzero_leq_i_p_m_t_s_178106 && y_178110;
                        bool forwards_ok_178112 = i_lte_j_178109 && y_178111;
                        bool ok_or_empty_178113 = empty_slice_178103 || forwards_ok_178112;
                        bool index_certs_178114;
                        
                        if (!ok_or_empty_178113) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178100, ":", (long long) merge_sequential_arg2_178101, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178115 = sub64(defunc_0_f_res_178098, defunc_0_f_res_178091);
                        bool empty_slice_178116 = j_m_i_178115 == (int64_t) 0;
                        int64_t m_178117 = sub64(j_m_i_178115, (int64_t) 1);
                        int64_t i_p_m_t_s_178118 = add64(defunc_0_f_res_178091, m_178117);
                        bool zzero_leq_i_p_m_t_s_178119 = sle64((int64_t) 0, i_p_m_t_s_178118);
                        bool i_p_m_t_s_leq_w_178120 = slt64(i_p_m_t_s_178118, next_stride_177795);
                        bool zzero_lte_i_178121 = sle64((int64_t) 0, defunc_0_f_res_178091);
                        bool i_lte_j_178122 = sle64(defunc_0_f_res_178091, defunc_0_f_res_178098);
                        bool y_178123 = i_p_m_t_s_leq_w_178120 && zzero_lte_i_178121;
                        bool y_178124 = zzero_leq_i_p_m_t_s_178119 && y_178123;
                        bool forwards_ok_178125 = i_lte_j_178122 && y_178124;
                        bool ok_or_empty_178126 = empty_slice_178116 || forwards_ok_178125;
                        bool index_certs_178127;
                        
                        if (!ok_or_empty_178126) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178091, ":", (long long) defunc_0_f_res_178098, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:389:63-73\n   #9  ftsort.fut:382:1-389:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178128 = slt64((int64_t) 0, j_m_i_178115);
                        int8_t dummy_178129;
                        int64_t dummy_178130;
                        int64_t dummy_178131;
                        
                        if (cond_178128) {
                            bool index_certs_180639;
                            
                            if (!cond_178128) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180640 = start_177868 + defunc_0_f_res_178091;
                            int8_t head_res_180641 = ((int8_t *) mem_param_181944.mem)[slice_180640];
                            int64_t head_res_180642 = ((int64_t *) mem_param_181947.mem)[slice_180640];
                            int64_t head_res_180643 = ((int64_t *) mem_param_181950.mem)[slice_180640];
                            
                            dummy_178129 = head_res_180641;
                            dummy_178130 = head_res_180642;
                            dummy_178131 = head_res_180643;
                        } else {
                            bool y_178137 = slt64((int64_t) 0, j_m_i_178102);
                            bool index_certs_178138;
                            
                            if (!y_178137) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:389:63-73\n   #11 ftsort.fut:382:1-389:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178139 = start_177868 + merge_sequential_arg2_178100;
                            int8_t head_res_178140 = ((int8_t *) mem_param_181944.mem)[slice_178139];
                            int64_t head_res_178141 = ((int64_t *) mem_param_181947.mem)[slice_178139];
                            int64_t head_res_178142 = ((int64_t *) mem_param_181950.mem)[slice_178139];
                            
                            dummy_178129 = head_res_178140;
                            dummy_178130 = head_res_178141;
                            dummy_178131 = head_res_178142;
                        }
                        for (int64_t nest_i_182698 = 0; nest_i_182698 < merge_block_sizze_177632; nest_i_182698++) {
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + nest_i_182698] = dummy_178129;
                        }
                        for (int64_t nest_i_182699 = 0; nest_i_182699 < merge_block_sizze_177632; nest_i_182699++) {
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + nest_i_182699] = dummy_178130;
                        }
                        for (int64_t nest_i_182700 = 0; nest_i_182700 < merge_block_sizze_177632; nest_i_182700++) {
                            ((int64_t *) mem_181994)[i_180877 * merge_block_sizze_177632 + nest_i_182700] = dummy_178131;
                        }
                        
                        int64_t data_178146;
                        int64_t i_178151 = (int64_t) 0;
                        
                        for (int64_t k_178150 = 0; k_178150 < merge_block_sizze_177632; k_178150++) {
                            int64_t j_178155 = sub64(k_178150, i_178151);
                            bool cond_178156 = j_178155 == j_m_i_178102;
                            bool cond_178157;
                            
                            if (cond_178156) {
                                cond_178157 = 1;
                            } else {
                                bool cond_178158 = slt64(i_178151, j_m_i_178115);
                                bool cond_f_res_178159;
                                
                                if (cond_178158) {
                                    bool x_180644 = sle64((int64_t) 0, j_178155);
                                    bool y_180645 = slt64(j_178155, j_m_i_178102);
                                    bool bounds_check_180646 = x_180644 && y_180645;
                                    bool index_certs_180647;
                                    
                                    if (!bounds_check_180646) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180653 = sle64((int64_t) 0, i_178151);
                                    bool bounds_check_180654 = cond_178158 && x_180653;
                                    bool index_certs_180655;
                                    
                                    if (!bounds_check_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180648 = merge_sequential_arg2_178100 + j_178155;
                                    int64_t slice_180649 = start_177868 + slice_180648;
                                    int8_t leq_arg1_180650 = ((int8_t *) mem_param_181944.mem)[slice_180649];
                                    int64_t leq_arg1_180651 = ((int64_t *) mem_param_181947.mem)[slice_180649];
                                    int64_t leq_arg1_180652 = ((int64_t *) mem_param_181950.mem)[slice_180649];
                                    int64_t slice_180656 = defunc_0_f_res_178091 + i_178151;
                                    int64_t slice_180657 = start_177868 + slice_180656;
                                    int8_t leq_arg0_180658 = ((int8_t *) mem_param_181944.mem)[slice_180657];
                                    int64_t leq_arg0_180659 = ((int64_t *) mem_param_181947.mem)[slice_180657];
                                    int64_t leq_arg0_180660 = ((int64_t *) mem_param_181950.mem)[slice_180657];
                                    bool cond_180661 = leq_arg0_180658 == leq_arg1_180650;
                                    bool defunc_0_leq_res_t_res_180662 = sle64(leq_arg0_180659, leq_arg1_180651);
                                    bool defunc_0_leq_res_180663 = sle64(leq_arg0_180660, leq_arg1_180652);
                                    bool x_180664 = cond_180661 && defunc_0_leq_res_t_res_180662;
                                    bool x_180665 = !cond_180661;
                                    bool y_180666 = defunc_0_leq_res_180663 && x_180665;
                                    bool defunc_0_leq_res_180667 = x_180664 || y_180666;
                                    
                                    cond_f_res_178159 = defunc_0_leq_res_180667;
                                } else {
                                    cond_f_res_178159 = 0;
                                }
                                cond_178157 = cond_f_res_178159;
                            }
                            
                            int64_t loopres_178184;
                            int8_t loopres_178185;
                            int64_t loopres_178186;
                            int64_t loopres_178187;
                            
                            if (cond_178157) {
                                bool x_180669 = sle64((int64_t) 0, i_178151);
                                bool y_180670 = slt64(i_178151, j_m_i_178115);
                                bool bounds_check_180671 = x_180669 && y_180670;
                                bool index_certs_180672;
                                
                                if (!bounds_check_180671) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180668 = add64((int64_t) 1, i_178151);
                                int64_t slice_180673 = defunc_0_f_res_178091 + i_178151;
                                int64_t slice_180674 = start_177868 + slice_180673;
                                int8_t tmp_180675 = ((int8_t *) mem_param_181944.mem)[slice_180674];
                                int64_t tmp_180676 = ((int64_t *) mem_param_181947.mem)[slice_180674];
                                int64_t tmp_180677 = ((int64_t *) mem_param_181950.mem)[slice_180674];
                                
                                loopres_178184 = tmp_180668;
                                loopres_178185 = tmp_180675;
                                loopres_178186 = tmp_180676;
                                loopres_178187 = tmp_180677;
                            } else {
                                bool x_178198 = sle64((int64_t) 0, j_178155);
                                bool y_178199 = slt64(j_178155, j_m_i_178102);
                                bool bounds_check_178200 = x_178198 && y_178199;
                                bool index_certs_178201;
                                
                                if (!bounds_check_178200) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:389:63-73\n   #10 ftsort.fut:382:1-389:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178202 = merge_sequential_arg2_178100 + j_178155;
                                int64_t slice_178203 = start_177868 + slice_178202;
                                int8_t tmp_178204 = ((int8_t *) mem_param_181944.mem)[slice_178203];
                                int64_t tmp_178205 = ((int64_t *) mem_param_181947.mem)[slice_178203];
                                int64_t tmp_178206 = ((int64_t *) mem_param_181950.mem)[slice_178203];
                                
                                loopres_178184 = i_178151;
                                loopres_178185 = tmp_178204;
                                loopres_178186 = tmp_178205;
                                loopres_178187 = tmp_178206;
                            }
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178185;
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178186;
                            ((int64_t *) mem_181994)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178187;
                            
                            int64_t i_tmp_182701 = loopres_178184;
                            
                            i_178151 = i_tmp_182701;
                        }
                        data_178146 = i_178151;
                    }
                    if (memblock_alloc(ctx, &mem_182043, flat_dim_177818, "mem_182043")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182043.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint8_t *) mem_181988, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182047, bytes_181990, "mem_182047")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182047.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint64_t *) mem_181991, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182051, bytes_181990, "mem_182051")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182051.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint64_t *) mem_181994, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182043, "mem_182043") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182047, "mem_182047") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182051, "mem_182051") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181952, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181955, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182081.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181958, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182078.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182098, bytes_181951, "mem_182098")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182098.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182102, bytes_181954, "mem_182102")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182102.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint64_t *) mem_181955, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182106, bytes_181954, "mem_182106")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182106.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint64_t *) mem_181958, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            
            bool loop_cond_178220 = slt64(next_stride_177795, flat_dim_177627);
            
            if (memblock_set(ctx, &mem_param_tmp_182668, &mem_182098, "mem_182098") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182669, &mem_182102, "mem_182102") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182670, &mem_182106, "mem_182106") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182671 = bytes_181951;
            bool loop_while_tmp_182672 = loop_cond_178220;
            int64_t stride_tmp_182676 = next_stride_177795;
            
            if (memblock_set(ctx, &mem_param_181944, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181947, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181950, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
                return 1;
            loop_dz2084Uz2082U_177789 = loop_dz2084Uz2082U_tmp_182671;
            loop_while_177790 = loop_while_tmp_182672;
            stride_177794 = stride_tmp_182676;
        }
        if (memblock_set(ctx, &ext_mem_182116, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182115, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182114, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        data_177783 = loop_dz2084Uz2082U_177789;
        data_177784 = loop_while_177790;
        data_177788 = stride_177794;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178223 = slt64(zs_lhs_177611, data_177783);
        bool y_178224 = i_p_m_t_s_leq_w_178223 && zzero_leq_i_p_m_t_s_178237;
        bool ok_or_empty_178225 = y_178224 || empty_slice_178235;
        bool index_certs_178226;
        
        if (!ok_or_empty_178225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) data_177783, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:389:63-73\n   #5  ftsort.fut:382:1-389:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182125, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182125.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181036.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182122.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181038.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182119.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181036, "mem_181036") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182448, &mem_181038, "mem_181038") != 0)
        return 1;
    prim_out_182449 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    if (memblock_set(ctx, &*mem_out_p_182932, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182933, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182934, &mem_out_182448, "mem_out_182448") != 0)
        return 1;
    *out_prim_out_182935 = prim_out_182449;
    
  cleanup:
    {
        free(mem_181049);
        free(mem_181051);
        free(mem_181090);
        free(mem_181093);
        free(mem_181096);
        free(mem_181109);
        free(mem_181111);
        free(mem_181113);
        free(mem_181210);
        free(mem_181213);
        free(mem_181216);
        free(mem_181230);
        free(mem_181232);
        free(mem_181246);
        free(mem_181249);
        free(mem_181252);
        free(mem_181394);
        free(mem_181396);
        free(mem_181411);
        free(mem_181413);
        free(mem_181416);
        free(mem_181419);
        free(mem_181453);
        free(mem_181456);
        free(mem_181459);
        free(mem_181472);
        free(mem_181474);
        free(mem_181476);
        free(mem_181573);
        free(mem_181576);
        free(mem_181579);
        free(mem_181593);
        free(mem_181595);
        free(mem_181609);
        free(mem_181612);
        free(mem_181615);
        free(mem_181832);
        free(mem_181835);
        free(mem_181838);
        free(mem_181851);
        free(mem_181853);
        free(mem_181855);
        free(mem_181952);
        free(mem_181955);
        free(mem_181958);
        free(mem_181972);
        free(mem_181974);
        free(mem_181988);
        free(mem_181991);
        free(mem_181994);
        if (memblock_unref(ctx, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182106, "mem_182106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182102, "mem_182102") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182098, "mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182051, "mem_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182047, "mem_182047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182043, "mem_182043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182057, "mem_182057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182055, "mem_182055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182053, "mem_182053") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181364, "mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181360, "mem_181360") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181309, "mem_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181315, "mem_181315") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181313, "mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181311, "mem_181311") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181208, "mem_param_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181205, "mem_param_181205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181202, "mem_param_181202") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181372, "ext_mem_181372") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181374, "ext_mem_181374") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181068, "mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181066, "mem_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181064, "mem_181064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181774, "mem_181774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181772, "mem_181772") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181727, "mem_181727") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181723, "mem_181723") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181672, "mem_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181668, "mem_181668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181664, "mem_181664") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181678, "mem_181678") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181676, "mem_181676") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181674, "mem_181674") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181571, "mem_param_181571") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181568, "mem_param_181568") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181565, "mem_param_181565") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181735, "ext_mem_181735") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181736, "ext_mem_181736") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181737, "ext_mem_181737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181038, "mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181036, "mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182448, "mem_out_182448") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_mergeSorted_short(struct futhark_context *ctx, struct memblock *mem_out_p_182986, struct memblock *mem_out_p_182987, struct memblock *mem_out_p_182988, int64_t *out_prim_out_182989, struct memblock a_list_mem_181032, struct memblock b_list_mem_181033, int64_t na_121184, int64_t nb_121185, int64_t window_sizze_121186, int64_t threads_121187, bool inParallel_121190)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181049_cached_sizze_182990 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_182991 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181090_cached_sizze_182992 = 0;
    unsigned char *mem_181090 = NULL;
    int64_t mem_181093_cached_sizze_182993 = 0;
    unsigned char *mem_181093 = NULL;
    int64_t mem_181096_cached_sizze_182994 = 0;
    unsigned char *mem_181096 = NULL;
    int64_t mem_181109_cached_sizze_182995 = 0;
    unsigned char *mem_181109 = NULL;
    int64_t mem_181111_cached_sizze_182996 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181113_cached_sizze_182997 = 0;
    unsigned char *mem_181113 = NULL;
    int64_t mem_181210_cached_sizze_182998 = 0;
    unsigned char *mem_181210 = NULL;
    int64_t mem_181213_cached_sizze_182999 = 0;
    unsigned char *mem_181213 = NULL;
    int64_t mem_181216_cached_sizze_183000 = 0;
    unsigned char *mem_181216 = NULL;
    int64_t mem_181230_cached_sizze_183001 = 0;
    unsigned char *mem_181230 = NULL;
    int64_t mem_181232_cached_sizze_183002 = 0;
    unsigned char *mem_181232 = NULL;
    int64_t mem_181246_cached_sizze_183003 = 0;
    unsigned char *mem_181246 = NULL;
    int64_t mem_181249_cached_sizze_183004 = 0;
    unsigned char *mem_181249 = NULL;
    int64_t mem_181252_cached_sizze_183005 = 0;
    unsigned char *mem_181252 = NULL;
    int64_t mem_181394_cached_sizze_183006 = 0;
    unsigned char *mem_181394 = NULL;
    int64_t mem_181396_cached_sizze_183007 = 0;
    unsigned char *mem_181396 = NULL;
    int64_t mem_181411_cached_sizze_183008 = 0;
    unsigned char *mem_181411 = NULL;
    int64_t mem_181413_cached_sizze_183009 = 0;
    unsigned char *mem_181413 = NULL;
    int64_t mem_181416_cached_sizze_183010 = 0;
    unsigned char *mem_181416 = NULL;
    int64_t mem_181419_cached_sizze_183011 = 0;
    unsigned char *mem_181419 = NULL;
    int64_t mem_181453_cached_sizze_183012 = 0;
    unsigned char *mem_181453 = NULL;
    int64_t mem_181456_cached_sizze_183013 = 0;
    unsigned char *mem_181456 = NULL;
    int64_t mem_181459_cached_sizze_183014 = 0;
    unsigned char *mem_181459 = NULL;
    int64_t mem_181472_cached_sizze_183015 = 0;
    unsigned char *mem_181472 = NULL;
    int64_t mem_181474_cached_sizze_183016 = 0;
    unsigned char *mem_181474 = NULL;
    int64_t mem_181476_cached_sizze_183017 = 0;
    unsigned char *mem_181476 = NULL;
    int64_t mem_181573_cached_sizze_183018 = 0;
    unsigned char *mem_181573 = NULL;
    int64_t mem_181576_cached_sizze_183019 = 0;
    unsigned char *mem_181576 = NULL;
    int64_t mem_181579_cached_sizze_183020 = 0;
    unsigned char *mem_181579 = NULL;
    int64_t mem_181593_cached_sizze_183021 = 0;
    unsigned char *mem_181593 = NULL;
    int64_t mem_181595_cached_sizze_183022 = 0;
    unsigned char *mem_181595 = NULL;
    int64_t mem_181609_cached_sizze_183023 = 0;
    unsigned char *mem_181609 = NULL;
    int64_t mem_181612_cached_sizze_183024 = 0;
    unsigned char *mem_181612 = NULL;
    int64_t mem_181615_cached_sizze_183025 = 0;
    unsigned char *mem_181615 = NULL;
    int64_t mem_181832_cached_sizze_183026 = 0;
    unsigned char *mem_181832 = NULL;
    int64_t mem_181835_cached_sizze_183027 = 0;
    unsigned char *mem_181835 = NULL;
    int64_t mem_181838_cached_sizze_183028 = 0;
    unsigned char *mem_181838 = NULL;
    int64_t mem_181851_cached_sizze_183029 = 0;
    unsigned char *mem_181851 = NULL;
    int64_t mem_181853_cached_sizze_183030 = 0;
    unsigned char *mem_181853 = NULL;
    int64_t mem_181855_cached_sizze_183031 = 0;
    unsigned char *mem_181855 = NULL;
    int64_t mem_181952_cached_sizze_183032 = 0;
    unsigned char *mem_181952 = NULL;
    int64_t mem_181955_cached_sizze_183033 = 0;
    unsigned char *mem_181955 = NULL;
    int64_t mem_181958_cached_sizze_183034 = 0;
    unsigned char *mem_181958 = NULL;
    int64_t mem_181972_cached_sizze_183035 = 0;
    unsigned char *mem_181972 = NULL;
    int64_t mem_181974_cached_sizze_183036 = 0;
    unsigned char *mem_181974 = NULL;
    int64_t mem_181988_cached_sizze_183037 = 0;
    unsigned char *mem_181988 = NULL;
    int64_t mem_181991_cached_sizze_183038 = 0;
    unsigned char *mem_181991 = NULL;
    int64_t mem_181994_cached_sizze_183039 = 0;
    unsigned char *mem_181994 = NULL;
    struct memblock mem_param_tmp_182670;
    
    mem_param_tmp_182670.references = NULL;
    
    struct memblock mem_param_tmp_182669;
    
    mem_param_tmp_182669.references = NULL;
    
    struct memblock mem_param_tmp_182668;
    
    mem_param_tmp_182668.references = NULL;
    
    struct memblock mem_182106;
    
    mem_182106.references = NULL;
    
    struct memblock mem_182102;
    
    mem_182102.references = NULL;
    
    struct memblock mem_182098;
    
    mem_182098.references = NULL;
    
    struct memblock mem_182051;
    
    mem_182051.references = NULL;
    
    struct memblock mem_182047;
    
    mem_182047.references = NULL;
    
    struct memblock mem_182043;
    
    mem_182043.references = NULL;
    
    struct memblock mem_182057;
    
    mem_182057.references = NULL;
    
    struct memblock mem_182055;
    
    mem_182055.references = NULL;
    
    struct memblock mem_182053;
    
    mem_182053.references = NULL;
    
    struct memblock ext_mem_182078;
    
    ext_mem_182078.references = NULL;
    
    struct memblock ext_mem_182081;
    
    ext_mem_182081.references = NULL;
    
    struct memblock ext_mem_182084;
    
    ext_mem_182084.references = NULL;
    
    struct memblock mem_param_181950;
    
    mem_param_181950.references = NULL;
    
    struct memblock mem_param_181947;
    
    mem_param_181947.references = NULL;
    
    struct memblock mem_param_181944;
    
    mem_param_181944.references = NULL;
    
    struct memblock ext_mem_182114;
    
    ext_mem_182114.references = NULL;
    
    struct memblock ext_mem_182115;
    
    ext_mem_182115.references = NULL;
    
    struct memblock ext_mem_182116;
    
    ext_mem_182116.references = NULL;
    
    struct memblock mem_181940;
    
    mem_181940.references = NULL;
    
    struct memblock mem_181936;
    
    mem_181936.references = NULL;
    
    struct memblock mem_181932;
    
    mem_181932.references = NULL;
    
    struct memblock ext_mem_182119;
    
    ext_mem_182119.references = NULL;
    
    struct memblock ext_mem_182122;
    
    ext_mem_182122.references = NULL;
    
    struct memblock ext_mem_182125;
    
    ext_mem_182125.references = NULL;
    
    struct memblock mem_181830;
    
    mem_181830.references = NULL;
    
    struct memblock mem_181828;
    
    mem_181828.references = NULL;
    
    struct memblock mem_181826;
    
    mem_181826.references = NULL;
    
    struct memblock mem_param_tmp_182604;
    
    mem_param_tmp_182604.references = NULL;
    
    struct memblock mem_param_tmp_182603;
    
    mem_param_tmp_182603.references = NULL;
    
    struct memblock mem_param_tmp_182602;
    
    mem_param_tmp_182602.references = NULL;
    
    struct memblock mem_181364;
    
    mem_181364.references = NULL;
    
    struct memblock mem_181360;
    
    mem_181360.references = NULL;
    
    struct memblock mem_181356;
    
    mem_181356.references = NULL;
    
    struct memblock mem_181309;
    
    mem_181309.references = NULL;
    
    struct memblock mem_181305;
    
    mem_181305.references = NULL;
    
    struct memblock mem_181301;
    
    mem_181301.references = NULL;
    
    struct memblock mem_181315;
    
    mem_181315.references = NULL;
    
    struct memblock mem_181313;
    
    mem_181313.references = NULL;
    
    struct memblock mem_181311;
    
    mem_181311.references = NULL;
    
    struct memblock ext_mem_181336;
    
    ext_mem_181336.references = NULL;
    
    struct memblock ext_mem_181339;
    
    ext_mem_181339.references = NULL;
    
    struct memblock ext_mem_181342;
    
    ext_mem_181342.references = NULL;
    
    struct memblock mem_param_181208;
    
    mem_param_181208.references = NULL;
    
    struct memblock mem_param_181205;
    
    mem_param_181205.references = NULL;
    
    struct memblock mem_param_181202;
    
    mem_param_181202.references = NULL;
    
    struct memblock ext_mem_181372;
    
    ext_mem_181372.references = NULL;
    
    struct memblock ext_mem_181373;
    
    ext_mem_181373.references = NULL;
    
    struct memblock ext_mem_181374;
    
    ext_mem_181374.references = NULL;
    
    struct memblock mem_181198;
    
    mem_181198.references = NULL;
    
    struct memblock mem_181194;
    
    mem_181194.references = NULL;
    
    struct memblock mem_181190;
    
    mem_181190.references = NULL;
    
    struct memblock ext_mem_181377;
    
    ext_mem_181377.references = NULL;
    
    struct memblock ext_mem_181380;
    
    ext_mem_181380.references = NULL;
    
    struct memblock ext_mem_181383;
    
    ext_mem_181383.references = NULL;
    
    struct memblock mem_181088;
    
    mem_181088.references = NULL;
    
    struct memblock mem_181086;
    
    mem_181086.references = NULL;
    
    struct memblock mem_181084;
    
    mem_181084.references = NULL;
    
    struct memblock mem_181068;
    
    mem_181068.references = NULL;
    
    struct memblock mem_181066;
    
    mem_181066.references = NULL;
    
    struct memblock mem_181064;
    
    mem_181064.references = NULL;
    
    struct memblock mem_181775;
    
    mem_181775.references = NULL;
    
    struct memblock mem_181774;
    
    mem_181774.references = NULL;
    
    struct memblock mem_181772;
    
    mem_181772.references = NULL;
    
    struct memblock mem_param_tmp_182510;
    
    mem_param_tmp_182510.references = NULL;
    
    struct memblock mem_param_tmp_182509;
    
    mem_param_tmp_182509.references = NULL;
    
    struct memblock mem_param_tmp_182508;
    
    mem_param_tmp_182508.references = NULL;
    
    struct memblock mem_181727;
    
    mem_181727.references = NULL;
    
    struct memblock mem_181723;
    
    mem_181723.references = NULL;
    
    struct memblock mem_181719;
    
    mem_181719.references = NULL;
    
    struct memblock mem_181672;
    
    mem_181672.references = NULL;
    
    struct memblock mem_181668;
    
    mem_181668.references = NULL;
    
    struct memblock mem_181664;
    
    mem_181664.references = NULL;
    
    struct memblock mem_181678;
    
    mem_181678.references = NULL;
    
    struct memblock mem_181676;
    
    mem_181676.references = NULL;
    
    struct memblock mem_181674;
    
    mem_181674.references = NULL;
    
    struct memblock ext_mem_181699;
    
    ext_mem_181699.references = NULL;
    
    struct memblock ext_mem_181702;
    
    ext_mem_181702.references = NULL;
    
    struct memblock ext_mem_181705;
    
    ext_mem_181705.references = NULL;
    
    struct memblock mem_param_181571;
    
    mem_param_181571.references = NULL;
    
    struct memblock mem_param_181568;
    
    mem_param_181568.references = NULL;
    
    struct memblock mem_param_181565;
    
    mem_param_181565.references = NULL;
    
    struct memblock ext_mem_181735;
    
    ext_mem_181735.references = NULL;
    
    struct memblock ext_mem_181736;
    
    ext_mem_181736.references = NULL;
    
    struct memblock ext_mem_181737;
    
    ext_mem_181737.references = NULL;
    
    struct memblock mem_181561;
    
    mem_181561.references = NULL;
    
    struct memblock mem_181557;
    
    mem_181557.references = NULL;
    
    struct memblock mem_181553;
    
    mem_181553.references = NULL;
    
    struct memblock ext_mem_181740;
    
    ext_mem_181740.references = NULL;
    
    struct memblock ext_mem_181743;
    
    ext_mem_181743.references = NULL;
    
    struct memblock ext_mem_181746;
    
    ext_mem_181746.references = NULL;
    
    struct memblock mem_181451;
    
    mem_181451.references = NULL;
    
    struct memblock mem_181449;
    
    mem_181449.references = NULL;
    
    struct memblock mem_181447;
    
    mem_181447.references = NULL;
    
    struct memblock ext_mem_181796;
    
    ext_mem_181796.references = NULL;
    
    struct memblock ext_mem_181799;
    
    ext_mem_181799.references = NULL;
    
    struct memblock ext_mem_181802;
    
    ext_mem_181802.references = NULL;
    
    struct memblock mem_181038;
    
    mem_181038.references = NULL;
    
    struct memblock mem_181036;
    
    mem_181036.references = NULL;
    
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t prim_out_182449;
    int64_t dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521 = add64(na_121184, nb_121185);
    
    if (memblock_alloc(ctx, &mem_181034, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182450 = 0; nest_i_182450 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182450++) {
        ((int8_t *) mem_181034.mem)[nest_i_182450] = (int8_t) -1;
    }
    
    int64_t bytes_181035 = (int64_t) 8 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    
    if (memblock_alloc(ctx, &mem_181036, bytes_181035, "mem_181036")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182451 = 0; nest_i_182451 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182451++) {
        ((int64_t *) mem_181036.mem)[nest_i_182451] = (int64_t) -1;
    }
    
    int64_t bytes_181037 = (int64_t) 2 * dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    
    if (memblock_alloc(ctx, &mem_181038, bytes_181037, "mem_181038")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182452 = 0; nest_i_182452 < dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521; nest_i_182452++) {
        ((int16_t *) mem_181038.mem)[nest_i_182452] = (int16_t) 0;
    }
    
    int64_t zl_rhs_175525 = sub64(na_121184, window_sizze_121186);
    bool cond_175526 = slt64((int64_t) 0, zl_rhs_175525);
    int64_t zl_rhs_175527 = sub64(nb_121185, window_sizze_121186);
    bool loop_cond_t_res_175528 = slt64((int64_t) 0, zl_rhs_175527);
    bool x_175529 = cond_175526 && loop_cond_t_res_175528;
    bool empty_slice_175530 = window_sizze_121186 == (int64_t) 0;
    int64_t m_175531 = sub64(window_sizze_121186, (int64_t) 1);
    int64_t dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556 = add64((int64_t) 1, threads_121187);
    int64_t partitionFunc_arg0_176557 = mul64((int64_t) 2, threads_121187);
    bool y_176559 = slt64((int64_t) 0, window_sizze_121186);
    bool loop_cond_176805 = slt64((int64_t) 0, threads_121187);
    bool zzero_175576 = threads_121187 == (int64_t) 0;
    bool nonzzero_175577 = !zzero_175576;
    bool loop_not_taken_178334 = !inParallel_121190;
    bool protect_assert_disj_178335 = nonzzero_175577 || loop_not_taken_178334;
    bool loop_not_taken_178424 = !x_175529;
    bool protect_assert_disj_178425 = protect_assert_disj_178335 || loop_not_taken_178424;
    bool nonzzero_cert_175578;
    
    if (!protect_assert_disj_178425) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:270:24-32\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_175579 = sdiv_safe64(window_sizze_121186, threads_121187);
    int64_t perThread_175580 = add64((int64_t) 1, zp_rhs_175579);
    int64_t dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581 = mul64(threads_121187, perThread_175580);
    bool protect_assert_disj_178471 = inParallel_121190 || y_176559;
    bool protect_assert_disj_178475 = loop_not_taken_178424 || protect_assert_disj_178471;
    bool index_certs_176560;
    
    if (!protect_assert_disj_178475) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_176575 = slt64(dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, (int64_t) 1);
    bool y_177532 = slt64(threads_121187, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
    bool protect_assert_disj_178440 = y_176559 || loop_not_taken_178334;
    bool protect_assert_disj_178479 = loop_not_taken_178424 || protect_assert_disj_178440;
    bool index_certs_175584;
    
    if (!protect_assert_disj_178479) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:155:20-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool valid_176577 = !bounds_invalid_upwards_176575;
    bool protect_assert_disj_178487 = inParallel_121190 || y_177532;
    bool protect_assert_disj_178489 = loop_not_taken_178424 || protect_assert_disj_178487;
    bool index_certs_177534;
    
    if (!protect_assert_disj_178489) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_121187, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:260:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178483 = y_177532 || loop_not_taken_178334;
    bool protect_assert_disj_178491 = loop_not_taken_178424 || protect_assert_disj_178483;
    bool index_certs_176538;
    
    if (!protect_assert_disj_178491) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) threads_121187, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:294:7-31\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178499 = inParallel_121190 || valid_176577;
    bool protect_assert_disj_178501 = loop_not_taken_178424 || protect_assert_disj_178499;
    bool range_valid_c_176578;
    
    if (!protect_assert_disj_178501) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool index_concat_cmp_178343 = sle64((int64_t) 1, threads_121187);
    bool protect_assert_disj_178495 = valid_176577 || loop_not_taken_178334;
    bool protect_assert_disj_178503 = loop_not_taken_178424 || protect_assert_disj_178495;
    bool range_valid_c_175591;
    
    if (!protect_assert_disj_178503) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, " is invalid.", "-> #0  ftsort.fut:158:43-68\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zt_rhs_176580 = add64(window_sizze_121186, window_sizze_121186);
    bool zzero_176581 = partitionFunc_arg0_176557 == (int64_t) 0;
    int64_t index_concat_i_178344 = sub64(threads_121187, (int64_t) 1);
    bool nonzzero_176582 = !zzero_176581;
    bool protect_assert_disj_178511 = inParallel_121190 || nonzzero_176582;
    bool protect_assert_disj_178517 = loop_not_taken_178424 || protect_assert_disj_178511;
    bool nonzzero_cert_176583;
    
    if (!protect_assert_disj_178517) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_178507 = nonzzero_176582 || loop_not_taken_178334;
    bool protect_assert_disj_178523 = loop_not_taken_178424 || protect_assert_disj_178507;
    bool nonzzero_cert_175596;
    
    if (!protect_assert_disj_178523) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftsort.fut:161:36-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181048 = (int64_t) 8 * threads_121187;
    int64_t bytes_181065 = (int64_t) 8 * window_sizze_121186;
    int64_t bytes_181067 = (int64_t) 2 * window_sizze_121186;
    int64_t bytes_181410 = perThread_175580 * bytes_181048;
    int64_t bytes_181418 = perThread_175580 * partitionFunc_arg0_176557;
    bool defunc_0_merge_pipeline_res_175532;
    int64_t defunc_0_merge_pipeline_res_175536;
    int64_t defunc_0_merge_pipeline_res_175537;
    bool loop_while_175538;
    int64_t p_175542;
    int64_t p_175543;
    
    loop_while_175538 = x_175529;
    p_175542 = (int64_t) 0;
    p_175543 = (int64_t) 0;
    while (loop_while_175538) {
        int64_t ubs_175544 = add64(window_sizze_121186, p_175542);
        int64_t ubs_175545 = add64(window_sizze_121186, p_175543);
        int64_t ind_bottom_175546 = add64(p_175542, p_175543);
        int64_t ind_top_175547 = add64(window_sizze_121186, ind_bottom_175546);
        int64_t i_p_m_t_s_175548 = add64(m_175531, p_175542);
        bool zzero_leq_i_p_m_t_s_175549 = sle64((int64_t) 0, i_p_m_t_s_175548);
        bool i_p_m_t_s_leq_w_175550 = slt64(i_p_m_t_s_175548, na_121184);
        bool zzero_lte_i_175551 = sle64((int64_t) 0, p_175542);
        bool i_lte_j_175552 = sle64(p_175542, ubs_175544);
        bool y_175553 = i_p_m_t_s_leq_w_175550 && zzero_lte_i_175551;
        bool y_175554 = zzero_leq_i_p_m_t_s_175549 && y_175553;
        bool forwards_ok_175555 = i_lte_j_175552 && y_175554;
        bool ok_or_empty_175556 = empty_slice_175530 || forwards_ok_175555;
        bool index_certs_175557;
        
        if (!ok_or_empty_175556) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175542, ":", (long long) ubs_175544, "] out of bounds for array of shape [", (long long) na_121184, "].", "-> #0  ftsort.fut:326:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_175559 = add64(m_175531, p_175543);
        bool zzero_leq_i_p_m_t_s_175560 = sle64((int64_t) 0, i_p_m_t_s_175559);
        bool i_p_m_t_s_leq_w_175561 = slt64(i_p_m_t_s_175559, nb_121185);
        bool zzero_lte_i_175562 = sle64((int64_t) 0, p_175543);
        bool i_lte_j_175563 = sle64(p_175543, ubs_175545);
        bool y_175564 = i_p_m_t_s_leq_w_175561 && zzero_lte_i_175562;
        bool y_175565 = zzero_leq_i_p_m_t_s_175560 && y_175564;
        bool forwards_ok_175566 = i_lte_j_175563 && y_175565;
        bool ok_or_empty_175567 = empty_slice_175530 || forwards_ok_175566;
        bool index_certs_175568;
        
        if (!ok_or_empty_175567) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_175543, ":", (long long) ubs_175545, "] out of bounds for array of shape [", (long long) nb_121185, "].", "-> #0  ftsort.fut:327:14-35\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t i_p_m_t_s_177546 = add64(m_175531, ind_bottom_175546);
        bool zzero_leq_i_p_m_t_s_177547 = sle64((int64_t) 0, i_p_m_t_s_177546);
        bool i_p_m_t_s_leq_w_177548 = slt64(i_p_m_t_s_177546, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
        bool zzero_lte_i_177549 = sle64((int64_t) 0, ind_bottom_175546);
        bool i_lte_j_177550 = sle64(ind_bottom_175546, ind_top_175547);
        bool y_177551 = i_p_m_t_s_leq_w_177548 && zzero_lte_i_177549;
        bool y_177552 = zzero_leq_i_p_m_t_s_177547 && y_177551;
        bool forwards_ok_177553 = i_lte_j_177550 && y_177552;
        bool ok_or_empty_177554 = empty_slice_175530 || forwards_ok_177553;
        bool index_certs_177555;
        
        if (!ok_or_empty_177554) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_175546, ":", (long long) ind_top_175547, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:336:21-79\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t loopres_175570;
        int64_t loopres_175571;
        
        if (inParallel_121190) {
            int16_t leq_lhs_179004 = ((int16_t *) a_list_mem_181032.mem)[p_175542];
            int16_t leq_rhs_179005 = ((int16_t *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_179006 = sle16(leq_lhs_179004, leq_rhs_179005);
            int16_t lowest_179007;
            
            if (defunc_0_leq_res_179006) {
                lowest_179007 = leq_lhs_179004;
            } else {
                lowest_179007 = leq_rhs_179005;
            }
            if (mem_181394_cached_sizze_183006 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181394, &mem_181394_cached_sizze_183006, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181396_cached_sizze_183007 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181396, &mem_181396_cached_sizze_183007, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180696 = 0; i_180696 < threads_121187; i_180696++) {
                int64_t index_primexp_180968 = add64((int64_t) 1, i_180696);
                int64_t zs_lhs_179012 = mul64(zt_rhs_176580, index_primexp_180968);
                int64_t index_179013 = sdiv64(zs_lhs_179012, partitionFunc_arg0_176557);
                bool cond_179014 = slt64(window_sizze_121186, index_179013);
                int64_t loop_over_179015;
                
                if (cond_179014) {
                    loop_over_179015 = window_sizze_121186;
                } else {
                    loop_over_179015 = index_179013;
                }
                
                int64_t loop_over_179016;
                
                if (cond_179014) {
                    int64_t loop_over_t_res_179017 = sub64(index_179013, window_sizze_121186);
                    
                    loop_over_179016 = loop_over_t_res_179017;
                } else {
                    loop_over_179016 = (int64_t) 0;
                }
                
                int64_t loop_over_179018;
                
                if (cond_179014) {
                    int64_t zm_lhs_179019 = sub64(index_179013, window_sizze_121186);
                    int64_t loop_over_t_res_179020 = sub64(zm_lhs_179019, (int64_t) 1);
                    
                    loop_over_179018 = loop_over_t_res_179020;
                } else {
                    loop_over_179018 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_179021;
                int64_t defunc_0_f_res_179022;
                int64_t defunc_0_f_res_179023;
                int64_t defunc_0_f_res_179024;
                bool loop_while_179025;
                int64_t p_179026;
                int64_t p_179027;
                int64_t p_179028;
                
                loop_while_179025 = 1;
                p_179026 = loop_over_179018;
                p_179027 = loop_over_179015;
                p_179028 = loop_over_179016;
                while (loop_while_179025) {
                    int64_t zs_lhs_179029 = sub64(p_179027, p_179026);
                    int64_t offset_179030 = sdiv64(zs_lhs_179029, (int64_t) 2);
                    int64_t ai_179031 = sub64(p_179027, offset_179030);
                    int64_t max_arg1_179032 = add64(p_179028, offset_179030);
                    int64_t max_res_179033 = smax64((int64_t) 0, max_arg1_179032);
                    bool cond_179034 = slt64((int64_t) 0, max_res_179033);
                    int16_t b_prev_179035;
                    
                    if (cond_179034) {
                        int64_t tmp_179036 = sub64(max_res_179033, (int64_t) 1);
                        bool x_179037 = sle64((int64_t) 0, tmp_179036);
                        bool y_179038 = slt64(tmp_179036, window_sizze_121186);
                        bool bounds_check_179039 = x_179037 && y_179038;
                        bool index_certs_179040;
                        
                        if (!bounds_check_179039) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179036, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_179041 = p_175543 + tmp_179036;
                        int16_t b_prev_t_res_179042 = ((int16_t *) b_list_mem_181033.mem)[slice_179041];
                        
                        b_prev_179035 = b_prev_t_res_179042;
                    } else {
                        b_prev_179035 = lowest_179007;
                    }
                    
                    bool cond_179043 = sle64(ai_179031, (int64_t) 0);
                    int64_t loopres_179044;
                    int64_t loopres_179045;
                    int64_t loopres_179046;
                    bool loopres_179047;
                    
                    if (cond_179043) {
                        loopres_179044 = p_179026;
                        loopres_179045 = (int64_t) 0;
                        loopres_179046 = max_res_179033;
                        loopres_179047 = 0;
                    } else {
                        bool cond_179048 = sle64(window_sizze_121186, max_res_179033);
                        int64_t loopres_f_res_179049;
                        int64_t loopres_f_res_179050;
                        int64_t loopres_f_res_179051;
                        bool loopres_f_res_179052;
                        
                        if (cond_179048) {
                            int64_t min_res_179054 = smin64(m_175531, ai_179031);
                            bool x_179055 = sle64((int64_t) 0, m_175531);
                            bool y_179056 = slt64(m_175531, window_sizze_121186);
                            bool bounds_check_179057 = x_179055 && y_179056;
                            bool index_certs_179058;
                            
                            if (!bounds_check_179057) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_179061 = sle64((int64_t) 0, min_res_179054);
                            bool y_179062 = slt64(min_res_179054, window_sizze_121186);
                            bool bounds_check_179063 = x_179061 && y_179062;
                            bool index_certs_179064;
                            
                            if (!bounds_check_179063) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179054, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_179060 = ((int16_t *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_179065 = p_175542 + min_res_179054;
                            int16_t leq_rhs_179066 = ((int16_t *) a_list_mem_181032.mem)[slice_179065];
                            bool defunc_0_leq_res_179067 = sle16(leq_lhs_179060, leq_rhs_179066);
                            int64_t loopres_f_res_t_res_179068;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179068 = ai_179031;
                            } else {
                                loopres_f_res_t_res_179068 = p_179027;
                            }
                            
                            bool x_179069 = !defunc_0_leq_res_179067;
                            int64_t loopres_f_res_t_res_179070;
                            
                            if (defunc_0_leq_res_179067) {
                                loopres_f_res_t_res_179070 = window_sizze_121186;
                            } else {
                                int64_t tmp_179071 = sub64(m_175531, offset_179030);
                                
                                loopres_f_res_t_res_179070 = tmp_179071;
                            }
                            loopres_f_res_179049 = p_179026;
                            loopres_f_res_179050 = loopres_f_res_t_res_179068;
                            loopres_f_res_179051 = loopres_f_res_t_res_179070;
                            loopres_f_res_179052 = x_179069;
                        } else {
                            bool cond_179072 = sle64(window_sizze_121186, ai_179031);
                            int64_t loopres_f_res_f_res_179073;
                            int64_t loopres_f_res_f_res_179074;
                            int64_t loopres_f_res_f_res_179075;
                            bool loopres_f_res_f_res_179076;
                            
                            if (cond_179072) {
                                int64_t min_res_179078 = smin64(m_175531, max_res_179033);
                                bool x_179079 = sle64((int64_t) 0, m_175531);
                                bool y_179080 = slt64(m_175531, window_sizze_121186);
                                bool bounds_check_179081 = x_179079 && y_179080;
                                bool index_certs_179082;
                                
                                if (!bounds_check_179081) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_179085 = sle64((int64_t) 0, min_res_179078);
                                bool y_179086 = slt64(min_res_179078, window_sizze_121186);
                                bool bounds_check_179087 = x_179085 && y_179086;
                                bool index_certs_179088;
                                
                                if (!bounds_check_179087) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_179078, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_179084 = ((int16_t *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_179089 = p_175543 + min_res_179078;
                                int16_t leq_rhs_179090 = ((int16_t *) b_list_mem_181033.mem)[slice_179089];
                                bool defunc_0_leq_res_179091 = sle16(leq_lhs_179084, leq_rhs_179090);
                                int64_t loopres_f_res_f_res_t_res_179092;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179092 = max_res_179033;
                                } else {
                                    loopres_f_res_f_res_t_res_179092 = p_179028;
                                }
                                
                                bool x_179093 = !defunc_0_leq_res_179091;
                                int64_t loopres_f_res_f_res_t_res_179094;
                                
                                if (defunc_0_leq_res_179091) {
                                    loopres_f_res_f_res_t_res_179094 = window_sizze_121186;
                                } else {
                                    loopres_f_res_f_res_t_res_179094 = m_175531;
                                }
                                loopres_f_res_f_res_179073 = p_179026;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_t_res_179094;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_t_res_179092;
                                loopres_f_res_f_res_179076 = x_179093;
                            } else {
                                bool cond_179095 = sle64(p_179027, p_179026);
                                int64_t loopres_f_res_f_res_f_res_179096;
                                int64_t loopres_f_res_f_res_f_res_179097;
                                int64_t loopres_f_res_f_res_f_res_179098;
                                bool loopres_f_res_f_res_f_res_179099;
                                
                                if (cond_179095) {
                                    bool cond_179100 = slt64(ai_179031, window_sizze_121186);
                                    int64_t ai_179101;
                                    
                                    if (cond_179100) {
                                        ai_179101 = ai_179031;
                                    } else {
                                        ai_179101 = m_175531;
                                    }
                                    
                                    bool x_179114 = sle64((int64_t) 0, ai_179101);
                                    bool y_179115 = slt64(ai_179101, window_sizze_121186);
                                    bool bounds_check_179116 = x_179114 && y_179115;
                                    bool index_certs_179117;
                                    
                                    if (!bounds_check_179116) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179101, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_179103;
                                    
                                    if (cond_179034) {
                                        int64_t tmp_179104 = sub64(max_res_179033, (int64_t) 1);
                                        bool x_179105 = sle64((int64_t) 0, tmp_179104);
                                        bool y_179106 = slt64(tmp_179104, window_sizze_121186);
                                        bool bounds_check_179107 = x_179105 && y_179106;
                                        bool index_certs_179108;
                                        
                                        if (!bounds_check_179107) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179104, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179109 = p_175543 + tmp_179104;
                                        int16_t b_prev_t_res_179110 = ((int16_t *) b_list_mem_181033.mem)[slice_179109];
                                        
                                        b_prev_179103 = b_prev_t_res_179110;
                                    } else {
                                        bool index_certs_179112;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_179103 = leq_rhs_179005;
                                    }
                                    
                                    int64_t slice_179118 = p_175542 + ai_179101;
                                    int16_t gt_lhs_179119 = ((int16_t *) a_list_mem_181032.mem)[slice_179118];
                                    bool defunc_0_gt_res_179120 = slt16(b_prev_179103, gt_lhs_179119);
                                    int64_t defunc_0_partFunc_sequential_search_res_179121;
                                    int64_t defunc_0_partFunc_sequential_search_res_179122;
                                    
                                    if (defunc_0_gt_res_179120) {
                                        int64_t zl_rhs_179123 = sub64(window_sizze_121186, max_res_179033);
                                        bool loop_cond_179124 = slt64((int64_t) 0, zl_rhs_179123);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_179125;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179127;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_179128;
                                        bool loop_while_179129;
                                        int64_t p_179130;
                                        int64_t p_179131;
                                        int64_t p_179132;
                                        
                                        loop_while_179129 = loop_cond_179124;
                                        p_179130 = ai_179101;
                                        p_179131 = max_res_179033;
                                        p_179132 = (int64_t) 0;
                                        while (loop_while_179129) {
                                            int64_t i_a_179133 = sub64(ai_179101, p_179132);
                                            int64_t i_b_179134 = add64(max_res_179033, p_179132);
                                            int64_t leq_lhs_179135 = sub64(i_a_179133, (int64_t) 1);
                                            bool x_179136 = sle64((int64_t) 0, leq_lhs_179135);
                                            bool y_179137 = slt64(leq_lhs_179135, window_sizze_121186);
                                            bool bounds_check_179138 = x_179136 && y_179137;
                                            bool index_certs_179139;
                                            
                                            if (!bounds_check_179138) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179135, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179142 = sle64((int64_t) 0, i_b_179134);
                                            bool y_179143 = slt64(i_b_179134, window_sizze_121186);
                                            bool bounds_check_179144 = x_179142 && y_179143;
                                            bool index_certs_179145;
                                            
                                            if (!bounds_check_179144) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179134, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179140 = p_175542 + leq_lhs_179135;
                                            int16_t leq_lhs_179141 = ((int16_t *) a_list_mem_181032.mem)[slice_179140];
                                            int64_t slice_179146 = p_175543 + i_b_179134;
                                            int16_t leq_rhs_179147 = ((int16_t *) b_list_mem_181033.mem)[slice_179146];
                                            bool defunc_0_leq_res_179148 = sle16(leq_lhs_179141, leq_rhs_179147);
                                            int64_t loopres_179149;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179149 = i_a_179133;
                                            } else {
                                                loopres_179149 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179150;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179150 = i_b_179134;
                                            } else {
                                                loopres_179150 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179151;
                                            
                                            if (defunc_0_leq_res_179148) {
                                                loopres_179151 = zl_rhs_179123;
                                            } else {
                                                int64_t tmp_179152 = add64((int64_t) 1, p_179132);
                                                
                                                loopres_179151 = tmp_179152;
                                            }
                                            
                                            bool loop_cond_179153 = slt64(loopres_179151, zl_rhs_179123);
                                            bool loop_while_tmp_182465 = loop_cond_179153;
                                            int64_t p_tmp_182466 = loopres_179149;
                                            int64_t p_tmp_182467 = loopres_179150;
                                            int64_t p_tmp_182468 = loopres_179151;
                                            
                                            loop_while_179129 = loop_while_tmp_182465;
                                            p_179130 = p_tmp_182466;
                                            p_179131 = p_tmp_182467;
                                            p_179132 = p_tmp_182468;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_179125 = loop_while_179129;
                                        defunc_0_partFunc_sequential_search_res_t_res_179126 = p_179130;
                                        defunc_0_partFunc_sequential_search_res_t_res_179127 = p_179131;
                                        defunc_0_partFunc_sequential_search_res_t_res_179128 = p_179132;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_t_res_179126;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_t_res_179127;
                                    } else {
                                        int64_t zl_rhs_179154 = sub64(max_res_179033, (int64_t) 1);
                                        bool loop_cond_179155 = slt64((int64_t) 0, zl_rhs_179154);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_179156;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179158;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_179159;
                                        bool loop_while_179160;
                                        int64_t p_179161;
                                        int64_t p_179162;
                                        int64_t p_179163;
                                        
                                        loop_while_179160 = loop_cond_179155;
                                        p_179161 = ai_179101;
                                        p_179162 = max_res_179033;
                                        p_179163 = (int64_t) 0;
                                        while (loop_while_179160) {
                                            int64_t zp_lhs_179164 = add64(ai_179101, p_179163);
                                            int64_t hi_a_179165 = add64((int64_t) 1, zp_lhs_179164);
                                            bool cond_179166 = slt64(hi_a_179165, window_sizze_121186);
                                            int64_t i_a_179167;
                                            
                                            if (cond_179166) {
                                                i_a_179167 = hi_a_179165;
                                            } else {
                                                i_a_179167 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_179169 = sub64(max_res_179033, p_179163);
                                            int64_t i_b_179170 = sub64(zm_lhs_179169, (int64_t) 1);
                                            bool x_179171 = sle64((int64_t) 0, i_a_179167);
                                            bool y_179172 = slt64(i_a_179167, window_sizze_121186);
                                            bool bounds_check_179173 = x_179171 && y_179172;
                                            bool index_certs_179174;
                                            
                                            if (!bounds_check_179173) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_179167, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179177 = sle64((int64_t) 0, i_b_179170);
                                            bool y_179178 = slt64(i_b_179170, window_sizze_121186);
                                            bool bounds_check_179179 = x_179177 && y_179178;
                                            bool index_certs_179180;
                                            
                                            if (!bounds_check_179179) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_179170, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179175 = p_175542 + i_a_179167;
                                            int16_t gt_lhs_179176 = ((int16_t *) a_list_mem_181032.mem)[slice_179175];
                                            int64_t slice_179181 = p_175543 + i_b_179170;
                                            int16_t gt_rhs_179182 = ((int16_t *) b_list_mem_181033.mem)[slice_179181];
                                            bool defunc_0_gt_res_179183 = slt16(gt_rhs_179182, gt_lhs_179176);
                                            int64_t loopres_179184;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179184 = i_a_179167;
                                            } else {
                                                loopres_179184 = ai_179101;
                                            }
                                            
                                            int64_t loopres_179185;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179185 = zm_lhs_179169;
                                            } else {
                                                loopres_179185 = max_res_179033;
                                            }
                                            
                                            int64_t loopres_179186;
                                            
                                            if (defunc_0_gt_res_179183) {
                                                loopres_179186 = zl_rhs_179154;
                                            } else {
                                                int64_t tmp_179187 = add64((int64_t) 1, p_179163);
                                                
                                                loopres_179186 = tmp_179187;
                                            }
                                            
                                            bool loop_cond_179188 = slt64(loopres_179186, zl_rhs_179154);
                                            bool loop_while_tmp_182469 = loop_cond_179188;
                                            int64_t p_tmp_182470 = loopres_179184;
                                            int64_t p_tmp_182471 = loopres_179185;
                                            int64_t p_tmp_182472 = loopres_179186;
                                            
                                            loop_while_179160 = loop_while_tmp_182469;
                                            p_179161 = p_tmp_182470;
                                            p_179162 = p_tmp_182471;
                                            p_179163 = p_tmp_182472;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_179156 = loop_while_179160;
                                        defunc_0_partFunc_sequential_search_res_f_res_179157 = p_179161;
                                        defunc_0_partFunc_sequential_search_res_f_res_179158 = p_179162;
                                        defunc_0_partFunc_sequential_search_res_f_res_179159 = p_179163;
                                        defunc_0_partFunc_sequential_search_res_179121 = defunc_0_partFunc_sequential_search_res_f_res_179157;
                                        defunc_0_partFunc_sequential_search_res_179122 = defunc_0_partFunc_sequential_search_res_f_res_179158;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = p_179026;
                                    loopres_f_res_f_res_f_res_179097 = defunc_0_partFunc_sequential_search_res_179121;
                                    loopres_f_res_f_res_f_res_179098 = defunc_0_partFunc_sequential_search_res_179122;
                                    loopres_f_res_f_res_f_res_179099 = 0;
                                } else {
                                    bool x_179189 = sle64((int64_t) 0, ai_179031);
                                    bool y_179190 = slt64(ai_179031, window_sizze_121186);
                                    bool bounds_check_179191 = x_179189 && y_179190;
                                    bool index_certs_179192;
                                    
                                    if (!bounds_check_179191) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_179031, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_179193 = p_175542 + ai_179031;
                                    int16_t gt_lhs_179194 = ((int16_t *) a_list_mem_181032.mem)[slice_179193];
                                    bool defunc_0_gt_res_179195 = slt16(b_prev_179035, gt_lhs_179194);
                                    int64_t loopres_f_res_f_res_f_res_f_res_179196;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179197;
                                    int64_t loopres_f_res_f_res_f_res_f_res_179198;
                                    bool loopres_f_res_f_res_f_res_f_res_179199;
                                    
                                    if (defunc_0_gt_res_179195) {
                                        int64_t leq_lhs_179200 = sub64(ai_179031, (int64_t) 1);
                                        bool x_179201 = sle64((int64_t) 0, leq_lhs_179200);
                                        bool y_179202 = slt64(leq_lhs_179200, window_sizze_121186);
                                        bool bounds_check_179203 = x_179201 && y_179202;
                                        bool index_certs_179204;
                                        
                                        if (!bounds_check_179203) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_179200, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_179207 = sle64((int64_t) 0, max_res_179033);
                                        bool y_179208 = slt64(max_res_179033, window_sizze_121186);
                                        bool bounds_check_179209 = x_179207 && y_179208;
                                        bool index_certs_179210;
                                        
                                        if (!bounds_check_179209) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_179033, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179205 = p_175542 + leq_lhs_179200;
                                        int16_t leq_lhs_179206 = ((int16_t *) a_list_mem_181032.mem)[slice_179205];
                                        int64_t slice_179211 = p_175543 + max_res_179033;
                                        int16_t leq_rhs_179212 = ((int16_t *) b_list_mem_181033.mem)[slice_179211];
                                        bool defunc_0_leq_res_179213 = sle16(leq_lhs_179206, leq_rhs_179212);
                                        bool x_179214 = !defunc_0_leq_res_179213;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = ai_179031;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179215 = leq_lhs_179200;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        
                                        if (defunc_0_leq_res_179213) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = max_res_179033;
                                        } else {
                                            int64_t tmp_179217 = add64((int64_t) 1, max_res_179033);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_179216 = tmp_179217;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_179196 = p_179026;
                                        loopres_f_res_f_res_f_res_f_res_179197 = loopres_f_res_f_res_f_res_f_res_t_res_179215;
                                        loopres_f_res_f_res_f_res_f_res_179198 = loopres_f_res_f_res_f_res_f_res_t_res_179216;
                                        loopres_f_res_f_res_f_res_f_res_179199 = x_179214;
                                    } else {
                                        int64_t tmp_179218 = add64((int64_t) 1, ai_179031);
                                        
                                        loopres_f_res_f_res_f_res_f_res_179196 = tmp_179218;
                                        loopres_f_res_f_res_f_res_f_res_179197 = p_179027;
                                        loopres_f_res_f_res_f_res_f_res_179198 = p_179028;
                                        loopres_f_res_f_res_f_res_f_res_179199 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_179096 = loopres_f_res_f_res_f_res_f_res_179196;
                                    loopres_f_res_f_res_f_res_179097 = loopres_f_res_f_res_f_res_f_res_179197;
                                    loopres_f_res_f_res_f_res_179098 = loopres_f_res_f_res_f_res_f_res_179198;
                                    loopres_f_res_f_res_f_res_179099 = loopres_f_res_f_res_f_res_f_res_179199;
                                }
                                loopres_f_res_f_res_179073 = loopres_f_res_f_res_f_res_179096;
                                loopres_f_res_f_res_179074 = loopres_f_res_f_res_f_res_179097;
                                loopres_f_res_f_res_179075 = loopres_f_res_f_res_f_res_179098;
                                loopres_f_res_f_res_179076 = loopres_f_res_f_res_f_res_179099;
                            }
                            loopres_f_res_179049 = loopres_f_res_f_res_179073;
                            loopres_f_res_179050 = loopres_f_res_f_res_179074;
                            loopres_f_res_179051 = loopres_f_res_f_res_179075;
                            loopres_f_res_179052 = loopres_f_res_f_res_179076;
                        }
                        loopres_179044 = loopres_f_res_179049;
                        loopres_179045 = loopres_f_res_179050;
                        loopres_179046 = loopres_f_res_179051;
                        loopres_179047 = loopres_f_res_179052;
                    }
                    
                    bool loop_while_tmp_182461 = loopres_179047;
                    int64_t p_tmp_182462 = loopres_179044;
                    int64_t p_tmp_182463 = loopres_179045;
                    int64_t p_tmp_182464 = loopres_179046;
                    
                    loop_while_179025 = loop_while_tmp_182461;
                    p_179026 = p_tmp_182462;
                    p_179027 = p_tmp_182463;
                    p_179028 = p_tmp_182464;
                }
                defunc_0_f_res_179021 = loop_while_179025;
                defunc_0_f_res_179022 = p_179026;
                defunc_0_f_res_179023 = p_179027;
                defunc_0_f_res_179024 = p_179028;
                ((int64_t *) mem_181394)[i_180696] = defunc_0_f_res_179023;
                ((int64_t *) mem_181396)[i_180696] = defunc_0_f_res_179024;
            }
            if (mem_181411_cached_sizze_183008 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181411, &mem_181411_cached_sizze_183008, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181413_cached_sizze_183009 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581) {
                err = lexical_realloc(ctx, &mem_181413, &mem_181413_cached_sizze_183009, dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181416_cached_sizze_183010 < bytes_181410) {
                err = lexical_realloc(ctx, &mem_181416, &mem_181416_cached_sizze_183010, bytes_181410);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181419_cached_sizze_183011 < bytes_181418) {
                err = lexical_realloc(ctx, &mem_181419, &mem_181419_cached_sizze_183011, bytes_181418);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180762 = 0; i_180762 < threads_121187; i_180762++) {
                bool y_179232 = slt64(i_180762, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool index_certs_179234;
                
                if (!y_179232) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180762, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:276:17-37\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179235 = sle64((int64_t) 1, i_180762);
                int64_t index_concat_i_179236 = sub64(i_180762, (int64_t) 1);
                int64_t index_concat_179237;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179238 = ((int64_t *) mem_181394)[index_concat_i_179236];
                    
                    index_concat_179237 = x_179238;
                } else {
                    index_concat_179237 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179239;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179239 = index_concat_179237;
                } else {
                    index_concat_branch_179239 = (int64_t) 0;
                }
                
                int64_t index_concat_179240;
                
                if (index_concat_cmp_179235) {
                    int64_t x_179241 = ((int64_t *) mem_181396)[index_concat_i_179236];
                    
                    index_concat_179240 = x_179241;
                } else {
                    index_concat_179240 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179242;
                
                if (index_concat_cmp_179235) {
                    index_concat_branch_179242 = index_concat_179240;
                } else {
                    index_concat_branch_179242 = (int64_t) 0;
                }
                
                int64_t ubs_179243 = add64((int64_t) 1, i_180762);
                bool x_179244 = sle64((int64_t) 0, ubs_179243);
                bool y_179245 = slt64(ubs_179243, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_179246 = x_179244 && y_179245;
                bool index_certs_179247;
                
                if (!bounds_check_179246) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_179243, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:277:17-39\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_179248 = sle64((int64_t) 1, ubs_179243);
                int64_t index_concat_179249;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179250 = ((int64_t *) mem_181394)[i_180762];
                    
                    index_concat_179249 = x_179250;
                } else {
                    index_concat_179249 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179251;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179251 = index_concat_179249;
                } else {
                    index_concat_branch_179251 = (int64_t) 0;
                }
                
                int64_t index_concat_179252;
                
                if (index_concat_cmp_179248) {
                    int64_t x_179253 = ((int64_t *) mem_181396)[i_180762];
                    
                    index_concat_179252 = x_179253;
                } else {
                    index_concat_179252 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_179254;
                
                if (index_concat_cmp_179248) {
                    index_concat_branch_179254 = index_concat_179252;
                } else {
                    index_concat_branch_179254 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 = sub64(index_concat_branch_179254, index_concat_branch_179242);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 = sub64(index_concat_branch_179251, index_concat_branch_179239);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t zm_lhs_179258 = add64(index_concat_branch_179251, index_concat_branch_179254);
                int64_t zm_rhs_179259 = add64(index_concat_branch_179239, index_concat_branch_179242);
                int64_t card_179260 = sub64(zm_lhs_179258, zm_rhs_179259);
                bool empty_slice_179261 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 == (int64_t) 0;
                int64_t m_179262 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 1);
                int64_t i_p_m_t_s_179263 = add64(index_concat_branch_179239, m_179262);
                bool zzero_leq_i_p_m_t_s_179264 = sle64((int64_t) 0, i_p_m_t_s_179263);
                bool i_p_m_t_s_leq_w_179265 = slt64(i_p_m_t_s_179263, window_sizze_121186);
                bool zzero_lte_i_179266 = sle64((int64_t) 0, index_concat_branch_179239);
                bool i_lte_j_179267 = sle64(index_concat_branch_179239, index_concat_branch_179251);
                bool y_179268 = i_p_m_t_s_leq_w_179265 && zzero_lte_i_179266;
                bool y_179269 = zzero_leq_i_p_m_t_s_179264 && y_179268;
                bool forwards_ok_179270 = i_lte_j_179267 && y_179269;
                bool ok_or_empty_179271 = empty_slice_179261 || forwards_ok_179270;
                bool index_certs_179272;
                
                if (!ok_or_empty_179271) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179239, ":", (long long) index_concat_branch_179251, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:279:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179273 = slt64(index_concat_branch_179251, index_concat_branch_179239);
                bool valid_179274 = !bounds_invalid_upwards_179273;
                bool range_valid_c_179275;
                
                if (!valid_179274) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179239, "..<", (long long) index_concat_branch_179251, " is invalid.", "-> #0  ftsort.fut:279:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179280 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255 == (int64_t) 0;
                int64_t m_179281 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255, (int64_t) 1);
                int64_t i_p_m_t_s_179282 = add64(index_concat_branch_179242, m_179281);
                bool zzero_leq_i_p_m_t_s_179283 = sle64((int64_t) 0, i_p_m_t_s_179282);
                bool i_p_m_t_s_leq_w_179284 = slt64(i_p_m_t_s_179282, window_sizze_121186);
                bool zzero_lte_i_179285 = sle64((int64_t) 0, index_concat_branch_179242);
                bool i_lte_j_179286 = sle64(index_concat_branch_179242, index_concat_branch_179254);
                bool y_179287 = i_p_m_t_s_leq_w_179284 && zzero_lte_i_179285;
                bool y_179288 = zzero_leq_i_p_m_t_s_179283 && y_179287;
                bool forwards_ok_179289 = i_lte_j_179286 && y_179288;
                bool ok_or_empty_179290 = empty_slice_179280 || forwards_ok_179289;
                bool index_certs_179291;
                
                if (!ok_or_empty_179290) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_179242, ":", (long long) index_concat_branch_179254, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:280:69-84\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179292 = slt64(index_concat_branch_179254, index_concat_branch_179242);
                bool valid_179293 = !bounds_invalid_upwards_179292;
                bool range_valid_c_179294;
                
                if (!valid_179293) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_179242, "..<", (long long) index_concat_branch_179254, " is invalid.", "-> #0  ftsort.fut:280:50-67\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181448 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                int64_t bytes_181450 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool cond_179302 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zs_lhs_179303 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, (int64_t) 1);
                int64_t zp_rhs_179304 = sdiv_safe64(zs_lhs_179303, (int64_t) 20);
                int64_t min_num_blocks_179305 = add64((int64_t) 1, zp_rhs_179304);
                bool loop_cond_179306 = slt64((int64_t) 1, min_num_blocks_179305);
                bool smallest_pow_2_geq_than_res_179307;
                int64_t smallest_pow_2_geq_than_res_179308;
                bool loop_while_179309;
                int64_t x_179310;
                
                loop_while_179309 = loop_cond_179306;
                x_179310 = (int64_t) 1;
                while (loop_while_179309) {
                    int64_t loopres_179311 = mul64((int64_t) 2, x_179310);
                    bool loop_cond_179312 = slt64(loopres_179311, min_num_blocks_179305);
                    bool loop_while_tmp_182477 = loop_cond_179312;
                    int64_t x_tmp_182478 = loopres_179311;
                    
                    loop_while_179309 = loop_while_tmp_182477;
                    x_179310 = x_tmp_182478;
                }
                smallest_pow_2_geq_than_res_179307 = loop_while_179309;
                smallest_pow_2_geq_than_res_179308 = x_179310;
                
                bool zzero_179313 = smallest_pow_2_geq_than_res_179308 == (int64_t) 0;
                bool nonzzero_179314 = !zzero_179313;
                bool protect_assert_disj_179315 = cond_179302 || nonzzero_179314;
                bool nonzzero_cert_179316;
                
                if (!protect_assert_disj_179315) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_179317 = sdiv_safe64(zs_lhs_179303, smallest_pow_2_geq_than_res_179308);
                int64_t block_sizze_179318 = add64((int64_t) 1, zp_rhs_179317);
                bool y_179325 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                bool protect_assert_disj_182194 = cond_179302 || y_179325;
                bool index_certs_179326;
                
                if (!protect_assert_disj_182194) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179363 = slt64(smallest_pow_2_geq_than_res_179308, (int64_t) 0);
                bool valid_179364 = !bounds_invalid_upwards_179363;
                bool protect_assert_disj_182204 = cond_179302 || valid_179364;
                bool range_valid_c_179365;
                
                if (!protect_assert_disj_182204) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_179308, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_179367 = slt64(block_sizze_179318, (int64_t) 0);
                bool valid_179368 = !bounds_invalid_upwards_179367;
                bool protect_assert_disj_182206 = cond_179302 || valid_179368;
                bool range_valid_c_179369;
                
                if (!protect_assert_disj_182206) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_179318, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_179371 = sle64(block_sizze_179318, (int64_t) 1);
                int64_t tmp_179372 = sub64(block_sizze_179318, (int64_t) 2);
                bool bounds_invalid_upwards_179373 = slt64(tmp_179372, (int64_t) 0);
                bool valid_179375 = !bounds_invalid_upwards_179373;
                bool protect_assert_disj_179376 = cond_179371 || valid_179375;
                bool protect_assert_disj_182208 = cond_179302 || protect_assert_disj_179376;
                bool range_valid_c_179377;
                
                if (!protect_assert_disj_182208) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_179372, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_179957 = card_179260 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257;
                bool empty_or_match_cert_179958;
                
                if (!dim_match_179957) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] cannot match shape of type `[", (long long) card_179260, "](i8, i64, i16)`.", "-> #0  ftsort.fut:281:20-287:32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_179959 = card_179260 == (int64_t) 0;
                int64_t m_179960 = sub64(card_179260, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_179961 = sle64((int64_t) 0, m_179960);
                bool i_p_m_t_s_leq_w_179962 = slt64(m_179960, card_179260);
                bool y_179963 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179962;
                bool ok_or_empty_179964 = empty_slice_179959 || y_179963;
                bool index_certs_179965;
                
                if (!ok_or_empty_179964) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) card_179260, "].", "-> #0  ftsort.fut:288:41-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_179966 = slt64(m_179960, perThread_175580);
                bool y_179967 = zzero_leq_i_p_m_t_s_179961 && i_p_m_t_s_leq_w_179966;
                bool ok_or_empty_179968 = empty_slice_179959 || y_179967;
                bool index_certs_179969;
                
                if (!ok_or_empty_179968) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:288:17-55\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                for (int64_t nest_i_182479 = 0; nest_i_182479 < perThread_175580; nest_i_182479++) {
                    ((int8_t *) mem_181413)[i_180762 * perThread_175580 + nest_i_182479] = (int8_t) -1;
                }
                for (int64_t nest_i_182480 = 0; nest_i_182480 < perThread_175580; nest_i_182480++) {
                    ((int64_t *) mem_181416)[i_180762 * perThread_175580 + nest_i_182480] = (int64_t) -1;
                }
                for (int64_t nest_i_182481 = 0; nest_i_182481 < perThread_175580; nest_i_182481++) {
                    ((int16_t *) mem_181419)[i_180762 * perThread_175580 + nest_i_182481] = (int16_t) 0;
                }
                
                int64_t slice_179276 = p_175542 + index_concat_branch_179239;
                
                if (memblock_alloc(ctx, &mem_181447, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "mem_181447")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182482 = 0; nest_i_182482 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; nest_i_182482++) {
                    ((int8_t *) mem_181447.mem)[nest_i_182482] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181449, bytes_181448, "mem_181449")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182483 = 0; i_182483 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256; i_182483++) {
                    int64_t x_182484 = index_concat_branch_179239 + i_182483 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[i_182483] = x_182484;
                }
                
                int64_t slice_179295 = p_175543 + index_concat_branch_179242;
                
                for (int64_t nest_i_182485 = 0; nest_i_182485 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; nest_i_182485++) {
                    ((int8_t *) mem_181447.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + nest_i_182485] = (int8_t) 1;
                }
                for (int64_t i_182486 = 0; i_182486 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255; i_182486++) {
                    int64_t x_182487 = index_concat_branch_179242 + i_182486 * (int64_t) 1;
                    
                    ((int64_t *) mem_181449.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256 + i_182486] = x_182487;
                }
                
                int64_t tmp_offs_182488 = (int64_t) 0;
                
                if (!(tmp_offs_182488 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182488 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181447.mem, tmp_offs_182488, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181447.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182488 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t tmp_offs_182489 = (int64_t) 0;
                
                if (!(tmp_offs_182489 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                if (!(tmp_offs_182489 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181449.mem, tmp_offs_182489, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181449.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                }
                tmp_offs_182489 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                if (memblock_alloc(ctx, &mem_181451, bytes_181450, "mem_181451")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182490 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181032.mem, slice_179276, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181451.mem, tmp_offs_182490, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181033.mem, slice_179295, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255});
                tmp_offs_182490 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_179255;
                
                int64_t flat_dim_179319 = smallest_pow_2_geq_than_res_179308 * block_sizze_179318;
                bool x_182189 = !cond_179302;
                int64_t greatest_divisor_leq_than_arg1_179323 = mul64((int64_t) 2, block_sizze_179318);
                int64_t merge_block_sizze_179324;
                
                if (x_182189) {
                    int64_t x_182191;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182191, (int64_t) 8, greatest_divisor_leq_than_arg1_179323) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_179324 = x_182191;
                } else {
                    merge_block_sizze_179324 = (int64_t) 0;
                }
                
                bool index_concat_cmp_179327 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, (int64_t) 0);
                int8_t index_concat_branch_179328 = btoi_bool_i8(index_concat_cmp_179327);
                int64_t index_concat_i_179330 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                int64_t index_primexp_179331 = add64(index_concat_branch_179242, index_concat_i_179330);
                int64_t index_concat_branch_179329;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179329 = index_primexp_179331;
                } else {
                    index_concat_branch_179329 = index_concat_branch_179239;
                }
                
                bool x_182185 = !index_concat_cmp_179327;
                bool protect_cond_conj_182195 = x_182185 && x_182189;
                int16_t index_concat_179337;
                
                if (protect_cond_conj_182195) {
                    int16_t x_182187 = ((int16_t *) a_list_mem_181032.mem)[slice_179276];
                    
                    index_concat_179337 = x_182187;
                } else {
                    index_concat_179337 = (int16_t) 0;
                }
                
                int64_t slice_179335 = p_175543 + index_primexp_179331;
                bool protect_cond_conj_182196 = index_concat_cmp_179327 && x_182189;
                int16_t index_concat_179336;
                
                if (protect_cond_conj_182196) {
                    int16_t x_182183 = ((int16_t *) b_list_mem_181033.mem)[slice_179335];
                    
                    index_concat_179336 = x_182183;
                } else {
                    index_concat_179336 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_179332;
                
                if (index_concat_cmp_179327) {
                    index_concat_branch_179332 = index_concat_179336;
                } else {
                    index_concat_branch_179332 = index_concat_179337;
                }
                
                int8_t defunc_0_reduce_res_179338;
                int64_t defunc_0_reduce_res_179339;
                int16_t defunc_0_reduce_res_179340;
                
                if (x_182189) {
                    int8_t x_182197;
                    int64_t x_182198;
                    int16_t x_182199;
                    int8_t redout_180699;
                    int64_t redout_180700;
                    int16_t redout_180701;
                    
                    redout_180699 = index_concat_branch_179328;
                    redout_180700 = index_concat_branch_179329;
                    redout_180701 = index_concat_branch_179332;
                    for (int64_t i_180702 = 0; i_180702 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257; i_180702++) {
                        bool index_concat_cmp_180960 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, i_180702);
                        int8_t index_concat_branch_180964 = btoi_bool_i8(index_concat_cmp_180960);
                        int64_t index_concat_branch_180958;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180955 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t index_primexp_181008 = add64(index_concat_branch_179242, index_concat_i_180955);
                            
                            index_concat_branch_180958 = index_primexp_181008;
                        } else {
                            int64_t index_primexp_181010 = add64(index_concat_branch_179239, i_180702);
                            
                            index_concat_branch_180958 = index_primexp_181010;
                        }
                        
                        int16_t index_concat_branch_180952;
                        
                        if (index_concat_cmp_180960) {
                            int64_t index_concat_i_180949 = sub64(i_180702, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                            int64_t slice_181005 = slice_179295 + index_concat_i_180949;
                            int16_t index_concat_180950 = ((int16_t *) b_list_mem_181033.mem)[slice_181005];
                            
                            index_concat_branch_180952 = index_concat_180950;
                        } else {
                            int64_t slice_181006 = slice_179276 + i_180702;
                            int16_t index_concat_180951 = ((int16_t *) a_list_mem_181032.mem)[slice_181006];
                            
                            index_concat_branch_180952 = index_concat_180951;
                        }
                        
                        bool eq_x_y_181022 = redout_180699 == (int8_t) 1;
                        bool eq_x_zz_181023 = redout_180699 == (int8_t) 0;
                        bool p_and_eq_x_y_181024 = index_concat_cmp_180960 && eq_x_y_181022;
                        bool not_p_181025 = !index_concat_cmp_180960;
                        bool p_and_eq_x_y_181026 = eq_x_zz_181023 && not_p_181025;
                        bool cond_179350 = p_and_eq_x_y_181024 || p_and_eq_x_y_181026;
                        bool defunc_0_leq_res_t_res_179351 = sle64(redout_180700, index_concat_branch_180958);
                        bool defunc_0_leq_res_179352 = sle16(redout_180701, index_concat_branch_180952);
                        bool x_179353 = cond_179350 && defunc_0_leq_res_t_res_179351;
                        bool x_179354 = !cond_179350;
                        bool y_179355 = defunc_0_leq_res_179352 && x_179354;
                        bool defunc_0_leq_res_179356 = x_179353 || y_179355;
                        int8_t defunc_0_op_res_179357;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179357 = index_concat_branch_180964;
                        } else {
                            defunc_0_op_res_179357 = redout_180699;
                        }
                        
                        int64_t defunc_0_op_res_179358;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179358 = index_concat_branch_180958;
                        } else {
                            defunc_0_op_res_179358 = redout_180700;
                        }
                        
                        int16_t defunc_0_op_res_179359;
                        
                        if (defunc_0_leq_res_179356) {
                            defunc_0_op_res_179359 = index_concat_branch_180952;
                        } else {
                            defunc_0_op_res_179359 = redout_180701;
                        }
                        
                        int8_t redout_tmp_182491 = defunc_0_op_res_179357;
                        int64_t redout_tmp_182492 = defunc_0_op_res_179358;
                        int16_t redout_tmp_182493 = defunc_0_op_res_179359;
                        
                        redout_180699 = redout_tmp_182491;
                        redout_180700 = redout_tmp_182492;
                        redout_180701 = redout_tmp_182493;
                    }
                    x_182197 = redout_180699;
                    x_182198 = redout_180700;
                    x_182199 = redout_180701;
                    defunc_0_reduce_res_179338 = x_182197;
                    defunc_0_reduce_res_179339 = x_182198;
                    defunc_0_reduce_res_179340 = x_182199;
                } else {
                    defunc_0_reduce_res_179338 = (int8_t) 0;
                    defunc_0_reduce_res_179339 = (int64_t) 0;
                    defunc_0_reduce_res_179340 = (int16_t) 0;
                }
                
                int64_t distance_179374 = add64((int64_t) 1, tmp_179372);
                int64_t binop_x_181454 = (int64_t) 8 * smallest_pow_2_geq_than_res_179308;
                int64_t bytes_181455 = block_sizze_179318 * binop_x_181454;
                int64_t binop_x_181457 = (int64_t) 2 * smallest_pow_2_geq_than_res_179308;
                int64_t bytes_181458 = block_sizze_179318 * binop_x_181457;
                int64_t bytes_181473 = (int64_t) 8 * block_sizze_179318;
                bool loop_cond_179500 = slt64(block_sizze_179318, flat_dim_179319);
                bool zzero_179501 = merge_block_sizze_179324 == (int64_t) 0;
                bool nonzzero_179502 = !zzero_179501;
                
                if (cond_179302) {
                    if (memblock_set(ctx, &ext_mem_181746, &mem_181447, "mem_181447") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &mem_181449, "mem_181449") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &mem_181451, "mem_181451") != 0)
                        return 1;
                } else {
                    if (mem_181453_cached_sizze_183012 < flat_dim_179319) {
                        err = lexical_realloc(ctx, &mem_181453, &mem_181453_cached_sizze_183012, flat_dim_179319);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181456_cached_sizze_183013 < bytes_181455) {
                        err = lexical_realloc(ctx, &mem_181456, &mem_181456_cached_sizze_183013, bytes_181455);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181459_cached_sizze_183014 < bytes_181458) {
                        err = lexical_realloc(ctx, &mem_181459, &mem_181459_cached_sizze_183014, bytes_181458);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181472_cached_sizze_183015 < block_sizze_179318) {
                        err = lexical_realloc(ctx, &mem_181472, &mem_181472_cached_sizze_183015, block_sizze_179318);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181474_cached_sizze_183016 < bytes_181473) {
                        err = lexical_realloc(ctx, &mem_181474, &mem_181474_cached_sizze_183016, bytes_181473);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181476_cached_sizze_183017 < greatest_divisor_leq_than_arg1_179323) {
                        err = lexical_realloc(ctx, &mem_181476, &mem_181476_cached_sizze_183017, greatest_divisor_leq_than_arg1_179323);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180719 = 0; i_180719 < smallest_pow_2_geq_than_res_179308; i_180719++) {
                        int64_t zp_lhs_179382 = mul64(block_sizze_179318, i_180719);
                        
                        for (int64_t i_180709 = 0; i_180709 < block_sizze_179318; i_180709++) {
                            int64_t k_179387 = add64(zp_lhs_179382, i_180709);
                            bool cond_179388 = slt64(k_179387, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257);
                            int8_t lifted_lambda_res_179389;
                            int64_t lifted_lambda_res_179390;
                            int16_t lifted_lambda_res_179391;
                            
                            if (cond_179388) {
                                bool x_179392 = sle64((int64_t) 0, k_179387);
                                bool bounds_check_179393 = cond_179388 && x_179392;
                                bool index_certs_179394;
                                
                                if (!bounds_check_179393) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_179387, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_179395 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256, k_179387);
                                int8_t index_concat_branch_179396 = btoi_bool_i8(index_concat_cmp_179395);
                                int64_t index_concat_branch_179397;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179398 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t index_primexp_179399 = add64(index_concat_branch_179242, index_concat_i_179398);
                                    
                                    index_concat_branch_179397 = index_primexp_179399;
                                } else {
                                    int64_t index_primexp_179400 = add64(index_concat_branch_179239, k_179387);
                                    
                                    index_concat_branch_179397 = index_primexp_179400;
                                }
                                
                                int16_t index_concat_branch_179401;
                                
                                if (index_concat_cmp_179395) {
                                    int64_t index_concat_i_179402 = sub64(k_179387, dzlz7bUZLzmZRz20U0z20U0z7dUzg_179256);
                                    int64_t slice_179403 = index_concat_branch_179242 + index_concat_i_179402;
                                    int64_t slice_179404 = p_175543 + slice_179403;
                                    int16_t index_concat_179405 = ((int16_t *) b_list_mem_181033.mem)[slice_179404];
                                    
                                    index_concat_branch_179401 = index_concat_179405;
                                } else {
                                    int64_t slice_179406 = index_concat_branch_179239 + k_179387;
                                    int64_t slice_179407 = p_175542 + slice_179406;
                                    int16_t index_concat_179408 = ((int16_t *) a_list_mem_181032.mem)[slice_179407];
                                    
                                    index_concat_branch_179401 = index_concat_179408;
                                }
                                lifted_lambda_res_179389 = index_concat_branch_179396;
                                lifted_lambda_res_179390 = index_concat_branch_179397;
                                lifted_lambda_res_179391 = index_concat_branch_179401;
                            } else {
                                lifted_lambda_res_179389 = defunc_0_reduce_res_179338;
                                lifted_lambda_res_179390 = defunc_0_reduce_res_179339;
                                lifted_lambda_res_179391 = defunc_0_reduce_res_179340;
                            }
                            ((int8_t *) mem_181472)[i_180709] = lifted_lambda_res_179389;
                            ((int64_t *) mem_181474)[i_180709] = lifted_lambda_res_179390;
                            ((int16_t *) mem_181476)[i_180709] = lifted_lambda_res_179391;
                        }
                        if (!cond_179371) {
                            for (int64_t i_179418 = 0; i_179418 < distance_179374; i_179418++) {
                                int64_t gt_arg1_179422 = add64((int64_t) 1, i_179418);
                                bool x_179423 = sle64((int64_t) 0, gt_arg1_179422);
                                bool y_179424 = slt64(gt_arg1_179422, block_sizze_179318);
                                bool bounds_check_179425 = x_179423 && y_179424;
                                bool index_certs_179426;
                                
                                if (!bounds_check_179425) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_179422, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_179430 = slt64(i_179418, block_sizze_179318);
                                bool index_certs_179431;
                                
                                if (!y_179430) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179418, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_179427 = ((int8_t *) mem_181472)[gt_arg1_179422];
                                int64_t gt_arg1_179428 = ((int64_t *) mem_181474)[gt_arg1_179422];
                                int16_t gt_arg1_179429 = ((int16_t *) mem_181476)[gt_arg1_179422];
                                int8_t gt_arg0_179432 = ((int8_t *) mem_181472)[i_179418];
                                int64_t gt_arg0_179433 = ((int64_t *) mem_181474)[i_179418];
                                int16_t gt_arg0_179434 = ((int16_t *) mem_181476)[i_179418];
                                bool cond_179435 = gt_arg0_179432 == gt_arg1_179427;
                                bool defunc_0_leq_res_t_res_179436 = sle64(gt_arg0_179433, gt_arg1_179428);
                                bool defunc_0_leq_res_179437 = sle16(gt_arg0_179434, gt_arg1_179429);
                                bool x_179438 = cond_179435 && defunc_0_leq_res_t_res_179436;
                                bool x_179439 = !cond_179435;
                                bool y_179440 = defunc_0_leq_res_179437 && x_179439;
                                bool defunc_0_leq_res_179441 = x_179438 || y_179440;
                                bool defunc_0_lifted_gt_res_179442 = !defunc_0_leq_res_179441;
                                bool s_179443;
                                int64_t s_179447;
                                bool loop_while_179448;
                                int64_t j_179452;
                                
                                loop_while_179448 = defunc_0_lifted_gt_res_179442;
                                j_179452 = i_179418;
                                while (loop_while_179448) {
                                    bool x_179453 = sle64((int64_t) 0, j_179452);
                                    bool y_179454 = slt64(j_179452, block_sizze_179318);
                                    bool bounds_check_179455 = x_179453 && y_179454;
                                    bool index_certs_179456;
                                    
                                    if (!bounds_check_179455) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179452, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_179460 = add64((int64_t) 1, j_179452);
                                    bool x_179461 = sle64((int64_t) 0, copy_arg0_179460);
                                    bool y_179462 = slt64(copy_arg0_179460, block_sizze_179318);
                                    bool bounds_check_179463 = x_179461 && y_179462;
                                    bool index_certs_179464;
                                    
                                    if (!bounds_check_179463) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_179460, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_179457 = ((int8_t *) mem_181472)[j_179452];
                                    int64_t copy_arg0_179458 = ((int64_t *) mem_181474)[j_179452];
                                    int16_t copy_arg0_179459 = ((int16_t *) mem_181476)[j_179452];
                                    int8_t copy_arg0_179465 = ((int8_t *) mem_181472)[copy_arg0_179460];
                                    int64_t copy_arg0_179466 = ((int64_t *) mem_181474)[copy_arg0_179460];
                                    int16_t copy_arg0_179467 = ((int16_t *) mem_181476)[copy_arg0_179460];
                                    
                                    ((int8_t *) mem_181472)[j_179452] = copy_arg0_179465;
                                    ((int64_t *) mem_181474)[j_179452] = copy_arg0_179466;
                                    ((int16_t *) mem_181476)[j_179452] = copy_arg0_179467;
                                    ((int8_t *) mem_181472)[copy_arg0_179460] = copy_arg0_179457;
                                    ((int64_t *) mem_181474)[copy_arg0_179460] = copy_arg0_179458;
                                    ((int16_t *) mem_181476)[copy_arg0_179460] = copy_arg0_179459;
                                    
                                    int64_t tmp_179474 = sub64(j_179452, (int64_t) 1);
                                    bool cond_179475 = sle64((int64_t) 0, tmp_179474);
                                    bool loop_cond_179476;
                                    
                                    if (cond_179475) {
                                        bool y_179480 = slt64(tmp_179474, block_sizze_179318);
                                        bool bounds_check_179481 = cond_179475 && y_179480;
                                        bool index_certs_179482;
                                        
                                        if (!bounds_check_179481) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179474, "] out of bounds for array of shape [", (long long) block_sizze_179318, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_179477 = ((int8_t *) mem_181472)[j_179452];
                                        int64_t gt_arg1_179478 = ((int64_t *) mem_181474)[j_179452];
                                        int16_t gt_arg1_179479 = ((int16_t *) mem_181476)[j_179452];
                                        int8_t gt_arg0_179483 = ((int8_t *) mem_181472)[tmp_179474];
                                        int64_t gt_arg0_179484 = ((int64_t *) mem_181474)[tmp_179474];
                                        int16_t gt_arg0_179485 = ((int16_t *) mem_181476)[tmp_179474];
                                        bool cond_179486 = gt_arg0_179483 == gt_arg1_179477;
                                        bool defunc_0_leq_res_t_res_179487 = sle64(gt_arg0_179484, gt_arg1_179478);
                                        bool defunc_0_leq_res_179488 = sle16(gt_arg0_179485, gt_arg1_179479);
                                        bool x_179489 = cond_179486 && defunc_0_leq_res_t_res_179487;
                                        bool x_179490 = !cond_179486;
                                        bool y_179491 = defunc_0_leq_res_179488 && x_179490;
                                        bool defunc_0_leq_res_179492 = x_179489 || y_179491;
                                        bool defunc_0_lifted_gt_res_179493 = !defunc_0_leq_res_179492;
                                        
                                        loop_cond_179476 = defunc_0_lifted_gt_res_179493;
                                    } else {
                                        loop_cond_179476 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182503 = loop_cond_179476;
                                    int64_t j_tmp_182507 = tmp_179474;
                                    
                                    loop_while_179448 = loop_while_tmp_182503;
                                    j_179452 = j_tmp_182507;
                                }
                                s_179443 = loop_while_179448;
                                s_179447 = j_179452;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181453, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181472, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181456, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181474, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181459, i_180719 * block_sizze_179318, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181476, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_179318});
                    }
                    if (memblock_alloc(ctx, &mem_181553, flat_dim_179319, "mem_181553")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181553.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint8_t *) mem_181453, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181557, bytes_181455, "mem_181557")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181557.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint64_t *) mem_181456, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    if (memblock_alloc(ctx, &mem_181561, bytes_181458, "mem_181561")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181561.mem, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (uint16_t *) mem_181459, (int64_t) 0, (int64_t []) {block_sizze_179318, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_179308, block_sizze_179318});
                    
                    int64_t data_179503;
                    bool data_179504;
                    int64_t data_179508;
                    int64_t loop_dz2084Uz2082U_179509;
                    bool loop_while_179510;
                    int64_t stride_179514;
                    
                    if (memblock_set(ctx, &mem_param_181565, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181568, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181571, &mem_181561, "mem_181561") != 0)
                        return 1;
                    loop_dz2084Uz2082U_179509 = flat_dim_179319;
                    loop_while_179510 = loop_cond_179500;
                    stride_179514 = block_sizze_179318;
                    while (loop_while_179510) {
                        int64_t next_stride_179515 = mul64((int64_t) 2, stride_179514);
                        bool zzero_179516 = next_stride_179515 == (int64_t) 0;
                        bool nonzzero_179517 = !zzero_179516;
                        bool nonzzero_cert_179518;
                        
                        if (!nonzzero_179517) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_179519 = sdiv64(flat_dim_179319, next_stride_179515);
                        bool bounds_invalid_upwards_179520 = slt64(num_merges_179519, (int64_t) 0);
                        bool valid_179521 = !bounds_invalid_upwards_179520;
                        bool range_valid_c_179522;
                        
                        if (!valid_179521) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_179519, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_179524 = sub64(next_stride_179515, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_179525 = sle64((int64_t) 0, m_179524);
                        bool cond_179527 = slt64(next_stride_179515, (int64_t) 10);
                        bool protect_assert_disj_179528 = nonzzero_179502 || cond_179527;
                        bool nonzzero_cert_179529;
                        
                        if (!protect_assert_disj_179528) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_179530 = smod_safe64(next_stride_179515, merge_block_sizze_179324);
                        bool num_blocks_179531 = zeze_lhs_179530 == (int64_t) 0;
                        bool protect_assert_disj_179532 = cond_179527 || num_blocks_179531;
                        bool assert_c_179533;
                        
                        if (!protect_assert_disj_179532) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_179534 = sdiv_safe64(next_stride_179515, merge_block_sizze_179324);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535 = add64((int64_t) 1, num_blocks_179534);
                        int64_t j_m_i_179536 = sub64(next_stride_179515, stride_179514);
                        int64_t flat_dim_179537 = merge_block_sizze_179324 * num_blocks_179534;
                        bool bounds_invalid_upwards_179538 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, (int64_t) 0);
                        bool empty_slice_179539 = j_m_i_179536 == (int64_t) 0;
                        int64_t m_179540 = sub64(j_m_i_179536, (int64_t) 1);
                        bool zzero_lte_i_179541 = sle64((int64_t) 0, stride_179514);
                        bool i_lte_j_179542 = sle64(stride_179514, next_stride_179515);
                        bool empty_slice_179543 = stride_179514 == (int64_t) 0;
                        int64_t m_179544 = sub64(stride_179514, (int64_t) 1);
                        bool bounds_invalid_upwards_179545 = slt64(num_blocks_179534, (int64_t) 0);
                        bool cond_179546 = slt64((int64_t) 0, stride_179514);
                        bool valid_179547 = !bounds_invalid_upwards_179538;
                        int64_t i_p_m_t_s_179548 = add64(stride_179514, m_179540);
                        bool zzero_leq_i_p_m_t_s_179549 = sle64((int64_t) 0, m_179544);
                        bool i_p_m_t_s_leq_w_179550 = slt64(m_179544, next_stride_179515);
                        bool valid_179551 = !bounds_invalid_upwards_179545;
                        bool i_p_m_t_s_leq_w_179552 = slt64(m_179524, flat_dim_179537);
                        bool y_179553 = slt64((int64_t) 0, j_m_i_179536);
                        bool protect_assert_disj_179554 = cond_179527 || valid_179547;
                        bool range_valid_c_179555;
                        
                        if (!protect_assert_disj_179554) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_179556 = sle64((int64_t) 0, i_p_m_t_s_179548);
                        bool i_p_m_t_s_leq_w_179557 = slt64(i_p_m_t_s_179548, next_stride_179515);
                        bool y_179558 = zzero_leq_i_p_m_t_s_179549 && i_p_m_t_s_leq_w_179550;
                        bool protect_assert_disj_179559 = cond_179527 || valid_179551;
                        bool range_valid_c_179560;
                        
                        if (!protect_assert_disj_179559) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_179534, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_179561 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179552;
                        bool y_179562 = zzero_lte_i_179541 && i_p_m_t_s_leq_w_179557;
                        bool forwards_ok_179563 = zzero_lte_i_179541 && y_179558;
                        bool ok_or_empty_179564 = zzero_179516 || y_179561;
                        bool protect_assert_disj_179565 = cond_179546 || y_179553;
                        bool y_179566 = zzero_leq_i_p_m_t_s_179556 && y_179562;
                        bool ok_or_empty_179567 = empty_slice_179543 || forwards_ok_179563;
                        bool protect_assert_disj_179568 = cond_179527 || ok_or_empty_179564;
                        bool index_certs_179569;
                        
                        if (!protect_assert_disj_179568) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) flat_dim_179537, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_179570 = !cond_179527;
                        bool protect_assert_disj_179571 = protect_assert_disj_179565 || loop_not_taken_179570;
                        bool index_certs_179572;
                        
                        if (!protect_assert_disj_179571) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_179573 = i_lte_j_179542 && y_179566;
                        bool protect_assert_disj_179574 = cond_179527 || ok_or_empty_179567;
                        bool index_certs_179575;
                        
                        if (!protect_assert_disj_179574) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179576 = ok_or_empty_179567 || loop_not_taken_179570;
                        bool index_certs_179577;
                        
                        if (!protect_assert_disj_179576) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_179514, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_179578 = empty_slice_179539 || forwards_ok_179573;
                        bool protect_assert_disj_179579 = cond_179527 || ok_or_empty_179578;
                        bool index_certs_179580;
                        
                        if (!protect_assert_disj_179579) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_179581 = loop_not_taken_179570 || ok_or_empty_179578;
                        bool index_certs_179582;
                        
                        if (!protect_assert_disj_179581) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_179514, ":] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181572 = next_stride_179515 * num_merges_179519;
                        int64_t binop_x_181574 = (int64_t) 8 * num_merges_179519;
                        int64_t bytes_181575 = next_stride_179515 * binop_x_181574;
                        int64_t binop_x_181577 = (int64_t) 2 * num_merges_179519;
                        int64_t bytes_181578 = next_stride_179515 * binop_x_181577;
                        bool i_lte_j_179526 = sle64((int64_t) 0, next_stride_179515);
                        
                        if (mem_181573_cached_sizze_183018 < bytes_181572) {
                            err = lexical_realloc(ctx, &mem_181573, &mem_181573_cached_sizze_183018, bytes_181572);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181576_cached_sizze_183019 < bytes_181575) {
                            err = lexical_realloc(ctx, &mem_181576, &mem_181576_cached_sizze_183019, bytes_181575);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181579_cached_sizze_183020 < bytes_181578) {
                            err = lexical_realloc(ctx, &mem_181579, &mem_181579_cached_sizze_183020, bytes_181578);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181592 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535;
                        int64_t binop_x_181610 = (int64_t) 8 * num_blocks_179534;
                        int64_t bytes_181611 = merge_block_sizze_179324 * binop_x_181610;
                        int64_t binop_x_181613 = (int64_t) 2 * num_blocks_179534;
                        int64_t bytes_181614 = merge_block_sizze_179324 * binop_x_181613;
                        int64_t bytes_181675 = (int64_t) 16 * stride_179514;
                        int64_t bytes_181677 = (int64_t) 4 * stride_179514;
                        
                        for (int64_t i_180746 = 0; i_180746 < num_merges_179519; i_180746++) {
                            int64_t start_179587 = mul64(next_stride_179515, i_180746);
                            int64_t j_m_i_179588 = sub64(loop_dz2084Uz2082U_179509, start_179587);
                            bool empty_slice_179589 = j_m_i_179588 == (int64_t) 0;
                            int64_t m_179590 = sub64(j_m_i_179588, (int64_t) 1);
                            int64_t i_p_m_t_s_179591 = add64(start_179587, m_179590);
                            bool zzero_leq_i_p_m_t_s_179592 = sle64((int64_t) 0, i_p_m_t_s_179591);
                            bool i_p_m_t_s_leq_w_179593 = slt64(i_p_m_t_s_179591, loop_dz2084Uz2082U_179509);
                            bool zzero_lte_i_179594 = sle64((int64_t) 0, start_179587);
                            bool i_lte_j_179595 = sle64(start_179587, loop_dz2084Uz2082U_179509);
                            bool y_179596 = i_p_m_t_s_leq_w_179593 && zzero_lte_i_179594;
                            bool y_179597 = zzero_leq_i_p_m_t_s_179592 && y_179596;
                            bool forwards_ok_179598 = i_lte_j_179595 && y_179597;
                            bool ok_or_empty_179599 = empty_slice_179589 || forwards_ok_179598;
                            bool index_certs_179600;
                            
                            if (!ok_or_empty_179599) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_179587, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_179509, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_179601 = slt64(m_179524, j_m_i_179588);
                            bool y_179602 = zzero_leq_i_p_m_t_s_179525 && i_p_m_t_s_leq_w_179601;
                            bool forwards_ok_179603 = i_lte_j_179526 && y_179602;
                            bool ok_or_empty_179604 = zzero_179516 || forwards_ok_179603;
                            bool index_certs_179605;
                            
                            if (!ok_or_empty_179604) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_179515, "] out of bounds for array of shape [", (long long) j_m_i_179588, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_179527) {
                                int8_t dummy_179609;
                                int64_t dummy_179610;
                                int16_t dummy_179611;
                                
                                if (cond_179546) {
                                    int8_t head_res_179612 = ((int8_t *) mem_param_181565.mem)[start_179587];
                                    int64_t head_res_179613 = ((int64_t *) mem_param_181568.mem)[start_179587];
                                    int16_t head_res_179614 = ((int16_t *) mem_param_181571.mem)[start_179587];
                                    
                                    dummy_179609 = head_res_179612;
                                    dummy_179610 = head_res_179613;
                                    dummy_179611 = head_res_179614;
                                } else {
                                    int64_t slice_179615 = stride_179514 + start_179587;
                                    int8_t head_res_179616 = ((int8_t *) mem_param_181565.mem)[slice_179615];
                                    int64_t head_res_179617 = ((int64_t *) mem_param_181568.mem)[slice_179615];
                                    int16_t head_res_179618 = ((int16_t *) mem_param_181571.mem)[slice_179615];
                                    
                                    dummy_179609 = head_res_179616;
                                    dummy_179610 = head_res_179617;
                                    dummy_179611 = head_res_179618;
                                }
                                if (memblock_alloc(ctx, &mem_181674, next_stride_179515, "mem_181674")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182520 = 0; nest_i_182520 < next_stride_179515; nest_i_182520++) {
                                    ((int8_t *) mem_181674.mem)[nest_i_182520] = dummy_179609;
                                }
                                if (memblock_alloc(ctx, &mem_181676, bytes_181675, "mem_181676")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182521 = 0; nest_i_182521 < next_stride_179515; nest_i_182521++) {
                                    ((int64_t *) mem_181676.mem)[nest_i_182521] = dummy_179610;
                                }
                                if (memblock_alloc(ctx, &mem_181678, bytes_181677, "mem_181678")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182522 = 0; nest_i_182522 < next_stride_179515; nest_i_182522++) {
                                    ((int16_t *) mem_181678.mem)[nest_i_182522] = dummy_179611;
                                }
                                
                                int64_t data_179622;
                                int64_t i_179627 = (int64_t) 0;
                                
                                for (int64_t k_179626 = 0; k_179626 < next_stride_179515; k_179626++) {
                                    int64_t j_179631 = sub64(k_179626, i_179627);
                                    bool cond_179632 = j_179631 == j_m_i_179536;
                                    bool cond_179633;
                                    
                                    if (cond_179632) {
                                        cond_179633 = 1;
                                    } else {
                                        bool cond_179634 = slt64(i_179627, stride_179514);
                                        bool cond_f_res_179635;
                                        
                                        if (cond_179634) {
                                            bool x_179636 = sle64((int64_t) 0, j_179631);
                                            bool y_179637 = slt64(j_179631, j_m_i_179536);
                                            bool bounds_check_179638 = x_179636 && y_179637;
                                            bool index_certs_179639;
                                            
                                            if (!bounds_check_179638) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_179645 = sle64((int64_t) 0, i_179627);
                                            bool bounds_check_179646 = cond_179634 && x_179645;
                                            bool index_certs_179647;
                                            
                                            if (!bounds_check_179646) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179640 = stride_179514 + j_179631;
                                            int64_t slice_179641 = start_179587 + slice_179640;
                                            int8_t leq_arg1_179642 = ((int8_t *) mem_param_181565.mem)[slice_179641];
                                            int64_t leq_arg1_179643 = ((int64_t *) mem_param_181568.mem)[slice_179641];
                                            int16_t leq_arg1_179644 = ((int16_t *) mem_param_181571.mem)[slice_179641];
                                            int64_t slice_179648 = start_179587 + i_179627;
                                            int8_t leq_arg0_179649 = ((int8_t *) mem_param_181565.mem)[slice_179648];
                                            int64_t leq_arg0_179650 = ((int64_t *) mem_param_181568.mem)[slice_179648];
                                            int16_t leq_arg0_179651 = ((int16_t *) mem_param_181571.mem)[slice_179648];
                                            bool cond_179652 = leq_arg0_179649 == leq_arg1_179642;
                                            bool defunc_0_leq_res_t_res_179653 = sle64(leq_arg0_179650, leq_arg1_179643);
                                            bool defunc_0_leq_res_179654 = sle16(leq_arg0_179651, leq_arg1_179644);
                                            bool x_179655 = cond_179652 && defunc_0_leq_res_t_res_179653;
                                            bool x_179656 = !cond_179652;
                                            bool y_179657 = defunc_0_leq_res_179654 && x_179656;
                                            bool defunc_0_leq_res_179658 = x_179655 || y_179657;
                                            
                                            cond_f_res_179635 = defunc_0_leq_res_179658;
                                        } else {
                                            cond_f_res_179635 = 0;
                                        }
                                        cond_179633 = cond_f_res_179635;
                                    }
                                    
                                    int64_t loopres_179659;
                                    int8_t loopres_179660;
                                    int64_t loopres_179661;
                                    int16_t loopres_179662;
                                    
                                    if (cond_179633) {
                                        bool x_179664 = sle64((int64_t) 0, i_179627);
                                        bool y_179665 = slt64(i_179627, stride_179514);
                                        bool bounds_check_179666 = x_179664 && y_179665;
                                        bool index_certs_179667;
                                        
                                        if (!bounds_check_179666) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179627, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_179663 = add64((int64_t) 1, i_179627);
                                        int64_t slice_179668 = start_179587 + i_179627;
                                        int8_t tmp_179669 = ((int8_t *) mem_param_181565.mem)[slice_179668];
                                        int64_t tmp_179670 = ((int64_t *) mem_param_181568.mem)[slice_179668];
                                        int16_t tmp_179671 = ((int16_t *) mem_param_181571.mem)[slice_179668];
                                        
                                        loopres_179659 = tmp_179663;
                                        loopres_179660 = tmp_179669;
                                        loopres_179661 = tmp_179670;
                                        loopres_179662 = tmp_179671;
                                    } else {
                                        bool x_179672 = sle64((int64_t) 0, j_179631);
                                        bool y_179673 = slt64(j_179631, j_m_i_179536);
                                        bool bounds_check_179674 = x_179672 && y_179673;
                                        bool index_certs_179675;
                                        
                                        if (!bounds_check_179674) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179631, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179676 = stride_179514 + j_179631;
                                        int64_t slice_179677 = start_179587 + slice_179676;
                                        int8_t tmp_179678 = ((int8_t *) mem_param_181565.mem)[slice_179677];
                                        int64_t tmp_179679 = ((int64_t *) mem_param_181568.mem)[slice_179677];
                                        int16_t tmp_179680 = ((int16_t *) mem_param_181571.mem)[slice_179677];
                                        
                                        loopres_179659 = i_179627;
                                        loopres_179660 = tmp_179678;
                                        loopres_179661 = tmp_179679;
                                        loopres_179662 = tmp_179680;
                                    }
                                    ((int8_t *) mem_181674.mem)[k_179626] = loopres_179660;
                                    ((int64_t *) mem_181676.mem)[k_179626] = loopres_179661;
                                    ((int16_t *) mem_181678.mem)[k_179626] = loopres_179662;
                                    
                                    int64_t i_tmp_182523 = loopres_179659;
                                    
                                    i_179627 = i_tmp_182523;
                                }
                                data_179622 = i_179627;
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181674, "mem_181674") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181676, "mem_181676") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181678, "mem_181678") != 0)
                                    return 1;
                            } else {
                                if (mem_181593_cached_sizze_183021 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181593, &mem_181593_cached_sizze_183021, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181595_cached_sizze_183022 < bytes_181592) {
                                    err = lexical_realloc(ctx, &mem_181595, &mem_181595_cached_sizze_183022, bytes_181592);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180727 = 0; i_180727 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535; i_180727++) {
                                    int64_t split_count_arg3_179688 = mul64(merge_block_sizze_179324, i_180727);
                                    int64_t defunc_0_split_count_res_179689;
                                    int64_t defunc_0_split_count_res_179690;
                                    int64_t defunc_0_split_count_res_179691;
                                    int64_t defunc_0_split_count_res_179692;
                                    int64_t defunc_0_split_count_res_179693;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_179689, &defunc_0_split_count_res_179690, &defunc_0_split_count_res_179691, &defunc_0_split_count_res_179692, &defunc_0_split_count_res_179693, (int64_t) 0, stride_179514, (int64_t) 0, j_m_i_179536, split_count_arg3_179688) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_179694 = slt64((int64_t) 0, defunc_0_split_count_res_179693);
                                    bool defunc_0_split_count_res_179695;
                                    int64_t defunc_0_split_count_res_179696;
                                    int64_t defunc_0_split_count_res_179697;
                                    int64_t defunc_0_split_count_res_179698;
                                    int64_t defunc_0_split_count_res_179699;
                                    int64_t defunc_0_split_count_res_179700;
                                    bool loop_while_179701;
                                    int64_t ss_179702;
                                    int64_t ss_179703;
                                    int64_t tt_179704;
                                    int64_t tt_179705;
                                    int64_t count_179706;
                                    
                                    loop_while_179701 = loop_cond_179694;
                                    ss_179702 = defunc_0_split_count_res_179689;
                                    ss_179703 = defunc_0_split_count_res_179690;
                                    tt_179704 = defunc_0_split_count_res_179691;
                                    tt_179705 = defunc_0_split_count_res_179692;
                                    count_179706 = defunc_0_split_count_res_179693;
                                    while (loop_while_179701) {
                                        int64_t zlze_lhs_179707 = sub64(ss_179703, ss_179702);
                                        bool cond_179708 = sle64(zlze_lhs_179707, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_179709;
                                        int64_t defunc_0_lifted_step_res_179710;
                                        int64_t defunc_0_lifted_step_res_179711;
                                        int64_t defunc_0_lifted_step_res_179712;
                                        
                                        if (cond_179708) {
                                            int64_t tmp_179713 = add64(tt_179704, count_179706);
                                            
                                            defunc_0_lifted_step_res_179709 = ss_179702;
                                            defunc_0_lifted_step_res_179710 = tmp_179713;
                                            defunc_0_lifted_step_res_179711 = tt_179705;
                                            defunc_0_lifted_step_res_179712 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_179714 = sub64(tt_179705, tt_179704);
                                            bool cond_179715 = sle64(zlze_lhs_179714, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_179716;
                                            int64_t defunc_0_lifted_step_res_f_res_179717;
                                            int64_t defunc_0_lifted_step_res_f_res_179718;
                                            int64_t defunc_0_lifted_step_res_f_res_179719;
                                            
                                            if (cond_179715) {
                                                int64_t tmp_179720 = add64(ss_179702, count_179706);
                                                
                                                defunc_0_lifted_step_res_f_res_179716 = tmp_179720;
                                                defunc_0_lifted_step_res_f_res_179717 = tt_179704;
                                                defunc_0_lifted_step_res_f_res_179718 = tt_179705;
                                                defunc_0_lifted_step_res_f_res_179719 = (int64_t) 0;
                                            } else {
                                                bool cond_179721 = count_179706 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179722;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179723;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179724;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_179725;
                                                
                                                if (cond_179721) {
                                                    bool x_179726 = sle64((int64_t) 0, ss_179702);
                                                    bool y_179727 = slt64(ss_179702, stride_179514);
                                                    bool bounds_check_179728 = x_179726 && y_179727;
                                                    bool index_certs_179729;
                                                    
                                                    if (!bounds_check_179728) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_179702, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_179734 = sle64((int64_t) 0, tt_179704);
                                                    bool y_179735 = slt64(tt_179704, j_m_i_179536);
                                                    bool bounds_check_179736 = x_179734 && y_179735;
                                                    bool index_certs_179737;
                                                    
                                                    if (!bounds_check_179736) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_179704, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_179730 = start_179587 + ss_179702;
                                                    int8_t leq_arg1_179731 = ((int8_t *) mem_param_181565.mem)[slice_179730];
                                                    int64_t leq_arg1_179732 = ((int64_t *) mem_param_181568.mem)[slice_179730];
                                                    int16_t leq_arg1_179733 = ((int16_t *) mem_param_181571.mem)[slice_179730];
                                                    int64_t slice_179738 = stride_179514 + tt_179704;
                                                    int64_t slice_179739 = start_179587 + slice_179738;
                                                    int8_t leq_arg0_179740 = ((int8_t *) mem_param_181565.mem)[slice_179739];
                                                    int64_t leq_arg0_179741 = ((int64_t *) mem_param_181568.mem)[slice_179739];
                                                    int16_t leq_arg0_179742 = ((int16_t *) mem_param_181571.mem)[slice_179739];
                                                    bool cond_179743 = leq_arg0_179740 == leq_arg1_179731;
                                                    bool defunc_0_leq_res_t_res_179744 = sle64(leq_arg0_179741, leq_arg1_179732);
                                                    bool defunc_0_leq_res_179745 = sle16(leq_arg0_179742, leq_arg1_179733);
                                                    bool x_179746 = cond_179743 && defunc_0_leq_res_t_res_179744;
                                                    bool x_179747 = !cond_179743;
                                                    bool y_179748 = defunc_0_leq_res_179745 && x_179747;
                                                    bool defunc_0_leq_res_179749 = x_179746 || y_179748;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    
                                                    if (defunc_0_leq_res_179749) {
                                                        int64_t tmp_179752 = add64((int64_t) 1, tt_179704);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = ss_179702;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tmp_179752;
                                                    } else {
                                                        int64_t tmp_179753 = add64((int64_t) 1, ss_179702);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179750 = tmp_179753;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_179751 = tt_179704;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = defunc_0_lifted_step_res_f_res_f_res_t_res_179750;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_t_res_179751;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = tt_179705;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = (int64_t) 0;
                                                } else {
                                                    int64_t m_179754 = sdiv64(count_179706, (int64_t) 2);
                                                    int64_t n_179755 = sub64(count_179706, m_179754);
                                                    bool cond_179756 = n_179755 == (int64_t) 0;
                                                    int64_t zgze_lhs_179757 = add64(ss_179702, m_179754);
                                                    bool cond_f_res_179758 = sle64(ss_179703, zgze_lhs_179757);
                                                    bool x_179759 = !cond_179756;
                                                    bool y_179760 = cond_f_res_179758 && x_179759;
                                                    bool cond_179761 = cond_179756 || y_179760;
                                                    bool leq_y_x_179762;
                                                    
                                                    if (cond_179761) {
                                                        leq_y_x_179762 = 1;
                                                    } else {
                                                        bool x_179763 = sle64((int64_t) 0, zgze_lhs_179757);
                                                        bool y_179764 = slt64(zgze_lhs_179757, stride_179514);
                                                        bool bounds_check_179765 = x_179763 && y_179764;
                                                        bool index_certs_179766;
                                                        
                                                        if (!bounds_check_179765) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_179757, "] out of bounds for array of shape [", (long long) stride_179514, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_179771 = add64(tt_179704, n_179755);
                                                        int64_t leq_arg0_179772 = sub64(zm_lhs_179771, (int64_t) 1);
                                                        bool x_179773 = sle64((int64_t) 0, leq_arg0_179772);
                                                        bool y_179774 = slt64(leq_arg0_179772, j_m_i_179536);
                                                        bool bounds_check_179775 = x_179773 && y_179774;
                                                        bool index_certs_179776;
                                                        
                                                        if (!bounds_check_179775) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_179772, "] out of bounds for array of shape [", (long long) j_m_i_179536, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 /prelude/functional.fut:9:44-45\n   #12 ftsort.fut:371:63-73\n   #13 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_179767 = start_179587 + zgze_lhs_179757;
                                                        int8_t leq_arg1_179768 = ((int8_t *) mem_param_181565.mem)[slice_179767];
                                                        int64_t leq_arg1_179769 = ((int64_t *) mem_param_181568.mem)[slice_179767];
                                                        int16_t leq_arg1_179770 = ((int16_t *) mem_param_181571.mem)[slice_179767];
                                                        int64_t slice_179777 = stride_179514 + leq_arg0_179772;
                                                        int64_t slice_179778 = start_179587 + slice_179777;
                                                        int8_t leq_arg0_179779 = ((int8_t *) mem_param_181565.mem)[slice_179778];
                                                        int64_t leq_arg0_179780 = ((int64_t *) mem_param_181568.mem)[slice_179778];
                                                        int16_t leq_arg0_179781 = ((int16_t *) mem_param_181571.mem)[slice_179778];
                                                        bool cond_179782 = leq_arg0_179779 == leq_arg1_179768;
                                                        bool defunc_0_leq_res_t_res_179783 = sle64(leq_arg0_179780, leq_arg1_179769);
                                                        bool defunc_0_leq_res_179784 = sle16(leq_arg0_179781, leq_arg1_179770);
                                                        bool x_179785 = cond_179782 && defunc_0_leq_res_t_res_179783;
                                                        bool x_179786 = !cond_179782;
                                                        bool y_179787 = defunc_0_leq_res_179784 && x_179786;
                                                        bool defunc_0_leq_res_179788 = x_179785 || y_179787;
                                                        
                                                        leq_y_x_179762 = defunc_0_leq_res_179788;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                    
                                                    if (leq_y_x_179762) {
                                                        int64_t tmp_179792 = add64(tt_179704, n_179755);
                                                        int64_t tmp_179793 = sub64(count_179706, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tmp_179792;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tt_179705;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = tmp_179793;
                                                    } else {
                                                        int64_t tmp_179794 = add64(tt_179704, n_179755);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179789 = tt_179704;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179790 = tmp_179794;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_179791 = count_179706;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_179722 = ss_179702;
                                                    defunc_0_lifted_step_res_f_res_f_res_179723 = defunc_0_lifted_step_res_f_res_f_res_f_res_179789;
                                                    defunc_0_lifted_step_res_f_res_f_res_179724 = defunc_0_lifted_step_res_f_res_f_res_f_res_179790;
                                                    defunc_0_lifted_step_res_f_res_f_res_179725 = defunc_0_lifted_step_res_f_res_f_res_f_res_179791;
                                                }
                                                defunc_0_lifted_step_res_f_res_179716 = defunc_0_lifted_step_res_f_res_f_res_179722;
                                                defunc_0_lifted_step_res_f_res_179717 = defunc_0_lifted_step_res_f_res_f_res_179723;
                                                defunc_0_lifted_step_res_f_res_179718 = defunc_0_lifted_step_res_f_res_f_res_179724;
                                                defunc_0_lifted_step_res_f_res_179719 = defunc_0_lifted_step_res_f_res_f_res_179725;
                                            }
                                            defunc_0_lifted_step_res_179709 = defunc_0_lifted_step_res_f_res_179716;
                                            defunc_0_lifted_step_res_179710 = defunc_0_lifted_step_res_f_res_179717;
                                            defunc_0_lifted_step_res_179711 = defunc_0_lifted_step_res_f_res_179718;
                                            defunc_0_lifted_step_res_179712 = defunc_0_lifted_step_res_f_res_179719;
                                        }
                                        
                                        int64_t loopres_179795;
                                        int64_t loopres_179796;
                                        int64_t loopres_179797;
                                        int64_t loopres_179798;
                                        int64_t loopres_179799;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_179795, &loopres_179796, &loopres_179797, &loopres_179798, &loopres_179799, defunc_0_lifted_step_res_179709, ss_179703, defunc_0_lifted_step_res_179710, defunc_0_lifted_step_res_179711, defunc_0_lifted_step_res_179712) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_179800 = slt64((int64_t) 0, loopres_179799);
                                        bool loop_while_tmp_182529 = loop_cond_179800;
                                        int64_t ss_tmp_182530 = loopres_179795;
                                        int64_t ss_tmp_182531 = loopres_179796;
                                        int64_t tt_tmp_182532 = loopres_179797;
                                        int64_t tt_tmp_182533 = loopres_179798;
                                        int64_t count_tmp_182534 = loopres_179799;
                                        
                                        loop_while_179701 = loop_while_tmp_182529;
                                        ss_179702 = ss_tmp_182530;
                                        ss_179703 = ss_tmp_182531;
                                        tt_179704 = tt_tmp_182532;
                                        tt_179705 = tt_tmp_182533;
                                        count_179706 = count_tmp_182534;
                                    }
                                    defunc_0_split_count_res_179695 = loop_while_179701;
                                    defunc_0_split_count_res_179696 = ss_179702;
                                    defunc_0_split_count_res_179697 = ss_179703;
                                    defunc_0_split_count_res_179698 = tt_179704;
                                    defunc_0_split_count_res_179699 = tt_179705;
                                    defunc_0_split_count_res_179700 = count_179706;
                                    ((int64_t *) mem_181593)[i_180727] = defunc_0_split_count_res_179696;
                                    ((int64_t *) mem_181595)[i_180727] = defunc_0_split_count_res_179698;
                                }
                                if (mem_181609_cached_sizze_183023 < flat_dim_179537) {
                                    err = lexical_realloc(ctx, &mem_181609, &mem_181609_cached_sizze_183023, flat_dim_179537);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181612_cached_sizze_183024 < bytes_181611) {
                                    err = lexical_realloc(ctx, &mem_181612, &mem_181612_cached_sizze_183024, bytes_181611);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181615_cached_sizze_183025 < bytes_181614) {
                                    err = lexical_realloc(ctx, &mem_181615, &mem_181615_cached_sizze_183025, bytes_181614);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180736 = 0; i_180736 < num_blocks_179534; i_180736++) {
                                    bool y_179809 = slt64(i_180736, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool index_certs_179811;
                                    
                                    if (!y_179809) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180736, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179812 = ((int64_t *) mem_181593)[i_180736];
                                    int64_t defunc_0_f_res_179813 = ((int64_t *) mem_181595)[i_180736];
                                    int64_t tmp_179814 = add64((int64_t) 1, i_180736);
                                    bool x_179815 = sle64((int64_t) 0, tmp_179814);
                                    bool y_179816 = slt64(tmp_179814, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535);
                                    bool bounds_check_179817 = x_179815 && y_179816;
                                    bool index_certs_179818;
                                    
                                    if (!bounds_check_179817) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_179814, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_179535, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_179819 = ((int64_t *) mem_181593)[tmp_179814];
                                    int64_t defunc_0_f_res_179820 = ((int64_t *) mem_181595)[tmp_179814];
                                    int64_t merge_sequential_arg2_179821 = add64(stride_179514, defunc_0_f_res_179813);
                                    int64_t merge_sequential_arg2_179822 = add64(stride_179514, defunc_0_f_res_179820);
                                    int64_t j_m_i_179823 = sub64(merge_sequential_arg2_179822, merge_sequential_arg2_179821);
                                    bool empty_slice_179824 = j_m_i_179823 == (int64_t) 0;
                                    int64_t m_179825 = sub64(j_m_i_179823, (int64_t) 1);
                                    int64_t i_p_m_t_s_179826 = add64(merge_sequential_arg2_179821, m_179825);
                                    bool zzero_leq_i_p_m_t_s_179827 = sle64((int64_t) 0, i_p_m_t_s_179826);
                                    bool i_p_m_t_s_leq_w_179828 = slt64(i_p_m_t_s_179826, next_stride_179515);
                                    bool zzero_lte_i_179829 = sle64((int64_t) 0, merge_sequential_arg2_179821);
                                    bool i_lte_j_179830 = sle64(merge_sequential_arg2_179821, merge_sequential_arg2_179822);
                                    bool y_179831 = i_p_m_t_s_leq_w_179828 && zzero_lte_i_179829;
                                    bool y_179832 = zzero_leq_i_p_m_t_s_179827 && y_179831;
                                    bool forwards_ok_179833 = i_lte_j_179830 && y_179832;
                                    bool ok_or_empty_179834 = empty_slice_179824 || forwards_ok_179833;
                                    bool index_certs_179835;
                                    
                                    if (!ok_or_empty_179834) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_179821, ":", (long long) merge_sequential_arg2_179822, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_179836 = sub64(defunc_0_f_res_179819, defunc_0_f_res_179812);
                                    bool empty_slice_179837 = j_m_i_179836 == (int64_t) 0;
                                    int64_t m_179838 = sub64(j_m_i_179836, (int64_t) 1);
                                    int64_t i_p_m_t_s_179839 = add64(defunc_0_f_res_179812, m_179838);
                                    bool zzero_leq_i_p_m_t_s_179840 = sle64((int64_t) 0, i_p_m_t_s_179839);
                                    bool i_p_m_t_s_leq_w_179841 = slt64(i_p_m_t_s_179839, next_stride_179515);
                                    bool zzero_lte_i_179842 = sle64((int64_t) 0, defunc_0_f_res_179812);
                                    bool i_lte_j_179843 = sle64(defunc_0_f_res_179812, defunc_0_f_res_179819);
                                    bool y_179844 = i_p_m_t_s_leq_w_179841 && zzero_lte_i_179842;
                                    bool y_179845 = zzero_leq_i_p_m_t_s_179840 && y_179844;
                                    bool forwards_ok_179846 = i_lte_j_179843 && y_179845;
                                    bool ok_or_empty_179847 = empty_slice_179837 || forwards_ok_179846;
                                    bool index_certs_179848;
                                    
                                    if (!ok_or_empty_179847) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_179812, ":", (long long) defunc_0_f_res_179819, "] out of bounds for array of shape [", (long long) next_stride_179515, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_179849 = slt64((int64_t) 0, j_m_i_179836);
                                    int8_t dummy_179850;
                                    int64_t dummy_179851;
                                    int16_t dummy_179852;
                                    
                                    if (cond_179849) {
                                        bool index_certs_179853;
                                        
                                        if (!cond_179849) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179854 = start_179587 + defunc_0_f_res_179812;
                                        int8_t head_res_179855 = ((int8_t *) mem_param_181565.mem)[slice_179854];
                                        int64_t head_res_179856 = ((int64_t *) mem_param_181568.mem)[slice_179854];
                                        int16_t head_res_179857 = ((int16_t *) mem_param_181571.mem)[slice_179854];
                                        
                                        dummy_179850 = head_res_179855;
                                        dummy_179851 = head_res_179856;
                                        dummy_179852 = head_res_179857;
                                    } else {
                                        bool y_179858 = slt64((int64_t) 0, j_m_i_179823);
                                        bool index_certs_179859;
                                        
                                        if (!y_179858) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_179860 = start_179587 + merge_sequential_arg2_179821;
                                        int8_t head_res_179861 = ((int8_t *) mem_param_181565.mem)[slice_179860];
                                        int64_t head_res_179862 = ((int64_t *) mem_param_181568.mem)[slice_179860];
                                        int16_t head_res_179863 = ((int16_t *) mem_param_181571.mem)[slice_179860];
                                        
                                        dummy_179850 = head_res_179861;
                                        dummy_179851 = head_res_179862;
                                        dummy_179852 = head_res_179863;
                                    }
                                    for (int64_t nest_i_182538 = 0; nest_i_182538 < merge_block_sizze_179324; nest_i_182538++) {
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + nest_i_182538] = dummy_179850;
                                    }
                                    for (int64_t nest_i_182539 = 0; nest_i_182539 < merge_block_sizze_179324; nest_i_182539++) {
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + nest_i_182539] = dummy_179851;
                                    }
                                    for (int64_t nest_i_182540 = 0; nest_i_182540 < merge_block_sizze_179324; nest_i_182540++) {
                                        ((int16_t *) mem_181615)[i_180736 * merge_block_sizze_179324 + nest_i_182540] = dummy_179852;
                                    }
                                    
                                    int64_t data_179867;
                                    int64_t i_179872 = (int64_t) 0;
                                    
                                    for (int64_t k_179871 = 0; k_179871 < merge_block_sizze_179324; k_179871++) {
                                        int64_t j_179876 = sub64(k_179871, i_179872);
                                        bool cond_179877 = j_179876 == j_m_i_179823;
                                        bool cond_179878;
                                        
                                        if (cond_179877) {
                                            cond_179878 = 1;
                                        } else {
                                            bool cond_179879 = slt64(i_179872, j_m_i_179836);
                                            bool cond_f_res_179880;
                                            
                                            if (cond_179879) {
                                                bool x_179881 = sle64((int64_t) 0, j_179876);
                                                bool y_179882 = slt64(j_179876, j_m_i_179823);
                                                bool bounds_check_179883 = x_179881 && y_179882;
                                                bool index_certs_179884;
                                                
                                                if (!bounds_check_179883) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_179890 = sle64((int64_t) 0, i_179872);
                                                bool bounds_check_179891 = cond_179879 && x_179890;
                                                bool index_certs_179892;
                                                
                                                if (!bounds_check_179891) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_179885 = merge_sequential_arg2_179821 + j_179876;
                                                int64_t slice_179886 = start_179587 + slice_179885;
                                                int8_t leq_arg1_179887 = ((int8_t *) mem_param_181565.mem)[slice_179886];
                                                int64_t leq_arg1_179888 = ((int64_t *) mem_param_181568.mem)[slice_179886];
                                                int16_t leq_arg1_179889 = ((int16_t *) mem_param_181571.mem)[slice_179886];
                                                int64_t slice_179893 = defunc_0_f_res_179812 + i_179872;
                                                int64_t slice_179894 = start_179587 + slice_179893;
                                                int8_t leq_arg0_179895 = ((int8_t *) mem_param_181565.mem)[slice_179894];
                                                int64_t leq_arg0_179896 = ((int64_t *) mem_param_181568.mem)[slice_179894];
                                                int16_t leq_arg0_179897 = ((int16_t *) mem_param_181571.mem)[slice_179894];
                                                bool cond_179898 = leq_arg0_179895 == leq_arg1_179887;
                                                bool defunc_0_leq_res_t_res_179899 = sle64(leq_arg0_179896, leq_arg1_179888);
                                                bool defunc_0_leq_res_179900 = sle16(leq_arg0_179897, leq_arg1_179889);
                                                bool x_179901 = cond_179898 && defunc_0_leq_res_t_res_179899;
                                                bool x_179902 = !cond_179898;
                                                bool y_179903 = defunc_0_leq_res_179900 && x_179902;
                                                bool defunc_0_leq_res_179904 = x_179901 || y_179903;
                                                
                                                cond_f_res_179880 = defunc_0_leq_res_179904;
                                            } else {
                                                cond_f_res_179880 = 0;
                                            }
                                            cond_179878 = cond_f_res_179880;
                                        }
                                        
                                        int64_t loopres_179905;
                                        int8_t loopres_179906;
                                        int64_t loopres_179907;
                                        int16_t loopres_179908;
                                        
                                        if (cond_179878) {
                                            bool x_179910 = sle64((int64_t) 0, i_179872);
                                            bool y_179911 = slt64(i_179872, j_m_i_179836);
                                            bool bounds_check_179912 = x_179910 && y_179911;
                                            bool index_certs_179913;
                                            
                                            if (!bounds_check_179912) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_179872, "] out of bounds for array of shape [", (long long) j_m_i_179836, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_179909 = add64((int64_t) 1, i_179872);
                                            int64_t slice_179914 = defunc_0_f_res_179812 + i_179872;
                                            int64_t slice_179915 = start_179587 + slice_179914;
                                            int8_t tmp_179916 = ((int8_t *) mem_param_181565.mem)[slice_179915];
                                            int64_t tmp_179917 = ((int64_t *) mem_param_181568.mem)[slice_179915];
                                            int16_t tmp_179918 = ((int16_t *) mem_param_181571.mem)[slice_179915];
                                            
                                            loopres_179905 = tmp_179909;
                                            loopres_179906 = tmp_179916;
                                            loopres_179907 = tmp_179917;
                                            loopres_179908 = tmp_179918;
                                        } else {
                                            bool x_179919 = sle64((int64_t) 0, j_179876);
                                            bool y_179920 = slt64(j_179876, j_m_i_179823);
                                            bool bounds_check_179921 = x_179919 && y_179920;
                                            bool index_certs_179922;
                                            
                                            if (!bounds_check_179921) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_179876, "] out of bounds for array of shape [", (long long) j_m_i_179823, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_179923 = merge_sequential_arg2_179821 + j_179876;
                                            int64_t slice_179924 = start_179587 + slice_179923;
                                            int8_t tmp_179925 = ((int8_t *) mem_param_181565.mem)[slice_179924];
                                            int64_t tmp_179926 = ((int64_t *) mem_param_181568.mem)[slice_179924];
                                            int16_t tmp_179927 = ((int16_t *) mem_param_181571.mem)[slice_179924];
                                            
                                            loopres_179905 = i_179872;
                                            loopres_179906 = tmp_179925;
                                            loopres_179907 = tmp_179926;
                                            loopres_179908 = tmp_179927;
                                        }
                                        ((int8_t *) mem_181609)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179906;
                                        ((int64_t *) mem_181612)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179907;
                                        ((int16_t *) mem_181615)[i_180736 * merge_block_sizze_179324 + k_179871] = loopres_179908;
                                        
                                        int64_t i_tmp_182541 = loopres_179905;
                                        
                                        i_179872 = i_tmp_182541;
                                    }
                                    data_179867 = i_179872;
                                }
                                if (memblock_alloc(ctx, &mem_181664, flat_dim_179537, "mem_181664")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181664.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint8_t *) mem_181609, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181668, bytes_181611, "mem_181668")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181668.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint64_t *) mem_181612, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_alloc(ctx, &mem_181672, bytes_181614, "mem_181672")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_181672.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (uint16_t *) mem_181615, (int64_t) 0, (int64_t []) {merge_block_sizze_179324, (int64_t) 1}, (int64_t []) {num_blocks_179534, merge_block_sizze_179324});
                                if (memblock_set(ctx, &ext_mem_181705, &mem_181664, "mem_181664") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181702, &mem_181668, "mem_181668") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181699, &mem_181672, "mem_181672") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181573, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181705.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181576, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181702.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181579, i_180746 * next_stride_179515, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181699.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_179515});
                            if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181719, bytes_181572, "mem_181719")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181719.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint8_t *) mem_181573, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181723, bytes_181575, "mem_181723")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181723.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint64_t *) mem_181576, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        if (memblock_alloc(ctx, &mem_181727, bytes_181578, "mem_181727")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181727.mem, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (uint16_t *) mem_181579, (int64_t) 0, (int64_t []) {next_stride_179515, (int64_t) 1}, (int64_t []) {num_merges_179519, next_stride_179515});
                        
                        bool loop_cond_179947 = slt64(next_stride_179515, flat_dim_179319);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182508, &mem_181719, "mem_181719") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182509, &mem_181723, "mem_181723") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182510, &mem_181727, "mem_181727") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182511 = bytes_181572;
                        bool loop_while_tmp_182512 = loop_cond_179947;
                        int64_t stride_tmp_182516 = next_stride_179515;
                        
                        if (memblock_set(ctx, &mem_param_181565, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181568, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181571, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
                            return 1;
                        loop_dz2084Uz2082U_179509 = loop_dz2084Uz2082U_tmp_182511;
                        loop_while_179510 = loop_while_tmp_182512;
                        stride_179514 = stride_tmp_182516;
                    }
                    if (memblock_set(ctx, &ext_mem_181737, &mem_param_181565, "mem_param_181565") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181736, &mem_param_181568, "mem_param_181568") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181735, &mem_param_181571, "mem_param_181571") != 0)
                        return 1;
                    data_179503 = loop_dz2084Uz2082U_179509;
                    data_179504 = loop_while_179510;
                    data_179508 = stride_179514;
                    if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
                        return 1;
                    
                    bool empty_slice_179948 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_179949 = sle64((int64_t) 0, zs_lhs_179303);
                    bool i_p_m_t_s_leq_w_179950 = slt64(zs_lhs_179303, data_179503);
                    bool y_179951 = zzero_leq_i_p_m_t_s_179949 && i_p_m_t_s_leq_w_179950;
                    bool ok_or_empty_179952 = empty_slice_179948 || y_179951;
                    bool index_certs_179953;
                    
                    if (!ok_or_empty_179952) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257, "] out of bounds for array of shape [", (long long) data_179503, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  /prelude/functional.fut:9:44-45\n   #5  ftsort.fut:371:63-73\n   #6  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181746, &ext_mem_181737, "ext_mem_181737") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181743, &ext_mem_181736, "ext_mem_181736") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181740, &ext_mem_181735, "ext_mem_181735") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181413, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181746.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181416, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181743.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181419, i_180762 * perThread_175580, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181740.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_179257});
                if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
                    return 1;
                for (int64_t i_180752 = 0; i_180752 < perThread_175580; i_180752++) {
                    int64_t lifted_lambda_res_179975 = add64(zm_rhs_179259, i_180752);
                    
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + i_180752] = lifted_lambda_res_179975;
                }
                
                bool cond_179977 = card_179260 == zp_rhs_175579;
                
                if (cond_179977) {
                    bool y_179979 = slt64(card_179260, perThread_175580);
                    bool index_certs_179980;
                    
                    if (!y_179979) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) card_179260, "] out of bounds for array of shape [", (long long) perThread_175580, "].", "-> #0  ftsort.fut:290:46-71\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:371:63-73\n   #3  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    ((int64_t *) mem_181411)[i_180762 * perThread_175580 + card_179260] = (int64_t) -1;
                }
            }
            if (memblock_alloc(ctx, &mem_181772, bytes_181067, "mem_181772")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182546 = 0; nest_i_182546 < window_sizze_121186; nest_i_182546++) {
                ((int16_t *) mem_181772.mem)[nest_i_182546] = (int16_t) 0;
            }
            if (memblock_alloc(ctx, &mem_181774, bytes_181065, "mem_181774")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182547 = 0; nest_i_182547 < window_sizze_121186; nest_i_182547++) {
                ((int64_t *) mem_181774.mem)[nest_i_182547] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181775, window_sizze_121186, "mem_181775")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182548 = 0; nest_i_182548 < window_sizze_121186; nest_i_182548++) {
                ((int8_t *) mem_181775.mem)[nest_i_182548] = (int8_t) -1;
            }
            for (int64_t write_iter_180767 = 0; write_iter_180767 < dzlz7bUZLztZRz20Uthreadsz20UperThreadz7dUzg_175581; write_iter_180767++) {
                int64_t new_index_180919 = squot64(write_iter_180767, perThread_175580);
                int64_t binop_y_180921 = perThread_175580 * new_index_180919;
                int64_t new_index_180922 = write_iter_180767 - binop_y_180921;
                int64_t write_iv_180771 = ((int64_t *) mem_181411)[new_index_180919 * perThread_175580 + new_index_180922];
                int8_t write_iv_180772 = ((int8_t *) mem_181413)[new_index_180919 * perThread_175580 + new_index_180922];
                int64_t write_iv_180773 = ((int64_t *) mem_181416)[new_index_180919 * perThread_175580 + new_index_180922];
                int16_t write_iv_180774 = ((int16_t *) mem_181419)[new_index_180919 * perThread_175580 + new_index_180922];
                
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_121186)) {
                    ((int8_t *) mem_181775.mem)[write_iv_180771] = write_iv_180772;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_121186)) {
                    ((int64_t *) mem_181774.mem)[write_iv_180771] = write_iv_180773;
                }
                if (sle64((int64_t) 0, write_iv_180771) && slt64(write_iv_180771, window_sizze_121186)) {
                    ((int16_t *) mem_181772.mem)[write_iv_180771] = write_iv_180774;
                }
            }
            
            int64_t index_concat_branch_180003;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180004 = ((int64_t *) mem_181394)[index_concat_i_178344];
                
                index_concat_branch_180003 = index_concat_180004;
            } else {
                index_concat_branch_180003 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_180005;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180006 = ((int64_t *) mem_181396)[index_concat_i_178344];
                
                index_concat_branch_180005 = index_concat_180006;
            } else {
                index_concat_branch_180005 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181775, "mem_181775") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181774, "mem_181774") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181772, "mem_181772") != 0)
                return 1;
            loopres_175570 = index_concat_branch_180003;
            loopres_175571 = index_concat_branch_180005;
        } else {
            int16_t leq_lhs_176561 = ((int16_t *) a_list_mem_181032.mem)[p_175542];
            int16_t leq_rhs_176564 = ((int16_t *) b_list_mem_181033.mem)[p_175543];
            bool defunc_0_leq_res_176565 = sle16(leq_lhs_176561, leq_rhs_176564);
            int16_t lowest_176566;
            
            if (defunc_0_leq_res_176565) {
                bool index_certs_180007;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:155:44-49\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_lhs_176561;
            } else {
                bool index_certs_176571;
                
                if (!y_176559) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:155:55-60\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                lowest_176566 = leq_rhs_176564;
            }
            if (mem_181049_cached_sizze_182990 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_182990, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181051_cached_sizze_182991 < bytes_181048) {
                err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_182991, bytes_181048);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            for (int64_t i_180782 = 0; i_180782 < threads_121187; i_180782++) {
                int64_t index_primexp_180998 = add64((int64_t) 1, i_180782);
                int64_t zs_lhs_176587 = mul64(zt_rhs_176580, index_primexp_180998);
                int64_t index_176588 = sdiv64(zs_lhs_176587, partitionFunc_arg0_176557);
                bool cond_176589 = slt64(window_sizze_121186, index_176588);
                int64_t loop_over_176590;
                
                if (cond_176589) {
                    loop_over_176590 = window_sizze_121186;
                } else {
                    loop_over_176590 = index_176588;
                }
                
                int64_t loop_over_176591;
                
                if (cond_176589) {
                    int64_t loop_over_t_res_180008 = sub64(index_176588, window_sizze_121186);
                    
                    loop_over_176591 = loop_over_t_res_180008;
                } else {
                    loop_over_176591 = (int64_t) 0;
                }
                
                int64_t loop_over_176593;
                
                if (cond_176589) {
                    int64_t zm_lhs_180009 = sub64(index_176588, window_sizze_121186);
                    int64_t loop_over_t_res_180010 = sub64(zm_lhs_180009, (int64_t) 1);
                    
                    loop_over_176593 = loop_over_t_res_180010;
                } else {
                    loop_over_176593 = (int64_t) 0;
                }
                
                bool defunc_0_f_res_176596;
                int64_t defunc_0_f_res_176597;
                int64_t defunc_0_f_res_176598;
                int64_t defunc_0_f_res_176599;
                bool loop_while_176600;
                int64_t p_176601;
                int64_t p_176602;
                int64_t p_176603;
                
                loop_while_176600 = 1;
                p_176601 = loop_over_176593;
                p_176602 = loop_over_176590;
                p_176603 = loop_over_176591;
                while (loop_while_176600) {
                    int64_t zs_lhs_176604 = sub64(p_176602, p_176601);
                    int64_t offset_176605 = sdiv64(zs_lhs_176604, (int64_t) 2);
                    int64_t ai_176606 = sub64(p_176602, offset_176605);
                    int64_t max_arg1_176607 = add64(p_176603, offset_176605);
                    int64_t max_res_176608 = smax64((int64_t) 0, max_arg1_176607);
                    bool cond_176609 = slt64((int64_t) 0, max_res_176608);
                    int16_t b_prev_176610;
                    
                    if (cond_176609) {
                        int64_t tmp_180011 = sub64(max_res_176608, (int64_t) 1);
                        bool x_180012 = sle64((int64_t) 0, tmp_180011);
                        bool y_180013 = slt64(tmp_180011, window_sizze_121186);
                        bool bounds_check_180014 = x_180012 && y_180013;
                        bool index_certs_180015;
                        
                        if (!bounds_check_180014) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180011, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:173:37-45\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t slice_180016 = p_175543 + tmp_180011;
                        int16_t b_prev_t_res_180017 = ((int16_t *) b_list_mem_181033.mem)[slice_180016];
                        
                        b_prev_176610 = b_prev_t_res_180017;
                    } else {
                        b_prev_176610 = lowest_176566;
                    }
                    
                    bool cond_176617 = sle64(ai_176606, (int64_t) 0);
                    int64_t loopres_176618;
                    int64_t loopres_176619;
                    int64_t loopres_176620;
                    bool loopres_176621;
                    
                    if (cond_176617) {
                        loopres_176618 = p_176601;
                        loopres_176619 = (int64_t) 0;
                        loopres_176620 = max_res_176608;
                        loopres_176621 = 0;
                    } else {
                        bool cond_176622 = sle64(window_sizze_121186, max_res_176608);
                        int64_t loopres_f_res_176623;
                        int64_t loopres_f_res_176624;
                        int64_t loopres_f_res_176625;
                        bool loopres_f_res_176626;
                        
                        if (cond_176622) {
                            int64_t min_res_180019 = smin64(m_175531, ai_176606);
                            bool x_180020 = sle64((int64_t) 0, m_175531);
                            bool y_180021 = slt64(m_175531, window_sizze_121186);
                            bool bounds_check_180022 = x_180020 && y_180021;
                            bool index_certs_180023;
                            
                            if (!bounds_check_180022) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:184:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool x_180026 = sle64((int64_t) 0, min_res_180019);
                            bool y_180027 = slt64(min_res_180019, window_sizze_121186);
                            bool bounds_check_180028 = x_180026 && y_180027;
                            bool index_certs_180029;
                            
                            if (!bounds_check_180028) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180019, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:184:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int16_t leq_lhs_180025 = ((int16_t *) b_list_mem_181033.mem)[i_p_m_t_s_175559];
                            int64_t slice_180030 = p_175542 + min_res_180019;
                            int16_t leq_rhs_180031 = ((int16_t *) a_list_mem_181032.mem)[slice_180030];
                            bool defunc_0_leq_res_180032 = sle16(leq_lhs_180025, leq_rhs_180031);
                            int64_t loopres_f_res_t_res_180033;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180033 = ai_176606;
                            } else {
                                loopres_f_res_t_res_180033 = p_176602;
                            }
                            
                            bool x_180034 = !defunc_0_leq_res_180032;
                            int64_t loopres_f_res_t_res_180035;
                            
                            if (defunc_0_leq_res_180032) {
                                loopres_f_res_t_res_180035 = window_sizze_121186;
                            } else {
                                int64_t tmp_180036 = sub64(m_175531, offset_176605);
                                
                                loopres_f_res_t_res_180035 = tmp_180036;
                            }
                            loopres_f_res_176623 = p_176601;
                            loopres_f_res_176624 = loopres_f_res_t_res_180033;
                            loopres_f_res_176625 = loopres_f_res_t_res_180035;
                            loopres_f_res_176626 = x_180034;
                        } else {
                            bool cond_176644 = sle64(window_sizze_121186, ai_176606);
                            int64_t loopres_f_res_f_res_176645;
                            int64_t loopres_f_res_f_res_176646;
                            int64_t loopres_f_res_f_res_176647;
                            bool loopres_f_res_f_res_176648;
                            
                            if (cond_176644) {
                                int64_t min_res_180038 = smin64(m_175531, max_res_176608);
                                bool x_180039 = sle64((int64_t) 0, m_175531);
                                bool y_180040 = slt64(m_175531, window_sizze_121186);
                                bool bounds_check_180041 = x_180039 && y_180040;
                                bool index_certs_180042;
                                
                                if (!bounds_check_180041) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_175531, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:191:25-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180045 = sle64((int64_t) 0, min_res_180038);
                                bool y_180046 = slt64(min_res_180038, window_sizze_121186);
                                bool bounds_check_180047 = x_180045 && y_180046;
                                bool index_certs_180048;
                                
                                if (!bounds_check_180047) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) min_res_180038, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:191:39-48\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int16_t leq_lhs_180044 = ((int16_t *) a_list_mem_181032.mem)[i_p_m_t_s_175548];
                                int64_t slice_180049 = p_175543 + min_res_180038;
                                int16_t leq_rhs_180050 = ((int16_t *) b_list_mem_181033.mem)[slice_180049];
                                bool defunc_0_leq_res_180051 = sle16(leq_lhs_180044, leq_rhs_180050);
                                int64_t loopres_f_res_f_res_t_res_180052;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180052 = max_res_176608;
                                } else {
                                    loopres_f_res_f_res_t_res_180052 = p_176603;
                                }
                                
                                bool x_180053 = !defunc_0_leq_res_180051;
                                int64_t loopres_f_res_f_res_t_res_180054;
                                
                                if (defunc_0_leq_res_180051) {
                                    loopres_f_res_f_res_t_res_180054 = window_sizze_121186;
                                } else {
                                    loopres_f_res_f_res_t_res_180054 = m_175531;
                                }
                                loopres_f_res_f_res_176645 = p_176601;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_t_res_180054;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_t_res_180052;
                                loopres_f_res_f_res_176648 = x_180053;
                            } else {
                                bool cond_176665 = sle64(p_176602, p_176601);
                                int64_t loopres_f_res_f_res_f_res_176666;
                                int64_t loopres_f_res_f_res_f_res_176667;
                                int64_t loopres_f_res_f_res_f_res_176668;
                                bool loopres_f_res_f_res_f_res_176669;
                                
                                if (cond_176665) {
                                    bool cond_180093 = slt64(ai_176606, window_sizze_121186);
                                    int64_t ai_180094;
                                    
                                    if (cond_180093) {
                                        ai_180094 = ai_176606;
                                    } else {
                                        ai_180094 = m_175531;
                                    }
                                    
                                    bool x_180107 = sle64((int64_t) 0, ai_180094);
                                    bool y_180108 = slt64(ai_180094, window_sizze_121186);
                                    bool bounds_check_180109 = x_180107 && y_180108;
                                    bool index_certs_180110;
                                    
                                    if (!bounds_check_180109) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_180094, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:125:8-14\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int16_t b_prev_180096;
                                    
                                    if (cond_176609) {
                                        int64_t tmp_180097 = sub64(max_res_176608, (int64_t) 1);
                                        bool x_180098 = sle64((int64_t) 0, tmp_180097);
                                        bool y_180099 = slt64(tmp_180097, window_sizze_121186);
                                        bool bounds_check_180100 = x_180098 && y_180099;
                                        bool index_certs_180101;
                                        
                                        if (!bounds_check_180100) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_180097, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:123:31-39\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180102 = p_175543 + tmp_180097;
                                        int16_t b_prev_t_res_180103 = ((int16_t *) b_list_mem_181033.mem)[slice_180102];
                                        
                                        b_prev_180096 = b_prev_t_res_180103;
                                    } else {
                                        bool index_certs_180105;
                                        
                                        if (!y_176559) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:123:45-50\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        b_prev_180096 = leq_rhs_176564;
                                    }
                                    
                                    int64_t slice_180111 = p_175542 + ai_180094;
                                    int16_t gt_lhs_180112 = ((int16_t *) a_list_mem_181032.mem)[slice_180111];
                                    bool defunc_0_gt_res_180113 = slt16(b_prev_180096, gt_lhs_180112);
                                    int64_t defunc_0_partFunc_sequential_search_res_180114;
                                    int64_t defunc_0_partFunc_sequential_search_res_180115;
                                    
                                    if (defunc_0_gt_res_180113) {
                                        int64_t zl_rhs_180116 = sub64(window_sizze_121186, max_res_176608);
                                        bool loop_cond_180117 = slt64((int64_t) 0, zl_rhs_180116);
                                        bool defunc_0_partFunc_sequential_search_res_t_res_180118;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180120;
                                        int64_t defunc_0_partFunc_sequential_search_res_t_res_180121;
                                        bool loop_while_180122;
                                        int64_t p_180123;
                                        int64_t p_180124;
                                        int64_t p_180125;
                                        
                                        loop_while_180122 = loop_cond_180117;
                                        p_180123 = ai_180094;
                                        p_180124 = max_res_176608;
                                        p_180125 = (int64_t) 0;
                                        while (loop_while_180122) {
                                            int64_t i_a_180126 = sub64(ai_180094, p_180125);
                                            int64_t i_b_180127 = add64(max_res_176608, p_180125);
                                            int64_t leq_lhs_180128 = sub64(i_a_180126, (int64_t) 1);
                                            bool x_180129 = sle64((int64_t) 0, leq_lhs_180128);
                                            bool y_180130 = slt64(leq_lhs_180128, window_sizze_121186);
                                            bool bounds_check_180131 = x_180129 && y_180130;
                                            bool index_certs_180132;
                                            
                                            if (!bounds_check_180131) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180128, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:131:15-24\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180135 = sle64((int64_t) 0, i_b_180127);
                                            bool y_180136 = slt64(i_b_180127, window_sizze_121186);
                                            bool bounds_check_180137 = x_180135 && y_180136;
                                            bool index_certs_180138;
                                            
                                            if (!bounds_check_180137) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180127, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:131:31-38\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180133 = p_175542 + leq_lhs_180128;
                                            int16_t leq_lhs_180134 = ((int16_t *) a_list_mem_181032.mem)[slice_180133];
                                            int64_t slice_180139 = p_175543 + i_b_180127;
                                            int16_t leq_rhs_180140 = ((int16_t *) b_list_mem_181033.mem)[slice_180139];
                                            bool defunc_0_leq_res_180141 = sle16(leq_lhs_180134, leq_rhs_180140);
                                            int64_t loopres_180142;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180142 = i_a_180126;
                                            } else {
                                                loopres_180142 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180143;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180143 = i_b_180127;
                                            } else {
                                                loopres_180143 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180144;
                                            
                                            if (defunc_0_leq_res_180141) {
                                                loopres_180144 = zl_rhs_180116;
                                            } else {
                                                int64_t tmp_180145 = add64((int64_t) 1, p_180125);
                                                
                                                loopres_180144 = tmp_180145;
                                            }
                                            
                                            bool loop_cond_180146 = slt64(loopres_180144, zl_rhs_180116);
                                            bool loop_while_tmp_182558 = loop_cond_180146;
                                            int64_t p_tmp_182559 = loopres_180142;
                                            int64_t p_tmp_182560 = loopres_180143;
                                            int64_t p_tmp_182561 = loopres_180144;
                                            
                                            loop_while_180122 = loop_while_tmp_182558;
                                            p_180123 = p_tmp_182559;
                                            p_180124 = p_tmp_182560;
                                            p_180125 = p_tmp_182561;
                                        }
                                        defunc_0_partFunc_sequential_search_res_t_res_180118 = loop_while_180122;
                                        defunc_0_partFunc_sequential_search_res_t_res_180119 = p_180123;
                                        defunc_0_partFunc_sequential_search_res_t_res_180120 = p_180124;
                                        defunc_0_partFunc_sequential_search_res_t_res_180121 = p_180125;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_t_res_180119;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_t_res_180120;
                                    } else {
                                        int64_t zl_rhs_180147 = sub64(max_res_176608, (int64_t) 1);
                                        bool loop_cond_180148 = slt64((int64_t) 0, zl_rhs_180147);
                                        bool defunc_0_partFunc_sequential_search_res_f_res_180149;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180151;
                                        int64_t defunc_0_partFunc_sequential_search_res_f_res_180152;
                                        bool loop_while_180153;
                                        int64_t p_180154;
                                        int64_t p_180155;
                                        int64_t p_180156;
                                        
                                        loop_while_180153 = loop_cond_180148;
                                        p_180154 = ai_180094;
                                        p_180155 = max_res_176608;
                                        p_180156 = (int64_t) 0;
                                        while (loop_while_180153) {
                                            int64_t zp_lhs_180157 = add64(ai_180094, p_180156);
                                            int64_t hi_a_180158 = add64((int64_t) 1, zp_lhs_180157);
                                            bool cond_180159 = slt64(hi_a_180158, window_sizze_121186);
                                            int64_t i_a_180160;
                                            
                                            if (cond_180159) {
                                                i_a_180160 = hi_a_180158;
                                            } else {
                                                i_a_180160 = m_175531;
                                            }
                                            
                                            int64_t zm_lhs_180162 = sub64(max_res_176608, p_180156);
                                            int64_t i_b_180163 = sub64(zm_lhs_180162, (int64_t) 1);
                                            bool x_180164 = sle64((int64_t) 0, i_a_180160);
                                            bool y_180165 = slt64(i_a_180160, window_sizze_121186);
                                            bool bounds_check_180166 = x_180164 && y_180165;
                                            bool index_certs_180167;
                                            
                                            if (!bounds_check_180166) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_a_180160, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:141:15-22\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180170 = sle64((int64_t) 0, i_b_180163);
                                            bool y_180171 = slt64(i_b_180163, window_sizze_121186);
                                            bool bounds_check_180172 = x_180170 && y_180171;
                                            bool index_certs_180173;
                                            
                                            if (!bounds_check_180172) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_b_180163, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:141:28-35\n   #1  ftsort.fut:195:80-82\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:160:8-220:8\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180168 = p_175542 + i_a_180160;
                                            int16_t gt_lhs_180169 = ((int16_t *) a_list_mem_181032.mem)[slice_180168];
                                            int64_t slice_180174 = p_175543 + i_b_180163;
                                            int16_t gt_rhs_180175 = ((int16_t *) b_list_mem_181033.mem)[slice_180174];
                                            bool defunc_0_gt_res_180176 = slt16(gt_rhs_180175, gt_lhs_180169);
                                            int64_t loopres_180177;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180177 = i_a_180160;
                                            } else {
                                                loopres_180177 = ai_180094;
                                            }
                                            
                                            int64_t loopres_180178;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180178 = zm_lhs_180162;
                                            } else {
                                                loopres_180178 = max_res_176608;
                                            }
                                            
                                            int64_t loopres_180179;
                                            
                                            if (defunc_0_gt_res_180176) {
                                                loopres_180179 = zl_rhs_180147;
                                            } else {
                                                int64_t tmp_180180 = add64((int64_t) 1, p_180156);
                                                
                                                loopres_180179 = tmp_180180;
                                            }
                                            
                                            bool loop_cond_180181 = slt64(loopres_180179, zl_rhs_180147);
                                            bool loop_while_tmp_182562 = loop_cond_180181;
                                            int64_t p_tmp_182563 = loopres_180177;
                                            int64_t p_tmp_182564 = loopres_180178;
                                            int64_t p_tmp_182565 = loopres_180179;
                                            
                                            loop_while_180153 = loop_while_tmp_182562;
                                            p_180154 = p_tmp_182563;
                                            p_180155 = p_tmp_182564;
                                            p_180156 = p_tmp_182565;
                                        }
                                        defunc_0_partFunc_sequential_search_res_f_res_180149 = loop_while_180153;
                                        defunc_0_partFunc_sequential_search_res_f_res_180150 = p_180154;
                                        defunc_0_partFunc_sequential_search_res_f_res_180151 = p_180155;
                                        defunc_0_partFunc_sequential_search_res_f_res_180152 = p_180156;
                                        defunc_0_partFunc_sequential_search_res_180114 = defunc_0_partFunc_sequential_search_res_f_res_180150;
                                        defunc_0_partFunc_sequential_search_res_180115 = defunc_0_partFunc_sequential_search_res_f_res_180151;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = p_176601;
                                    loopres_f_res_f_res_f_res_176667 = defunc_0_partFunc_sequential_search_res_180114;
                                    loopres_f_res_f_res_f_res_176668 = defunc_0_partFunc_sequential_search_res_180115;
                                    loopres_f_res_f_res_f_res_176669 = 0;
                                } else {
                                    bool x_176753 = sle64((int64_t) 0, ai_176606);
                                    bool y_176754 = slt64(ai_176606, window_sizze_121186);
                                    bool bounds_check_176755 = x_176753 && y_176754;
                                    bool index_certs_176756;
                                    
                                    if (!bounds_check_176755) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ai_176606, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:199:17-23\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_178422 = p_175542 + ai_176606;
                                    int16_t gt_lhs_176757 = ((int16_t *) a_list_mem_181032.mem)[slice_178422];
                                    bool defunc_0_gt_res_176758 = slt16(b_prev_176610, gt_lhs_176757);
                                    int64_t loopres_f_res_f_res_f_res_f_res_176759;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176760;
                                    int64_t loopres_f_res_f_res_f_res_f_res_176761;
                                    bool loopres_f_res_f_res_f_res_f_res_176762;
                                    
                                    if (defunc_0_gt_res_176758) {
                                        int64_t leq_lhs_180182 = sub64(ai_176606, (int64_t) 1);
                                        bool x_180183 = sle64((int64_t) 0, leq_lhs_180182);
                                        bool y_180184 = slt64(leq_lhs_180182, window_sizze_121186);
                                        bool bounds_check_180185 = x_180183 && y_180184;
                                        bool index_certs_180186;
                                        
                                        if (!bounds_check_180185) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_lhs_180182, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:200:19-27\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180189 = sle64((int64_t) 0, max_res_176608);
                                        bool y_180190 = slt64(max_res_176608, window_sizze_121186);
                                        bool bounds_check_180191 = x_180189 && y_180190;
                                        bool index_certs_180192;
                                        
                                        if (!bounds_check_180191) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) max_res_176608, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:200:34-40\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftsort.fut:160:8-220:8\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180187 = p_175542 + leq_lhs_180182;
                                        int16_t leq_lhs_180188 = ((int16_t *) a_list_mem_181032.mem)[slice_180187];
                                        int64_t slice_180193 = p_175543 + max_res_176608;
                                        int16_t leq_rhs_180194 = ((int16_t *) b_list_mem_181033.mem)[slice_180193];
                                        bool defunc_0_leq_res_180195 = sle16(leq_lhs_180188, leq_rhs_180194);
                                        bool x_180196 = !defunc_0_leq_res_180195;
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = ai_176606;
                                        } else {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180197 = leq_lhs_180182;
                                        }
                                        
                                        int64_t loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        
                                        if (defunc_0_leq_res_180195) {
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = max_res_176608;
                                        } else {
                                            int64_t tmp_180199 = add64((int64_t) 1, max_res_176608);
                                            
                                            loopres_f_res_f_res_f_res_f_res_t_res_180198 = tmp_180199;
                                        }
                                        loopres_f_res_f_res_f_res_f_res_176759 = p_176601;
                                        loopres_f_res_f_res_f_res_f_res_176760 = loopres_f_res_f_res_f_res_f_res_t_res_180197;
                                        loopres_f_res_f_res_f_res_f_res_176761 = loopres_f_res_f_res_f_res_f_res_t_res_180198;
                                        loopres_f_res_f_res_f_res_f_res_176762 = x_180196;
                                    } else {
                                        int64_t tmp_176779 = add64((int64_t) 1, ai_176606);
                                        
                                        loopres_f_res_f_res_f_res_f_res_176759 = tmp_176779;
                                        loopres_f_res_f_res_f_res_f_res_176760 = p_176602;
                                        loopres_f_res_f_res_f_res_f_res_176761 = p_176603;
                                        loopres_f_res_f_res_f_res_f_res_176762 = 1;
                                    }
                                    loopres_f_res_f_res_f_res_176666 = loopres_f_res_f_res_f_res_f_res_176759;
                                    loopres_f_res_f_res_f_res_176667 = loopres_f_res_f_res_f_res_f_res_176760;
                                    loopres_f_res_f_res_f_res_176668 = loopres_f_res_f_res_f_res_f_res_176761;
                                    loopres_f_res_f_res_f_res_176669 = loopres_f_res_f_res_f_res_f_res_176762;
                                }
                                loopres_f_res_f_res_176645 = loopres_f_res_f_res_f_res_176666;
                                loopres_f_res_f_res_176646 = loopres_f_res_f_res_f_res_176667;
                                loopres_f_res_f_res_176647 = loopres_f_res_f_res_f_res_176668;
                                loopres_f_res_f_res_176648 = loopres_f_res_f_res_f_res_176669;
                            }
                            loopres_f_res_176623 = loopres_f_res_f_res_176645;
                            loopres_f_res_176624 = loopres_f_res_f_res_176646;
                            loopres_f_res_176625 = loopres_f_res_f_res_176647;
                            loopres_f_res_176626 = loopres_f_res_f_res_176648;
                        }
                        loopres_176618 = loopres_f_res_176623;
                        loopres_176619 = loopres_f_res_176624;
                        loopres_176620 = loopres_f_res_176625;
                        loopres_176621 = loopres_f_res_176626;
                    }
                    
                    bool loop_while_tmp_182554 = loopres_176621;
                    int64_t p_tmp_182555 = loopres_176618;
                    int64_t p_tmp_182556 = loopres_176619;
                    int64_t p_tmp_182557 = loopres_176620;
                    
                    loop_while_176600 = loop_while_tmp_182554;
                    p_176601 = p_tmp_182555;
                    p_176602 = p_tmp_182556;
                    p_176603 = p_tmp_182557;
                }
                defunc_0_f_res_176596 = loop_while_176600;
                defunc_0_f_res_176597 = p_176601;
                defunc_0_f_res_176598 = p_176602;
                defunc_0_f_res_176599 = p_176603;
                ((int64_t *) mem_181049)[i_180782] = defunc_0_f_res_176598;
                ((int64_t *) mem_181051)[i_180782] = defunc_0_f_res_176599;
            }
            if (memblock_alloc(ctx, &mem_181064, window_sizze_121186, "mem_181064")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182566 = 0; nest_i_182566 < window_sizze_121186; nest_i_182566++) {
                ((int8_t *) mem_181064.mem)[nest_i_182566] = (int8_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181066, bytes_181065, "mem_181066")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182567 = 0; nest_i_182567 < window_sizze_121186; nest_i_182567++) {
                ((int64_t *) mem_181066.mem)[nest_i_182567] = (int64_t) -1;
            }
            if (memblock_alloc(ctx, &mem_181068, bytes_181067, "mem_181068")) {
                err = 1;
                goto cleanup;
            }
            for (int64_t nest_i_182568 = 0; nest_i_182568 < window_sizze_121186; nest_i_182568++) {
                ((int16_t *) mem_181068.mem)[nest_i_182568] = (int16_t) 0;
            }
            
            bool defunc_0_mergeFunc_seq_res_176806;
            int64_t defunc_0_mergeFunc_seq_res_176807;
            bool loop_while_176811;
            int64_t p_176812;
            
            loop_while_176811 = loop_cond_176805;
            p_176812 = (int64_t) 0;
            while (loop_while_176811) {
                bool x_176816 = sle64((int64_t) 0, p_176812);
                bool y_176817 = slt64(p_176812, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176818 = x_176816 && y_176817;
                bool index_certs_176819;
                
                if (!bounds_check_176818) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) p_176812, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:244:19-39\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178405 = sle64((int64_t) 1, p_176812);
                int64_t index_concat_i_178406 = sub64(p_176812, (int64_t) 1);
                int64_t index_concat_178407;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180200 = ((int64_t *) mem_181049)[index_concat_i_178406];
                    
                    index_concat_178407 = x_180200;
                } else {
                    index_concat_178407 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178409;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178409 = index_concat_178407;
                } else {
                    index_concat_branch_178409 = (int64_t) 0;
                }
                
                int64_t index_concat_178401;
                
                if (index_concat_cmp_178405) {
                    int64_t x_180201 = ((int64_t *) mem_181051)[index_concat_i_178406];
                    
                    index_concat_178401 = x_180201;
                } else {
                    index_concat_178401 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178403;
                
                if (index_concat_cmp_178405) {
                    index_concat_branch_178403 = index_concat_178401;
                } else {
                    index_concat_branch_178403 = (int64_t) 0;
                }
                
                int64_t ubs_176822 = add64((int64_t) 1, p_176812);
                bool x_176823 = sle64((int64_t) 0, ubs_176822);
                bool y_176824 = slt64(ubs_176822, dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556);
                bool bounds_check_176825 = x_176823 && y_176824;
                bool index_certs_176826;
                
                if (!bounds_check_176825) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ubs_176822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Uthreadsz20U1z7dUzg_176556, "].", "-> #0  ftsort.fut:245:19-41\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool index_concat_cmp_178393 = sle64((int64_t) 1, ubs_176822);
                int64_t index_concat_178395;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180202 = ((int64_t *) mem_181049)[p_176812];
                    
                    index_concat_178395 = x_180202;
                } else {
                    index_concat_178395 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178397;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178397 = index_concat_178395;
                } else {
                    index_concat_branch_178397 = (int64_t) 0;
                }
                
                int64_t index_concat_178389;
                
                if (index_concat_cmp_178393) {
                    int64_t x_180203 = ((int64_t *) mem_181051)[p_176812];
                    
                    index_concat_178389 = x_180203;
                } else {
                    index_concat_178389 = (int64_t) 0;
                }
                
                int64_t index_concat_branch_178391;
                
                if (index_concat_cmp_178393) {
                    index_concat_branch_178391 = index_concat_178389;
                } else {
                    index_concat_branch_178391 = (int64_t) 0;
                }
                
                int64_t dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 = sub64(index_concat_branch_178391, index_concat_branch_178403);
                int64_t dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 = sub64(index_concat_branch_178397, index_concat_branch_178409);
                int64_t dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 = add64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t ind_bottom_176832 = add64(index_concat_branch_178403, index_concat_branch_178409);
                int64_t ind_top_176833 = add64(index_concat_branch_178391, index_concat_branch_178397);
                int64_t dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 = sub64(ind_top_176833, ind_bottom_176832);
                bool empty_slice_176835 = dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 == (int64_t) 0;
                int64_t m_176836 = sub64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 1);
                int64_t i_p_m_t_s_176837 = add64(m_176836, index_concat_branch_178409);
                bool zzero_leq_i_p_m_t_s_176838 = sle64((int64_t) 0, i_p_m_t_s_176837);
                bool i_p_m_t_s_leq_w_176839 = slt64(i_p_m_t_s_176837, window_sizze_121186);
                bool zzero_lte_i_176840 = sle64((int64_t) 0, index_concat_branch_178409);
                bool i_lte_j_176841 = sle64(index_concat_branch_178409, index_concat_branch_178397);
                bool y_176842 = i_p_m_t_s_leq_w_176839 && zzero_lte_i_176840;
                bool y_176843 = zzero_leq_i_p_m_t_s_176838 && y_176842;
                bool forwards_ok_176844 = i_lte_j_176841 && y_176843;
                bool ok_or_empty_176845 = empty_slice_176835 || forwards_ok_176844;
                bool index_certs_176846;
                
                if (!ok_or_empty_176845) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178409, ":", (long long) index_concat_branch_178397, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:248:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176847 = slt64(index_concat_branch_178397, index_concat_branch_178409);
                bool valid_176848 = !bounds_invalid_upwards_176847;
                bool range_valid_c_176849;
                
                if (!valid_176848) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178409, "..<", (long long) index_concat_branch_178397, " is invalid.", "-> #0  ftsort.fut:248:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_176855 = dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829 == (int64_t) 0;
                int64_t m_176856 = sub64(dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829, (int64_t) 1);
                int64_t i_p_m_t_s_176857 = add64(m_176856, index_concat_branch_178403);
                bool zzero_leq_i_p_m_t_s_176858 = sle64((int64_t) 0, i_p_m_t_s_176857);
                bool i_p_m_t_s_leq_w_176859 = slt64(i_p_m_t_s_176857, window_sizze_121186);
                bool zzero_lte_i_176860 = sle64((int64_t) 0, index_concat_branch_178403);
                bool i_lte_j_176861 = sle64(index_concat_branch_178403, index_concat_branch_178391);
                bool y_176862 = i_p_m_t_s_leq_w_176859 && zzero_lte_i_176860;
                bool y_176863 = zzero_leq_i_p_m_t_s_176858 && y_176862;
                bool forwards_ok_176864 = i_lte_j_176861 && y_176863;
                bool ok_or_empty_176865 = empty_slice_176855 || forwards_ok_176864;
                bool index_certs_176866;
                
                if (!ok_or_empty_176865) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) index_concat_branch_178403, ":", (long long) index_concat_branch_178391, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:249:71-86\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176867 = slt64(index_concat_branch_178391, index_concat_branch_178403);
                bool valid_176868 = !bounds_invalid_upwards_176867;
                bool range_valid_c_176869;
                
                if (!valid_176868) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) index_concat_branch_178403, "..<", (long long) index_concat_branch_178391, " is invalid.", "-> #0  ftsort.fut:249:52-69\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t bytes_181085 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                int64_t bytes_181087 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool cond_176878 = sle64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zs_lhs_176879 = sub64(dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, (int64_t) 1);
                int64_t zp_rhs_176880 = sdiv_safe64(zs_lhs_176879, (int64_t) 20);
                int64_t min_num_blocks_176881 = add64((int64_t) 1, zp_rhs_176880);
                bool loop_cond_176882 = slt64((int64_t) 1, min_num_blocks_176881);
                bool smallest_pow_2_geq_than_res_176883;
                int64_t smallest_pow_2_geq_than_res_176884;
                bool loop_while_176885;
                int64_t x_176886;
                
                loop_while_176885 = loop_cond_176882;
                x_176886 = (int64_t) 1;
                while (loop_while_176885) {
                    int64_t loopres_176887 = mul64((int64_t) 2, x_176886);
                    bool loop_cond_176888 = slt64(loopres_176887, min_num_blocks_176881);
                    bool loop_while_tmp_182574 = loop_cond_176888;
                    int64_t x_tmp_182575 = loopres_176887;
                    
                    loop_while_176885 = loop_while_tmp_182574;
                    x_176886 = x_tmp_182575;
                }
                smallest_pow_2_geq_than_res_176883 = loop_while_176885;
                smallest_pow_2_geq_than_res_176884 = x_176886;
                
                bool zzero_176889 = smallest_pow_2_geq_than_res_176884 == (int64_t) 0;
                bool nonzzero_176890 = !zzero_176889;
                bool protect_assert_disj_176891 = cond_176878 || nonzzero_176890;
                bool nonzzero_cert_176892;
                
                if (!protect_assert_disj_176891) {
                    set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t zp_rhs_176893 = sdiv_safe64(zs_lhs_176879, smallest_pow_2_geq_than_res_176884);
                int64_t block_sizze_176894 = add64((int64_t) 1, zp_rhs_176893);
                bool y_176901 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                bool protect_assert_disj_182238 = cond_176878 || y_176901;
                bool index_certs_176902;
                
                if (!protect_assert_disj_182238) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176928 = slt64(smallest_pow_2_geq_than_res_176884, (int64_t) 0);
                bool valid_176929 = !bounds_invalid_upwards_176928;
                bool protect_assert_disj_182248 = cond_176878 || valid_176929;
                bool range_valid_c_176930;
                
                if (!protect_assert_disj_182248) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_176884, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool bounds_invalid_upwards_176932 = slt64(block_sizze_176894, (int64_t) 0);
                bool valid_176933 = !bounds_invalid_upwards_176932;
                bool protect_assert_disj_182250 = cond_176878 || valid_176933;
                bool range_valid_c_176934;
                
                if (!protect_assert_disj_182250) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_176894, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool cond_176936 = sle64(block_sizze_176894, (int64_t) 1);
                int64_t tmp_176937 = sub64(block_sizze_176894, (int64_t) 2);
                bool bounds_invalid_upwards_176938 = slt64(tmp_176937, (int64_t) 0);
                bool valid_176940 = !bounds_invalid_upwards_176938;
                bool protect_assert_disj_176941 = cond_176936 || valid_176940;
                bool protect_assert_disj_182252 = cond_176878 || protect_assert_disj_176941;
                bool range_valid_c_176942;
                
                if (!protect_assert_disj_182252) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_176937, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool dim_match_177503 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831;
                bool empty_or_match_cert_177504;
                
                if (!dim_match_177503) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] cannot match shape of type `[", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "](i8, i64, i16)`.", "-> #0  ftsort.fut:250:22-256:50\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool empty_slice_177505 = dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834 == (int64_t) 0;
                int64_t m_177506 = sub64(dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, (int64_t) 1);
                bool zzero_leq_i_p_m_t_s_177507 = sle64((int64_t) 0, m_177506);
                bool i_p_m_t_s_leq_w_177508 = slt64(m_177506, dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834);
                bool y_177509 = zzero_leq_i_p_m_t_s_177507 && i_p_m_t_s_leq_w_177508;
                bool ok_or_empty_177510 = empty_slice_177505 || y_177509;
                bool index_certs_177511;
                
                if (!ok_or_empty_177510) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "] out of bounds for array of shape [", (long long) dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834, "].", "-> #0  ftsort.fut:257:59-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t i_p_m_t_s_177512 = add64(ind_bottom_176832, m_177506);
                bool zzero_leq_i_p_m_t_s_177513 = sle64((int64_t) 0, i_p_m_t_s_177512);
                bool i_p_m_t_s_leq_w_177514 = slt64(i_p_m_t_s_177512, window_sizze_121186);
                bool zzero_lte_i_177515 = sle64((int64_t) 0, ind_bottom_176832);
                bool i_lte_j_177516 = sle64(ind_bottom_176832, ind_top_176833);
                bool y_177517 = i_p_m_t_s_leq_w_177514 && zzero_lte_i_177515;
                bool y_177518 = zzero_leq_i_p_m_t_s_177513 && y_177517;
                bool forwards_ok_177519 = i_lte_j_177516 && y_177518;
                bool ok_or_empty_177520 = empty_slice_177505 || forwards_ok_177519;
                bool index_certs_177521;
                
                if (!ok_or_empty_177520) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ind_bottom_176832, ":", (long long) ind_top_176833, "] out of bounds for array of shape [", (long long) window_sizze_121186, "].", "-> #0  ftsort.fut:257:27-89\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t slice_178385 = p_175542 + index_concat_branch_178409;
                
                if (memblock_alloc(ctx, &mem_181084, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "mem_181084")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t nest_i_182576 = 0; nest_i_182576 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; nest_i_182576++) {
                    ((int8_t *) mem_181084.mem)[nest_i_182576] = (int8_t) 0;
                }
                if (memblock_alloc(ctx, &mem_181086, bytes_181085, "mem_181086")) {
                    err = 1;
                    goto cleanup;
                }
                for (int64_t i_182577 = 0; i_182577 < dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830; i_182577++) {
                    int64_t x_182578 = index_concat_branch_178409 + i_182577 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[i_182577] = x_182578;
                }
                
                int64_t slice_178384 = p_175543 + index_concat_branch_178403;
                
                for (int64_t nest_i_182579 = 0; nest_i_182579 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; nest_i_182579++) {
                    ((int8_t *) mem_181084.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + nest_i_182579] = (int8_t) 1;
                }
                for (int64_t i_182580 = 0; i_182580 < dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829; i_182580++) {
                    int64_t x_182581 = index_concat_branch_178403 + i_182580 * (int64_t) 1;
                    
                    ((int64_t *) mem_181086.mem)[dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830 + i_182580] = x_182581;
                }
                
                int64_t tmp_offs_182582 = (int64_t) 0;
                
                if (!(tmp_offs_182582 == (int64_t) 0)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182582 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181084.mem, tmp_offs_182582, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181084.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182582 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t tmp_offs_182583 = (int64_t) 0;
                
                if (!(tmp_offs_182583 == (int64_t) 0)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                if (!(tmp_offs_182583 == dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830)) {
                    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181086.mem, tmp_offs_182583, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181086.mem, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                }
                tmp_offs_182583 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                if (memblock_alloc(ctx, &mem_181088, bytes_181087, "mem_181088")) {
                    err = 1;
                    goto cleanup;
                }
                
                int64_t tmp_offs_182584 = (int64_t) 0;
                
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181032.mem, slice_178385, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181088.mem, tmp_offs_182584, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181033.mem, slice_178384, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829});
                tmp_offs_182584 += dzlz7bUZLzmZRz20U1z20U1z7dUzg_176829;
                
                int64_t flat_dim_176895 = smallest_pow_2_geq_than_res_176884 * block_sizze_176894;
                bool x_182233 = !cond_176878;
                int64_t greatest_divisor_leq_than_arg1_176899 = mul64((int64_t) 2, block_sizze_176894);
                int64_t merge_block_sizze_176900;
                
                if (x_182233) {
                    int64_t x_182235;
                    
                    if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182235, (int64_t) 8, greatest_divisor_leq_than_arg1_176899) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    merge_block_sizze_176900 = x_182235;
                } else {
                    merge_block_sizze_176900 = (int64_t) 0;
                }
                
                bool index_concat_cmp_178379 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, (int64_t) 0);
                int8_t index_concat_branch_178383 = btoi_bool_i8(index_concat_cmp_178379);
                int64_t index_concat_i_180204 = sub64((int64_t) 0, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                int64_t index_primexp_180205 = add64(index_concat_branch_178403, index_concat_i_180204);
                int64_t index_concat_branch_178377;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178377 = index_primexp_180205;
                } else {
                    index_concat_branch_178377 = index_concat_branch_178409;
                }
                
                bool x_182229 = !index_concat_cmp_178379;
                bool protect_cond_conj_182239 = x_182229 && x_182233;
                int16_t index_concat_178370;
                
                if (protect_cond_conj_182239) {
                    int16_t x_182231 = ((int16_t *) a_list_mem_181032.mem)[slice_178385];
                    
                    index_concat_178370 = x_182231;
                } else {
                    index_concat_178370 = (int16_t) 0;
                }
                
                int64_t slice_180207 = slice_178384 + index_concat_i_180204;
                bool protect_cond_conj_182240 = index_concat_cmp_178379 && x_182233;
                int16_t index_concat_180208;
                
                if (protect_cond_conj_182240) {
                    int16_t x_182227 = ((int16_t *) b_list_mem_181033.mem)[slice_180207];
                    
                    index_concat_180208 = x_182227;
                } else {
                    index_concat_180208 = (int16_t) 0;
                }
                
                int16_t index_concat_branch_178371;
                
                if (index_concat_cmp_178379) {
                    index_concat_branch_178371 = index_concat_180208;
                } else {
                    index_concat_branch_178371 = index_concat_178370;
                }
                
                int8_t defunc_0_reduce_res_180439;
                int64_t defunc_0_reduce_res_180440;
                int16_t defunc_0_reduce_res_180441;
                
                if (x_182233) {
                    int8_t x_182241;
                    int64_t x_182242;
                    int16_t x_182243;
                    int8_t redout_180785;
                    int64_t redout_180786;
                    int16_t redout_180787;
                    
                    redout_180785 = index_concat_branch_178383;
                    redout_180786 = index_concat_branch_178377;
                    redout_180787 = index_concat_branch_178371;
                    for (int64_t i_180788 = 0; i_180788 < dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831; i_180788++) {
                        bool index_concat_cmp_180992 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, i_180788);
                        int8_t index_concat_branch_180996 = btoi_bool_i8(index_concat_cmp_180992);
                        int64_t index_concat_branch_180990;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180987 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t index_primexp_181014 = add64(index_concat_branch_178403, index_concat_i_180987);
                            
                            index_concat_branch_180990 = index_primexp_181014;
                        } else {
                            int64_t index_primexp_181016 = add64(index_concat_branch_178409, i_180788);
                            
                            index_concat_branch_180990 = index_primexp_181016;
                        }
                        
                        int16_t index_concat_branch_180984;
                        
                        if (index_concat_cmp_180992) {
                            int64_t index_concat_i_180981 = sub64(i_180788, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                            int64_t slice_181011 = slice_178384 + index_concat_i_180981;
                            int16_t index_concat_180982 = ((int16_t *) b_list_mem_181033.mem)[slice_181011];
                            
                            index_concat_branch_180984 = index_concat_180982;
                        } else {
                            int64_t slice_181012 = slice_178385 + i_180788;
                            int16_t index_concat_180983 = ((int16_t *) a_list_mem_181032.mem)[slice_181012];
                            
                            index_concat_branch_180984 = index_concat_180983;
                        }
                        
                        bool eq_x_y_181027 = redout_180785 == (int8_t) 1;
                        bool eq_x_zz_181028 = redout_180785 == (int8_t) 0;
                        bool p_and_eq_x_y_181029 = index_concat_cmp_180992 && eq_x_y_181027;
                        bool not_p_181030 = !index_concat_cmp_180992;
                        bool p_and_eq_x_y_181031 = eq_x_zz_181028 && not_p_181030;
                        bool cond_176918 = p_and_eq_x_y_181029 || p_and_eq_x_y_181031;
                        bool defunc_0_leq_res_t_res_176919 = sle64(redout_180786, index_concat_branch_180990);
                        bool defunc_0_leq_res_176920 = sle16(redout_180787, index_concat_branch_180984);
                        bool x_176921 = cond_176918 && defunc_0_leq_res_t_res_176919;
                        bool x_176922 = !cond_176918;
                        bool y_176923 = defunc_0_leq_res_176920 && x_176922;
                        bool defunc_0_leq_res_176924 = x_176921 || y_176923;
                        int8_t defunc_0_op_res_176925;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176925 = index_concat_branch_180996;
                        } else {
                            defunc_0_op_res_176925 = redout_180785;
                        }
                        
                        int64_t defunc_0_op_res_176926;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176926 = index_concat_branch_180990;
                        } else {
                            defunc_0_op_res_176926 = redout_180786;
                        }
                        
                        int16_t defunc_0_op_res_176927;
                        
                        if (defunc_0_leq_res_176924) {
                            defunc_0_op_res_176927 = index_concat_branch_180984;
                        } else {
                            defunc_0_op_res_176927 = redout_180787;
                        }
                        
                        int8_t redout_tmp_182585 = defunc_0_op_res_176925;
                        int64_t redout_tmp_182586 = defunc_0_op_res_176926;
                        int16_t redout_tmp_182587 = defunc_0_op_res_176927;
                        
                        redout_180785 = redout_tmp_182585;
                        redout_180786 = redout_tmp_182586;
                        redout_180787 = redout_tmp_182587;
                    }
                    x_182241 = redout_180785;
                    x_182242 = redout_180786;
                    x_182243 = redout_180787;
                    defunc_0_reduce_res_180439 = x_182241;
                    defunc_0_reduce_res_180440 = x_182242;
                    defunc_0_reduce_res_180441 = x_182243;
                } else {
                    defunc_0_reduce_res_180439 = (int8_t) 0;
                    defunc_0_reduce_res_180440 = (int64_t) 0;
                    defunc_0_reduce_res_180441 = (int16_t) 0;
                }
                
                int64_t distance_176939 = add64((int64_t) 1, tmp_176937);
                int64_t binop_x_181091 = (int64_t) 8 * smallest_pow_2_geq_than_res_176884;
                int64_t bytes_181092 = block_sizze_176894 * binop_x_181091;
                int64_t binop_x_181094 = (int64_t) 2 * smallest_pow_2_geq_than_res_176884;
                int64_t bytes_181095 = block_sizze_176894 * binop_x_181094;
                int64_t bytes_181110 = (int64_t) 8 * block_sizze_176894;
                bool loop_cond_177048 = slt64(block_sizze_176894, flat_dim_176895);
                bool zzero_177049 = merge_block_sizze_176900 == (int64_t) 0;
                bool nonzzero_177050 = !zzero_177049;
                
                if (cond_176878) {
                    if (memblock_set(ctx, &ext_mem_181383, &mem_181084, "mem_181084") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &mem_181086, "mem_181086") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &mem_181088, "mem_181088") != 0)
                        return 1;
                } else {
                    if (mem_181090_cached_sizze_182992 < flat_dim_176895) {
                        err = lexical_realloc(ctx, &mem_181090, &mem_181090_cached_sizze_182992, flat_dim_176895);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181093_cached_sizze_182993 < bytes_181092) {
                        err = lexical_realloc(ctx, &mem_181093, &mem_181093_cached_sizze_182993, bytes_181092);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181096_cached_sizze_182994 < bytes_181095) {
                        err = lexical_realloc(ctx, &mem_181096, &mem_181096_cached_sizze_182994, bytes_181095);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181109_cached_sizze_182995 < block_sizze_176894) {
                        err = lexical_realloc(ctx, &mem_181109, &mem_181109_cached_sizze_182995, block_sizze_176894);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181111_cached_sizze_182996 < bytes_181110) {
                        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_182996, bytes_181110);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181113_cached_sizze_182997 < greatest_divisor_leq_than_arg1_176899) {
                        err = lexical_realloc(ctx, &mem_181113, &mem_181113_cached_sizze_182997, greatest_divisor_leq_than_arg1_176899);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180805 = 0; i_180805 < smallest_pow_2_geq_than_res_176884; i_180805++) {
                        int64_t zp_lhs_176947 = mul64(block_sizze_176894, i_180805);
                        
                        for (int64_t i_180795 = 0; i_180795 < block_sizze_176894; i_180795++) {
                            int64_t k_176952 = add64(zp_lhs_176947, i_180795);
                            bool cond_176953 = slt64(k_176952, dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831);
                            int8_t lifted_lambda_res_176954;
                            int64_t lifted_lambda_res_176955;
                            int16_t lifted_lambda_res_176956;
                            
                            if (cond_176953) {
                                bool x_180214 = sle64((int64_t) 0, k_176952);
                                bool bounds_check_180215 = cond_176953 && x_180214;
                                bool index_certs_180216;
                                
                                if (!bounds_check_180215) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_176952, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool index_concat_cmp_180217 = sle64(dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830, k_176952);
                                int8_t index_concat_branch_180218 = btoi_bool_i8(index_concat_cmp_180217);
                                int64_t index_concat_branch_180219;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180220 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t index_primexp_180221 = add64(index_concat_branch_178403, index_concat_i_180220);
                                    
                                    index_concat_branch_180219 = index_primexp_180221;
                                } else {
                                    int64_t index_primexp_180222 = add64(k_176952, index_concat_branch_178409);
                                    
                                    index_concat_branch_180219 = index_primexp_180222;
                                }
                                
                                int16_t index_concat_branch_180223;
                                
                                if (index_concat_cmp_180217) {
                                    int64_t index_concat_i_180224 = sub64(k_176952, dzlz7bUZLzmZRz20U0z20U0z7dUzg_176830);
                                    int64_t slice_180225 = slice_178384 + index_concat_i_180224;
                                    int16_t index_concat_180226 = ((int16_t *) b_list_mem_181033.mem)[slice_180225];
                                    
                                    index_concat_branch_180223 = index_concat_180226;
                                } else {
                                    int64_t slice_180227 = k_176952 + slice_178385;
                                    int16_t index_concat_180228 = ((int16_t *) a_list_mem_181032.mem)[slice_180227];
                                    
                                    index_concat_branch_180223 = index_concat_180228;
                                }
                                lifted_lambda_res_176954 = index_concat_branch_180218;
                                lifted_lambda_res_176955 = index_concat_branch_180219;
                                lifted_lambda_res_176956 = index_concat_branch_180223;
                            } else {
                                lifted_lambda_res_176954 = defunc_0_reduce_res_180439;
                                lifted_lambda_res_176955 = defunc_0_reduce_res_180440;
                                lifted_lambda_res_176956 = defunc_0_reduce_res_180441;
                            }
                            ((int8_t *) mem_181109)[i_180795] = lifted_lambda_res_176954;
                            ((int64_t *) mem_181111)[i_180795] = lifted_lambda_res_176955;
                            ((int16_t *) mem_181113)[i_180795] = lifted_lambda_res_176956;
                        }
                        if (!cond_176936) {
                            for (int64_t i_176969 = 0; i_176969 < distance_176939; i_176969++) {
                                int64_t gt_arg1_176973 = add64((int64_t) 1, i_176969);
                                bool x_176974 = sle64((int64_t) 0, gt_arg1_176973);
                                bool y_176975 = slt64(gt_arg1_176973, block_sizze_176894);
                                bool bounds_check_176976 = x_176974 && y_176975;
                                bool index_certs_176977;
                                
                                if (!bounds_check_176976) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_176973, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool y_176981 = slt64(i_176969, block_sizze_176894);
                                bool index_certs_176982;
                                
                                if (!y_176981) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_176969, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int8_t gt_arg1_176978 = ((int8_t *) mem_181109)[gt_arg1_176973];
                                int64_t gt_arg1_176979 = ((int64_t *) mem_181111)[gt_arg1_176973];
                                int16_t gt_arg1_176980 = ((int16_t *) mem_181113)[gt_arg1_176973];
                                int8_t gt_arg0_176983 = ((int8_t *) mem_181109)[i_176969];
                                int64_t gt_arg0_176984 = ((int64_t *) mem_181111)[i_176969];
                                int16_t gt_arg0_176985 = ((int16_t *) mem_181113)[i_176969];
                                bool cond_176986 = gt_arg0_176983 == gt_arg1_176978;
                                bool defunc_0_leq_res_t_res_176987 = sle64(gt_arg0_176984, gt_arg1_176979);
                                bool defunc_0_leq_res_176988 = sle16(gt_arg0_176985, gt_arg1_176980);
                                bool x_176989 = cond_176986 && defunc_0_leq_res_t_res_176987;
                                bool x_176990 = !cond_176986;
                                bool y_176991 = defunc_0_leq_res_176988 && x_176990;
                                bool defunc_0_leq_res_176992 = x_176989 || y_176991;
                                bool defunc_0_lifted_gt_res_176993 = !defunc_0_leq_res_176992;
                                bool s_176994;
                                int64_t s_176998;
                                bool loop_while_176999;
                                int64_t j_177003;
                                
                                loop_while_176999 = defunc_0_lifted_gt_res_176993;
                                j_177003 = i_176969;
                                while (loop_while_176999) {
                                    bool x_177004 = sle64((int64_t) 0, j_177003);
                                    bool y_177005 = slt64(j_177003, block_sizze_176894);
                                    bool bounds_check_177006 = x_177004 && y_177005;
                                    bool index_certs_177007;
                                    
                                    if (!bounds_check_177006) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177003, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t copy_arg0_177011 = add64((int64_t) 1, j_177003);
                                    bool x_177012 = sle64((int64_t) 0, copy_arg0_177011);
                                    bool y_177013 = slt64(copy_arg0_177011, block_sizze_176894);
                                    bool bounds_check_177014 = x_177012 && y_177013;
                                    bool index_certs_177015;
                                    
                                    if (!bounds_check_177014) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177011, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int8_t copy_arg0_177008 = ((int8_t *) mem_181109)[j_177003];
                                    int64_t copy_arg0_177009 = ((int64_t *) mem_181111)[j_177003];
                                    int16_t copy_arg0_177010 = ((int16_t *) mem_181113)[j_177003];
                                    int8_t copy_arg0_177016 = ((int8_t *) mem_181109)[copy_arg0_177011];
                                    int64_t copy_arg0_177017 = ((int64_t *) mem_181111)[copy_arg0_177011];
                                    int16_t copy_arg0_177018 = ((int16_t *) mem_181113)[copy_arg0_177011];
                                    
                                    ((int8_t *) mem_181109)[j_177003] = copy_arg0_177016;
                                    ((int64_t *) mem_181111)[j_177003] = copy_arg0_177017;
                                    ((int16_t *) mem_181113)[j_177003] = copy_arg0_177018;
                                    ((int8_t *) mem_181109)[copy_arg0_177011] = copy_arg0_177008;
                                    ((int64_t *) mem_181111)[copy_arg0_177011] = copy_arg0_177009;
                                    ((int16_t *) mem_181113)[copy_arg0_177011] = copy_arg0_177010;
                                    
                                    int64_t tmp_177025 = sub64(j_177003, (int64_t) 1);
                                    bool cond_177026 = sle64((int64_t) 0, tmp_177025);
                                    bool loop_cond_177027;
                                    
                                    if (cond_177026) {
                                        bool y_180232 = slt64(tmp_177025, block_sizze_176894);
                                        bool bounds_check_180233 = cond_177026 && y_180232;
                                        bool index_certs_180234;
                                        
                                        if (!bounds_check_180233) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177025, "] out of bounds for array of shape [", (long long) block_sizze_176894, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int8_t gt_arg1_180229 = ((int8_t *) mem_181109)[j_177003];
                                        int64_t gt_arg1_180230 = ((int64_t *) mem_181111)[j_177003];
                                        int16_t gt_arg1_180231 = ((int16_t *) mem_181113)[j_177003];
                                        int8_t gt_arg0_180235 = ((int8_t *) mem_181109)[tmp_177025];
                                        int64_t gt_arg0_180236 = ((int64_t *) mem_181111)[tmp_177025];
                                        int16_t gt_arg0_180237 = ((int16_t *) mem_181113)[tmp_177025];
                                        bool cond_180238 = gt_arg0_180235 == gt_arg1_180229;
                                        bool defunc_0_leq_res_t_res_180239 = sle64(gt_arg0_180236, gt_arg1_180230);
                                        bool defunc_0_leq_res_180240 = sle16(gt_arg0_180237, gt_arg1_180231);
                                        bool x_180241 = cond_180238 && defunc_0_leq_res_t_res_180239;
                                        bool x_180242 = !cond_180238;
                                        bool y_180243 = defunc_0_leq_res_180240 && x_180242;
                                        bool defunc_0_leq_res_180244 = x_180241 || y_180243;
                                        bool defunc_0_lifted_gt_res_180245 = !defunc_0_leq_res_180244;
                                        
                                        loop_cond_177027 = defunc_0_lifted_gt_res_180245;
                                    } else {
                                        loop_cond_177027 = 0;
                                    }
                                    
                                    bool loop_while_tmp_182597 = loop_cond_177027;
                                    int64_t j_tmp_182601 = tmp_177025;
                                    
                                    loop_while_176999 = loop_while_tmp_182597;
                                    j_177003 = j_tmp_182601;
                                }
                                s_176994 = loop_while_176999;
                                s_176998 = j_177003;
                            }
                        }
                        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181090, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181109, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181093, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181111, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181096, i_180805 * block_sizze_176894, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181113, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_176894});
                    }
                    if (memblock_alloc(ctx, &mem_181190, flat_dim_176895, "mem_181190")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_181190.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint8_t *) mem_181090, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181194, bytes_181092, "mem_181194")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_181194.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint64_t *) mem_181093, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    if (memblock_alloc(ctx, &mem_181198, bytes_181095, "mem_181198")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_181198.mem, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (uint16_t *) mem_181096, (int64_t) 0, (int64_t []) {block_sizze_176894, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_176884, block_sizze_176894});
                    
                    int64_t data_177051;
                    bool data_177052;
                    int64_t data_177056;
                    int64_t loop_dz2084Uz2082U_177057;
                    bool loop_while_177058;
                    int64_t stride_177062;
                    
                    if (memblock_set(ctx, &mem_param_181202, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181205, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_set(ctx, &mem_param_181208, &mem_181198, "mem_181198") != 0)
                        return 1;
                    loop_dz2084Uz2082U_177057 = flat_dim_176895;
                    loop_while_177058 = loop_cond_177048;
                    stride_177062 = block_sizze_176894;
                    while (loop_while_177058) {
                        int64_t next_stride_177063 = mul64((int64_t) 2, stride_177062);
                        bool zzero_177064 = next_stride_177063 == (int64_t) 0;
                        bool nonzzero_177065 = !zzero_177064;
                        bool nonzzero_cert_177066;
                        
                        if (!nonzzero_177065) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_merges_177067 = sdiv64(flat_dim_176895, next_stride_177063);
                        bool bounds_invalid_upwards_177068 = slt64(num_merges_177067, (int64_t) 0);
                        bool valid_177069 = !bounds_invalid_upwards_177068;
                        bool range_valid_c_177070;
                        
                        if (!valid_177069) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177067, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t m_177072 = sub64(next_stride_177063, (int64_t) 1);
                        bool zzero_leq_i_p_m_t_s_177073 = sle64((int64_t) 0, m_177072);
                        bool cond_177075 = slt64(next_stride_177063, (int64_t) 10);
                        bool protect_assert_disj_177076 = nonzzero_177050 || cond_177075;
                        bool nonzzero_cert_177077;
                        
                        if (!protect_assert_disj_177076) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t zeze_lhs_177078 = smod_safe64(next_stride_177063, merge_block_sizze_176900);
                        bool num_blocks_177079 = zeze_lhs_177078 == (int64_t) 0;
                        bool protect_assert_disj_177080 = cond_177075 || num_blocks_177079;
                        bool assert_c_177081;
                        
                        if (!protect_assert_disj_177080) {
                            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t num_blocks_177083 = sdiv_safe64(next_stride_177063, merge_block_sizze_176900);
                        int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084 = add64((int64_t) 1, num_blocks_177083);
                        int64_t j_m_i_177085 = sub64(next_stride_177063, stride_177062);
                        int64_t flat_dim_177086 = merge_block_sizze_176900 * num_blocks_177083;
                        bool bounds_invalid_upwards_177087 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, (int64_t) 0);
                        bool empty_slice_177088 = j_m_i_177085 == (int64_t) 0;
                        int64_t m_177089 = sub64(j_m_i_177085, (int64_t) 1);
                        bool zzero_lte_i_177090 = sle64((int64_t) 0, stride_177062);
                        bool i_lte_j_177091 = sle64(stride_177062, next_stride_177063);
                        bool empty_slice_177092 = stride_177062 == (int64_t) 0;
                        int64_t m_177093 = sub64(stride_177062, (int64_t) 1);
                        bool bounds_invalid_upwards_177094 = slt64(num_blocks_177083, (int64_t) 0);
                        bool cond_177095 = slt64((int64_t) 0, stride_177062);
                        bool valid_177096 = !bounds_invalid_upwards_177087;
                        int64_t i_p_m_t_s_177097 = add64(stride_177062, m_177089);
                        bool zzero_leq_i_p_m_t_s_177098 = sle64((int64_t) 0, m_177093);
                        bool i_p_m_t_s_leq_w_177099 = slt64(m_177093, next_stride_177063);
                        bool valid_177100 = !bounds_invalid_upwards_177094;
                        bool i_p_m_t_s_leq_w_177101 = slt64(m_177072, flat_dim_177086);
                        bool y_177102 = slt64((int64_t) 0, j_m_i_177085);
                        bool protect_assert_disj_177103 = cond_177075 || valid_177096;
                        bool range_valid_c_177104;
                        
                        if (!protect_assert_disj_177103) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool zzero_leq_i_p_m_t_s_177105 = sle64((int64_t) 0, i_p_m_t_s_177097);
                        bool i_p_m_t_s_leq_w_177106 = slt64(i_p_m_t_s_177097, next_stride_177063);
                        bool y_177107 = zzero_leq_i_p_m_t_s_177098 && i_p_m_t_s_leq_w_177099;
                        bool protect_assert_disj_177108 = cond_177075 || valid_177100;
                        bool range_valid_c_177109;
                        
                        if (!protect_assert_disj_177108) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177083, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool y_177110 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177101;
                        bool y_177111 = zzero_lte_i_177090 && i_p_m_t_s_leq_w_177106;
                        bool forwards_ok_177112 = zzero_lte_i_177090 && y_177107;
                        bool ok_or_empty_177113 = zzero_177064 || y_177110;
                        bool protect_assert_disj_177114 = cond_177095 || y_177102;
                        bool y_177115 = zzero_leq_i_p_m_t_s_177105 && y_177111;
                        bool ok_or_empty_177116 = empty_slice_177092 || forwards_ok_177112;
                        bool protect_assert_disj_177117 = cond_177075 || ok_or_empty_177113;
                        bool index_certs_177118;
                        
                        if (!protect_assert_disj_177117) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) flat_dim_177086, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool loop_not_taken_177119 = !cond_177075;
                        bool protect_assert_disj_177120 = protect_assert_disj_177114 || loop_not_taken_177119;
                        bool index_certs_177121;
                        
                        if (!protect_assert_disj_177120) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool forwards_ok_177122 = i_lte_j_177091 && y_177115;
                        bool protect_assert_disj_177123 = cond_177075 || ok_or_empty_177116;
                        bool index_certs_177124;
                        
                        if (!protect_assert_disj_177123) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177125 = ok_or_empty_177116 || loop_not_taken_177119;
                        bool index_certs_177126;
                        
                        if (!protect_assert_disj_177125) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177062, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool ok_or_empty_177127 = empty_slice_177088 || forwards_ok_177122;
                        bool protect_assert_disj_177128 = cond_177075 || ok_or_empty_177127;
                        bool index_certs_177129;
                        
                        if (!protect_assert_disj_177128) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool protect_assert_disj_177130 = loop_not_taken_177119 || ok_or_empty_177127;
                        bool index_certs_177131;
                        
                        if (!protect_assert_disj_177130) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177062, ":] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t bytes_181209 = next_stride_177063 * num_merges_177067;
                        int64_t binop_x_181211 = (int64_t) 8 * num_merges_177067;
                        int64_t bytes_181212 = next_stride_177063 * binop_x_181211;
                        int64_t binop_x_181214 = (int64_t) 2 * num_merges_177067;
                        int64_t bytes_181215 = next_stride_177063 * binop_x_181214;
                        bool i_lte_j_177074 = sle64((int64_t) 0, next_stride_177063);
                        
                        if (mem_181210_cached_sizze_182998 < bytes_181209) {
                            err = lexical_realloc(ctx, &mem_181210, &mem_181210_cached_sizze_182998, bytes_181209);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181213_cached_sizze_182999 < bytes_181212) {
                            err = lexical_realloc(ctx, &mem_181213, &mem_181213_cached_sizze_182999, bytes_181212);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        if (mem_181216_cached_sizze_183000 < bytes_181215) {
                            err = lexical_realloc(ctx, &mem_181216, &mem_181216_cached_sizze_183000, bytes_181215);
                            if (err != FUTHARK_SUCCESS)
                                goto cleanup;
                        }
                        
                        int64_t bytes_181229 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084;
                        int64_t binop_x_181247 = (int64_t) 8 * num_blocks_177083;
                        int64_t bytes_181248 = merge_block_sizze_176900 * binop_x_181247;
                        int64_t binop_x_181250 = (int64_t) 2 * num_blocks_177083;
                        int64_t bytes_181251 = merge_block_sizze_176900 * binop_x_181250;
                        int64_t bytes_181312 = (int64_t) 16 * stride_177062;
                        int64_t bytes_181314 = (int64_t) 4 * stride_177062;
                        
                        for (int64_t i_180832 = 0; i_180832 < num_merges_177067; i_180832++) {
                            int64_t start_177136 = mul64(next_stride_177063, i_180832);
                            int64_t j_m_i_177137 = sub64(loop_dz2084Uz2082U_177057, start_177136);
                            bool empty_slice_177138 = j_m_i_177137 == (int64_t) 0;
                            int64_t m_177139 = sub64(j_m_i_177137, (int64_t) 1);
                            int64_t i_p_m_t_s_177140 = add64(start_177136, m_177139);
                            bool zzero_leq_i_p_m_t_s_177141 = sle64((int64_t) 0, i_p_m_t_s_177140);
                            bool i_p_m_t_s_leq_w_177142 = slt64(i_p_m_t_s_177140, loop_dz2084Uz2082U_177057);
                            bool zzero_lte_i_177143 = sle64((int64_t) 0, start_177136);
                            bool i_lte_j_177144 = sle64(start_177136, loop_dz2084Uz2082U_177057);
                            bool y_177145 = i_p_m_t_s_leq_w_177142 && zzero_lte_i_177143;
                            bool y_177146 = zzero_leq_i_p_m_t_s_177141 && y_177145;
                            bool forwards_ok_177147 = i_lte_j_177144 && y_177146;
                            bool ok_or_empty_177148 = empty_slice_177138 || forwards_ok_177147;
                            bool index_certs_177149;
                            
                            if (!ok_or_empty_177148) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177136, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177057, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            bool i_p_m_t_s_leq_w_177150 = slt64(m_177072, j_m_i_177137);
                            bool y_177151 = zzero_leq_i_p_m_t_s_177073 && i_p_m_t_s_leq_w_177150;
                            bool forwards_ok_177152 = i_lte_j_177074 && y_177151;
                            bool ok_or_empty_177153 = zzero_177064 || forwards_ok_177152;
                            bool index_certs_177154;
                            
                            if (!ok_or_empty_177153) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177063, "] out of bounds for array of shape [", (long long) j_m_i_177137, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            if (cond_177075) {
                                int8_t dummy_180284;
                                int64_t dummy_180285;
                                int16_t dummy_180286;
                                
                                if (cond_177095) {
                                    int8_t head_res_180287 = ((int8_t *) mem_param_181202.mem)[start_177136];
                                    int64_t head_res_180288 = ((int64_t *) mem_param_181205.mem)[start_177136];
                                    int16_t head_res_180289 = ((int16_t *) mem_param_181208.mem)[start_177136];
                                    
                                    dummy_180284 = head_res_180287;
                                    dummy_180285 = head_res_180288;
                                    dummy_180286 = head_res_180289;
                                } else {
                                    int64_t slice_180290 = stride_177062 + start_177136;
                                    int8_t head_res_180291 = ((int8_t *) mem_param_181202.mem)[slice_180290];
                                    int64_t head_res_180292 = ((int64_t *) mem_param_181205.mem)[slice_180290];
                                    int16_t head_res_180293 = ((int16_t *) mem_param_181208.mem)[slice_180290];
                                    
                                    dummy_180284 = head_res_180291;
                                    dummy_180285 = head_res_180292;
                                    dummy_180286 = head_res_180293;
                                }
                                if (memblock_alloc(ctx, &mem_181311, next_stride_177063, "mem_181311")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182614 = 0; nest_i_182614 < next_stride_177063; nest_i_182614++) {
                                    ((int8_t *) mem_181311.mem)[nest_i_182614] = dummy_180284;
                                }
                                if (memblock_alloc(ctx, &mem_181313, bytes_181312, "mem_181313")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182615 = 0; nest_i_182615 < next_stride_177063; nest_i_182615++) {
                                    ((int64_t *) mem_181313.mem)[nest_i_182615] = dummy_180285;
                                }
                                if (memblock_alloc(ctx, &mem_181315, bytes_181314, "mem_181315")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                for (int64_t nest_i_182616 = 0; nest_i_182616 < next_stride_177063; nest_i_182616++) {
                                    ((int16_t *) mem_181315.mem)[nest_i_182616] = dummy_180286;
                                }
                                
                                int64_t data_180297;
                                int64_t i_180302 = (int64_t) 0;
                                
                                for (int64_t k_180301 = 0; k_180301 < next_stride_177063; k_180301++) {
                                    int64_t j_180306 = sub64(k_180301, i_180302);
                                    bool cond_180307 = j_180306 == j_m_i_177085;
                                    bool cond_180308;
                                    
                                    if (cond_180307) {
                                        cond_180308 = 1;
                                    } else {
                                        bool cond_180309 = slt64(i_180302, stride_177062);
                                        bool cond_f_res_180310;
                                        
                                        if (cond_180309) {
                                            bool x_180311 = sle64((int64_t) 0, j_180306);
                                            bool y_180312 = slt64(j_180306, j_m_i_177085);
                                            bool bounds_check_180313 = x_180311 && y_180312;
                                            bool index_certs_180314;
                                            
                                            if (!bounds_check_180313) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            bool x_180320 = sle64((int64_t) 0, i_180302);
                                            bool bounds_check_180321 = cond_180309 && x_180320;
                                            bool index_certs_180322;
                                            
                                            if (!bounds_check_180321) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_180315 = stride_177062 + j_180306;
                                            int64_t slice_180316 = start_177136 + slice_180315;
                                            int8_t leq_arg1_180317 = ((int8_t *) mem_param_181202.mem)[slice_180316];
                                            int64_t leq_arg1_180318 = ((int64_t *) mem_param_181205.mem)[slice_180316];
                                            int16_t leq_arg1_180319 = ((int16_t *) mem_param_181208.mem)[slice_180316];
                                            int64_t slice_180323 = start_177136 + i_180302;
                                            int8_t leq_arg0_180324 = ((int8_t *) mem_param_181202.mem)[slice_180323];
                                            int64_t leq_arg0_180325 = ((int64_t *) mem_param_181205.mem)[slice_180323];
                                            int16_t leq_arg0_180326 = ((int16_t *) mem_param_181208.mem)[slice_180323];
                                            bool cond_180327 = leq_arg0_180324 == leq_arg1_180317;
                                            bool defunc_0_leq_res_t_res_180328 = sle64(leq_arg0_180325, leq_arg1_180318);
                                            bool defunc_0_leq_res_180329 = sle16(leq_arg0_180326, leq_arg1_180319);
                                            bool x_180330 = cond_180327 && defunc_0_leq_res_t_res_180328;
                                            bool x_180331 = !cond_180327;
                                            bool y_180332 = defunc_0_leq_res_180329 && x_180331;
                                            bool defunc_0_leq_res_180333 = x_180330 || y_180332;
                                            
                                            cond_f_res_180310 = defunc_0_leq_res_180333;
                                        } else {
                                            cond_f_res_180310 = 0;
                                        }
                                        cond_180308 = cond_f_res_180310;
                                    }
                                    
                                    int64_t loopres_180334;
                                    int8_t loopres_180335;
                                    int64_t loopres_180336;
                                    int16_t loopres_180337;
                                    
                                    if (cond_180308) {
                                        bool x_180339 = sle64((int64_t) 0, i_180302);
                                        bool y_180340 = slt64(i_180302, stride_177062);
                                        bool bounds_check_180341 = x_180339 && y_180340;
                                        bool index_certs_180342;
                                        
                                        if (!bounds_check_180341) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180302, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t tmp_180338 = add64((int64_t) 1, i_180302);
                                        int64_t slice_180343 = start_177136 + i_180302;
                                        int8_t tmp_180344 = ((int8_t *) mem_param_181202.mem)[slice_180343];
                                        int64_t tmp_180345 = ((int64_t *) mem_param_181205.mem)[slice_180343];
                                        int16_t tmp_180346 = ((int16_t *) mem_param_181208.mem)[slice_180343];
                                        
                                        loopres_180334 = tmp_180338;
                                        loopres_180335 = tmp_180344;
                                        loopres_180336 = tmp_180345;
                                        loopres_180337 = tmp_180346;
                                    } else {
                                        bool x_180347 = sle64((int64_t) 0, j_180306);
                                        bool y_180348 = slt64(j_180306, j_m_i_177085);
                                        bool bounds_check_180349 = x_180347 && y_180348;
                                        bool index_certs_180350;
                                        
                                        if (!bounds_check_180349) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180306, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180351 = stride_177062 + j_180306;
                                        int64_t slice_180352 = start_177136 + slice_180351;
                                        int8_t tmp_180353 = ((int8_t *) mem_param_181202.mem)[slice_180352];
                                        int64_t tmp_180354 = ((int64_t *) mem_param_181205.mem)[slice_180352];
                                        int16_t tmp_180355 = ((int16_t *) mem_param_181208.mem)[slice_180352];
                                        
                                        loopres_180334 = i_180302;
                                        loopres_180335 = tmp_180353;
                                        loopres_180336 = tmp_180354;
                                        loopres_180337 = tmp_180355;
                                    }
                                    ((int8_t *) mem_181311.mem)[k_180301] = loopres_180335;
                                    ((int64_t *) mem_181313.mem)[k_180301] = loopres_180336;
                                    ((int16_t *) mem_181315.mem)[k_180301] = loopres_180337;
                                    
                                    int64_t i_tmp_182617 = loopres_180334;
                                    
                                    i_180302 = i_tmp_182617;
                                }
                                data_180297 = i_180302;
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181311, "mem_181311") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181313, "mem_181313") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181315, "mem_181315") != 0)
                                    return 1;
                            } else {
                                if (mem_181230_cached_sizze_183001 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181230, &mem_181230_cached_sizze_183001, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181232_cached_sizze_183002 < bytes_181229) {
                                    err = lexical_realloc(ctx, &mem_181232, &mem_181232_cached_sizze_183002, bytes_181229);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180813 = 0; i_180813 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084; i_180813++) {
                                    int64_t split_count_arg3_177237 = mul64(merge_block_sizze_176900, i_180813);
                                    int64_t defunc_0_split_count_res_177238;
                                    int64_t defunc_0_split_count_res_177239;
                                    int64_t defunc_0_split_count_res_177240;
                                    int64_t defunc_0_split_count_res_177241;
                                    int64_t defunc_0_split_count_res_177242;
                                    
                                    if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177238, &defunc_0_split_count_res_177239, &defunc_0_split_count_res_177240, &defunc_0_split_count_res_177241, &defunc_0_split_count_res_177242, (int64_t) 0, stride_177062, (int64_t) 0, j_m_i_177085, split_count_arg3_177237) != 0) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    bool loop_cond_177243 = slt64((int64_t) 0, defunc_0_split_count_res_177242);
                                    bool defunc_0_split_count_res_177244;
                                    int64_t defunc_0_split_count_res_177245;
                                    int64_t defunc_0_split_count_res_177246;
                                    int64_t defunc_0_split_count_res_177247;
                                    int64_t defunc_0_split_count_res_177248;
                                    int64_t defunc_0_split_count_res_177249;
                                    bool loop_while_177250;
                                    int64_t ss_177251;
                                    int64_t ss_177252;
                                    int64_t tt_177253;
                                    int64_t tt_177254;
                                    int64_t count_177255;
                                    
                                    loop_while_177250 = loop_cond_177243;
                                    ss_177251 = defunc_0_split_count_res_177238;
                                    ss_177252 = defunc_0_split_count_res_177239;
                                    tt_177253 = defunc_0_split_count_res_177240;
                                    tt_177254 = defunc_0_split_count_res_177241;
                                    count_177255 = defunc_0_split_count_res_177242;
                                    while (loop_while_177250) {
                                        int64_t zlze_lhs_177256 = sub64(ss_177252, ss_177251);
                                        bool cond_177257 = sle64(zlze_lhs_177256, (int64_t) 0);
                                        int64_t defunc_0_lifted_step_res_177258;
                                        int64_t defunc_0_lifted_step_res_177259;
                                        int64_t defunc_0_lifted_step_res_177260;
                                        int64_t defunc_0_lifted_step_res_177261;
                                        
                                        if (cond_177257) {
                                            int64_t tmp_180359 = add64(tt_177253, count_177255);
                                            
                                            defunc_0_lifted_step_res_177258 = ss_177251;
                                            defunc_0_lifted_step_res_177259 = tmp_180359;
                                            defunc_0_lifted_step_res_177260 = tt_177254;
                                            defunc_0_lifted_step_res_177261 = (int64_t) 0;
                                        } else {
                                            int64_t zlze_lhs_177263 = sub64(tt_177254, tt_177253);
                                            bool cond_177264 = sle64(zlze_lhs_177263, (int64_t) 0);
                                            int64_t defunc_0_lifted_step_res_f_res_177265;
                                            int64_t defunc_0_lifted_step_res_f_res_177266;
                                            int64_t defunc_0_lifted_step_res_f_res_177267;
                                            int64_t defunc_0_lifted_step_res_f_res_177268;
                                            
                                            if (cond_177264) {
                                                int64_t tmp_180360 = add64(ss_177251, count_177255);
                                                
                                                defunc_0_lifted_step_res_f_res_177265 = tmp_180360;
                                                defunc_0_lifted_step_res_f_res_177266 = tt_177253;
                                                defunc_0_lifted_step_res_f_res_177267 = tt_177254;
                                                defunc_0_lifted_step_res_f_res_177268 = (int64_t) 0;
                                            } else {
                                                bool cond_177270 = count_177255 == (int64_t) 1;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177271;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177272;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177273;
                                                int64_t defunc_0_lifted_step_res_f_res_f_res_177274;
                                                
                                                if (cond_177270) {
                                                    bool x_180362 = sle64((int64_t) 0, ss_177251);
                                                    bool y_180363 = slt64(ss_177251, stride_177062);
                                                    bool bounds_check_180364 = x_180362 && y_180363;
                                                    bool index_certs_180365;
                                                    
                                                    if (!bounds_check_180364) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177251, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    bool x_180370 = sle64((int64_t) 0, tt_177253);
                                                    bool y_180371 = slt64(tt_177253, j_m_i_177085);
                                                    bool bounds_check_180372 = x_180370 && y_180371;
                                                    bool index_certs_180373;
                                                    
                                                    if (!bounds_check_180372) {
                                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177253, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                        err = FUTHARK_PROGRAM_ERROR;
                                                        goto cleanup;
                                                    }
                                                    
                                                    int64_t slice_180366 = start_177136 + ss_177251;
                                                    int8_t leq_arg1_180367 = ((int8_t *) mem_param_181202.mem)[slice_180366];
                                                    int64_t leq_arg1_180368 = ((int64_t *) mem_param_181205.mem)[slice_180366];
                                                    int16_t leq_arg1_180369 = ((int16_t *) mem_param_181208.mem)[slice_180366];
                                                    int64_t slice_180374 = stride_177062 + tt_177253;
                                                    int64_t slice_180375 = start_177136 + slice_180374;
                                                    int8_t leq_arg0_180376 = ((int8_t *) mem_param_181202.mem)[slice_180375];
                                                    int64_t leq_arg0_180377 = ((int64_t *) mem_param_181205.mem)[slice_180375];
                                                    int16_t leq_arg0_180378 = ((int16_t *) mem_param_181208.mem)[slice_180375];
                                                    bool cond_180379 = leq_arg0_180376 == leq_arg1_180367;
                                                    bool defunc_0_leq_res_t_res_180380 = sle64(leq_arg0_180377, leq_arg1_180368);
                                                    bool defunc_0_leq_res_180381 = sle16(leq_arg0_180378, leq_arg1_180369);
                                                    bool x_180382 = cond_180379 && defunc_0_leq_res_t_res_180380;
                                                    bool x_180383 = !cond_180379;
                                                    bool y_180384 = defunc_0_leq_res_180381 && x_180383;
                                                    bool defunc_0_leq_res_180385 = x_180382 || y_180384;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    
                                                    if (defunc_0_leq_res_180385) {
                                                        int64_t tmp_180388 = add64((int64_t) 1, tt_177253);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = ss_177251;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tmp_180388;
                                                    } else {
                                                        int64_t tmp_180389 = add64((int64_t) 1, ss_177251);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180386 = tmp_180389;
                                                        defunc_0_lifted_step_res_f_res_f_res_t_res_180387 = tt_177253;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = defunc_0_lifted_step_res_f_res_f_res_t_res_180386;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_t_res_180387;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = tt_177254;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = (int64_t) 0;
                                                } else {
                                                    int64_t m_177303 = sdiv64(count_177255, (int64_t) 2);
                                                    int64_t n_177304 = sub64(count_177255, m_177303);
                                                    bool cond_177305 = n_177304 == (int64_t) 0;
                                                    int64_t zgze_lhs_177306 = add64(ss_177251, m_177303);
                                                    bool cond_f_res_177307 = sle64(ss_177252, zgze_lhs_177306);
                                                    bool x_177308 = !cond_177305;
                                                    bool y_177309 = cond_f_res_177307 && x_177308;
                                                    bool cond_177310 = cond_177305 || y_177309;
                                                    bool leq_y_x_177311;
                                                    
                                                    if (cond_177310) {
                                                        leq_y_x_177311 = 1;
                                                    } else {
                                                        bool x_177312 = sle64((int64_t) 0, zgze_lhs_177306);
                                                        bool y_177313 = slt64(zgze_lhs_177306, stride_177062);
                                                        bool bounds_check_177314 = x_177312 && y_177313;
                                                        bool index_certs_177315;
                                                        
                                                        if (!bounds_check_177314) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_177306, "] out of bounds for array of shape [", (long long) stride_177062, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t zm_lhs_177320 = add64(tt_177253, n_177304);
                                                        int64_t leq_arg0_177321 = sub64(zm_lhs_177320, (int64_t) 1);
                                                        bool x_177322 = sle64((int64_t) 0, leq_arg0_177321);
                                                        bool y_177323 = slt64(leq_arg0_177321, j_m_i_177085);
                                                        bool bounds_check_177324 = x_177322 && y_177323;
                                                        bool index_certs_177325;
                                                        
                                                        if (!bounds_check_177324) {
                                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_177321, "] out of bounds for array of shape [", (long long) j_m_i_177085, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                            err = FUTHARK_PROGRAM_ERROR;
                                                            goto cleanup;
                                                        }
                                                        
                                                        int64_t slice_177316 = start_177136 + zgze_lhs_177306;
                                                        int8_t leq_arg1_177317 = ((int8_t *) mem_param_181202.mem)[slice_177316];
                                                        int64_t leq_arg1_177318 = ((int64_t *) mem_param_181205.mem)[slice_177316];
                                                        int16_t leq_arg1_177319 = ((int16_t *) mem_param_181208.mem)[slice_177316];
                                                        int64_t slice_177326 = stride_177062 + leq_arg0_177321;
                                                        int64_t slice_177327 = start_177136 + slice_177326;
                                                        int8_t leq_arg0_177328 = ((int8_t *) mem_param_181202.mem)[slice_177327];
                                                        int64_t leq_arg0_177329 = ((int64_t *) mem_param_181205.mem)[slice_177327];
                                                        int16_t leq_arg0_177330 = ((int16_t *) mem_param_181208.mem)[slice_177327];
                                                        bool cond_177331 = leq_arg0_177328 == leq_arg1_177317;
                                                        bool defunc_0_leq_res_t_res_177332 = sle64(leq_arg0_177329, leq_arg1_177318);
                                                        bool defunc_0_leq_res_177333 = sle16(leq_arg0_177330, leq_arg1_177319);
                                                        bool x_177334 = cond_177331 && defunc_0_leq_res_t_res_177332;
                                                        bool x_177335 = !cond_177331;
                                                        bool y_177336 = defunc_0_leq_res_177333 && x_177335;
                                                        bool defunc_0_leq_res_177337 = x_177334 || y_177336;
                                                        
                                                        leq_y_x_177311 = defunc_0_leq_res_177337;
                                                    }
                                                    
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                    
                                                    if (leq_y_x_177311) {
                                                        int64_t tmp_180390 = add64(tt_177253, n_177304);
                                                        int64_t tmp_180391 = sub64(count_177255, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tmp_180390;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tt_177254;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = tmp_180391;
                                                    } else {
                                                        int64_t tmp_177343 = add64(tt_177253, n_177304);
                                                        
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177338 = tt_177253;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177339 = tmp_177343;
                                                        defunc_0_lifted_step_res_f_res_f_res_f_res_177340 = count_177255;
                                                    }
                                                    defunc_0_lifted_step_res_f_res_f_res_177271 = ss_177251;
                                                    defunc_0_lifted_step_res_f_res_f_res_177272 = defunc_0_lifted_step_res_f_res_f_res_f_res_177338;
                                                    defunc_0_lifted_step_res_f_res_f_res_177273 = defunc_0_lifted_step_res_f_res_f_res_f_res_177339;
                                                    defunc_0_lifted_step_res_f_res_f_res_177274 = defunc_0_lifted_step_res_f_res_f_res_f_res_177340;
                                                }
                                                defunc_0_lifted_step_res_f_res_177265 = defunc_0_lifted_step_res_f_res_f_res_177271;
                                                defunc_0_lifted_step_res_f_res_177266 = defunc_0_lifted_step_res_f_res_f_res_177272;
                                                defunc_0_lifted_step_res_f_res_177267 = defunc_0_lifted_step_res_f_res_f_res_177273;
                                                defunc_0_lifted_step_res_f_res_177268 = defunc_0_lifted_step_res_f_res_f_res_177274;
                                            }
                                            defunc_0_lifted_step_res_177258 = defunc_0_lifted_step_res_f_res_177265;
                                            defunc_0_lifted_step_res_177259 = defunc_0_lifted_step_res_f_res_177266;
                                            defunc_0_lifted_step_res_177260 = defunc_0_lifted_step_res_f_res_177267;
                                            defunc_0_lifted_step_res_177261 = defunc_0_lifted_step_res_f_res_177268;
                                        }
                                        
                                        int64_t loopres_177344;
                                        int64_t loopres_177345;
                                        int64_t loopres_177346;
                                        int64_t loopres_177347;
                                        int64_t loopres_177348;
                                        
                                        if (futrts_lifted_normalizze_9069(ctx, &loopres_177344, &loopres_177345, &loopres_177346, &loopres_177347, &loopres_177348, defunc_0_lifted_step_res_177258, ss_177252, defunc_0_lifted_step_res_177259, defunc_0_lifted_step_res_177260, defunc_0_lifted_step_res_177261) != 0) {
                                            err = 1;
                                            goto cleanup;
                                        }
                                        
                                        bool loop_cond_177349 = slt64((int64_t) 0, loopres_177348);
                                        bool loop_while_tmp_182623 = loop_cond_177349;
                                        int64_t ss_tmp_182624 = loopres_177344;
                                        int64_t ss_tmp_182625 = loopres_177345;
                                        int64_t tt_tmp_182626 = loopres_177346;
                                        int64_t tt_tmp_182627 = loopres_177347;
                                        int64_t count_tmp_182628 = loopres_177348;
                                        
                                        loop_while_177250 = loop_while_tmp_182623;
                                        ss_177251 = ss_tmp_182624;
                                        ss_177252 = ss_tmp_182625;
                                        tt_177253 = tt_tmp_182626;
                                        tt_177254 = tt_tmp_182627;
                                        count_177255 = count_tmp_182628;
                                    }
                                    defunc_0_split_count_res_177244 = loop_while_177250;
                                    defunc_0_split_count_res_177245 = ss_177251;
                                    defunc_0_split_count_res_177246 = ss_177252;
                                    defunc_0_split_count_res_177247 = tt_177253;
                                    defunc_0_split_count_res_177248 = tt_177254;
                                    defunc_0_split_count_res_177249 = count_177255;
                                    ((int64_t *) mem_181230)[i_180813] = defunc_0_split_count_res_177245;
                                    ((int64_t *) mem_181232)[i_180813] = defunc_0_split_count_res_177247;
                                }
                                if (mem_181246_cached_sizze_183003 < flat_dim_177086) {
                                    err = lexical_realloc(ctx, &mem_181246, &mem_181246_cached_sizze_183003, flat_dim_177086);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181249_cached_sizze_183004 < bytes_181248) {
                                    err = lexical_realloc(ctx, &mem_181249, &mem_181249_cached_sizze_183004, bytes_181248);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                if (mem_181252_cached_sizze_183005 < bytes_181251) {
                                    err = lexical_realloc(ctx, &mem_181252, &mem_181252_cached_sizze_183005, bytes_181251);
                                    if (err != FUTHARK_SUCCESS)
                                        goto cleanup;
                                }
                                for (int64_t i_180822 = 0; i_180822 < num_blocks_177083; i_180822++) {
                                    bool y_177356 = slt64(i_180822, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool index_certs_177358;
                                    
                                    if (!y_177356) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180822, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177359 = ((int64_t *) mem_181230)[i_180822];
                                    int64_t defunc_0_f_res_177360 = ((int64_t *) mem_181232)[i_180822];
                                    int64_t tmp_177361 = add64((int64_t) 1, i_180822);
                                    bool x_177362 = sle64((int64_t) 0, tmp_177361);
                                    bool y_177363 = slt64(tmp_177361, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084);
                                    bool bounds_check_177364 = x_177362 && y_177363;
                                    bool index_certs_177365;
                                    
                                    if (!bounds_check_177364) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177361, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177084, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t defunc_0_f_res_177366 = ((int64_t *) mem_181230)[tmp_177361];
                                    int64_t defunc_0_f_res_177367 = ((int64_t *) mem_181232)[tmp_177361];
                                    int64_t merge_sequential_arg2_177368 = add64(stride_177062, defunc_0_f_res_177360);
                                    int64_t merge_sequential_arg2_177369 = add64(stride_177062, defunc_0_f_res_177367);
                                    int64_t j_m_i_177370 = sub64(merge_sequential_arg2_177369, merge_sequential_arg2_177368);
                                    bool empty_slice_177371 = j_m_i_177370 == (int64_t) 0;
                                    int64_t m_177372 = sub64(j_m_i_177370, (int64_t) 1);
                                    int64_t i_p_m_t_s_177373 = add64(merge_sequential_arg2_177368, m_177372);
                                    bool zzero_leq_i_p_m_t_s_177374 = sle64((int64_t) 0, i_p_m_t_s_177373);
                                    bool i_p_m_t_s_leq_w_177375 = slt64(i_p_m_t_s_177373, next_stride_177063);
                                    bool zzero_lte_i_177376 = sle64((int64_t) 0, merge_sequential_arg2_177368);
                                    bool i_lte_j_177377 = sle64(merge_sequential_arg2_177368, merge_sequential_arg2_177369);
                                    bool y_177378 = i_p_m_t_s_leq_w_177375 && zzero_lte_i_177376;
                                    bool y_177379 = zzero_leq_i_p_m_t_s_177374 && y_177378;
                                    bool forwards_ok_177380 = i_lte_j_177377 && y_177379;
                                    bool ok_or_empty_177381 = empty_slice_177371 || forwards_ok_177380;
                                    bool index_certs_177382;
                                    
                                    if (!ok_or_empty_177381) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_177368, ":", (long long) merge_sequential_arg2_177369, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t j_m_i_177383 = sub64(defunc_0_f_res_177366, defunc_0_f_res_177359);
                                    bool empty_slice_177384 = j_m_i_177383 == (int64_t) 0;
                                    int64_t m_177385 = sub64(j_m_i_177383, (int64_t) 1);
                                    int64_t i_p_m_t_s_177386 = add64(defunc_0_f_res_177359, m_177385);
                                    bool zzero_leq_i_p_m_t_s_177387 = sle64((int64_t) 0, i_p_m_t_s_177386);
                                    bool i_p_m_t_s_leq_w_177388 = slt64(i_p_m_t_s_177386, next_stride_177063);
                                    bool zzero_lte_i_177389 = sle64((int64_t) 0, defunc_0_f_res_177359);
                                    bool i_lte_j_177390 = sle64(defunc_0_f_res_177359, defunc_0_f_res_177366);
                                    bool y_177391 = i_p_m_t_s_leq_w_177388 && zzero_lte_i_177389;
                                    bool y_177392 = zzero_leq_i_p_m_t_s_177387 && y_177391;
                                    bool forwards_ok_177393 = i_lte_j_177390 && y_177392;
                                    bool ok_or_empty_177394 = empty_slice_177384 || forwards_ok_177393;
                                    bool index_certs_177395;
                                    
                                    if (!ok_or_empty_177394) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_177359, ":", (long long) defunc_0_f_res_177366, "] out of bounds for array of shape [", (long long) next_stride_177063, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool cond_177396 = slt64((int64_t) 0, j_m_i_177383);
                                    int8_t dummy_177397;
                                    int64_t dummy_177398;
                                    int16_t dummy_177399;
                                    
                                    if (cond_177396) {
                                        bool index_certs_180392;
                                        
                                        if (!cond_177396) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180393 = start_177136 + defunc_0_f_res_177359;
                                        int8_t head_res_180394 = ((int8_t *) mem_param_181202.mem)[slice_180393];
                                        int64_t head_res_180395 = ((int64_t *) mem_param_181205.mem)[slice_180393];
                                        int16_t head_res_180396 = ((int16_t *) mem_param_181208.mem)[slice_180393];
                                        
                                        dummy_177397 = head_res_180394;
                                        dummy_177398 = head_res_180395;
                                        dummy_177399 = head_res_180396;
                                    } else {
                                        bool y_177405 = slt64((int64_t) 0, j_m_i_177370);
                                        bool index_certs_177406;
                                        
                                        if (!y_177405) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_177407 = start_177136 + merge_sequential_arg2_177368;
                                        int8_t head_res_177408 = ((int8_t *) mem_param_181202.mem)[slice_177407];
                                        int64_t head_res_177409 = ((int64_t *) mem_param_181205.mem)[slice_177407];
                                        int16_t head_res_177410 = ((int16_t *) mem_param_181208.mem)[slice_177407];
                                        
                                        dummy_177397 = head_res_177408;
                                        dummy_177398 = head_res_177409;
                                        dummy_177399 = head_res_177410;
                                    }
                                    for (int64_t nest_i_182632 = 0; nest_i_182632 < merge_block_sizze_176900; nest_i_182632++) {
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + nest_i_182632] = dummy_177397;
                                    }
                                    for (int64_t nest_i_182633 = 0; nest_i_182633 < merge_block_sizze_176900; nest_i_182633++) {
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + nest_i_182633] = dummy_177398;
                                    }
                                    for (int64_t nest_i_182634 = 0; nest_i_182634 < merge_block_sizze_176900; nest_i_182634++) {
                                        ((int16_t *) mem_181252)[i_180822 * merge_block_sizze_176900 + nest_i_182634] = dummy_177399;
                                    }
                                    
                                    int64_t data_177414;
                                    int64_t i_177419 = (int64_t) 0;
                                    
                                    for (int64_t k_177418 = 0; k_177418 < merge_block_sizze_176900; k_177418++) {
                                        int64_t j_177423 = sub64(k_177418, i_177419);
                                        bool cond_177424 = j_177423 == j_m_i_177370;
                                        bool cond_177425;
                                        
                                        if (cond_177424) {
                                            cond_177425 = 1;
                                        } else {
                                            bool cond_177426 = slt64(i_177419, j_m_i_177383);
                                            bool cond_f_res_177427;
                                            
                                            if (cond_177426) {
                                                bool x_180397 = sle64((int64_t) 0, j_177423);
                                                bool y_180398 = slt64(j_177423, j_m_i_177370);
                                                bool bounds_check_180399 = x_180397 && y_180398;
                                                bool index_certs_180400;
                                                
                                                if (!bounds_check_180399) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                bool x_180406 = sle64((int64_t) 0, i_177419);
                                                bool bounds_check_180407 = cond_177426 && x_180406;
                                                bool index_certs_180408;
                                                
                                                if (!bounds_check_180407) {
                                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                    err = FUTHARK_PROGRAM_ERROR;
                                                    goto cleanup;
                                                }
                                                
                                                int64_t slice_180401 = merge_sequential_arg2_177368 + j_177423;
                                                int64_t slice_180402 = start_177136 + slice_180401;
                                                int8_t leq_arg1_180403 = ((int8_t *) mem_param_181202.mem)[slice_180402];
                                                int64_t leq_arg1_180404 = ((int64_t *) mem_param_181205.mem)[slice_180402];
                                                int16_t leq_arg1_180405 = ((int16_t *) mem_param_181208.mem)[slice_180402];
                                                int64_t slice_180409 = defunc_0_f_res_177359 + i_177419;
                                                int64_t slice_180410 = start_177136 + slice_180409;
                                                int8_t leq_arg0_180411 = ((int8_t *) mem_param_181202.mem)[slice_180410];
                                                int64_t leq_arg0_180412 = ((int64_t *) mem_param_181205.mem)[slice_180410];
                                                int16_t leq_arg0_180413 = ((int16_t *) mem_param_181208.mem)[slice_180410];
                                                bool cond_180414 = leq_arg0_180411 == leq_arg1_180403;
                                                bool defunc_0_leq_res_t_res_180415 = sle64(leq_arg0_180412, leq_arg1_180404);
                                                bool defunc_0_leq_res_180416 = sle16(leq_arg0_180413, leq_arg1_180405);
                                                bool x_180417 = cond_180414 && defunc_0_leq_res_t_res_180415;
                                                bool x_180418 = !cond_180414;
                                                bool y_180419 = defunc_0_leq_res_180416 && x_180418;
                                                bool defunc_0_leq_res_180420 = x_180417 || y_180419;
                                                
                                                cond_f_res_177427 = defunc_0_leq_res_180420;
                                            } else {
                                                cond_f_res_177427 = 0;
                                            }
                                            cond_177425 = cond_f_res_177427;
                                        }
                                        
                                        int64_t loopres_177452;
                                        int8_t loopres_177453;
                                        int64_t loopres_177454;
                                        int16_t loopres_177455;
                                        
                                        if (cond_177425) {
                                            bool x_180422 = sle64((int64_t) 0, i_177419);
                                            bool y_180423 = slt64(i_177419, j_m_i_177383);
                                            bool bounds_check_180424 = x_180422 && y_180423;
                                            bool index_certs_180425;
                                            
                                            if (!bounds_check_180424) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177419, "] out of bounds for array of shape [", (long long) j_m_i_177383, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t tmp_180421 = add64((int64_t) 1, i_177419);
                                            int64_t slice_180426 = defunc_0_f_res_177359 + i_177419;
                                            int64_t slice_180427 = start_177136 + slice_180426;
                                            int8_t tmp_180428 = ((int8_t *) mem_param_181202.mem)[slice_180427];
                                            int64_t tmp_180429 = ((int64_t *) mem_param_181205.mem)[slice_180427];
                                            int16_t tmp_180430 = ((int16_t *) mem_param_181208.mem)[slice_180427];
                                            
                                            loopres_177452 = tmp_180421;
                                            loopres_177453 = tmp_180428;
                                            loopres_177454 = tmp_180429;
                                            loopres_177455 = tmp_180430;
                                        } else {
                                            bool x_177466 = sle64((int64_t) 0, j_177423);
                                            bool y_177467 = slt64(j_177423, j_m_i_177370);
                                            bool bounds_check_177468 = x_177466 && y_177467;
                                            bool index_certs_177469;
                                            
                                            if (!bounds_check_177468) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177423, "] out of bounds for array of shape [", (long long) j_m_i_177370, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_177470 = merge_sequential_arg2_177368 + j_177423;
                                            int64_t slice_177471 = start_177136 + slice_177470;
                                            int8_t tmp_177472 = ((int8_t *) mem_param_181202.mem)[slice_177471];
                                            int64_t tmp_177473 = ((int64_t *) mem_param_181205.mem)[slice_177471];
                                            int16_t tmp_177474 = ((int16_t *) mem_param_181208.mem)[slice_177471];
                                            
                                            loopres_177452 = i_177419;
                                            loopres_177453 = tmp_177472;
                                            loopres_177454 = tmp_177473;
                                            loopres_177455 = tmp_177474;
                                        }
                                        ((int8_t *) mem_181246)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177453;
                                        ((int64_t *) mem_181249)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177454;
                                        ((int16_t *) mem_181252)[i_180822 * merge_block_sizze_176900 + k_177418] = loopres_177455;
                                        
                                        int64_t i_tmp_182635 = loopres_177452;
                                        
                                        i_177419 = i_tmp_182635;
                                    }
                                    data_177414 = i_177419;
                                }
                                if (memblock_alloc(ctx, &mem_181301, flat_dim_177086, "mem_181301")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_1b(ctx, 2, (uint8_t *) mem_181301.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint8_t *) mem_181246, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181305, bytes_181248, "mem_181305")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_8b(ctx, 2, (uint64_t *) mem_181305.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint64_t *) mem_181249, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_alloc(ctx, &mem_181309, bytes_181251, "mem_181309")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                lmad_copy_2b(ctx, 2, (uint16_t *) mem_181309.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (uint16_t *) mem_181252, (int64_t) 0, (int64_t []) {merge_block_sizze_176900, (int64_t) 1}, (int64_t []) {num_blocks_177083, merge_block_sizze_176900});
                                if (memblock_set(ctx, &ext_mem_181342, &mem_181301, "mem_181301") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181339, &mem_181305, "mem_181305") != 0)
                                    return 1;
                                if (memblock_set(ctx, &ext_mem_181336, &mem_181309, "mem_181309") != 0)
                                    return 1;
                            }
                            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181210, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181342.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
                                return 1;
                            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181213, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181339.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
                                return 1;
                            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181216, i_180832 * next_stride_177063, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181336.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177063});
                            if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
                                return 1;
                        }
                        if (memblock_alloc(ctx, &mem_181356, bytes_181209, "mem_181356")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181356.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint8_t *) mem_181210, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181360, bytes_181212, "mem_181360")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181360.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint64_t *) mem_181213, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        if (memblock_alloc(ctx, &mem_181364, bytes_181215, "mem_181364")) {
                            err = 1;
                            goto cleanup;
                        }
                        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181364.mem, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (uint16_t *) mem_181216, (int64_t) 0, (int64_t []) {next_stride_177063, (int64_t) 1}, (int64_t []) {num_merges_177067, next_stride_177063});
                        
                        bool loop_cond_177488 = slt64(next_stride_177063, flat_dim_176895);
                        
                        if (memblock_set(ctx, &mem_param_tmp_182602, &mem_181356, "mem_181356") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182603, &mem_181360, "mem_181360") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_tmp_182604, &mem_181364, "mem_181364") != 0)
                            return 1;
                        
                        int64_t loop_dz2084Uz2082U_tmp_182605 = bytes_181209;
                        bool loop_while_tmp_182606 = loop_cond_177488;
                        int64_t stride_tmp_182610 = next_stride_177063;
                        
                        if (memblock_set(ctx, &mem_param_181202, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181205, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
                            return 1;
                        if (memblock_set(ctx, &mem_param_181208, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
                            return 1;
                        loop_dz2084Uz2082U_177057 = loop_dz2084Uz2082U_tmp_182605;
                        loop_while_177058 = loop_while_tmp_182606;
                        stride_177062 = stride_tmp_182610;
                    }
                    if (memblock_set(ctx, &ext_mem_181374, &mem_param_181202, "mem_param_181202") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181373, &mem_param_181205, "mem_param_181205") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181372, &mem_param_181208, "mem_param_181208") != 0)
                        return 1;
                    data_177051 = loop_dz2084Uz2082U_177057;
                    data_177052 = loop_while_177058;
                    data_177056 = stride_177062;
                    if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
                        return 1;
                    if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
                        return 1;
                    
                    bool empty_slice_177489 = dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831 == (int64_t) 0;
                    bool zzero_leq_i_p_m_t_s_177490 = sle64((int64_t) 0, zs_lhs_176879);
                    bool i_p_m_t_s_leq_w_177491 = slt64(zs_lhs_176879, data_177051);
                    bool y_177492 = zzero_leq_i_p_m_t_s_177490 && i_p_m_t_s_leq_w_177491;
                    bool ok_or_empty_177493 = empty_slice_177489 || y_177492;
                    bool index_certs_177494;
                    
                    if (!ok_or_empty_177493) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UZLZLzmZRz20U0z20U0ZRz20UZLZLzmZRz20U1z20U1ZRz7dUzg_176831, "] out of bounds for array of shape [", (long long) data_177051, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    if (memblock_set(ctx, &ext_mem_181383, &ext_mem_181374, "ext_mem_181374") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181380, &ext_mem_181373, "ext_mem_181373") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_181377, &ext_mem_181372, "ext_mem_181372") != 0)
                        return 1;
                }
                if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
                    return 1;
                if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
                    return 1;
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181064.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181383.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181066.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_181380.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181068.mem, ind_bottom_176832, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181377.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Uind_topz20Uind_bottomz7dUzg_176834});
                if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
                    return 1;
                
                bool loop_cond_177530 = slt64(ubs_176822, threads_121187);
                bool loop_while_tmp_182569 = loop_cond_177530;
                int64_t p_tmp_182570 = ubs_176822;
                
                loop_while_176811 = loop_while_tmp_182569;
                p_176812 = p_tmp_182570;
            }
            defunc_0_mergeFunc_seq_res_176806 = loop_while_176811;
            defunc_0_mergeFunc_seq_res_176807 = p_176812;
            
            int64_t index_concat_branch_178347;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180445 = ((int64_t *) mem_181049)[index_concat_i_178344];
                
                index_concat_branch_178347 = index_concat_180445;
            } else {
                index_concat_branch_178347 = (int64_t) 0;
            }
            
            int64_t index_concat_branch_178341;
            
            if (index_concat_cmp_178343) {
                int64_t index_concat_180446 = ((int64_t *) mem_181051)[index_concat_i_178344];
                
                index_concat_branch_178341 = index_concat_180446;
            } else {
                index_concat_branch_178341 = (int64_t) 0;
            }
            if (memblock_set(ctx, &ext_mem_181802, &mem_181064, "mem_181064") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181799, &mem_181066, "mem_181066") != 0)
                return 1;
            if (memblock_set(ctx, &ext_mem_181796, &mem_181068, "mem_181068") != 0)
                return 1;
            loopres_175570 = index_concat_branch_178347;
            loopres_175571 = index_concat_branch_178341;
        }
        for (int64_t i_180838 = 0; i_180838 < window_sizze_121186; i_180838++) {
            int8_t eta_p_177538 = ((int8_t *) ext_mem_181802.mem)[i_180838];
            int64_t eta_p_177539 = ((int64_t *) ext_mem_181799.mem)[i_180838];
            bool cond_177540 = eta_p_177538 == (int8_t) 0;
            int64_t tmp_177541;
            
            if (cond_177540) {
                int64_t tmp_t_res_180449 = add64(p_175542, eta_p_177539);
                
                tmp_177541 = tmp_t_res_180449;
            } else {
                int64_t tmp_f_res_177543 = add64(p_175543, eta_p_177539);
                
                tmp_177541 = tmp_f_res_177543;
            }
            ((int64_t *) mem_181036.mem)[ind_bottom_175546 + i_180838] = tmp_177541;
        }
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        
        int64_t next_lbs_177544 = add64(p_175542, loopres_175570);
        int64_t next_lbs_177545 = add64(p_175543, loopres_175571);
        
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_181802.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_121186});
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181038.mem, ind_bottom_175546, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_181796.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {window_sizze_121186});
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        
        bool cond_177559 = slt64(next_lbs_177544, zl_rhs_175525);
        bool loop_cond_t_res_177560 = slt64(next_lbs_177545, zl_rhs_175527);
        bool x_177561 = cond_177559 && loop_cond_t_res_177560;
        bool loop_while_tmp_182453 = x_177561;
        int64_t p_tmp_182457 = next_lbs_177544;
        int64_t p_tmp_182458 = next_lbs_177545;
        
        loop_while_175538 = loop_while_tmp_182453;
        p_175542 = p_tmp_182457;
        p_175543 = p_tmp_182458;
    }
    defunc_0_merge_pipeline_res_175532 = loop_while_175538;
    defunc_0_merge_pipeline_res_175536 = p_175542;
    defunc_0_merge_pipeline_res_175537 = p_175543;
    
    int64_t dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 = sub64(nb_121185, defunc_0_merge_pipeline_res_175537);
    int64_t dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 = sub64(na_121184, defunc_0_merge_pipeline_res_175536);
    int64_t dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 = add64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    bool empty_slice_177565 = dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 == (int64_t) 0;
    int64_t m_177566 = sub64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 1);
    int64_t i_p_m_t_s_177567 = add64(defunc_0_merge_pipeline_res_175536, m_177566);
    bool zzero_leq_i_p_m_t_s_177568 = sle64((int64_t) 0, i_p_m_t_s_177567);
    bool i_p_m_t_s_leq_w_177569 = slt64(i_p_m_t_s_177567, na_121184);
    bool zzero_lte_i_177570 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175536);
    bool i_lte_j_177571 = sle64(defunc_0_merge_pipeline_res_175536, na_121184);
    bool y_177572 = i_p_m_t_s_leq_w_177569 && zzero_lte_i_177570;
    bool y_177573 = zzero_leq_i_p_m_t_s_177568 && y_177572;
    bool forwards_ok_177574 = i_lte_j_177571 && y_177573;
    bool ok_or_empty_177575 = empty_slice_177565 || forwards_ok_177574;
    bool index_certs_177576;
    
    if (!ok_or_empty_177575) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175536, ":", (long long) na_121184, "] out of bounds for array of shape [", (long long) na_121184, "].", "-> #0  ftsort.fut:341:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177580 = slt64(na_121184, defunc_0_merge_pipeline_res_175536);
    bool valid_177581 = !bounds_invalid_upwards_177580;
    bool range_valid_c_177582;
    
    if (!valid_177581) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175536, "..<", (long long) na_121184, " is invalid.", "-> #0  ftsort.fut:345:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_177586 = dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562 == (int64_t) 0;
    int64_t m_177587 = sub64(dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562, (int64_t) 1);
    int64_t i_p_m_t_s_177588 = add64(defunc_0_merge_pipeline_res_175537, m_177587);
    bool zzero_leq_i_p_m_t_s_177589 = sle64((int64_t) 0, i_p_m_t_s_177588);
    bool i_p_m_t_s_leq_w_177590 = slt64(i_p_m_t_s_177588, nb_121185);
    bool zzero_lte_i_177591 = sle64((int64_t) 0, defunc_0_merge_pipeline_res_175537);
    bool i_lte_j_177592 = sle64(defunc_0_merge_pipeline_res_175537, nb_121185);
    bool y_177593 = i_p_m_t_s_leq_w_177590 && zzero_lte_i_177591;
    bool y_177594 = zzero_leq_i_p_m_t_s_177589 && y_177593;
    bool forwards_ok_177595 = i_lte_j_177592 && y_177594;
    bool ok_or_empty_177596 = empty_slice_177586 || forwards_ok_177595;
    bool index_certs_177597;
    
    if (!ok_or_empty_177596) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_merge_pipeline_res_175537, ":", (long long) nb_121185, "] out of bounds for array of shape [", (long long) nb_121185, "].", "-> #0  ftsort.fut:347:14-34\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177601 = slt64(nb_121185, defunc_0_merge_pipeline_res_175537);
    bool valid_177602 = !bounds_invalid_upwards_177601;
    bool range_valid_c_177603;
    
    if (!valid_177602) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) defunc_0_merge_pipeline_res_175537, "..<", (long long) nb_121185, " is invalid.", "-> #0  ftsort.fut:351:9-25\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181827 = (int64_t) 8 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    int64_t bytes_181829 = (int64_t) 2 * dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool cond_177610 = sle64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zs_lhs_177611 = sub64(dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, (int64_t) 1);
    int64_t zp_rhs_177612 = sdiv_safe64(zs_lhs_177611, (int64_t) 20);
    int64_t min_num_blocks_177613 = add64((int64_t) 1, zp_rhs_177612);
    bool loop_cond_177614 = slt64((int64_t) 1, min_num_blocks_177613);
    bool smallest_pow_2_geq_than_res_177615;
    int64_t smallest_pow_2_geq_than_res_177616;
    bool loop_while_177617;
    int64_t x_177618;
    
    loop_while_177617 = loop_cond_177614;
    x_177618 = (int64_t) 1;
    while (loop_while_177617) {
        int64_t loopres_177619 = mul64((int64_t) 2, x_177618);
        bool loop_cond_177620 = slt64(loopres_177619, min_num_blocks_177613);
        bool loop_while_tmp_182640 = loop_cond_177620;
        int64_t x_tmp_182641 = loopres_177619;
        
        loop_while_177617 = loop_while_tmp_182640;
        x_177618 = x_tmp_182641;
    }
    smallest_pow_2_geq_than_res_177615 = loop_while_177617;
    smallest_pow_2_geq_than_res_177616 = x_177618;
    
    bool zzero_177621 = smallest_pow_2_geq_than_res_177616 == (int64_t) 0;
    bool nonzzero_177622 = !zzero_177621;
    bool protect_assert_disj_177623 = cond_177610 || nonzzero_177622;
    bool nonzzero_cert_177624;
    
    if (!protect_assert_disj_177623) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:234:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t zp_rhs_177625 = sdiv_safe64(zs_lhs_177611, smallest_pow_2_geq_than_res_177616);
    int64_t block_sizze_177626 = add64((int64_t) 1, zp_rhs_177625);
    bool y_177633 = slt64((int64_t) 0, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool protect_assert_disj_182155 = cond_177610 || y_177633;
    bool index_certs_177634;
    
    if (!protect_assert_disj_182155) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:240:60-64\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177660 = slt64(smallest_pow_2_geq_than_res_177616, (int64_t) 0);
    bool valid_177661 = !bounds_invalid_upwards_177660;
    bool protect_assert_disj_182165 = cond_177610 || valid_177661;
    bool range_valid_c_177662;
    
    if (!protect_assert_disj_182165) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) smallest_pow_2_geq_than_res_177616, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool bounds_invalid_upwards_177664 = slt64(block_sizze_177626, (int64_t) 0);
    bool valid_177665 = !bounds_invalid_upwards_177664;
    bool protect_assert_disj_182167 = cond_177610 || valid_177665;
    bool range_valid_c_177666;
    
    if (!protect_assert_disj_182167) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) block_sizze_177626, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_177668 = sle64(block_sizze_177626, (int64_t) 1);
    int64_t tmp_177669 = sub64(block_sizze_177626, (int64_t) 2);
    bool bounds_invalid_upwards_177670 = slt64(tmp_177669, (int64_t) 0);
    bool valid_177672 = !bounds_invalid_upwards_177670;
    bool protect_assert_disj_177673 = cond_177668 || valid_177672;
    bool protect_assert_disj_182169 = cond_177610 || protect_assert_disj_177673;
    bool range_valid_c_177674;
    
    if (!protect_assert_disj_182169) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "...", (long long) tmp_177669, " is invalid.", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:166:19-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_178235 = dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564 == (int64_t) 0;
    bool zzero_leq_i_p_m_t_s_178237 = sle64((int64_t) 0, zs_lhs_177611);
    bool i_p_m_t_s_leq_w_178238 = slt64(zs_lhs_177611, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
    bool y_178239 = zzero_leq_i_p_m_t_s_178237 && i_p_m_t_s_leq_w_178238;
    bool ok_or_empty_178240 = empty_slice_178235 || y_178239;
    bool index_certs_178241;
    
    if (!ok_or_empty_178240) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  ftsort.fut:360:78-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t final_buffer_178242 = add64(defunc_0_merge_pipeline_res_175536, defunc_0_merge_pipeline_res_175537);
    int64_t j_m_i_178243 = sub64(dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, final_buffer_178242);
    bool empty_slice_178244 = j_m_i_178243 == (int64_t) 0;
    int64_t m_178245 = sub64(j_m_i_178243, (int64_t) 1);
    int64_t i_p_m_t_s_178246 = add64(final_buffer_178242, m_178245);
    bool zzero_leq_i_p_m_t_s_178247 = sle64((int64_t) 0, i_p_m_t_s_178246);
    bool i_p_m_t_s_leq_w_178248 = slt64(i_p_m_t_s_178246, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool zzero_lte_i_178249 = sle64((int64_t) 0, final_buffer_178242);
    bool i_lte_j_178250 = sle64(final_buffer_178242, dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521);
    bool y_178251 = i_p_m_t_s_leq_w_178248 && zzero_lte_i_178249;
    bool y_178252 = zzero_leq_i_p_m_t_s_178247 && y_178251;
    bool forwards_ok_178253 = i_lte_j_178250 && y_178252;
    bool ok_or_empty_178254 = empty_slice_178244 || forwards_ok_178253;
    bool index_certs_178255;
    
    if (!ok_or_empty_178254) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) final_buffer_178242, ":", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521, "].", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool dim_match_178256 = j_m_i_178243 == dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564;
    bool empty_or_match_cert_178257;
    
    if (!dim_match_178256) {
        set_error(ctx, msgprintf("Error: %s%s%lld%s%s%s%lld%s%s\n\nBacktrace:\n%s", "Shape ", "[", (long long) j_m_i_178243, "]", " of slice does not match shape ", "[", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "]", " of value.", "-> #0  ftsort.fut:360:22-101\n   #1  ftsort.fut:371:63-73\n   #2  ftsort.fut:364:1-371:73\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181826, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "mem_181826")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182642 = 0; nest_i_182642 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; nest_i_182642++) {
        ((int8_t *) mem_181826.mem)[nest_i_182642] = (int8_t) 0;
    }
    if (memblock_alloc(ctx, &mem_181828, bytes_181827, "mem_181828")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182643 = 0; i_182643 < dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563; i_182643++) {
        int64_t x_182644 = defunc_0_merge_pipeline_res_175536 + i_182643 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[i_182643] = x_182644;
    }
    for (int64_t nest_i_182645 = 0; nest_i_182645 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; nest_i_182645++) {
        ((int8_t *) mem_181826.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + nest_i_182645] = (int8_t) 1;
    }
    for (int64_t i_182646 = 0; i_182646 < dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562; i_182646++) {
        int64_t x_182647 = defunc_0_merge_pipeline_res_175537 + i_182646 * (int64_t) 1;
        
        ((int64_t *) mem_181828.mem)[dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563 + i_182646] = x_182647;
    }
    
    int64_t tmp_offs_182648 = (int64_t) 0;
    
    if (!(tmp_offs_182648 == (int64_t) 0)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182648 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_1b(ctx, 1, (uint8_t *) mem_181826.mem, tmp_offs_182648, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181826.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182648 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t tmp_offs_182649 = (int64_t) 0;
    
    if (!(tmp_offs_182649 == (int64_t) 0)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    if (!(tmp_offs_182649 == dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563)) {
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181828.mem, tmp_offs_182649, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181828.mem, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    }
    tmp_offs_182649 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    if (memblock_alloc(ctx, &mem_181830, bytes_181829, "mem_181830")) {
        err = 1;
        goto cleanup;
    }
    
    int64_t tmp_offs_182650 = (int64_t) 0;
    
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint16_t *) a_list_mem_181032.mem, defunc_0_merge_pipeline_res_175536, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181830.mem, tmp_offs_182650, (int64_t []) {(int64_t) 1}, (uint16_t *) b_list_mem_181033.mem, defunc_0_merge_pipeline_res_175537, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562});
    tmp_offs_182650 += dzlz7bUZLzmZRz20Unbz20U1z7dUzg_177562;
    
    int64_t flat_dim_177627 = smallest_pow_2_geq_than_res_177616 * block_sizze_177626;
    bool x_182150 = !cond_177610;
    int64_t greatest_divisor_leq_than_arg1_177631 = mul64((int64_t) 2, block_sizze_177626);
    int64_t merge_block_sizze_177632;
    
    if (x_182150) {
        int64_t x_182152;
        
        if (futrts_greatest_divisor_leq_than_4833(ctx, &x_182152, (int64_t) 8, greatest_divisor_leq_than_arg1_177631) != 0) {
            err = 1;
            goto cleanup;
        }
        merge_block_sizze_177632 = x_182152;
    } else {
        merge_block_sizze_177632 = (int64_t) 0;
    }
    
    bool index_concat_cmp_178307 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, (int64_t) 0);
    int8_t index_concat_branch_178311 = btoi_bool_i8(index_concat_cmp_178307);
    int64_t index_concat_i_180451 = sub64((int64_t) 0, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
    int64_t index_primexp_180452 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180451);
    int64_t index_concat_branch_178305;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178305 = index_primexp_180452;
    } else {
        index_concat_branch_178305 = defunc_0_merge_pipeline_res_175536;
    }
    
    bool x_182146 = !index_concat_cmp_178307;
    bool protect_cond_conj_182156 = x_182146 && x_182150;
    int16_t index_concat_178298;
    
    if (protect_cond_conj_182156) {
        int16_t x_182148 = ((int16_t *) a_list_mem_181032.mem)[defunc_0_merge_pipeline_res_175536];
        
        index_concat_178298 = x_182148;
    } else {
        index_concat_178298 = (int16_t) 0;
    }
    
    bool protect_cond_conj_182157 = index_concat_cmp_178307 && x_182150;
    int16_t index_concat_180455;
    
    if (protect_cond_conj_182157) {
        int16_t x_182144 = ((int16_t *) b_list_mem_181033.mem)[index_primexp_180452];
        
        index_concat_180455 = x_182144;
    } else {
        index_concat_180455 = (int16_t) 0;
    }
    
    int16_t index_concat_branch_178299;
    
    if (index_concat_cmp_178307) {
        index_concat_branch_178299 = index_concat_180455;
    } else {
        index_concat_branch_178299 = index_concat_178298;
    }
    
    int8_t defunc_0_reduce_res_180686;
    int64_t defunc_0_reduce_res_180687;
    int16_t defunc_0_reduce_res_180688;
    
    if (x_182150) {
        int8_t x_182158;
        int64_t x_182159;
        int16_t x_182160;
        int8_t redout_180840;
        int64_t redout_180841;
        int16_t redout_180842;
        
        redout_180840 = index_concat_branch_178311;
        redout_180841 = index_concat_branch_178305;
        redout_180842 = index_concat_branch_178299;
        for (int64_t i_180843 = 0; i_180843 < dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564; i_180843++) {
            bool index_concat_cmp_180914 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, i_180843);
            int8_t index_concat_branch_180918 = btoi_bool_i8(index_concat_cmp_180914);
            int64_t index_concat_branch_180912;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180909 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t index_primexp_181002 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180909);
                
                index_concat_branch_180912 = index_primexp_181002;
            } else {
                int64_t index_primexp_181004 = add64(defunc_0_merge_pipeline_res_175536, i_180843);
                
                index_concat_branch_180912 = index_primexp_181004;
            }
            
            int16_t index_concat_branch_180906;
            
            if (index_concat_cmp_180914) {
                int64_t index_concat_i_180903 = sub64(i_180843, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                int64_t slice_180999 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180903;
                int16_t index_concat_180904 = ((int16_t *) b_list_mem_181033.mem)[slice_180999];
                
                index_concat_branch_180906 = index_concat_180904;
            } else {
                int64_t slice_181000 = defunc_0_merge_pipeline_res_175536 + i_180843;
                int16_t index_concat_180905 = ((int16_t *) a_list_mem_181032.mem)[slice_181000];
                
                index_concat_branch_180906 = index_concat_180905;
            }
            
            bool eq_x_y_181017 = redout_180840 == (int8_t) 1;
            bool eq_x_zz_181018 = redout_180840 == (int8_t) 0;
            bool p_and_eq_x_y_181019 = index_concat_cmp_180914 && eq_x_y_181017;
            bool not_p_181020 = !index_concat_cmp_180914;
            bool p_and_eq_x_y_181021 = eq_x_zz_181018 && not_p_181020;
            bool cond_177650 = p_and_eq_x_y_181019 || p_and_eq_x_y_181021;
            bool defunc_0_leq_res_t_res_177651 = sle64(redout_180841, index_concat_branch_180912);
            bool defunc_0_leq_res_177652 = sle16(redout_180842, index_concat_branch_180906);
            bool x_177653 = cond_177650 && defunc_0_leq_res_t_res_177651;
            bool x_177654 = !cond_177650;
            bool y_177655 = defunc_0_leq_res_177652 && x_177654;
            bool defunc_0_leq_res_177656 = x_177653 || y_177655;
            int8_t defunc_0_op_res_177657;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177657 = index_concat_branch_180918;
            } else {
                defunc_0_op_res_177657 = redout_180840;
            }
            
            int64_t defunc_0_op_res_177658;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177658 = index_concat_branch_180912;
            } else {
                defunc_0_op_res_177658 = redout_180841;
            }
            
            int16_t defunc_0_op_res_177659;
            
            if (defunc_0_leq_res_177656) {
                defunc_0_op_res_177659 = index_concat_branch_180906;
            } else {
                defunc_0_op_res_177659 = redout_180842;
            }
            
            int8_t redout_tmp_182651 = defunc_0_op_res_177657;
            int64_t redout_tmp_182652 = defunc_0_op_res_177658;
            int16_t redout_tmp_182653 = defunc_0_op_res_177659;
            
            redout_180840 = redout_tmp_182651;
            redout_180841 = redout_tmp_182652;
            redout_180842 = redout_tmp_182653;
        }
        x_182158 = redout_180840;
        x_182159 = redout_180841;
        x_182160 = redout_180842;
        defunc_0_reduce_res_180686 = x_182158;
        defunc_0_reduce_res_180687 = x_182159;
        defunc_0_reduce_res_180688 = x_182160;
    } else {
        defunc_0_reduce_res_180686 = (int8_t) 0;
        defunc_0_reduce_res_180687 = (int64_t) 0;
        defunc_0_reduce_res_180688 = (int16_t) 0;
    }
    
    int64_t distance_177671 = add64((int64_t) 1, tmp_177669);
    int64_t binop_x_181833 = (int64_t) 8 * smallest_pow_2_geq_than_res_177616;
    int64_t bytes_181834 = block_sizze_177626 * binop_x_181833;
    int64_t binop_x_181836 = (int64_t) 2 * smallest_pow_2_geq_than_res_177616;
    int64_t bytes_181837 = block_sizze_177626 * binop_x_181836;
    int64_t bytes_181852 = (int64_t) 8 * block_sizze_177626;
    bool loop_cond_177780 = slt64(block_sizze_177626, flat_dim_177627);
    bool zzero_177781 = merge_block_sizze_177632 == (int64_t) 0;
    bool nonzzero_177782 = !zzero_177781;
    
    if (cond_177610) {
        if (memblock_set(ctx, &ext_mem_182125, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &mem_181830, "mem_181830") != 0)
            return 1;
    } else {
        if (mem_181832_cached_sizze_183026 < flat_dim_177627) {
            err = lexical_realloc(ctx, &mem_181832, &mem_181832_cached_sizze_183026, flat_dim_177627);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181835_cached_sizze_183027 < bytes_181834) {
            err = lexical_realloc(ctx, &mem_181835, &mem_181835_cached_sizze_183027, bytes_181834);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181838_cached_sizze_183028 < bytes_181837) {
            err = lexical_realloc(ctx, &mem_181838, &mem_181838_cached_sizze_183028, bytes_181837);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181851_cached_sizze_183029 < block_sizze_177626) {
            err = lexical_realloc(ctx, &mem_181851, &mem_181851_cached_sizze_183029, block_sizze_177626);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181853_cached_sizze_183030 < bytes_181852) {
            err = lexical_realloc(ctx, &mem_181853, &mem_181853_cached_sizze_183030, bytes_181852);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        if (mem_181855_cached_sizze_183031 < greatest_divisor_leq_than_arg1_177631) {
            err = lexical_realloc(ctx, &mem_181855, &mem_181855_cached_sizze_183031, greatest_divisor_leq_than_arg1_177631);
            if (err != FUTHARK_SUCCESS)
                goto cleanup;
        }
        for (int64_t i_180860 = 0; i_180860 < smallest_pow_2_geq_than_res_177616; i_180860++) {
            int64_t zp_lhs_177679 = mul64(block_sizze_177626, i_180860);
            
            for (int64_t i_180850 = 0; i_180850 < block_sizze_177626; i_180850++) {
                int64_t k_177684 = add64(zp_lhs_177679, i_180850);
                bool cond_177685 = slt64(k_177684, dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564);
                int8_t lifted_lambda_res_177686;
                int64_t lifted_lambda_res_177687;
                int16_t lifted_lambda_res_177688;
                
                if (cond_177685) {
                    bool x_180461 = sle64((int64_t) 0, k_177684);
                    bool bounds_check_180462 = cond_177685 && x_180461;
                    bool index_certs_180463;
                    
                    if (!bounds_check_180462) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) k_177684, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:246:26-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool index_concat_cmp_180464 = sle64(dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563, k_177684);
                    int8_t index_concat_branch_180465 = btoi_bool_i8(index_concat_cmp_180464);
                    int64_t index_concat_branch_180466;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180467 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t index_primexp_180468 = add64(defunc_0_merge_pipeline_res_175537, index_concat_i_180467);
                        
                        index_concat_branch_180466 = index_primexp_180468;
                    } else {
                        int64_t index_primexp_180469 = add64(defunc_0_merge_pipeline_res_175536, k_177684);
                        
                        index_concat_branch_180466 = index_primexp_180469;
                    }
                    
                    int16_t index_concat_branch_180470;
                    
                    if (index_concat_cmp_180464) {
                        int64_t index_concat_i_180471 = sub64(k_177684, dzlz7bUZLzmZRz20Unaz20U0z7dUzg_177563);
                        int64_t slice_180472 = defunc_0_merge_pipeline_res_175537 + index_concat_i_180471;
                        int16_t index_concat_180473 = ((int16_t *) b_list_mem_181033.mem)[slice_180472];
                        
                        index_concat_branch_180470 = index_concat_180473;
                    } else {
                        int64_t slice_180474 = defunc_0_merge_pipeline_res_175536 + k_177684;
                        int16_t index_concat_180475 = ((int16_t *) a_list_mem_181032.mem)[slice_180474];
                        
                        index_concat_branch_180470 = index_concat_180475;
                    }
                    lifted_lambda_res_177686 = index_concat_branch_180465;
                    lifted_lambda_res_177687 = index_concat_branch_180466;
                    lifted_lambda_res_177688 = index_concat_branch_180470;
                } else {
                    lifted_lambda_res_177686 = defunc_0_reduce_res_180686;
                    lifted_lambda_res_177687 = defunc_0_reduce_res_180687;
                    lifted_lambda_res_177688 = defunc_0_reduce_res_180688;
                }
                ((int8_t *) mem_181851)[i_180850] = lifted_lambda_res_177686;
                ((int64_t *) mem_181853)[i_180850] = lifted_lambda_res_177687;
                ((int16_t *) mem_181855)[i_180850] = lifted_lambda_res_177688;
            }
            if (!cond_177668) {
                for (int64_t i_177701 = 0; i_177701 < distance_177671; i_177701++) {
                    int64_t gt_arg1_177705 = add64((int64_t) 1, i_177701);
                    bool x_177706 = sle64((int64_t) 0, gt_arg1_177705);
                    bool y_177707 = slt64(gt_arg1_177705, block_sizze_177626);
                    bool bounds_check_177708 = x_177706 && y_177707;
                    bool index_certs_177709;
                    
                    if (!bounds_check_177708) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) gt_arg1_177705, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:31-37\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    bool y_177713 = slt64(i_177701, block_sizze_177626);
                    bool index_certs_177714;
                    
                    if (!y_177713) {
                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_177701, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                        err = FUTHARK_PROGRAM_ERROR;
                        goto cleanup;
                    }
                    
                    int8_t gt_arg1_177710 = ((int8_t *) mem_181851)[gt_arg1_177705];
                    int64_t gt_arg1_177711 = ((int64_t *) mem_181853)[gt_arg1_177705];
                    int16_t gt_arg1_177712 = ((int16_t *) mem_181855)[gt_arg1_177705];
                    int8_t gt_arg0_177715 = ((int8_t *) mem_181851)[i_177701];
                    int64_t gt_arg0_177716 = ((int64_t *) mem_181853)[i_177701];
                    int16_t gt_arg0_177717 = ((int16_t *) mem_181855)[i_177701];
                    bool cond_177718 = gt_arg0_177715 == gt_arg1_177710;
                    bool defunc_0_leq_res_t_res_177719 = sle64(gt_arg0_177716, gt_arg1_177711);
                    bool defunc_0_leq_res_177720 = sle16(gt_arg0_177717, gt_arg1_177712);
                    bool x_177721 = cond_177718 && defunc_0_leq_res_t_res_177719;
                    bool x_177722 = !cond_177718;
                    bool y_177723 = defunc_0_leq_res_177720 && x_177722;
                    bool defunc_0_leq_res_177724 = x_177721 || y_177723;
                    bool defunc_0_lifted_gt_res_177725 = !defunc_0_leq_res_177724;
                    bool s_177726;
                    int64_t s_177730;
                    bool loop_while_177731;
                    int64_t j_177735;
                    
                    loop_while_177731 = defunc_0_lifted_gt_res_177725;
                    j_177735 = i_177701;
                    while (loop_while_177731) {
                        bool x_177736 = sle64((int64_t) 0, j_177735);
                        bool y_177737 = slt64(j_177735, block_sizze_177626);
                        bool bounds_check_177738 = x_177736 && y_177737;
                        bool index_certs_177739;
                        
                        if (!bounds_check_177738) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_177735, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:170:24-28\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t copy_arg0_177743 = add64((int64_t) 1, j_177735);
                        bool x_177744 = sle64((int64_t) 0, copy_arg0_177743);
                        bool y_177745 = slt64(copy_arg0_177743, block_sizze_177626);
                        bool bounds_check_177746 = x_177744 && y_177745;
                        bool index_certs_177747;
                        
                        if (!bounds_check_177746) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) copy_arg0_177743, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:171:35-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int8_t copy_arg0_177740 = ((int8_t *) mem_181851)[j_177735];
                        int64_t copy_arg0_177741 = ((int64_t *) mem_181853)[j_177735];
                        int16_t copy_arg0_177742 = ((int16_t *) mem_181855)[j_177735];
                        int8_t copy_arg0_177748 = ((int8_t *) mem_181851)[copy_arg0_177743];
                        int64_t copy_arg0_177749 = ((int64_t *) mem_181853)[copy_arg0_177743];
                        int16_t copy_arg0_177750 = ((int16_t *) mem_181855)[copy_arg0_177743];
                        
                        ((int8_t *) mem_181851)[j_177735] = copy_arg0_177748;
                        ((int64_t *) mem_181853)[j_177735] = copy_arg0_177749;
                        ((int16_t *) mem_181855)[j_177735] = copy_arg0_177750;
                        ((int8_t *) mem_181851)[copy_arg0_177743] = copy_arg0_177740;
                        ((int64_t *) mem_181853)[copy_arg0_177743] = copy_arg0_177741;
                        ((int16_t *) mem_181855)[copy_arg0_177743] = copy_arg0_177742;
                        
                        int64_t tmp_177757 = sub64(j_177735, (int64_t) 1);
                        bool cond_177758 = sle64((int64_t) 0, tmp_177757);
                        bool loop_cond_177759;
                        
                        if (cond_177758) {
                            bool y_180479 = slt64(tmp_177757, block_sizze_177626);
                            bool bounds_check_180480 = cond_177758 && y_180479;
                            bool index_certs_180481;
                            
                            if (!bounds_check_180480) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_177757, "] out of bounds for array of shape [", (long long) block_sizze_177626, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:169:26-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:248:32-37\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int8_t gt_arg1_180476 = ((int8_t *) mem_181851)[j_177735];
                            int64_t gt_arg1_180477 = ((int64_t *) mem_181853)[j_177735];
                            int16_t gt_arg1_180478 = ((int16_t *) mem_181855)[j_177735];
                            int8_t gt_arg0_180482 = ((int8_t *) mem_181851)[tmp_177757];
                            int64_t gt_arg0_180483 = ((int64_t *) mem_181853)[tmp_177757];
                            int16_t gt_arg0_180484 = ((int16_t *) mem_181855)[tmp_177757];
                            bool cond_180485 = gt_arg0_180482 == gt_arg1_180476;
                            bool defunc_0_leq_res_t_res_180486 = sle64(gt_arg0_180483, gt_arg1_180477);
                            bool defunc_0_leq_res_180487 = sle16(gt_arg0_180484, gt_arg1_180478);
                            bool x_180488 = cond_180485 && defunc_0_leq_res_t_res_180486;
                            bool x_180489 = !cond_180485;
                            bool y_180490 = defunc_0_leq_res_180487 && x_180489;
                            bool defunc_0_leq_res_180491 = x_180488 || y_180490;
                            bool defunc_0_lifted_gt_res_180492 = !defunc_0_leq_res_180491;
                            
                            loop_cond_177759 = defunc_0_lifted_gt_res_180492;
                        } else {
                            loop_cond_177759 = 0;
                        }
                        
                        bool loop_while_tmp_182663 = loop_cond_177759;
                        int64_t j_tmp_182667 = tmp_177757;
                        
                        loop_while_177731 = loop_while_tmp_182663;
                        j_177735 = j_tmp_182667;
                    }
                    s_177726 = loop_while_177731;
                    s_177730 = j_177735;
                }
            }
            lmad_copy_1b(ctx, 1, (uint8_t *) mem_181832, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint8_t *) mem_181851, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181835, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181853, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181838, i_180860 * block_sizze_177626, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181855, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {block_sizze_177626});
        }
        if (memblock_alloc(ctx, &mem_181932, flat_dim_177627, "mem_181932")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_1b(ctx, 2, (uint8_t *) mem_181932.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint8_t *) mem_181832, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181936, bytes_181834, "mem_181936")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_8b(ctx, 2, (uint64_t *) mem_181936.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint64_t *) mem_181835, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        if (memblock_alloc(ctx, &mem_181940, bytes_181837, "mem_181940")) {
            err = 1;
            goto cleanup;
        }
        lmad_copy_2b(ctx, 2, (uint16_t *) mem_181940.mem, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (uint16_t *) mem_181838, (int64_t) 0, (int64_t []) {block_sizze_177626, (int64_t) 1}, (int64_t []) {smallest_pow_2_geq_than_res_177616, block_sizze_177626});
        
        int64_t data_177783;
        bool data_177784;
        int64_t data_177788;
        int64_t loop_dz2084Uz2082U_177789;
        bool loop_while_177790;
        int64_t stride_177794;
        
        if (memblock_set(ctx, &mem_param_181944, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181947, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_set(ctx, &mem_param_181950, &mem_181940, "mem_181940") != 0)
            return 1;
        loop_dz2084Uz2082U_177789 = flat_dim_177627;
        loop_while_177790 = loop_cond_177780;
        stride_177794 = block_sizze_177626;
        while (loop_while_177790) {
            int64_t next_stride_177795 = mul64((int64_t) 2, stride_177794);
            bool zzero_177796 = next_stride_177795 == (int64_t) 0;
            bool nonzzero_177797 = !zzero_177796;
            bool nonzzero_cert_177798;
            
            if (!nonzzero_177797) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:254:33-46\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #2  /prelude/functional.fut:9:44-45\n   #3  ftsort.fut:371:63-73\n   #4  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_merges_177799 = sdiv64(flat_dim_177627, next_stride_177795);
            bool bounds_invalid_upwards_177800 = slt64(num_merges_177799, (int64_t) 0);
            bool valid_177801 = !bounds_invalid_upwards_177800;
            bool range_valid_c_177802;
            
            if (!valid_177801) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_merges_177799, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t m_177804 = sub64(next_stride_177795, (int64_t) 1);
            bool zzero_leq_i_p_m_t_s_177805 = sle64((int64_t) 0, m_177804);
            bool cond_177807 = slt64(next_stride_177795, (int64_t) 10);
            bool protect_assert_disj_177808 = nonzzero_177782 || cond_177807;
            bool nonzzero_cert_177809;
            
            if (!protect_assert_disj_177808) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:30-42\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t zeze_lhs_177810 = smod_safe64(next_stride_177795, merge_block_sizze_177632);
            bool num_blocks_177811 = zeze_lhs_177810 == (int64_t) 0;
            bool protect_assert_disj_177812 = cond_177807 || num_blocks_177811;
            bool assert_c_177813;
            
            if (!protect_assert_disj_177812) {
                set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (n % block_size == 0)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:147:20-65\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t num_blocks_177815 = sdiv_safe64(next_stride_177795, merge_block_sizze_177632);
            int64_t dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816 = add64((int64_t) 1, num_blocks_177815);
            int64_t j_m_i_177817 = sub64(next_stride_177795, stride_177794);
            int64_t flat_dim_177818 = merge_block_sizze_177632 * num_blocks_177815;
            bool bounds_invalid_upwards_177819 = slt64(dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, (int64_t) 0);
            bool empty_slice_177820 = j_m_i_177817 == (int64_t) 0;
            int64_t m_177821 = sub64(j_m_i_177817, (int64_t) 1);
            bool zzero_lte_i_177822 = sle64((int64_t) 0, stride_177794);
            bool i_lte_j_177823 = sle64(stride_177794, next_stride_177795);
            bool empty_slice_177824 = stride_177794 == (int64_t) 0;
            int64_t m_177825 = sub64(stride_177794, (int64_t) 1);
            bool bounds_invalid_upwards_177826 = slt64(num_blocks_177815, (int64_t) 0);
            bool cond_177827 = slt64((int64_t) 0, stride_177794);
            bool valid_177828 = !bounds_invalid_upwards_177819;
            int64_t i_p_m_t_s_177829 = add64(stride_177794, m_177821);
            bool zzero_leq_i_p_m_t_s_177830 = sle64((int64_t) 0, m_177825);
            bool i_p_m_t_s_leq_w_177831 = slt64(m_177825, next_stride_177795);
            bool valid_177832 = !bounds_invalid_upwards_177826;
            bool i_p_m_t_s_leq_w_177833 = slt64(m_177804, flat_dim_177818);
            bool y_177834 = slt64((int64_t) 0, j_m_i_177817);
            bool protect_assert_disj_177835 = cond_177807 || valid_177828;
            bool range_valid_c_177836;
            
            if (!protect_assert_disj_177835) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool zzero_leq_i_p_m_t_s_177837 = sle64((int64_t) 0, i_p_m_t_s_177829);
            bool i_p_m_t_s_leq_w_177838 = slt64(i_p_m_t_s_177829, next_stride_177795);
            bool y_177839 = zzero_leq_i_p_m_t_s_177830 && i_p_m_t_s_leq_w_177831;
            bool protect_assert_disj_177840 = cond_177807 || valid_177832;
            bool range_valid_c_177841;
            
            if (!protect_assert_disj_177840) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) (int64_t) 0, "..", (long long) (int64_t) 1, "..<", (long long) num_blocks_177815, " is invalid.", "-> #0  /prelude/array.fut:94:3-11\n   #1  /prelude/array.fut:241:11-17\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool y_177842 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177833;
            bool y_177843 = zzero_lte_i_177822 && i_p_m_t_s_leq_w_177838;
            bool forwards_ok_177844 = zzero_lte_i_177822 && y_177839;
            bool ok_or_empty_177845 = zzero_177796 || y_177842;
            bool protect_assert_disj_177846 = cond_177827 || y_177834;
            bool y_177847 = zzero_leq_i_p_m_t_s_177837 && y_177843;
            bool ok_or_empty_177848 = empty_slice_177824 || forwards_ok_177844;
            bool protect_assert_disj_177849 = cond_177807 || ok_or_empty_177845;
            bool index_certs_177850;
            
            if (!protect_assert_disj_177849) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) flat_dim_177818, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:155:3-46\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool loop_not_taken_177851 = !cond_177807;
            bool protect_assert_disj_177852 = protect_assert_disj_177846 || loop_not_taken_177851;
            bool index_certs_177853;
            
            if (!protect_assert_disj_177852) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool forwards_ok_177854 = i_lte_j_177823 && y_177847;
            bool protect_assert_disj_177855 = cond_177807 || ok_or_empty_177848;
            bool index_certs_177856;
            
            if (!protect_assert_disj_177855) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:52-59\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177857 = ok_or_empty_177848 || loop_not_taken_177851;
            bool index_certs_177858;
            
            if (!protect_assert_disj_177857) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [:", (long long) stride_177794, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:26-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool ok_or_empty_177859 = empty_slice_177820 || forwards_ok_177854;
            bool protect_assert_disj_177860 = cond_177807 || ok_or_empty_177859;
            bool index_certs_177861;
            
            if (!protect_assert_disj_177860) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:149:60-67\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool protect_assert_disj_177862 = loop_not_taken_177851 || ok_or_empty_177859;
            bool index_certs_177863;
            
            if (!protect_assert_disj_177862) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) stride_177794, ":] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:145:34-41\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t bytes_181951 = next_stride_177795 * num_merges_177799;
            int64_t binop_x_181953 = (int64_t) 8 * num_merges_177799;
            int64_t bytes_181954 = next_stride_177795 * binop_x_181953;
            int64_t binop_x_181956 = (int64_t) 2 * num_merges_177799;
            int64_t bytes_181957 = next_stride_177795 * binop_x_181956;
            bool i_lte_j_177806 = sle64((int64_t) 0, next_stride_177795);
            
            if (mem_181952_cached_sizze_183032 < bytes_181951) {
                err = lexical_realloc(ctx, &mem_181952, &mem_181952_cached_sizze_183032, bytes_181951);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181955_cached_sizze_183033 < bytes_181954) {
                err = lexical_realloc(ctx, &mem_181955, &mem_181955_cached_sizze_183033, bytes_181954);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            if (mem_181958_cached_sizze_183034 < bytes_181957) {
                err = lexical_realloc(ctx, &mem_181958, &mem_181958_cached_sizze_183034, bytes_181957);
                if (err != FUTHARK_SUCCESS)
                    goto cleanup;
            }
            
            int64_t bytes_181971 = (int64_t) 8 * dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816;
            int64_t binop_x_181989 = (int64_t) 8 * num_blocks_177815;
            int64_t bytes_181990 = merge_block_sizze_177632 * binop_x_181989;
            int64_t binop_x_181992 = (int64_t) 2 * num_blocks_177815;
            int64_t bytes_181993 = merge_block_sizze_177632 * binop_x_181992;
            int64_t bytes_182054 = (int64_t) 16 * stride_177794;
            int64_t bytes_182056 = (int64_t) 4 * stride_177794;
            
            for (int64_t i_180887 = 0; i_180887 < num_merges_177799; i_180887++) {
                int64_t start_177868 = mul64(next_stride_177795, i_180887);
                int64_t j_m_i_177869 = sub64(loop_dz2084Uz2082U_177789, start_177868);
                bool empty_slice_177870 = j_m_i_177869 == (int64_t) 0;
                int64_t m_177871 = sub64(j_m_i_177869, (int64_t) 1);
                int64_t i_p_m_t_s_177872 = add64(start_177868, m_177871);
                bool zzero_leq_i_p_m_t_s_177873 = sle64((int64_t) 0, i_p_m_t_s_177872);
                bool i_p_m_t_s_leq_w_177874 = slt64(i_p_m_t_s_177872, loop_dz2084Uz2082U_177789);
                bool zzero_lte_i_177875 = sle64((int64_t) 0, start_177868);
                bool i_lte_j_177876 = sle64(start_177868, loop_dz2084Uz2082U_177789);
                bool y_177877 = i_p_m_t_s_leq_w_177874 && zzero_lte_i_177875;
                bool y_177878 = zzero_leq_i_p_m_t_s_177873 && y_177877;
                bool forwards_ok_177879 = i_lte_j_177876 && y_177878;
                bool ok_or_empty_177880 = empty_slice_177870 || forwards_ok_177879;
                bool index_certs_177881;
                
                if (!ok_or_empty_177880) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) start_177868, ":] out of bounds for array of shape [", (long long) loop_dz2084Uz2082U_177789, "].", "-> #0  /prelude/array.fut:52:49-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:41-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                bool i_p_m_t_s_leq_w_177882 = slt64(m_177804, j_m_i_177869);
                bool y_177883 = zzero_leq_i_p_m_t_s_177805 && i_p_m_t_s_leq_w_177882;
                bool forwards_ok_177884 = i_lte_j_177806 && y_177883;
                bool ok_or_empty_177885 = zzero_177796 || forwards_ok_177884;
                bool index_certs_177886;
                
                if (!ok_or_empty_177885) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) next_stride_177795, "] out of bounds for array of shape [", (long long) j_m_i_177869, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:258:23-56\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #5  /prelude/functional.fut:9:44-45\n   #6  ftsort.fut:371:63-73\n   #7  ftsort.fut:364:1-371:73\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                if (cond_177807) {
                    int8_t dummy_180531;
                    int64_t dummy_180532;
                    int16_t dummy_180533;
                    
                    if (cond_177827) {
                        int8_t head_res_180534 = ((int8_t *) mem_param_181944.mem)[start_177868];
                        int64_t head_res_180535 = ((int64_t *) mem_param_181947.mem)[start_177868];
                        int16_t head_res_180536 = ((int16_t *) mem_param_181950.mem)[start_177868];
                        
                        dummy_180531 = head_res_180534;
                        dummy_180532 = head_res_180535;
                        dummy_180533 = head_res_180536;
                    } else {
                        int64_t slice_180537 = stride_177794 + start_177868;
                        int8_t head_res_180538 = ((int8_t *) mem_param_181944.mem)[slice_180537];
                        int64_t head_res_180539 = ((int64_t *) mem_param_181947.mem)[slice_180537];
                        int16_t head_res_180540 = ((int16_t *) mem_param_181950.mem)[slice_180537];
                        
                        dummy_180531 = head_res_180538;
                        dummy_180532 = head_res_180539;
                        dummy_180533 = head_res_180540;
                    }
                    if (memblock_alloc(ctx, &mem_182053, next_stride_177795, "mem_182053")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182680 = 0; nest_i_182680 < next_stride_177795; nest_i_182680++) {
                        ((int8_t *) mem_182053.mem)[nest_i_182680] = dummy_180531;
                    }
                    if (memblock_alloc(ctx, &mem_182055, bytes_182054, "mem_182055")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182681 = 0; nest_i_182681 < next_stride_177795; nest_i_182681++) {
                        ((int64_t *) mem_182055.mem)[nest_i_182681] = dummy_180532;
                    }
                    if (memblock_alloc(ctx, &mem_182057, bytes_182056, "mem_182057")) {
                        err = 1;
                        goto cleanup;
                    }
                    for (int64_t nest_i_182682 = 0; nest_i_182682 < next_stride_177795; nest_i_182682++) {
                        ((int16_t *) mem_182057.mem)[nest_i_182682] = dummy_180533;
                    }
                    
                    int64_t data_180544;
                    int64_t i_180549 = (int64_t) 0;
                    
                    for (int64_t k_180548 = 0; k_180548 < next_stride_177795; k_180548++) {
                        int64_t j_180553 = sub64(k_180548, i_180549);
                        bool cond_180554 = j_180553 == j_m_i_177817;
                        bool cond_180555;
                        
                        if (cond_180554) {
                            cond_180555 = 1;
                        } else {
                            bool cond_180556 = slt64(i_180549, stride_177794);
                            bool cond_f_res_180557;
                            
                            if (cond_180556) {
                                bool x_180558 = sle64((int64_t) 0, j_180553);
                                bool y_180559 = slt64(j_180553, j_m_i_177817);
                                bool bounds_check_180560 = x_180558 && y_180559;
                                bool index_certs_180561;
                                
                                if (!bounds_check_180560) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                bool x_180567 = sle64((int64_t) 0, i_180549);
                                bool bounds_check_180568 = cond_180556 && x_180567;
                                bool index_certs_180569;
                                
                                if (!bounds_check_180568) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_180562 = stride_177794 + j_180553;
                                int64_t slice_180563 = start_177868 + slice_180562;
                                int8_t leq_arg1_180564 = ((int8_t *) mem_param_181944.mem)[slice_180563];
                                int64_t leq_arg1_180565 = ((int64_t *) mem_param_181947.mem)[slice_180563];
                                int16_t leq_arg1_180566 = ((int16_t *) mem_param_181950.mem)[slice_180563];
                                int64_t slice_180570 = start_177868 + i_180549;
                                int8_t leq_arg0_180571 = ((int8_t *) mem_param_181944.mem)[slice_180570];
                                int64_t leq_arg0_180572 = ((int64_t *) mem_param_181947.mem)[slice_180570];
                                int16_t leq_arg0_180573 = ((int16_t *) mem_param_181950.mem)[slice_180570];
                                bool cond_180574 = leq_arg0_180571 == leq_arg1_180564;
                                bool defunc_0_leq_res_t_res_180575 = sle64(leq_arg0_180572, leq_arg1_180565);
                                bool defunc_0_leq_res_180576 = sle16(leq_arg0_180573, leq_arg1_180566);
                                bool x_180577 = cond_180574 && defunc_0_leq_res_t_res_180575;
                                bool x_180578 = !cond_180574;
                                bool y_180579 = defunc_0_leq_res_180576 && x_180578;
                                bool defunc_0_leq_res_180580 = x_180577 || y_180579;
                                
                                cond_f_res_180557 = defunc_0_leq_res_180580;
                            } else {
                                cond_f_res_180557 = 0;
                            }
                            cond_180555 = cond_f_res_180557;
                        }
                        
                        int64_t loopres_180581;
                        int8_t loopres_180582;
                        int64_t loopres_180583;
                        int16_t loopres_180584;
                        
                        if (cond_180555) {
                            bool x_180586 = sle64((int64_t) 0, i_180549);
                            bool y_180587 = slt64(i_180549, stride_177794);
                            bool bounds_check_180588 = x_180586 && y_180587;
                            bool index_certs_180589;
                            
                            if (!bounds_check_180588) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180549, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t tmp_180585 = add64((int64_t) 1, i_180549);
                            int64_t slice_180590 = start_177868 + i_180549;
                            int8_t tmp_180591 = ((int8_t *) mem_param_181944.mem)[slice_180590];
                            int64_t tmp_180592 = ((int64_t *) mem_param_181947.mem)[slice_180590];
                            int16_t tmp_180593 = ((int16_t *) mem_param_181950.mem)[slice_180590];
                            
                            loopres_180581 = tmp_180585;
                            loopres_180582 = tmp_180591;
                            loopres_180583 = tmp_180592;
                            loopres_180584 = tmp_180593;
                        } else {
                            bool x_180594 = sle64((int64_t) 0, j_180553);
                            bool y_180595 = slt64(j_180553, j_m_i_177817);
                            bool bounds_check_180596 = x_180594 && y_180595;
                            bool index_certs_180597;
                            
                            if (!bounds_check_180596) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_180553, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:145:42-43\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #6  /prelude/functional.fut:9:44-45\n   #7  ftsort.fut:371:63-73\n   #8  ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180598 = stride_177794 + j_180553;
                            int64_t slice_180599 = start_177868 + slice_180598;
                            int8_t tmp_180600 = ((int8_t *) mem_param_181944.mem)[slice_180599];
                            int64_t tmp_180601 = ((int64_t *) mem_param_181947.mem)[slice_180599];
                            int16_t tmp_180602 = ((int16_t *) mem_param_181950.mem)[slice_180599];
                            
                            loopres_180581 = i_180549;
                            loopres_180582 = tmp_180600;
                            loopres_180583 = tmp_180601;
                            loopres_180584 = tmp_180602;
                        }
                        ((int8_t *) mem_182053.mem)[k_180548] = loopres_180582;
                        ((int64_t *) mem_182055.mem)[k_180548] = loopres_180583;
                        ((int16_t *) mem_182057.mem)[k_180548] = loopres_180584;
                        
                        int64_t i_tmp_182683 = loopres_180581;
                        
                        i_180549 = i_tmp_182683;
                    }
                    data_180544 = i_180549;
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182053, "mem_182053") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182055, "mem_182055") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182057, "mem_182057") != 0)
                        return 1;
                } else {
                    if (mem_181972_cached_sizze_183035 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181972, &mem_181972_cached_sizze_183035, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181974_cached_sizze_183036 < bytes_181971) {
                        err = lexical_realloc(ctx, &mem_181974, &mem_181974_cached_sizze_183036, bytes_181971);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180868 = 0; i_180868 < dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816; i_180868++) {
                        int64_t split_count_arg3_177969 = mul64(merge_block_sizze_177632, i_180868);
                        int64_t defunc_0_split_count_res_177970;
                        int64_t defunc_0_split_count_res_177971;
                        int64_t defunc_0_split_count_res_177972;
                        int64_t defunc_0_split_count_res_177973;
                        int64_t defunc_0_split_count_res_177974;
                        
                        if (futrts_lifted_normalizze_9069(ctx, &defunc_0_split_count_res_177970, &defunc_0_split_count_res_177971, &defunc_0_split_count_res_177972, &defunc_0_split_count_res_177973, &defunc_0_split_count_res_177974, (int64_t) 0, stride_177794, (int64_t) 0, j_m_i_177817, split_count_arg3_177969) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        bool loop_cond_177975 = slt64((int64_t) 0, defunc_0_split_count_res_177974);
                        bool defunc_0_split_count_res_177976;
                        int64_t defunc_0_split_count_res_177977;
                        int64_t defunc_0_split_count_res_177978;
                        int64_t defunc_0_split_count_res_177979;
                        int64_t defunc_0_split_count_res_177980;
                        int64_t defunc_0_split_count_res_177981;
                        bool loop_while_177982;
                        int64_t ss_177983;
                        int64_t ss_177984;
                        int64_t tt_177985;
                        int64_t tt_177986;
                        int64_t count_177987;
                        
                        loop_while_177982 = loop_cond_177975;
                        ss_177983 = defunc_0_split_count_res_177970;
                        ss_177984 = defunc_0_split_count_res_177971;
                        tt_177985 = defunc_0_split_count_res_177972;
                        tt_177986 = defunc_0_split_count_res_177973;
                        count_177987 = defunc_0_split_count_res_177974;
                        while (loop_while_177982) {
                            int64_t zlze_lhs_177988 = sub64(ss_177984, ss_177983);
                            bool cond_177989 = sle64(zlze_lhs_177988, (int64_t) 0);
                            int64_t defunc_0_lifted_step_res_177990;
                            int64_t defunc_0_lifted_step_res_177991;
                            int64_t defunc_0_lifted_step_res_177992;
                            int64_t defunc_0_lifted_step_res_177993;
                            
                            if (cond_177989) {
                                int64_t tmp_180606 = add64(tt_177985, count_177987);
                                
                                defunc_0_lifted_step_res_177990 = ss_177983;
                                defunc_0_lifted_step_res_177991 = tmp_180606;
                                defunc_0_lifted_step_res_177992 = tt_177986;
                                defunc_0_lifted_step_res_177993 = (int64_t) 0;
                            } else {
                                int64_t zlze_lhs_177995 = sub64(tt_177986, tt_177985);
                                bool cond_177996 = sle64(zlze_lhs_177995, (int64_t) 0);
                                int64_t defunc_0_lifted_step_res_f_res_177997;
                                int64_t defunc_0_lifted_step_res_f_res_177998;
                                int64_t defunc_0_lifted_step_res_f_res_177999;
                                int64_t defunc_0_lifted_step_res_f_res_178000;
                                
                                if (cond_177996) {
                                    int64_t tmp_180607 = add64(ss_177983, count_177987);
                                    
                                    defunc_0_lifted_step_res_f_res_177997 = tmp_180607;
                                    defunc_0_lifted_step_res_f_res_177998 = tt_177985;
                                    defunc_0_lifted_step_res_f_res_177999 = tt_177986;
                                    defunc_0_lifted_step_res_f_res_178000 = (int64_t) 0;
                                } else {
                                    bool cond_178002 = count_177987 == (int64_t) 1;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178003;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178004;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178005;
                                    int64_t defunc_0_lifted_step_res_f_res_f_res_178006;
                                    
                                    if (cond_178002) {
                                        bool x_180609 = sle64((int64_t) 0, ss_177983);
                                        bool y_180610 = slt64(ss_177983, stride_177794);
                                        bool bounds_check_180611 = x_180609 && y_180610;
                                        bool index_certs_180612;
                                        
                                        if (!bounds_check_180611) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) ss_177983, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:21-27\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        bool x_180617 = sle64((int64_t) 0, tt_177985);
                                        bool y_180618 = slt64(tt_177985, j_m_i_177817);
                                        bool bounds_check_180619 = x_180617 && y_180618;
                                        bool index_certs_180620;
                                        
                                        if (!bounds_check_180619) {
                                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tt_177985, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:53:14-20\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                            err = FUTHARK_PROGRAM_ERROR;
                                            goto cleanup;
                                        }
                                        
                                        int64_t slice_180613 = start_177868 + ss_177983;
                                        int8_t leq_arg1_180614 = ((int8_t *) mem_param_181944.mem)[slice_180613];
                                        int64_t leq_arg1_180615 = ((int64_t *) mem_param_181947.mem)[slice_180613];
                                        int16_t leq_arg1_180616 = ((int16_t *) mem_param_181950.mem)[slice_180613];
                                        int64_t slice_180621 = stride_177794 + tt_177985;
                                        int64_t slice_180622 = start_177868 + slice_180621;
                                        int8_t leq_arg0_180623 = ((int8_t *) mem_param_181944.mem)[slice_180622];
                                        int64_t leq_arg0_180624 = ((int64_t *) mem_param_181947.mem)[slice_180622];
                                        int16_t leq_arg0_180625 = ((int16_t *) mem_param_181950.mem)[slice_180622];
                                        bool cond_180626 = leq_arg0_180623 == leq_arg1_180614;
                                        bool defunc_0_leq_res_t_res_180627 = sle64(leq_arg0_180624, leq_arg1_180615);
                                        bool defunc_0_leq_res_180628 = sle16(leq_arg0_180625, leq_arg1_180616);
                                        bool x_180629 = cond_180626 && defunc_0_leq_res_t_res_180627;
                                        bool x_180630 = !cond_180626;
                                        bool y_180631 = defunc_0_leq_res_180628 && x_180630;
                                        bool defunc_0_leq_res_180632 = x_180629 || y_180631;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        
                                        if (defunc_0_leq_res_180632) {
                                            int64_t tmp_180635 = add64((int64_t) 1, tt_177985);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = ss_177983;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tmp_180635;
                                        } else {
                                            int64_t tmp_180636 = add64((int64_t) 1, ss_177983);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180633 = tmp_180636;
                                            defunc_0_lifted_step_res_f_res_f_res_t_res_180634 = tt_177985;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = defunc_0_lifted_step_res_f_res_f_res_t_res_180633;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_t_res_180634;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = tt_177986;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = (int64_t) 0;
                                    } else {
                                        int64_t m_178035 = sdiv64(count_177987, (int64_t) 2);
                                        int64_t n_178036 = sub64(count_177987, m_178035);
                                        bool cond_178037 = n_178036 == (int64_t) 0;
                                        int64_t zgze_lhs_178038 = add64(ss_177983, m_178035);
                                        bool cond_f_res_178039 = sle64(ss_177984, zgze_lhs_178038);
                                        bool x_178040 = !cond_178037;
                                        bool y_178041 = cond_f_res_178039 && x_178040;
                                        bool cond_178042 = cond_178037 || y_178041;
                                        bool leq_y_x_178043;
                                        
                                        if (cond_178042) {
                                            leq_y_x_178043 = 1;
                                        } else {
                                            bool x_178044 = sle64((int64_t) 0, zgze_lhs_178038);
                                            bool y_178045 = slt64(zgze_lhs_178038, stride_177794);
                                            bool bounds_check_178046 = x_178044 && y_178045;
                                            bool index_certs_178047;
                                            
                                            if (!bounds_check_178046) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) zgze_lhs_178038, "] out of bounds for array of shape [", (long long) stride_177794, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:22-30\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t zm_lhs_178052 = add64(tt_177985, n_178036);
                                            int64_t leq_arg0_178053 = sub64(zm_lhs_178052, (int64_t) 1);
                                            bool x_178054 = sle64((int64_t) 0, leq_arg0_178053);
                                            bool y_178055 = slt64(leq_arg0_178053, j_m_i_177817);
                                            bool bounds_check_178056 = x_178054 && y_178055;
                                            bool index_certs_178057;
                                            
                                            if (!bounds_check_178056) {
                                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) leq_arg0_178053, "] out of bounds for array of shape [", (long long) j_m_i_177817, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:73:11-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:83:23-38\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:149:71-83\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:149:30-84\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #7  /prelude/soacs.fut:59:9-11\n   #8  /prelude/array.fut:241:11-17\n   #9  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #10 /prelude/functional.fut:9:44-45\n   #11 ftsort.fut:371:63-73\n   #12 ftsort.fut:364:1-371:73\n"));
                                                err = FUTHARK_PROGRAM_ERROR;
                                                goto cleanup;
                                            }
                                            
                                            int64_t slice_178048 = start_177868 + zgze_lhs_178038;
                                            int8_t leq_arg1_178049 = ((int8_t *) mem_param_181944.mem)[slice_178048];
                                            int64_t leq_arg1_178050 = ((int64_t *) mem_param_181947.mem)[slice_178048];
                                            int16_t leq_arg1_178051 = ((int16_t *) mem_param_181950.mem)[slice_178048];
                                            int64_t slice_178058 = stride_177794 + leq_arg0_178053;
                                            int64_t slice_178059 = start_177868 + slice_178058;
                                            int8_t leq_arg0_178060 = ((int8_t *) mem_param_181944.mem)[slice_178059];
                                            int64_t leq_arg0_178061 = ((int64_t *) mem_param_181947.mem)[slice_178059];
                                            int16_t leq_arg0_178062 = ((int16_t *) mem_param_181950.mem)[slice_178059];
                                            bool cond_178063 = leq_arg0_178060 == leq_arg1_178049;
                                            bool defunc_0_leq_res_t_res_178064 = sle64(leq_arg0_178061, leq_arg1_178050);
                                            bool defunc_0_leq_res_178065 = sle16(leq_arg0_178062, leq_arg1_178051);
                                            bool x_178066 = cond_178063 && defunc_0_leq_res_t_res_178064;
                                            bool x_178067 = !cond_178063;
                                            bool y_178068 = defunc_0_leq_res_178065 && x_178067;
                                            bool defunc_0_leq_res_178069 = x_178066 || y_178068;
                                            
                                            leq_y_x_178043 = defunc_0_leq_res_178069;
                                        }
                                        
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        int64_t defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                        
                                        if (leq_y_x_178043) {
                                            int64_t tmp_180637 = add64(tt_177985, n_178036);
                                            int64_t tmp_180638 = sub64(count_177987, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tmp_180637;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tt_177986;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = tmp_180638;
                                        } else {
                                            int64_t tmp_178075 = add64(tt_177985, n_178036);
                                            
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178070 = tt_177985;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178071 = tmp_178075;
                                            defunc_0_lifted_step_res_f_res_f_res_f_res_178072 = count_177987;
                                        }
                                        defunc_0_lifted_step_res_f_res_f_res_178003 = ss_177983;
                                        defunc_0_lifted_step_res_f_res_f_res_178004 = defunc_0_lifted_step_res_f_res_f_res_f_res_178070;
                                        defunc_0_lifted_step_res_f_res_f_res_178005 = defunc_0_lifted_step_res_f_res_f_res_f_res_178071;
                                        defunc_0_lifted_step_res_f_res_f_res_178006 = defunc_0_lifted_step_res_f_res_f_res_f_res_178072;
                                    }
                                    defunc_0_lifted_step_res_f_res_177997 = defunc_0_lifted_step_res_f_res_f_res_178003;
                                    defunc_0_lifted_step_res_f_res_177998 = defunc_0_lifted_step_res_f_res_f_res_178004;
                                    defunc_0_lifted_step_res_f_res_177999 = defunc_0_lifted_step_res_f_res_f_res_178005;
                                    defunc_0_lifted_step_res_f_res_178000 = defunc_0_lifted_step_res_f_res_f_res_178006;
                                }
                                defunc_0_lifted_step_res_177990 = defunc_0_lifted_step_res_f_res_177997;
                                defunc_0_lifted_step_res_177991 = defunc_0_lifted_step_res_f_res_177998;
                                defunc_0_lifted_step_res_177992 = defunc_0_lifted_step_res_f_res_177999;
                                defunc_0_lifted_step_res_177993 = defunc_0_lifted_step_res_f_res_178000;
                            }
                            
                            int64_t loopres_178076;
                            int64_t loopres_178077;
                            int64_t loopres_178078;
                            int64_t loopres_178079;
                            int64_t loopres_178080;
                            
                            if (futrts_lifted_normalizze_9069(ctx, &loopres_178076, &loopres_178077, &loopres_178078, &loopres_178079, &loopres_178080, defunc_0_lifted_step_res_177990, ss_177984, defunc_0_lifted_step_res_177991, defunc_0_lifted_step_res_177992, defunc_0_lifted_step_res_177993) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            bool loop_cond_178081 = slt64((int64_t) 0, loopres_178080);
                            bool loop_while_tmp_182689 = loop_cond_178081;
                            int64_t ss_tmp_182690 = loopres_178076;
                            int64_t ss_tmp_182691 = loopres_178077;
                            int64_t tt_tmp_182692 = loopres_178078;
                            int64_t tt_tmp_182693 = loopres_178079;
                            int64_t count_tmp_182694 = loopres_178080;
                            
                            loop_while_177982 = loop_while_tmp_182689;
                            ss_177983 = ss_tmp_182690;
                            ss_177984 = ss_tmp_182691;
                            tt_177985 = tt_tmp_182692;
                            tt_177986 = tt_tmp_182693;
                            count_177987 = count_tmp_182694;
                        }
                        defunc_0_split_count_res_177976 = loop_while_177982;
                        defunc_0_split_count_res_177977 = ss_177983;
                        defunc_0_split_count_res_177978 = ss_177984;
                        defunc_0_split_count_res_177979 = tt_177985;
                        defunc_0_split_count_res_177980 = tt_177986;
                        defunc_0_split_count_res_177981 = count_177987;
                        ((int64_t *) mem_181972)[i_180868] = defunc_0_split_count_res_177977;
                        ((int64_t *) mem_181974)[i_180868] = defunc_0_split_count_res_177979;
                    }
                    if (mem_181988_cached_sizze_183037 < flat_dim_177818) {
                        err = lexical_realloc(ctx, &mem_181988, &mem_181988_cached_sizze_183037, flat_dim_177818);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181991_cached_sizze_183038 < bytes_181990) {
                        err = lexical_realloc(ctx, &mem_181991, &mem_181991_cached_sizze_183038, bytes_181990);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    if (mem_181994_cached_sizze_183039 < bytes_181993) {
                        err = lexical_realloc(ctx, &mem_181994, &mem_181994_cached_sizze_183039, bytes_181993);
                        if (err != FUTHARK_SUCCESS)
                            goto cleanup;
                    }
                    for (int64_t i_180877 = 0; i_180877 < num_blocks_177815; i_180877++) {
                        bool y_178088 = slt64(i_180877, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool index_certs_178090;
                        
                        if (!y_178088) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_180877, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:151:22-34\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178091 = ((int64_t *) mem_181972)[i_180877];
                        int64_t defunc_0_f_res_178092 = ((int64_t *) mem_181974)[i_180877];
                        int64_t tmp_178093 = add64((int64_t) 1, i_180877);
                        bool x_178094 = sle64((int64_t) 0, tmp_178093);
                        bool y_178095 = slt64(tmp_178093, dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816);
                        bool bounds_check_178096 = x_178094 && y_178095;
                        bool index_certs_178097;
                        
                        if (!bounds_check_178096) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_178093, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20U1z20Unum_blocksz7dUzg_177816, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:152:22-36\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t defunc_0_f_res_178098 = ((int64_t *) mem_181972)[tmp_178093];
                        int64_t defunc_0_f_res_178099 = ((int64_t *) mem_181974)[tmp_178093];
                        int64_t merge_sequential_arg2_178100 = add64(stride_177794, defunc_0_f_res_178092);
                        int64_t merge_sequential_arg2_178101 = add64(stride_177794, defunc_0_f_res_178099);
                        int64_t j_m_i_178102 = sub64(merge_sequential_arg2_178101, merge_sequential_arg2_178100);
                        bool empty_slice_178103 = j_m_i_178102 == (int64_t) 0;
                        int64_t m_178104 = sub64(j_m_i_178102, (int64_t) 1);
                        int64_t i_p_m_t_s_178105 = add64(merge_sequential_arg2_178100, m_178104);
                        bool zzero_leq_i_p_m_t_s_178106 = sle64((int64_t) 0, i_p_m_t_s_178105);
                        bool i_p_m_t_s_leq_w_178107 = slt64(i_p_m_t_s_178105, next_stride_177795);
                        bool zzero_lte_i_178108 = sle64((int64_t) 0, merge_sequential_arg2_178100);
                        bool i_lte_j_178109 = sle64(merge_sequential_arg2_178100, merge_sequential_arg2_178101);
                        bool y_178110 = i_p_m_t_s_leq_w_178107 && zzero_lte_i_178108;
                        bool y_178111 = zzero_leq_i_p_m_t_s_178106 && y_178110;
                        bool forwards_ok_178112 = i_lte_j_178109 && y_178111;
                        bool ok_or_empty_178113 = empty_slice_178103 || forwards_ok_178112;
                        bool index_certs_178114;
                        
                        if (!ok_or_empty_178113) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) merge_sequential_arg2_178100, ":", (long long) merge_sequential_arg2_178101, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:40-58\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        int64_t j_m_i_178115 = sub64(defunc_0_f_res_178098, defunc_0_f_res_178091);
                        bool empty_slice_178116 = j_m_i_178115 == (int64_t) 0;
                        int64_t m_178117 = sub64(j_m_i_178115, (int64_t) 1);
                        int64_t i_p_m_t_s_178118 = add64(defunc_0_f_res_178091, m_178117);
                        bool zzero_leq_i_p_m_t_s_178119 = sle64((int64_t) 0, i_p_m_t_s_178118);
                        bool i_p_m_t_s_leq_w_178120 = slt64(i_p_m_t_s_178118, next_stride_177795);
                        bool zzero_lte_i_178121 = sle64((int64_t) 0, defunc_0_f_res_178091);
                        bool i_lte_j_178122 = sle64(defunc_0_f_res_178091, defunc_0_f_res_178098);
                        bool y_178123 = i_p_m_t_s_leq_w_178120 && zzero_lte_i_178121;
                        bool y_178124 = zzero_leq_i_p_m_t_s_178119 && y_178123;
                        bool forwards_ok_178125 = i_lte_j_178122 && y_178124;
                        bool ok_or_empty_178126 = empty_slice_178116 || forwards_ok_178125;
                        bool index_certs_178127;
                        
                        if (!ok_or_empty_178126) {
                            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) defunc_0_f_res_178091, ":", (long long) defunc_0_f_res_178098, "] out of bounds for array of shape [", (long long) next_stride_177795, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:153:29-39\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #4  /prelude/soacs.fut:59:9-11\n   #5  /prelude/array.fut:241:11-17\n   #6  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #7  /prelude/functional.fut:9:44-45\n   #8  ftsort.fut:371:63-73\n   #9  ftsort.fut:364:1-371:73\n"));
                            err = FUTHARK_PROGRAM_ERROR;
                            goto cleanup;
                        }
                        
                        bool cond_178128 = slt64((int64_t) 0, j_m_i_178115);
                        int8_t dummy_178129;
                        int64_t dummy_178130;
                        int16_t dummy_178131;
                        
                        if (cond_178128) {
                            bool index_certs_180639;
                            
                            if (!cond_178128) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:36-42\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_180640 = start_177868 + defunc_0_f_res_178091;
                            int8_t head_res_180641 = ((int8_t *) mem_param_181944.mem)[slice_180640];
                            int64_t head_res_180642 = ((int64_t *) mem_param_181947.mem)[slice_180640];
                            int16_t head_res_180643 = ((int16_t *) mem_param_181950.mem)[slice_180640];
                            
                            dummy_178129 = head_res_180641;
                            dummy_178130 = head_res_180642;
                            dummy_178131 = head_res_180643;
                        } else {
                            bool y_178137 = slt64((int64_t) 0, j_m_i_178102);
                            bool index_certs_178138;
                            
                            if (!y_178137) {
                                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  /prelude/array.fut:22:29-33\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:100:48-54\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #3  /prelude/soacs.fut:59:9-11\n   #4  /prelude/array.fut:241:11-17\n   #5  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #6  /prelude/soacs.fut:59:9-11\n   #7  /prelude/array.fut:241:11-17\n   #8  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #9  /prelude/functional.fut:9:44-45\n   #10 ftsort.fut:371:63-73\n   #11 ftsort.fut:364:1-371:73\n"));
                                err = FUTHARK_PROGRAM_ERROR;
                                goto cleanup;
                            }
                            
                            int64_t slice_178139 = start_177868 + merge_sequential_arg2_178100;
                            int8_t head_res_178140 = ((int8_t *) mem_param_181944.mem)[slice_178139];
                            int64_t head_res_178141 = ((int64_t *) mem_param_181947.mem)[slice_178139];
                            int16_t head_res_178142 = ((int16_t *) mem_param_181950.mem)[slice_178139];
                            
                            dummy_178129 = head_res_178140;
                            dummy_178130 = head_res_178141;
                            dummy_178131 = head_res_178142;
                        }
                        for (int64_t nest_i_182698 = 0; nest_i_182698 < merge_block_sizze_177632; nest_i_182698++) {
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + nest_i_182698] = dummy_178129;
                        }
                        for (int64_t nest_i_182699 = 0; nest_i_182699 < merge_block_sizze_177632; nest_i_182699++) {
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + nest_i_182699] = dummy_178130;
                        }
                        for (int64_t nest_i_182700 = 0; nest_i_182700 < merge_block_sizze_177632; nest_i_182700++) {
                            ((int16_t *) mem_181994)[i_180877 * merge_block_sizze_177632 + nest_i_182700] = dummy_178131;
                        }
                        
                        int64_t data_178146;
                        int64_t i_178151 = (int64_t) 0;
                        
                        for (int64_t k_178150 = 0; k_178150 < merge_block_sizze_177632; k_178150++) {
                            int64_t j_178155 = sub64(k_178150, i_178151);
                            bool cond_178156 = j_178155 == j_m_i_178102;
                            bool cond_178157;
                            
                            if (cond_178156) {
                                cond_178157 = 1;
                            } else {
                                bool cond_178158 = slt64(i_178151, j_m_i_178115);
                                bool cond_f_res_178159;
                                
                                if (cond_178158) {
                                    bool x_180644 = sle64((int64_t) 0, j_178155);
                                    bool y_180645 = slt64(j_178155, j_m_i_178102);
                                    bool bounds_check_180646 = x_180644 && y_180645;
                                    bool index_certs_180647;
                                    
                                    if (!bounds_check_180646) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:55-59\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    bool x_180653 = sle64((int64_t) 0, i_178151);
                                    bool bounds_check_180654 = cond_178158 && x_180653;
                                    bool index_certs_180655;
                                    
                                    if (!bounds_check_180654) {
                                        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:105:50-54\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                        err = FUTHARK_PROGRAM_ERROR;
                                        goto cleanup;
                                    }
                                    
                                    int64_t slice_180648 = merge_sequential_arg2_178100 + j_178155;
                                    int64_t slice_180649 = start_177868 + slice_180648;
                                    int8_t leq_arg1_180650 = ((int8_t *) mem_param_181944.mem)[slice_180649];
                                    int64_t leq_arg1_180651 = ((int64_t *) mem_param_181947.mem)[slice_180649];
                                    int16_t leq_arg1_180652 = ((int16_t *) mem_param_181950.mem)[slice_180649];
                                    int64_t slice_180656 = defunc_0_f_res_178091 + i_178151;
                                    int64_t slice_180657 = start_177868 + slice_180656;
                                    int8_t leq_arg0_180658 = ((int8_t *) mem_param_181944.mem)[slice_180657];
                                    int64_t leq_arg0_180659 = ((int64_t *) mem_param_181947.mem)[slice_180657];
                                    int16_t leq_arg0_180660 = ((int16_t *) mem_param_181950.mem)[slice_180657];
                                    bool cond_180661 = leq_arg0_180658 == leq_arg1_180650;
                                    bool defunc_0_leq_res_t_res_180662 = sle64(leq_arg0_180659, leq_arg1_180651);
                                    bool defunc_0_leq_res_180663 = sle16(leq_arg0_180660, leq_arg1_180652);
                                    bool x_180664 = cond_180661 && defunc_0_leq_res_t_res_180662;
                                    bool x_180665 = !cond_180661;
                                    bool y_180666 = defunc_0_leq_res_180663 && x_180665;
                                    bool defunc_0_leq_res_180667 = x_180664 || y_180666;
                                    
                                    cond_f_res_178159 = defunc_0_leq_res_180667;
                                } else {
                                    cond_f_res_178159 = 0;
                                }
                                cond_178157 = cond_f_res_178159;
                            }
                            
                            int64_t loopres_178184;
                            int8_t loopres_178185;
                            int64_t loopres_178186;
                            int16_t loopres_178187;
                            
                            if (cond_178157) {
                                bool x_180669 = sle64((int64_t) 0, i_178151);
                                bool y_180670 = slt64(i_178151, j_m_i_178115);
                                bool bounds_check_180671 = x_180669 && y_180670;
                                bool index_certs_180672;
                                
                                if (!bounds_check_180671) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i_178151, "] out of bounds for array of shape [", (long long) j_m_i_178115, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:106:17-21\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t tmp_180668 = add64((int64_t) 1, i_178151);
                                int64_t slice_180673 = defunc_0_f_res_178091 + i_178151;
                                int64_t slice_180674 = start_177868 + slice_180673;
                                int8_t tmp_180675 = ((int8_t *) mem_param_181944.mem)[slice_180674];
                                int64_t tmp_180676 = ((int64_t *) mem_param_181947.mem)[slice_180674];
                                int16_t tmp_180677 = ((int16_t *) mem_param_181950.mem)[slice_180674];
                                
                                loopres_178184 = tmp_180668;
                                loopres_178185 = tmp_180675;
                                loopres_178186 = tmp_180676;
                                loopres_178187 = tmp_180677;
                            } else {
                                bool x_178198 = sle64((int64_t) 0, j_178155);
                                bool y_178199 = slt64(j_178155, j_m_i_178102);
                                bool bounds_check_178200 = x_178198 && y_178199;
                                bool index_certs_178201;
                                
                                if (!bounds_check_178200) {
                                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) j_178155, "] out of bounds for array of shape [", (long long) j_m_i_178102, "].", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:108:15-19\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:153:59-69\n   #2  /prelude/soacs.fut:59:9-11\n   #3  /prelude/array.fut:241:11-17\n   #4  lib/github.com/diku-dk/sorts/merge_sort.fut:260:43-59\n   #5  /prelude/soacs.fut:59:9-11\n   #6  /prelude/array.fut:241:11-17\n   #7  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #8  /prelude/functional.fut:9:44-45\n   #9  ftsort.fut:371:63-73\n   #10 ftsort.fut:364:1-371:73\n"));
                                    err = FUTHARK_PROGRAM_ERROR;
                                    goto cleanup;
                                }
                                
                                int64_t slice_178202 = merge_sequential_arg2_178100 + j_178155;
                                int64_t slice_178203 = start_177868 + slice_178202;
                                int8_t tmp_178204 = ((int8_t *) mem_param_181944.mem)[slice_178203];
                                int64_t tmp_178205 = ((int64_t *) mem_param_181947.mem)[slice_178203];
                                int16_t tmp_178206 = ((int16_t *) mem_param_181950.mem)[slice_178203];
                                
                                loopres_178184 = i_178151;
                                loopres_178185 = tmp_178204;
                                loopres_178186 = tmp_178205;
                                loopres_178187 = tmp_178206;
                            }
                            ((int8_t *) mem_181988)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178185;
                            ((int64_t *) mem_181991)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178186;
                            ((int16_t *) mem_181994)[i_180877 * merge_block_sizze_177632 + k_178150] = loopres_178187;
                            
                            int64_t i_tmp_182701 = loopres_178184;
                            
                            i_178151 = i_tmp_182701;
                        }
                        data_178146 = i_178151;
                    }
                    if (memblock_alloc(ctx, &mem_182043, flat_dim_177818, "mem_182043")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_1b(ctx, 2, (uint8_t *) mem_182043.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint8_t *) mem_181988, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182047, bytes_181990, "mem_182047")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_8b(ctx, 2, (uint64_t *) mem_182047.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint64_t *) mem_181991, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_alloc(ctx, &mem_182051, bytes_181993, "mem_182051")) {
                        err = 1;
                        goto cleanup;
                    }
                    lmad_copy_2b(ctx, 2, (uint16_t *) mem_182051.mem, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (uint16_t *) mem_181994, (int64_t) 0, (int64_t []) {merge_block_sizze_177632, (int64_t) 1}, (int64_t []) {num_blocks_177815, merge_block_sizze_177632});
                    if (memblock_set(ctx, &ext_mem_182084, &mem_182043, "mem_182043") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182081, &mem_182047, "mem_182047") != 0)
                        return 1;
                    if (memblock_set(ctx, &ext_mem_182078, &mem_182051, "mem_182051") != 0)
                        return 1;
                }
                lmad_copy_1b(ctx, 1, (uint8_t *) mem_181952, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182084.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
                    return 1;
                lmad_copy_8b(ctx, 1, (uint64_t *) mem_181955, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182081.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
                    return 1;
                lmad_copy_2b(ctx, 1, (uint16_t *) mem_181958, i_180887 * next_stride_177795, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_182078.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {next_stride_177795});
                if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
                    return 1;
            }
            if (memblock_alloc(ctx, &mem_182098, bytes_181951, "mem_182098")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_1b(ctx, 2, (uint8_t *) mem_182098.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint8_t *) mem_181952, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182102, bytes_181954, "mem_182102")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_8b(ctx, 2, (uint64_t *) mem_182102.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint64_t *) mem_181955, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            if (memblock_alloc(ctx, &mem_182106, bytes_181957, "mem_182106")) {
                err = 1;
                goto cleanup;
            }
            lmad_copy_2b(ctx, 2, (uint16_t *) mem_182106.mem, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (uint16_t *) mem_181958, (int64_t) 0, (int64_t []) {next_stride_177795, (int64_t) 1}, (int64_t []) {num_merges_177799, next_stride_177795});
            
            bool loop_cond_178220 = slt64(next_stride_177795, flat_dim_177627);
            
            if (memblock_set(ctx, &mem_param_tmp_182668, &mem_182098, "mem_182098") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182669, &mem_182102, "mem_182102") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_tmp_182670, &mem_182106, "mem_182106") != 0)
                return 1;
            
            int64_t loop_dz2084Uz2082U_tmp_182671 = bytes_181951;
            bool loop_while_tmp_182672 = loop_cond_178220;
            int64_t stride_tmp_182676 = next_stride_177795;
            
            if (memblock_set(ctx, &mem_param_181944, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181947, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
                return 1;
            if (memblock_set(ctx, &mem_param_181950, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
                return 1;
            loop_dz2084Uz2082U_177789 = loop_dz2084Uz2082U_tmp_182671;
            loop_while_177790 = loop_while_tmp_182672;
            stride_177794 = stride_tmp_182676;
        }
        if (memblock_set(ctx, &ext_mem_182116, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182115, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182114, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        data_177783 = loop_dz2084Uz2082U_177789;
        data_177784 = loop_while_177790;
        data_177788 = stride_177794;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        
        bool i_p_m_t_s_leq_w_178223 = slt64(zs_lhs_177611, data_177783);
        bool y_178224 = i_p_m_t_s_leq_w_178223 && zzero_leq_i_p_m_t_s_178237;
        bool ok_or_empty_178225 = y_178224 || empty_slice_178235;
        bool index_certs_178226;
        
        if (!ok_or_empty_178225) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) dzlz7bUZLzpZRz20UlenAsz20UlenBsz7dUzg_177564, "] out of bounds for array of shape [", (long long) data_177783, "].", "-> #0  /prelude/array.fut:46:45-51\n   #1  lib/github.com/diku-dk/sorts/merge_sort.fut:265:3-14\n   #2  lib/github.com/diku-dk/sorts/merge_sort.fut:272:74-75\n   #3  /prelude/functional.fut:9:44-45\n   #4  ftsort.fut:371:63-73\n   #5  ftsort.fut:364:1-371:73\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        if (memblock_set(ctx, &ext_mem_182125, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182122, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_set(ctx, &ext_mem_182119, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
    }
    if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
        return 1;
    if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
        return 1;
    lmad_copy_1b(ctx, 1, (uint8_t *) mem_181034.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint8_t *) ext_mem_182125.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
        return 1;
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181036.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint64_t *) ext_mem_182122.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
        return 1;
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181038.mem, final_buffer_178242, (int64_t []) {(int64_t) 1}, (uint16_t *) ext_mem_182119.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {j_m_i_178243});
    if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181036, "mem_181036") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182448, &mem_181038, "mem_181038") != 0)
        return 1;
    prim_out_182449 = dzlz7bUZLzpZRz20Unaz20Unbz7dUzg_175521;
    if (memblock_set(ctx, &*mem_out_p_182986, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182987, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_182988, &mem_out_182448, "mem_out_182448") != 0)
        return 1;
    *out_prim_out_182989 = prim_out_182449;
    
  cleanup:
    {
        free(mem_181049);
        free(mem_181051);
        free(mem_181090);
        free(mem_181093);
        free(mem_181096);
        free(mem_181109);
        free(mem_181111);
        free(mem_181113);
        free(mem_181210);
        free(mem_181213);
        free(mem_181216);
        free(mem_181230);
        free(mem_181232);
        free(mem_181246);
        free(mem_181249);
        free(mem_181252);
        free(mem_181394);
        free(mem_181396);
        free(mem_181411);
        free(mem_181413);
        free(mem_181416);
        free(mem_181419);
        free(mem_181453);
        free(mem_181456);
        free(mem_181459);
        free(mem_181472);
        free(mem_181474);
        free(mem_181476);
        free(mem_181573);
        free(mem_181576);
        free(mem_181579);
        free(mem_181593);
        free(mem_181595);
        free(mem_181609);
        free(mem_181612);
        free(mem_181615);
        free(mem_181832);
        free(mem_181835);
        free(mem_181838);
        free(mem_181851);
        free(mem_181853);
        free(mem_181855);
        free(mem_181952);
        free(mem_181955);
        free(mem_181958);
        free(mem_181972);
        free(mem_181974);
        free(mem_181988);
        free(mem_181991);
        free(mem_181994);
        if (memblock_unref(ctx, &mem_param_tmp_182670, "mem_param_tmp_182670") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182669, "mem_param_tmp_182669") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182668, "mem_param_tmp_182668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182106, "mem_182106") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182102, "mem_182102") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182098, "mem_182098") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182051, "mem_182051") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182047, "mem_182047") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182043, "mem_182043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182057, "mem_182057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182055, "mem_182055") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_182053, "mem_182053") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182078, "ext_mem_182078") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182081, "ext_mem_182081") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182084, "ext_mem_182084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181950, "mem_param_181950") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181947, "mem_param_181947") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181944, "mem_param_181944") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182114, "ext_mem_182114") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182115, "ext_mem_182115") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182116, "ext_mem_182116") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181940, "mem_181940") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181936, "mem_181936") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181932, "mem_181932") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182119, "ext_mem_182119") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182122, "ext_mem_182122") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_182125, "ext_mem_182125") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181830, "mem_181830") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181828, "mem_181828") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181826, "mem_181826") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182604, "mem_param_tmp_182604") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182603, "mem_param_tmp_182603") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182602, "mem_param_tmp_182602") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181364, "mem_181364") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181360, "mem_181360") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181356, "mem_181356") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181309, "mem_181309") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181305, "mem_181305") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181301, "mem_181301") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181315, "mem_181315") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181313, "mem_181313") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181311, "mem_181311") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181336, "ext_mem_181336") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181339, "ext_mem_181339") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181342, "ext_mem_181342") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181208, "mem_param_181208") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181205, "mem_param_181205") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181202, "mem_param_181202") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181372, "ext_mem_181372") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181373, "ext_mem_181373") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181374, "ext_mem_181374") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181198, "mem_181198") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181194, "mem_181194") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181190, "mem_181190") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181377, "ext_mem_181377") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181380, "ext_mem_181380") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181383, "ext_mem_181383") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181088, "mem_181088") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181086, "mem_181086") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181084, "mem_181084") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181068, "mem_181068") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181066, "mem_181066") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181064, "mem_181064") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181775, "mem_181775") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181774, "mem_181774") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181772, "mem_181772") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182510, "mem_param_tmp_182510") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182509, "mem_param_tmp_182509") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_tmp_182508, "mem_param_tmp_182508") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181727, "mem_181727") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181723, "mem_181723") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181719, "mem_181719") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181672, "mem_181672") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181668, "mem_181668") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181664, "mem_181664") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181678, "mem_181678") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181676, "mem_181676") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181674, "mem_181674") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181699, "ext_mem_181699") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181702, "ext_mem_181702") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181705, "ext_mem_181705") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181571, "mem_param_181571") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181568, "mem_param_181568") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181565, "mem_param_181565") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181735, "ext_mem_181735") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181736, "ext_mem_181736") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181737, "ext_mem_181737") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181561, "mem_181561") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181557, "mem_181557") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181553, "mem_181553") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181740, "ext_mem_181740") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181743, "ext_mem_181743") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181746, "ext_mem_181746") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181451, "mem_181451") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181449, "mem_181449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181447, "mem_181447") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181796, "ext_mem_181796") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181799, "ext_mem_181799") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181802, "ext_mem_181802") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181038, "mem_181038") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181036, "mem_181036") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182448, "mem_out_182448") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_double(struct futhark_context *ctx, struct memblock *mem_out_p_183040, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_109798, int64_t incr_109799, int64_t block_sizze_109800)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183041 = 0;
    unsigned char *mem_181035 = NULL;
    struct memblock mem_param_tmp_182449;
    
    mem_param_tmp_182449.references = NULL;
    
    struct memblock mem_181048;
    
    mem_181048.references = NULL;
    
    struct memblock mem_param_181046;
    
    mem_param_181046.references = NULL;
    
    struct memblock ext_mem_181057;
    
    ext_mem_181057.references = NULL;
    
    struct memblock mem_181043;
    
    mem_181043.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_109798;
    bool zzero_164680 = block_sizze_109800 == (int64_t) 0;
    bool nonzzero_164681 = !zzero_164680;
    bool nonzzero_cert_164682;
    
    if (!nonzzero_164681) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:63:1-65:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_181035_cached_sizze_183041 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183041, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_180694 = 0; i_180694 < n_109798; i_180694++) {
        int64_t eta_p_164676 = ((int64_t *) is_mem_181032.mem)[i_180694];
        int64_t lifted_lambda_res_164677 = sub64(eta_p_164676, incr_109799);
        
        ((int64_t *) mem_181035)[i_180694] = lifted_lambda_res_164677;
    }
    
    int64_t zm_lhs_164678 = add64(n_109798, block_sizze_109800);
    int64_t zs_lhs_164679 = sub64(zm_lhs_164678, (int64_t) 1);
    int64_t m_164683 = sdiv64(zs_lhs_164679, block_sizze_109800);
    
    if (memblock_alloc(ctx, &mem_181043, bytes_181034, "mem_181043")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182448 = 0; nest_i_182448 < n_109798; nest_i_182448++) {
        ((double *) mem_181043.mem)[nest_i_182448] = 0.0;
    }
    
    bool loop_cond_164685 = slt64((int64_t) 0, m_164683);
    bool partitioned_gather_res_164686;
    int64_t partitioned_gather_res_164688;
    bool loop_while_164689;
    int64_t p_164691;
    
    if (memblock_set(ctx, &mem_param_181046, &mem_181043, "mem_181043") != 0)
        return 1;
    loop_while_164689 = loop_cond_164685;
    p_164691 = (int64_t) 0;
    while (loop_while_164689) {
        int64_t lower_bound_164692 = mul64(block_sizze_109800, p_164691);
        int64_t min_arg1_164693 = add64(block_sizze_109800, lower_bound_164692);
        int64_t min_res_164694 = smin64(n_109798, min_arg1_164693);
        
        if (memblock_alloc(ctx, &mem_181048, bytes_181034, "mem_181048")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180698 = 0; i_180698 < n_109798; i_180698++) {
            int64_t eta_p_178558 = ((int64_t *) mem_181035)[i_180698];
            double eta_p_178559 = ((double *) mem_param_181046.mem)[i_180698];
            bool cond_178560 = sle64(lower_bound_164692, eta_p_178558);
            bool cond_t_res_178561 = slt64(eta_p_178558, min_res_164694);
            bool x_178562 = cond_178560 && cond_t_res_178561;
            int64_t lifted_lambda_res_178563;
            
            if (x_178562) {
                lifted_lambda_res_178563 = eta_p_178558;
            } else {
                lifted_lambda_res_178563 = (int64_t) -1;
            }
            
            bool cond_178566 = sle64((int64_t) 0, lifted_lambda_res_178563);
            bool cond_t_res_178567 = slt64(lifted_lambda_res_178563, n_109798);
            bool x_178568 = cond_178566 && cond_t_res_178567;
            double lifted_lambda_res_178569;
            
            if (x_178568) {
                bool index_certs_178580;
                
                if (!x_178568) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lifted_lambda_res_178563, "] out of bounds for array of shape [", (long long) n_109798, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:63:1-65:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                double lifted_lambda_res_t_res_178581 = ((double *) ys_mem_181033.mem)[lifted_lambda_res_178563];
                
                lifted_lambda_res_178569 = lifted_lambda_res_t_res_178581;
            } else {
                lifted_lambda_res_178569 = 0.0;
            }
            
            double lifted_lambda_res_178574;
            
            if (cond_178566) {
                lifted_lambda_res_178574 = lifted_lambda_res_178569;
            } else {
                lifted_lambda_res_178574 = eta_p_178559;
            }
            ((double *) mem_181048.mem)[i_180698] = lifted_lambda_res_178574;
        }
        
        int64_t tmp_164715 = add64((int64_t) 1, p_164691);
        bool loop_cond_164716 = slt64(tmp_164715, m_164683);
        
        if (memblock_set(ctx, &mem_param_tmp_182449, &mem_181048, "mem_181048") != 0)
            return 1;
        
        bool loop_while_tmp_182450 = loop_cond_164716;
        int64_t p_tmp_182452 = tmp_164715;
        
        if (memblock_set(ctx, &mem_param_181046, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        loop_while_164689 = loop_while_tmp_182450;
        p_164691 = p_tmp_182452;
    }
    if (memblock_set(ctx, &ext_mem_181057, &mem_param_181046, "mem_param_181046") != 0)
        return 1;
    partitioned_gather_res_164686 = loop_while_164689;
    partitioned_gather_res_164688 = p_164691;
    if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &ext_mem_181057, "ext_mem_181057") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183040, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        if (memblock_unref(ctx, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181048, "mem_181048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181046, "mem_param_181046") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181057, "ext_mem_181057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_float(struct futhark_context *ctx, struct memblock *mem_out_p_183042, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_109462, int64_t incr_109463, int64_t block_sizze_109464)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183043 = 0;
    unsigned char *mem_181035 = NULL;
    struct memblock mem_param_tmp_182449;
    
    mem_param_tmp_182449.references = NULL;
    
    struct memblock mem_181048;
    
    mem_181048.references = NULL;
    
    struct memblock mem_param_181046;
    
    mem_param_181046.references = NULL;
    
    struct memblock ext_mem_181057;
    
    ext_mem_181057.references = NULL;
    
    struct memblock mem_181043;
    
    mem_181043.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_109462;
    bool zzero_164680 = block_sizze_109464 == (int64_t) 0;
    bool nonzzero_164681 = !zzero_164680;
    bool nonzzero_cert_164682;
    
    if (!nonzzero_164681) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:59:1-61:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181042 = (int64_t) 4 * n_109462;
    
    if (mem_181035_cached_sizze_183043 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183043, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_180694 = 0; i_180694 < n_109462; i_180694++) {
        int64_t eta_p_164676 = ((int64_t *) is_mem_181032.mem)[i_180694];
        int64_t lifted_lambda_res_164677 = sub64(eta_p_164676, incr_109463);
        
        ((int64_t *) mem_181035)[i_180694] = lifted_lambda_res_164677;
    }
    
    int64_t zm_lhs_164678 = add64(n_109462, block_sizze_109464);
    int64_t zs_lhs_164679 = sub64(zm_lhs_164678, (int64_t) 1);
    int64_t m_164683 = sdiv64(zs_lhs_164679, block_sizze_109464);
    
    if (memblock_alloc(ctx, &mem_181043, bytes_181042, "mem_181043")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182448 = 0; nest_i_182448 < n_109462; nest_i_182448++) {
        ((float *) mem_181043.mem)[nest_i_182448] = 0.0F;
    }
    
    bool loop_cond_164685 = slt64((int64_t) 0, m_164683);
    bool partitioned_gather_res_164686;
    int64_t partitioned_gather_res_164688;
    bool loop_while_164689;
    int64_t p_164691;
    
    if (memblock_set(ctx, &mem_param_181046, &mem_181043, "mem_181043") != 0)
        return 1;
    loop_while_164689 = loop_cond_164685;
    p_164691 = (int64_t) 0;
    while (loop_while_164689) {
        int64_t lower_bound_164692 = mul64(block_sizze_109464, p_164691);
        int64_t min_arg1_164693 = add64(block_sizze_109464, lower_bound_164692);
        int64_t min_res_164694 = smin64(n_109462, min_arg1_164693);
        
        if (memblock_alloc(ctx, &mem_181048, bytes_181042, "mem_181048")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180698 = 0; i_180698 < n_109462; i_180698++) {
            int64_t eta_p_178558 = ((int64_t *) mem_181035)[i_180698];
            float eta_p_178559 = ((float *) mem_param_181046.mem)[i_180698];
            bool cond_178560 = sle64(lower_bound_164692, eta_p_178558);
            bool cond_t_res_178561 = slt64(eta_p_178558, min_res_164694);
            bool x_178562 = cond_178560 && cond_t_res_178561;
            int64_t lifted_lambda_res_178563;
            
            if (x_178562) {
                lifted_lambda_res_178563 = eta_p_178558;
            } else {
                lifted_lambda_res_178563 = (int64_t) -1;
            }
            
            bool cond_178566 = sle64((int64_t) 0, lifted_lambda_res_178563);
            bool cond_t_res_178567 = slt64(lifted_lambda_res_178563, n_109462);
            bool x_178568 = cond_178566 && cond_t_res_178567;
            float lifted_lambda_res_178569;
            
            if (x_178568) {
                bool index_certs_178580;
                
                if (!x_178568) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lifted_lambda_res_178563, "] out of bounds for array of shape [", (long long) n_109462, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:59:1-61:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                float lifted_lambda_res_t_res_178581 = ((float *) ys_mem_181033.mem)[lifted_lambda_res_178563];
                
                lifted_lambda_res_178569 = lifted_lambda_res_t_res_178581;
            } else {
                lifted_lambda_res_178569 = 0.0F;
            }
            
            float lifted_lambda_res_178574;
            
            if (cond_178566) {
                lifted_lambda_res_178574 = lifted_lambda_res_178569;
            } else {
                lifted_lambda_res_178574 = eta_p_178559;
            }
            ((float *) mem_181048.mem)[i_180698] = lifted_lambda_res_178574;
        }
        
        int64_t tmp_164715 = add64((int64_t) 1, p_164691);
        bool loop_cond_164716 = slt64(tmp_164715, m_164683);
        
        if (memblock_set(ctx, &mem_param_tmp_182449, &mem_181048, "mem_181048") != 0)
            return 1;
        
        bool loop_while_tmp_182450 = loop_cond_164716;
        int64_t p_tmp_182452 = tmp_164715;
        
        if (memblock_set(ctx, &mem_param_181046, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        loop_while_164689 = loop_while_tmp_182450;
        p_164691 = p_tmp_182452;
    }
    if (memblock_set(ctx, &ext_mem_181057, &mem_param_181046, "mem_param_181046") != 0)
        return 1;
    partitioned_gather_res_164686 = loop_while_164689;
    partitioned_gather_res_164688 = p_164691;
    if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &ext_mem_181057, "ext_mem_181057") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183042, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        if (memblock_unref(ctx, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181048, "mem_181048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181046, "mem_param_181046") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181057, "ext_mem_181057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_int(struct futhark_context *ctx, struct memblock *mem_out_p_183044, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_108793, int64_t incr_108794, int64_t block_sizze_108795)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183045 = 0;
    unsigned char *mem_181035 = NULL;
    struct memblock mem_param_tmp_182449;
    
    mem_param_tmp_182449.references = NULL;
    
    struct memblock mem_181048;
    
    mem_181048.references = NULL;
    
    struct memblock mem_param_181046;
    
    mem_param_181046.references = NULL;
    
    struct memblock ext_mem_181057;
    
    ext_mem_181057.references = NULL;
    
    struct memblock mem_181043;
    
    mem_181043.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_108793;
    bool zzero_164680 = block_sizze_108795 == (int64_t) 0;
    bool nonzzero_164681 = !zzero_164680;
    bool nonzzero_cert_164682;
    
    if (!nonzzero_164681) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:51:1-53:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181042 = (int64_t) 4 * n_108793;
    
    if (mem_181035_cached_sizze_183045 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183045, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_180694 = 0; i_180694 < n_108793; i_180694++) {
        int64_t eta_p_164676 = ((int64_t *) is_mem_181032.mem)[i_180694];
        int64_t lifted_lambda_res_164677 = sub64(eta_p_164676, incr_108794);
        
        ((int64_t *) mem_181035)[i_180694] = lifted_lambda_res_164677;
    }
    
    int64_t zm_lhs_164678 = add64(n_108793, block_sizze_108795);
    int64_t zs_lhs_164679 = sub64(zm_lhs_164678, (int64_t) 1);
    int64_t m_164683 = sdiv64(zs_lhs_164679, block_sizze_108795);
    
    if (memblock_alloc(ctx, &mem_181043, bytes_181042, "mem_181043")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182448 = 0; nest_i_182448 < n_108793; nest_i_182448++) {
        ((int32_t *) mem_181043.mem)[nest_i_182448] = 0;
    }
    
    bool loop_cond_164685 = slt64((int64_t) 0, m_164683);
    bool partitioned_gather_res_164686;
    int64_t partitioned_gather_res_164688;
    bool loop_while_164689;
    int64_t p_164691;
    
    if (memblock_set(ctx, &mem_param_181046, &mem_181043, "mem_181043") != 0)
        return 1;
    loop_while_164689 = loop_cond_164685;
    p_164691 = (int64_t) 0;
    while (loop_while_164689) {
        int64_t lower_bound_164692 = mul64(block_sizze_108795, p_164691);
        int64_t min_arg1_164693 = add64(block_sizze_108795, lower_bound_164692);
        int64_t min_res_164694 = smin64(n_108793, min_arg1_164693);
        
        if (memblock_alloc(ctx, &mem_181048, bytes_181042, "mem_181048")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180698 = 0; i_180698 < n_108793; i_180698++) {
            int64_t eta_p_178558 = ((int64_t *) mem_181035)[i_180698];
            int32_t eta_p_178559 = ((int32_t *) mem_param_181046.mem)[i_180698];
            bool cond_178560 = sle64(lower_bound_164692, eta_p_178558);
            bool cond_t_res_178561 = slt64(eta_p_178558, min_res_164694);
            bool x_178562 = cond_178560 && cond_t_res_178561;
            int64_t lifted_lambda_res_178563;
            
            if (x_178562) {
                lifted_lambda_res_178563 = eta_p_178558;
            } else {
                lifted_lambda_res_178563 = (int64_t) -1;
            }
            
            bool cond_178566 = sle64((int64_t) 0, lifted_lambda_res_178563);
            bool cond_t_res_178567 = slt64(lifted_lambda_res_178563, n_108793);
            bool x_178568 = cond_178566 && cond_t_res_178567;
            int32_t lifted_lambda_res_178569;
            
            if (x_178568) {
                bool index_certs_178580;
                
                if (!x_178568) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lifted_lambda_res_178563, "] out of bounds for array of shape [", (long long) n_108793, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:51:1-53:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int32_t lifted_lambda_res_t_res_178581 = ((int32_t *) ys_mem_181033.mem)[lifted_lambda_res_178563];
                
                lifted_lambda_res_178569 = lifted_lambda_res_t_res_178581;
            } else {
                lifted_lambda_res_178569 = 0;
            }
            
            int32_t lifted_lambda_res_178574;
            
            if (cond_178566) {
                lifted_lambda_res_178574 = lifted_lambda_res_178569;
            } else {
                lifted_lambda_res_178574 = eta_p_178559;
            }
            ((int32_t *) mem_181048.mem)[i_180698] = lifted_lambda_res_178574;
        }
        
        int64_t tmp_164715 = add64((int64_t) 1, p_164691);
        bool loop_cond_164716 = slt64(tmp_164715, m_164683);
        
        if (memblock_set(ctx, &mem_param_tmp_182449, &mem_181048, "mem_181048") != 0)
            return 1;
        
        bool loop_while_tmp_182450 = loop_cond_164716;
        int64_t p_tmp_182452 = tmp_164715;
        
        if (memblock_set(ctx, &mem_param_181046, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        loop_while_164689 = loop_while_tmp_182450;
        p_164691 = p_tmp_182452;
    }
    if (memblock_set(ctx, &ext_mem_181057, &mem_param_181046, "mem_param_181046") != 0)
        return 1;
    partitioned_gather_res_164686 = loop_while_164689;
    partitioned_gather_res_164688 = p_164691;
    if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &ext_mem_181057, "ext_mem_181057") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183044, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        if (memblock_unref(ctx, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181048, "mem_181048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181046, "mem_param_181046") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181057, "ext_mem_181057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_long(struct futhark_context *ctx, struct memblock *mem_out_p_183046, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_109126, int64_t incr_109127, int64_t block_sizze_109128)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183047 = 0;
    unsigned char *mem_181035 = NULL;
    struct memblock mem_param_tmp_182449;
    
    mem_param_tmp_182449.references = NULL;
    
    struct memblock mem_181048;
    
    mem_181048.references = NULL;
    
    struct memblock mem_param_181046;
    
    mem_param_181046.references = NULL;
    
    struct memblock ext_mem_181057;
    
    ext_mem_181057.references = NULL;
    
    struct memblock mem_181043;
    
    mem_181043.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_109126;
    bool zzero_164680 = block_sizze_109128 == (int64_t) 0;
    bool nonzzero_164681 = !zzero_164680;
    bool nonzzero_cert_164682;
    
    if (!nonzzero_164681) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:55:1-57:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (mem_181035_cached_sizze_183047 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183047, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_180694 = 0; i_180694 < n_109126; i_180694++) {
        int64_t eta_p_164676 = ((int64_t *) is_mem_181032.mem)[i_180694];
        int64_t lifted_lambda_res_164677 = sub64(eta_p_164676, incr_109127);
        
        ((int64_t *) mem_181035)[i_180694] = lifted_lambda_res_164677;
    }
    
    int64_t zm_lhs_164678 = add64(n_109126, block_sizze_109128);
    int64_t zs_lhs_164679 = sub64(zm_lhs_164678, (int64_t) 1);
    int64_t m_164683 = sdiv64(zs_lhs_164679, block_sizze_109128);
    
    if (memblock_alloc(ctx, &mem_181043, bytes_181034, "mem_181043")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182448 = 0; nest_i_182448 < n_109126; nest_i_182448++) {
        ((int64_t *) mem_181043.mem)[nest_i_182448] = (int64_t) 0;
    }
    
    bool loop_cond_164685 = slt64((int64_t) 0, m_164683);
    bool partitioned_gather_res_164686;
    int64_t partitioned_gather_res_164688;
    bool loop_while_164689;
    int64_t p_164691;
    
    if (memblock_set(ctx, &mem_param_181046, &mem_181043, "mem_181043") != 0)
        return 1;
    loop_while_164689 = loop_cond_164685;
    p_164691 = (int64_t) 0;
    while (loop_while_164689) {
        int64_t lower_bound_164692 = mul64(block_sizze_109128, p_164691);
        int64_t min_arg1_164693 = add64(block_sizze_109128, lower_bound_164692);
        int64_t min_res_164694 = smin64(n_109126, min_arg1_164693);
        
        if (memblock_alloc(ctx, &mem_181048, bytes_181034, "mem_181048")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180698 = 0; i_180698 < n_109126; i_180698++) {
            int64_t eta_p_178558 = ((int64_t *) mem_181035)[i_180698];
            int64_t eta_p_178559 = ((int64_t *) mem_param_181046.mem)[i_180698];
            bool cond_178560 = sle64(lower_bound_164692, eta_p_178558);
            bool cond_t_res_178561 = slt64(eta_p_178558, min_res_164694);
            bool x_178562 = cond_178560 && cond_t_res_178561;
            int64_t lifted_lambda_res_178563;
            
            if (x_178562) {
                lifted_lambda_res_178563 = eta_p_178558;
            } else {
                lifted_lambda_res_178563 = (int64_t) -1;
            }
            
            bool cond_178566 = sle64((int64_t) 0, lifted_lambda_res_178563);
            bool cond_t_res_178567 = slt64(lifted_lambda_res_178563, n_109126);
            bool x_178568 = cond_178566 && cond_t_res_178567;
            int64_t lifted_lambda_res_178569;
            
            if (x_178568) {
                bool index_certs_178580;
                
                if (!x_178568) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lifted_lambda_res_178563, "] out of bounds for array of shape [", (long long) n_109126, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:55:1-57:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int64_t lifted_lambda_res_t_res_178581 = ((int64_t *) ys_mem_181033.mem)[lifted_lambda_res_178563];
                
                lifted_lambda_res_178569 = lifted_lambda_res_t_res_178581;
            } else {
                lifted_lambda_res_178569 = (int64_t) 0;
            }
            
            int64_t lifted_lambda_res_178574;
            
            if (cond_178566) {
                lifted_lambda_res_178574 = lifted_lambda_res_178569;
            } else {
                lifted_lambda_res_178574 = eta_p_178559;
            }
            ((int64_t *) mem_181048.mem)[i_180698] = lifted_lambda_res_178574;
        }
        
        int64_t tmp_164715 = add64((int64_t) 1, p_164691);
        bool loop_cond_164716 = slt64(tmp_164715, m_164683);
        
        if (memblock_set(ctx, &mem_param_tmp_182449, &mem_181048, "mem_181048") != 0)
            return 1;
        
        bool loop_while_tmp_182450 = loop_cond_164716;
        int64_t p_tmp_182452 = tmp_164715;
        
        if (memblock_set(ctx, &mem_param_181046, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        loop_while_164689 = loop_while_tmp_182450;
        p_164691 = p_tmp_182452;
    }
    if (memblock_set(ctx, &ext_mem_181057, &mem_param_181046, "mem_param_181046") != 0)
        return 1;
    partitioned_gather_res_164686 = loop_while_164689;
    partitioned_gather_res_164688 = p_164691;
    if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &ext_mem_181057, "ext_mem_181057") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183046, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        if (memblock_unref(ctx, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181048, "mem_181048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181046, "mem_param_181046") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181057, "ext_mem_181057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_orderByIndices_short(struct futhark_context *ctx, struct memblock *mem_out_p_183048, struct memblock is_mem_181032, struct memblock ys_mem_181033, int64_t n_108457, int64_t incr_108458, int64_t block_sizze_108459)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183049 = 0;
    unsigned char *mem_181035 = NULL;
    struct memblock mem_param_tmp_182449;
    
    mem_param_tmp_182449.references = NULL;
    
    struct memblock mem_181048;
    
    mem_181048.references = NULL;
    
    struct memblock mem_param_181046;
    
    mem_param_181046.references = NULL;
    
    struct memblock ext_mem_181057;
    
    ext_mem_181057.references = NULL;
    
    struct memblock mem_181043;
    
    mem_181043.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t bytes_181034 = (int64_t) 8 * n_108457;
    bool zzero_164680 = block_sizze_108459 == (int64_t) 0;
    bool nonzzero_164681 = !zzero_164680;
    bool nonzzero_cert_164682;
    
    if (!nonzzero_164681) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  ftbasics.fut:42:22-28\n   #1  ftsort.fut:12:3-49\n   #2  ftsort.fut:47:1-49:48\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181042 = (int64_t) 2 * n_108457;
    
    if (mem_181035_cached_sizze_183049 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183049, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_180694 = 0; i_180694 < n_108457; i_180694++) {
        int64_t eta_p_164676 = ((int64_t *) is_mem_181032.mem)[i_180694];
        int64_t lifted_lambda_res_164677 = sub64(eta_p_164676, incr_108458);
        
        ((int64_t *) mem_181035)[i_180694] = lifted_lambda_res_164677;
    }
    
    int64_t zm_lhs_164678 = add64(n_108457, block_sizze_108459);
    int64_t zs_lhs_164679 = sub64(zm_lhs_164678, (int64_t) 1);
    int64_t m_164683 = sdiv64(zs_lhs_164679, block_sizze_108459);
    
    if (memblock_alloc(ctx, &mem_181043, bytes_181042, "mem_181043")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t nest_i_182448 = 0; nest_i_182448 < n_108457; nest_i_182448++) {
        ((int16_t *) mem_181043.mem)[nest_i_182448] = (int16_t) 0;
    }
    
    bool loop_cond_164685 = slt64((int64_t) 0, m_164683);
    bool partitioned_gather_res_164686;
    int64_t partitioned_gather_res_164688;
    bool loop_while_164689;
    int64_t p_164691;
    
    if (memblock_set(ctx, &mem_param_181046, &mem_181043, "mem_181043") != 0)
        return 1;
    loop_while_164689 = loop_cond_164685;
    p_164691 = (int64_t) 0;
    while (loop_while_164689) {
        int64_t lower_bound_164692 = mul64(block_sizze_108459, p_164691);
        int64_t min_arg1_164693 = add64(block_sizze_108459, lower_bound_164692);
        int64_t min_res_164694 = smin64(n_108457, min_arg1_164693);
        
        if (memblock_alloc(ctx, &mem_181048, bytes_181042, "mem_181048")) {
            err = 1;
            goto cleanup;
        }
        for (int64_t i_180698 = 0; i_180698 < n_108457; i_180698++) {
            int64_t eta_p_178558 = ((int64_t *) mem_181035)[i_180698];
            int16_t eta_p_178559 = ((int16_t *) mem_param_181046.mem)[i_180698];
            bool cond_178560 = sle64(lower_bound_164692, eta_p_178558);
            bool cond_t_res_178561 = slt64(eta_p_178558, min_res_164694);
            bool x_178562 = cond_178560 && cond_t_res_178561;
            int64_t lifted_lambda_res_178563;
            
            if (x_178562) {
                lifted_lambda_res_178563 = eta_p_178558;
            } else {
                lifted_lambda_res_178563 = (int64_t) -1;
            }
            
            bool cond_178566 = sle64((int64_t) 0, lifted_lambda_res_178563);
            bool cond_t_res_178567 = slt64(lifted_lambda_res_178563, n_108457);
            bool x_178568 = cond_178566 && cond_t_res_178567;
            int16_t lifted_lambda_res_178569;
            
            if (x_178568) {
                bool index_certs_178580;
                
                if (!x_178568) {
                    set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) lifted_lambda_res_178563, "] out of bounds for array of shape [", (long long) n_108457, "].", "-> #0  ftbasics.fut:37:42-47\n   #1  /prelude/functional.fut:9:44-45\n   #2  ftbasics.fut:37:9-64\n   #3  ftsort.fut:12:3-49\n   #4  ftsort.fut:47:1-49:48\n"));
                    err = FUTHARK_PROGRAM_ERROR;
                    goto cleanup;
                }
                
                int16_t lifted_lambda_res_t_res_178581 = ((int16_t *) ys_mem_181033.mem)[lifted_lambda_res_178563];
                
                lifted_lambda_res_178569 = lifted_lambda_res_t_res_178581;
            } else {
                lifted_lambda_res_178569 = (int16_t) 0;
            }
            
            int16_t lifted_lambda_res_178574;
            
            if (cond_178566) {
                lifted_lambda_res_178574 = lifted_lambda_res_178569;
            } else {
                lifted_lambda_res_178574 = eta_p_178559;
            }
            ((int16_t *) mem_181048.mem)[i_180698] = lifted_lambda_res_178574;
        }
        
        int64_t tmp_164715 = add64((int64_t) 1, p_164691);
        bool loop_cond_164716 = slt64(tmp_164715, m_164683);
        
        if (memblock_set(ctx, &mem_param_tmp_182449, &mem_181048, "mem_181048") != 0)
            return 1;
        
        bool loop_while_tmp_182450 = loop_cond_164716;
        int64_t p_tmp_182452 = tmp_164715;
        
        if (memblock_set(ctx, &mem_param_181046, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        loop_while_164689 = loop_while_tmp_182450;
        p_164691 = p_tmp_182452;
    }
    if (memblock_set(ctx, &ext_mem_181057, &mem_param_181046, "mem_param_181046") != 0)
        return 1;
    partitioned_gather_res_164686 = loop_while_164689;
    partitioned_gather_res_164688 = p_164691;
    if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &ext_mem_181057, "ext_mem_181057") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183048, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        if (memblock_unref(ctx, &mem_param_tmp_182449, "mem_param_tmp_182449") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181048, "mem_181048") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_param_181046, "mem_param_181046") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181057, "ext_mem_181057") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181043, "mem_181043") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_double(struct futhark_context *ctx, struct memblock *mem_out_p_183050, struct memblock *mem_out_p_183051, struct memblock xs_mem_181032, int64_t n_96280, int64_t incr_96281, int16_t block_sizze_96282)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183052 = 0;
    unsigned char *mem_181035 = NULL;
    int64_t mem_181037_cached_sizze_183053 = 0;
    unsigned char *mem_181037 = NULL;
    int64_t mem_181045_cached_sizze_183054 = 0;
    unsigned char *mem_181045 = NULL;
    int64_t mem_181047_cached_sizze_183055 = 0;
    unsigned char *mem_181047 = NULL;
    int64_t mem_181049_cached_sizze_183056 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_183057 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_183058 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181085_cached_sizze_183059 = 0;
    unsigned char *mem_181085 = NULL;
    int64_t mem_181087_cached_sizze_183060 = 0;
    unsigned char *mem_181087 = NULL;
    int64_t mem_181100_cached_sizze_183061 = 0;
    unsigned char *mem_181100 = NULL;
    int64_t mem_181101_cached_sizze_183062 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181108_cached_sizze_183063 = 0;
    unsigned char *mem_181108 = NULL;
    int64_t mem_181111_cached_sizze_183064 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181114_cached_sizze_183065 = 0;
    unsigned char *mem_181114 = NULL;
    int64_t mem_181117_cached_sizze_183066 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_183067 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181142_cached_sizze_183068 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181144_cached_sizze_183069 = 0;
    unsigned char *mem_181144 = NULL;
    int64_t mem_181146_cached_sizze_183070 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183071 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183072 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181193_cached_sizze_183073 = 0;
    unsigned char *mem_181193 = NULL;
    int64_t mem_181194_cached_sizze_183074 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181219_cached_sizze_183075 = 0;
    unsigned char *mem_181219 = NULL;
    int64_t mem_181227_cached_sizze_183076 = 0;
    unsigned char *mem_181227 = NULL;
    struct memblock mem_181255;
    
    mem_181255.references = NULL;
    
    struct memblock mem_181253;
    
    mem_181253.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    bool cond_171766 = n_96280 == (int64_t) 0;
    int32_t iters_171767;
    
    if (cond_171766) {
        iters_171767 = 0;
    } else {
        iters_171767 = 32;
    }
    
    int64_t i16_res_171768 = sext_i16_i64(block_sizze_96282);
    bool zzero_171769 = i16_res_171768 == (int64_t) 0;
    bool nonzzero_171770 = !zzero_171769;
    bool nonzzero_cert_171771;
    
    if (!nonzzero_171770) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:218:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171772 = sdiv64(n_96280, i16_res_171768);
    int64_t rest_171773 = smod64(n_96280, i16_res_171768);
    int64_t arg_171774 = mul64(i16_res_171768, n_blocks_171772);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775 = add64(rest_171773, arg_171774);
    bool dim_match_171776 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775 == n_96280;
    bool empty_or_match_cert_171777;
    
    if (!dim_match_171776) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_96280, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:218:95-98\n   #6  ftsort.fut:28:3-47\n   #7  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181034 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775;
    bool loop_nonempty_171781 = slt32(0, iters_171767);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782 = add64((int64_t) 1, n_blocks_171772);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782);
    bool empty_slice_171784 = arg_171774 == (int64_t) 0;
    int64_t m_171785 = sub64(arg_171774, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171786 = sle64((int64_t) 0, m_171785);
    bool i_p_m_t_s_leq_w_171787 = slt64(m_171785, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775);
    bool i_lte_j_171788 = sle64((int64_t) 0, arg_171774);
    bool y_171789 = zzero_leq_i_p_m_t_s_171786 && i_p_m_t_s_leq_w_171787;
    bool forwards_ok_171790 = i_lte_j_171788 && y_171789;
    bool ok_or_empty_171791 = empty_slice_171784 || forwards_ok_171790;
    bool loop_not_taken_171792 = !loop_nonempty_171781;
    bool protect_assert_disj_171793 = ok_or_empty_171791 || loop_not_taken_171792;
    bool index_certs_171794;
    
    if (!protect_assert_disj_171793) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171774, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:218:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171795 = rest_171773 == (int64_t) 0;
    int64_t m_171796 = sub64(rest_171773, (int64_t) 1);
    int64_t i_p_m_t_s_171797 = add64(arg_171774, m_171796);
    bool zzero_leq_i_p_m_t_s_171798 = sle64((int64_t) 0, i_p_m_t_s_171797);
    bool i_p_m_t_s_leq_w_171799 = slt64(i_p_m_t_s_171797, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775);
    bool i_lte_j_171800 = sle64(arg_171774, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775);
    bool y_171801 = zzero_leq_i_p_m_t_s_171798 && i_p_m_t_s_leq_w_171799;
    bool forwards_ok_171802 = i_lte_j_171800 && y_171801;
    bool ok_or_empty_171803 = empty_slice_171795 || forwards_ok_171802;
    bool protect_assert_disj_171804 = loop_not_taken_171792 || ok_or_empty_171803;
    bool index_certs_171805;
    
    if (!protect_assert_disj_171804) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171774, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:218:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171806 = sle64((int64_t) 0, n_blocks_171772);
    bool binop_y_171807 = sle64((int64_t) 0, i16_res_171768);
    bool binop_y_171808 = binop_x_171806 && binop_y_171807;
    bool protect_assert_disj_171809 = loop_not_taken_171792 || binop_y_171808;
    bool dim_ok_cert_171810;
    
    if (!protect_assert_disj_171809) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171774, "] to array of shape [", (long long) n_blocks_171772, "][", (long long) i16_res_171768, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:218:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171811 = sub64(i16_res_171768, (int64_t) 1);
    bool x_171812 = sle64((int64_t) 0, tmp_171811);
    bool y_171813 = slt64(tmp_171811, i16_res_171768);
    bool bounds_check_171814 = x_171812 && y_171813;
    bool protect_assert_disj_171815 = zzero_171769 || bounds_check_171814;
    bool protect_assert_disj_171816 = loop_not_taken_171792 || protect_assert_disj_171815;
    bool index_certs_171817;
    
    if (!protect_assert_disj_171816) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171811, "] out of bounds for array of shape [", (long long) i16_res_171768, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171819 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783);
    bool protect_assert_disj_171820 = loop_not_taken_171792 || y_171819;
    bool index_certs_171821;
    
    if (!protect_assert_disj_171820) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171823 = nonzzero_171770 || loop_not_taken_171792;
    bool nonzzero_cert_171824;
    
    if (!protect_assert_disj_171823) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171825 = sle64((int64_t) 0, m_171796);
    bool y_171826 = slt64(m_171796, rest_171773);
    bool bounds_check_171827 = x_171825 && y_171826;
    bool protect_assert_disj_171828 = empty_slice_171795 || bounds_check_171827;
    bool protect_assert_disj_171829 = loop_not_taken_171792 || protect_assert_disj_171828;
    bool index_certs_171830;
    
    if (!protect_assert_disj_171829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171796, "] out of bounds for array of shape [", (long long) rest_171773, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:218:95-98\n   #7  ftsort.fut:28:3-47\n   #8  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181044 = (int64_t) 2 * rest_171773;
    int64_t bytes_181084 = (int64_t) 8 * rest_171773;
    int64_t binop_x_181109 = (int64_t) 8 * n_blocks_171772;
    int64_t bytes_181110 = i16_res_171768 * binop_x_181109;
    int64_t bytes_181116 = (int64_t) 32 * n_blocks_171772;
    int64_t bytes_181141 = (int64_t) 2 * i16_res_171768;
    int64_t bytes_181218 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782;
    bool dim_match_172103 = n_96280 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775;
    bool empty_or_match_cert_172104;
    
    if (!dim_match_172103) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "] cannot match shape of type `[", (long long) n_96280, "](f64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181252 = (int64_t) 8 * n_96280;
    
    if (futrts_indicesWithIncrement_9605(ctx, &ext_mem_181033, xs_mem_181032, n_96280, incr_96281) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181035_cached_sizze_183052 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183052, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181035, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775});
    if (mem_181037_cached_sizze_183053 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181037, &mem_181037_cached_sizze_183053, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182448 = 0; i_182448 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775; i_182448++) {
        int64_t x_182449 = (int64_t) 0 + i_182448 * (int64_t) 1;
        
        ((int64_t *) mem_181037)[i_182448] = x_182449;
    }
    if (mem_181045_cached_sizze_183054 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181045, &mem_181045_cached_sizze_183054, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181047_cached_sizze_183055 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181047, &mem_181047_cached_sizze_183055, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181049_cached_sizze_183056 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_183056, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181051_cached_sizze_183057 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_183057, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181053_cached_sizze_183058 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_183058, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181085_cached_sizze_183059 < bytes_181084) {
        err = lexical_realloc(ctx, &mem_181085, &mem_181085_cached_sizze_183059, bytes_181084);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181087_cached_sizze_183060 < bytes_181084) {
        err = lexical_realloc(ctx, &mem_181087, &mem_181087_cached_sizze_183060, bytes_181084);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181100_cached_sizze_183061 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181100, &mem_181100_cached_sizze_183061, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181101_cached_sizze_183062 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_183062, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181108_cached_sizze_183063 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181108, &mem_181108_cached_sizze_183063, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181111_cached_sizze_183064 < bytes_181110) {
        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_183064, bytes_181110);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181114_cached_sizze_183065 < bytes_181110) {
        err = lexical_realloc(ctx, &mem_181114, &mem_181114_cached_sizze_183065, bytes_181110);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181117_cached_sizze_183066 < bytes_181116) {
        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_183066, bytes_181116);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183067 < binop_x_181109) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183067, binop_x_181109);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181142_cached_sizze_183068 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_183068, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181144_cached_sizze_183069 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181144, &mem_181144_cached_sizze_183069, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181146_cached_sizze_183070 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183070, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183071 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183071, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183072 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183072, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181193_cached_sizze_183073 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181193, &mem_181193_cached_sizze_183073, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181194_cached_sizze_183074 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_183074, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181219_cached_sizze_183075 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181219, &mem_181219_cached_sizze_183075, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181227_cached_sizze_183076 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181227, &mem_181227_cached_sizze_183076, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171833 = 0; i_171833 < iters_171767; i_171833++) {
        int32_t blocked_radix_sort_step_arg1_171836 = mul32(2, i_171833);
        int32_t get_bit_arg0_171841 = add32(1, blocked_radix_sort_step_arg1_171836);
        int64_t unsign_arg0_171842 = zext_i32_i64(get_bit_arg0_171841);
        bool cond_f_res_171843 = get_bit_arg0_171841 == 63;
        int64_t unsign_arg0_171844 = zext_i32_i64(blocked_radix_sort_step_arg1_171836);
        bool cond_f_res_171845 = blocked_radix_sort_step_arg1_171836 == 63;
        int16_t discard_180712;
        int16_t discard_180713;
        int16_t discard_180714;
        int16_t discard_180715;
        int16_t scanacc_180697;
        int16_t scanacc_180698;
        int16_t scanacc_180699;
        int16_t scanacc_180700;
        
        scanacc_180697 = (int16_t) 0;
        scanacc_180698 = (int16_t) 0;
        scanacc_180699 = (int16_t) 0;
        scanacc_180700 = (int16_t) 0;
        for (int64_t i_180706 = 0; i_180706 < rest_171773; i_180706++) {
            int64_t slice_180919 = arg_171774 + i_180706;
            double eta_p_178628 = ((double *) mem_181035)[slice_180919];
            int64_t i64_arg0_178629 = futrts_to_bits64(eta_p_178628);
            int64_t unsign_arg0_178630 = ashr64(i64_arg0_178629, unsign_arg0_171842);
            int64_t unsign_arg0_178631 = (int64_t) 1 & unsign_arg0_178630;
            int32_t to_i32_res_178632 = zext_i64_i32(unsign_arg0_178631);
            int64_t unsign_arg0_178633 = ashr64(i64_arg0_178629, (int64_t) 63);
            int64_t unsign_arg0_178634 = (int64_t) 1 & unsign_arg0_178633;
            int32_t to_i32_res_178635 = zext_i64_i32(unsign_arg0_178634);
            bool cond_178636 = to_i32_res_178635 == 1;
            bool x_178637 = !cond_178636;
            bool y_178638 = cond_f_res_171843 && x_178637;
            bool cond_178639 = cond_178636 || y_178638;
            int32_t defunc_0_get_bit_res_178640;
            
            if (cond_178639) {
                int32_t defunc_0_get_bit_res_t_res_178770 = 1 ^ to_i32_res_178632;
                
                defunc_0_get_bit_res_178640 = defunc_0_get_bit_res_t_res_178770;
            } else {
                defunc_0_get_bit_res_178640 = to_i32_res_178632;
            }
            
            int32_t zp_lhs_178642 = mul32(2, defunc_0_get_bit_res_178640);
            int64_t unsign_arg0_178643 = ashr64(i64_arg0_178629, unsign_arg0_171844);
            int64_t unsign_arg0_178644 = (int64_t) 1 & unsign_arg0_178643;
            int32_t to_i32_res_178645 = zext_i64_i32(unsign_arg0_178644);
            bool y_178646 = cond_f_res_171845 && x_178637;
            bool cond_178647 = cond_178636 || y_178646;
            int32_t defunc_0_get_bit_res_178648;
            
            if (cond_178647) {
                int32_t defunc_0_get_bit_res_t_res_178771 = 1 ^ to_i32_res_178645;
                
                defunc_0_get_bit_res_178648 = defunc_0_get_bit_res_t_res_178771;
            } else {
                defunc_0_get_bit_res_178648 = to_i32_res_178645;
            }
            
            int32_t i32_arg0_178650 = add32(zp_lhs_178642, defunc_0_get_bit_res_178648);
            int16_t i32_res_178651 = sext_i32_i16(i32_arg0_178650);
            int16_t defunc_0_f_res_178653;
            int16_t defunc_0_f_res_178654;
            int16_t defunc_0_f_res_178655;
            int16_t defunc_0_f_res_178656;
            
            if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178653, &defunc_0_f_res_178654, &defunc_0_f_res_178655, &defunc_0_f_res_178656, i32_res_178651) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171896 = add16(defunc_0_f_res_178653, scanacc_180697);
            int16_t defunc_0_op_res_171897 = add16(defunc_0_f_res_178654, scanacc_180698);
            int16_t defunc_0_op_res_171898 = add16(defunc_0_f_res_178655, scanacc_180699);
            int16_t defunc_0_op_res_171899 = add16(defunc_0_f_res_178656, scanacc_180700);
            
            ((int16_t *) mem_181045)[i_180706] = defunc_0_op_res_171896;
            ((int16_t *) mem_181047)[i_180706] = defunc_0_op_res_171897;
            ((int16_t *) mem_181049)[i_180706] = defunc_0_op_res_171898;
            ((int16_t *) mem_181051)[i_180706] = defunc_0_op_res_171899;
            ((int16_t *) mem_181053)[i_180706] = i32_res_178651;
            
            int16_t scanacc_tmp_182452 = defunc_0_op_res_171896;
            int16_t scanacc_tmp_182453 = defunc_0_op_res_171897;
            int16_t scanacc_tmp_182454 = defunc_0_op_res_171898;
            int16_t scanacc_tmp_182455 = defunc_0_op_res_171899;
            
            scanacc_180697 = scanacc_tmp_182452;
            scanacc_180698 = scanacc_tmp_182453;
            scanacc_180699 = scanacc_tmp_182454;
            scanacc_180700 = scanacc_tmp_182455;
        }
        discard_180712 = scanacc_180697;
        discard_180713 = scanacc_180698;
        discard_180714 = scanacc_180699;
        discard_180715 = scanacc_180700;
        
        int16_t defunc_0_radix_sort_step_i16_res_171900;
        int16_t defunc_0_radix_sort_step_i16_res_171901;
        int16_t defunc_0_radix_sort_step_i16_res_171902;
        int16_t defunc_0_radix_sort_step_i16_res_171903;
        
        if (empty_slice_171795) {
            defunc_0_radix_sort_step_i16_res_171900 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171901 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171902 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171903 = (int16_t) 0;
        } else {
            int16_t last_res_171904 = ((int16_t *) mem_181045)[m_171796];
            int16_t last_res_171905 = ((int16_t *) mem_181047)[m_171796];
            int16_t last_res_171906 = ((int16_t *) mem_181049)[m_171796];
            int16_t last_res_171907 = ((int16_t *) mem_181051)[m_171796];
            
            defunc_0_radix_sort_step_i16_res_171900 = last_res_171904;
            defunc_0_radix_sort_step_i16_res_171901 = last_res_171905;
            defunc_0_radix_sort_step_i16_res_171902 = last_res_171906;
            defunc_0_radix_sort_step_i16_res_171903 = last_res_171907;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181085, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + (int64_t) 1 * arg_171774, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171773});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181087, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181035, (int64_t) 0 + (int64_t) 1 * arg_171774, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171773});
        for (int64_t write_iter_180716 = 0; write_iter_180716 < rest_171773; write_iter_180716++) {
            int16_t write_iv_180719 = ((int16_t *) mem_181053)[write_iter_180716];
            int16_t write_iv_180720 = ((int16_t *) mem_181045)[write_iter_180716];
            int16_t write_iv_180721 = ((int16_t *) mem_181047)[write_iter_180716];
            int16_t write_iv_180722 = ((int16_t *) mem_181049)[write_iter_180716];
            int16_t write_iv_180723 = ((int16_t *) mem_181051)[write_iter_180716];
            int64_t slice_180918 = arg_171774 + write_iter_180716;
            double write_iv_180724 = ((double *) mem_181035)[slice_180918];
            int64_t write_iv_180725 = ((int64_t *) mem_181037)[slice_180918];
            int64_t defunc_0_f_res_178612;
            
            if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178612, defunc_0_radix_sort_step_i16_res_171900, defunc_0_radix_sort_step_i16_res_171901, defunc_0_radix_sort_step_i16_res_171902, write_iv_180719, write_iv_180720, write_iv_180721, write_iv_180722, write_iv_180723) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178612) && slt64(defunc_0_f_res_178612, rest_171773)) {
                ((double *) mem_181087)[defunc_0_f_res_178612] = write_iv_180724;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178612) && slt64(defunc_0_f_res_178612, rest_171773)) {
                ((int64_t *) mem_181085)[defunc_0_f_res_178612] = write_iv_180725;
            }
        }
        ((int16_t *) mem_181100)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171900;
        ((int16_t *) mem_181100)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171901;
        ((int16_t *) mem_181100)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171902;
        ((int16_t *) mem_181100)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171903;
        for (int64_t i_180730 = 0; i_180730 < (int64_t) 4; i_180730++) {
            int16_t eta_p_171924 = ((int16_t *) mem_181100)[i_180730];
            int64_t i16_res_171925 = sext_i16_i64(eta_p_171924);
            
            ((int64_t *) mem_181101)[i_180730] = i16_res_171925;
        }
        
        int16_t tmp_171926 = add16(defunc_0_radix_sort_step_i16_res_171900, defunc_0_radix_sort_step_i16_res_171901);
        int16_t tmp_171927 = add16(defunc_0_radix_sort_step_i16_res_171902, tmp_171926);
        
        ((int16_t *) mem_181108)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181108)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171900;
        ((int16_t *) mem_181108)[(int64_t) 2] = tmp_171926;
        ((int16_t *) mem_181108)[(int64_t) 3] = tmp_171927;
        for (int64_t i_180780 = 0; i_180780 < n_blocks_171772; i_180780++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181111, i_180780 * i16_res_171768, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181035, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_171768), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171768});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181114, i_180780 * i16_res_171768, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_171768), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171768});
            
            int64_t binop_x_180932 = i16_res_171768 * i_180780;
            int16_t discard_180752;
            int16_t discard_180753;
            int16_t discard_180754;
            int16_t discard_180755;
            int16_t scanacc_180737;
            int16_t scanacc_180738;
            int16_t scanacc_180739;
            int16_t scanacc_180740;
            
            scanacc_180737 = (int16_t) 0;
            scanacc_180738 = (int16_t) 0;
            scanacc_180739 = (int16_t) 0;
            scanacc_180740 = (int16_t) 0;
            for (int64_t i_180746 = 0; i_180746 < i16_res_171768; i_180746++) {
                int64_t new_index_180933 = i_180746 + binop_x_180932;
                double eta_p_178687 = ((double *) mem_181035)[new_index_180933];
                int64_t i64_arg0_178688 = futrts_to_bits64(eta_p_178687);
                int64_t unsign_arg0_178689 = ashr64(i64_arg0_178688, unsign_arg0_171842);
                int64_t unsign_arg0_178690 = (int64_t) 1 & unsign_arg0_178689;
                int32_t to_i32_res_178691 = zext_i64_i32(unsign_arg0_178690);
                int64_t unsign_arg0_178692 = ashr64(i64_arg0_178688, (int64_t) 63);
                int64_t unsign_arg0_178693 = (int64_t) 1 & unsign_arg0_178692;
                int32_t to_i32_res_178694 = zext_i64_i32(unsign_arg0_178693);
                bool cond_178695 = to_i32_res_178694 == 1;
                bool x_178696 = !cond_178695;
                bool y_178697 = cond_f_res_171843 && x_178696;
                bool cond_178698 = cond_178695 || y_178697;
                int32_t defunc_0_get_bit_res_178699;
                
                if (cond_178698) {
                    int32_t defunc_0_get_bit_res_t_res_178772 = 1 ^ to_i32_res_178691;
                    
                    defunc_0_get_bit_res_178699 = defunc_0_get_bit_res_t_res_178772;
                } else {
                    defunc_0_get_bit_res_178699 = to_i32_res_178691;
                }
                
                int32_t zp_lhs_178701 = mul32(2, defunc_0_get_bit_res_178699);
                int64_t unsign_arg0_178702 = ashr64(i64_arg0_178688, unsign_arg0_171844);
                int64_t unsign_arg0_178703 = (int64_t) 1 & unsign_arg0_178702;
                int32_t to_i32_res_178704 = zext_i64_i32(unsign_arg0_178703);
                bool y_178705 = cond_f_res_171845 && x_178696;
                bool cond_178706 = cond_178695 || y_178705;
                int32_t defunc_0_get_bit_res_178707;
                
                if (cond_178706) {
                    int32_t defunc_0_get_bit_res_t_res_178773 = 1 ^ to_i32_res_178704;
                    
                    defunc_0_get_bit_res_178707 = defunc_0_get_bit_res_t_res_178773;
                } else {
                    defunc_0_get_bit_res_178707 = to_i32_res_178704;
                }
                
                int32_t i32_arg0_178709 = add32(zp_lhs_178701, defunc_0_get_bit_res_178707);
                int16_t i32_res_178710 = sext_i32_i16(i32_arg0_178709);
                int16_t defunc_0_f_res_178712;
                int16_t defunc_0_f_res_178713;
                int16_t defunc_0_f_res_178714;
                int16_t defunc_0_f_res_178715;
                
                if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178712, &defunc_0_f_res_178713, &defunc_0_f_res_178714, &defunc_0_f_res_178715, i32_res_178710) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_171991 = add16(defunc_0_f_res_178712, scanacc_180737);
                int16_t defunc_0_op_res_171992 = add16(defunc_0_f_res_178713, scanacc_180738);
                int16_t defunc_0_op_res_171993 = add16(defunc_0_f_res_178714, scanacc_180739);
                int16_t defunc_0_op_res_171994 = add16(defunc_0_f_res_178715, scanacc_180740);
                
                ((int16_t *) mem_181142)[i_180746] = defunc_0_op_res_171991;
                ((int16_t *) mem_181144)[i_180746] = defunc_0_op_res_171992;
                ((int16_t *) mem_181146)[i_180746] = defunc_0_op_res_171993;
                ((int16_t *) mem_181148)[i_180746] = defunc_0_op_res_171994;
                ((int16_t *) mem_181150)[i_180746] = i32_res_178710;
                
                int16_t scanacc_tmp_182468 = defunc_0_op_res_171991;
                int16_t scanacc_tmp_182469 = defunc_0_op_res_171992;
                int16_t scanacc_tmp_182470 = defunc_0_op_res_171993;
                int16_t scanacc_tmp_182471 = defunc_0_op_res_171994;
                
                scanacc_180737 = scanacc_tmp_182468;
                scanacc_180738 = scanacc_tmp_182469;
                scanacc_180739 = scanacc_tmp_182470;
                scanacc_180740 = scanacc_tmp_182471;
            }
            discard_180752 = scanacc_180737;
            discard_180753 = scanacc_180738;
            discard_180754 = scanacc_180739;
            discard_180755 = scanacc_180740;
            
            int16_t defunc_0_f_res_171995;
            int16_t defunc_0_f_res_171996;
            int16_t defunc_0_f_res_171997;
            int16_t defunc_0_f_res_171998;
            
            if (zzero_171769) {
                defunc_0_f_res_171995 = (int16_t) 0;
                defunc_0_f_res_171996 = (int16_t) 0;
                defunc_0_f_res_171997 = (int16_t) 0;
                defunc_0_f_res_171998 = (int16_t) 0;
            } else {
                int16_t last_res_171999 = ((int16_t *) mem_181142)[tmp_171811];
                int16_t last_res_172000 = ((int16_t *) mem_181144)[tmp_171811];
                int16_t last_res_172001 = ((int16_t *) mem_181146)[tmp_171811];
                int16_t last_res_172002 = ((int16_t *) mem_181148)[tmp_171811];
                
                defunc_0_f_res_171995 = last_res_171999;
                defunc_0_f_res_171996 = last_res_172000;
                defunc_0_f_res_171997 = last_res_172001;
                defunc_0_f_res_171998 = last_res_172002;
            }
            for (int64_t write_iter_180756 = 0; write_iter_180756 < i16_res_171768; write_iter_180756++) {
                int16_t write_iv_180759 = ((int16_t *) mem_181150)[write_iter_180756];
                int16_t write_iv_180760 = ((int16_t *) mem_181142)[write_iter_180756];
                int16_t write_iv_180761 = ((int16_t *) mem_181144)[write_iter_180756];
                int16_t write_iv_180762 = ((int16_t *) mem_181146)[write_iter_180756];
                int16_t write_iv_180763 = ((int16_t *) mem_181148)[write_iter_180756];
                int64_t new_index_180929 = write_iter_180756 + binop_x_180932;
                double write_iv_180764 = ((double *) mem_181035)[new_index_180929];
                int64_t write_iv_180765 = ((int64_t *) mem_181037)[new_index_180929];
                int64_t defunc_0_f_res_178671;
                
                if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178671, defunc_0_f_res_171995, defunc_0_f_res_171996, defunc_0_f_res_171997, write_iv_180759, write_iv_180760, write_iv_180761, write_iv_180762, write_iv_180763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178671) && slt64(defunc_0_f_res_178671, i16_res_171768)) {
                    ((double *) mem_181111)[i_180780 * i16_res_171768 + defunc_0_f_res_178671] = write_iv_180764;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178671) && slt64(defunc_0_f_res_178671, i16_res_171768)) {
                    ((int64_t *) mem_181114)[i_180780 * i16_res_171768 + defunc_0_f_res_178671] = write_iv_180765;
                }
            }
            ((int16_t *) mem_181193)[(int64_t) 0] = defunc_0_f_res_171995;
            ((int16_t *) mem_181193)[(int64_t) 1] = defunc_0_f_res_171996;
            ((int16_t *) mem_181193)[(int64_t) 2] = defunc_0_f_res_171997;
            ((int16_t *) mem_181193)[(int64_t) 3] = defunc_0_f_res_171998;
            for (int64_t i_180770 = 0; i_180770 < (int64_t) 4; i_180770++) {
                int16_t eta_p_172017 = ((int16_t *) mem_181193)[i_180770];
                int64_t i16_res_172018 = sext_i16_i64(eta_p_172017);
                
                ((int64_t *) mem_181194)[i_180770] = i16_res_172018;
            }
            
            int16_t tmp_172019 = add16(defunc_0_f_res_171995, defunc_0_f_res_171996);
            int16_t tmp_172020 = add16(defunc_0_f_res_171997, tmp_172019);
            
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_171995;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 2] = tmp_172019;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 3] = tmp_172020;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181117, i_180780 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180792;
        int64_t scanacc_180788 = (int64_t) 0;
        
        for (int64_t i_180790 = 0; i_180790 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783; i_180790++) {
            int64_t new_index_180907 = squot64(i_180790, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782);
            int64_t binop_y_180909 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782 * new_index_180907;
            int64_t new_index_180910 = i_180790 - binop_y_180909;
            bool index_concat_cmp_180912 = sle64(n_blocks_171772, new_index_180910);
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180912) {
                int64_t index_concat_180914 = ((int64_t *) mem_181101)[new_index_180907];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t index_concat_180915 = ((int64_t *) mem_181117)[new_index_180910 * (int64_t) 4 + new_index_180907];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t defunc_0_op_res_172034 = add64(scanacc_180788, index_concat_branch_180916);
            
            ((int64_t *) mem_181219)[i_180790] = defunc_0_op_res_172034;
            
            int64_t scanacc_tmp_182480 = defunc_0_op_res_172034;
            
            scanacc_180788 = scanacc_tmp_182480;
        }
        discard_180792 = scanacc_180788;
        for (int64_t i_180795 = 0; i_180795 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783; i_180795++) {
            int64_t zv_lhs_172037 = add64((int64_t) -1, i_180795);
            int64_t tmp_172038 = smod64(zv_lhs_172037, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783);
            int64_t lifted_lambda_res_172039 = ((int64_t *) mem_181219)[tmp_172038];
            
            ((int64_t *) mem_181227)[i_180795] = lifted_lambda_res_172039;
        }
        ((int64_t *) mem_181227)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180797 = 0; write_iter_180797 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775; write_iter_180797++) {
            bool index_concat_cmp_180898 = sle64(arg_171774, write_iter_180797);
            double index_concat_branch_178553;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_178782 = sub64(write_iter_180797, arg_171774);
                double index_concat_178783 = ((double *) mem_181087)[index_concat_i_178782];
                
                index_concat_branch_178553 = index_concat_178783;
            } else {
                int64_t new_index_178556 = squot64(write_iter_180797, i16_res_171768);
                int64_t binop_y_178557 = i16_res_171768 * new_index_178556;
                int64_t new_index_178558 = write_iter_180797 - binop_y_178557;
                double index_concat_178559 = ((double *) mem_181111)[new_index_178556 * i16_res_171768 + new_index_178558];
                
                index_concat_branch_178553 = index_concat_178559;
            }
            
            int64_t i64_arg0_178560 = futrts_to_bits64(index_concat_branch_178553);
            int64_t unsign_arg0_178561 = ashr64(i64_arg0_178560, (int64_t) 63);
            int64_t unsign_arg0_178562 = (int64_t) 1 & unsign_arg0_178561;
            int32_t to_i32_res_178563 = zext_i64_i32(unsign_arg0_178562);
            bool cond_178564 = to_i32_res_178563 == 1;
            bool x_178565 = !cond_178564;
            int32_t zlzb_rhs_178566;
            int32_t acc_178568 = 0;
            
            for (int32_t i_178567 = 0; i_178567 < 2; i_178567++) {
                int32_t get_bit_arg0_178569 = add32(blocked_radix_sort_step_arg1_171836, i_178567);
                int64_t unsign_arg0_178570 = zext_i32_i64(get_bit_arg0_178569);
                int64_t unsign_arg0_178571 = ashr64(i64_arg0_178560, unsign_arg0_178570);
                int64_t unsign_arg0_178572 = (int64_t) 1 & unsign_arg0_178571;
                int32_t to_i32_res_178573 = zext_i64_i32(unsign_arg0_178572);
                bool cond_f_res_178574 = get_bit_arg0_178569 == 63;
                bool y_178575 = x_178565 && cond_f_res_178574;
                bool cond_178576 = cond_178564 || y_178575;
                int32_t defunc_0_get_bit_res_178577;
                
                if (cond_178576) {
                    int32_t defunc_0_get_bit_res_t_res_178784 = 1 ^ to_i32_res_178573;
                    
                    defunc_0_get_bit_res_178577 = defunc_0_get_bit_res_t_res_178784;
                } else {
                    defunc_0_get_bit_res_178577 = to_i32_res_178573;
                }
                
                int32_t zp_rhs_178579 = shl32(defunc_0_get_bit_res_178577, i_178567);
                int32_t loopres_178580 = add32(acc_178568, zp_rhs_178579);
                int32_t acc_tmp_182485 = loopres_178580;
                
                acc_178568 = acc_tmp_182485;
            }
            zlzb_rhs_178566 = acc_178568;
            
            int64_t i32_res_178581 = sext_i32_i64(zlzb_rhs_178566);
            int64_t block_idx_178582 = sdiv64(write_iter_180797, i16_res_171768);
            bool x_178583 = sle64((int64_t) 0, block_idx_178582);
            bool y_178584 = slt64(block_idx_178582, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782);
            bool bounds_check_178585 = x_178583 && y_178584;
            bool index_certs_178586;
            
            if (!bounds_check_178585) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178582, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178587 = sle64((int64_t) 0, i32_res_178581);
            bool y_178588 = slt64(i32_res_178581, (int64_t) 4);
            bool bounds_check_178589 = x_178587 && y_178588;
            bool index_certs_178590;
            
            if (!bounds_check_178589) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178581, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:28:3-47\n   #9  ftsort.fut:27:1-28:47\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            double index_concat_branch_180902;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180899 = sub64(write_iter_180797, arg_171774);
                double index_concat_180900 = ((double *) mem_181087)[index_concat_i_180899];
                
                index_concat_branch_180902 = index_concat_180900;
            } else {
                int64_t new_index_180924 = squot64(write_iter_180797, i16_res_171768);
                int64_t binop_y_180926 = i16_res_171768 * new_index_180924;
                int64_t new_index_180927 = write_iter_180797 - binop_y_180926;
                double index_concat_180901 = ((double *) mem_181111)[new_index_180924 * i16_res_171768 + new_index_180927];
                
                index_concat_branch_180902 = index_concat_180901;
            }
            
            int64_t index_concat_branch_180896;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180893 = sub64(write_iter_180797, arg_171774);
                int64_t index_concat_180894 = ((int64_t *) mem_181085)[index_concat_i_180893];
                
                index_concat_branch_180896 = index_concat_180894;
            } else {
                int64_t new_index_180920 = squot64(write_iter_180797, i16_res_171768);
                int64_t binop_y_180922 = i16_res_171768 * new_index_180920;
                int64_t new_index_180923 = write_iter_180797 - binop_y_180922;
                int64_t index_concat_180895 = ((int64_t *) mem_181114)[new_index_180920 * i16_res_171768 + new_index_180923];
                
                index_concat_branch_180896 = index_concat_180895;
            }
            
            int64_t binop_x_178591 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782 * i32_res_178581;
            int64_t new_index_178592 = block_idx_178582 + binop_x_178591;
            int64_t new_offset_178593 = ((int64_t *) mem_181227)[new_index_178592];
            bool index_concat_cmp_178594 = sle64(n_blocks_171772, block_idx_178582);
            int16_t index_concat_branch_178595;
            
            if (index_concat_cmp_178594) {
                int16_t index_concat_178785 = ((int16_t *) mem_181108)[i32_res_178581];
                
                index_concat_branch_178595 = index_concat_178785;
            } else {
                int16_t index_concat_178597 = ((int16_t *) mem_181120)[block_idx_178582 * (int64_t) 4 + i32_res_178581];
                
                index_concat_branch_178595 = index_concat_178597;
            }
            
            int64_t i16_res_178598 = sext_i16_i64(index_concat_branch_178595);
            int64_t zp_lhs_178599 = mul64(i16_res_171768, block_idx_178582);
            int64_t old_offset_178600 = add64(i16_res_178598, zp_lhs_178599);
            int64_t zp_lhs_178601 = sub64(write_iter_180797, old_offset_178600);
            int64_t idx_178602 = add64(new_offset_178593, zp_lhs_178601);
            
            if (sle64((int64_t) 0, idx_178602) && slt64(idx_178602, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775)) {
                ((double *) mem_181035)[idx_178602] = index_concat_branch_180902;
            }
            if (sle64((int64_t) 0, idx_178602) && slt64(idx_178602, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775)) {
                ((int64_t *) mem_181037)[idx_178602] = index_concat_branch_180896;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181253, bytes_181252, "mem_181253")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181255, bytes_181252, "mem_181255")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180809 = 0; i_180809 < n_96280; i_180809++) {
        int64_t eta_p_172108 = ((int64_t *) mem_181037)[i_180809];
        bool x_172109 = sle64((int64_t) 0, eta_p_172108);
        bool y_172110 = slt64(eta_p_172108, n_96280);
        bool bounds_check_172111 = x_172109 && y_172110;
        bool index_certs_172112;
        
        if (!bounds_check_172111) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172108, "] out of bounds for array of shape [", (long long) n_96280, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:218:95-98\n   #5  ftsort.fut:28:3-47\n   #6  ftsort.fut:27:1-28:47\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172113 = ((int64_t *) ext_mem_181033.mem)[eta_p_172108];
        double lifted_lambda_res_172114 = ((double *) xs_mem_181032.mem)[eta_p_172108];
        
        ((int64_t *) mem_181253.mem)[i_180809] = lifted_lambda_res_172113;
        ((double *) mem_181255.mem)[i_180809] = lifted_lambda_res_172114;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181253, "mem_181253") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181255, "mem_181255") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183050, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183051, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        free(mem_181037);
        free(mem_181045);
        free(mem_181047);
        free(mem_181049);
        free(mem_181051);
        free(mem_181053);
        free(mem_181085);
        free(mem_181087);
        free(mem_181100);
        free(mem_181101);
        free(mem_181108);
        free(mem_181111);
        free(mem_181114);
        free(mem_181117);
        free(mem_181120);
        free(mem_181142);
        free(mem_181144);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181193);
        free(mem_181194);
        free(mem_181219);
        free(mem_181227);
        if (memblock_unref(ctx, &mem_181255, "mem_181255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181253, "mem_181253") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_float(struct futhark_context *ctx, struct memblock *mem_out_p_183077, struct memblock *mem_out_p_183078, struct memblock xs_mem_181032, int64_t n_93525, int64_t incr_93526, int16_t block_sizze_93527)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183079 = 0;
    unsigned char *mem_181035 = NULL;
    int64_t mem_181037_cached_sizze_183080 = 0;
    unsigned char *mem_181037 = NULL;
    int64_t mem_181045_cached_sizze_183081 = 0;
    unsigned char *mem_181045 = NULL;
    int64_t mem_181047_cached_sizze_183082 = 0;
    unsigned char *mem_181047 = NULL;
    int64_t mem_181049_cached_sizze_183083 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_183084 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_183085 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181085_cached_sizze_183086 = 0;
    unsigned char *mem_181085 = NULL;
    int64_t mem_181087_cached_sizze_183087 = 0;
    unsigned char *mem_181087 = NULL;
    int64_t mem_181100_cached_sizze_183088 = 0;
    unsigned char *mem_181100 = NULL;
    int64_t mem_181101_cached_sizze_183089 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181108_cached_sizze_183090 = 0;
    unsigned char *mem_181108 = NULL;
    int64_t mem_181111_cached_sizze_183091 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181114_cached_sizze_183092 = 0;
    unsigned char *mem_181114 = NULL;
    int64_t mem_181117_cached_sizze_183093 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_183094 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181142_cached_sizze_183095 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181144_cached_sizze_183096 = 0;
    unsigned char *mem_181144 = NULL;
    int64_t mem_181146_cached_sizze_183097 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183098 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183099 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181193_cached_sizze_183100 = 0;
    unsigned char *mem_181193 = NULL;
    int64_t mem_181194_cached_sizze_183101 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181219_cached_sizze_183102 = 0;
    unsigned char *mem_181219 = NULL;
    int64_t mem_181227_cached_sizze_183103 = 0;
    unsigned char *mem_181227 = NULL;
    struct memblock mem_181255;
    
    mem_181255.references = NULL;
    
    struct memblock mem_181253;
    
    mem_181253.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    bool cond_171766 = n_93525 == (int64_t) 0;
    int32_t iters_171767;
    
    if (cond_171766) {
        iters_171767 = 0;
    } else {
        iters_171767 = 16;
    }
    
    int64_t i16_res_171768 = sext_i16_i64(block_sizze_93527);
    bool zzero_171769 = i16_res_171768 == (int64_t) 0;
    bool nonzzero_171770 = !zzero_171769;
    bool nonzzero_cert_171771;
    
    if (!nonzzero_171770) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:218:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_171772 = sdiv64(n_93525, i16_res_171768);
    int64_t rest_171773 = smod64(n_93525, i16_res_171768);
    int64_t arg_171774 = mul64(i16_res_171768, n_blocks_171772);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775 = add64(rest_171773, arg_171774);
    bool dim_match_171776 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775 == n_93525;
    bool empty_or_match_cert_171777;
    
    if (!dim_match_171776) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_93525, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #5  ftbasics.fut:218:95-98\n   #6  ftsort.fut:25:3-46\n   #7  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181034 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775;
    int64_t bytes_181036 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775;
    bool loop_nonempty_171781 = slt32(0, iters_171767);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782 = add64((int64_t) 1, n_blocks_171772);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782);
    bool empty_slice_171784 = arg_171774 == (int64_t) 0;
    int64_t m_171785 = sub64(arg_171774, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_171786 = sle64((int64_t) 0, m_171785);
    bool i_p_m_t_s_leq_w_171787 = slt64(m_171785, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775);
    bool i_lte_j_171788 = sle64((int64_t) 0, arg_171774);
    bool y_171789 = zzero_leq_i_p_m_t_s_171786 && i_p_m_t_s_leq_w_171787;
    bool forwards_ok_171790 = i_lte_j_171788 && y_171789;
    bool ok_or_empty_171791 = empty_slice_171784 || forwards_ok_171790;
    bool loop_not_taken_171792 = !loop_nonempty_171781;
    bool protect_assert_disj_171793 = ok_or_empty_171791 || loop_not_taken_171792;
    bool index_certs_171794;
    
    if (!protect_assert_disj_171793) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_171774, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:218:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_171795 = rest_171773 == (int64_t) 0;
    int64_t m_171796 = sub64(rest_171773, (int64_t) 1);
    int64_t i_p_m_t_s_171797 = add64(arg_171774, m_171796);
    bool zzero_leq_i_p_m_t_s_171798 = sle64((int64_t) 0, i_p_m_t_s_171797);
    bool i_p_m_t_s_leq_w_171799 = slt64(i_p_m_t_s_171797, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775);
    bool i_lte_j_171800 = sle64(arg_171774, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775);
    bool y_171801 = zzero_leq_i_p_m_t_s_171798 && i_p_m_t_s_leq_w_171799;
    bool forwards_ok_171802 = i_lte_j_171800 && y_171801;
    bool ok_or_empty_171803 = empty_slice_171795 || forwards_ok_171802;
    bool protect_assert_disj_171804 = loop_not_taken_171792 || ok_or_empty_171803;
    bool index_certs_171805;
    
    if (!protect_assert_disj_171804) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_171774, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:218:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_171806 = sle64((int64_t) 0, n_blocks_171772);
    bool binop_y_171807 = sle64((int64_t) 0, i16_res_171768);
    bool binop_y_171808 = binop_x_171806 && binop_y_171807;
    bool protect_assert_disj_171809 = loop_not_taken_171792 || binop_y_171808;
    bool dim_ok_cert_171810;
    
    if (!protect_assert_disj_171809) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_171774, "] to array of shape [", (long long) n_blocks_171772, "][", (long long) i16_res_171768, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:218:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_171811 = sub64(i16_res_171768, (int64_t) 1);
    bool x_171812 = sle64((int64_t) 0, tmp_171811);
    bool y_171813 = slt64(tmp_171811, i16_res_171768);
    bool bounds_check_171814 = x_171812 && y_171813;
    bool protect_assert_disj_171815 = zzero_171769 || bounds_check_171814;
    bool protect_assert_disj_171816 = loop_not_taken_171792 || protect_assert_disj_171815;
    bool index_certs_171817;
    
    if (!protect_assert_disj_171816) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_171811, "] out of bounds for array of shape [", (long long) i16_res_171768, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_171819 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783);
    bool protect_assert_disj_171820 = loop_not_taken_171792 || y_171819;
    bool index_certs_171821;
    
    if (!protect_assert_disj_171820) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_171823 = nonzzero_171770 || loop_not_taken_171792;
    bool nonzzero_cert_171824;
    
    if (!protect_assert_disj_171823) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_171825 = sle64((int64_t) 0, m_171796);
    bool y_171826 = slt64(m_171796, rest_171773);
    bool bounds_check_171827 = x_171825 && y_171826;
    bool protect_assert_disj_171828 = empty_slice_171795 || bounds_check_171827;
    bool protect_assert_disj_171829 = loop_not_taken_171792 || protect_assert_disj_171828;
    bool index_certs_171830;
    
    if (!protect_assert_disj_171829) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_171796, "] out of bounds for array of shape [", (long long) rest_171773, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #6  ftbasics.fut:218:95-98\n   #7  ftsort.fut:25:3-46\n   #8  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181044 = (int64_t) 2 * rest_171773;
    int64_t bytes_181084 = (int64_t) 8 * rest_171773;
    int64_t bytes_181086 = (int64_t) 4 * rest_171773;
    int64_t binop_x_181109 = (int64_t) 4 * n_blocks_171772;
    int64_t bytes_181110 = i16_res_171768 * binop_x_181109;
    int64_t binop_x_181112 = (int64_t) 8 * n_blocks_171772;
    int64_t bytes_181113 = i16_res_171768 * binop_x_181112;
    int64_t bytes_181116 = (int64_t) 32 * n_blocks_171772;
    int64_t bytes_181141 = (int64_t) 2 * i16_res_171768;
    int64_t bytes_181218 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782;
    bool dim_match_172092 = n_93525 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775;
    bool empty_or_match_cert_172093;
    
    if (!dim_match_172092) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775, "] cannot match shape of type `[", (long long) n_93525, "](f32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181252 = (int64_t) 8 * n_93525;
    int64_t bytes_181254 = (int64_t) 4 * n_93525;
    
    if (futrts_indicesWithIncrement_9496(ctx, &ext_mem_181033, xs_mem_181032, n_93525, incr_93526) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181035_cached_sizze_183079 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183079, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181035, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775});
    if (mem_181037_cached_sizze_183080 < bytes_181036) {
        err = lexical_realloc(ctx, &mem_181037, &mem_181037_cached_sizze_183080, bytes_181036);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182448 = 0; i_182448 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775; i_182448++) {
        int64_t x_182449 = (int64_t) 0 + i_182448 * (int64_t) 1;
        
        ((int64_t *) mem_181037)[i_182448] = x_182449;
    }
    if (mem_181045_cached_sizze_183081 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181045, &mem_181045_cached_sizze_183081, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181047_cached_sizze_183082 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181047, &mem_181047_cached_sizze_183082, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181049_cached_sizze_183083 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_183083, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181051_cached_sizze_183084 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_183084, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181053_cached_sizze_183085 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_183085, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181085_cached_sizze_183086 < bytes_181084) {
        err = lexical_realloc(ctx, &mem_181085, &mem_181085_cached_sizze_183086, bytes_181084);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181087_cached_sizze_183087 < bytes_181086) {
        err = lexical_realloc(ctx, &mem_181087, &mem_181087_cached_sizze_183087, bytes_181086);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181100_cached_sizze_183088 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181100, &mem_181100_cached_sizze_183088, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181101_cached_sizze_183089 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_183089, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181108_cached_sizze_183090 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181108, &mem_181108_cached_sizze_183090, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181111_cached_sizze_183091 < bytes_181110) {
        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_183091, bytes_181110);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181114_cached_sizze_183092 < bytes_181113) {
        err = lexical_realloc(ctx, &mem_181114, &mem_181114_cached_sizze_183092, bytes_181113);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181117_cached_sizze_183093 < bytes_181116) {
        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_183093, bytes_181116);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183094 < binop_x_181112) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183094, binop_x_181112);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181142_cached_sizze_183095 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_183095, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181144_cached_sizze_183096 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181144, &mem_181144_cached_sizze_183096, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181146_cached_sizze_183097 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183097, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183098 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183098, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183099 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183099, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181193_cached_sizze_183100 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181193, &mem_181193_cached_sizze_183100, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181194_cached_sizze_183101 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_183101, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181219_cached_sizze_183102 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181219, &mem_181219_cached_sizze_183102, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181227_cached_sizze_183103 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181227, &mem_181227_cached_sizze_183103, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_171833 = 0; i_171833 < iters_171767; i_171833++) {
        int32_t blocked_radix_sort_step_arg1_171836 = mul32(2, i_171833);
        int32_t get_bit_arg0_171841 = add32(1, blocked_radix_sort_step_arg1_171836);
        bool cond_f_res_171842 = get_bit_arg0_171841 == 31;
        bool cond_f_res_171843 = blocked_radix_sort_step_arg1_171836 == 31;
        int16_t discard_180712;
        int16_t discard_180713;
        int16_t discard_180714;
        int16_t discard_180715;
        int16_t scanacc_180697;
        int16_t scanacc_180698;
        int16_t scanacc_180699;
        int16_t scanacc_180700;
        
        scanacc_180697 = (int16_t) 0;
        scanacc_180698 = (int16_t) 0;
        scanacc_180699 = (int16_t) 0;
        scanacc_180700 = (int16_t) 0;
        for (int64_t i_180706 = 0; i_180706 < rest_171773; i_180706++) {
            int64_t slice_180919 = arg_171774 + i_180706;
            float eta_p_178625 = ((float *) mem_181035)[slice_180919];
            int32_t i32_arg0_178626 = futrts_to_bits32(eta_p_178625);
            int32_t unsign_arg0_178627 = ashr32(i32_arg0_178626, get_bit_arg0_171841);
            int32_t unsign_arg0_178628 = 1 & unsign_arg0_178627;
            int32_t unsign_arg0_178629 = ashr32(i32_arg0_178626, 31);
            int32_t unsign_arg0_178630 = 1 & unsign_arg0_178629;
            bool cond_178631 = unsign_arg0_178630 == 1;
            bool x_178632 = !cond_178631;
            bool y_178633 = cond_f_res_171842 && x_178632;
            bool cond_178634 = cond_178631 || y_178633;
            int32_t defunc_0_get_bit_res_178635;
            
            if (cond_178634) {
                int32_t defunc_0_get_bit_res_t_res_178761 = 1 ^ unsign_arg0_178628;
                
                defunc_0_get_bit_res_178635 = defunc_0_get_bit_res_t_res_178761;
            } else {
                defunc_0_get_bit_res_178635 = unsign_arg0_178628;
            }
            
            int32_t zp_lhs_178637 = mul32(2, defunc_0_get_bit_res_178635);
            int32_t unsign_arg0_178638 = ashr32(i32_arg0_178626, blocked_radix_sort_step_arg1_171836);
            int32_t unsign_arg0_178639 = 1 & unsign_arg0_178638;
            bool y_178640 = cond_f_res_171843 && x_178632;
            bool cond_178641 = cond_178631 || y_178640;
            int32_t defunc_0_get_bit_res_178642;
            
            if (cond_178641) {
                int32_t defunc_0_get_bit_res_t_res_178762 = 1 ^ unsign_arg0_178639;
                
                defunc_0_get_bit_res_178642 = defunc_0_get_bit_res_t_res_178762;
            } else {
                defunc_0_get_bit_res_178642 = unsign_arg0_178639;
            }
            
            int32_t i32_arg0_178644 = add32(zp_lhs_178637, defunc_0_get_bit_res_178642);
            int16_t i32_res_178645 = sext_i32_i16(i32_arg0_178644);
            int16_t defunc_0_f_res_178647;
            int16_t defunc_0_f_res_178648;
            int16_t defunc_0_f_res_178649;
            int16_t defunc_0_f_res_178650;
            
            if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178647, &defunc_0_f_res_178648, &defunc_0_f_res_178649, &defunc_0_f_res_178650, i32_res_178645) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_171891 = add16(defunc_0_f_res_178647, scanacc_180697);
            int16_t defunc_0_op_res_171892 = add16(defunc_0_f_res_178648, scanacc_180698);
            int16_t defunc_0_op_res_171893 = add16(defunc_0_f_res_178649, scanacc_180699);
            int16_t defunc_0_op_res_171894 = add16(defunc_0_f_res_178650, scanacc_180700);
            
            ((int16_t *) mem_181045)[i_180706] = defunc_0_op_res_171891;
            ((int16_t *) mem_181047)[i_180706] = defunc_0_op_res_171892;
            ((int16_t *) mem_181049)[i_180706] = defunc_0_op_res_171893;
            ((int16_t *) mem_181051)[i_180706] = defunc_0_op_res_171894;
            ((int16_t *) mem_181053)[i_180706] = i32_res_178645;
            
            int16_t scanacc_tmp_182452 = defunc_0_op_res_171891;
            int16_t scanacc_tmp_182453 = defunc_0_op_res_171892;
            int16_t scanacc_tmp_182454 = defunc_0_op_res_171893;
            int16_t scanacc_tmp_182455 = defunc_0_op_res_171894;
            
            scanacc_180697 = scanacc_tmp_182452;
            scanacc_180698 = scanacc_tmp_182453;
            scanacc_180699 = scanacc_tmp_182454;
            scanacc_180700 = scanacc_tmp_182455;
        }
        discard_180712 = scanacc_180697;
        discard_180713 = scanacc_180698;
        discard_180714 = scanacc_180699;
        discard_180715 = scanacc_180700;
        
        int16_t defunc_0_radix_sort_step_i16_res_171895;
        int16_t defunc_0_radix_sort_step_i16_res_171896;
        int16_t defunc_0_radix_sort_step_i16_res_171897;
        int16_t defunc_0_radix_sort_step_i16_res_171898;
        
        if (empty_slice_171795) {
            defunc_0_radix_sort_step_i16_res_171895 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171896 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171897 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_171898 = (int16_t) 0;
        } else {
            int16_t last_res_171899 = ((int16_t *) mem_181045)[m_171796];
            int16_t last_res_171900 = ((int16_t *) mem_181047)[m_171796];
            int16_t last_res_171901 = ((int16_t *) mem_181049)[m_171796];
            int16_t last_res_171902 = ((int16_t *) mem_181051)[m_171796];
            
            defunc_0_radix_sort_step_i16_res_171895 = last_res_171899;
            defunc_0_radix_sort_step_i16_res_171896 = last_res_171900;
            defunc_0_radix_sort_step_i16_res_171897 = last_res_171901;
            defunc_0_radix_sort_step_i16_res_171898 = last_res_171902;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181085, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + (int64_t) 1 * arg_171774, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171773});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181087, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181035, (int64_t) 0 + (int64_t) 1 * arg_171774, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_171773});
        for (int64_t write_iter_180716 = 0; write_iter_180716 < rest_171773; write_iter_180716++) {
            int16_t write_iv_180719 = ((int16_t *) mem_181053)[write_iter_180716];
            int16_t write_iv_180720 = ((int16_t *) mem_181045)[write_iter_180716];
            int16_t write_iv_180721 = ((int16_t *) mem_181047)[write_iter_180716];
            int16_t write_iv_180722 = ((int16_t *) mem_181049)[write_iter_180716];
            int16_t write_iv_180723 = ((int16_t *) mem_181051)[write_iter_180716];
            int64_t slice_180918 = arg_171774 + write_iter_180716;
            float write_iv_180724 = ((float *) mem_181035)[slice_180918];
            int64_t write_iv_180725 = ((int64_t *) mem_181037)[slice_180918];
            int64_t defunc_0_f_res_178609;
            
            if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178609, defunc_0_radix_sort_step_i16_res_171895, defunc_0_radix_sort_step_i16_res_171896, defunc_0_radix_sort_step_i16_res_171897, write_iv_180719, write_iv_180720, write_iv_180721, write_iv_180722, write_iv_180723) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178609) && slt64(defunc_0_f_res_178609, rest_171773)) {
                ((float *) mem_181087)[defunc_0_f_res_178609] = write_iv_180724;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178609) && slt64(defunc_0_f_res_178609, rest_171773)) {
                ((int64_t *) mem_181085)[defunc_0_f_res_178609] = write_iv_180725;
            }
        }
        ((int16_t *) mem_181100)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_171895;
        ((int16_t *) mem_181100)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171896;
        ((int16_t *) mem_181100)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_171897;
        ((int16_t *) mem_181100)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_171898;
        for (int64_t i_180730 = 0; i_180730 < (int64_t) 4; i_180730++) {
            int16_t eta_p_171919 = ((int16_t *) mem_181100)[i_180730];
            int64_t i16_res_171920 = sext_i16_i64(eta_p_171919);
            
            ((int64_t *) mem_181101)[i_180730] = i16_res_171920;
        }
        
        int16_t tmp_171921 = add16(defunc_0_radix_sort_step_i16_res_171895, defunc_0_radix_sort_step_i16_res_171896);
        int16_t tmp_171922 = add16(defunc_0_radix_sort_step_i16_res_171897, tmp_171921);
        
        ((int16_t *) mem_181108)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181108)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_171895;
        ((int16_t *) mem_181108)[(int64_t) 2] = tmp_171921;
        ((int16_t *) mem_181108)[(int64_t) 3] = tmp_171922;
        for (int64_t i_180780 = 0; i_180780 < n_blocks_171772; i_180780++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181111, i_180780 * i16_res_171768, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181035, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_171768), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171768});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181114, i_180780 * i16_res_171768, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_171768), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_171768});
            
            int64_t binop_x_180932 = i16_res_171768 * i_180780;
            int16_t discard_180752;
            int16_t discard_180753;
            int16_t discard_180754;
            int16_t discard_180755;
            int16_t scanacc_180737;
            int16_t scanacc_180738;
            int16_t scanacc_180739;
            int16_t scanacc_180740;
            
            scanacc_180737 = (int16_t) 0;
            scanacc_180738 = (int16_t) 0;
            scanacc_180739 = (int16_t) 0;
            scanacc_180740 = (int16_t) 0;
            for (int64_t i_180746 = 0; i_180746 < i16_res_171768; i_180746++) {
                int64_t new_index_180933 = i_180746 + binop_x_180932;
                float eta_p_178681 = ((float *) mem_181035)[new_index_180933];
                int32_t i32_arg0_178682 = futrts_to_bits32(eta_p_178681);
                int32_t unsign_arg0_178683 = ashr32(i32_arg0_178682, get_bit_arg0_171841);
                int32_t unsign_arg0_178684 = 1 & unsign_arg0_178683;
                int32_t unsign_arg0_178685 = ashr32(i32_arg0_178682, 31);
                int32_t unsign_arg0_178686 = 1 & unsign_arg0_178685;
                bool cond_178687 = unsign_arg0_178686 == 1;
                bool x_178688 = !cond_178687;
                bool y_178689 = cond_f_res_171842 && x_178688;
                bool cond_178690 = cond_178687 || y_178689;
                int32_t defunc_0_get_bit_res_178691;
                
                if (cond_178690) {
                    int32_t defunc_0_get_bit_res_t_res_178763 = 1 ^ unsign_arg0_178684;
                    
                    defunc_0_get_bit_res_178691 = defunc_0_get_bit_res_t_res_178763;
                } else {
                    defunc_0_get_bit_res_178691 = unsign_arg0_178684;
                }
                
                int32_t zp_lhs_178693 = mul32(2, defunc_0_get_bit_res_178691);
                int32_t unsign_arg0_178694 = ashr32(i32_arg0_178682, blocked_radix_sort_step_arg1_171836);
                int32_t unsign_arg0_178695 = 1 & unsign_arg0_178694;
                bool y_178696 = cond_f_res_171843 && x_178688;
                bool cond_178697 = cond_178687 || y_178696;
                int32_t defunc_0_get_bit_res_178698;
                
                if (cond_178697) {
                    int32_t defunc_0_get_bit_res_t_res_178764 = 1 ^ unsign_arg0_178695;
                    
                    defunc_0_get_bit_res_178698 = defunc_0_get_bit_res_t_res_178764;
                } else {
                    defunc_0_get_bit_res_178698 = unsign_arg0_178695;
                }
                
                int32_t i32_arg0_178700 = add32(zp_lhs_178693, defunc_0_get_bit_res_178698);
                int16_t i32_res_178701 = sext_i32_i16(i32_arg0_178700);
                int16_t defunc_0_f_res_178703;
                int16_t defunc_0_f_res_178704;
                int16_t defunc_0_f_res_178705;
                int16_t defunc_0_f_res_178706;
                
                if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178703, &defunc_0_f_res_178704, &defunc_0_f_res_178705, &defunc_0_f_res_178706, i32_res_178701) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_171983 = add16(defunc_0_f_res_178703, scanacc_180737);
                int16_t defunc_0_op_res_171984 = add16(defunc_0_f_res_178704, scanacc_180738);
                int16_t defunc_0_op_res_171985 = add16(defunc_0_f_res_178705, scanacc_180739);
                int16_t defunc_0_op_res_171986 = add16(defunc_0_f_res_178706, scanacc_180740);
                
                ((int16_t *) mem_181142)[i_180746] = defunc_0_op_res_171983;
                ((int16_t *) mem_181144)[i_180746] = defunc_0_op_res_171984;
                ((int16_t *) mem_181146)[i_180746] = defunc_0_op_res_171985;
                ((int16_t *) mem_181148)[i_180746] = defunc_0_op_res_171986;
                ((int16_t *) mem_181150)[i_180746] = i32_res_178701;
                
                int16_t scanacc_tmp_182468 = defunc_0_op_res_171983;
                int16_t scanacc_tmp_182469 = defunc_0_op_res_171984;
                int16_t scanacc_tmp_182470 = defunc_0_op_res_171985;
                int16_t scanacc_tmp_182471 = defunc_0_op_res_171986;
                
                scanacc_180737 = scanacc_tmp_182468;
                scanacc_180738 = scanacc_tmp_182469;
                scanacc_180739 = scanacc_tmp_182470;
                scanacc_180740 = scanacc_tmp_182471;
            }
            discard_180752 = scanacc_180737;
            discard_180753 = scanacc_180738;
            discard_180754 = scanacc_180739;
            discard_180755 = scanacc_180740;
            
            int16_t defunc_0_f_res_171987;
            int16_t defunc_0_f_res_171988;
            int16_t defunc_0_f_res_171989;
            int16_t defunc_0_f_res_171990;
            
            if (zzero_171769) {
                defunc_0_f_res_171987 = (int16_t) 0;
                defunc_0_f_res_171988 = (int16_t) 0;
                defunc_0_f_res_171989 = (int16_t) 0;
                defunc_0_f_res_171990 = (int16_t) 0;
            } else {
                int16_t last_res_171991 = ((int16_t *) mem_181142)[tmp_171811];
                int16_t last_res_171992 = ((int16_t *) mem_181144)[tmp_171811];
                int16_t last_res_171993 = ((int16_t *) mem_181146)[tmp_171811];
                int16_t last_res_171994 = ((int16_t *) mem_181148)[tmp_171811];
                
                defunc_0_f_res_171987 = last_res_171991;
                defunc_0_f_res_171988 = last_res_171992;
                defunc_0_f_res_171989 = last_res_171993;
                defunc_0_f_res_171990 = last_res_171994;
            }
            for (int64_t write_iter_180756 = 0; write_iter_180756 < i16_res_171768; write_iter_180756++) {
                int16_t write_iv_180759 = ((int16_t *) mem_181150)[write_iter_180756];
                int16_t write_iv_180760 = ((int16_t *) mem_181142)[write_iter_180756];
                int16_t write_iv_180761 = ((int16_t *) mem_181144)[write_iter_180756];
                int16_t write_iv_180762 = ((int16_t *) mem_181146)[write_iter_180756];
                int16_t write_iv_180763 = ((int16_t *) mem_181148)[write_iter_180756];
                int64_t new_index_180929 = write_iter_180756 + binop_x_180932;
                float write_iv_180764 = ((float *) mem_181035)[new_index_180929];
                int64_t write_iv_180765 = ((int64_t *) mem_181037)[new_index_180929];
                int64_t defunc_0_f_res_178665;
                
                if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178665, defunc_0_f_res_171987, defunc_0_f_res_171988, defunc_0_f_res_171989, write_iv_180759, write_iv_180760, write_iv_180761, write_iv_180762, write_iv_180763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178665) && slt64(defunc_0_f_res_178665, i16_res_171768)) {
                    ((float *) mem_181111)[i_180780 * i16_res_171768 + defunc_0_f_res_178665] = write_iv_180764;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178665) && slt64(defunc_0_f_res_178665, i16_res_171768)) {
                    ((int64_t *) mem_181114)[i_180780 * i16_res_171768 + defunc_0_f_res_178665] = write_iv_180765;
                }
            }
            ((int16_t *) mem_181193)[(int64_t) 0] = defunc_0_f_res_171987;
            ((int16_t *) mem_181193)[(int64_t) 1] = defunc_0_f_res_171988;
            ((int16_t *) mem_181193)[(int64_t) 2] = defunc_0_f_res_171989;
            ((int16_t *) mem_181193)[(int64_t) 3] = defunc_0_f_res_171990;
            for (int64_t i_180770 = 0; i_180770 < (int64_t) 4; i_180770++) {
                int16_t eta_p_172009 = ((int16_t *) mem_181193)[i_180770];
                int64_t i16_res_172010 = sext_i16_i64(eta_p_172009);
                
                ((int64_t *) mem_181194)[i_180770] = i16_res_172010;
            }
            
            int16_t tmp_172011 = add16(defunc_0_f_res_171987, defunc_0_f_res_171988);
            int16_t tmp_172012 = add16(defunc_0_f_res_171989, tmp_172011);
            
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_171987;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 2] = tmp_172011;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 3] = tmp_172012;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181117, i_180780 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180792;
        int64_t scanacc_180788 = (int64_t) 0;
        
        for (int64_t i_180790 = 0; i_180790 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783; i_180790++) {
            int64_t new_index_180907 = squot64(i_180790, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782);
            int64_t binop_y_180909 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782 * new_index_180907;
            int64_t new_index_180910 = i_180790 - binop_y_180909;
            bool index_concat_cmp_180912 = sle64(n_blocks_171772, new_index_180910);
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180912) {
                int64_t index_concat_180914 = ((int64_t *) mem_181101)[new_index_180907];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t index_concat_180915 = ((int64_t *) mem_181117)[new_index_180910 * (int64_t) 4 + new_index_180907];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t defunc_0_op_res_172026 = add64(scanacc_180788, index_concat_branch_180916);
            
            ((int64_t *) mem_181219)[i_180790] = defunc_0_op_res_172026;
            
            int64_t scanacc_tmp_182480 = defunc_0_op_res_172026;
            
            scanacc_180788 = scanacc_tmp_182480;
        }
        discard_180792 = scanacc_180788;
        for (int64_t i_180795 = 0; i_180795 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783; i_180795++) {
            int64_t zv_lhs_172029 = add64((int64_t) -1, i_180795);
            int64_t tmp_172030 = smod64(zv_lhs_172029, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_171783);
            int64_t lifted_lambda_res_172031 = ((int64_t *) mem_181219)[tmp_172030];
            
            ((int64_t *) mem_181227)[i_180795] = lifted_lambda_res_172031;
        }
        ((int64_t *) mem_181227)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180797 = 0; write_iter_180797 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775; write_iter_180797++) {
            bool index_concat_cmp_180898 = sle64(arg_171774, write_iter_180797);
            float index_concat_branch_178553;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_178773 = sub64(write_iter_180797, arg_171774);
                float index_concat_178774 = ((float *) mem_181087)[index_concat_i_178773];
                
                index_concat_branch_178553 = index_concat_178774;
            } else {
                int64_t new_index_178556 = squot64(write_iter_180797, i16_res_171768);
                int64_t binop_y_178557 = i16_res_171768 * new_index_178556;
                int64_t new_index_178558 = write_iter_180797 - binop_y_178557;
                float index_concat_178559 = ((float *) mem_181111)[new_index_178556 * i16_res_171768 + new_index_178558];
                
                index_concat_branch_178553 = index_concat_178559;
            }
            
            int32_t i32_arg0_178560 = futrts_to_bits32(index_concat_branch_178553);
            int32_t unsign_arg0_178561 = ashr32(i32_arg0_178560, 31);
            int32_t unsign_arg0_178562 = 1 & unsign_arg0_178561;
            bool cond_178563 = unsign_arg0_178562 == 1;
            bool x_178564 = !cond_178563;
            int32_t zlzb_rhs_178565;
            int32_t acc_178567 = 0;
            
            for (int32_t i_178566 = 0; i_178566 < 2; i_178566++) {
                int32_t get_bit_arg0_178568 = add32(blocked_radix_sort_step_arg1_171836, i_178566);
                int32_t unsign_arg0_178569 = ashr32(i32_arg0_178560, get_bit_arg0_178568);
                int32_t unsign_arg0_178570 = 1 & unsign_arg0_178569;
                bool cond_f_res_178571 = get_bit_arg0_178568 == 31;
                bool y_178572 = x_178564 && cond_f_res_178571;
                bool cond_178573 = cond_178563 || y_178572;
                int32_t defunc_0_get_bit_res_178574;
                
                if (cond_178573) {
                    int32_t defunc_0_get_bit_res_t_res_178775 = 1 ^ unsign_arg0_178570;
                    
                    defunc_0_get_bit_res_178574 = defunc_0_get_bit_res_t_res_178775;
                } else {
                    defunc_0_get_bit_res_178574 = unsign_arg0_178570;
                }
                
                int32_t zp_rhs_178576 = shl32(defunc_0_get_bit_res_178574, i_178566);
                int32_t loopres_178577 = add32(acc_178567, zp_rhs_178576);
                int32_t acc_tmp_182485 = loopres_178577;
                
                acc_178567 = acc_tmp_182485;
            }
            zlzb_rhs_178565 = acc_178567;
            
            int64_t i32_res_178578 = sext_i32_i64(zlzb_rhs_178565);
            int64_t block_idx_178579 = sdiv64(write_iter_180797, i16_res_171768);
            bool x_178580 = sle64((int64_t) 0, block_idx_178579);
            bool y_178581 = slt64(block_idx_178579, dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782);
            bool bounds_check_178582 = x_178580 && y_178581;
            bool index_certs_178583;
            
            if (!bounds_check_178582) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178579, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178584 = sle64((int64_t) 0, i32_res_178578);
            bool y_178585 = slt64(i32_res_178578, (int64_t) 4);
            bool bounds_check_178586 = x_178584 && y_178585;
            bool index_certs_178587;
            
            if (!bounds_check_178586) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178578, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:270:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #7  ftbasics.fut:218:95-98\n   #8  ftsort.fut:25:3-46\n   #9  ftsort.fut:24:1-25:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            float index_concat_branch_180902;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180899 = sub64(write_iter_180797, arg_171774);
                float index_concat_180900 = ((float *) mem_181087)[index_concat_i_180899];
                
                index_concat_branch_180902 = index_concat_180900;
            } else {
                int64_t new_index_180924 = squot64(write_iter_180797, i16_res_171768);
                int64_t binop_y_180926 = i16_res_171768 * new_index_180924;
                int64_t new_index_180927 = write_iter_180797 - binop_y_180926;
                float index_concat_180901 = ((float *) mem_181111)[new_index_180924 * i16_res_171768 + new_index_180927];
                
                index_concat_branch_180902 = index_concat_180901;
            }
            
            int64_t index_concat_branch_180896;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180893 = sub64(write_iter_180797, arg_171774);
                int64_t index_concat_180894 = ((int64_t *) mem_181085)[index_concat_i_180893];
                
                index_concat_branch_180896 = index_concat_180894;
            } else {
                int64_t new_index_180920 = squot64(write_iter_180797, i16_res_171768);
                int64_t binop_y_180922 = i16_res_171768 * new_index_180920;
                int64_t new_index_180923 = write_iter_180797 - binop_y_180922;
                int64_t index_concat_180895 = ((int64_t *) mem_181114)[new_index_180920 * i16_res_171768 + new_index_180923];
                
                index_concat_branch_180896 = index_concat_180895;
            }
            
            int64_t binop_x_178588 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_171782 * i32_res_178578;
            int64_t new_index_178589 = block_idx_178579 + binop_x_178588;
            int64_t new_offset_178590 = ((int64_t *) mem_181227)[new_index_178589];
            bool index_concat_cmp_178591 = sle64(n_blocks_171772, block_idx_178579);
            int16_t index_concat_branch_178592;
            
            if (index_concat_cmp_178591) {
                int16_t index_concat_178776 = ((int16_t *) mem_181108)[i32_res_178578];
                
                index_concat_branch_178592 = index_concat_178776;
            } else {
                int16_t index_concat_178594 = ((int16_t *) mem_181120)[block_idx_178579 * (int64_t) 4 + i32_res_178578];
                
                index_concat_branch_178592 = index_concat_178594;
            }
            
            int64_t i16_res_178595 = sext_i16_i64(index_concat_branch_178592);
            int64_t zp_lhs_178596 = mul64(i16_res_171768, block_idx_178579);
            int64_t old_offset_178597 = add64(i16_res_178595, zp_lhs_178596);
            int64_t zp_lhs_178598 = sub64(write_iter_180797, old_offset_178597);
            int64_t idx_178599 = add64(new_offset_178590, zp_lhs_178598);
            
            if (sle64((int64_t) 0, idx_178599) && slt64(idx_178599, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775)) {
                ((float *) mem_181035)[idx_178599] = index_concat_branch_180902;
            }
            if (sle64((int64_t) 0, idx_178599) && slt64(idx_178599, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_171775)) {
                ((int64_t *) mem_181037)[idx_178599] = index_concat_branch_180896;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181253, bytes_181252, "mem_181253")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181255, bytes_181254, "mem_181255")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180809 = 0; i_180809 < n_93525; i_180809++) {
        int64_t eta_p_172097 = ((int64_t *) mem_181037)[i_180809];
        bool x_172098 = sle64((int64_t) 0, eta_p_172097);
        bool y_172099 = slt64(eta_p_172097, n_93525);
        bool bounds_check_172100 = x_172098 && y_172099;
        bool index_certs_172101;
        
        if (!bounds_check_172100) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_172097, "] out of bounds for array of shape [", (long long) n_93525, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:280:49-51\n   #4  ftbasics.fut:218:95-98\n   #5  ftsort.fut:25:3-46\n   #6  ftsort.fut:24:1-25:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_172102 = ((int64_t *) ext_mem_181033.mem)[eta_p_172097];
        float lifted_lambda_res_172103 = ((float *) xs_mem_181032.mem)[eta_p_172097];
        
        ((int64_t *) mem_181253.mem)[i_180809] = lifted_lambda_res_172102;
        ((float *) mem_181255.mem)[i_180809] = lifted_lambda_res_172103;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181253, "mem_181253") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181255, "mem_181255") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183077, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183078, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        free(mem_181037);
        free(mem_181045);
        free(mem_181047);
        free(mem_181049);
        free(mem_181051);
        free(mem_181053);
        free(mem_181085);
        free(mem_181087);
        free(mem_181100);
        free(mem_181101);
        free(mem_181108);
        free(mem_181111);
        free(mem_181114);
        free(mem_181117);
        free(mem_181120);
        free(mem_181142);
        free(mem_181144);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181193);
        free(mem_181194);
        free(mem_181219);
        free(mem_181227);
        if (memblock_unref(ctx, &mem_181255, "mem_181255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181253, "mem_181253") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_int(struct futhark_context *ctx, struct memblock *mem_out_p_183104, struct memblock *mem_out_p_183105, struct memblock xs_mem_181032, int64_t n_88174, int64_t incr_88175, int16_t block_sizze_88176)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183106 = 0;
    unsigned char *mem_181035 = NULL;
    int64_t mem_181037_cached_sizze_183107 = 0;
    unsigned char *mem_181037 = NULL;
    int64_t mem_181045_cached_sizze_183108 = 0;
    unsigned char *mem_181045 = NULL;
    int64_t mem_181047_cached_sizze_183109 = 0;
    unsigned char *mem_181047 = NULL;
    int64_t mem_181049_cached_sizze_183110 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_183111 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_183112 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181085_cached_sizze_183113 = 0;
    unsigned char *mem_181085 = NULL;
    int64_t mem_181087_cached_sizze_183114 = 0;
    unsigned char *mem_181087 = NULL;
    int64_t mem_181100_cached_sizze_183115 = 0;
    unsigned char *mem_181100 = NULL;
    int64_t mem_181101_cached_sizze_183116 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181108_cached_sizze_183117 = 0;
    unsigned char *mem_181108 = NULL;
    int64_t mem_181111_cached_sizze_183118 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181114_cached_sizze_183119 = 0;
    unsigned char *mem_181114 = NULL;
    int64_t mem_181117_cached_sizze_183120 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_183121 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181142_cached_sizze_183122 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181144_cached_sizze_183123 = 0;
    unsigned char *mem_181144 = NULL;
    int64_t mem_181146_cached_sizze_183124 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183125 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183126 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181193_cached_sizze_183127 = 0;
    unsigned char *mem_181193 = NULL;
    int64_t mem_181194_cached_sizze_183128 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181219_cached_sizze_183129 = 0;
    unsigned char *mem_181219 = NULL;
    int64_t mem_181227_cached_sizze_183130 = 0;
    unsigned char *mem_181227 = NULL;
    struct memblock mem_181255;
    
    mem_181255.references = NULL;
    
    struct memblock mem_181253;
    
    mem_181253.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    bool cond_168536 = n_88174 == (int64_t) 0;
    int32_t iters_168537;
    
    if (cond_168536) {
        iters_168537 = 0;
    } else {
        iters_168537 = 16;
    }
    
    int64_t i16_res_168538 = sext_i16_i64(block_sizze_88176);
    bool zzero_168539 = i16_res_168538 == (int64_t) 0;
    bool nonzzero_168540 = !zzero_168539;
    bool nonzzero_cert_168541;
    
    if (!nonzzero_168540) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:165:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168542 = sdiv64(n_88174, i16_res_168538);
    int64_t rest_168543 = smod64(n_88174, i16_res_168538);
    int64_t arg_168544 = mul64(i16_res_168538, n_blocks_168542);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545 = add64(rest_168543, arg_168544);
    bool dim_match_168546 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545 == n_88174;
    bool empty_or_match_cert_168547;
    
    if (!dim_match_168546) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_88174, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:165:93-96\n   #6  ftsort.fut:19:3-44\n   #7  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181034 = (int64_t) 4 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545;
    int64_t bytes_181036 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545;
    bool loop_nonempty_168551 = slt32(0, iters_168537);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 = add64((int64_t) 1, n_blocks_168542);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
    bool empty_slice_168554 = arg_168544 == (int64_t) 0;
    int64_t m_168555 = sub64(arg_168544, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168556 = sle64((int64_t) 0, m_168555);
    bool i_p_m_t_s_leq_w_168557 = slt64(m_168555, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool i_lte_j_168558 = sle64((int64_t) 0, arg_168544);
    bool y_168559 = zzero_leq_i_p_m_t_s_168556 && i_p_m_t_s_leq_w_168557;
    bool forwards_ok_168560 = i_lte_j_168558 && y_168559;
    bool ok_or_empty_168561 = empty_slice_168554 || forwards_ok_168560;
    bool loop_not_taken_168562 = !loop_nonempty_168551;
    bool protect_assert_disj_168563 = ok_or_empty_168561 || loop_not_taken_168562;
    bool index_certs_168564;
    
    if (!protect_assert_disj_168563) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168544, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168565 = rest_168543 == (int64_t) 0;
    int64_t m_168566 = sub64(rest_168543, (int64_t) 1);
    int64_t i_p_m_t_s_168567 = add64(arg_168544, m_168566);
    bool zzero_leq_i_p_m_t_s_168568 = sle64((int64_t) 0, i_p_m_t_s_168567);
    bool i_p_m_t_s_leq_w_168569 = slt64(i_p_m_t_s_168567, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool i_lte_j_168570 = sle64(arg_168544, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool y_168571 = zzero_leq_i_p_m_t_s_168568 && i_p_m_t_s_leq_w_168569;
    bool forwards_ok_168572 = i_lte_j_168570 && y_168571;
    bool ok_or_empty_168573 = empty_slice_168565 || forwards_ok_168572;
    bool protect_assert_disj_168574 = loop_not_taken_168562 || ok_or_empty_168573;
    bool index_certs_168575;
    
    if (!protect_assert_disj_168574) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168544, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168576 = sle64((int64_t) 0, n_blocks_168542);
    bool binop_y_168577 = sle64((int64_t) 0, i16_res_168538);
    bool binop_y_168578 = binop_x_168576 && binop_y_168577;
    bool protect_assert_disj_168579 = loop_not_taken_168562 || binop_y_168578;
    bool dim_ok_cert_168580;
    
    if (!protect_assert_disj_168579) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168544, "] to array of shape [", (long long) n_blocks_168542, "][", (long long) i16_res_168538, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:19:3-44\n   #8  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168581 = sub64(i16_res_168538, (int64_t) 1);
    bool x_168582 = sle64((int64_t) 0, tmp_168581);
    bool y_168583 = slt64(tmp_168581, i16_res_168538);
    bool bounds_check_168584 = x_168582 && y_168583;
    bool protect_assert_disj_168585 = zzero_168539 || bounds_check_168584;
    bool protect_assert_disj_168586 = loop_not_taken_168562 || protect_assert_disj_168585;
    bool index_certs_168587;
    
    if (!protect_assert_disj_168586) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168581, "] out of bounds for array of shape [", (long long) i16_res_168538, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168589 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553);
    bool protect_assert_disj_168590 = loop_not_taken_168562 || y_168589;
    bool index_certs_168591;
    
    if (!protect_assert_disj_168590) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168593 = nonzzero_168540 || loop_not_taken_168562;
    bool nonzzero_cert_168594;
    
    if (!protect_assert_disj_168593) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168595 = sle64((int64_t) 0, m_168566);
    bool y_168596 = slt64(m_168566, rest_168543);
    bool bounds_check_168597 = x_168595 && y_168596;
    bool protect_assert_disj_168598 = empty_slice_168565 || bounds_check_168597;
    bool protect_assert_disj_168599 = loop_not_taken_168562 || protect_assert_disj_168598;
    bool index_certs_168600;
    
    if (!protect_assert_disj_168599) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168566, "] out of bounds for array of shape [", (long long) rest_168543, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181044 = (int64_t) 2 * rest_168543;
    int64_t bytes_181084 = (int64_t) 8 * rest_168543;
    int64_t bytes_181086 = (int64_t) 4 * rest_168543;
    int64_t binop_x_181109 = (int64_t) 4 * n_blocks_168542;
    int64_t bytes_181110 = i16_res_168538 * binop_x_181109;
    int64_t binop_x_181112 = (int64_t) 8 * n_blocks_168542;
    int64_t bytes_181113 = i16_res_168538 * binop_x_181112;
    int64_t bytes_181116 = (int64_t) 32 * n_blocks_168542;
    int64_t bytes_181141 = (int64_t) 2 * i16_res_168538;
    int64_t bytes_181218 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552;
    bool dim_match_168832 = n_88174 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545;
    bool empty_or_match_cert_168833;
    
    if (!dim_match_168832) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "] cannot match shape of type `[", (long long) n_88174, "](i32, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:19:3-44\n   #9  ftsort.fut:18:1-19:44\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181252 = (int64_t) 8 * n_88174;
    int64_t bytes_181254 = (int64_t) 4 * n_88174;
    
    if (futrts_indicesWithIncrement_9286(ctx, &ext_mem_181033, xs_mem_181032, n_88174, incr_88175) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181035_cached_sizze_183106 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183106, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_4b(ctx, 1, (uint32_t *) mem_181035, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) xs_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545});
    if (mem_181037_cached_sizze_183107 < bytes_181036) {
        err = lexical_realloc(ctx, &mem_181037, &mem_181037_cached_sizze_183107, bytes_181036);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182448 = 0; i_182448 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545; i_182448++) {
        int64_t x_182449 = (int64_t) 0 + i_182448 * (int64_t) 1;
        
        ((int64_t *) mem_181037)[i_182448] = x_182449;
    }
    if (mem_181045_cached_sizze_183108 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181045, &mem_181045_cached_sizze_183108, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181047_cached_sizze_183109 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181047, &mem_181047_cached_sizze_183109, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181049_cached_sizze_183110 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_183110, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181051_cached_sizze_183111 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_183111, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181053_cached_sizze_183112 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_183112, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181085_cached_sizze_183113 < bytes_181084) {
        err = lexical_realloc(ctx, &mem_181085, &mem_181085_cached_sizze_183113, bytes_181084);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181087_cached_sizze_183114 < bytes_181086) {
        err = lexical_realloc(ctx, &mem_181087, &mem_181087_cached_sizze_183114, bytes_181086);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181100_cached_sizze_183115 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181100, &mem_181100_cached_sizze_183115, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181101_cached_sizze_183116 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_183116, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181108_cached_sizze_183117 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181108, &mem_181108_cached_sizze_183117, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181111_cached_sizze_183118 < bytes_181110) {
        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_183118, bytes_181110);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181114_cached_sizze_183119 < bytes_181113) {
        err = lexical_realloc(ctx, &mem_181114, &mem_181114_cached_sizze_183119, bytes_181113);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181117_cached_sizze_183120 < bytes_181116) {
        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_183120, bytes_181116);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183121 < binop_x_181112) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183121, binop_x_181112);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181142_cached_sizze_183122 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_183122, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181144_cached_sizze_183123 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181144, &mem_181144_cached_sizze_183123, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181146_cached_sizze_183124 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183124, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183125 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183125, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183126 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183126, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181193_cached_sizze_183127 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181193, &mem_181193_cached_sizze_183127, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181194_cached_sizze_183128 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_183128, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181219_cached_sizze_183129 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181219, &mem_181219_cached_sizze_183129, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181227_cached_sizze_183130 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181227, &mem_181227_cached_sizze_183130, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168603 = 0; i_168603 < iters_168537; i_168603++) {
        int32_t blocked_radix_sort_step_arg1_168606 = mul32(2, i_168603);
        int32_t get_bit_arg0_168611 = add32(1, blocked_radix_sort_step_arg1_168606);
        bool cond_168612 = get_bit_arg0_168611 == 31;
        bool cond_168613 = blocked_radix_sort_step_arg1_168606 == 31;
        int16_t discard_180712;
        int16_t discard_180713;
        int16_t discard_180714;
        int16_t discard_180715;
        int16_t scanacc_180697;
        int16_t scanacc_180698;
        int16_t scanacc_180699;
        int16_t scanacc_180700;
        
        scanacc_180697 = (int16_t) 0;
        scanacc_180698 = (int16_t) 0;
        scanacc_180699 = (int16_t) 0;
        scanacc_180700 = (int16_t) 0;
        for (int64_t i_180706 = 0; i_180706 < rest_168543; i_180706++) {
            int64_t slice_180919 = arg_168544 + i_180706;
            int32_t eta_p_178618 = ((int32_t *) mem_181035)[slice_180919];
            int32_t zgzg_res_178619 = ashr32(eta_p_178618, get_bit_arg0_168611);
            int32_t za_res_178620 = 1 & zgzg_res_178619;
            int32_t defunc_0_get_bit_res_178621;
            
            if (cond_168612) {
                int32_t defunc_0_get_bit_res_t_res_178736 = 1 ^ za_res_178620;
                
                defunc_0_get_bit_res_178621 = defunc_0_get_bit_res_t_res_178736;
            } else {
                defunc_0_get_bit_res_178621 = za_res_178620;
            }
            
            int32_t zp_lhs_178623 = mul32(2, defunc_0_get_bit_res_178621);
            int32_t zgzg_res_178624 = ashr32(eta_p_178618, blocked_radix_sort_step_arg1_168606);
            int32_t za_res_178625 = 1 & zgzg_res_178624;
            int32_t defunc_0_get_bit_res_178626;
            
            if (cond_168613) {
                int32_t defunc_0_get_bit_res_t_res_178737 = 1 ^ za_res_178625;
                
                defunc_0_get_bit_res_178626 = defunc_0_get_bit_res_t_res_178737;
            } else {
                defunc_0_get_bit_res_178626 = za_res_178625;
            }
            
            int32_t i32_arg0_178628 = add32(zp_lhs_178623, defunc_0_get_bit_res_178626);
            int16_t i32_res_178629 = sext_i32_i16(i32_arg0_178628);
            int16_t defunc_0_f_res_178631;
            int16_t defunc_0_f_res_178632;
            int16_t defunc_0_f_res_178633;
            int16_t defunc_0_f_res_178634;
            
            if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178631, &defunc_0_f_res_178632, &defunc_0_f_res_178633, &defunc_0_f_res_178634, i32_res_178629) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168650 = add16(defunc_0_f_res_178631, scanacc_180697);
            int16_t defunc_0_op_res_168651 = add16(defunc_0_f_res_178632, scanacc_180698);
            int16_t defunc_0_op_res_168652 = add16(defunc_0_f_res_178633, scanacc_180699);
            int16_t defunc_0_op_res_168653 = add16(defunc_0_f_res_178634, scanacc_180700);
            
            ((int16_t *) mem_181045)[i_180706] = defunc_0_op_res_168650;
            ((int16_t *) mem_181047)[i_180706] = defunc_0_op_res_168651;
            ((int16_t *) mem_181049)[i_180706] = defunc_0_op_res_168652;
            ((int16_t *) mem_181051)[i_180706] = defunc_0_op_res_168653;
            ((int16_t *) mem_181053)[i_180706] = i32_res_178629;
            
            int16_t scanacc_tmp_182452 = defunc_0_op_res_168650;
            int16_t scanacc_tmp_182453 = defunc_0_op_res_168651;
            int16_t scanacc_tmp_182454 = defunc_0_op_res_168652;
            int16_t scanacc_tmp_182455 = defunc_0_op_res_168653;
            
            scanacc_180697 = scanacc_tmp_182452;
            scanacc_180698 = scanacc_tmp_182453;
            scanacc_180699 = scanacc_tmp_182454;
            scanacc_180700 = scanacc_tmp_182455;
        }
        discard_180712 = scanacc_180697;
        discard_180713 = scanacc_180698;
        discard_180714 = scanacc_180699;
        discard_180715 = scanacc_180700;
        
        int16_t defunc_0_radix_sort_step_i16_res_168654;
        int16_t defunc_0_radix_sort_step_i16_res_168655;
        int16_t defunc_0_radix_sort_step_i16_res_168656;
        int16_t defunc_0_radix_sort_step_i16_res_168657;
        
        if (empty_slice_168565) {
            defunc_0_radix_sort_step_i16_res_168654 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168655 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168656 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168657 = (int16_t) 0;
        } else {
            int16_t last_res_168658 = ((int16_t *) mem_181045)[m_168566];
            int16_t last_res_168659 = ((int16_t *) mem_181047)[m_168566];
            int16_t last_res_168660 = ((int16_t *) mem_181049)[m_168566];
            int16_t last_res_168661 = ((int16_t *) mem_181051)[m_168566];
            
            defunc_0_radix_sort_step_i16_res_168654 = last_res_168658;
            defunc_0_radix_sort_step_i16_res_168655 = last_res_168659;
            defunc_0_radix_sort_step_i16_res_168656 = last_res_168660;
            defunc_0_radix_sort_step_i16_res_168657 = last_res_168661;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181085, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + (int64_t) 1 * arg_168544, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168543});
        lmad_copy_4b(ctx, 1, (uint32_t *) mem_181087, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181035, (int64_t) 0 + (int64_t) 1 * arg_168544, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168543});
        for (int64_t write_iter_180716 = 0; write_iter_180716 < rest_168543; write_iter_180716++) {
            int16_t write_iv_180719 = ((int16_t *) mem_181053)[write_iter_180716];
            int16_t write_iv_180720 = ((int16_t *) mem_181045)[write_iter_180716];
            int16_t write_iv_180721 = ((int16_t *) mem_181047)[write_iter_180716];
            int16_t write_iv_180722 = ((int16_t *) mem_181049)[write_iter_180716];
            int16_t write_iv_180723 = ((int16_t *) mem_181051)[write_iter_180716];
            int64_t slice_180918 = arg_168544 + write_iter_180716;
            int32_t write_iv_180724 = ((int32_t *) mem_181035)[slice_180918];
            int64_t write_iv_180725 = ((int64_t *) mem_181037)[slice_180918];
            int64_t defunc_0_f_res_178602;
            
            if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178602, defunc_0_radix_sort_step_i16_res_168654, defunc_0_radix_sort_step_i16_res_168655, defunc_0_radix_sort_step_i16_res_168656, write_iv_180719, write_iv_180720, write_iv_180721, write_iv_180722, write_iv_180723) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178602) && slt64(defunc_0_f_res_178602, rest_168543)) {
                ((int32_t *) mem_181087)[defunc_0_f_res_178602] = write_iv_180724;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178602) && slt64(defunc_0_f_res_178602, rest_168543)) {
                ((int64_t *) mem_181085)[defunc_0_f_res_178602] = write_iv_180725;
            }
        }
        ((int16_t *) mem_181100)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168654;
        ((int16_t *) mem_181100)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168655;
        ((int16_t *) mem_181100)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168656;
        ((int16_t *) mem_181100)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168657;
        for (int64_t i_180730 = 0; i_180730 < (int64_t) 4; i_180730++) {
            int16_t eta_p_168678 = ((int16_t *) mem_181100)[i_180730];
            int64_t i16_res_168679 = sext_i16_i64(eta_p_168678);
            
            ((int64_t *) mem_181101)[i_180730] = i16_res_168679;
        }
        
        int16_t tmp_168680 = add16(defunc_0_radix_sort_step_i16_res_168654, defunc_0_radix_sort_step_i16_res_168655);
        int16_t tmp_168681 = add16(defunc_0_radix_sort_step_i16_res_168656, tmp_168680);
        
        ((int16_t *) mem_181108)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181108)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168654;
        ((int16_t *) mem_181108)[(int64_t) 2] = tmp_168680;
        ((int16_t *) mem_181108)[(int64_t) 3] = tmp_168681;
        for (int64_t i_180780 = 0; i_180780 < n_blocks_168542; i_180780++) {
            lmad_copy_4b(ctx, 1, (uint32_t *) mem_181111, i_180780 * i16_res_168538, (int64_t []) {(int64_t) 1}, (uint32_t *) mem_181035, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_168538), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168538});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181114, i_180780 * i16_res_168538, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_168538), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168538});
            
            int64_t binop_x_180932 = i16_res_168538 * i_180780;
            int16_t discard_180752;
            int16_t discard_180753;
            int16_t discard_180754;
            int16_t discard_180755;
            int16_t scanacc_180737;
            int16_t scanacc_180738;
            int16_t scanacc_180739;
            int16_t scanacc_180740;
            
            scanacc_180737 = (int16_t) 0;
            scanacc_180738 = (int16_t) 0;
            scanacc_180739 = (int16_t) 0;
            scanacc_180740 = (int16_t) 0;
            for (int64_t i_180746 = 0; i_180746 < i16_res_168538; i_180746++) {
                int64_t new_index_180933 = i_180746 + binop_x_180932;
                int32_t eta_p_178665 = ((int32_t *) mem_181035)[new_index_180933];
                int32_t zgzg_res_178666 = ashr32(eta_p_178665, get_bit_arg0_168611);
                int32_t za_res_178667 = 1 & zgzg_res_178666;
                int32_t defunc_0_get_bit_res_178668;
                
                if (cond_168612) {
                    int32_t defunc_0_get_bit_res_t_res_178738 = 1 ^ za_res_178667;
                    
                    defunc_0_get_bit_res_178668 = defunc_0_get_bit_res_t_res_178738;
                } else {
                    defunc_0_get_bit_res_178668 = za_res_178667;
                }
                
                int32_t zp_lhs_178670 = mul32(2, defunc_0_get_bit_res_178668);
                int32_t zgzg_res_178671 = ashr32(eta_p_178665, blocked_radix_sort_step_arg1_168606);
                int32_t za_res_178672 = 1 & zgzg_res_178671;
                int32_t defunc_0_get_bit_res_178673;
                
                if (cond_168613) {
                    int32_t defunc_0_get_bit_res_t_res_178739 = 1 ^ za_res_178672;
                    
                    defunc_0_get_bit_res_178673 = defunc_0_get_bit_res_t_res_178739;
                } else {
                    defunc_0_get_bit_res_178673 = za_res_178672;
                }
                
                int32_t i32_arg0_178675 = add32(zp_lhs_178670, defunc_0_get_bit_res_178673);
                int16_t i32_res_178676 = sext_i32_i16(i32_arg0_178675);
                int16_t defunc_0_f_res_178678;
                int16_t defunc_0_f_res_178679;
                int16_t defunc_0_f_res_178680;
                int16_t defunc_0_f_res_178681;
                
                if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178678, &defunc_0_f_res_178679, &defunc_0_f_res_178680, &defunc_0_f_res_178681, i32_res_178676) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168731 = add16(defunc_0_f_res_178678, scanacc_180737);
                int16_t defunc_0_op_res_168732 = add16(defunc_0_f_res_178679, scanacc_180738);
                int16_t defunc_0_op_res_168733 = add16(defunc_0_f_res_178680, scanacc_180739);
                int16_t defunc_0_op_res_168734 = add16(defunc_0_f_res_178681, scanacc_180740);
                
                ((int16_t *) mem_181142)[i_180746] = defunc_0_op_res_168731;
                ((int16_t *) mem_181144)[i_180746] = defunc_0_op_res_168732;
                ((int16_t *) mem_181146)[i_180746] = defunc_0_op_res_168733;
                ((int16_t *) mem_181148)[i_180746] = defunc_0_op_res_168734;
                ((int16_t *) mem_181150)[i_180746] = i32_res_178676;
                
                int16_t scanacc_tmp_182468 = defunc_0_op_res_168731;
                int16_t scanacc_tmp_182469 = defunc_0_op_res_168732;
                int16_t scanacc_tmp_182470 = defunc_0_op_res_168733;
                int16_t scanacc_tmp_182471 = defunc_0_op_res_168734;
                
                scanacc_180737 = scanacc_tmp_182468;
                scanacc_180738 = scanacc_tmp_182469;
                scanacc_180739 = scanacc_tmp_182470;
                scanacc_180740 = scanacc_tmp_182471;
            }
            discard_180752 = scanacc_180737;
            discard_180753 = scanacc_180738;
            discard_180754 = scanacc_180739;
            discard_180755 = scanacc_180740;
            
            int16_t defunc_0_f_res_168735;
            int16_t defunc_0_f_res_168736;
            int16_t defunc_0_f_res_168737;
            int16_t defunc_0_f_res_168738;
            
            if (zzero_168539) {
                defunc_0_f_res_168735 = (int16_t) 0;
                defunc_0_f_res_168736 = (int16_t) 0;
                defunc_0_f_res_168737 = (int16_t) 0;
                defunc_0_f_res_168738 = (int16_t) 0;
            } else {
                int16_t last_res_168739 = ((int16_t *) mem_181142)[tmp_168581];
                int16_t last_res_168740 = ((int16_t *) mem_181144)[tmp_168581];
                int16_t last_res_168741 = ((int16_t *) mem_181146)[tmp_168581];
                int16_t last_res_168742 = ((int16_t *) mem_181148)[tmp_168581];
                
                defunc_0_f_res_168735 = last_res_168739;
                defunc_0_f_res_168736 = last_res_168740;
                defunc_0_f_res_168737 = last_res_168741;
                defunc_0_f_res_168738 = last_res_168742;
            }
            for (int64_t write_iter_180756 = 0; write_iter_180756 < i16_res_168538; write_iter_180756++) {
                int16_t write_iv_180759 = ((int16_t *) mem_181150)[write_iter_180756];
                int16_t write_iv_180760 = ((int16_t *) mem_181142)[write_iter_180756];
                int16_t write_iv_180761 = ((int16_t *) mem_181144)[write_iter_180756];
                int16_t write_iv_180762 = ((int16_t *) mem_181146)[write_iter_180756];
                int16_t write_iv_180763 = ((int16_t *) mem_181148)[write_iter_180756];
                int64_t new_index_180929 = write_iter_180756 + binop_x_180932;
                int32_t write_iv_180764 = ((int32_t *) mem_181035)[new_index_180929];
                int64_t write_iv_180765 = ((int64_t *) mem_181037)[new_index_180929];
                int64_t defunc_0_f_res_178649;
                
                if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178649, defunc_0_f_res_168735, defunc_0_f_res_168736, defunc_0_f_res_168737, write_iv_180759, write_iv_180760, write_iv_180761, write_iv_180762, write_iv_180763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178649) && slt64(defunc_0_f_res_178649, i16_res_168538)) {
                    ((int32_t *) mem_181111)[i_180780 * i16_res_168538 + defunc_0_f_res_178649] = write_iv_180764;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178649) && slt64(defunc_0_f_res_178649, i16_res_168538)) {
                    ((int64_t *) mem_181114)[i_180780 * i16_res_168538 + defunc_0_f_res_178649] = write_iv_180765;
                }
            }
            ((int16_t *) mem_181193)[(int64_t) 0] = defunc_0_f_res_168735;
            ((int16_t *) mem_181193)[(int64_t) 1] = defunc_0_f_res_168736;
            ((int16_t *) mem_181193)[(int64_t) 2] = defunc_0_f_res_168737;
            ((int16_t *) mem_181193)[(int64_t) 3] = defunc_0_f_res_168738;
            for (int64_t i_180770 = 0; i_180770 < (int64_t) 4; i_180770++) {
                int16_t eta_p_168757 = ((int16_t *) mem_181193)[i_180770];
                int64_t i16_res_168758 = sext_i16_i64(eta_p_168757);
                
                ((int64_t *) mem_181194)[i_180770] = i16_res_168758;
            }
            
            int16_t tmp_168759 = add16(defunc_0_f_res_168735, defunc_0_f_res_168736);
            int16_t tmp_168760 = add16(defunc_0_f_res_168737, tmp_168759);
            
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168735;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 2] = tmp_168759;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 3] = tmp_168760;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181117, i_180780 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180792;
        int64_t scanacc_180788 = (int64_t) 0;
        
        for (int64_t i_180790 = 0; i_180790 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553; i_180790++) {
            int64_t new_index_180907 = squot64(i_180790, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
            int64_t binop_y_180909 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 * new_index_180907;
            int64_t new_index_180910 = i_180790 - binop_y_180909;
            bool index_concat_cmp_180912 = sle64(n_blocks_168542, new_index_180910);
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180912) {
                int64_t index_concat_180914 = ((int64_t *) mem_181101)[new_index_180907];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t index_concat_180915 = ((int64_t *) mem_181117)[new_index_180910 * (int64_t) 4 + new_index_180907];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t defunc_0_op_res_168772 = add64(scanacc_180788, index_concat_branch_180916);
            
            ((int64_t *) mem_181219)[i_180790] = defunc_0_op_res_168772;
            
            int64_t scanacc_tmp_182480 = defunc_0_op_res_168772;
            
            scanacc_180788 = scanacc_tmp_182480;
        }
        discard_180792 = scanacc_180788;
        for (int64_t i_180795 = 0; i_180795 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553; i_180795++) {
            int64_t zv_lhs_168775 = add64((int64_t) -1, i_180795);
            int64_t tmp_168776 = smod64(zv_lhs_168775, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553);
            int64_t lifted_lambda_res_168777 = ((int64_t *) mem_181219)[tmp_168776];
            
            ((int64_t *) mem_181227)[i_180795] = lifted_lambda_res_168777;
        }
        ((int64_t *) mem_181227)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180797 = 0; write_iter_180797 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545; write_iter_180797++) {
            bool index_concat_cmp_180898 = sle64(arg_168544, write_iter_180797);
            int32_t index_concat_branch_178553;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_178748 = sub64(write_iter_180797, arg_168544);
                int32_t index_concat_178749 = ((int32_t *) mem_181087)[index_concat_i_178748];
                
                index_concat_branch_178553 = index_concat_178749;
            } else {
                int64_t new_index_178556 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_178557 = i16_res_168538 * new_index_178556;
                int64_t new_index_178558 = write_iter_180797 - binop_y_178557;
                int32_t index_concat_178559 = ((int32_t *) mem_181111)[new_index_178556 * i16_res_168538 + new_index_178558];
                
                index_concat_branch_178553 = index_concat_178559;
            }
            
            int32_t zlzb_rhs_178560;
            int32_t acc_178562 = 0;
            
            for (int32_t i_178561 = 0; i_178561 < 2; i_178561++) {
                int32_t get_bit_arg0_178563 = add32(blocked_radix_sort_step_arg1_168606, i_178561);
                int32_t zgzg_res_178564 = ashr32(index_concat_branch_178553, get_bit_arg0_178563);
                int32_t za_res_178565 = 1 & zgzg_res_178564;
                bool cond_178566 = get_bit_arg0_178563 == 31;
                int32_t defunc_0_get_bit_res_178567;
                
                if (cond_178566) {
                    int32_t defunc_0_get_bit_res_t_res_178750 = 1 ^ za_res_178565;
                    
                    defunc_0_get_bit_res_178567 = defunc_0_get_bit_res_t_res_178750;
                } else {
                    defunc_0_get_bit_res_178567 = za_res_178565;
                }
                
                int32_t zp_rhs_178569 = shl32(defunc_0_get_bit_res_178567, i_178561);
                int32_t loopres_178570 = add32(acc_178562, zp_rhs_178569);
                int32_t acc_tmp_182485 = loopres_178570;
                
                acc_178562 = acc_tmp_182485;
            }
            zlzb_rhs_178560 = acc_178562;
            
            int64_t i32_res_178571 = sext_i32_i64(zlzb_rhs_178560);
            int64_t block_idx_178572 = sdiv64(write_iter_180797, i16_res_168538);
            bool x_178573 = sle64((int64_t) 0, block_idx_178572);
            bool y_178574 = slt64(block_idx_178572, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
            bool bounds_check_178575 = x_178573 && y_178574;
            bool index_certs_178576;
            
            if (!bounds_check_178575) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178572, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178577 = sle64((int64_t) 0, i32_res_178571);
            bool y_178578 = slt64(i32_res_178571, (int64_t) 4);
            bool bounds_check_178579 = x_178577 && y_178578;
            bool index_certs_178580;
            
            if (!bounds_check_178579) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178571, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:19:3-44\n   #10 ftsort.fut:18:1-19:44\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int32_t index_concat_branch_180902;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180899 = sub64(write_iter_180797, arg_168544);
                int32_t index_concat_180900 = ((int32_t *) mem_181087)[index_concat_i_180899];
                
                index_concat_branch_180902 = index_concat_180900;
            } else {
                int64_t new_index_180924 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_180926 = i16_res_168538 * new_index_180924;
                int64_t new_index_180927 = write_iter_180797 - binop_y_180926;
                int32_t index_concat_180901 = ((int32_t *) mem_181111)[new_index_180924 * i16_res_168538 + new_index_180927];
                
                index_concat_branch_180902 = index_concat_180901;
            }
            
            int64_t index_concat_branch_180896;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180893 = sub64(write_iter_180797, arg_168544);
                int64_t index_concat_180894 = ((int64_t *) mem_181085)[index_concat_i_180893];
                
                index_concat_branch_180896 = index_concat_180894;
            } else {
                int64_t new_index_180920 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_180922 = i16_res_168538 * new_index_180920;
                int64_t new_index_180923 = write_iter_180797 - binop_y_180922;
                int64_t index_concat_180895 = ((int64_t *) mem_181114)[new_index_180920 * i16_res_168538 + new_index_180923];
                
                index_concat_branch_180896 = index_concat_180895;
            }
            
            int64_t binop_x_178581 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 * i32_res_178571;
            int64_t new_index_178582 = block_idx_178572 + binop_x_178581;
            int64_t new_offset_178583 = ((int64_t *) mem_181227)[new_index_178582];
            bool index_concat_cmp_178584 = sle64(n_blocks_168542, block_idx_178572);
            int16_t index_concat_branch_178585;
            
            if (index_concat_cmp_178584) {
                int16_t index_concat_178751 = ((int16_t *) mem_181108)[i32_res_178571];
                
                index_concat_branch_178585 = index_concat_178751;
            } else {
                int16_t index_concat_178587 = ((int16_t *) mem_181120)[block_idx_178572 * (int64_t) 4 + i32_res_178571];
                
                index_concat_branch_178585 = index_concat_178587;
            }
            
            int64_t i16_res_178588 = sext_i16_i64(index_concat_branch_178585);
            int64_t zp_lhs_178589 = mul64(i16_res_168538, block_idx_178572);
            int64_t old_offset_178590 = add64(i16_res_178588, zp_lhs_178589);
            int64_t zp_lhs_178591 = sub64(write_iter_180797, old_offset_178590);
            int64_t idx_178592 = add64(new_offset_178583, zp_lhs_178591);
            
            if (sle64((int64_t) 0, idx_178592) && slt64(idx_178592, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545)) {
                ((int32_t *) mem_181035)[idx_178592] = index_concat_branch_180902;
            }
            if (sle64((int64_t) 0, idx_178592) && slt64(idx_178592, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545)) {
                ((int64_t *) mem_181037)[idx_178592] = index_concat_branch_180896;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181253, bytes_181252, "mem_181253")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181255, bytes_181254, "mem_181255")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180809 = 0; i_180809 < n_88174; i_180809++) {
        int64_t eta_p_168837 = ((int64_t *) mem_181037)[i_180809];
        bool x_168838 = sle64((int64_t) 0, eta_p_168837);
        bool y_168839 = slt64(eta_p_168837, n_88174);
        bool bounds_check_168840 = x_168838 && y_168839;
        bool index_certs_168841;
        
        if (!bounds_check_168840) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168837, "] out of bounds for array of shape [", (long long) n_88174, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:165:93-96\n   #5  ftsort.fut:19:3-44\n   #6  ftsort.fut:18:1-19:44\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168842 = ((int64_t *) ext_mem_181033.mem)[eta_p_168837];
        int32_t lifted_lambda_res_168843 = ((int32_t *) xs_mem_181032.mem)[eta_p_168837];
        
        ((int64_t *) mem_181253.mem)[i_180809] = lifted_lambda_res_168842;
        ((int32_t *) mem_181255.mem)[i_180809] = lifted_lambda_res_168843;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181253, "mem_181253") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181255, "mem_181255") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183104, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183105, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        free(mem_181037);
        free(mem_181045);
        free(mem_181047);
        free(mem_181049);
        free(mem_181051);
        free(mem_181053);
        free(mem_181085);
        free(mem_181087);
        free(mem_181100);
        free(mem_181101);
        free(mem_181108);
        free(mem_181111);
        free(mem_181114);
        free(mem_181117);
        free(mem_181120);
        free(mem_181142);
        free(mem_181144);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181193);
        free(mem_181194);
        free(mem_181219);
        free(mem_181227);
        if (memblock_unref(ctx, &mem_181255, "mem_181255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181253, "mem_181253") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_long(struct futhark_context *ctx, struct memblock *mem_out_p_183131, struct memblock *mem_out_p_183132, struct memblock xs_mem_181032, int64_t n_90774, int64_t incr_90775, int16_t block_sizze_90776)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183133 = 0;
    unsigned char *mem_181035 = NULL;
    int64_t mem_181037_cached_sizze_183134 = 0;
    unsigned char *mem_181037 = NULL;
    int64_t mem_181045_cached_sizze_183135 = 0;
    unsigned char *mem_181045 = NULL;
    int64_t mem_181047_cached_sizze_183136 = 0;
    unsigned char *mem_181047 = NULL;
    int64_t mem_181049_cached_sizze_183137 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_183138 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_183139 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181085_cached_sizze_183140 = 0;
    unsigned char *mem_181085 = NULL;
    int64_t mem_181087_cached_sizze_183141 = 0;
    unsigned char *mem_181087 = NULL;
    int64_t mem_181100_cached_sizze_183142 = 0;
    unsigned char *mem_181100 = NULL;
    int64_t mem_181101_cached_sizze_183143 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181108_cached_sizze_183144 = 0;
    unsigned char *mem_181108 = NULL;
    int64_t mem_181111_cached_sizze_183145 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181114_cached_sizze_183146 = 0;
    unsigned char *mem_181114 = NULL;
    int64_t mem_181117_cached_sizze_183147 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_183148 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181142_cached_sizze_183149 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181144_cached_sizze_183150 = 0;
    unsigned char *mem_181144 = NULL;
    int64_t mem_181146_cached_sizze_183151 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183152 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183153 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181193_cached_sizze_183154 = 0;
    unsigned char *mem_181193 = NULL;
    int64_t mem_181194_cached_sizze_183155 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181219_cached_sizze_183156 = 0;
    unsigned char *mem_181219 = NULL;
    int64_t mem_181227_cached_sizze_183157 = 0;
    unsigned char *mem_181227 = NULL;
    struct memblock mem_181255;
    
    mem_181255.references = NULL;
    
    struct memblock mem_181253;
    
    mem_181253.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    bool cond_168536 = n_90774 == (int64_t) 0;
    int32_t iters_168537;
    
    if (cond_168536) {
        iters_168537 = 0;
    } else {
        iters_168537 = 32;
    }
    
    int64_t i16_res_168538 = sext_i16_i64(block_sizze_90776);
    bool zzero_168539 = i16_res_168538 == (int64_t) 0;
    bool nonzzero_168540 = !zzero_168539;
    bool nonzzero_cert_168541;
    
    if (!nonzzero_168540) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:165:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168542 = sdiv64(n_90774, i16_res_168538);
    int64_t rest_168543 = smod64(n_90774, i16_res_168538);
    int64_t arg_168544 = mul64(i16_res_168538, n_blocks_168542);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545 = add64(rest_168543, arg_168544);
    bool dim_match_168546 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545 == n_90774;
    bool empty_or_match_cert_168547;
    
    if (!dim_match_168546) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_90774, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:165:93-96\n   #6  ftsort.fut:22:3-45\n   #7  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181034 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545;
    bool loop_nonempty_168551 = slt32(0, iters_168537);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 = add64((int64_t) 1, n_blocks_168542);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
    bool empty_slice_168554 = arg_168544 == (int64_t) 0;
    int64_t m_168555 = sub64(arg_168544, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168556 = sle64((int64_t) 0, m_168555);
    bool i_p_m_t_s_leq_w_168557 = slt64(m_168555, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool i_lte_j_168558 = sle64((int64_t) 0, arg_168544);
    bool y_168559 = zzero_leq_i_p_m_t_s_168556 && i_p_m_t_s_leq_w_168557;
    bool forwards_ok_168560 = i_lte_j_168558 && y_168559;
    bool ok_or_empty_168561 = empty_slice_168554 || forwards_ok_168560;
    bool loop_not_taken_168562 = !loop_nonempty_168551;
    bool protect_assert_disj_168563 = ok_or_empty_168561 || loop_not_taken_168562;
    bool index_certs_168564;
    
    if (!protect_assert_disj_168563) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168544, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168565 = rest_168543 == (int64_t) 0;
    int64_t m_168566 = sub64(rest_168543, (int64_t) 1);
    int64_t i_p_m_t_s_168567 = add64(arg_168544, m_168566);
    bool zzero_leq_i_p_m_t_s_168568 = sle64((int64_t) 0, i_p_m_t_s_168567);
    bool i_p_m_t_s_leq_w_168569 = slt64(i_p_m_t_s_168567, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool i_lte_j_168570 = sle64(arg_168544, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool y_168571 = zzero_leq_i_p_m_t_s_168568 && i_p_m_t_s_leq_w_168569;
    bool forwards_ok_168572 = i_lte_j_168570 && y_168571;
    bool ok_or_empty_168573 = empty_slice_168565 || forwards_ok_168572;
    bool protect_assert_disj_168574 = loop_not_taken_168562 || ok_or_empty_168573;
    bool index_certs_168575;
    
    if (!protect_assert_disj_168574) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168544, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168576 = sle64((int64_t) 0, n_blocks_168542);
    bool binop_y_168577 = sle64((int64_t) 0, i16_res_168538);
    bool binop_y_168578 = binop_x_168576 && binop_y_168577;
    bool protect_assert_disj_168579 = loop_not_taken_168562 || binop_y_168578;
    bool dim_ok_cert_168580;
    
    if (!protect_assert_disj_168579) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168544, "] to array of shape [", (long long) n_blocks_168542, "][", (long long) i16_res_168538, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:22:3-45\n   #8  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168581 = sub64(i16_res_168538, (int64_t) 1);
    bool x_168582 = sle64((int64_t) 0, tmp_168581);
    bool y_168583 = slt64(tmp_168581, i16_res_168538);
    bool bounds_check_168584 = x_168582 && y_168583;
    bool protect_assert_disj_168585 = zzero_168539 || bounds_check_168584;
    bool protect_assert_disj_168586 = loop_not_taken_168562 || protect_assert_disj_168585;
    bool index_certs_168587;
    
    if (!protect_assert_disj_168586) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168581, "] out of bounds for array of shape [", (long long) i16_res_168538, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168589 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553);
    bool protect_assert_disj_168590 = loop_not_taken_168562 || y_168589;
    bool index_certs_168591;
    
    if (!protect_assert_disj_168590) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168593 = nonzzero_168540 || loop_not_taken_168562;
    bool nonzzero_cert_168594;
    
    if (!protect_assert_disj_168593) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168595 = sle64((int64_t) 0, m_168566);
    bool y_168596 = slt64(m_168566, rest_168543);
    bool bounds_check_168597 = x_168595 && y_168596;
    bool protect_assert_disj_168598 = empty_slice_168565 || bounds_check_168597;
    bool protect_assert_disj_168599 = loop_not_taken_168562 || protect_assert_disj_168598;
    bool index_certs_168600;
    
    if (!protect_assert_disj_168599) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168566, "] out of bounds for array of shape [", (long long) rest_168543, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181044 = (int64_t) 2 * rest_168543;
    int64_t bytes_181084 = (int64_t) 8 * rest_168543;
    int64_t binop_x_181109 = (int64_t) 8 * n_blocks_168542;
    int64_t bytes_181110 = i16_res_168538 * binop_x_181109;
    int64_t bytes_181116 = (int64_t) 32 * n_blocks_168542;
    int64_t bytes_181141 = (int64_t) 2 * i16_res_168538;
    int64_t bytes_181218 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552;
    bool dim_match_168832 = n_90774 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545;
    bool empty_or_match_cert_168833;
    
    if (!dim_match_168832) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "] cannot match shape of type `[", (long long) n_90774, "](i64, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:22:3-45\n   #9  ftsort.fut:21:1-22:45\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181252 = (int64_t) 8 * n_90774;
    
    if (futrts_indicesWithIncrement_9396(ctx, &ext_mem_181033, xs_mem_181032, n_90774, incr_90775) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181035_cached_sizze_183133 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183133, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_8b(ctx, 1, (uint64_t *) mem_181035, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) xs_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545});
    if (mem_181037_cached_sizze_183134 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181037, &mem_181037_cached_sizze_183134, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182448 = 0; i_182448 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545; i_182448++) {
        int64_t x_182449 = (int64_t) 0 + i_182448 * (int64_t) 1;
        
        ((int64_t *) mem_181037)[i_182448] = x_182449;
    }
    if (mem_181045_cached_sizze_183135 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181045, &mem_181045_cached_sizze_183135, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181047_cached_sizze_183136 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181047, &mem_181047_cached_sizze_183136, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181049_cached_sizze_183137 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_183137, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181051_cached_sizze_183138 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_183138, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181053_cached_sizze_183139 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_183139, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181085_cached_sizze_183140 < bytes_181084) {
        err = lexical_realloc(ctx, &mem_181085, &mem_181085_cached_sizze_183140, bytes_181084);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181087_cached_sizze_183141 < bytes_181084) {
        err = lexical_realloc(ctx, &mem_181087, &mem_181087_cached_sizze_183141, bytes_181084);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181100_cached_sizze_183142 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181100, &mem_181100_cached_sizze_183142, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181101_cached_sizze_183143 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_183143, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181108_cached_sizze_183144 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181108, &mem_181108_cached_sizze_183144, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181111_cached_sizze_183145 < bytes_181110) {
        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_183145, bytes_181110);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181114_cached_sizze_183146 < bytes_181110) {
        err = lexical_realloc(ctx, &mem_181114, &mem_181114_cached_sizze_183146, bytes_181110);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181117_cached_sizze_183147 < bytes_181116) {
        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_183147, bytes_181116);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183148 < binop_x_181109) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183148, binop_x_181109);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181142_cached_sizze_183149 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_183149, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181144_cached_sizze_183150 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181144, &mem_181144_cached_sizze_183150, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181146_cached_sizze_183151 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183151, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183152 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183152, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183153 < bytes_181141) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183153, bytes_181141);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181193_cached_sizze_183154 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181193, &mem_181193_cached_sizze_183154, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181194_cached_sizze_183155 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_183155, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181219_cached_sizze_183156 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181219, &mem_181219_cached_sizze_183156, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181227_cached_sizze_183157 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181227, &mem_181227_cached_sizze_183157, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168603 = 0; i_168603 < iters_168537; i_168603++) {
        int32_t blocked_radix_sort_step_arg1_168606 = mul32(2, i_168603);
        int32_t get_bit_arg0_168611 = add32(1, blocked_radix_sort_step_arg1_168606);
        bool cond_168612 = get_bit_arg0_168611 == 63;
        bool cond_168613 = blocked_radix_sort_step_arg1_168606 == 63;
        int16_t discard_180712;
        int16_t discard_180713;
        int16_t discard_180714;
        int16_t discard_180715;
        int16_t scanacc_180697;
        int16_t scanacc_180698;
        int16_t scanacc_180699;
        int16_t scanacc_180700;
        
        scanacc_180697 = (int16_t) 0;
        scanacc_180698 = (int16_t) 0;
        scanacc_180699 = (int16_t) 0;
        scanacc_180700 = (int16_t) 0;
        for (int64_t i_180706 = 0; i_180706 < rest_168543; i_180706++) {
            int64_t slice_180919 = arg_168544 + i_180706;
            int64_t eta_p_178617 = ((int64_t *) mem_181035)[slice_180919];
            int32_t defunc_0_get_bit_res_178618;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178618, get_bit_arg0_168611, eta_p_178617) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178619;
            
            if (cond_168612) {
                int32_t defunc_0_get_bit_res_t_res_178731 = 1 ^ defunc_0_get_bit_res_178618;
                
                defunc_0_get_bit_res_178619 = defunc_0_get_bit_res_t_res_178731;
            } else {
                defunc_0_get_bit_res_178619 = defunc_0_get_bit_res_178618;
            }
            
            int32_t zp_lhs_178621 = mul32(2, defunc_0_get_bit_res_178619);
            int32_t defunc_0_get_bit_res_178622;
            
            if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178622, blocked_radix_sort_step_arg1_168606, eta_p_178617) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178623;
            
            if (cond_168613) {
                int32_t defunc_0_get_bit_res_t_res_178732 = 1 ^ defunc_0_get_bit_res_178622;
                
                defunc_0_get_bit_res_178623 = defunc_0_get_bit_res_t_res_178732;
            } else {
                defunc_0_get_bit_res_178623 = defunc_0_get_bit_res_178622;
            }
            
            int32_t i32_arg0_178625 = add32(zp_lhs_178621, defunc_0_get_bit_res_178623);
            int16_t i32_res_178626 = sext_i32_i16(i32_arg0_178625);
            int16_t defunc_0_f_res_178628;
            int16_t defunc_0_f_res_178629;
            int16_t defunc_0_f_res_178630;
            int16_t defunc_0_f_res_178631;
            
            if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178628, &defunc_0_f_res_178629, &defunc_0_f_res_178630, &defunc_0_f_res_178631, i32_res_178626) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168650 = add16(defunc_0_f_res_178628, scanacc_180697);
            int16_t defunc_0_op_res_168651 = add16(defunc_0_f_res_178629, scanacc_180698);
            int16_t defunc_0_op_res_168652 = add16(defunc_0_f_res_178630, scanacc_180699);
            int16_t defunc_0_op_res_168653 = add16(defunc_0_f_res_178631, scanacc_180700);
            
            ((int16_t *) mem_181045)[i_180706] = defunc_0_op_res_168650;
            ((int16_t *) mem_181047)[i_180706] = defunc_0_op_res_168651;
            ((int16_t *) mem_181049)[i_180706] = defunc_0_op_res_168652;
            ((int16_t *) mem_181051)[i_180706] = defunc_0_op_res_168653;
            ((int16_t *) mem_181053)[i_180706] = i32_res_178626;
            
            int16_t scanacc_tmp_182452 = defunc_0_op_res_168650;
            int16_t scanacc_tmp_182453 = defunc_0_op_res_168651;
            int16_t scanacc_tmp_182454 = defunc_0_op_res_168652;
            int16_t scanacc_tmp_182455 = defunc_0_op_res_168653;
            
            scanacc_180697 = scanacc_tmp_182452;
            scanacc_180698 = scanacc_tmp_182453;
            scanacc_180699 = scanacc_tmp_182454;
            scanacc_180700 = scanacc_tmp_182455;
        }
        discard_180712 = scanacc_180697;
        discard_180713 = scanacc_180698;
        discard_180714 = scanacc_180699;
        discard_180715 = scanacc_180700;
        
        int16_t defunc_0_radix_sort_step_i16_res_168654;
        int16_t defunc_0_radix_sort_step_i16_res_168655;
        int16_t defunc_0_radix_sort_step_i16_res_168656;
        int16_t defunc_0_radix_sort_step_i16_res_168657;
        
        if (empty_slice_168565) {
            defunc_0_radix_sort_step_i16_res_168654 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168655 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168656 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168657 = (int16_t) 0;
        } else {
            int16_t last_res_168658 = ((int16_t *) mem_181045)[m_168566];
            int16_t last_res_168659 = ((int16_t *) mem_181047)[m_168566];
            int16_t last_res_168660 = ((int16_t *) mem_181049)[m_168566];
            int16_t last_res_168661 = ((int16_t *) mem_181051)[m_168566];
            
            defunc_0_radix_sort_step_i16_res_168654 = last_res_168658;
            defunc_0_radix_sort_step_i16_res_168655 = last_res_168659;
            defunc_0_radix_sort_step_i16_res_168656 = last_res_168660;
            defunc_0_radix_sort_step_i16_res_168657 = last_res_168661;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181085, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + (int64_t) 1 * arg_168544, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168543});
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181087, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181035, (int64_t) 0 + (int64_t) 1 * arg_168544, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168543});
        for (int64_t write_iter_180716 = 0; write_iter_180716 < rest_168543; write_iter_180716++) {
            int16_t write_iv_180719 = ((int16_t *) mem_181053)[write_iter_180716];
            int16_t write_iv_180720 = ((int16_t *) mem_181045)[write_iter_180716];
            int16_t write_iv_180721 = ((int16_t *) mem_181047)[write_iter_180716];
            int16_t write_iv_180722 = ((int16_t *) mem_181049)[write_iter_180716];
            int16_t write_iv_180723 = ((int16_t *) mem_181051)[write_iter_180716];
            int64_t slice_180918 = arg_168544 + write_iter_180716;
            int64_t write_iv_180724 = ((int64_t *) mem_181035)[slice_180918];
            int64_t write_iv_180725 = ((int64_t *) mem_181037)[slice_180918];
            int64_t defunc_0_f_res_178601;
            
            if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178601, defunc_0_radix_sort_step_i16_res_168654, defunc_0_radix_sort_step_i16_res_168655, defunc_0_radix_sort_step_i16_res_168656, write_iv_180719, write_iv_180720, write_iv_180721, write_iv_180722, write_iv_180723) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178601) && slt64(defunc_0_f_res_178601, rest_168543)) {
                ((int64_t *) mem_181087)[defunc_0_f_res_178601] = write_iv_180724;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178601) && slt64(defunc_0_f_res_178601, rest_168543)) {
                ((int64_t *) mem_181085)[defunc_0_f_res_178601] = write_iv_180725;
            }
        }
        ((int16_t *) mem_181100)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168654;
        ((int16_t *) mem_181100)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168655;
        ((int16_t *) mem_181100)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168656;
        ((int16_t *) mem_181100)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168657;
        for (int64_t i_180730 = 0; i_180730 < (int64_t) 4; i_180730++) {
            int16_t eta_p_168678 = ((int16_t *) mem_181100)[i_180730];
            int64_t i16_res_168679 = sext_i16_i64(eta_p_168678);
            
            ((int64_t *) mem_181101)[i_180730] = i16_res_168679;
        }
        
        int16_t tmp_168680 = add16(defunc_0_radix_sort_step_i16_res_168654, defunc_0_radix_sort_step_i16_res_168655);
        int16_t tmp_168681 = add16(defunc_0_radix_sort_step_i16_res_168656, tmp_168680);
        
        ((int16_t *) mem_181108)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181108)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168654;
        ((int16_t *) mem_181108)[(int64_t) 2] = tmp_168680;
        ((int16_t *) mem_181108)[(int64_t) 3] = tmp_168681;
        for (int64_t i_180780 = 0; i_180780 < n_blocks_168542; i_180780++) {
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181111, i_180780 * i16_res_168538, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181035, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_168538), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168538});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181114, i_180780 * i16_res_168538, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_168538), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168538});
            
            int64_t binop_x_180932 = i16_res_168538 * i_180780;
            int16_t discard_180752;
            int16_t discard_180753;
            int16_t discard_180754;
            int16_t discard_180755;
            int16_t scanacc_180737;
            int16_t scanacc_180738;
            int16_t scanacc_180739;
            int16_t scanacc_180740;
            
            scanacc_180737 = (int16_t) 0;
            scanacc_180738 = (int16_t) 0;
            scanacc_180739 = (int16_t) 0;
            scanacc_180740 = (int16_t) 0;
            for (int64_t i_180746 = 0; i_180746 < i16_res_168538; i_180746++) {
                int64_t new_index_180933 = i_180746 + binop_x_180932;
                int64_t eta_p_178662 = ((int64_t *) mem_181035)[new_index_180933];
                int32_t defunc_0_get_bit_res_178663;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178663, get_bit_arg0_168611, eta_p_178662) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178664;
                
                if (cond_168612) {
                    int32_t defunc_0_get_bit_res_t_res_178733 = 1 ^ defunc_0_get_bit_res_178663;
                    
                    defunc_0_get_bit_res_178664 = defunc_0_get_bit_res_t_res_178733;
                } else {
                    defunc_0_get_bit_res_178664 = defunc_0_get_bit_res_178663;
                }
                
                int32_t zp_lhs_178666 = mul32(2, defunc_0_get_bit_res_178664);
                int32_t defunc_0_get_bit_res_178667;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178667, blocked_radix_sort_step_arg1_168606, eta_p_178662) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178668;
                
                if (cond_168613) {
                    int32_t defunc_0_get_bit_res_t_res_178734 = 1 ^ defunc_0_get_bit_res_178667;
                    
                    defunc_0_get_bit_res_178668 = defunc_0_get_bit_res_t_res_178734;
                } else {
                    defunc_0_get_bit_res_178668 = defunc_0_get_bit_res_178667;
                }
                
                int32_t i32_arg0_178670 = add32(zp_lhs_178666, defunc_0_get_bit_res_178668);
                int16_t i32_res_178671 = sext_i32_i16(i32_arg0_178670);
                int16_t defunc_0_f_res_178673;
                int16_t defunc_0_f_res_178674;
                int16_t defunc_0_f_res_178675;
                int16_t defunc_0_f_res_178676;
                
                if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178673, &defunc_0_f_res_178674, &defunc_0_f_res_178675, &defunc_0_f_res_178676, i32_res_178671) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168731 = add16(defunc_0_f_res_178673, scanacc_180737);
                int16_t defunc_0_op_res_168732 = add16(defunc_0_f_res_178674, scanacc_180738);
                int16_t defunc_0_op_res_168733 = add16(defunc_0_f_res_178675, scanacc_180739);
                int16_t defunc_0_op_res_168734 = add16(defunc_0_f_res_178676, scanacc_180740);
                
                ((int16_t *) mem_181142)[i_180746] = defunc_0_op_res_168731;
                ((int16_t *) mem_181144)[i_180746] = defunc_0_op_res_168732;
                ((int16_t *) mem_181146)[i_180746] = defunc_0_op_res_168733;
                ((int16_t *) mem_181148)[i_180746] = defunc_0_op_res_168734;
                ((int16_t *) mem_181150)[i_180746] = i32_res_178671;
                
                int16_t scanacc_tmp_182468 = defunc_0_op_res_168731;
                int16_t scanacc_tmp_182469 = defunc_0_op_res_168732;
                int16_t scanacc_tmp_182470 = defunc_0_op_res_168733;
                int16_t scanacc_tmp_182471 = defunc_0_op_res_168734;
                
                scanacc_180737 = scanacc_tmp_182468;
                scanacc_180738 = scanacc_tmp_182469;
                scanacc_180739 = scanacc_tmp_182470;
                scanacc_180740 = scanacc_tmp_182471;
            }
            discard_180752 = scanacc_180737;
            discard_180753 = scanacc_180738;
            discard_180754 = scanacc_180739;
            discard_180755 = scanacc_180740;
            
            int16_t defunc_0_f_res_168735;
            int16_t defunc_0_f_res_168736;
            int16_t defunc_0_f_res_168737;
            int16_t defunc_0_f_res_168738;
            
            if (zzero_168539) {
                defunc_0_f_res_168735 = (int16_t) 0;
                defunc_0_f_res_168736 = (int16_t) 0;
                defunc_0_f_res_168737 = (int16_t) 0;
                defunc_0_f_res_168738 = (int16_t) 0;
            } else {
                int16_t last_res_168739 = ((int16_t *) mem_181142)[tmp_168581];
                int16_t last_res_168740 = ((int16_t *) mem_181144)[tmp_168581];
                int16_t last_res_168741 = ((int16_t *) mem_181146)[tmp_168581];
                int16_t last_res_168742 = ((int16_t *) mem_181148)[tmp_168581];
                
                defunc_0_f_res_168735 = last_res_168739;
                defunc_0_f_res_168736 = last_res_168740;
                defunc_0_f_res_168737 = last_res_168741;
                defunc_0_f_res_168738 = last_res_168742;
            }
            for (int64_t write_iter_180756 = 0; write_iter_180756 < i16_res_168538; write_iter_180756++) {
                int16_t write_iv_180759 = ((int16_t *) mem_181150)[write_iter_180756];
                int16_t write_iv_180760 = ((int16_t *) mem_181142)[write_iter_180756];
                int16_t write_iv_180761 = ((int16_t *) mem_181144)[write_iter_180756];
                int16_t write_iv_180762 = ((int16_t *) mem_181146)[write_iter_180756];
                int16_t write_iv_180763 = ((int16_t *) mem_181148)[write_iter_180756];
                int64_t new_index_180929 = write_iter_180756 + binop_x_180932;
                int64_t write_iv_180764 = ((int64_t *) mem_181035)[new_index_180929];
                int64_t write_iv_180765 = ((int64_t *) mem_181037)[new_index_180929];
                int64_t defunc_0_f_res_178646;
                
                if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178646, defunc_0_f_res_168735, defunc_0_f_res_168736, defunc_0_f_res_168737, write_iv_180759, write_iv_180760, write_iv_180761, write_iv_180762, write_iv_180763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178646) && slt64(defunc_0_f_res_178646, i16_res_168538)) {
                    ((int64_t *) mem_181111)[i_180780 * i16_res_168538 + defunc_0_f_res_178646] = write_iv_180764;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178646) && slt64(defunc_0_f_res_178646, i16_res_168538)) {
                    ((int64_t *) mem_181114)[i_180780 * i16_res_168538 + defunc_0_f_res_178646] = write_iv_180765;
                }
            }
            ((int16_t *) mem_181193)[(int64_t) 0] = defunc_0_f_res_168735;
            ((int16_t *) mem_181193)[(int64_t) 1] = defunc_0_f_res_168736;
            ((int16_t *) mem_181193)[(int64_t) 2] = defunc_0_f_res_168737;
            ((int16_t *) mem_181193)[(int64_t) 3] = defunc_0_f_res_168738;
            for (int64_t i_180770 = 0; i_180770 < (int64_t) 4; i_180770++) {
                int16_t eta_p_168757 = ((int16_t *) mem_181193)[i_180770];
                int64_t i16_res_168758 = sext_i16_i64(eta_p_168757);
                
                ((int64_t *) mem_181194)[i_180770] = i16_res_168758;
            }
            
            int16_t tmp_168759 = add16(defunc_0_f_res_168735, defunc_0_f_res_168736);
            int16_t tmp_168760 = add16(defunc_0_f_res_168737, tmp_168759);
            
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168735;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 2] = tmp_168759;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 3] = tmp_168760;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181117, i_180780 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180792;
        int64_t scanacc_180788 = (int64_t) 0;
        
        for (int64_t i_180790 = 0; i_180790 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553; i_180790++) {
            int64_t new_index_180907 = squot64(i_180790, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
            int64_t binop_y_180909 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 * new_index_180907;
            int64_t new_index_180910 = i_180790 - binop_y_180909;
            bool index_concat_cmp_180912 = sle64(n_blocks_168542, new_index_180910);
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180912) {
                int64_t index_concat_180914 = ((int64_t *) mem_181101)[new_index_180907];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t index_concat_180915 = ((int64_t *) mem_181117)[new_index_180910 * (int64_t) 4 + new_index_180907];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t defunc_0_op_res_168772 = add64(scanacc_180788, index_concat_branch_180916);
            
            ((int64_t *) mem_181219)[i_180790] = defunc_0_op_res_168772;
            
            int64_t scanacc_tmp_182480 = defunc_0_op_res_168772;
            
            scanacc_180788 = scanacc_tmp_182480;
        }
        discard_180792 = scanacc_180788;
        for (int64_t i_180795 = 0; i_180795 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553; i_180795++) {
            int64_t zv_lhs_168775 = add64((int64_t) -1, i_180795);
            int64_t tmp_168776 = smod64(zv_lhs_168775, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553);
            int64_t lifted_lambda_res_168777 = ((int64_t *) mem_181219)[tmp_168776];
            
            ((int64_t *) mem_181227)[i_180795] = lifted_lambda_res_168777;
        }
        ((int64_t *) mem_181227)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180797 = 0; write_iter_180797 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545; write_iter_180797++) {
            bool index_concat_cmp_180898 = sle64(arg_168544, write_iter_180797);
            int64_t index_concat_branch_178553;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_178743 = sub64(write_iter_180797, arg_168544);
                int64_t index_concat_178744 = ((int64_t *) mem_181087)[index_concat_i_178743];
                
                index_concat_branch_178553 = index_concat_178744;
            } else {
                int64_t new_index_178556 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_178557 = i16_res_168538 * new_index_178556;
                int64_t new_index_178558 = write_iter_180797 - binop_y_178557;
                int64_t index_concat_178559 = ((int64_t *) mem_181111)[new_index_178556 * i16_res_168538 + new_index_178558];
                
                index_concat_branch_178553 = index_concat_178559;
            }
            
            int32_t zlzb_rhs_178560;
            int32_t acc_178562 = 0;
            
            for (int32_t i_178561 = 0; i_178561 < 2; i_178561++) {
                int32_t get_bit_arg0_178563 = add32(blocked_radix_sort_step_arg1_168606, i_178561);
                int32_t defunc_0_get_bit_res_178564;
                
                if (futrts_get_bit_2253(ctx, &defunc_0_get_bit_res_178564, get_bit_arg0_178563, index_concat_branch_178553) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_178565 = get_bit_arg0_178563 == 63;
                int32_t defunc_0_get_bit_res_178566;
                
                if (cond_178565) {
                    int32_t defunc_0_get_bit_res_t_res_178745 = 1 ^ defunc_0_get_bit_res_178564;
                    
                    defunc_0_get_bit_res_178566 = defunc_0_get_bit_res_t_res_178745;
                } else {
                    defunc_0_get_bit_res_178566 = defunc_0_get_bit_res_178564;
                }
                
                int32_t zp_rhs_178568 = shl32(defunc_0_get_bit_res_178566, i_178561);
                int32_t loopres_178569 = add32(acc_178562, zp_rhs_178568);
                int32_t acc_tmp_182485 = loopres_178569;
                
                acc_178562 = acc_tmp_182485;
            }
            zlzb_rhs_178560 = acc_178562;
            
            int64_t i32_res_178570 = sext_i32_i64(zlzb_rhs_178560);
            int64_t block_idx_178571 = sdiv64(write_iter_180797, i16_res_168538);
            bool x_178572 = sle64((int64_t) 0, block_idx_178571);
            bool y_178573 = slt64(block_idx_178571, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
            bool bounds_check_178574 = x_178572 && y_178573;
            bool index_certs_178575;
            
            if (!bounds_check_178574) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178571, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178576 = sle64((int64_t) 0, i32_res_178570);
            bool y_178577 = slt64(i32_res_178570, (int64_t) 4);
            bool bounds_check_178578 = x_178576 && y_178577;
            bool index_certs_178579;
            
            if (!bounds_check_178578) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178570, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:22:3-45\n   #10 ftsort.fut:21:1-22:45\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int64_t index_concat_branch_180902;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180899 = sub64(write_iter_180797, arg_168544);
                int64_t index_concat_180900 = ((int64_t *) mem_181087)[index_concat_i_180899];
                
                index_concat_branch_180902 = index_concat_180900;
            } else {
                int64_t new_index_180924 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_180926 = i16_res_168538 * new_index_180924;
                int64_t new_index_180927 = write_iter_180797 - binop_y_180926;
                int64_t index_concat_180901 = ((int64_t *) mem_181111)[new_index_180924 * i16_res_168538 + new_index_180927];
                
                index_concat_branch_180902 = index_concat_180901;
            }
            
            int64_t index_concat_branch_180896;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180893 = sub64(write_iter_180797, arg_168544);
                int64_t index_concat_180894 = ((int64_t *) mem_181085)[index_concat_i_180893];
                
                index_concat_branch_180896 = index_concat_180894;
            } else {
                int64_t new_index_180920 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_180922 = i16_res_168538 * new_index_180920;
                int64_t new_index_180923 = write_iter_180797 - binop_y_180922;
                int64_t index_concat_180895 = ((int64_t *) mem_181114)[new_index_180920 * i16_res_168538 + new_index_180923];
                
                index_concat_branch_180896 = index_concat_180895;
            }
            
            int64_t binop_x_178580 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 * i32_res_178570;
            int64_t new_index_178581 = block_idx_178571 + binop_x_178580;
            int64_t new_offset_178582 = ((int64_t *) mem_181227)[new_index_178581];
            bool index_concat_cmp_178583 = sle64(n_blocks_168542, block_idx_178571);
            int16_t index_concat_branch_178584;
            
            if (index_concat_cmp_178583) {
                int16_t index_concat_178746 = ((int16_t *) mem_181108)[i32_res_178570];
                
                index_concat_branch_178584 = index_concat_178746;
            } else {
                int16_t index_concat_178586 = ((int16_t *) mem_181120)[block_idx_178571 * (int64_t) 4 + i32_res_178570];
                
                index_concat_branch_178584 = index_concat_178586;
            }
            
            int64_t i16_res_178587 = sext_i16_i64(index_concat_branch_178584);
            int64_t zp_lhs_178588 = mul64(i16_res_168538, block_idx_178571);
            int64_t old_offset_178589 = add64(i16_res_178587, zp_lhs_178588);
            int64_t zp_lhs_178590 = sub64(write_iter_180797, old_offset_178589);
            int64_t idx_178591 = add64(new_offset_178582, zp_lhs_178590);
            
            if (sle64((int64_t) 0, idx_178591) && slt64(idx_178591, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545)) {
                ((int64_t *) mem_181035)[idx_178591] = index_concat_branch_180902;
            }
            if (sle64((int64_t) 0, idx_178591) && slt64(idx_178591, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545)) {
                ((int64_t *) mem_181037)[idx_178591] = index_concat_branch_180896;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181253, bytes_181252, "mem_181253")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181255, bytes_181252, "mem_181255")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180809 = 0; i_180809 < n_90774; i_180809++) {
        int64_t eta_p_168837 = ((int64_t *) mem_181037)[i_180809];
        bool x_168838 = sle64((int64_t) 0, eta_p_168837);
        bool y_168839 = slt64(eta_p_168837, n_90774);
        bool bounds_check_168840 = x_168838 && y_168839;
        bool index_certs_168841;
        
        if (!bounds_check_168840) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168837, "] out of bounds for array of shape [", (long long) n_90774, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:165:93-96\n   #5  ftsort.fut:22:3-45\n   #6  ftsort.fut:21:1-22:45\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168842 = ((int64_t *) ext_mem_181033.mem)[eta_p_168837];
        int64_t lifted_lambda_res_168843 = ((int64_t *) xs_mem_181032.mem)[eta_p_168837];
        
        ((int64_t *) mem_181253.mem)[i_180809] = lifted_lambda_res_168842;
        ((int64_t *) mem_181255.mem)[i_180809] = lifted_lambda_res_168843;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181253, "mem_181253") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181255, "mem_181255") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183131, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183132, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        free(mem_181037);
        free(mem_181045);
        free(mem_181047);
        free(mem_181049);
        free(mem_181051);
        free(mem_181053);
        free(mem_181085);
        free(mem_181087);
        free(mem_181100);
        free(mem_181101);
        free(mem_181108);
        free(mem_181111);
        free(mem_181114);
        free(mem_181117);
        free(mem_181120);
        free(mem_181142);
        free(mem_181144);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181193);
        free(mem_181194);
        free(mem_181219);
        free(mem_181227);
        if (memblock_unref(ctx, &mem_181255, "mem_181255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181253, "mem_181253") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_entry_radixSortColumn_short(struct futhark_context *ctx, struct memblock *mem_out_p_183158, struct memblock *mem_out_p_183159, struct memblock xs_mem_181032, int64_t n_85557, int64_t incr_85558, int16_t block_sizze_85559)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_181035_cached_sizze_183160 = 0;
    unsigned char *mem_181035 = NULL;
    int64_t mem_181037_cached_sizze_183161 = 0;
    unsigned char *mem_181037 = NULL;
    int64_t mem_181045_cached_sizze_183162 = 0;
    unsigned char *mem_181045 = NULL;
    int64_t mem_181047_cached_sizze_183163 = 0;
    unsigned char *mem_181047 = NULL;
    int64_t mem_181049_cached_sizze_183164 = 0;
    unsigned char *mem_181049 = NULL;
    int64_t mem_181051_cached_sizze_183165 = 0;
    unsigned char *mem_181051 = NULL;
    int64_t mem_181053_cached_sizze_183166 = 0;
    unsigned char *mem_181053 = NULL;
    int64_t mem_181085_cached_sizze_183167 = 0;
    unsigned char *mem_181085 = NULL;
    int64_t mem_181087_cached_sizze_183168 = 0;
    unsigned char *mem_181087 = NULL;
    int64_t mem_181100_cached_sizze_183169 = 0;
    unsigned char *mem_181100 = NULL;
    int64_t mem_181101_cached_sizze_183170 = 0;
    unsigned char *mem_181101 = NULL;
    int64_t mem_181108_cached_sizze_183171 = 0;
    unsigned char *mem_181108 = NULL;
    int64_t mem_181111_cached_sizze_183172 = 0;
    unsigned char *mem_181111 = NULL;
    int64_t mem_181114_cached_sizze_183173 = 0;
    unsigned char *mem_181114 = NULL;
    int64_t mem_181117_cached_sizze_183174 = 0;
    unsigned char *mem_181117 = NULL;
    int64_t mem_181120_cached_sizze_183175 = 0;
    unsigned char *mem_181120 = NULL;
    int64_t mem_181142_cached_sizze_183176 = 0;
    unsigned char *mem_181142 = NULL;
    int64_t mem_181144_cached_sizze_183177 = 0;
    unsigned char *mem_181144 = NULL;
    int64_t mem_181146_cached_sizze_183178 = 0;
    unsigned char *mem_181146 = NULL;
    int64_t mem_181148_cached_sizze_183179 = 0;
    unsigned char *mem_181148 = NULL;
    int64_t mem_181150_cached_sizze_183180 = 0;
    unsigned char *mem_181150 = NULL;
    int64_t mem_181193_cached_sizze_183181 = 0;
    unsigned char *mem_181193 = NULL;
    int64_t mem_181194_cached_sizze_183182 = 0;
    unsigned char *mem_181194 = NULL;
    int64_t mem_181219_cached_sizze_183183 = 0;
    unsigned char *mem_181219 = NULL;
    int64_t mem_181227_cached_sizze_183184 = 0;
    unsigned char *mem_181227 = NULL;
    struct memblock mem_181255;
    
    mem_181255.references = NULL;
    
    struct memblock mem_181253;
    
    mem_181253.references = NULL;
    
    struct memblock ext_mem_181033;
    
    ext_mem_181033.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    bool cond_168536 = n_85557 == (int64_t) 0;
    int32_t iters_168537;
    
    if (cond_168536) {
        iters_168537 = 0;
    } else {
        iters_168537 = 8;
    }
    
    int64_t i16_res_168538 = sext_i16_i64(block_sizze_85559);
    bool zzero_168539 = i16_res_168538 == (int64_t) 0;
    bool nonzzero_168540 = !zzero_168539;
    bool nonzzero_cert_168541;
    
    if (!nonzzero_168540) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:222:20-27\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:165:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t n_blocks_168542 = sdiv64(n_85557, i16_res_168538);
    int64_t rest_168543 = smod64(n_85557, i16_res_168538);
    int64_t arg_168544 = mul64(i16_res_168538, n_blocks_168542);
    int64_t dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545 = add64(rest_168543, arg_168544);
    bool dim_match_168546 = dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545 == n_85557;
    bool empty_or_match_cert_168547;
    
    if (!dim_match_168546) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) n_85557, "] cannot match shape of type `[", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:224:12-46\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #3  /prelude/functional.fut:9:44-45\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #5  ftbasics.fut:165:93-96\n   #6  ftsort.fut:16:3-46\n   #7  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181034 = (int64_t) 2 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545;
    int64_t bytes_181036 = (int64_t) 8 * dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545;
    bool loop_nonempty_168551 = slt32(0, iters_168537);
    int64_t dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 = add64((int64_t) 1, n_blocks_168542);
    int64_t dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553 = mul64((int64_t) 4, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
    bool empty_slice_168554 = arg_168544 == (int64_t) 0;
    int64_t m_168555 = sub64(arg_168544, (int64_t) 1);
    bool zzero_leq_i_p_m_t_s_168556 = sle64((int64_t) 0, m_168555);
    bool i_p_m_t_s_leq_w_168557 = slt64(m_168555, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool i_lte_j_168558 = sle64((int64_t) 0, arg_168544);
    bool y_168559 = zzero_leq_i_p_m_t_s_168556 && i_p_m_t_s_leq_w_168557;
    bool forwards_ok_168560 = i_lte_j_168558 && y_168559;
    bool ok_or_empty_168561 = empty_slice_168554 || forwards_ok_168560;
    bool loop_not_taken_168562 = !loop_nonempty_168551;
    bool protect_assert_disj_168563 = ok_or_empty_168561 || loop_not_taken_168562;
    bool index_certs_168564;
    
    if (!protect_assert_disj_168563) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, ":", (long long) arg_168544, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "].", "-> #0  /prelude/array.fut:65:4-11\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool empty_slice_168565 = rest_168543 == (int64_t) 0;
    int64_t m_168566 = sub64(rest_168543, (int64_t) 1);
    int64_t i_p_m_t_s_168567 = add64(arg_168544, m_168566);
    bool zzero_leq_i_p_m_t_s_168568 = sle64((int64_t) 0, i_p_m_t_s_168567);
    bool i_p_m_t_s_leq_w_168569 = slt64(i_p_m_t_s_168567, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool i_lte_j_168570 = sle64(arg_168544, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545);
    bool y_168571 = zzero_leq_i_p_m_t_s_168568 && i_p_m_t_s_leq_w_168569;
    bool forwards_ok_168572 = i_lte_j_168570 && y_168571;
    bool ok_or_empty_168573 = empty_slice_168565 || forwards_ok_168572;
    bool protect_assert_disj_168574 = loop_not_taken_168562 || ok_or_empty_168573;
    bool index_certs_168575;
    
    if (!protect_assert_disj_168574) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) arg_168544, ":", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "].", "-> #0  /prelude/array.fut:65:13-24\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-164:32\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool binop_x_168576 = sle64((int64_t) 0, n_blocks_168542);
    bool binop_y_168577 = sle64((int64_t) 0, i16_res_168538);
    bool binop_y_168578 = binop_x_168576 && binop_y_168577;
    bool protect_assert_disj_168579 = loop_not_taken_168562 || binop_y_168578;
    bool dim_ok_cert_168580;
    
    if (!protect_assert_disj_168579) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s%lld%s\n\nBacktrace:\n%s", "Cannot unflatten array of shape [", (long long) arg_168544, "] to array of shape [", (long long) n_blocks_168542, "][", (long long) i16_res_168538, "]", "-> #0  /prelude/array.fut:184:3-30\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:163:34-168:21\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #4  /prelude/functional.fut:9:44-45\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #6  ftbasics.fut:165:93-96\n   #7  ftsort.fut:16:3-46\n   #8  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t tmp_168581 = sub64(i16_res_168538, (int64_t) 1);
    bool x_168582 = sle64((int64_t) 0, tmp_168581);
    bool y_168583 = slt64(tmp_168581, i16_res_168538);
    bool bounds_check_168584 = x_168582 && y_168583;
    bool protect_assert_disj_168585 = zzero_168539 || bounds_check_168584;
    bool protect_assert_disj_168586 = loop_not_taken_168562 || protect_assert_disj_168585;
    bool index_certs_168587;
    
    if (!protect_assert_disj_168586) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) tmp_168581, "] out of bounds for array of shape [", (long long) i16_res_168538, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  /prelude/functional.fut:9:44-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool y_168589 = slt64((int64_t) 0, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553);
    bool protect_assert_disj_168590 = loop_not_taken_168562 || y_168589;
    bool index_certs_168591;
    
    if (!protect_assert_disj_168590) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) (int64_t) 0, "] out of bounds for array of shape [", (long long) dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:122:3-123:7\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:178:8-20\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool protect_assert_disj_168593 = nonzzero_168540 || loop_not_taken_168562;
    bool nonzzero_cert_168594;
    
    if (!protect_assert_disj_168593) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:186:27-30\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool x_168595 = sle64((int64_t) 0, m_168566);
    bool y_168596 = slt64(m_168566, rest_168543);
    bool bounds_check_168597 = x_168595 && y_168596;
    bool protect_assert_disj_168598 = empty_slice_168565 || bounds_check_168597;
    bool protect_assert_disj_168599 = loop_not_taken_168562 || protect_assert_disj_168598;
    bool index_certs_168600;
    
    if (!protect_assert_disj_168599) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) m_168566, "] out of bounds for array of shape [", (long long) rest_168543, "].", "-> #0  /prelude/array.fut:28:29-37\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:149:53-65\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:166:41-45\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181044 = (int64_t) 2 * rest_168543;
    int64_t bytes_181084 = (int64_t) 8 * rest_168543;
    int64_t binop_x_181109 = (int64_t) 2 * n_blocks_168542;
    int64_t bytes_181110 = i16_res_168538 * binop_x_181109;
    int64_t binop_x_181112 = (int64_t) 8 * n_blocks_168542;
    int64_t bytes_181113 = i16_res_168538 * binop_x_181112;
    int64_t bytes_181116 = (int64_t) 32 * n_blocks_168542;
    int64_t bytes_181137 = (int64_t) 2 * i16_res_168538;
    int64_t bytes_181218 = (int64_t) 32 * dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552;
    bool dim_match_168832 = n_85557 == dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545;
    bool empty_or_match_cert_168833;
    
    if (!dim_match_168832) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Value of (desugared) shape [", (long long) dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545, "] cannot match shape of type `[", (long long) n_85557, "](i16, i64)`.", "-> #0  /prelude/array.fut:58:47-57\n   #1  lib/github.com/diku-dk/sorts/radix_sort.fut:225:6-11\n   #2  /prelude/functional.fut:26:41-42\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:226:6-227:50\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #5  /prelude/functional.fut:9:44-45\n   #6  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #7  ftbasics.fut:165:93-96\n   #8  ftsort.fut:16:3-46\n   #9  ftsort.fut:15:1-16:46\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181252 = (int64_t) 8 * n_85557;
    int64_t bytes_181254 = (int64_t) 2 * n_85557;
    
    if (futrts_indicesWithIncrement_9131(ctx, &ext_mem_181033, xs_mem_181032, n_85557, incr_85558) != 0) {
        err = 1;
        goto cleanup;
    }
    if (mem_181035_cached_sizze_183160 < bytes_181034) {
        err = lexical_realloc(ctx, &mem_181035, &mem_181035_cached_sizze_183160, bytes_181034);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    lmad_copy_2b(ctx, 1, (uint16_t *) mem_181035, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) xs_mem_181032.mem, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545});
    if (mem_181037_cached_sizze_183161 < bytes_181036) {
        err = lexical_realloc(ctx, &mem_181037, &mem_181037_cached_sizze_183161, bytes_181036);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int64_t i_182448 = 0; i_182448 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545; i_182448++) {
        int64_t x_182449 = (int64_t) 0 + i_182448 * (int64_t) 1;
        
        ((int64_t *) mem_181037)[i_182448] = x_182449;
    }
    if (mem_181045_cached_sizze_183162 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181045, &mem_181045_cached_sizze_183162, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181047_cached_sizze_183163 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181047, &mem_181047_cached_sizze_183163, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181049_cached_sizze_183164 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181049, &mem_181049_cached_sizze_183164, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181051_cached_sizze_183165 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181051, &mem_181051_cached_sizze_183165, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181053_cached_sizze_183166 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181053, &mem_181053_cached_sizze_183166, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181085_cached_sizze_183167 < bytes_181084) {
        err = lexical_realloc(ctx, &mem_181085, &mem_181085_cached_sizze_183167, bytes_181084);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181087_cached_sizze_183168 < bytes_181044) {
        err = lexical_realloc(ctx, &mem_181087, &mem_181087_cached_sizze_183168, bytes_181044);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181100_cached_sizze_183169 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181100, &mem_181100_cached_sizze_183169, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181101_cached_sizze_183170 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181101, &mem_181101_cached_sizze_183170, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181108_cached_sizze_183171 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181108, &mem_181108_cached_sizze_183171, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181111_cached_sizze_183172 < bytes_181110) {
        err = lexical_realloc(ctx, &mem_181111, &mem_181111_cached_sizze_183172, bytes_181110);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181114_cached_sizze_183173 < bytes_181113) {
        err = lexical_realloc(ctx, &mem_181114, &mem_181114_cached_sizze_183173, bytes_181113);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181117_cached_sizze_183174 < bytes_181116) {
        err = lexical_realloc(ctx, &mem_181117, &mem_181117_cached_sizze_183174, bytes_181116);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181120_cached_sizze_183175 < binop_x_181112) {
        err = lexical_realloc(ctx, &mem_181120, &mem_181120_cached_sizze_183175, binop_x_181112);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181142_cached_sizze_183176 < bytes_181137) {
        err = lexical_realloc(ctx, &mem_181142, &mem_181142_cached_sizze_183176, bytes_181137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181144_cached_sizze_183177 < bytes_181137) {
        err = lexical_realloc(ctx, &mem_181144, &mem_181144_cached_sizze_183177, bytes_181137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181146_cached_sizze_183178 < bytes_181137) {
        err = lexical_realloc(ctx, &mem_181146, &mem_181146_cached_sizze_183178, bytes_181137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181148_cached_sizze_183179 < bytes_181137) {
        err = lexical_realloc(ctx, &mem_181148, &mem_181148_cached_sizze_183179, bytes_181137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181150_cached_sizze_183180 < bytes_181137) {
        err = lexical_realloc(ctx, &mem_181150, &mem_181150_cached_sizze_183180, bytes_181137);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181193_cached_sizze_183181 < (int64_t) 8) {
        err = lexical_realloc(ctx, &mem_181193, &mem_181193_cached_sizze_183181, (int64_t) 8);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181194_cached_sizze_183182 < (int64_t) 32) {
        err = lexical_realloc(ctx, &mem_181194, &mem_181194_cached_sizze_183182, (int64_t) 32);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181219_cached_sizze_183183 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181219, &mem_181219_cached_sizze_183183, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_181227_cached_sizze_183184 < bytes_181218) {
        err = lexical_realloc(ctx, &mem_181227, &mem_181227_cached_sizze_183184, bytes_181218);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    for (int32_t i_168603 = 0; i_168603 < iters_168537; i_168603++) {
        int32_t blocked_radix_sort_step_arg1_168606 = mul32(2, i_168603);
        int32_t get_bit_arg0_168611 = add32(1, blocked_radix_sort_step_arg1_168606);
        bool cond_168612 = get_bit_arg0_168611 == 15;
        bool cond_168613 = blocked_radix_sort_step_arg1_168606 == 15;
        int16_t discard_180712;
        int16_t discard_180713;
        int16_t discard_180714;
        int16_t discard_180715;
        int16_t scanacc_180697;
        int16_t scanacc_180698;
        int16_t scanacc_180699;
        int16_t scanacc_180700;
        
        scanacc_180697 = (int16_t) 0;
        scanacc_180698 = (int16_t) 0;
        scanacc_180699 = (int16_t) 0;
        scanacc_180700 = (int16_t) 0;
        for (int64_t i_180706 = 0; i_180706 < rest_168543; i_180706++) {
            int64_t slice_180919 = arg_168544 + i_180706;
            int16_t eta_p_178617 = ((int16_t *) mem_181035)[slice_180919];
            int32_t defunc_0_get_bit_res_178618;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178618, get_bit_arg0_168611, eta_p_178617) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178619;
            
            if (cond_168612) {
                int32_t defunc_0_get_bit_res_t_res_178731 = 1 ^ defunc_0_get_bit_res_178618;
                
                defunc_0_get_bit_res_178619 = defunc_0_get_bit_res_t_res_178731;
            } else {
                defunc_0_get_bit_res_178619 = defunc_0_get_bit_res_178618;
            }
            
            int32_t zp_lhs_178621 = mul32(2, defunc_0_get_bit_res_178619);
            int32_t defunc_0_get_bit_res_178622;
            
            if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178622, blocked_radix_sort_step_arg1_168606, eta_p_178617) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int32_t defunc_0_get_bit_res_178623;
            
            if (cond_168613) {
                int32_t defunc_0_get_bit_res_t_res_178732 = 1 ^ defunc_0_get_bit_res_178622;
                
                defunc_0_get_bit_res_178623 = defunc_0_get_bit_res_t_res_178732;
            } else {
                defunc_0_get_bit_res_178623 = defunc_0_get_bit_res_178622;
            }
            
            int32_t i32_arg0_178625 = add32(zp_lhs_178621, defunc_0_get_bit_res_178623);
            int16_t i32_res_178626 = sext_i32_i16(i32_arg0_178625);
            int16_t defunc_0_f_res_178628;
            int16_t defunc_0_f_res_178629;
            int16_t defunc_0_f_res_178630;
            int16_t defunc_0_f_res_178631;
            
            if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178628, &defunc_0_f_res_178629, &defunc_0_f_res_178630, &defunc_0_f_res_178631, i32_res_178626) != 0) {
                err = 1;
                goto cleanup;
            }
            
            int16_t defunc_0_op_res_168650 = add16(defunc_0_f_res_178628, scanacc_180697);
            int16_t defunc_0_op_res_168651 = add16(defunc_0_f_res_178629, scanacc_180698);
            int16_t defunc_0_op_res_168652 = add16(defunc_0_f_res_178630, scanacc_180699);
            int16_t defunc_0_op_res_168653 = add16(defunc_0_f_res_178631, scanacc_180700);
            
            ((int16_t *) mem_181045)[i_180706] = defunc_0_op_res_168650;
            ((int16_t *) mem_181047)[i_180706] = defunc_0_op_res_168651;
            ((int16_t *) mem_181049)[i_180706] = defunc_0_op_res_168652;
            ((int16_t *) mem_181051)[i_180706] = defunc_0_op_res_168653;
            ((int16_t *) mem_181053)[i_180706] = i32_res_178626;
            
            int16_t scanacc_tmp_182452 = defunc_0_op_res_168650;
            int16_t scanacc_tmp_182453 = defunc_0_op_res_168651;
            int16_t scanacc_tmp_182454 = defunc_0_op_res_168652;
            int16_t scanacc_tmp_182455 = defunc_0_op_res_168653;
            
            scanacc_180697 = scanacc_tmp_182452;
            scanacc_180698 = scanacc_tmp_182453;
            scanacc_180699 = scanacc_tmp_182454;
            scanacc_180700 = scanacc_tmp_182455;
        }
        discard_180712 = scanacc_180697;
        discard_180713 = scanacc_180698;
        discard_180714 = scanacc_180699;
        discard_180715 = scanacc_180700;
        
        int16_t defunc_0_radix_sort_step_i16_res_168654;
        int16_t defunc_0_radix_sort_step_i16_res_168655;
        int16_t defunc_0_radix_sort_step_i16_res_168656;
        int16_t defunc_0_radix_sort_step_i16_res_168657;
        
        if (empty_slice_168565) {
            defunc_0_radix_sort_step_i16_res_168654 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168655 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168656 = (int16_t) 0;
            defunc_0_radix_sort_step_i16_res_168657 = (int16_t) 0;
        } else {
            int16_t last_res_168658 = ((int16_t *) mem_181045)[m_168566];
            int16_t last_res_168659 = ((int16_t *) mem_181047)[m_168566];
            int16_t last_res_168660 = ((int16_t *) mem_181049)[m_168566];
            int16_t last_res_168661 = ((int16_t *) mem_181051)[m_168566];
            
            defunc_0_radix_sort_step_i16_res_168654 = last_res_168658;
            defunc_0_radix_sort_step_i16_res_168655 = last_res_168659;
            defunc_0_radix_sort_step_i16_res_168656 = last_res_168660;
            defunc_0_radix_sort_step_i16_res_168657 = last_res_168661;
        }
        lmad_copy_8b(ctx, 1, (uint64_t *) mem_181085, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + (int64_t) 1 * arg_168544, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168543});
        lmad_copy_2b(ctx, 1, (uint16_t *) mem_181087, (int64_t) 0, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181035, (int64_t) 0 + (int64_t) 1 * arg_168544, (int64_t []) {(int64_t) 1}, (int64_t []) {rest_168543});
        for (int64_t write_iter_180716 = 0; write_iter_180716 < rest_168543; write_iter_180716++) {
            int16_t write_iv_180719 = ((int16_t *) mem_181053)[write_iter_180716];
            int16_t write_iv_180720 = ((int16_t *) mem_181045)[write_iter_180716];
            int16_t write_iv_180721 = ((int16_t *) mem_181047)[write_iter_180716];
            int16_t write_iv_180722 = ((int16_t *) mem_181049)[write_iter_180716];
            int16_t write_iv_180723 = ((int16_t *) mem_181051)[write_iter_180716];
            int64_t slice_180918 = arg_168544 + write_iter_180716;
            int16_t write_iv_180724 = ((int16_t *) mem_181035)[slice_180918];
            int64_t write_iv_180725 = ((int64_t *) mem_181037)[slice_180918];
            int64_t defunc_0_f_res_178601;
            
            if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178601, defunc_0_radix_sort_step_i16_res_168654, defunc_0_radix_sort_step_i16_res_168655, defunc_0_radix_sort_step_i16_res_168656, write_iv_180719, write_iv_180720, write_iv_180721, write_iv_180722, write_iv_180723) != 0) {
                err = 1;
                goto cleanup;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178601) && slt64(defunc_0_f_res_178601, rest_168543)) {
                ((int16_t *) mem_181087)[defunc_0_f_res_178601] = write_iv_180724;
            }
            if (sle64((int64_t) 0, defunc_0_f_res_178601) && slt64(defunc_0_f_res_178601, rest_168543)) {
                ((int64_t *) mem_181085)[defunc_0_f_res_178601] = write_iv_180725;
            }
        }
        ((int16_t *) mem_181100)[(int64_t) 0] = defunc_0_radix_sort_step_i16_res_168654;
        ((int16_t *) mem_181100)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168655;
        ((int16_t *) mem_181100)[(int64_t) 2] = defunc_0_radix_sort_step_i16_res_168656;
        ((int16_t *) mem_181100)[(int64_t) 3] = defunc_0_radix_sort_step_i16_res_168657;
        for (int64_t i_180730 = 0; i_180730 < (int64_t) 4; i_180730++) {
            int16_t eta_p_168678 = ((int16_t *) mem_181100)[i_180730];
            int64_t i16_res_168679 = sext_i16_i64(eta_p_168678);
            
            ((int64_t *) mem_181101)[i_180730] = i16_res_168679;
        }
        
        int16_t tmp_168680 = add16(defunc_0_radix_sort_step_i16_res_168654, defunc_0_radix_sort_step_i16_res_168655);
        int16_t tmp_168681 = add16(defunc_0_radix_sort_step_i16_res_168656, tmp_168680);
        
        ((int16_t *) mem_181108)[(int64_t) 0] = (int16_t) 0;
        ((int16_t *) mem_181108)[(int64_t) 1] = defunc_0_radix_sort_step_i16_res_168654;
        ((int16_t *) mem_181108)[(int64_t) 2] = tmp_168680;
        ((int16_t *) mem_181108)[(int64_t) 3] = tmp_168681;
        for (int64_t i_180780 = 0; i_180780 < n_blocks_168542; i_180780++) {
            lmad_copy_2b(ctx, 1, (uint16_t *) mem_181111, i_180780 * i16_res_168538, (int64_t []) {(int64_t) 1}, (uint16_t *) mem_181035, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_168538), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168538});
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181114, i_180780 * i16_res_168538, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181037, (int64_t) 0 + i_180780 * ((int64_t) 1 * i16_res_168538), (int64_t []) {(int64_t) 1}, (int64_t []) {i16_res_168538});
            
            int64_t binop_x_180932 = i16_res_168538 * i_180780;
            int16_t discard_180752;
            int16_t discard_180753;
            int16_t discard_180754;
            int16_t discard_180755;
            int16_t scanacc_180737;
            int16_t scanacc_180738;
            int16_t scanacc_180739;
            int16_t scanacc_180740;
            
            scanacc_180737 = (int16_t) 0;
            scanacc_180738 = (int16_t) 0;
            scanacc_180739 = (int16_t) 0;
            scanacc_180740 = (int16_t) 0;
            for (int64_t i_180746 = 0; i_180746 < i16_res_168538; i_180746++) {
                int64_t new_index_180933 = i_180746 + binop_x_180932;
                int16_t eta_p_178662 = ((int16_t *) mem_181035)[new_index_180933];
                int32_t defunc_0_get_bit_res_178663;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178663, get_bit_arg0_168611, eta_p_178662) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178664;
                
                if (cond_168612) {
                    int32_t defunc_0_get_bit_res_t_res_178733 = 1 ^ defunc_0_get_bit_res_178663;
                    
                    defunc_0_get_bit_res_178664 = defunc_0_get_bit_res_t_res_178733;
                } else {
                    defunc_0_get_bit_res_178664 = defunc_0_get_bit_res_178663;
                }
                
                int32_t zp_lhs_178666 = mul32(2, defunc_0_get_bit_res_178664);
                int32_t defunc_0_get_bit_res_178667;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178667, blocked_radix_sort_step_arg1_168606, eta_p_178662) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int32_t defunc_0_get_bit_res_178668;
                
                if (cond_168613) {
                    int32_t defunc_0_get_bit_res_t_res_178734 = 1 ^ defunc_0_get_bit_res_178667;
                    
                    defunc_0_get_bit_res_178668 = defunc_0_get_bit_res_t_res_178734;
                } else {
                    defunc_0_get_bit_res_178668 = defunc_0_get_bit_res_178667;
                }
                
                int32_t i32_arg0_178670 = add32(zp_lhs_178666, defunc_0_get_bit_res_178668);
                int16_t i32_res_178671 = sext_i32_i16(i32_arg0_178670);
                int16_t defunc_0_f_res_178673;
                int16_t defunc_0_f_res_178674;
                int16_t defunc_0_f_res_178675;
                int16_t defunc_0_f_res_178676;
                
                if (futrts_lifted_lambda_9092(ctx, &defunc_0_f_res_178673, &defunc_0_f_res_178674, &defunc_0_f_res_178675, &defunc_0_f_res_178676, i32_res_178671) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                int16_t defunc_0_op_res_168731 = add16(defunc_0_f_res_178673, scanacc_180737);
                int16_t defunc_0_op_res_168732 = add16(defunc_0_f_res_178674, scanacc_180738);
                int16_t defunc_0_op_res_168733 = add16(defunc_0_f_res_178675, scanacc_180739);
                int16_t defunc_0_op_res_168734 = add16(defunc_0_f_res_178676, scanacc_180740);
                
                ((int16_t *) mem_181142)[i_180746] = defunc_0_op_res_168731;
                ((int16_t *) mem_181144)[i_180746] = defunc_0_op_res_168732;
                ((int16_t *) mem_181146)[i_180746] = defunc_0_op_res_168733;
                ((int16_t *) mem_181148)[i_180746] = defunc_0_op_res_168734;
                ((int16_t *) mem_181150)[i_180746] = i32_res_178671;
                
                int16_t scanacc_tmp_182468 = defunc_0_op_res_168731;
                int16_t scanacc_tmp_182469 = defunc_0_op_res_168732;
                int16_t scanacc_tmp_182470 = defunc_0_op_res_168733;
                int16_t scanacc_tmp_182471 = defunc_0_op_res_168734;
                
                scanacc_180737 = scanacc_tmp_182468;
                scanacc_180738 = scanacc_tmp_182469;
                scanacc_180739 = scanacc_tmp_182470;
                scanacc_180740 = scanacc_tmp_182471;
            }
            discard_180752 = scanacc_180737;
            discard_180753 = scanacc_180738;
            discard_180754 = scanacc_180739;
            discard_180755 = scanacc_180740;
            
            int16_t defunc_0_f_res_168735;
            int16_t defunc_0_f_res_168736;
            int16_t defunc_0_f_res_168737;
            int16_t defunc_0_f_res_168738;
            
            if (zzero_168539) {
                defunc_0_f_res_168735 = (int16_t) 0;
                defunc_0_f_res_168736 = (int16_t) 0;
                defunc_0_f_res_168737 = (int16_t) 0;
                defunc_0_f_res_168738 = (int16_t) 0;
            } else {
                int16_t last_res_168739 = ((int16_t *) mem_181142)[tmp_168581];
                int16_t last_res_168740 = ((int16_t *) mem_181144)[tmp_168581];
                int16_t last_res_168741 = ((int16_t *) mem_181146)[tmp_168581];
                int16_t last_res_168742 = ((int16_t *) mem_181148)[tmp_168581];
                
                defunc_0_f_res_168735 = last_res_168739;
                defunc_0_f_res_168736 = last_res_168740;
                defunc_0_f_res_168737 = last_res_168741;
                defunc_0_f_res_168738 = last_res_168742;
            }
            for (int64_t write_iter_180756 = 0; write_iter_180756 < i16_res_168538; write_iter_180756++) {
                int16_t write_iv_180759 = ((int16_t *) mem_181150)[write_iter_180756];
                int16_t write_iv_180760 = ((int16_t *) mem_181142)[write_iter_180756];
                int16_t write_iv_180761 = ((int16_t *) mem_181144)[write_iter_180756];
                int16_t write_iv_180762 = ((int16_t *) mem_181146)[write_iter_180756];
                int16_t write_iv_180763 = ((int16_t *) mem_181148)[write_iter_180756];
                int64_t new_index_180929 = write_iter_180756 + binop_x_180932;
                int16_t write_iv_180764 = ((int16_t *) mem_181035)[new_index_180929];
                int64_t write_iv_180765 = ((int64_t *) mem_181037)[new_index_180929];
                int64_t defunc_0_f_res_178646;
                
                if (futrts_lifted_f_9093(ctx, &defunc_0_f_res_178646, defunc_0_f_res_168735, defunc_0_f_res_168736, defunc_0_f_res_168737, write_iv_180759, write_iv_180760, write_iv_180761, write_iv_180762, write_iv_180763) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178646) && slt64(defunc_0_f_res_178646, i16_res_168538)) {
                    ((int16_t *) mem_181111)[i_180780 * i16_res_168538 + defunc_0_f_res_178646] = write_iv_180764;
                }
                if (sle64((int64_t) 0, defunc_0_f_res_178646) && slt64(defunc_0_f_res_178646, i16_res_168538)) {
                    ((int64_t *) mem_181114)[i_180780 * i16_res_168538 + defunc_0_f_res_178646] = write_iv_180765;
                }
            }
            ((int16_t *) mem_181193)[(int64_t) 0] = defunc_0_f_res_168735;
            ((int16_t *) mem_181193)[(int64_t) 1] = defunc_0_f_res_168736;
            ((int16_t *) mem_181193)[(int64_t) 2] = defunc_0_f_res_168737;
            ((int16_t *) mem_181193)[(int64_t) 3] = defunc_0_f_res_168738;
            for (int64_t i_180770 = 0; i_180770 < (int64_t) 4; i_180770++) {
                int16_t eta_p_168757 = ((int16_t *) mem_181193)[i_180770];
                int64_t i16_res_168758 = sext_i16_i64(eta_p_168757);
                
                ((int64_t *) mem_181194)[i_180770] = i16_res_168758;
            }
            
            int16_t tmp_168759 = add16(defunc_0_f_res_168735, defunc_0_f_res_168736);
            int16_t tmp_168760 = add16(defunc_0_f_res_168737, tmp_168759);
            
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4] = (int16_t) 0;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 1] = defunc_0_f_res_168735;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 2] = tmp_168759;
            ((int16_t *) mem_181120)[i_180780 * (int64_t) 4 + (int64_t) 3] = tmp_168760;
            lmad_copy_8b(ctx, 1, (uint64_t *) mem_181117, i_180780 * (int64_t) 4, (int64_t []) {(int64_t) 1}, (uint64_t *) mem_181194, (int64_t) 0, (int64_t []) {(int64_t) 1}, (int64_t []) {(int64_t) 4});
        }
        
        int64_t discard_180792;
        int64_t scanacc_180788 = (int64_t) 0;
        
        for (int64_t i_180790 = 0; i_180790 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553; i_180790++) {
            int64_t new_index_180907 = squot64(i_180790, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
            int64_t binop_y_180909 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 * new_index_180907;
            int64_t new_index_180910 = i_180790 - binop_y_180909;
            bool index_concat_cmp_180912 = sle64(n_blocks_168542, new_index_180910);
            int64_t index_concat_branch_180916;
            
            if (index_concat_cmp_180912) {
                int64_t index_concat_180914 = ((int64_t *) mem_181101)[new_index_180907];
                
                index_concat_branch_180916 = index_concat_180914;
            } else {
                int64_t index_concat_180915 = ((int64_t *) mem_181117)[new_index_180910 * (int64_t) 4 + new_index_180907];
                
                index_concat_branch_180916 = index_concat_180915;
            }
            
            int64_t defunc_0_op_res_168772 = add64(scanacc_180788, index_concat_branch_180916);
            
            ((int64_t *) mem_181219)[i_180790] = defunc_0_op_res_168772;
            
            int64_t scanacc_tmp_182480 = defunc_0_op_res_168772;
            
            scanacc_180788 = scanacc_tmp_182480;
        }
        discard_180792 = scanacc_180788;
        for (int64_t i_180795 = 0; i_180795 < dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553; i_180795++) {
            int64_t zv_lhs_168775 = add64((int64_t) -1, i_180795);
            int64_t tmp_168776 = smod64(zv_lhs_168775, dzlz7bUZLztZRz20U4z20UZLZLzpZRz20Unz20U1ZRz7dUzg_168553);
            int64_t lifted_lambda_res_168777 = ((int64_t *) mem_181219)[tmp_168776];
            
            ((int64_t *) mem_181227)[i_180795] = lifted_lambda_res_168777;
        }
        ((int64_t *) mem_181227)[(int64_t) 0] = (int64_t) 0;
        for (int64_t write_iter_180797 = 0; write_iter_180797 < dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545; write_iter_180797++) {
            bool index_concat_cmp_180898 = sle64(arg_168544, write_iter_180797);
            int16_t index_concat_branch_178553;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_178743 = sub64(write_iter_180797, arg_168544);
                int16_t index_concat_178744 = ((int16_t *) mem_181087)[index_concat_i_178743];
                
                index_concat_branch_178553 = index_concat_178744;
            } else {
                int64_t new_index_178556 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_178557 = i16_res_168538 * new_index_178556;
                int64_t new_index_178558 = write_iter_180797 - binop_y_178557;
                int16_t index_concat_178559 = ((int16_t *) mem_181111)[new_index_178556 * i16_res_168538 + new_index_178558];
                
                index_concat_branch_178553 = index_concat_178559;
            }
            
            int32_t zlzb_rhs_178560;
            int32_t acc_178562 = 0;
            
            for (int32_t i_178561 = 0; i_178561 < 2; i_178561++) {
                int32_t get_bit_arg0_178563 = add32(blocked_radix_sort_step_arg1_168606, i_178561);
                int32_t defunc_0_get_bit_res_178564;
                
                if (futrts_get_bit_1844(ctx, &defunc_0_get_bit_res_178564, get_bit_arg0_178563, index_concat_branch_178553) != 0) {
                    err = 1;
                    goto cleanup;
                }
                
                bool cond_178565 = get_bit_arg0_178563 == 15;
                int32_t defunc_0_get_bit_res_178566;
                
                if (cond_178565) {
                    int32_t defunc_0_get_bit_res_t_res_178745 = 1 ^ defunc_0_get_bit_res_178564;
                    
                    defunc_0_get_bit_res_178566 = defunc_0_get_bit_res_t_res_178745;
                } else {
                    defunc_0_get_bit_res_178566 = defunc_0_get_bit_res_178564;
                }
                
                int32_t zp_rhs_178568 = shl32(defunc_0_get_bit_res_178566, i_178561);
                int32_t loopres_178569 = add32(acc_178562, zp_rhs_178568);
                int32_t acc_tmp_182485 = loopres_178569;
                
                acc_178562 = acc_tmp_182485;
            }
            zlzb_rhs_178560 = acc_178562;
            
            int64_t i32_res_178570 = sext_i32_i64(zlzb_rhs_178560);
            int64_t block_idx_178571 = sdiv64(write_iter_180797, i16_res_168538);
            bool x_178572 = sle64((int64_t) 0, block_idx_178571);
            bool y_178573 = slt64(block_idx_178571, dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552);
            bool bounds_check_178574 = x_178572 && y_178573;
            bool index_certs_178575;
            
            if (!bounds_check_178574) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) block_idx_178571, "] out of bounds for array of shape [", (long long) dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-48\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            bool x_178576 = sle64((int64_t) 0, i32_res_178570);
            bool y_178577 = slt64(i32_res_178570, (int64_t) 4);
            bool bounds_check_178578 = x_178576 && y_178577;
            bool index_certs_178579;
            
            if (!bounds_check_178578) {
                set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) i32_res_178570, "] out of bounds for array of shape [", (long long) (int64_t) 4, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:187:26-53\n   #1  /prelude/soacs.fut:59:9-11\n   #2  /prelude/array.fut:241:11-17\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:183:7-191:15\n   #4  lib/github.com/diku-dk/sorts/radix_sort.fut:227:48-50\n   #5  lib/github.com/diku-dk/sorts/radix_sort.fut:248:49-51\n   #6  /prelude/functional.fut:9:44-45\n   #7  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #8  ftbasics.fut:165:93-96\n   #9  ftsort.fut:16:3-46\n   #10 ftsort.fut:15:1-16:46\n"));
                err = FUTHARK_PROGRAM_ERROR;
                goto cleanup;
            }
            
            int16_t index_concat_branch_180902;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180899 = sub64(write_iter_180797, arg_168544);
                int16_t index_concat_180900 = ((int16_t *) mem_181087)[index_concat_i_180899];
                
                index_concat_branch_180902 = index_concat_180900;
            } else {
                int64_t new_index_180924 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_180926 = i16_res_168538 * new_index_180924;
                int64_t new_index_180927 = write_iter_180797 - binop_y_180926;
                int16_t index_concat_180901 = ((int16_t *) mem_181111)[new_index_180924 * i16_res_168538 + new_index_180927];
                
                index_concat_branch_180902 = index_concat_180901;
            }
            
            int64_t index_concat_branch_180896;
            
            if (index_concat_cmp_180898) {
                int64_t index_concat_i_180893 = sub64(write_iter_180797, arg_168544);
                int64_t index_concat_180894 = ((int64_t *) mem_181085)[index_concat_i_180893];
                
                index_concat_branch_180896 = index_concat_180894;
            } else {
                int64_t new_index_180920 = squot64(write_iter_180797, i16_res_168538);
                int64_t binop_y_180922 = i16_res_168538 * new_index_180920;
                int64_t new_index_180923 = write_iter_180797 - binop_y_180922;
                int64_t index_concat_180895 = ((int64_t *) mem_181114)[new_index_180920 * i16_res_168538 + new_index_180923];
                
                index_concat_branch_180896 = index_concat_180895;
            }
            
            int64_t binop_x_178580 = dzlz7bUZLzpZRz20Unz20U1z7dUzg_168552 * i32_res_178570;
            int64_t new_index_178581 = block_idx_178571 + binop_x_178580;
            int64_t new_offset_178582 = ((int64_t *) mem_181227)[new_index_178581];
            bool index_concat_cmp_178583 = sle64(n_blocks_168542, block_idx_178571);
            int16_t index_concat_branch_178584;
            
            if (index_concat_cmp_178583) {
                int16_t index_concat_178746 = ((int16_t *) mem_181108)[i32_res_178570];
                
                index_concat_branch_178584 = index_concat_178746;
            } else {
                int16_t index_concat_178586 = ((int16_t *) mem_181120)[block_idx_178571 * (int64_t) 4 + i32_res_178570];
                
                index_concat_branch_178584 = index_concat_178586;
            }
            
            int64_t i16_res_178587 = sext_i16_i64(index_concat_branch_178584);
            int64_t zp_lhs_178588 = mul64(i16_res_168538, block_idx_178571);
            int64_t old_offset_178589 = add64(i16_res_178587, zp_lhs_178588);
            int64_t zp_lhs_178590 = sub64(write_iter_180797, old_offset_178589);
            int64_t idx_178591 = add64(new_offset_178582, zp_lhs_178590);
            
            if (sle64((int64_t) 0, idx_178591) && slt64(idx_178591, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545)) {
                ((int16_t *) mem_181035)[idx_178591] = index_concat_branch_180902;
            }
            if (sle64((int64_t) 0, idx_178591) && slt64(idx_178591, dzlz7bUZLzpZRz20UZLZLztZRz20Un_blocksz20UblockZRz20Urestz7dUzg_168545)) {
                ((int64_t *) mem_181037)[idx_178591] = index_concat_branch_180896;
            }
        }
    }
    if (memblock_alloc(ctx, &mem_181253, bytes_181252, "mem_181253")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc(ctx, &mem_181255, bytes_181254, "mem_181255")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_180809 = 0; i_180809 < n_85557; i_180809++) {
        int64_t eta_p_168837 = ((int64_t *) mem_181037)[i_180809];
        bool x_168838 = sle64((int64_t) 0, eta_p_168837);
        bool y_168839 = slt64(eta_p_168837, n_85557);
        bool bounds_check_168840 = x_168838 && y_168839;
        bool index_certs_168841;
        
        if (!bounds_check_168840) {
            set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) eta_p_168837, "] out of bounds for array of shape [", (long long) n_85557, "].", "-> #0  lib/github.com/diku-dk/sorts/radix_sort.fut:68:27-32\n   #1  /prelude/functional.fut:9:44-45\n   #2  lib/github.com/diku-dk/sorts/radix_sort.fut:68:6-33\n   #3  lib/github.com/diku-dk/sorts/radix_sort.fut:258:49-51\n   #4  ftbasics.fut:165:93-96\n   #5  ftsort.fut:16:3-46\n   #6  ftsort.fut:15:1-16:46\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t lifted_lambda_res_168842 = ((int64_t *) ext_mem_181033.mem)[eta_p_168837];
        int16_t lifted_lambda_res_168843 = ((int16_t *) xs_mem_181032.mem)[eta_p_168837];
        
        ((int64_t *) mem_181253.mem)[i_180809] = lifted_lambda_res_168842;
        ((int16_t *) mem_181255.mem)[i_180809] = lifted_lambda_res_168843;
    }
    if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182446, &mem_181253, "mem_181253") != 0)
        return 1;
    if (memblock_set(ctx, &mem_out_182447, &mem_181255, "mem_181255") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183158, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183159, &mem_out_182447, "mem_out_182447") != 0)
        return 1;
    
  cleanup:
    {
        free(mem_181035);
        free(mem_181037);
        free(mem_181045);
        free(mem_181047);
        free(mem_181049);
        free(mem_181051);
        free(mem_181053);
        free(mem_181085);
        free(mem_181087);
        free(mem_181100);
        free(mem_181101);
        free(mem_181108);
        free(mem_181111);
        free(mem_181114);
        free(mem_181117);
        free(mem_181120);
        free(mem_181142);
        free(mem_181144);
        free(mem_181146);
        free(mem_181148);
        free(mem_181150);
        free(mem_181193);
        free(mem_181194);
        free(mem_181219);
        free(mem_181227);
        if (memblock_unref(ctx, &mem_181255, "mem_181255") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_181253, "mem_181253") != 0)
            return 1;
        if (memblock_unref(ctx, &ext_mem_181033, "ext_mem_181033") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182447, "mem_out_182447") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_1844(struct futhark_context *ctx, int32_t *out_prim_out_183185, int32_t bit_83405, int16_t x_83406)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_182446;
    int16_t i32_res_163311 = sext_i32_i16(bit_83405);
    int16_t zgzg_res_163314 = ashr16(x_83406, i32_res_163311);
    int16_t za_res_163319 = (int16_t) 1 & zgzg_res_163314;
    int32_t to_i32_res_163321 = sext_i16_i32(za_res_163319);
    
    prim_out_182446 = to_i32_res_163321;
    *out_prim_out_183185 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_get_bit_2253(struct futhark_context *ctx, int32_t *out_prim_out_183186, int32_t bit_88622, int64_t x_88623)
{
    (void) ctx;
    
    int err = 0;
    int32_t prim_out_182446;
    int64_t i32_res_163311 = sext_i32_i64(bit_88622);
    int64_t zgzg_res_163314 = ashr64(x_88623, i32_res_163311);
    int64_t za_res_163319 = (int64_t) 1 & zgzg_res_163314;
    int32_t to_i32_res_163321 = sext_i64_i32(za_res_163319);
    
    prim_out_182446 = to_i32_res_163321;
    *out_prim_out_183186 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_greatest_divisor_leq_than_4833(struct futhark_context *ctx, int64_t *out_prim_out_183187, int64_t upper_bound_96304, int64_t n_96305)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182446;
    bool upper_bound_96306 = sle64((int64_t) 1, upper_bound_96304);
    bool assert_c_96308;
    
    if (!upper_bound_96306) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "Assertion is false: (upper_bound >= 1)", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:189:21-58\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    bool cond_96317 = slt64(upper_bound_96304, n_96305);
    bool d_96326;
    int64_t d_96327;
    bool loop_while_96328;
    int64_t d_96329;
    
    loop_while_96328 = cond_96317;
    d_96329 = (int64_t) 1;
    while (loop_while_96328) {
        int64_t loopres_96330 = add64((int64_t) 1, d_96329);
        bool zzero_96332 = loopres_96330 == (int64_t) 0;
        bool nonzzero_96333 = !zzero_96332;
        bool nonzzero_cert_96334;
        
        if (!nonzzero_96333) {
            set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:190:36-38\n"));
            err = FUTHARK_PROGRAM_ERROR;
            goto cleanup;
        }
        
        int64_t zg_lhs_96335 = sdiv64(n_96305, loopres_96330);
        bool cond_96337 = slt64(upper_bound_96304, zg_lhs_96335);
        bool loop_cond_96338;
        
        if (cond_96337) {
            loop_cond_96338 = 1;
        } else {
            int64_t znze_lhs_96342 = smod64(n_96305, loopres_96330);
            bool loop_cond_f_res_96344 = znze_lhs_96342 == (int64_t) 0;
            bool loop_cond_f_res_96345 = !loop_cond_f_res_96344;
            
            loop_cond_96338 = loop_cond_f_res_96345;
        }
        
        bool loop_while_tmp_182447 = loop_cond_96338;
        int64_t d_tmp_182448 = loopres_96330;
        
        loop_while_96328 = loop_while_tmp_182447;
        d_96329 = d_tmp_182448;
    }
    d_96326 = loop_while_96328;
    d_96327 = d_96329;
    
    bool zzero_96347 = d_96327 == (int64_t) 0;
    bool nonzzero_96348 = !zzero_96347;
    bool nonzzero_cert_96349;
    
    if (!nonzzero_96348) {
        set_error(ctx, msgprintf("Error: %s\n\nBacktrace:\n%s", "division by zero", "-> #0  lib/github.com/diku-dk/sorts/merge_sort.fut:191:7-9\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t greatest_divisor_leq_than_res_96350 = sdiv64(n_96305, d_96327);
    
    prim_out_182446 = greatest_divisor_leq_than_res_96350;
    *out_prim_out_183187 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9131(struct futhark_context *ctx, struct memblock *mem_out_p_183188, struct memblock xs_mem_181032, int64_t n_82702, int64_t incr_82703)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t rng_82708 = add64(n_82702, incr_82703);
    bool bounds_invalid_upwards_82712 = slt64(rng_82708, incr_82703);
    bool valid_82717 = !bounds_invalid_upwards_82712;
    bool range_valid_c_82718;
    
    if (!valid_82717) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_82703, "..<", (long long) rng_82708, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181033 = (int64_t) 8 * n_82702;
    
    if (memblock_alloc(ctx, &mem_181034, bytes_181033, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182447 = 0; i_182447 < n_82702; i_182447++) {
        int64_t x_182448 = incr_82703 + i_182447 * (int64_t) 1;
        
        ((int64_t *) mem_181034.mem)[i_182447] = x_182448;
    }
    if (memblock_set(ctx, &mem_out_182446, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183188, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9286(struct futhark_context *ctx, struct memblock *mem_out_p_183189, struct memblock xs_mem_181032, int64_t n_85582, int64_t incr_85583)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t rng_85588 = add64(n_85582, incr_85583);
    bool bounds_invalid_upwards_85592 = slt64(rng_85588, incr_85583);
    bool valid_85597 = !bounds_invalid_upwards_85592;
    bool range_valid_c_85598;
    
    if (!valid_85597) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_85583, "..<", (long long) rng_85588, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181033 = (int64_t) 8 * n_85582;
    
    if (memblock_alloc(ctx, &mem_181034, bytes_181033, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182447 = 0; i_182447 < n_85582; i_182447++) {
        int64_t x_182448 = incr_85583 + i_182447 * (int64_t) 1;
        
        ((int64_t *) mem_181034.mem)[i_182447] = x_182448;
    }
    if (memblock_set(ctx, &mem_out_182446, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183189, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9396(struct futhark_context *ctx, struct memblock *mem_out_p_183190, struct memblock xs_mem_181032, int64_t n_88199, int64_t incr_88200)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t rng_88205 = add64(n_88199, incr_88200);
    bool bounds_invalid_upwards_88209 = slt64(rng_88205, incr_88200);
    bool valid_88214 = !bounds_invalid_upwards_88209;
    bool range_valid_c_88215;
    
    if (!valid_88214) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_88200, "..<", (long long) rng_88205, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181033 = (int64_t) 8 * n_88199;
    
    if (memblock_alloc(ctx, &mem_181034, bytes_181033, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182447 = 0; i_182447 < n_88199; i_182447++) {
        int64_t x_182448 = incr_88200 + i_182447 * (int64_t) 1;
        
        ((int64_t *) mem_181034.mem)[i_182447] = x_182448;
    }
    if (memblock_set(ctx, &mem_out_182446, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183190, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9496(struct futhark_context *ctx, struct memblock *mem_out_p_183191, struct memblock xs_mem_181032, int64_t n_90799, int64_t incr_90800)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t rng_90805 = add64(n_90799, incr_90800);
    bool bounds_invalid_upwards_90809 = slt64(rng_90805, incr_90800);
    bool valid_90814 = !bounds_invalid_upwards_90809;
    bool range_valid_c_90815;
    
    if (!valid_90814) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_90800, "..<", (long long) rng_90805, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181033 = (int64_t) 8 * n_90799;
    
    if (memblock_alloc(ctx, &mem_181034, bytes_181033, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182447 = 0; i_182447 < n_90799; i_182447++) {
        int64_t x_182448 = incr_90800 + i_182447 * (int64_t) 1;
        
        ((int64_t *) mem_181034.mem)[i_182447] = x_182448;
    }
    if (memblock_set(ctx, &mem_out_182446, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183191, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_indicesWithIncrement_9605(struct futhark_context *ctx, struct memblock *mem_out_p_183192, struct memblock xs_mem_181032, int64_t n_93550, int64_t incr_93551)
{
    (void) ctx;
    
    int err = 0;
    struct memblock mem_181034;
    
    mem_181034.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    int64_t rng_93556 = add64(n_93550, incr_93551);
    bool bounds_invalid_upwards_93560 = slt64(rng_93556, incr_93551);
    bool valid_93565 = !bounds_invalid_upwards_93560;
    bool range_valid_c_93566;
    
    if (!valid_93565) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Range ", (long long) incr_93551, "..<", (long long) rng_93556, " is invalid.", "-> #0  ftbasics.fut:15:25-40\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    
    int64_t bytes_181033 = (int64_t) 8 * n_93550;
    
    if (memblock_alloc(ctx, &mem_181034, bytes_181033, "mem_181034")) {
        err = 1;
        goto cleanup;
    }
    for (int64_t i_182447 = 0; i_182447 < n_93550; i_182447++) {
        int64_t x_182448 = incr_93551 + i_182447 * (int64_t) 1;
        
        ((int64_t *) mem_181034.mem)[i_182447] = x_182448;
    }
    if (memblock_set(ctx, &mem_out_182446, &mem_181034, "mem_181034") != 0)
        return 1;
    if (memblock_set(ctx, &*mem_out_p_183192, &mem_out_182446, "mem_out_182446") != 0)
        return 1;
    
  cleanup:
    {
        if (memblock_unref(ctx, &mem_181034, "mem_181034") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_182446, "mem_out_182446") != 0)
            return 1;
    }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_f_9093(struct futhark_context *ctx, int64_t *out_prim_out_183193, int16_t na_82929, int16_t nb_82930, int16_t nc_82931, int16_t bin_82932, int16_t a_82933, int16_t b_82934, int16_t c_82935, int16_t d_82936)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182446;
    bool bool_arg0_82937 = bin_82932 == (int16_t) 0;
    int16_t bool_res_163311 = btoi_bool_i16(bool_arg0_82937);
    int16_t zp_rhs_82941 = mul16(a_82933, bool_res_163311);
    int16_t zp_lhs_82944 = add16((int16_t) -1, zp_rhs_82941);
    bool bool_arg0_82946 = slt16((int16_t) 0, bin_82932);
    int16_t bool_res_163313 = btoi_bool_i16(bool_arg0_82946);
    int16_t zp_rhs_82950 = mul16(na_82929, bool_res_163313);
    int16_t zp_lhs_82952 = add16(zp_lhs_82944, zp_rhs_82950);
    bool bool_arg0_82954 = bin_82932 == (int16_t) 1;
    int16_t bool_res_163315 = btoi_bool_i16(bool_arg0_82954);
    int16_t zp_rhs_82958 = mul16(b_82934, bool_res_163315);
    int16_t zp_lhs_82960 = add16(zp_lhs_82952, zp_rhs_82958);
    bool bool_arg0_82962 = slt16((int16_t) 1, bin_82932);
    int16_t bool_res_163317 = btoi_bool_i16(bool_arg0_82962);
    int16_t zp_rhs_82966 = mul16(nb_82930, bool_res_163317);
    int16_t zp_lhs_82968 = add16(zp_lhs_82960, zp_rhs_82966);
    bool bool_arg0_82970 = bin_82932 == (int16_t) 2;
    int16_t bool_res_163319 = btoi_bool_i16(bool_arg0_82970);
    int16_t zp_rhs_82974 = mul16(c_82935, bool_res_163319);
    int16_t zp_lhs_82976 = add16(zp_lhs_82968, zp_rhs_82974);
    bool bool_arg0_82978 = slt16((int16_t) 2, bin_82932);
    int16_t bool_res_163321 = btoi_bool_i16(bool_arg0_82978);
    int16_t zp_rhs_82982 = mul16(nc_82931, bool_res_163321);
    int16_t zp_lhs_82984 = add16(zp_lhs_82976, zp_rhs_82982);
    bool bool_arg0_82986 = bin_82932 == (int16_t) 3;
    int16_t bool_res_163323 = btoi_bool_i16(bool_arg0_82986);
    int16_t zp_rhs_82990 = mul16(d_82936, bool_res_163323);
    int16_t i16_arg0_82992 = add16(zp_lhs_82984, zp_rhs_82990);
    int64_t i16_res_163325 = sext_i16_i64(i16_arg0_82992);
    
    prim_out_182446 = i16_res_163325;
    *out_prim_out_183193 = prim_out_182446;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_lambda_9092(struct futhark_context *ctx, int16_t *out_prim_out_183194, int16_t *out_prim_out_183195, int16_t *out_prim_out_183196, int16_t *out_prim_out_183197, int16_t x_82872)
{
    (void) ctx;
    
    int err = 0;
    int16_t prim_out_182446;
    int16_t prim_out_182447;
    int16_t prim_out_182448;
    int16_t prim_out_182449;
    bool bool_arg0_82873 = x_82872 == (int16_t) 0;
    int16_t bool_res_163311 = btoi_bool_i16(bool_arg0_82873);
    bool bool_arg0_82877 = x_82872 == (int16_t) 1;
    int16_t bool_res_163313 = btoi_bool_i16(bool_arg0_82877);
    bool bool_arg0_82881 = x_82872 == (int16_t) 2;
    int16_t bool_res_163315 = btoi_bool_i16(bool_arg0_82881);
    bool bool_arg0_82885 = x_82872 == (int16_t) 3;
    int16_t bool_res_163317 = btoi_bool_i16(bool_arg0_82885);
    
    prim_out_182446 = bool_res_163311;
    prim_out_182447 = bool_res_163313;
    prim_out_182448 = bool_res_163315;
    prim_out_182449 = bool_res_163317;
    *out_prim_out_183194 = prim_out_182446;
    *out_prim_out_183195 = prim_out_182447;
    *out_prim_out_183196 = prim_out_182448;
    *out_prim_out_183197 = prim_out_182449;
    
  cleanup:
    { }
    return err;
}
FUTHARK_FUN_ATTR int futrts_lifted_normalizze_9069(struct futhark_context *ctx, int64_t *out_prim_out_183198, int64_t *out_prim_out_183199, int64_t *out_prim_out_183200, int64_t *out_prim_out_183201, int64_t *out_prim_out_183202, int64_t slo_96523, int64_t shi_96524, int64_t tlo_96525, int64_t thi_96526, int64_t count_96527)
{
    (void) ctx;
    
    int err = 0;
    int64_t prim_out_182446;
    int64_t prim_out_182447;
    int64_t prim_out_182448;
    int64_t prim_out_182449;
    int64_t prim_out_182450;
    int64_t min_arg1_96530 = add64(slo_96523, count_96527);
    int64_t min_res_163312 = smin64(shi_96524, min_arg1_96530);
    int64_t min_arg1_96534 = add64(tlo_96525, count_96527);
    int64_t min_res_163315 = smin64(thi_96526, min_arg1_96534);
    int64_t zp_lhs_96538 = sub64(min_res_163312, slo_96523);
    int64_t zp_rhs_96540 = sub64(min_res_163315, tlo_96525);
    int64_t zm_lhs_96542 = add64(zp_lhs_96538, zp_rhs_96540);
    int64_t slack_96544 = sub64(zm_lhs_96542, count_96527);
    int64_t min_res_163318 = smin64(zp_lhs_96538, slack_96544);
    int64_t min_res_163321 = smin64(zp_rhs_96540, min_res_163318);
    int64_t max_arg1_96554 = sub64(min_res_163312, min_res_163321);
    int64_t max_res_163324 = smax64(slo_96523, max_arg1_96554);
    int64_t max_arg1_96558 = sub64(min_res_163315, min_res_163321);
    int64_t max_res_163327 = smax64(tlo_96525, max_arg1_96558);
    int64_t zm_rhs_96562 = sub64(max_res_163324, slo_96523);
    int64_t zm_lhs_96564 = sub64(count_96527, zm_rhs_96562);
    int64_t zm_rhs_96566 = sub64(max_res_163327, tlo_96525);
    int64_t count_96568 = sub64(zm_lhs_96564, zm_rhs_96566);
    
    prim_out_182446 = max_res_163324;
    prim_out_182447 = min_res_163312;
    prim_out_182448 = max_res_163327;
    prim_out_182449 = min_res_163315;
    prim_out_182450 = count_96568;
    *out_prim_out_183198 = prim_out_182446;
    *out_prim_out_183199 = prim_out_182447;
    *out_prim_out_183200 = prim_out_182448;
    *out_prim_out_183201 = prim_out_182449;
    *out_prim_out_183202 = prim_out_182450;
    
  cleanup:
    { }
    return err;
}

int futhark_entry_argmin_double(struct futhark_context *ctx, int64_t *out0, const struct futhark_f64_1d *in0)
{
    int64_t n_110637 = (int64_t) 0;
    int64_t prim_out_182446 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181032;
    
    ks_mem_181032.references = NULL;
    ks_mem_181032 = in0->mem;
    n_110637 = in0->shape[0];
    if (!(n_110637 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_double(ctx, &prim_out_182446, ks_mem_181032, n_110637);
        if (ret == 0) {
            *out0 = prim_out_182446;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_float(struct futhark_context *ctx, int64_t *out0, const struct futhark_f32_1d *in0)
{
    int64_t n_110468 = (int64_t) 0;
    int64_t prim_out_182446 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181032;
    
    ks_mem_181032.references = NULL;
    ks_mem_181032 = in0->mem;
    n_110468 = in0->shape[0];
    if (!(n_110468 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_float(ctx, &prim_out_182446, ks_mem_181032, n_110468);
        if (ret == 0) {
            *out0 = prim_out_182446;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_int(struct futhark_context *ctx, int64_t *out0, const struct futhark_i32_1d *in0)
{
    int64_t n_110133 = (int64_t) 0;
    int64_t prim_out_182446 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181032;
    
    ks_mem_181032.references = NULL;
    ks_mem_181032 = in0->mem;
    n_110133 = in0->shape[0];
    if (!(n_110133 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_int(ctx, &prim_out_182446, ks_mem_181032, n_110133);
        if (ret == 0) {
            *out0 = prim_out_182446;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_long(struct futhark_context *ctx, int64_t *out0, const struct futhark_i64_1d *in0)
{
    int64_t n_110299 = (int64_t) 0;
    int64_t prim_out_182446 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181032;
    
    ks_mem_181032.references = NULL;
    ks_mem_181032 = in0->mem;
    n_110299 = in0->shape[0];
    if (!(n_110299 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_long(ctx, &prim_out_182446, ks_mem_181032, n_110299);
        if (ret == 0) {
            *out0 = prim_out_182446;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_argmin_short(struct futhark_context *ctx, int64_t *out0, const struct futhark_i16_1d *in0)
{
    int64_t n_109967 = (int64_t) 0;
    int64_t prim_out_182446 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock ks_mem_181032;
    
    ks_mem_181032.references = NULL;
    ks_mem_181032 = in0->mem;
    n_109967 = in0->shape[0];
    if (!(n_109967 == in0->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_argmin_short(ctx, &prim_out_182446, ks_mem_181032, n_109967);
        if (ret == 0) {
            *out0 = prim_out_182446;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const struct futhark_f64_1d *in1)
{
    int64_t n_108111 = (int64_t) 0;
    int64_t incr_108112 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_108112 = in0;
    xs_mem_181032 = in1->mem;
    n_108111 = in1->shape[0];
    if (!(n_108111 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_double(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_108111, incr_108112);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_108111;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_108111;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const struct futhark_f32_1d *in1)
{
    int64_t n_105767 = (int64_t) 0;
    int64_t incr_105768 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_105768 = in0;
    xs_mem_181032 = in1->mem;
    n_105767 = in1->shape[0];
    if (!(n_105767 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_float(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_105767, incr_105768);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_105767;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_105767;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const struct futhark_i32_1d *in1)
{
    int64_t n_101080 = (int64_t) 0;
    int64_t incr_101081 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_101081 = in0;
    xs_mem_181032 = in1->mem;
    n_101080 = in1->shape[0];
    if (!(n_101080 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_int(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_101080, incr_101081);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_101080;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_101080;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const struct futhark_i64_1d *in1)
{
    int64_t n_103423 = (int64_t) 0;
    int64_t incr_103424 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_103424 = in0;
    xs_mem_181032 = in1->mem;
    n_103423 = in1->shape[0];
    if (!(n_103423 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_long(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_103423, incr_103424);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_103423;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_103423;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const struct futhark_i16_1d *in1)
{
    int64_t n_98736 = (int64_t) 0;
    int64_t incr_98737 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_98737 = in0;
    xs_mem_181032 = in1->mem;
    n_98736 = in1->shape[0];
    if (!(n_98736 == in1->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSortColumn_short(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_98736, incr_98737);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_98736;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_98736;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_double(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_double **out0, const int64_t in0, const int64_t in1, const struct futhark_f64_1d *in2, const struct futhark_f64_1d *in3, const bool in4)
{
    int64_t na_163276 = (int64_t) 0;
    int64_t nb_163277 = (int64_t) 0;
    int64_t window_sizze_163278 = (int64_t) 0;
    int64_t threads_163279 = (int64_t) 0;
    bool inParallel_163282 = 0;
    int64_t prim_out_182449 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock b_list_mem_181033;
    
    b_list_mem_181033.references = NULL;
    
    struct memblock a_list_mem_181032;
    
    a_list_mem_181032.references = NULL;
    window_sizze_163278 = in0;
    threads_163279 = in1;
    a_list_mem_181032 = in2->mem;
    na_163276 = in2->shape[0];
    b_list_mem_181033 = in3->mem;
    nb_163277 = in3->shape[0];
    inParallel_163282 = in4;
    if (!(na_163276 == in2->shape[0] && nb_163277 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_double(ctx, &mem_out_182446, &mem_out_182447, &mem_out_182448, &prim_out_182449, a_list_mem_181032, b_list_mem_181033, na_163276, nb_163277, window_sizze_163278, threads_163279, inParallel_163282);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_double *) malloc(sizeof(struct futhark_opaque_mergeInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = prim_out_182449;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = prim_out_182449;
            assert(((*out0)->v2 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182448;
            (*out0)->v2->shape[0] = prim_out_182449;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_float(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_float **out0, const int64_t in0, const int64_t in1, const struct futhark_f32_1d *in2, const struct futhark_f32_1d *in3, const bool in4)
{
    int64_t na_152753 = (int64_t) 0;
    int64_t nb_152754 = (int64_t) 0;
    int64_t window_sizze_152755 = (int64_t) 0;
    int64_t threads_152756 = (int64_t) 0;
    bool inParallel_152759 = 0;
    int64_t prim_out_182449 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock b_list_mem_181033;
    
    b_list_mem_181033.references = NULL;
    
    struct memblock a_list_mem_181032;
    
    a_list_mem_181032.references = NULL;
    window_sizze_152755 = in0;
    threads_152756 = in1;
    a_list_mem_181032 = in2->mem;
    na_152753 = in2->shape[0];
    b_list_mem_181033 = in3->mem;
    nb_152754 = in3->shape[0];
    inParallel_152759 = in4;
    if (!(na_152753 == in2->shape[0] && nb_152754 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_float(ctx, &mem_out_182446, &mem_out_182447, &mem_out_182448, &prim_out_182449, a_list_mem_181032, b_list_mem_181033, na_152753, nb_152754, window_sizze_152755, threads_152756, inParallel_152759);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_float *) malloc(sizeof(struct futhark_opaque_mergeInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = prim_out_182449;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = prim_out_182449;
            assert(((*out0)->v2 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182448;
            (*out0)->v2->shape[0] = prim_out_182449;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_int(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_int **out0, const int64_t in0, const int64_t in1, const struct futhark_i32_1d *in2, const struct futhark_i32_1d *in3, const bool in4)
{
    int64_t na_131707 = (int64_t) 0;
    int64_t nb_131708 = (int64_t) 0;
    int64_t window_sizze_131709 = (int64_t) 0;
    int64_t threads_131710 = (int64_t) 0;
    bool inParallel_131713 = 0;
    int64_t prim_out_182449 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock b_list_mem_181033;
    
    b_list_mem_181033.references = NULL;
    
    struct memblock a_list_mem_181032;
    
    a_list_mem_181032.references = NULL;
    window_sizze_131709 = in0;
    threads_131710 = in1;
    a_list_mem_181032 = in2->mem;
    na_131707 = in2->shape[0];
    b_list_mem_181033 = in3->mem;
    nb_131708 = in3->shape[0];
    inParallel_131713 = in4;
    if (!(na_131707 == in2->shape[0] && nb_131708 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_int(ctx, &mem_out_182446, &mem_out_182447, &mem_out_182448, &prim_out_182449, a_list_mem_181032, b_list_mem_181033, na_131707, nb_131708, window_sizze_131709, threads_131710, inParallel_131713);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_int *) malloc(sizeof(struct futhark_opaque_mergeInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = prim_out_182449;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = prim_out_182449;
            assert(((*out0)->v2 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182448;
            (*out0)->v2->shape[0] = prim_out_182449;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_long(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_long **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3, const bool in4)
{
    int64_t na_142230 = (int64_t) 0;
    int64_t nb_142231 = (int64_t) 0;
    int64_t window_sizze_142232 = (int64_t) 0;
    int64_t threads_142233 = (int64_t) 0;
    bool inParallel_142236 = 0;
    int64_t prim_out_182449 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock b_list_mem_181033;
    
    b_list_mem_181033.references = NULL;
    
    struct memblock a_list_mem_181032;
    
    a_list_mem_181032.references = NULL;
    window_sizze_142232 = in0;
    threads_142233 = in1;
    a_list_mem_181032 = in2->mem;
    na_142230 = in2->shape[0];
    b_list_mem_181033 = in3->mem;
    nb_142231 = in3->shape[0];
    inParallel_142236 = in4;
    if (!(na_142230 == in2->shape[0] && nb_142231 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_long(ctx, &mem_out_182446, &mem_out_182447, &mem_out_182448, &prim_out_182449, a_list_mem_181032, b_list_mem_181033, na_142230, nb_142231, window_sizze_142232, threads_142233, inParallel_142236);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_long *) malloc(sizeof(struct futhark_opaque_mergeInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = prim_out_182449;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = prim_out_182449;
            assert(((*out0)->v2 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182448;
            (*out0)->v2->shape[0] = prim_out_182449;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_mergeSorted_short(struct futhark_context *ctx, struct futhark_opaque_mergeInfo_short **out0, const int64_t in0, const int64_t in1, const struct futhark_i16_1d *in2, const struct futhark_i16_1d *in3, const bool in4)
{
    int64_t na_121184 = (int64_t) 0;
    int64_t nb_121185 = (int64_t) 0;
    int64_t window_sizze_121186 = (int64_t) 0;
    int64_t threads_121187 = (int64_t) 0;
    bool inParallel_121190 = 0;
    int64_t prim_out_182449 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182448;
    
    mem_out_182448.references = NULL;
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock b_list_mem_181033;
    
    b_list_mem_181033.references = NULL;
    
    struct memblock a_list_mem_181032;
    
    a_list_mem_181032.references = NULL;
    window_sizze_121186 = in0;
    threads_121187 = in1;
    a_list_mem_181032 = in2->mem;
    na_121184 = in2->shape[0];
    b_list_mem_181033 = in3->mem;
    nb_121185 = in3->shape[0];
    inParallel_121190 = in4;
    if (!(na_121184 == in2->shape[0] && nb_121185 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_mergeSorted_short(ctx, &mem_out_182446, &mem_out_182447, &mem_out_182448, &prim_out_182449, a_list_mem_181032, b_list_mem_181033, na_121184, nb_121185, window_sizze_121186, threads_121187, inParallel_121190);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_mergeInfo_short *) malloc(sizeof(struct futhark_opaque_mergeInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = prim_out_182449;
            assert(((*out0)->v1 = (struct futhark_i8_1d *) malloc(sizeof(struct futhark_i8_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = prim_out_182449;
            assert(((*out0)->v2 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v2->mem = mem_out_182448;
            (*out0)->v2->shape[0] = prim_out_182449;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_double(struct futhark_context *ctx, struct futhark_f64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f64_1d *in3)
{
    int64_t n_109798 = (int64_t) 0;
    int64_t incr_109799 = (int64_t) 0;
    int64_t block_sizze_109800 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock ys_mem_181033;
    
    ys_mem_181033.references = NULL;
    
    struct memblock is_mem_181032;
    
    is_mem_181032.references = NULL;
    incr_109799 = in0;
    block_sizze_109800 = in1;
    is_mem_181032 = in2->mem;
    n_109798 = in2->shape[0];
    ys_mem_181033 = in3->mem;
    n_109798 = in3->shape[0];
    if (!(n_109798 == in2->shape[0] && n_109798 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_double(ctx, &mem_out_182446, is_mem_181032, ys_mem_181033, n_109798, incr_109799, block_sizze_109800);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->mem = mem_out_182446;
            (*out0)->shape[0] = n_109798;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_float(struct futhark_context *ctx, struct futhark_f32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_f32_1d *in3)
{
    int64_t n_109462 = (int64_t) 0;
    int64_t incr_109463 = (int64_t) 0;
    int64_t block_sizze_109464 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock ys_mem_181033;
    
    ys_mem_181033.references = NULL;
    
    struct memblock is_mem_181032;
    
    is_mem_181032.references = NULL;
    incr_109463 = in0;
    block_sizze_109464 = in1;
    is_mem_181032 = in2->mem;
    n_109462 = in2->shape[0];
    ys_mem_181033 = in3->mem;
    n_109462 = in3->shape[0];
    if (!(n_109462 == in2->shape[0] && n_109462 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_float(ctx, &mem_out_182446, is_mem_181032, ys_mem_181033, n_109462, incr_109463, block_sizze_109464);
        if (ret == 0) {
            assert((*out0 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->mem = mem_out_182446;
            (*out0)->shape[0] = n_109462;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_int(struct futhark_context *ctx, struct futhark_i32_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i32_1d *in3)
{
    int64_t n_108793 = (int64_t) 0;
    int64_t incr_108794 = (int64_t) 0;
    int64_t block_sizze_108795 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock ys_mem_181033;
    
    ys_mem_181033.references = NULL;
    
    struct memblock is_mem_181032;
    
    is_mem_181032.references = NULL;
    incr_108794 = in0;
    block_sizze_108795 = in1;
    is_mem_181032 = in2->mem;
    n_108793 = in2->shape[0];
    ys_mem_181033 = in3->mem;
    n_108793 = in3->shape[0];
    if (!(n_108793 == in2->shape[0] && n_108793 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_int(ctx, &mem_out_182446, is_mem_181032, ys_mem_181033, n_108793, incr_108794, block_sizze_108795);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->mem = mem_out_182446;
            (*out0)->shape[0] = n_108793;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_long(struct futhark_context *ctx, struct futhark_i64_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i64_1d *in3)
{
    int64_t n_109126 = (int64_t) 0;
    int64_t incr_109127 = (int64_t) 0;
    int64_t block_sizze_109128 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock ys_mem_181033;
    
    ys_mem_181033.references = NULL;
    
    struct memblock is_mem_181032;
    
    is_mem_181032.references = NULL;
    incr_109127 = in0;
    block_sizze_109128 = in1;
    is_mem_181032 = in2->mem;
    n_109126 = in2->shape[0];
    ys_mem_181033 = in3->mem;
    n_109126 = in3->shape[0];
    if (!(n_109126 == in2->shape[0] && n_109126 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_long(ctx, &mem_out_182446, is_mem_181032, ys_mem_181033, n_109126, incr_109127, block_sizze_109128);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->mem = mem_out_182446;
            (*out0)->shape[0] = n_109126;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_orderByIndices_short(struct futhark_context *ctx, struct futhark_i16_1d **out0, const int64_t in0, const int64_t in1, const struct futhark_i64_1d *in2, const struct futhark_i16_1d *in3)
{
    int64_t n_108457 = (int64_t) 0;
    int64_t incr_108458 = (int64_t) 0;
    int64_t block_sizze_108459 = (int64_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock ys_mem_181033;
    
    ys_mem_181033.references = NULL;
    
    struct memblock is_mem_181032;
    
    is_mem_181032.references = NULL;
    incr_108458 = in0;
    block_sizze_108459 = in1;
    is_mem_181032 = in2->mem;
    n_108457 = in2->shape[0];
    ys_mem_181033 = in3->mem;
    n_108457 = in3->shape[0];
    if (!(n_108457 == in2->shape[0] && n_108457 == in3->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_orderByIndices_short(ctx, &mem_out_182446, is_mem_181032, ys_mem_181033, n_108457, incr_108458, block_sizze_108459);
        if (ret == 0) {
            assert((*out0 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->mem = mem_out_182446;
            (*out0)->shape[0] = n_108457;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_double(struct futhark_context *ctx, struct futhark_opaque_sortInfo_double **out0, const int64_t in0, const int16_t in1, const struct futhark_f64_1d *in2)
{
    int64_t n_96280 = (int64_t) 0;
    int64_t incr_96281 = (int64_t) 0;
    int16_t block_sizze_96282 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_96281 = in0;
    block_sizze_96282 = in1;
    xs_mem_181032 = in2->mem;
    n_96280 = in2->shape[0];
    if (!(n_96280 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_double(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_96280, incr_96281, block_sizze_96282);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_double *) malloc(sizeof(struct futhark_opaque_sortInfo_double))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_96280;
            assert(((*out0)->v1 = (struct futhark_f64_1d *) malloc(sizeof(struct futhark_f64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_96280;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_float(struct futhark_context *ctx, struct futhark_opaque_sortInfo_float **out0, const int64_t in0, const int16_t in1, const struct futhark_f32_1d *in2)
{
    int64_t n_93525 = (int64_t) 0;
    int64_t incr_93526 = (int64_t) 0;
    int16_t block_sizze_93527 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_93526 = in0;
    block_sizze_93527 = in1;
    xs_mem_181032 = in2->mem;
    n_93525 = in2->shape[0];
    if (!(n_93525 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_float(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_93525, incr_93526, block_sizze_93527);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_float *) malloc(sizeof(struct futhark_opaque_sortInfo_float))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_93525;
            assert(((*out0)->v1 = (struct futhark_f32_1d *) malloc(sizeof(struct futhark_f32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_93525;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_int(struct futhark_context *ctx, struct futhark_opaque_sortInfo_int **out0, const int64_t in0, const int16_t in1, const struct futhark_i32_1d *in2)
{
    int64_t n_88174 = (int64_t) 0;
    int64_t incr_88175 = (int64_t) 0;
    int16_t block_sizze_88176 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_88175 = in0;
    block_sizze_88176 = in1;
    xs_mem_181032 = in2->mem;
    n_88174 = in2->shape[0];
    if (!(n_88174 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_int(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_88174, incr_88175, block_sizze_88176);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_int *) malloc(sizeof(struct futhark_opaque_sortInfo_int))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_88174;
            assert(((*out0)->v1 = (struct futhark_i32_1d *) malloc(sizeof(struct futhark_i32_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_88174;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_long(struct futhark_context *ctx, struct futhark_opaque_sortInfo_long **out0, const int64_t in0, const int16_t in1, const struct futhark_i64_1d *in2)
{
    int64_t n_90774 = (int64_t) 0;
    int64_t incr_90775 = (int64_t) 0;
    int16_t block_sizze_90776 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_90775 = in0;
    block_sizze_90776 = in1;
    xs_mem_181032 = in2->mem;
    n_90774 = in2->shape[0];
    if (!(n_90774 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_long(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_90774, incr_90775, block_sizze_90776);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_long *) malloc(sizeof(struct futhark_opaque_sortInfo_long))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_90774;
            assert(((*out0)->v1 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_90774;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_radixSortColumn_short(struct futhark_context *ctx, struct futhark_opaque_sortInfo_short **out0, const int64_t in0, const int16_t in1, const struct futhark_i16_1d *in2)
{
    int64_t n_85557 = (int64_t) 0;
    int64_t incr_85558 = (int64_t) 0;
    int16_t block_sizze_85559 = (int16_t) 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    
    struct memblock mem_out_182447;
    
    mem_out_182447.references = NULL;
    
    struct memblock mem_out_182446;
    
    mem_out_182446.references = NULL;
    
    struct memblock xs_mem_181032;
    
    xs_mem_181032.references = NULL;
    incr_85558 = in0;
    block_sizze_85559 = in1;
    xs_mem_181032 = in2->mem;
    n_85557 = in2->shape[0];
    if (!(n_85557 == in2->shape[0])) {
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
        ret = futrts_entry_radixSortColumn_short(ctx, &mem_out_182446, &mem_out_182447, xs_mem_181032, n_85557, incr_85558, block_sizze_85559);
        if (ret == 0) {
            assert((*out0 = (struct futhark_opaque_sortInfo_short *) malloc(sizeof(struct futhark_opaque_sortInfo_short))) != NULL);
            assert(((*out0)->v0 = (struct futhark_i64_1d *) malloc(sizeof(struct futhark_i64_1d))) != NULL);
            (*out0)->v0->mem = mem_out_182446;
            (*out0)->v0->shape[0] = n_85557;
            assert(((*out0)->v1 = (struct futhark_i16_1d *) malloc(sizeof(struct futhark_i16_1d))) != NULL);
            (*out0)->v1->mem = mem_out_182447;
            (*out0)->v1->shape[0] = n_85557;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
